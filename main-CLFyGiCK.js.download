const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/agent-session.js-DIDMNbzM.js","chunks/chunk--QM2LZfv.js","chunks/chunk-BPB3WYz4.js","chunks/chunk-CMjeC7eR.js","chunks/chunk-vO_5M3iW.js","assets/monaco-editor-BetWCQm5.css","chunks/chunk-JLrZeVHh.js","chunks/chunk-Cszvwt2r.js","chunks/chunk-DVijDBuK.js","chunks/chunk-DHmc-0SL.js","chunks/chunk-CXnPTvSO.js","chunks/chunk-CgwgwzaB.js","chunks/chunk-DD0HJyST.js","chunks/index.js-uRvsDjdH.js","chunks/chunk-BJJZNqVX.js","chunks/chunk-CR4qmJ2J.js","chunks/chunk-BgR8PwOr.js","chunks/chunk-DHWgvgi2.js","chunks/chunk-CMGO2M1K.js","chunks/chunk-eGeoT8Mx.js","chunks/index.js-fab3mxw3.js","chunks/chunk-GWdzacEp.js","chunks/chunk-Bb7irpQQ.js","chunks/index.js-BUenxHN1.js","chunks/chunk-PalxAwQ_.js","chunks/index.js-C1MFkSk4.js","chunks/index.js-usS7YdSB.js","chunks/chunk-BVQCr-HH.js","chunks/index.js-CVxfZDyb.js","chunks/index.js-DlwhB-W-.js","chunks/index.js-CQSBWOSa.js","chunks/chunk-nZVinlPU.js","chunks/recorder.js-BgG1KEDm.js","chunks/index.js-D1K4XXQ2.js","chunks/index.js-W614fmE2.js","chunks/index.js-D8Qw3-X-.js","chunks/Slider.tsx-CUKxX6vB.js","chunks/index.tsx-DzOEERo9.js","chunks/AddMemberModal.tsx-DK8Zyri1.js","chunks/chunk-BiEjrY9D.js","chunks/chunk-BB4PGev3.js","chunks/chunk-Y2J6erqm.js","chunks/TeamWorkspaceModal.tsx-BhdbyAZT.js","chunks/chunk-BrM-z_2F.js","chunks/OneMillionModal.tsx-C9JoazHd.js","chunks/JobIDModal.tsx-CxeQhpb7.js","chunks/ReferralModal.tsx-BwFWiNpn.js","chunks/chunk-BnG_LUpM.js","chunks/TeamIntroduction.tsx-CGPiphD1.js","chunks/DataDetailsModal.tsx-CNpt-By6.js","chunks/UltraThinkingModal.tsx-DwQyXAS1.js","chunks/NewMCPServerModal.tsx-DBfXiTvd.js","assets/NewMCPServerModal-CgE8EJLd.css","chunks/MCPToolsModal.tsx-CV8zeZgT.js","chunks/MCPIntroductionModal.tsx-COIbzvse.js","chunks/BroModeIntroductionModal.tsx-MHvKlPUZ.js","chunks/DailyCreditModal.tsx-CbDduiXg.js","chunks/ShareModal.tsx-B_g28rUA.js","chunks/chunk-CkqnCmf-.js","chunks/FundingIntroduction.tsx-DFiuLQH8.js","chunks/chunk-wT6PzpSA.js","chunks/ProModal.tsx-D9yyy_I4.js","chunks/LockinPriceModal.tsx-CdJvdQml.js","chunks/TestModeModal.tsx-T9PWKrz6.js","chunks/AllWorkspacesModal.tsx-zuzL3JeD.js","chunks/BetaThankYouModal.tsx-FCz_c6OY.js","chunks/PromotionalModalManager.tsx-CWjtJsyW.js","chunks/FreeWeekendModal.tsx-CohXkI5E.js","chunks/DeploymentSuccessModal.tsx-CuXLJGSD.js","chunks/OpusIntroduction.tsx-B_0fvfW_.js","chunks/GiftingModal.tsx-BTTl_Jhg.js","chunks/DnsDetailsModal.tsx-BEB4QCKc.js","chunks/RepositorySelectorModal.tsx-B8lLE_HL.js","chunks/PublishMoltbotModal.tsx-Bj-zbanZ.js","chunks/MoltbotPublishedModal.tsx-BL8EbPSb.js","chunks/chunk-CHHHtuWd.js","chunks/LandingIndex.tsx-Cmi0e3tj.js","chunks/chunk-Cjh80Xut.js","chunks/authentication.tsx-CACObpCX.js","chunks/email-verfication.tsx-EqYbDNKE.js","chunks/passwordReset.tsx-FcYfl2JH.js","chunks/privacy-policy.tsx-0r75KglF.js","chunks/terms-and-service.tsx-CnK90tM2.js","chunks/oauth.tsx-CuEEfCd-.js","chunks/PreviewLoading.tsx-DQAQgVNd.js","chunks/PreviewNotFound.tsx-Ch_zgsib.js","chunks/GitHubCallback.tsx-DCScHy-1.js","chunks/MobileGitHubCallback.tsx-B1Ai1-ji.js","chunks/PartnersTerms.tsx-CvUCcjQO.js","chunks/share-app.tsx-Bd__Pe5l.js","chunks/chunk-MpeHTGfH.js","chunks/share-preview.tsx-DmBAu_3E.js","chunks/mobile-app-redirect.tsx-_90cM-KC.js","chunks/mobile-app-download.tsx-DAc3nq1i.js"])))=>i.map(i=>d[i]);
var qH=Object.defineProperty;var Rw=e=>{throw TypeError(e)};var KH=(e,n,s)=>n in e?qH(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var $t=(e,n,s)=>KH(e,typeof n!="symbol"?n+"":n,s),x5=(e,n,s)=>n.has(e)||Rw("Cannot "+s);var g5=(e,n,s)=>(x5(e,n,"read from private field"),s?s.call(e):n.get(e)),Oc=(e,n,s)=>n.has(e)?Rw("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,s),Pw=(e,n,s,r)=>(x5(e,n,"write to private field"),r?r.call(e,s):n.set(e,s),s),Cr=(e,n,s)=>(x5(e,n,"access private method"),s);import{j as t,T as cv,a as Dg,O as Fp,P as Bm,C as Ep,b as Mg,D as dv,R as Lg,c as sT,I as YH,S as rT,d as iT,e as ZH,f as aT,V as JH,L as oT,g as lT,h as XH,i as QH,k as cT,l as e$,m as t$,n as n$,o as dT,p as s$,q as uT,r as pT,t as r$,u as fT,v as mT,w as hT,x as xT,y as gT,z as bT,A as yT,B as i$,E as a$,F as gi,G as bi,H as Ho,J as oi,K as Pa,M as Wu,N as uv,Q as vT,U as wT,W as pv,X as fv,Y as mv,Z as hv,s as o$,_ as l$,$ as xv,a0 as c$,a1 as d$,a2 as u$,a3 as CT,a4 as p$,a5 as f$,a6 as _T,a7 as m$,a8 as jT,a9 as NT,aa as FT,ab as h$,ac as x$,ad as ET,ae as ST,af as kT,ag as g$,ah as b$,ai as y$,aj as TT,ak as IT,al as AT,am as DT,an as v$,ao as w$,ap as C$,aq as _$,ar as j$,as as N$,at as MT,au as LT}from"./chunks/chunk-BPB3WYz4.js";import{j as F$,e as Ji,a as d,u as Na,h as wi,d as tt,b as Gu,i as Sp,R as E$,L as Ow,c as R0,k as S$,l as Kr,N as k$,B as T$}from"./chunks/chunk-CMjeC7eR.js";import{_ as bn,w as px,F as fx}from"./chunks/chunk-vO_5M3iW.js";import{c as I$}from"./chunks/chunk-JLrZeVHh.js";import{i as Vf,w as Bw,n as RT,f as PT,e as A$,c as kp,b as gv,p as bv,d as fc,g as sa,h as r1,j as mx,k as yv,l as Ad,m as Uw,o as OT,S as BT,q as b5,r as vv,s as UT,t as D$,v as VT,x as M$,y as Vw,z as L$,A as R$,B as P$,C as O$,a as Vr,u as Xi,D as ec,E as B$,F as Hw,G as U$,R as V$,P as H$,H as $$,I as z$,J as W$,K as G$,L as q$}from"./chunks/chunk-Cszvwt2r.js";import{a as K$,r as Y$,v as Z$}from"./chunks/chunk-DVijDBuK.js";import{u as Jt,T as $w,i as xf,B as J$,a as X$}from"./chunks/chunk-DHmc-0SL.js";import{m as xe,A as ns,L as Q$,d as ez}from"./chunks/chunk-CXnPTvSO.js";import{q as tz}from"./chunks/chunk-CgwgwzaB.js";import{M as HT,r as $T}from"./chunks/chunk-DD0HJyST.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Lh={},zw;function nz(){if(zw)return Lh;zw=1;var e=F$();return Lh.createRoot=e.createRoot,Lh.hydrateRoot=e.hydrateRoot,Lh}var sz=nz();const rz=Ji(sz),iz={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.emergent.sh",VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",VITE_APP_BLITZ_API_KEY:"key_BW17ja9hEvA2Mym",VITE_APP_CDN_URL:"preview.static.emergentagent.com",VITE_APP_PUBLIC_POSTHOG_HOST:"https://ap.emergent.sh",VITE_APP_PUBLIC_POSTHOG_KEY:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",VITE_APP_PUSHER_CLUSTER:"us2",VITE_APP_PUSHER_KEY:"6c79f46bf9937b9d82df",VITE_APP_UPLOAD_URL:"https://files.emergent.sh",VITE_APP_VERSION:"1.0.303",VITE_CLOUDINARY_CLOUD_NAME:"dedwy4r6x",VITE_GITHUB_APP_URL:"https://github.com/apps/emergent-sh/installations/new",VITE_GITHUB_CLIENT_ID:"Iv23liv4X4UqMyubvvul",VITE_GOOGLE_CLIENT_ID:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",VITE_NEWRELIC_ACCOUNT_ID:"7256303",VITE_NEWRELIC_AGENT_ID:"1589150949",VITE_NEWRELIC_APPLICATION_ID:"1589150949",VITE_NEWRELIC_LICENSE_KEY:"NRBR-5532f07fcd7ef7d45ce",VITE_NEWRELIC_TRUST_KEY:"7256303",VITE_PADDLE_CLIENT_TOKEN:"live_b30093d99d7846644b2e678861f",VITE_PREVIEW_QR_API_URL:"https://qr.emergent.host",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",VITE_SUPABASE_URL:"https://snksxwkyumhdykyrhhch.supabase.co"};function az(){const n=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_API_BASE_URL","VITE_GITHUB_APP_URL","VITE_GITHUB_CLIENT_ID","VITE_API_BASE_URL_APP_PUBLIC_POSTHOG_KEY","VITE_APP_PUBLIC_POSTHOG_HOST","VITE_APP_UPLOAD_URL","VITE_CLOUDINARY_CLOUD_NAME"].filter(s=>!iz[s]);if(n.length>0)throw new Error(`Missing required environment variables: ${n.join(", ")}`)}az();const wa={supabaseUrl:"https://snksxwkyumhdykyrhhch.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNua3N4d2t5dW1oZHlreXJoaGNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjQ3NzI2NDYsImV4cCI6MjA0MDM0ODY0Nn0.3unO6zdz2NilPL2xdxt7OjvZA19copj3Q7ulIjPVDLQ",googleClientId:"201274743812-rbtii4pvbnhsfh5f0tg26qo31hcrfmg5.apps.googleusercontent.com",githubToken:void 0,_pluginLibraryVersion:"1.0.6-beta",_apiBaseUrl:"https://api.emergent.sh",_blitzApiKey:"key_BW17ja9hEvA2Mym",_file_upload_url:"https://files.emergent.sh",_cdn_url:"preview.static.emergentagent.com",get apiBaseUrl(){return this._apiBaseUrl},set apiBaseUrl(e){this._apiBaseUrl=e,localStorage.setItem("apiBaseUrl",e)},get blitzApiKey(){return this._blitzApiKey},get cdnUrl(){return this._cdn_url}},Hf={appUrl:"https://github.com/apps/emergent-sh/installations/new",mobileAppUrl:void 0,clientId:"Iv23liv4X4UqMyubvvul",getCallbackUrl:()=>`${window.location.origin}/github-callback`,getMobileCallbackUrl:()=>`${window.location.origin}/mobile-github-callback`},zT={apiKey:"phc_xAvL2Iq4tFmANRE7kzbKwaSqp1HJjN7x48s3vr0CMjs",apiHost:"https://ap.emergent.sh"},_Ne={enableProductHuntChanges:!1},oz={pixelId:void 0},y5={clientToken:"live_b30093d99d7846644b2e678861f",environment:"live_b30093d99d7846644b2e678861f".startsWith("test_")?"sandbox":"production"},Xr=I$(wa.supabaseUrl,wa.supabaseAnonKey),lz=Object.freeze(Object.defineProperty({__proto__:null,supabase:Xr},Symbol.toStringTag,{value:"Module"})),cz=5,WT=5e3;let v5=0;function dz(){return v5=(v5+1)%Number.MAX_SAFE_INTEGER,v5.toString()}const w5=new Map,Ww=e=>{if(w5.has(e))return;const n=setTimeout(()=>{w5.delete(e),gf({type:"REMOVE_TOAST",toastId:e})},WT);w5.set(e,n)},uz=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,cz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===n.toast.id?{...s,...n.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=n;return s?Ww(s):e.toasts.forEach(r=>{Ww(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==n.toastId)}}},P0=[];let O0={toasts:[]};function gf(e){O0=uz(O0,e),P0.forEach(n=>{n(O0)})}function $s({...e}){const n=dz(),s=e.duration||WT,r=a=>gf({type:"UPDATE_TOAST",toast:{...a,id:n}}),i=()=>gf({type:"DISMISS_TOAST",toastId:n});return gf({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:a=>{a||i()}}}),s!==1/0&&setTimeout(i,s),{id:n,dismiss:i,update:r}}function ds(){const[e,n]=d.useState(O0);return d.useEffect(()=>(P0.push(n),()=>{const s=P0.indexOf(n);s>-1&&P0.splice(s,1)}),[e]),{...e,toast:$s,dismiss:s=>gf({type:"DISMISS_TOAST",toastId:s})}}var nt=typeof window<"u"?window:void 0,ba=typeof globalThis<"u"?globalThis:nt,GT=Array.prototype,Gw=GT.forEach,qw=GT.indexOf,Oa=ba?.navigator,on=ba?.document,fa=ba?.location,Vb=ba?.fetch,Hb=ba!=null&&ba.XMLHttpRequest&&"withCredentials"in new ba.XMLHttpRequest?ba.XMLHttpRequest:void 0,Kw=ba?.AbortController,pa=Oa?.userAgent,hs=nt??{},ul={DEBUG:!1,LIB_VERSION:"1.298.0"};function Yw(e,n,s,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void s(u)}l.done?n(c):Promise.resolve(c).then(r,i)}function Zw(e){return function(){var n=this,s=arguments;return new Promise((function(r,i){var a=e.apply(n,s);function o(c){Yw(a,r,i,o,l,"next",c)}function l(c){Yw(a,r,i,o,l,"throw",c)}o(void 0)}))}}function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},vn.apply(null,arguments)}function qT(e,n){if(e==null)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;s[r]=e[r]}return s}var pz=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Jw=function(e,n){if(n===void 0&&(n=[]),!e)return!1;var s=e.toLowerCase();return pz.concat(n).some((r=>{var i=r.toLowerCase();return s.indexOf(i)!==-1}))},fz=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function Ls(e,n){return e.indexOf(n)!==-1}var Rg=function(e){return e.trim()},$b=function(e){return e.replace(/^\$/,"")},mz=Array.isArray,KT=Object.prototype,YT=KT.hasOwnProperty,Pg=KT.toString,Fr=mz||function(e){return Pg.call(e)==="[object Array]"},tc=e=>typeof e=="function",Mi=e=>e===Object(e)&&!Fr(e),Iu=e=>{if(Mi(e)){for(var n in e)if(YT.call(e,n))return!1;return!0}return!1},sn=e=>e===void 0,yi=e=>Pg.call(e)=="[object String]",zb=e=>yi(e)&&e.trim().length===0,kl=e=>e===null,Ir=e=>sn(e)||kl(e),Zo=e=>Pg.call(e)=="[object Number]",nc=e=>Pg.call(e)==="[object Boolean]",hz=e=>e instanceof FormData,xz=e=>Ls(fz,e);function Wb(e){return e===null||typeof e!="object"}function hx(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function ZT(e){return!sn(Event)&&(function(n,s){try{return n instanceof s}catch{return!1}})(e,Event)}var gz=[!0,"true",1,"1","yes"],C5=e=>Ls(gz,e),bz=[!1,"false",0,"0","no"];function Po(e,n,s,r,i){return n>s&&(r.warn("min cannot be greater than max."),n=s),Zo(e)?e>s?(r.warn(" cannot be  greater than max: "+s+". Using max value instead."),s):e<n?(r.warn(" cannot be less than min: "+n+". Using min value instead."),n):e:(r.warn(" must be a number. using max or fallback. max: "+s+", fallback: "+i),Po(i||s,n,s,r))}class yz{constructor(n){this.t={},this.i=n.i,this.o=Po(n.bucketSize,0,100,n.h),this.m=Po(n.refillRate,0,this.o,n.h),this.$=Po(n.refillInterval,0,864e5,n.h)}S(n,s){var r=s-n.lastAccess,i=Math.floor(r/this.$);if(i>0){var a=i*this.m;n.tokens=Math.min(n.tokens+a,this.o),n.lastAccess=n.lastAccess+i*this.$}}consumeRateLimit(n){var s,r=Date.now(),i=String(n),a=this.t[i];return a?this.S(a,r):(a={tokens:this.o,lastAccess:r},this.t[i]=a),a.tokens===0||(a.tokens--,a.tokens===0&&((s=this.i)==null||s.call(this,n)),a.tokens===0)}stop(){this.t={}}}var Rh,Xw,_5,vz=e=>e instanceof Error;function wz(e){var n=globalThis._posthogChunkIds;if(n){var s=Object.keys(n);return _5&&s.length===Xw||(Xw=s.length,_5=s.reduce(((r,i)=>{Rh||(Rh={});var a=Rh[i];if(a)r[a[0]]=a[1];else for(var o=e(i),l=o.length-1;l>=0;l--){var c=o[l],u=c?.filename,p=n[i];if(u&&p){r[u]=p,Rh[i]=[u,p];break}}return r}),{})),_5}}class Cz{constructor(n,s,r){r===void 0&&(r=[]),this.coercers=n,this.stackParser=s,this.modifiers=r}buildFromUnknown(n,s){s===void 0&&(s={});var r=s&&s.mechanism||{handled:!0,type:"generic"},i=this.buildCoercingContext(r,s,0).apply(n),a=this.buildParsingContext(),o=this.parseStacktrace(i,a);return{$exception_list:this.convertToExceptionList(o,r),$exception_level:"error"}}modifyFrames(n){var s=this;return Zw((function*(){for(var r of n)r.stacktrace&&r.stacktrace.frames&&Fr(r.stacktrace.frames)&&(r.stacktrace.frames=yield s.applyModifiers(r.stacktrace.frames));return n}))()}coerceFallback(n){var s;return{type:"Error",value:"Unknown error",stack:(s=n.syntheticException)==null?void 0:s.stack,synthetic:!0}}parseStacktrace(n,s){var r,i;return n.cause!=null&&(r=this.parseStacktrace(n.cause,s)),n.stack!=""&&n.stack!=null&&(i=this.applyChunkIds(this.stackParser(n.stack,n.synthetic?1:0),s.chunkIdMap)),vn({},n,{cause:r,stack:i})}applyChunkIds(n,s){return n.map((r=>(r.filename&&s&&(r.chunk_id=s[r.filename]),r)))}applyCoercers(n,s){for(var r of this.coercers)if(r.match(n))return r.coerce(n,s);return this.coerceFallback(s)}applyModifiers(n){var s=this;return Zw((function*(){var r=n;for(var i of s.modifiers)r=yield i(r);return r}))()}convertToExceptionList(n,s){var r,i,a,o={type:n.type,value:n.value,mechanism:{type:(r=s.type)!==null&&r!==void 0?r:"generic",handled:(i=s.handled)===null||i===void 0||i,synthetic:(a=n.synthetic)!==null&&a!==void 0&&a}};n.stack&&(o.stacktrace={type:"raw",frames:n.stack});var l=[o];return n.cause!=null&&l.push(...this.convertToExceptionList(n.cause,vn({},s,{handled:!0}))),l}buildParsingContext(){return{chunkIdMap:wz(this.stackParser)}}buildCoercingContext(n,s,r){r===void 0&&(r=0);var i=(a,o)=>{if(o<=4){var l=this.buildCoercingContext(n,s,o);return this.applyCoercers(a,l)}};return vn({},s,{syntheticException:r==0?s.syntheticException:void 0,mechanism:n,apply:a=>i(a,r),next:a=>i(a,r+1)})}}var ap="?";function Gb(e,n,s,r,i){var a={platform:e,filename:n,function:s==="<anonymous>"?ap:s,in_app:!0};return sn(r)||(a.lineno=r),sn(i)||(a.colno=i),a}var JT=(e,n)=>{var s=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return s||r?[e.indexOf("@")!==-1?e.split("@")[0]:ap,s?"safari-extension:"+n:"safari-web-extension:"+n]:[e,n]},_z=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,jz=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Nz=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fz=(e,n)=>{var s=_z.exec(e);if(s){var[,r,i,a]=s;return Gb(n,r,ap,+i,+a)}var o=jz.exec(e);if(o){if(o[2]&&o[2].indexOf("eval")===0){var l=Nz.exec(o[2]);l&&(o[2]=l[1],o[3]=l[2],o[4]=l[3])}var[c,u]=JT(o[1]||ap,o[2]);return Gb(n,u,c,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},Ez=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Sz=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,kz=(e,n)=>{var s=Ez.exec(e);if(s){if(s[3]&&s[3].indexOf(" > eval")>-1){var r=Sz.exec(s[3]);r&&(s[1]=s[1]||"eval",s[3]=r[1],s[4]=r[2],s[5]="")}var i=s[3],a=s[1]||ap;return[a,i]=JT(a,i),Gb(n,i,a,s[4]?+s[4]:void 0,s[5]?+s[5]:void 0)}},Qw=/\(error: (.*)\)/,e7=50;function Tz(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return function(i,a){a===void 0&&(a=0);for(var o=[],l=i.split(`
`),c=a;c<l.length;c++){var u=l[c];if(!(u.length>1024)){var p=Qw.test(u)?u.replace(Qw,"$1"):u;if(!p.match(/\S*Error: /)){for(var f of s){var m=f(p,e);if(m){o.push(m);break}}if(o.length>=e7)break}}}return(function(h){if(!h.length)return[];var x=Array.from(h);return x.reverse(),x.slice(0,e7).map((y=>{return vn({},y,{filename:y.filename||(v=x,v[v.length-1]||{}).filename,function:y.function||ap});var v}))})(o)}}class Iz{match(n){return this.isDOMException(n)||this.isDOMError(n)}coerce(n,s){var r=yi(n.stack);return{type:this.getType(n),value:this.getValue(n),stack:r?n.stack:void 0,cause:n.cause?s.next(n.cause):void 0,synthetic:!1}}getType(n){return this.isDOMError(n)?"DOMError":"DOMException"}getValue(n){var s=n.name||(this.isDOMError(n)?"DOMError":"DOMException");return n.message?s+": "+n.message:s}isDOMException(n){return hx(n,"DOMException")}isDOMError(n){return hx(n,"DOMError")}}class Az{match(n){return(s=>s instanceof Error)(n)}coerce(n,s){return{type:this.getType(n),value:this.getMessage(n,s),stack:this.getStack(n),cause:n.cause?s.next(n.cause):void 0,synthetic:!1}}getType(n){return n.name||n.constructor.name}getMessage(n,s){var r=n.message;return r.error&&typeof r.error.message=="string"?String(r.error.message):String(r)}getStack(n){return n.stacktrace||n.stack||void 0}}class Dz{constructor(){}match(n){return hx(n,"ErrorEvent")&&n.error!=null}coerce(n,s){var r,i=s.apply(n.error);return i||{type:"ErrorEvent",value:n.message,stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}var Mz=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class Lz{match(n){return typeof n=="string"}coerce(n,s){var r,[i,a]=this.getInfos(n);return{type:i??"Error",value:a??n,stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}getInfos(n){var s="Error",r=n,i=n.match(Mz);return i&&(s=i[1],r=i[2]),[s,r]}}var Rz=["fatal","error","warning","log","info","debug"];function XT(e,n){n===void 0&&(n=40);var s=Object.keys(e);if(s.sort(),!s.length)return"[object has no keys]";for(var r=s.length;r>0;r--){var i=s.slice(0,r).join(", ");if(!(i.length>n))return r===s.length||i.length<=n?i:i.slice(0,n)+"..."}return""}class Pz{match(n){return typeof n=="object"&&n!==null}coerce(n,s){var r,i=this.getErrorPropertyFromObject(n);return i?s.apply(i):{type:this.getType(n),value:this.getValue(n),stack:(r=s.syntheticException)==null?void 0:r.stack,level:this.isSeverityLevel(n.level)?n.level:"error",synthetic:!0}}getType(n){return ZT(n)?n.constructor.name:"Error"}getValue(n){if("name"in n&&typeof n.name=="string"){var s="'"+n.name+"' captured as exception";return"message"in n&&typeof n.message=="string"&&(s+=" with message: '"+n.message+"'"),s}if("message"in n&&typeof n.message=="string")return n.message;var r=this.getObjectClassName(n);return(r&&r!=="Object"?"'"+r+"'":"Object")+" captured as exception with keys: "+XT(n)}isSeverityLevel(n){return yi(n)&&!zb(n)&&Rz.indexOf(n)>=0}getErrorPropertyFromObject(n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var r=n[s];if(vz(r))return r}}getObjectClassName(n){try{var s=Object.getPrototypeOf(n);return s?s.constructor.name:void 0}catch{return}}}class Oz{match(n){return ZT(n)}coerce(n,s){var r,i=n.constructor.name;return{type:i,value:i+" captured as exception with keys: "+XT(n),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class Bz{match(n){return Wb(n)}coerce(n,s){var r;return{type:"Error",value:"Primitive value captured as exception: "+String(n),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}}}class Uz{match(n){return hx(n,"PromiseRejectionEvent")}coerce(n,s){var r,i=this.getUnhandledRejectionReason(n);return Wb(i)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i),stack:(r=s.syntheticException)==null?void 0:r.stack,synthetic:!0}:s.apply(i)}getUnhandledRejectionReason(n){if(Wb(n))return n;try{if("reason"in n)return n.reason;if("detail"in n&&"reason"in n.detail)return n.detail.reason}catch{}return n}}var QT=function(e,n){var{debugEnabled:s}=n===void 0?{}:n,r={k:function(i){if(nt&&(ul.DEBUG||hs.POSTHOG_DEBUG||s)&&!sn(nt.console)&&nt.console){for(var a=("__rrweb_original__"in nt.console[i])?nt.console[i].__rrweb_original__:nt.console[i],o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];a(e,...l)}},info:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("log",...a)},warn:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("warn",...a)},error:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r.k("error",...a)},critical:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o]},uninitializedWarning:i=>{r.error("You must initialize PostHog before calling "+i)},createLogger:(i,a)=>QT(e+" "+i,a)};return r},un=QT("[PostHog.js]"),Ci=un.createLogger,Vz=Ci("[ExternalScriptsLoader]"),t7=(e,n,s)=>{if(e.config.disable_external_dependency_loading)return Vz.warn(n+" was requested but loading of external scripts is disabled."),s("Loading of external scripts is disabled");var r=on?.querySelectorAll("script");if(r){for(var i,a=function(){if(r[o].src===n){var c=r[o];return c.__posthog_loading_callback_fired?{v:s()}:(c.addEventListener("load",(u=>{c.__posthog_loading_callback_fired=!0,s(void 0,u)})),c.onerror=u=>s(u),{v:void 0})}},o=0;o<r.length;o++)if(i=a())return i.v}var l=()=>{if(!on)return s("document not found");var c=on.createElement("script");if(c.type="text/javascript",c.crossOrigin="anonymous",c.src=n,c.onload=f=>{c.__posthog_loading_callback_fired=!0,s(void 0,f)},c.onerror=f=>s(f),e.config.prepare_external_dependency_script&&(c=e.config.prepare_external_dependency_script(c)),!c)return s("prepare_external_dependency_script returned null");var u,p=on.querySelectorAll("body > script");p.length>0?(u=p[0].parentNode)==null||u.insertBefore(c,p[0]):on.body.appendChild(c)};on!=null&&on.body?l():on?.addEventListener("DOMContentLoaded",l)};hs.__PosthogExtensions__=hs.__PosthogExtensions__||{},hs.__PosthogExtensions__.loadExternalDependency=(e,n,s)=>{var r="/static/"+n+".js?v="+e.version;if(n==="remote-config"&&(r="/array/"+e.config.token+"/config.js"),n==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var a=e.requestRouter.endpointFor("assets",r);t7(e,a,s)},hs.__PosthogExtensions__.loadSiteApp=(e,n,s)=>{var r=e.requestRouter.endpointFor("api",n);t7(e,r,s)};var xx={};function sc(e,n,s){if(Fr(e)){if(Gw&&e.forEach===Gw)e.forEach(n,s);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&n.call(s,e[r],r)===xx)return}}}function Nr(e,n,s){if(!Ir(e)){if(Fr(e))return sc(e,n,s);if(hz(e)){for(var r of e.entries())if(n.call(s,r[1],r[0])===xx)return}else for(var i in e)if(YT.call(e,i)&&n.call(s,e[i],i)===xx)return}}var Qr=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return sc(s,(function(i){for(var a in i)i[a]!==void 0&&(e[a]=i[a])})),e},Tp=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return sc(s,(function(i){sc(i,(function(a){e.push(a)}))})),e};function B0(e){for(var n=Object.keys(e),s=n.length,r=new Array(s);s--;)r[s]=[n[s],e[n[s]]];return r}var n7=function(e){try{return e()}catch{return}},Hz=function(e){return function(){try{for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e.apply(this,s)}catch(i){un.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),un.critical(i)}}},wv=function(e){var n={};return Nr(e,(function(s,r){(yi(s)&&s.length>0||Zo(s))&&(n[r]=s)})),n};function $z(e,n){return s=e,r=a=>yi(a)&&!kl(n)?a.slice(0,n):a,i=new Set,(function a(o,l){return o!==Object(o)?r?r(o,l):o:i.has(o)?void 0:(i.add(o),Fr(o)?(c=[],sc(o,(u=>{c.push(a(u))}))):(c={},Nr(o,((u,p)=>{i.has(u)||(c[p]=a(u,p))}))),c);var c})(s);var s,r,i}var zz=["herokuapp.com","vercel.app","netlify.app"];function Wz(e){var n=e?.hostname;if(!yi(n))return!1;var s=n.split(".").slice(-2).join(".");for(var r of zz)if(s===r)return!1;return!0}function eI(e,n){for(var s=0;s<e.length;s++)if(n(e[s]))return e[s]}function li(e,n,s,r){var{capture:i=!1,passive:a=!0}=r??{};e?.addEventListener(n,s,{capture:i,passive:a})}var tI="$people_distinct_id",K1="__alias",Y1="__timers",s7="$autocapture_disabled_server_side",qb="$heatmaps_enabled_server_side",r7="$exception_capture_enabled_server_side",Kb="$error_tracking_suppression_rules",i7="$error_tracking_capture_extension_exceptions",a7="$web_vitals_enabled_server_side",nI="$dead_clicks_enabled_server_side",o7="$web_vitals_allowed_metrics",j5="$session_recording_remote_config",gx="$sesid",sI="$session_is_sampled",Au="$enabled_feature_flags",Z1="$early_access_features",Yb="$feature_flag_details",J1="$stored_person_properties",rd="$stored_group_properties",Zb="$surveys",Ph="$surveys_activated",bx="$flag_call_reported",pl="$user_state",Jb="$client_session_props",Xb="$capture_rate_limit",Qb="$initial_campaign_params",e6="$initial_referrer_info",yx="$initial_person_info",vx="$epp",rI="__POSTHOG_TOOLBAR__",i1="$posthog_cookieless",Gz=[tI,K1,"__cmpns",Y1,"$session_recording_enabled_server_side",qb,gx,Au,Kb,pl,Z1,Yb,rd,J1,Zb,bx,Jb,Xb,Qb,e6,vx,yx];function l7(e){return e instanceof Element&&(e.id===rI||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Og(e){return!!e&&e.nodeType===1}function rc(e,n){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===n.toLowerCase()}function iI(e){return!!e&&e.nodeType===3}function aI(e){return!!e&&e.nodeType===11}function Cv(e){return e?Rg(e).split(/\s+/):[]}function c7(e){var n=nt?.location.href;return!!(n&&e&&e.some((s=>n.match(s))))}function wx(e){var n="";switch(typeof e.className){case"string":n=e.className;break;case"object":n=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:n=""}return Cv(n)}function oI(e){return Ir(e)?null:Rg(e).split(/(\s+)/).filter((n=>$f(n))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Um(e){var n="";return t6(e)&&!pI(e)&&e.childNodes&&e.childNodes.length&&Nr(e.childNodes,(function(s){var r;iI(s)&&s.textContent&&(n+=(r=oI(s.textContent))!==null&&r!==void 0?r:"")})),Rg(n)}function lI(e){return sn(e.target)?e.srcElement||null:(n=e.target)!=null&&n.shadowRoot?e.composedPath()[0]||null:e.target||null;var n}var _v=["a","button","form","input","select","textarea","label"];function cI(e,n){if(sn(n))return!0;var s,r=function(a){if(n.some((o=>a.matches(o))))return{v:!0}};for(var i of e)if(s=r(i))return s.v;return!1}function dI(e){var n=e.parentNode;return!(!n||!Og(n))&&n}var qz=["next","previous","prev",">","<"],d7=10,u7=[".ph-no-rageclick",".ph-no-capture"];function Kz(e,n){if(!nt||jv(e))return!1;var s,r,i;if(nc(n)?(s=!!n&&u7,r=void 0):(s=(i=n?.css_selector_ignorelist)!==null&&i!==void 0?i:u7,r=n?.content_ignorelist),s===!1)return!1;var{targetElementList:a}=uI(e,!1);return!(function(o,l){if(o===!1||sn(o))return!1;var c;if(o===!0)c=qz;else{if(!Fr(o))return!1;if(o.length>d7)return un.error("[PostHog] content_ignorelist array cannot exceed "+d7+" items. Use css_selector_ignorelist for more complex matching."),!1;c=o.map((u=>u.toLowerCase()))}return l.some((u=>{var{safeText:p,ariaLabel:f}=u;return c.some((m=>p.includes(m)||f.includes(m)))}))})(r,a.map((o=>{var l;return{safeText:Um(o).toLowerCase(),ariaLabel:((l=o.getAttribute("aria-label"))==null?void 0:l.toLowerCase().trim())||""}})))&&!cI(a,s)}var jv=e=>!e||rc(e,"html")||!Og(e),uI=(e,n)=>{if(!nt||jv(e))return{parentIsUsefulElement:!1,targetElementList:[]};for(var s=!1,r=[e],i=e;i.parentNode&&!rc(i,"body");)if(aI(i.parentNode))r.push(i.parentNode.host),i=i.parentNode.host;else{var a=dI(i);if(!a)break;if(n||_v.indexOf(a.tagName.toLowerCase())>-1)s=!0;else{var o=nt.getComputedStyle(a);o&&o.getPropertyValue("cursor")==="pointer"&&(s=!0)}r.push(a),i=a}return{parentIsUsefulElement:s,targetElementList:r}};function Yz(e,n,s,r,i){var a,o,l,c;if(s===void 0&&(s=void 0),!nt||jv(e)||(a=s)!=null&&a.url_allowlist&&!c7(s.url_allowlist)||(o=s)!=null&&o.url_ignorelist&&c7(s.url_ignorelist))return!1;if((l=s)!=null&&l.dom_event_allowlist){var u=s.dom_event_allowlist;if(u&&!u.some((x=>n.type===x)))return!1}var{parentIsUsefulElement:p,targetElementList:f}=uI(e,r);if(!(function(x,y){var v=y?.element_allowlist;if(sn(v))return!0;var g,b=function(N){if(v.some((j=>N.tagName.toLowerCase()===j)))return{v:!0}};for(var w of x)if(g=b(w))return g.v;return!1})(f,s)||!cI(f,(c=s)==null?void 0:c.css_selector_allowlist))return!1;var m=nt.getComputedStyle(e);if(m&&m.getPropertyValue("cursor")==="pointer"&&n.type==="click")return!0;var h=e.tagName.toLowerCase();switch(h){case"html":return!1;case"form":return(i||["submit"]).indexOf(n.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(n.type)>=0;default:return p?(i||["click"]).indexOf(n.type)>=0:(i||["click"]).indexOf(n.type)>=0&&(_v.indexOf(h)>-1||e.getAttribute("contenteditable")==="true")}}function t6(e){for(var n=e;n.parentNode&&!rc(n,"body");n=n.parentNode){var s=wx(n);if(Ls(s,"ph-sensitive")||Ls(s,"ph-no-capture"))return!1}if(Ls(wx(e),"ph-include"))return!0;var r=e.type||"";if(yi(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(yi(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function pI(e){return!!(rc(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||rc(e,"select")||rc(e,"textarea")||e.getAttribute("contenteditable")==="true")}var fI="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Zz=new RegExp("^(?:"+fI+")$"),Jz=new RegExp(fI),mI="\\d{3}-?\\d{2}-?\\d{4}",Xz=new RegExp("^("+mI+")$"),Qz=new RegExp("("+mI+")");function $f(e,n){return n===void 0&&(n=!0),!(Ir(e)||yi(e)&&(e=Rg(e),(n?Zz:Jz).test((e||"").replace(/[- ]/g,""))||(n?Xz:Qz).test(e)))}function hI(e){var n=Um(e);return $f(n=(n+" "+xI(e)).trim())?n:""}function xI(e){var n="";return e&&e.childNodes&&e.childNodes.length&&Nr(e.childNodes,(function(s){var r;if(s&&((r=s.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=Um(s);n=(n+" "+i).trim(),s.childNodes&&s.childNodes.length&&(n=(n+" "+xI(s)).trim())}catch(a){un.error("[AutoCapture]",a)}})),n}function eW(e){return(function(n){var s=n.map((r=>{var i,a,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var l of(r.attr_class.sort(),r.attr_class))o+="."+l.replace(/"/g,"");var c=vn({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(a=r.nth_of_type)!==null&&a!==void 0?a:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),u={};return B0(c).sort(((p,f)=>{var[m]=p,[h]=f;return m.localeCompare(h)})).forEach((p=>{var[f,m]=p;return u[p7(f.toString())]=p7(m.toString())})),o+=":",o+=B0(u).map((p=>{var[f,m]=p;return f+'="'+m+'"'})).join("")}));return s.join(";")})((function(n){return n.map((s=>{var r,i,a={text:(r=s.$el_text)==null?void 0:r.slice(0,400),tag_name:s.tag_name,href:(i=s.attr__href)==null?void 0:i.slice(0,2048),attr_class:tW(s),attr_id:s.attr__id,nth_child:s.nth_child,nth_of_type:s.nth_of_type,attributes:{}};return B0(s).filter((o=>{var[l]=o;return l.indexOf("attr__")===0})).forEach((o=>{var[l,c]=o;return a.attributes[l]=c})),a}))})(e))}function p7(e){return e.replace(/"|\\"/g,'\\"')}function tW(e){var n=e.attr__class;return n?Fr(n)?n:Cv(n):void 0}class gI{constructor(n){this.disabled=n===!1;var s=Mi(n)?n:{};this.thresholdPx=s.threshold_px||30,this.timeoutMs=s.timeout_ms||1e3,this.clickCount=s.click_count||3,this.clicks=[]}isRageClick(n,s,r){if(this.disabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(n-i.x)+Math.abs(s-i.y)<this.thresholdPx&&r-i.timestamp<this.timeoutMs){if(this.clicks.push({x:n,y:s,timestamp:r}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:n,y:s,timestamp:r}];return!1}}var N5="$copy_autocapture",ml=(function(e){return e.GZipJS="gzip-js",e.Base64="base64",e})({}),Cx=e=>{var n=on?.createElement("a");return sn(n)?null:(n.href=e,n)},nW=function(e,n){var s,r;n===void 0&&(n="&");var i=[];return Nr(e,(function(a,o){sn(a)||sn(o)||o==="undefined"||(s=encodeURIComponent((l=>l instanceof File)(a)?a.name:a.toString()),r=encodeURIComponent(o),i[i.length]=r+"="+s)})),i.join(n)},_x=function(e,n){for(var s,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var a=r[i].split("=");if(a[0]===n){s=a;break}}if(!Fr(s)||s.length<2)return"";var o=s[1];try{o=decodeURIComponent(o)}catch{un.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Vm=function(e,n,s){if(!e||!n||!n.length)return e;for(var r=e.split("#"),i=r[0]||"",a=r[1],o=i.split("?"),l=o[1],c=o[0],u=(l||"").split("&"),p=[],f=0;f<u.length;f++){var m=u[f].split("=");Fr(m)&&(n.includes(m[0])?p.push(m[0]+"="+s):p.push(u[f]))}var h=c;return l!=null&&(h+="?"+p.join("&")),a!=null&&(h+="#"+a),h},jx=function(e,n){var s=e.match(new RegExp(n+"=([^&]*)"));return s?s[1]:null},f7=Ci("[AutoCapture]");function F5(e,n){return n.length>e?n.slice(0,e)+"...":n}function sW(e){if(e.previousElementSibling)return e.previousElementSibling;var n=e;do n=n.previousSibling;while(n&&!Og(n));return n}function rW(e,n,s,r){var i=e.tagName.toLowerCase(),a={tag_name:i};_v.indexOf(i)>-1&&!s&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?a.$el_text=F5(1024,hI(e)):a.$el_text=F5(1024,Um(e)));var o=wx(e);o.length>0&&(a.classes=o.filter((function(p){return p!==""}))),Nr(e.attributes,(function(p){var f;if((!pI(e)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(r==null||!r.includes(p.name))&&!n&&$f(p.value)&&(f=p.name,!yi(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var m=p.value;p.name==="class"&&(m=Cv(m).join(" ")),a["attr__"+p.name]=F5(1024,m)}}));for(var l=1,c=1,u=e;u=sW(u);)l++,u.tagName===e.tagName&&c++;return a.nth_child=l,a.nth_of_type=c,a}function iW(e,n){for(var s,r,{e:i,maskAllElementAttributes:a,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:c}=n,u=[e],p=e;p.parentNode&&!rc(p,"body");)aI(p.parentNode)?(u.push(p.parentNode.host),p=p.parentNode.host):(u.push(p.parentNode),p=p.parentNode);var f,m=[],h={},x=!1,y=!1;if(Nr(u,(N=>{var j=t6(N);N.tagName.toLowerCase()==="a"&&(x=N.getAttribute("href"),x=j&&x&&$f(x)&&x),Ls(wx(N),"ph-no-capture")&&(y=!0),m.push(rW(N,a,o,l));var _=(function(C){if(!t6(C))return{};var F={};return Nr(C.attributes,(function(E){if(E.name&&E.name.indexOf("data-ph-capture-attribute")===0){var S=E.name.replace("data-ph-capture-attribute-",""),M=E.value;S&&M&&$f(M)&&(F[S]=M)}})),F})(N);Qr(h,_)})),y)return{props:{},explicitNoCapture:y};if(o||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?m[0].$el_text=hI(e):m[0].$el_text=Um(e)),x){var v,g;m[0].attr__href=x;var b=(v=Cx(x))==null?void 0:v.host,w=nt==null||(g=nt.location)==null?void 0:g.host;b&&w&&b!==w&&(f=x)}return{props:Qr({$event_type:i.type,$ce_version:1},c?{}:{$elements:m},{$elements_chain:eW(m)},(s=m[0])!=null&&s.$el_text?{$el_text:(r=m[0])==null?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},h)}}class aW{constructor(n){this.P=!1,this.T=null,this.I=!1,this.instance=n,this.rageclicks=new gI(n.config.rageclick),this.R=null}get F(){var n,s,r=Mi(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(n=r.url_allowlist)==null?void 0:n.map((i=>new RegExp(i))),r.url_ignorelist=(s=r.url_ignorelist)==null?void 0:s.map((i=>new RegExp(i))),r}C(){if(this.isBrowserSupported()){if(nt&&on){var n=r=>{r=r||nt?.event;try{this.O(r)}catch(i){f7.error("Failed to capture event",i)}};if(li(on,"submit",n,{capture:!0}),li(on,"change",n,{capture:!0}),li(on,"click",n,{capture:!0}),this.F.capture_copied_text){var s=r=>{r=r||nt?.event,this.O(r,N5)};li(on,"copy",s,{capture:!0}),li(on,"cut",s,{capture:!0})}}}else f7.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(n){n.elementsChainAsString&&(this.I=n.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[s7]:!!n.autocapture_opt_out}),this.T=!!n.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(n){this.R=n}getElementSelectors(n){var s,r=[];return(s=this.R)==null||s.forEach((i=>{var a=on?.querySelectorAll(i);a?.forEach((o=>{n===o&&r.push(i)}))})),r}get isEnabled(){var n,s,r=(n=this.instance.persistence)==null?void 0:n.props[s7],i=this.T;if(kl(i)&&!nc(r)&&!this.instance.M())return!1;var a=(s=this.T)!==null&&s!==void 0?s:!!r;return!!this.instance.config.autocapture&&!a}O(n,s){if(s===void 0&&(s="$autocapture"),this.isEnabled){var r,i=lI(n);iI(i)&&(i=i.parentNode||null),s==="$autocapture"&&n.type==="click"&&n instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(n.clientX,n.clientY,n.timeStamp||new Date().getTime())&&Kz(i,this.instance.config.rageclick)&&this.O(n,"$rageclick");var a=s===N5;if(i&&Yz(i,n,this.F,a,a?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:l}=iW(i,{e:n,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.I});if(l)return!1;var c=this.getElementSelectors(i);if(c&&c.length>0&&(o.$element_selectors=c),s===N5){var u,p=oI(nt==null||(u=nt.getSelection())==null?void 0:u.toString()),f=n.type||"clipboard";if(!p)return!1;o.$selected_content=p,o.$copy_type=f}return this.instance.capture(s,o),!0}}}isBrowserSupported(){return tc(on?.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Zo(e)&&isFinite(e)&&Math.floor(e)===e});var m7="0123456789abcdef";class Nx{constructor(n){if(this.bytes=n,n.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(n,s,r,i){if(!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(r)||!Number.isInteger(i)||n<0||s<0||r<0||i<0||n>0xffffffffffff||s>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=n/Math.pow(2,40),a[1]=n/Math.pow(2,32),a[2]=n/Math.pow(2,24),a[3]=n/Math.pow(2,16),a[4]=n/Math.pow(2,8),a[5]=n,a[6]=112|s>>>8,a[7]=s,a[8]=128|r>>>24,a[9]=r>>>16,a[10]=r>>>8,a[11]=r,a[12]=i>>>24,a[13]=i>>>16,a[14]=i>>>8,a[15]=i,new Nx(a)}toString(){for(var n="",s=0;s<this.bytes.length;s++)n=n+m7.charAt(this.bytes[s]>>>4)+m7.charAt(15&this.bytes[s]),s!==3&&s!==5&&s!==7&&s!==9||(n+="-");if(n.length!==36)throw new Error("Invalid UUIDv7 was generated");return n}clone(){return new Nx(this.bytes.slice(0))}equals(n){return this.compareTo(n)===0}compareTo(n){for(var s=0;s<16;s++){var r=this.bytes[s]-n.bytes[s];if(r!==0)return Math.sign(r)}return 0}}class oW{constructor(){this.A=0,this.D=0,this.j=new lW}generate(){var n=this.generateOrAbort();if(sn(n)){this.A=0;var s=this.generateOrAbort();if(sn(s))throw new Error("Could not generate UUID after timestamp reset");return s}return n}generateOrAbort(){var n=Date.now();if(n>this.A)this.A=n,this.L();else{if(!(n+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return Nx.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var h7,bI=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var n=0;n<e.length;n++)e[n]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};nt&&!sn(nt.crypto)&&crypto.getRandomValues&&(bI=e=>crypto.getRandomValues(e));class lW{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(bI(this.N),this.U=0),this.N[this.U++]}}var Jl=()=>cW().toString(),cW=()=>(h7||(h7=new oW)).generate(),a1="",dW=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function uW(e,n){if(n){var s=(function(i,a){if(a===void 0&&(a=on),a1)return a1;if(!a||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),l=Math.min(o.length,8),c="dmn_chk_"+Jl();!a1&&l--;){var u=o.slice(l).join("."),p=c+"=1;domain=."+u+";path=/";a.cookie=p+";max-age=3",a.cookie.includes(c)&&(a.cookie=p+";max-age=0",a1=u)}return a1})(e);if(!s){var r=(i=>{var a=i.match(dW);return a?a[0]:""})(e);r!==s&&un.info("Warning: cookie subdomain discovery mismatch",r,s),s=r}return s?"; domain=."+s:""}return""}var $o={H:()=>!!on,B:function(e){un.error("cookieStore error: "+e)},q:function(e){if(on){try{for(var n=e+"=",s=on.cookie.split(";").filter((a=>a.length)),r=0;r<s.length;r++){for(var i=s[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return decodeURIComponent(i.substring(n.length,i.length))}}catch{}return null}},W:function(e){var n;try{n=JSON.parse($o.q(e))||{}}catch{}return n},G:function(e,n,s,r,i){if(on)try{var a="",o="",l=uW(on.location.hostname,r);if(s){var c=new Date;c.setTime(c.getTime()+24*s*60*60*1e3),a="; expires="+c.toUTCString()}i&&(o="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(n))+a+"; SameSite=Lax; path=/"+l+o;return u.length>3686.4&&un.warn("cookieStore warning: large cookie, len="+u.length),on.cookie=u,u}catch{return}},V:function(e,n){if(on!=null&&on.cookie)try{$o.G(e,"",-1,n)}catch{return}}},E5=null,Br={H:function(){if(!kl(E5))return E5;var e=!0;if(sn(nt))e=!1;else try{var n="__mplssupport__";Br.G(n,"xyz"),Br.q(n)!=='"xyz"'&&(e=!1),Br.V(n)}catch{e=!1}return e||un.error("localStorage unsupported; falling back to cookie store"),E5=e,e},B:function(e){un.error("localStorage error: "+e)},q:function(e){try{return nt?.localStorage.getItem(e)}catch(n){Br.B(n)}return null},W:function(e){try{return JSON.parse(Br.q(e))||{}}catch{}return null},G:function(e,n){try{nt?.localStorage.setItem(e,JSON.stringify(n))}catch(s){Br.B(s)}},V:function(e){try{nt?.localStorage.removeItem(e)}catch(n){Br.B(n)}}},pW=["distinct_id",gx,sI,vx,yx],Oh=vn({},Br,{W:function(e){try{var n={};try{n=$o.W(e)||{}}catch{}var s=Qr(n,JSON.parse(Br.q(e)||"{}"));return Br.G(e,s),s}catch{}return null},G:function(e,n,s,r,i,a){try{Br.G(e,n,void 0,void 0,a);var o={};pW.forEach((l=>{n[l]&&(o[l]=n[l])})),Object.keys(o).length&&$o.G(e,o,s,r,i,a)}catch(l){Br.B(l)}},V:function(e,n){try{nt?.localStorage.removeItem(e),$o.V(e,n)}catch(s){Br.B(s)}}}),Bh={},fW={H:function(){return!0},B:function(e){un.error("memoryStorage error: "+e)},q:function(e){return Bh[e]||null},W:function(e){return Bh[e]||null},G:function(e,n){Bh[e]=n},V:function(e){delete Bh[e]}},Bc=null,Ti={H:function(){if(!kl(Bc))return Bc;if(Bc=!0,sn(nt))Bc=!1;else try{var e="__support__";Ti.G(e,"xyz"),Ti.q(e)!=='"xyz"'&&(Bc=!1),Ti.V(e)}catch{Bc=!1}return Bc},B:function(e){un.error("sessionStorage error: ",e)},q:function(e){try{return nt?.sessionStorage.getItem(e)}catch(n){Ti.B(n)}return null},W:function(e){try{return JSON.parse(Ti.q(e))||null}catch{}return null},G:function(e,n){try{nt?.sessionStorage.setItem(e,JSON.stringify(n))}catch(s){Ti.B(s)}},V:function(e){try{nt?.sessionStorage.removeItem(e)}catch(n){Ti.B(n)}}},fl=(function(e){return e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED",e})({});class mW{constructor(n){this._instance=n}get F(){return this._instance.config}get consent(){return this.J()?fl.DENIED:this.K}isOptedOut(){return this.F.cookieless_mode==="always"||this.consent===fl.DENIED||this.consent===fl.PENDING&&(this.F.opt_out_capturing_by_default||this.F.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===fl.DENIED}optInOut(n){this.Y.G(this.X,n?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:n,opt_out_capturing_cookie_prefix:s,consent_persistence_name:r}=this._instance.config;return r||(s?s+n:"__ph_opt_in_out_"+n)}get K(){var n=this.Y.q(this.X);return C5(n)?fl.GRANTED:Ls(bz,n)?fl.DENIED:fl.PENDING}get Y(){if(!this.Z){var n=this.F.opt_out_capturing_persistence_type;this.Z=n==="localStorage"?Br:$o;var s=n==="localStorage"?$o:Br;s.q(this.X)&&(this.Z.q(this.X)||this.optInOut(C5(s.q(this.X))),s.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!eI([Oa?.doNotTrack,Oa?.msDoNotTrack,hs.doNotTrack],(n=>C5(n)))}}var Uh=Ci("[Dead Clicks]"),hW=()=>!0,xW=e=>{var n,s=!((n=e.instance.persistence)==null||!n.get_property(nI)),r=e.instance.config.capture_dead_clicks;return nc(r)?r:s};class yI{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(n,s,r){this.instance=n,this.isEnabled=s,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(n){this.instance.persistence&&this.instance.persistence.register({[nI]:n?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(n){var s,r;(s=hs.__PosthogExtensions__)!=null&&s.initDeadClicksAutocapture&&n(),(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",(i=>{i?Uh.error("failed to load script",i):n()}))}et(){var n;if(on){if(!this.tt&&(n=hs.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture){var s=Mi(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};s.__onCapture=this.onCapture,this.tt=hs.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,s),this.tt.start(on),Uh.info("starting...")}}else Uh.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Uh.info("stopping..."))}}var o1=Ci("[ExceptionAutocapture]");class gW{constructor(n){var s,r,i;this.rt=()=>{var a;if(nt&&this.isEnabled&&(a=hs.__PosthogExtensions__)!=null&&a.errorWrappingFunctions){var o=hs.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=hs.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,c=hs.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=o(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=l(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=c(this.captureException.bind(this)))}catch(u){o1.error("failed to start",u),this.lt()}}},this._instance=n,this.ut=!((s=this._instance.persistence)==null||!s.props[r7]),this.F=this.ht(),this.dt=new yz({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,h:o1}),this.startIfEnabled()}ht(){var n=this._instance.config.capture_exceptions,s={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Mi(n)?s=vn({},s,n):(sn(n)?this.ut:n)&&(s=vn({},s,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),s}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(o1.info("enabled"),this.it(this.rt))}it(n){var s,r;(s=hs.__PosthogExtensions__)!=null&&s.errorWrappingFunctions&&n(),(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",(i=>{if(i)return o1.error("failed to load script",i);n()}))}lt(){var n,s,r;(n=this.st)==null||n.call(this),this.st=void 0,(s=this.nt)==null||s.call(this),this.nt=void 0,(r=this.ot)==null||r.call(this),this.ot=void 0}onRemoteConfig(n){var s=n.autocaptureExceptions;this.ut=!!s||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[r7]:this.ut}),this.startIfEnabled()}captureException(n){var s,r,i=(s=n==null||(r=n.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&s!==void 0?s:"Exception";this.dt.consumeRateLimit(i)?o1.info("Skipping exception capture because of client rate limiting.",{exception:i}):this._instance.exceptions.sendExceptionEvent(n)}}function x7(e,n,s){try{if(!(n in e))return()=>{};var r=e[n],i=s(r);return tc(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[n]=i,()=>{e[n]=r}}catch{return()=>{}}}class bW{constructor(n){var s;this._instance=n,this.vt=(nt==null||(s=nt.location)==null?void 0:s.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(un.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,un.info("History API monitoring stopped")}monitorHistoryChanges(){var n,s;if(nt&&nt.history){var r=this;(n=nt.history.pushState)!=null&&n.__posthog_wrapped__||x7(nt.history,"pushState",(i=>function(a,o,l){i.call(this,a,o,l),r.ft("pushState")})),(s=nt.history.replaceState)!=null&&s.__posthog_wrapped__||x7(nt.history,"replaceState",(i=>function(a,o,l){i.call(this,a,o,l),r.ft("replaceState")})),this.gt()}}ft(n){try{var s,r=nt==null||(s=nt.location)==null?void 0:s.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:n}),this.vt=r}catch(i){un.error("Error capturing "+n+" pageview",i)}}gt(){if(!this.ct){var n=()=>{this.ft("popstate")};li(nt,"popstate",n),this.ct=()=>{nt&&nt.removeEventListener("popstate",n)}}}}var S5=Ci("[SegmentIntegration]");function yW(e,n){var s=e.config.segment;if(!s)return n();(function(r,i){var a=r.config.segment;if(!a)return i();var o=c=>{var u=()=>c.anonymousId()||Jl();r.config.get_device_id=u,c.id()&&(r.register({distinct_id:c.id(),$device_id:u()}),r.persistence.set_property(pl,"identified")),i()},l=a.user();"then"in l&&tc(l.then)?l.then((c=>o(c))):o(l)})(e,(()=>{s.register((r=>{Promise&&Promise.resolve||S5.warn("This browser does not have Promise support, and can not use the segment integration");var i=(a,o)=>{if(!o)return a;a.event.userId||a.event.anonymousId===r.get_distinct_id()||(S5.info("No userId set, resetting PostHog"),r.reset()),a.event.userId&&a.event.userId!==r.get_distinct_id()&&(S5.info("UserId set, identifying with PostHog"),r.identify(a.event.userId));var l=r.calculateEventProperties(o,a.event.properties);return a.event.properties=Object.assign({},l,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>i(a,a.event.event),page:a=>i(a,"$pageview"),identify:a=>i(a,"$identify"),screen:a=>i(a,"$screen")}})(e)).then((()=>{n()}))}))}var vI="posthog-js";function wI(e,n){var{organization:s,projectId:r,prefix:i,severityAllowList:a=["error"],sendExceptionsToPostHog:o=!0}=n===void 0?{}:n;return l=>{var c,u,p,f,m;if(!(a==="*"||a.includes(l.level))||!e.__loaded)return l;l.tags||(l.tags={});var h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());l.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(l.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var x=((c=l.exception)==null?void 0:c.values)||[],y=x.map((g=>vn({},g,{stacktrace:g.stacktrace?vn({},g.stacktrace,{type:"raw",frames:(g.stacktrace.frames||[]).map((b=>vn({},b,{platform:"web:javascript"})))}):void 0}))),v={$exception_message:((u=x[0])==null?void 0:u.value)||l.message,$exception_type:(p=x[0])==null?void 0:p.type,$exception_level:l.level,$exception_list:y,$sentry_event_id:l.event_id,$sentry_exception:l.exception,$sentry_exception_message:((f=x[0])==null?void 0:f.value)||l.message,$sentry_exception_type:(m=x[0])==null?void 0:m.type,$sentry_tags:l.tags};return s&&r&&(v.$sentry_url=(i||"https://sentry.io/organizations/")+s+"/issues/?project="+r+"&query="+l.event_id),o&&e.exceptions.sendExceptionEvent(v),l}}class vW{constructor(n,s,r,i,a,o){this.name=vI,this.setupOnce=function(l){l(wI(n,{organization:s,projectId:r,prefix:i,severityAllowList:a,sendExceptionsToPostHog:o==null||o}))}}}var wW=nt!=null&&nt.location?jx(nt.location.hash,"__posthog")||jx(location.hash,"state"):null,g7="_postHogToolbarParams",b7=Ci("[Toolbar]"),zl=(function(e){return e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e})(zl||{});class CW{constructor(n){this.instance=n}_t(n){hs.ph_toolbar_state=n}yt(){var n;return(n=hs.ph_toolbar_state)!==null&&n!==void 0?n:zl.UNINITIALIZED}maybeLoadToolbar(n,s,r){if(n===void 0&&(n=void 0),s===void 0&&(s=void 0),r===void 0&&(r=void 0),!nt||!on)return!1;n=n??nt.location,r=r??nt.history;try{if(!s){try{nt.localStorage.setItem("test","test"),nt.localStorage.removeItem("test")}catch{return!1}s=nt?.localStorage}var i,a=wW||jx(n.hash,"__posthog")||jx(n.hash,"state"),o=a?n7((()=>JSON.parse(atob(decodeURIComponent(a)))))||n7((()=>JSON.parse(decodeURIComponent(a)))):null;return o&&o.action==="ph_authorize"?((i=o).source="url",i&&Object.keys(i).length>0&&(o.desiredHash?n.hash=o.desiredHash:r?r.replaceState(r.state,"",n.pathname+n.search):n.hash="")):((i=JSON.parse(s.getItem(g7)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}bt(n){var s=hs.ph_load_toolbar||hs.ph_load_editor;!Ir(s)&&tc(s)?s(n,this.instance):b7.warn("No toolbar load function found")}loadToolbar(n){var s=!(on==null||!on.getElementById(rI));if(!nt||s)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=vn({token:this.instance.config.token},n,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(nt.localStorage.setItem(g7,JSON.stringify(vn({},i,{source:void 0}))),this.yt()===zl.LOADED)this.bt(i);else if(this.yt()===zl.UNINITIALIZED){var a;this._t(zl.LOADING),(a=hs.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",(o=>{if(o)return b7.error("[Toolbar] Failed to load",o),void this._t(zl.UNINITIALIZED);this._t(zl.LOADED),this.bt(i)})),li(nt,"turbolinks:load",(()=>{this._t(zl.UNINITIALIZED),this.loadToolbar(i)}))}return!0}wt(n){return this.loadToolbar(n)}maybeLoadEditor(n,s,r){return n===void 0&&(n=void 0),s===void 0&&(s=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(n,s,r)}}var _W=Ci("[TracingHeaders]");class jW{constructor(n){this.xt=void 0,this.$t=void 0,this.rt=()=>{var s,r;sn(this.xt)&&((s=hs.__PosthogExtensions__)==null||(s=s.tracingHeadersPatchFns)==null||s._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),sn(this.$t)&&((r=hs.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=n}it(n){var s,r;(s=hs.__PosthogExtensions__)!=null&&s.tracingHeadersPatchFns&&n(),(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",(i=>{if(i)return _W.error("failed to load script",i);n()}))}startIfEnabledOrStop(){var n,s;this._instance.config.__add_tracing_headers?this.it(this.rt):((n=this.xt)==null||n.call(this),(s=this.$t)==null||s.call(this),this.xt=void 0,this.$t=void 0)}}var Za="Mobile",Fx="iOS",Oo="Android",zf="Tablet",CI=Oo+" "+zf,_I="iPad",jI="Apple",NI=jI+" Watch",Wf="Safari",op="BlackBerry",FI="Samsung",EI=FI+"Browser",SI=FI+" Internet",Dd="Chrome",NW=Dd+" OS",kI=Dd+" "+Fx,Nv="Internet Explorer",TI=Nv+" "+Za,Fv="Opera",FW=Fv+" Mini",Ev="Edge",II="Microsoft "+Ev,qu="Firefox",AI=qu+" "+Fx,Gf="Nintendo",qf="PlayStation",Ku="Xbox",DI=Oo+" "+Za,MI=Za+" "+Wf,X1="Windows",n6=X1+" Phone",y7="Nokia",s6="Ouya",LI="Generic",EW=LI+" "+Za.toLowerCase(),RI=LI+" "+zf.toLowerCase(),r6="Konqueror",ta="(\\d+(\\.\\d+)?)",k5=new RegExp("Version/"+ta),SW=new RegExp(Ku,"i"),kW=new RegExp(qf+" \\w+","i"),TW=new RegExp(Gf+" \\w+","i"),Sv=new RegExp(op+"|PlayBook|BB10","i"),IW={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},AW=(e,n)=>n&&Ls(n,jI)||(function(s){return Ls(s,Wf)&&!Ls(s,Dd)&&!Ls(s,Oo)})(e),PI=function(e,n){return n=n||"",Ls(e," OPR/")&&Ls(e,"Mini")?FW:Ls(e," OPR/")?Fv:Sv.test(e)?op:Ls(e,"IE"+Za)||Ls(e,"WPDesktop")?TI:Ls(e,EI)?SI:Ls(e,Ev)||Ls(e,"Edg/")?II:Ls(e,"FBIOS")?"Facebook "+Za:Ls(e,"UCWEB")||Ls(e,"UCBrowser")?"UC Browser":Ls(e,"CriOS")?kI:Ls(e,"CrMo")||Ls(e,Dd)?Dd:Ls(e,Oo)&&Ls(e,Wf)?DI:Ls(e,"FxiOS")?AI:Ls(e.toLowerCase(),r6.toLowerCase())?r6:AW(e,n)?Ls(e,Za)?MI:Wf:Ls(e,qu)?qu:Ls(e,"MSIE")||Ls(e,"Trident/")?Nv:Ls(e,"Gecko")?qu:""},DW={[TI]:[new RegExp("rv:"+ta)],[II]:[new RegExp(Ev+"?\\/"+ta)],[Dd]:[new RegExp("("+Dd+"|CrMo)\\/"+ta)],[kI]:[new RegExp("CriOS\\/"+ta)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+ta)],[Wf]:[k5],[MI]:[k5],[Fv]:[new RegExp("(Opera|OPR)\\/"+ta)],[qu]:[new RegExp(qu+"\\/"+ta)],[AI]:[new RegExp("FxiOS\\/"+ta)],[r6]:[new RegExp("Konqueror[:/]?"+ta,"i")],[op]:[new RegExp(op+" "+ta),k5],[DI]:[new RegExp("android\\s"+ta,"i")],[SI]:[new RegExp(EI+"\\/"+ta)],[Nv]:[new RegExp("(rv:|MSIE )"+ta)],Mozilla:[new RegExp("rv:"+ta)]},MW=function(e,n){var s=PI(e,n),r=DW[s];if(sn(r))return null;for(var i=0;i<r.length;i++){var a=r[i],o=e.match(a);if(o)return parseFloat(o[o.length-2])}return null},v7=[[new RegExp(Ku+"; "+Ku+" (.*?)[);]","i"),e=>[Ku,e&&e[1]||""]],[new RegExp(Gf,"i"),[Gf,""]],[new RegExp(qf,"i"),[qf,""]],[Sv,[op,""]],[new RegExp(X1,"i"),(e,n)=>{if(/Phone/.test(n)||/WPDesktop/.test(n))return[n6,""];if(new RegExp(Za).test(n)&&!/IEMobile\b/.test(n))return[X1+" "+Za,""];var s=/Windows NT ([0-9.]+)/i.exec(n);if(s&&s[1]){var r=s[1],i=IW[r]||"";return/arm/i.test(n)&&(i="RT"),[X1,i]}return[X1,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var n=[e[3],e[4],e[5]||"0"];return[Fx,n.join(".")]}return[Fx,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var n="";return e&&e.length>=3&&(n=sn(e[2])?e[3]:e[2]),["watchOS",n]}],[new RegExp("("+Oo+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Oo+")","i"),e=>{if(e&&e[2]){var n=[e[2],e[3],e[4]||"0"];return[Oo,n.join(".")]}return[Oo,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var n=["Mac OS X",""];if(e&&e[1]){var s=[e[1],e[2],e[3]||"0"];n[1]=s.join(".")}return n}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[NW,""]],[/Linux|debian/i,["Linux",""]]],w7=function(e){return TW.test(e)?Gf:kW.test(e)?qf:SW.test(e)?Ku:new RegExp(s6,"i").test(e)?s6:new RegExp("("+n6+"|WPDesktop)","i").test(e)?n6:/iPad/.test(e)?_I:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?NI:Sv.test(e)?op:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(y7,"i").test(e)?y7:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Za).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Oo:CI:Oo:new RegExp("(pda|"+Za+")","i").test(e)?EW:new RegExp(zf,"i").test(e)&&!new RegExp(zf+" pc","i").test(e)?RI:""},Vh="https?://(.*)",Ip=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],LW=Tp(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Ip),Hm="<masked>",RW=["li_fat_id"];function OI(e,n,s){if(!on)return{};var r,i=n?Tp([],Ip,s||[]):[],a=BI(Vm(on.URL,i,Hm),e),o=(r={},Nr(RW,(function(l){var c=$o.q(l);r[l]=c||null})),r);return Qr(o,a)}function BI(e,n){var s=LW.concat(n||[]),r={};return Nr(s,(function(i){var a=_x(e,i);r[i]=a||null})),r}function UI(e){var n=(function(a){return a?a.search(Vh+"google.([^/?]*)")===0?"google":a.search(Vh+"bing.com")===0?"bing":a.search(Vh+"yahoo.com")===0?"yahoo":a.search(Vh+"duckduckgo.com")===0?"duckduckgo":null:null})(e),s=n!="yahoo"?"q":"p",r={};if(!kl(n)){r.$search_engine=n;var i=on?_x(on.referrer,s):"";i.length&&(r.ph_keyword=i)}return r}function C7(){return navigator.language||navigator.userLanguage}function VI(){return on?.referrer||"$direct"}function HI(e,n){var s=e?Tp([],Ip,n||[]):[],r=fa?.href.substring(0,1e3);return{r:VI().substring(0,1e3),u:r?Vm(r,s,Hm):void 0}}function $I(e){var n,{r:s,u:r}=e,i={$referrer:s,$referring_domain:s==null?void 0:s=="$direct"?"$direct":(n=Cx(s))==null?void 0:n.host};if(r){i.$current_url=r;var a=Cx(r);i.$host=a?.host,i.$pathname=a?.pathname;var o=BI(r);Qr(i,o)}if(s){var l=UI(s);Qr(i,l)}return i}function zI(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function PW(){try{return new Date().getTimezoneOffset()}catch{return}}function OW(e,n){if(!pa)return{};var s,r,i,a=e?Tp([],Ip,n||[]):[],[o,l]=(function(c){for(var u=0;u<v7.length;u++){var[p,f]=v7[u],m=p.exec(c),h=m&&(tc(f)?f(m,c):f);if(h)return h}return["",""]})(pa);return Qr(wv({$os:o,$os_version:l,$browser:PI(pa,navigator.vendor),$device:w7(pa),$device_type:(r=pa,i=w7(r),i===_I||i===CI||i==="Kobo"||i==="Kindle Fire"||i===RI?zf:i===Gf||i===Ku||i===qf||i===s6?"Console":i===NI?"Wearable":i?Za:"Desktop"),$timezone:zI(),$timezone_offset:PW()}),{$current_url:Vm(fa?.href,a,Hm),$host:fa?.host,$pathname:fa?.pathname,$raw_user_agent:pa.length>1e3?pa.substring(0,997)+"...":pa,$browser_version:MW(pa,navigator.vendor),$browser_language:C7(),$browser_language_prefix:(s=C7(),typeof s=="string"?s.split("-")[0]:void 0),$screen_height:nt?.screen.height,$screen_width:nt?.screen.width,$viewport_height:nt?.innerHeight,$viewport_width:nt?.innerWidth,$lib:"web",$lib_version:ul.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Ll=Ci("[Web Vitals]"),_7=9e5;class BW{constructor(n){var s;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.St=()=>{clearTimeout(this.kt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((r,i)=>vn({},r,{["$web_vitals_"+i.name+"_event"]:vn({},i),["$web_vitals_"+i.name+"_value"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=r=>{var i,a=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(sn(a))Ll.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.Tt();sn(o)||(Ir(r?.name)||Ir(r?.value)?Ll.error("Invalid metric received",r):this.It&&r.value>=this.It?Ll.error("Ignoring metric with value >= "+this.It,r):(this.N.url!==o&&(this.St(),this.kt=setTimeout(this.St,this.flushToCaptureTimeoutMs)),sn(this.N.url)&&(this.N.url=o),this.N.firstMetricTimestamp=sn(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.N.metrics.push(vn({},r,{$current_url:o,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.St()))}},this.rt=()=>{var r,i,a,o,l=hs.__PosthogExtensions__;sn(l)||sn(l.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:a,onINP:o}=l.postHogWebVitalsCallbacks),r&&i&&a&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Pt.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Pt.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.Pt.bind(this)),this.P=!0):Ll.error("web vitals callbacks not loaded - not starting")},this._instance=n,this.Et=!((s=this._instance.persistence)==null||!s.props[a7]),this.startIfEnabled()}get allowedMetrics(){var n,s,r=Mi(this._instance.config.capture_performance)?(n=this._instance.config.capture_performance)==null?void 0:n.web_vitals_allowed_metrics:void 0;return sn(r)?((s=this._instance.persistence)==null?void 0:s.props[o7])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Mi(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var n=Mi(this._instance.config.capture_performance)&&Zo(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:_7;return 0<n&&n<=6e4?_7:n}get isEnabled(){var n=fa?.protocol;if(n!=="http:"&&n!=="https:")return Ll.info("Web Vitals are disabled on non-http/https protocols"),!1;var s=Mi(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:nc(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return nc(s)?s:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(Ll.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(n){var s=Mi(n.capturePerformance)&&!!n.capturePerformance.web_vitals,r=Mi(n.capturePerformance)?n.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[a7]:s}),this._instance.persistence.register({[o7]:r})),this.Et=s,this.startIfEnabled()}it(n){var s,r;(s=hs.__PosthogExtensions__)!=null&&s.postHogWebVitalsCallbacks&&n(),(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",(i=>{i?Ll.error("failed to load script",i):n()}))}Tt(){var n=nt?nt.location.href:void 0;if(n){var s=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,i=s?Tp([],Ip,r||[]):[];return Vm(n,i,Hm)}Ll.error("Could not determine current URL")}}var UW=Ci("[Heatmaps]");function j7(e){return Mi(e)&&"clientX"in e&&"clientY"in e&&Zo(e.clientX)&&Zo(e.clientY)}class VW{constructor(n){var s;this.Et=!1,this.P=!1,this.Rt=null,this.instance=n,this.Et=!((s=this.instance.persistence)==null||!s.props[qb]),this.rageclicks=new gI(n.config.rageclick)}get flushIntervalMilliseconds(){var n=5e3;return Mi(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(n=this.instance.config.capture_heatmaps.flush_interval_milliseconds),n}get isEnabled(){return sn(this.instance.config.capture_heatmaps)?sn(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;UW.info("starting..."),this.Ft(),this.Ct()}else{var n;clearInterval((n=this.Rt)!==null&&n!==void 0?n:void 0),this.Ot(),this.getAndClearBuffer()}}onRemoteConfig(n){var s=!!n.heatmaps;this.instance.persistence&&this.instance.persistence.register({[qb]:s}),this.Et=s,this.startIfEnabled()}getAndClearBuffer(){var n=this.N;return this.N=void 0,n}Mt(n){this.At(n.originalEvent,"deadclick")}Ct(){this.Rt&&clearInterval(this.Rt),this.Rt=(function(n){return n?.visibilityState==="visible"})(on)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){nt&&on&&(this.jt=this.Dt.bind(this),li(nt,"beforeunload",this.jt),this.Lt=n=>this.At(n||nt?.event),li(on,"click",this.Lt,{capture:!0}),this.Nt=n=>this.Ut(n||nt?.event),li(on,"mousemove",this.Nt,{capture:!0}),this.zt=new yI(this.instance,hW,this.Mt.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),li(on,"visibilitychange",this.Ht),this.P=!0)}Ot(){var n;nt&&on&&(this.jt&&nt.removeEventListener("beforeunload",this.jt),this.Lt&&on.removeEventListener("click",this.Lt,{capture:!0}),this.Nt&&on.removeEventListener("mousemove",this.Nt,{capture:!0}),this.Ht&&on.removeEventListener("visibilitychange",this.Ht),clearTimeout(this.Bt),(n=this.zt)==null||n.stop(),this.P=!1)}qt(n,s){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),o=(function(l,c,u){for(var p=l;p&&Og(p)&&!rc(p,"body");){if(p===u)return!1;if(Ls(c,nt?.getComputedStyle(p).position))return!0;p=dI(p)}return!1})(lI(n),["fixed","sticky"],a);return{x:n.clientX+(o?0:i),y:n.clientY+(o?0:r),target_fixed:o,type:s}}At(n,s){var r;if(s===void 0&&(s="click"),!l7(n.target)&&j7(n)){var i=this.qt(n,s);(r=this.rageclicks)!=null&&r.isRageClick(n.clientX,n.clientY,new Date().getTime())&&this.Wt(vn({},i,{type:"rageclick"})),this.Wt(i)}}Ut(n){!l7(n.target)&&j7(n)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(n,"mousemove"))}),500))}Wt(n){if(nt){var s=nt.location.href,r=this.instance.config.mask_personal_data_properties,i=this.instance.config.custom_personal_data_properties,a=r?Tp([],Ip,i||[]):[],o=Vm(s,a,Hm);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(n)}}Dt(){this.N&&!Iu(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class HW{constructor(n){this._instance=n}doPageView(n,s){var r,i=this.Gt(n,s);return this.Vt={pathname:(r=nt?.location.pathname)!==null&&r!==void 0?r:"",pageViewId:s,timestamp:n},this._instance.scrollManager.resetContext(),i}doPageLeave(n){var s;return this.Gt(n,(s=this.Vt)==null?void 0:s.pageViewId)}doEvent(){var n;return{$pageview_id:(n=this.Vt)==null?void 0:n.pageViewId}}Gt(n,s){var r=this.Vt;if(!r)return{$pageview_id:s};var i={$pageview_id:s,$prev_pageview_id:r.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:l,maxScrollY:c,maxContentHeight:u,lastContentY:p,maxContentY:f}=a;if(!(sn(o)||sn(l)||sn(c)||sn(u)||sn(p)||sn(f))){o=Math.ceil(o),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),p=Math.ceil(p),f=Math.ceil(f);var m=o<=1?1:Po(l/o,0,1,un),h=o<=1?1:Po(c/o,0,1,un),x=u<=1?1:Po(p/u,0,1,un),y=u<=1?1:Po(f/u,0,1,un);i=Qr(i,{$prev_pageview_last_scroll:l,$prev_pageview_last_scroll_percentage:m,$prev_pageview_max_scroll:c,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:x,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:y})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(n.getTime()-r.timestamp.getTime())/1e3),i}}var Ja=Uint8Array,ya=Uint16Array,lp=Uint32Array,kv=new Ja([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tv=new Ja([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N7=new Ja([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WI=function(e,n){for(var s=new ya(31),r=0;r<31;++r)s[r]=n+=1<<e[r-1];var i=new lp(s[30]);for(r=1;r<30;++r)for(var a=s[r];a<s[r+1];++a)i[a]=a-s[r]<<5|r;return[s,i]},GI=WI(kv,2),$W=GI[0],i6=GI[1];$W[28]=258,i6[258]=28;for(var F7=WI(Tv,0)[1],qI=new ya(32768),Ar=0;Ar<32768;++Ar){var Uc=(43690&Ar)>>>1|(21845&Ar)<<1;Uc=(61680&(Uc=(52428&Uc)>>>2|(13107&Uc)<<2))>>>4|(3855&Uc)<<4,qI[Ar]=((65280&Uc)>>>8|(255&Uc)<<8)>>>1}var bf=function(e,n,s){for(var r=e.length,i=0,a=new ya(n);i<r;++i)++a[e[i]-1];var o,l=new ya(n);for(i=0;i<n;++i)l[i]=l[i-1]+a[i-1]<<1;for(o=new ya(r),i=0;i<r;++i)o[i]=qI[l[e[i]-1]++]>>>15-e[i];return o},Md=new Ja(288);for(Ar=0;Ar<144;++Ar)Md[Ar]=8;for(Ar=144;Ar<256;++Ar)Md[Ar]=9;for(Ar=256;Ar<280;++Ar)Md[Ar]=7;for(Ar=280;Ar<288;++Ar)Md[Ar]=8;var Ex=new Ja(32);for(Ar=0;Ar<32;++Ar)Ex[Ar]=5;var zW=bf(Md,9),WW=bf(Ex,5),KI=function(e){return(e/8>>0)+(7&e&&1)},YI=function(e,n,s){(s==null||s>e.length)&&(s=e.length);var r=new(e instanceof ya?ya:e instanceof lp?lp:Ja)(s-n);return r.set(e.subarray(n,s)),r},nl=function(e,n,s){s<<=7&n;var r=n/8>>0;e[r]|=s,e[r+1]|=s>>>8},l1=function(e,n,s){s<<=7&n;var r=n/8>>0;e[r]|=s,e[r+1]|=s>>>8,e[r+2]|=s>>>16},T5=function(e,n){for(var s=[],r=0;r<e.length;++r)e[r]&&s.push({s:r,f:e[r]});var i=s.length,a=s.slice();if(!i)return[new Ja(0),0];if(i==1){var o=new Ja(s[0].s+1);return o[s[0].s]=1,[o,1]}s.sort((function(j,_){return j.f-_.f})),s.push({s:-1,f:25001});var l=s[0],c=s[1],u=0,p=1,f=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};p!=i-1;)l=s[s[u].f<s[f].f?u++:f++],c=s[u!=p&&s[u].f<s[f].f?u++:f++],s[p++]={s:-1,f:l.f+c.f,l,r:c};var m=a[0].s;for(r=1;r<i;++r)a[r].s>m&&(m=a[r].s);var h=new ya(m+1),x=a6(s[p-1],h,0);if(x>n){r=0;var y=0,v=x-n,g=1<<v;for(a.sort((function(j,_){return h[_.s]-h[j.s]||j.f-_.f}));r<i;++r){var b=a[r].s;if(!(h[b]>n))break;y+=g-(1<<x-h[b]),h[b]=n}for(y>>>=v;y>0;){var w=a[r].s;h[w]<n?y-=1<<n-h[w]++-1:++r}for(;r>=0&&y;--r){var N=a[r].s;h[N]==n&&(--h[N],++y)}x=n}return[new Ja(h),x]},a6=function(e,n,s){return e.s==-1?Math.max(a6(e.l,n,s+1),a6(e.r,n,s+1)):n[e.s]=s},E7=function(e){for(var n=e.length;n&&!e[--n];);for(var s=new ya(++n),r=0,i=e[0],a=1,o=function(c){s[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return[s.subarray(0,r),n]},c1=function(e,n){for(var s=0,r=0;r<n.length;++r)s+=e[r]*n[r];return s},o6=function(e,n,s){var r=s.length,i=KI(n+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=s[a];return 8*(i+4+r)},S7=function(e,n,s,r,i,a,o,l,c,u,p){nl(n,p++,s),++i[256];for(var f=T5(i,15),m=f[0],h=f[1],x=T5(a,15),y=x[0],v=x[1],g=E7(m),b=g[0],w=g[1],N=E7(y),j=N[0],_=N[1],C=new ya(19),F=0;F<b.length;++F)C[31&b[F]]++;for(F=0;F<j.length;++F)C[31&j[F]]++;for(var E=T5(C,7),S=E[0],M=E[1],k=19;k>4&&!S[N7[k-1]];--k);var I,D,P,R,B=u+5<<3,U=c1(i,Md)+c1(a,Ex)+o,H=c1(i,m)+c1(a,y)+o+14+3*k+c1(C,S)+(2*C[16]+3*C[17]+7*C[18]);if(B<=U&&B<=H)return o6(n,p,e.subarray(c,c+u));if(nl(n,p,1+(H<U)),p+=2,H<U){I=bf(m,h),D=m,P=bf(y,v),R=y;var $=bf(S,M);for(nl(n,p,w-257),nl(n,p+5,_-1),nl(n,p+10,k-4),p+=14,F=0;F<k;++F)nl(n,p+3*F,S[N7[F]]);p+=3*k;for(var q=[b,j],Q=0;Q<2;++Q){var V=q[Q];for(F=0;F<V.length;++F){var ee=31&V[F];nl(n,p,$[ee]),p+=S[ee],ee>15&&(nl(n,p,V[F]>>>5&127),p+=V[F]>>>12)}}}else I=zW,D=Md,P=WW,R=Ex;for(F=0;F<l;++F)if(r[F]>255){ee=r[F]>>>18&31,l1(n,p,I[ee+257]),p+=D[ee+257],ee>7&&(nl(n,p,r[F]>>>23&31),p+=kv[ee]);var X=31&r[F];l1(n,p,P[X]),p+=R[X],X>3&&(l1(n,p,r[F]>>>5&8191),p+=Tv[X])}else l1(n,p,I[r[F]]),p+=D[r[F]];return l1(n,p,I[256]),p+D[256]},GW=new lp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qW=(function(){for(var e=new lp(256),n=0;n<256;++n){for(var s=n,r=9;--r;)s=(1&s&&3988292384)^s>>>1;e[n]=s}return e})(),KW=function(e,n,s,r,i){return(function(a,o,l,c,u,p){var f=a.length,m=new Ja(c+f+5*(1+Math.floor(f/7e3))+u),h=m.subarray(c,m.length-u),x=0;if(!o||f<8)for(var y=0;y<=f;y+=65535){var v=y+65535;v<f?x=o6(h,x,a.subarray(y,v)):(h[y]=p,x=o6(h,x,a.subarray(y,f)))}else{for(var g=GW[o-1],b=g>>>13,w=8191&g,N=(1<<l)-1,j=new ya(32768),_=new ya(N+1),C=Math.ceil(l/3),F=2*C,E=function(Me){return(a[Me]^a[Me+1]<<C^a[Me+2]<<F)&N},S=new lp(25e3),M=new ya(288),k=new ya(32),I=0,D=0,P=(y=0,0),R=0,B=0;y<f;++y){var U=E(y),H=32767&y,$=_[U];if(j[H]=$,_[U]=H,R<=y){var q=f-y;if((I>7e3||P>24576)&&q>423){x=S7(a,h,0,S,M,k,D,P,B,y-B,x),P=I=D=0,B=y;for(var Q=0;Q<286;++Q)M[Q]=0;for(Q=0;Q<30;++Q)k[Q]=0}var V=2,ee=0,X=w,ae=H-$&32767;if(q>2&&U==E(y-ae))for(var me=Math.min(b,q)-1,oe=Math.min(32767,y),pe=Math.min(258,q);ae<=oe&&--X&&H!=$;){if(a[y+V]==a[y+V-ae]){for(var se=0;se<pe&&a[y+se]==a[y+se-ae];++se);if(se>V){if(V=se,ee=ae,se>me)break;var re=Math.min(ae,se-2),ve=0;for(Q=0;Q<re;++Q){var we=y-ae+Q+32768&32767,be=we-j[we]+32768&32767;be>ve&&(ve=be,$=we)}}}ae+=(H=$)-($=j[H])+32768&32767}if(ee){S[P++]=268435456|i6[V]<<18|F7[ee];var Ue=31&i6[V],fe=31&F7[ee];D+=kv[Ue]+Tv[fe],++M[257+Ue],++k[fe],R=y+V,++I}else S[P++]=a[y],++M[a[y]]}}x=S7(a,h,p,S,M,k,D,P,B,y-B,x)}return YI(m,0,c+KI(x)+u)})(e,n.level==null?6:n.level,n.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+n.mem,s,r,!0)},I5=function(e,n,s){for(;s;++n)e[n]=s,s>>>=8};function YW(e,n){n===void 0&&(n={});var s=(function(){var l=4294967295;return{p:function(c){for(var u=l,p=0;p<c.length;++p)u=qW[255&u^c[p]]^u>>>8;l=u},d:function(){return 4294967295^l}}})(),r=e.length;s.p(e);var i,a=KW(e,n,10+((i=n).filename&&i.filename.length+1||0),8),o=a.length;return(function(l,c){var u=c.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=c.level<2?4:c.level==9?2:0,l[9]=3,c.mtime!=0&&I5(l,4,Math.floor(new Date(c.mtime||Date.now())/1e3)),u){l[3]=8;for(var p=0;p<=u.length;++p)l[p+10]=u.charCodeAt(p)}})(a,n),I5(a,o-8,s.d()),I5(a,o-4,r),a}var ZW=function(e){var n,s,r,i,a="";for(n=s=0,r=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=e.charCodeAt(i),l=null;o<128?s++:l=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),kl(l)||(s>n&&(a+=e.substring(n,s)),a+=l,n=s=i+1)}return s>n&&(a+=e.substring(n,e.length)),a},JW=!!Hb||!!Vb,k7="text/plain",Sx=function(e,n,s){var r;s===void 0&&(s=!0);var[i,a]=e.split("?"),o=vn({},n),l=(r=a?.split("&").map((u=>{var p,[f,m]=u.split("="),h=s&&(p=o[f])!==null&&p!==void 0?p:m;return delete o[f],f+"="+h})))!==null&&r!==void 0?r:[],c=nW(o);return c&&l.push(c),i+"?"+l.join("&")},Q1=(e,n)=>JSON.stringify(e,((s,r)=>typeof r=="bigint"?r.toString():r),n),A5=e=>{var{data:n,compression:s}=e;if(n){if(s===ml.GZipJS){var r=YW((function(c,u){var p=c.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(c);for(var f=new Ja(c.length+(c.length>>>1)),m=0,h=function(g){f[m++]=g},x=0;x<p;++x){if(m+5>f.length){var y=new Ja(m+8+(p-x<<1));y.set(f),f=y}var v=c.charCodeAt(x);v<128||u?h(v):v<2048?(h(192|v>>>6),h(128|63&v)):v>55295&&v<57344?(h(240|(v=65536+(1047552&v)|1023&c.charCodeAt(++x))>>>18),h(128|v>>>12&63),h(128|v>>>6&63),h(128|63&v)):(h(224|v>>>12),h(128|v>>>6&63),h(128|63&v))}return YI(f,0,m)})(Q1(n)),{mtime:0}),i=new Blob([r],{type:k7});return{contentType:k7,body:i,estimatedSize:i.size}}if(s===ml.Base64){var a=(function(c){var u,p,f,m,h,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=0,v=0,g="",b=[];if(!c)return c;c=ZW(c);do u=(h=c.charCodeAt(y++)<<16|c.charCodeAt(y++)<<8|c.charCodeAt(y++))>>18&63,p=h>>12&63,f=h>>6&63,m=63&h,b[v++]=x.charAt(u)+x.charAt(p)+x.charAt(f)+x.charAt(m);while(y<c.length);switch(g=b.join(""),c.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"="}return g})(Q1(n)),o=(c=>"data="+encodeURIComponent(typeof c=="string"?c:Q1(c)))(a);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var l=Q1(n);return{contentType:"application/json",body:l,estimatedSize:new Blob([l]).size}}},U0=[];Vb&&U0.push({transport:"fetch",method:e=>{var n,s,{contentType:r,body:i,estimatedSize:a}=(n=A5(e))!==null&&n!==void 0?n:{},o=new Headers;Nr(e.headers,(function(p,f){o.append(f,p)})),r&&o.append("Content-Type",r);var l=e.url,c=null;if(Kw){var u=new Kw;c={signal:u.signal,timeout:setTimeout((()=>u.abort()),e.timeout)}}Vb(l,vn({method:e?.method||"GET",headers:o,keepalive:e.method==="POST"&&(a||0)<52428.8,body:i,signal:(s=c)==null?void 0:s.signal},e.fetchOptions)).then((p=>p.text().then((f=>{var m={statusCode:p.status,text:f};if(p.status===200)try{m.json=JSON.parse(f)}catch(h){un.error(h)}e.callback==null||e.callback(m)})))).catch((p=>{un.error(p),e.callback==null||e.callback({statusCode:0,text:p})})).finally((()=>c?clearTimeout(c.timeout):null))}}),Hb&&U0.push({transport:"XHR",method:e=>{var n,s=new Hb;s.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(n=A5(e))!==null&&n!==void 0?n:{};Nr(e.headers,(function(a,o){s.setRequestHeader(o,a)})),r&&s.setRequestHeader("Content-Type",r),e.timeout&&(s.timeout=e.timeout),e.disableXHRCredentials||(s.withCredentials=!0),s.onreadystatechange=()=>{if(s.readyState===4){var a={statusCode:s.status,text:s.responseText};if(s.status===200)try{a.json=JSON.parse(s.responseText)}catch{}e.callback==null||e.callback(a)}},s.send(i)}}),Oa!=null&&Oa.sendBeacon&&U0.push({transport:"sendBeacon",method:e=>{var n=Sx(e.url,{beacon:"1"});try{var s,{contentType:r,body:i}=(s=A5(e))!==null&&s!==void 0?s:{},a=typeof i=="string"?new Blob([i],{type:r}):i;Oa.sendBeacon(n,a)}catch{}}});var cp=function(e,n){if(!(function(s){try{new RegExp(s)}catch{return!1}return!0})(n))return!1;try{return new RegExp(n).test(e)}catch{return!1}};function T7(e,n,s){return Q1({distinct_id:e,userPropertiesToSet:n,userPropertiesToSetOnce:s})}var ZI={exact:(e,n)=>n.some((s=>e.some((r=>s===r)))),is_not:(e,n)=>n.every((s=>e.every((r=>s!==r)))),regex:(e,n)=>n.some((s=>e.some((r=>cp(s,r))))),not_regex:(e,n)=>n.every((s=>e.every((r=>!cp(s,r))))),icontains:(e,n)=>n.map(Hh).some((s=>e.map(Hh).some((r=>s.includes(r))))),not_icontains:(e,n)=>n.map(Hh).every((s=>e.map(Hh).every((r=>!s.includes(r)))))},Hh=e=>e.toLowerCase(),D5=Ci("[Error tracking]");class XW{constructor(n){var s,r;this.Jt=[],this.Kt=new Cz([new Iz,new Uz,new Dz,new Az,new Oz,new Pz,new Lz,new Bz],Tz("web:javascript",Fz,kz)),this._instance=n,this.Jt=(s=(r=this._instance.persistence)==null?void 0:r.get_property(Kb))!==null&&s!==void 0?s:[]}onRemoteConfig(n){var s,r,i,a=(s=(r=n.errorTracking)==null?void 0:r.suppressionRules)!==null&&s!==void 0?s:[],o=(i=n.errorTracking)==null?void 0:i.captureExtensionExceptions;this.Jt=a,this._instance.persistence&&this._instance.persistence.register({[Kb]:this.Jt,[i7]:o})}get Yt(){var n,s=!!this._instance.get_property(i7),r=this._instance.config.error_tracking.captureExtensionExceptions;return(n=r??s)!==null&&n!==void 0&&n}buildProperties(n,s){return this.Kt.buildFromUnknown(n,{syntheticException:s?.syntheticException,mechanism:{handled:s?.handled}})}sendExceptionEvent(n){var s=n.$exception_list;if(this.Xt(s)){if(this.Qt(s))return void D5.info("Skipping exception capture because a suppression rule matched");if(!this.Yt&&this.Zt(s))return void D5.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(s))return void D5.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",n,{_noTruncate:!0,_batchKey:"exceptionEvent"})}Qt(n){if(n.length===0)return!1;var s=n.reduce(((r,i)=>{var{type:a,value:o}=i;return yi(a)&&a.length>0&&r.$exception_types.push(a),yi(o)&&o.length>0&&r.$exception_values.push(o),r}),{$exception_types:[],$exception_values:[]});return this.Jt.some((r=>{var i=r.values.map((a=>{var o,l=ZI[a.operator],c=Fr(a.value)?a.value:[a.value],u=(o=s[a.key])!==null&&o!==void 0?o:[];return c.length>0&&l(c,u)}));return r.type==="OR"?i.some(Boolean):i.every(Boolean)}))}Zt(n){return n.flatMap((s=>{var r,i;return(r=(i=s.stacktrace)==null?void 0:i.frames)!==null&&r!==void 0?r:[]})).some((s=>s.filename&&s.filename.startsWith("chrome-extension://")))}ti(n){if(n.length>0){var s,r,i,a,o=(s=(r=n[0].stacktrace)==null?void 0:r.frames)!==null&&s!==void 0?s:[],l=o[o.length-1];return(i=l==null||(a=l.filename)==null?void 0:a.includes("posthog.com/static"))!==null&&i!==void 0&&i}return!1}Xt(n){return!Ir(n)&&Fr(n)}}var ro=Ci("[FeatureFlags]"),d1=Ci("[FeatureFlags]",{debugEnabled:!0}),M5="$active_feature_flags",ou="$override_feature_flags",I7="$feature_flag_payloads",u1="$override_feature_flag_payloads",A7="$feature_flag_request_id",D7=e=>{var n={};for(var[s,r]of B0(e||{}))r&&(n[s]=r);return n},QW=e=>{var n=e.flags;return n?(e.featureFlags=Object.fromEntries(Object.keys(n).map((s=>{var r;return[s,(r=n[s].variant)!==null&&r!==void 0?r:n[s].enabled]}))),e.featureFlagPayloads=Object.fromEntries(Object.keys(n).filter((s=>n[s].enabled)).filter((s=>{var r;return(r=n[s].metadata)==null?void 0:r.payload})).map((s=>{var r;return[s,(r=n[s].metadata)==null?void 0:r.payload]})))):ro.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},eG=(function(e){return e.FeatureFlags="feature_flags",e.Recordings="recordings",e})({});class tG{constructor(n){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=n,this.featureFlagEventHandlers=[]}li(){var n=this._instance.config.evaluation_environments;return n!=null&&n.length?n.filter((s=>{var r=s&&typeof s=="string"&&s.trim().length>0;return r||ro.error("Invalid evaluation environment found:",s,"Expected non-empty string"),r})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var n=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:n})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var n=this._instance.get_property(Yb),s=this._instance.get_property(ou),r=this._instance.get_property(u1);if(!r&&!s)return n||{};var i=Qr({},n||{}),a=[...new Set([...Object.keys(r||{}),...Object.keys(s||{})])];for(var o of a){var l,c,u=i[o],p=s?.[o],f=sn(p)?(l=u?.enabled)!==null&&l!==void 0&&l:!!p,m=sn(p)?u.variant:typeof p=="string"?p:void 0,h=r?.[o],x=vn({},u,{enabled:f,variant:f?m??u?.variant:void 0});f!==u?.enabled&&(x.original_enabled=u?.enabled),m!==u?.variant&&(x.original_variant=u?.variant),h&&(x.metadata=vn({},u?.metadata,{payload:h,original_payload:u==null||(c=u.metadata)==null?void 0:c.payload})),i[o]=x}return this.ii||(ro.warn(" Overriding feature flag details!",{flagDetails:n,overriddenPayloads:r,finalDetails:i}),this.ii=!0),i}getFlagVariants(){var n=this._instance.get_property(Au),s=this._instance.get_property(ou);if(!s)return n||{};for(var r=Qr({},n),i=Object.keys(s),a=0;a<i.length;a++)r[i[a]]=s[i[a]];return this.ii||(ro.warn(" Overriding feature flags!",{enabledFlags:n,overriddenFlags:s,finalFlags:r}),this.ii=!0),r}getFlagPayloads(){var n=this._instance.get_property(I7),s=this._instance.get_property(u1);if(!s)return n||{};for(var r=Qr({},n||{}),i=Object.keys(s),a=0;a<i.length;a++)r[i[a]]=s[i[a]];return this.ii||(ro.warn(" Overriding feature flag payloads!",{flagPayloads:n,overriddenPayloads:s,finalPayloads:r}),this.ii=!0),r}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(n){this.$anon_distinct_id=n}setReloadingPaused(n){this.si=n}di(n){var s;if(this.vi(),!this._instance.M())if(this.ri)this.ni=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:vn({},((s=this._instance.persistence)==null?void 0:s.get_initial_props())||{},this._instance.get_property(J1)||{}),group_properties:this._instance.get_property(rd)};(n!=null&&n.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0),this.ui()&&(r.evaluation_environments=this.li());var i=this._instance.config.__preview_remote_config,a=i?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",l=this._instance.requestRouter.endpointFor("flags",a+o);i&&(r.timezone=zI()),this.ri=!0,this._instance.ci({method:"POST",url:l,data:r,compression:this._instance.config.disable_compression?void 0:ml.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var u,p,f=!0;if(c.statusCode===200&&(this.ni||(this.$anon_distinct_id=void 0),f=!1),this.ri=!1,this.oi||(this.oi=!0,this._instance.fi((p=c.json)!==null&&p!==void 0?p:{})),!r.disable_flags||this.ni)if(this.ai=!f,c.json&&(u=c.json.quotaLimited)!=null&&u.includes(eG.FeatureFlags))ro.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var m;r.disable_flags||this.receivedFeatureFlags((m=c.json)!==null&&m!==void 0?m:{},f),this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(n,s){if(s===void 0&&(s={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[n],i=""+r,a=this._instance.get_property(A7)||void 0,o=this._instance.get_property(bx)||{};if((s.send_event||!("send_event"in s))&&(!(n in o)||!o[n].includes(i))){var l,c,u,p,f,m,h,x,y;Fr(o[n])?o[n].push(i):o[n]=[i],(l=this._instance.persistence)==null||l.register({[bx]:o});var v=this.getFeatureFlagDetails(n),g={$feature_flag:n,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(n)||null,$feature_flag_request_id:a,$feature_flag_bootstrapped_response:((c=this._instance.config.bootstrap)==null||(c=c.featureFlags)==null?void 0:c[n])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(u=u.featureFlagPayloads)==null?void 0:u[n])||null,$used_bootstrap_value:!this.ai};sn(v==null||(p=v.metadata)==null?void 0:p.version)||(g.$feature_flag_version=v.metadata.version);var b,w=(f=v==null||(m=v.reason)==null?void 0:m.description)!==null&&f!==void 0?f:v==null||(h=v.reason)==null?void 0:h.code;w&&(g.$feature_flag_reason=w),v!=null&&(x=v.metadata)!=null&&x.id&&(g.$feature_flag_id=v.metadata.id),sn(v?.original_variant)&&sn(v?.original_enabled)||(g.$feature_flag_original_response=sn(v.original_variant)?v.original_enabled:v.original_variant),v!=null&&(y=v.metadata)!=null&&y.original_payload&&(g.$feature_flag_original_payload=v==null||(b=v.metadata)==null?void 0:b.original_payload),this._instance.capture("$feature_flag_called",g)}return r}ro.warn('getFeatureFlag for key "'+n+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(n){return this.getFlagsWithDetails()[n]}getFeatureFlagPayload(n){return this.getFlagPayloads()[n]}getRemoteConfigPayload(n,s){var r=this._instance.config.token,i={distinct_id:this._instance.get_distinct_id(),token:r};this.ui()&&(i.evaluation_environments=this.li()),this._instance.ci({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:i,compression:this._instance.config.disable_compression?void 0:ml.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var o,l=(o=a.json)==null?void 0:o.featureFlagPayloads;s(l?.[n]||void 0)}})}isFeatureEnabled(n,s){if(s===void 0&&(s={}),this.ei||this.getFlags()&&this.getFlags().length>0){var r=this.getFeatureFlag(n,s);return sn(r)?void 0:!!r}ro.warn('isFeatureEnabled for key "'+n+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(n){this.featureFlagEventHandlers.push(n)}removeFeatureFlagsHandler(n){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((s=>s!==n))}receivedFeatureFlags(n,s){if(this._instance.persistence){this.ei=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(o,l,c,u,p){c===void 0&&(c={}),u===void 0&&(u={}),p===void 0&&(p={});var f=QW(o),m=f.flags,h=f.featureFlags,x=f.featureFlagPayloads;if(h){var y=o.requestId;if(Fr(h)){ro.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var v={};if(h)for(var g=0;g<h.length;g++)v[h[g]]=!0;l&&l.register({[M5]:h,[Au]:v})}else{var b=h,w=x,N=m;o.errorsWhileComputingFlags&&(b=vn({},c,b),w=vn({},u,w),N=vn({},p,N)),l&&l.register(vn({[M5]:Object.keys(D7(b)),[Au]:b||{},[I7]:w||{},[Yb]:N||{}},y?{[A7]:y}:{}))}}})(n,this._instance.persistence,r,i,a),this.pi(s)}}override(n,s){s===void 0&&(s=!1),ro.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:n,suppressWarning:s})}overrideFeatureFlags(n){if(!this._instance.__loaded||!this._instance.persistence)return ro.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(n===!1)return this._instance.persistence.unregister(ou),this._instance.persistence.unregister(u1),this.pi(),d1.info("All overrides cleared");if(n&&typeof n=="object"&&("flags"in n||"payloads"in n)){var s,r=n;if(this.ii=!!((s=r.suppressWarning)!==null&&s!==void 0&&s),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(ou),d1.info("Flag overrides cleared");else if(r.flags){if(Fr(r.flags)){for(var i={},a=0;a<r.flags.length;a++)i[r.flags[a]]=!0;this._instance.persistence.register({[ou]:i})}else this._instance.persistence.register({[ou]:r.flags});d1.info("Flag overrides set",{flags:r.flags})}}return"payloads"in r&&(r.payloads===!1?(this._instance.persistence.unregister(u1),d1.info("Payload overrides cleared")):r.payloads&&(this._instance.persistence.register({[u1]:r.payloads}),d1.info("Payload overrides set",{payloads:r.payloads}))),void this.pi()}this.pi()}onFeatureFlags(n){if(this.addFeatureFlagsHandler(n),this.ei){var{flags:s,flagVariants:r}=this.gi();n(s,r)}return()=>this.removeFeatureFlagsHandler(n)}updateEarlyAccessFeatureEnrollment(n,s,r){var i,a=(this._instance.get_property(Z1)||[]).find((u=>u.flagKey===n)),o={["$feature_enrollment/"+n]:s},l={$feature_flag:n,$feature_enrollment:s,$set:o};a&&(l.$early_access_feature_name=a.name),r&&(l.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",l),this.setPersonPropertiesForFlags(o,!1);var c=vn({},this.getFlagVariants(),{[n]:s});(i=this._instance.persistence)==null||i.register({[M5]:Object.keys(D7(c)),[Au]:c}),this.pi()}getEarlyAccessFeatures(n,s,r){s===void 0&&(s=!1);var i=this._instance.get_property(Z1),a=r?"&"+r.map((o=>"stage="+o)).join("&"):"";if(i&&!s)return n(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:o=>{var l,c;if(o.json){var u=o.json.earlyAccessFeatures;return(l=this._instance.persistence)==null||l.unregister(Z1),(c=this._instance.persistence)==null||c.register({[Z1]:u}),n(u)}}})}gi(){var n=this.getFlags(),s=this.getFlagVariants();return{flags:n.filter((r=>s[r])),flagVariants:Object.keys(s).filter((r=>s[r])).reduce(((r,i)=>(r[i]=s[i],r)),{})}}pi(n){var{flags:s,flagVariants:r}=this.gi();this.featureFlagEventHandlers.forEach((i=>i(s,r,{errorsLoading:n})))}setPersonPropertiesForFlags(n,s){s===void 0&&(s=!0);var r=this._instance.get_property(J1)||{};this._instance.register({[J1]:vn({},r,n)}),s&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(J1)}setGroupPropertiesForFlags(n,s){s===void 0&&(s=!0);var r=this._instance.get_property(rd)||{};Object.keys(r).length!==0&&Object.keys(r).forEach((i=>{r[i]=vn({},r[i],n[i]),delete n[i]})),this._instance.register({[rd]:vn({},r,n)}),s&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(n){if(n){var s=this._instance.get_property(rd)||{};this._instance.register({[rd]:vn({},s,{[n]:{}})})}else this._instance.unregister(rd)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var nG=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class L5{constructor(n,s){this.F=n,this.props={},this.mi=!1,this.yi=(r=>{var i="";return r.token&&(i=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+i+"_posthog"})(n),this.Y=this.bi(n),this.load(),n.debug&&un.info("Persistence loaded",n.persistence,vn({},this.props)),this.update_config(n,n,s),this.save()}isDisabled(){return!!this.wi}bi(n){nG.indexOf(n.persistence.toLowerCase())===-1&&(un.critical("Unknown persistence type "+n.persistence+"; falling back to localStorage+cookie"),n.persistence="localStorage+cookie");var s=n.persistence.toLowerCase();return s==="localstorage"&&Br.H()?Br:s==="localstorage+cookie"&&Oh.H()?Oh:s==="sessionstorage"&&Ti.H()?Ti:s==="memory"?fW:s==="cookie"?$o:Oh.H()?Oh:$o}properties(){var n={};return Nr(this.props,(function(s,r){if(r===Au&&Mi(s))for(var i=Object.keys(s),a=0;a<i.length;a++)n["$feature/"+i[a]]=s[i[a]];else l=r,c=!1,(kl(o=Gz)?c:qw&&o.indexOf===qw?o.indexOf(l)!=-1:(Nr(o,(function(u){if(c||(c=u===l))return xx})),c))||(n[r]=s);var o,l,c})),n}load(){if(!this.wi){var n=this.Y.W(this.yi);n&&(this.props=Qr({},n))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.$i,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(n,s,r){if(Mi(n)){sn(s)&&(s="None"),this.xi=sn(r)?this.Si:r;var i=!1;if(Nr(n,((a,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==s||(this.props[o]=a,i=!0)})),i)return this.save(),!0}return!1}register(n,s){if(Mi(n)){this.xi=sn(s)?this.Si:s;var r=!1;if(Nr(n,((i,a)=>{n.hasOwnProperty(a)&&this.props[a]!==i&&(this.props[a]=i,r=!0)})),r)return this.save(),!0}return!1}unregister(n){n in this.props&&(delete this.props[n],this.save())}update_campaign_params(){if(!this.mi){var n=OI(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);Iu(wv(n))||this.register(n),this.mi=!0}}update_search_keyword(){var n;this.register((n=on?.referrer)?UI(n):{})}update_referrer_info(){var n;this.register_once({$referrer:VI(),$referring_domain:on!=null&&on.referrer&&((n=Cx(on.referrer))==null?void 0:n.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Qb]||this.props[e6]||this.register_once({[yx]:HI(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var n={};Nr([e6,Qb],(o=>{var l=this.props[o];l&&Nr(l,(function(c,u){n["$initial_"+$b(u)]=c}))}));var s,r,i=this.props[yx];if(i){var a=(s=$I(i),r={},Nr(s,(function(o,l){r["$initial_"+$b(l)]=o})),r);Qr(n,a)}return n}safe_merge(n){return Nr(this.props,(function(s,r){r in n||(n[r]=s)})),n}update_config(n,s,r){if(this.Si=this.xi=n.cookie_expiration,this.set_disabled(n.disable_persistence||!!r),this.set_cross_subdomain(n.cross_subdomain_cookie),this.set_secure(n.secure_cookie),n.persistence!==s.persistence){var i=this.bi(n),a=this.props;this.clear(),this.Y=i,this.props=a,this.save()}}set_disabled(n){this.wi=n,this.wi?this.remove():this.save()}set_cross_subdomain(n){n!==this.$i&&(this.$i=n,this.remove(),this.save())}set_secure(n){n!==this.Ei&&(this.Ei=n,this.remove(),this.save())}set_event_timer(n,s){var r=this.props[Y1]||{};r[n]=s,this.props[Y1]=r,this.save()}remove_event_timer(n){var s=(this.props[Y1]||{})[n];return sn(s)||(delete this.props[Y1][n],this.save()),s}get_property(n){return this.props[n]}set_property(n,s){this.props[n]=s,this.save()}}(function(e){return e.Button="button",e.Tab="tab",e.Selector="selector",e})({});(function(e){return e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger",e})({});(function(e){return e.Top="top",e.Left="left",e.Right="right",e.Bottom="bottom",e})({});var R5=(function(e){return e.Popover="popover",e.API="api",e.Widget="widget",e.ExternalSurvey="external_survey",e})({});(function(e){return e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link",e})({});(function(e){return e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question",e})({});(function(e){return e.Once="once",e.Recurring="recurring",e.Always="always",e})({});var V0=(function(e){return e.SHOWN="survey shown",e.DISMISSED="survey dismissed",e.SENT="survey sent",e})({}),M7=(function(e){return e.SURVEY_ID="$survey_id",e.SURVEY_NAME="$survey_name",e.SURVEY_RESPONSE="$survey_response",e.SURVEY_ITERATION="$survey_iteration",e.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",e.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",e.SURVEY_SUBMISSION_ID="$survey_submission_id",e.SURVEY_QUESTIONS="$survey_questions",e.SURVEY_COMPLETED="$survey_completed",e})({}),JI=(function(e){return e.Popover="popover",e.Inline="inline",e})({});class Iv{constructor(){this.ki={},this.ki={}}on(n,s){return this.ki[n]||(this.ki[n]=[]),this.ki[n].push(s),()=>{this.ki[n]=this.ki[n].filter((r=>r!==s))}}emit(n,s){for(var r of this.ki[n]||[])r(s);for(var i of this.ki["*"]||[])i(n,s)}}class ld{constructor(n){this.Pi=new Iv,this.Ti=(s,r)=>this.Ii(s,r)&&this.Ri(s,r)&&this.Fi(s,r),this.Ii=(s,r)=>r==null||!r.event||s?.event===r?.event,this._instance=n,this.Ci=new Set,this.Oi=new Set}init(){var n;if(!sn((n=this._instance)==null?void 0:n.Mi)){var s;(s=this._instance)==null||s.Mi(((r,i)=>{this.on(r,i)}))}}register(n){var s,r;if(!sn((s=this._instance)==null?void 0:s.Mi)&&(n.forEach((o=>{var l,c;(l=this.Oi)==null||l.add(o),(c=o.steps)==null||c.forEach((u=>{var p;(p=this.Ci)==null||p.add(u?.event||"")}))})),(r=this._instance)!=null&&r.autocapture)){var i,a=new Set;n.forEach((o=>{var l;(l=o.steps)==null||l.forEach((c=>{c!=null&&c.selector&&a.add(c?.selector)}))})),(i=this._instance)==null||i.autocapture.setElementSelectors(a)}}on(n,s){var r;s!=null&&n.length!=0&&(this.Ci.has(n)||this.Ci.has(s?.event))&&this.Oi&&((r=this.Oi)==null?void 0:r.size)>0&&this.Oi.forEach((i=>{this.Ai(s,i)&&this.Pi.emit("actionCaptured",i.name)}))}Di(n){this.onAction("actionCaptured",(s=>n(s)))}Ai(n,s){if(s?.steps==null)return!1;for(var r of s.steps)if(this.Ti(n,r))return!0;return!1}onAction(n,s){return this.Pi.on(n,s)}Ri(n,s){if(s!=null&&s.url){var r,i=n==null||(r=n.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!ld.ji(i,s?.url,s?.url_matching||"contains"))return!1}return!0}static ji(n,s,r){switch(r){case"regex":return!!nt&&cp(n,s);case"exact":return s===n;case"contains":var i=ld.Li(s).replace(/_/g,".").replace(/%/g,".*");return cp(n,i);default:return!1}}static Li(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fi(n,s){if((s!=null&&s.href||s!=null&&s.tag_name||s!=null&&s.text)&&!this.Ni(n).some((a=>!(s!=null&&s.href&&!ld.ji(a.href||"",s?.href,s?.href_matching||"exact"))&&(s==null||!s.tag_name||a.tag_name===s?.tag_name)&&!(s!=null&&s.text&&!ld.ji(a.text||"",s?.text,s?.text_matching||"exact")&&!ld.ji(a.$el_text||"",s?.text,s?.text_matching||"exact")))))return!1;if(s!=null&&s.selector){var r,i=n==null||(r=n.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(s?.selector))return!1}return!0}Ni(n){return n?.properties.$elements==null?[]:n?.properties.$elements}}var mr=Ci("[Surveys]"),l6="seenSurvey_",sG=(e,n)=>{var s="$survey_"+n+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(s="$survey_"+n+"/"+e.id+"/"+e.current_iteration),s},L7=e=>{var n=""+l6+e.id;return e.current_iteration&&e.current_iteration>0&&(n=""+l6+e.id+"_"+e.current_iteration),n},rG=[R5.Popover,R5.Widget,R5.API],iG={ignoreConditions:!1,ignoreDelay:!1,displayType:JI.Popover};class aG{constructor(n){this._instance=n,this.Ui=new Map,this.zi=new Map}register(n){var s;sn((s=this._instance)==null?void 0:s.Mi)||(this.Hi(n),this.Bi(n))}Bi(n){var s=n.filter((r=>{var i,a;return((i=r.conditions)==null?void 0:i.actions)&&((a=r.conditions)==null||(a=a.actions)==null||(a=a.values)==null?void 0:a.length)>0}));s.length!==0&&(this.qi==null&&(this.qi=new ld(this._instance),this.qi.init(),this.qi.Di((r=>{this.onAction(r)}))),s.forEach((r=>{var i,a,o,l,c;r.conditions&&(i=r.conditions)!=null&&i.actions&&(a=r.conditions)!=null&&(a=a.actions)!=null&&a.values&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((l=this.qi)==null||l.register(r.conditions.actions.values),(c=r.conditions)==null||(c=c.actions)==null||(c=c.values)==null||c.forEach((u=>{if(u&&u.name){var p=this.zi.get(u.name);p&&p.push(r.id),this.zi.set(u.name,p||[r.id])}})))})))}Hi(n){var s;n.filter((r=>{var i,a;return((i=r.conditions)==null?void 0:i.events)&&((a=r.conditions)==null||(a=a.events)==null||(a=a.values)==null?void 0:a.length)>0})).length!==0&&((s=this._instance)==null||s.Mi(((r,i)=>{this.onEvent(r,i)})),n.forEach((r=>{var i;(i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach((a=>{if(a&&a.name){var o=this.Ui.get(a.name);o&&o.push(r.id),this.Ui.set(a.name,o||[r.id])}}))})))}onEvent(n,s){var r,i,a=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[Ph])||[];if(V0.SHOWN===n&&s&&a.length>0){var o;mr.info("survey event matched, removing survey from activated surveys",{event:n,eventPayload:s,existingActivatedSurveys:a});var l=s==null||(o=s.properties)==null?void 0:o.$survey_id;if(l){var c=a.indexOf(l);c>=0&&(a.splice(c,1),this.Wi(a))}}else if(this.Ui.has(n)){mr.info("survey event name matched",{event:n,eventPayload:s,surveys:this.Ui.get(n)});var u=[];(i=this._instance)==null||i.getSurveys((f=>{u=f.filter((m=>{var h;return(h=this.Ui.get(n))==null?void 0:h.includes(m.id)}))}));var p=u.filter((f=>{var m,h=(m=f.conditions)==null||(m=m.events)==null||(m=m.values)==null?void 0:m.find((x=>x.name===n));return!!h&&(!h.propertyFilters||Object.entries(h.propertyFilters).every((x=>{var y,[v,g]=x,b=s==null||(y=s.properties)==null?void 0:y[v];if(sn(b)||kl(b))return!1;var w=[String(b)],N=ZI[g.operator];return N?N(g.values,w):(mr.warn("Unknown property comparison operator: "+g.operator),!1)})))}));this.Wi(a.concat(p.map((f=>f.id))||[]))}}onAction(n){var s,r=((s=this._instance)==null||(s=s.persistence)==null?void 0:s.props[Ph])||[];this.zi.has(n)&&this.Wi(r.concat(this.zi.get(n)||[]))}Wi(n){var s;mr.info("updating activated surveys",{activatedSurveys:n}),(s=this._instance)==null||(s=s.persistence)==null||s.register({[Ph]:[...new Set(n)]})}getSurveys(){var n,s=(n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[Ph];return s||[]}getEventToSurveys(){return this.Ui}Gi(){return this.qi}}class oG{constructor(n){this.Vi=void 0,this._surveyManager=null,this.Ji=!1,this.Ki=!1,this.Yi=[],this._instance=n,this._surveyEventReceiver=null}onRemoteConfig(n){if(!this._instance.config.disable_surveys){var s=n.surveys;if(Ir(s))return mr.warn("Flags not loaded yet. Not loading surveys.");var r=Fr(s);this.Vi=r?s.length>0:s,mr.info("flags response received, isSurveysEnabled: "+this.Vi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var n=[],s=0;s<localStorage.length;s++){var r=localStorage.key(s);(r!=null&&r.startsWith(l6)||r!=null&&r.startsWith("inProgressSurvey_"))&&n.push(r)}n.forEach((i=>localStorage.removeItem(i)))}loadIfEnabled(){if(!this._surveyManager)if(this.Ki)mr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)mr.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())mr.info("Not loading surveys in cookieless mode without consent.");else{var n=hs?.__PosthogExtensions__;if(n){if(!sn(this.Vi)||this._instance.config.advanced_enable_surveys){var s=this.Vi||this._instance.config.advanced_enable_surveys;this.Ki=!0;try{var r=n.generateSurveys;if(r)return void this.Xi(r,s);var i=n.loadExternalDependency;if(!i)return void this.Qi("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",(a=>{a||!n.generateSurveys?this.Qi("Could not load surveys script",a):this.Xi(n.generateSurveys,s)}))}catch(a){throw this.Qi("Error initializing surveys",a),a}finally{this.Ki=!1}}}else mr.error("PostHog Extensions not found.")}}Xi(n,s){this._surveyManager=n(this._instance,s),this._surveyEventReceiver=new aG(this._instance),mr.info("Surveys loaded successfully"),this.Zi({isLoaded:!0})}Qi(n,s){mr.error(n,s),this.Zi({isLoaded:!1,error:n})}onSurveysLoaded(n){return this.Yi.push(n),this._surveyManager&&this.Zi({isLoaded:!0}),()=>{this.Yi=this.Yi.filter((s=>s!==n))}}getSurveys(n,s){if(s===void 0&&(s=!1),this._instance.config.disable_surveys)return mr.info("Disabled. Not loading surveys."),n([]);var r=this._instance.get_property(Zb);if(r&&!s)return n(r,{isLoaded:!0});if(this.Ji)return n([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Ji=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var a;this.Ji=!1;var o=i.statusCode;if(o!==200||!i.json){var l="Surveys API could not be loaded, status: "+o;return mr.error(l),n([],{isLoaded:!1,error:l})}var c,u=i.json.surveys||[],p=u.filter((f=>(function(m){return!(!m.start_date||m.end_date)})(f)&&((function(m){var h;return!((h=m.conditions)==null||(h=h.events)==null||(h=h.values)==null||!h.length)})(f)||(function(m){var h;return!((h=m.conditions)==null||(h=h.actions)==null||(h=h.values)==null||!h.length)})(f))));return p.length>0&&((c=this._surveyEventReceiver)==null||c.register(p)),(a=this._instance.persistence)==null||a.register({[Zb]:u}),n(u,{isLoaded:!0})}})}catch(i){throw this.Ji=!1,i}}Zi(n){for(var s of this.Yi)try{if(!n.isLoaded)return s([],n);this.getSurveys(s)}catch(r){mr.error("Error in survey callback",r)}}getActiveMatchingSurveys(n,s){if(s===void 0&&(s=!1),!Ir(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(n,s);mr.warn("init was not called")}te(n){var s=null;return this.getSurveys((r=>{var i;s=(i=r.find((a=>a.id===n)))!==null&&i!==void 0?i:null})),s}ie(n){if(Ir(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var s=typeof n=="string"?this.te(n):n;return s?this._surveyManager.checkSurveyEligibility(s):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(n){if(Ir(this._surveyManager))return mr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var s=this.ie(n);return{visible:s.eligible,disabledReason:s.reason}}canRenderSurveyAsync(n,s){return Ir(this._surveyManager)?(mr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((r=>{this.getSurveys((i=>{var a,o=(a=i.find((c=>c.id===n)))!==null&&a!==void 0?a:null;if(o){var l=this.ie(o);r({visible:l.eligible,disabledReason:l.reason})}else r({visible:!1,disabledReason:"Survey not found"})}),s)}))}renderSurvey(n,s){var r;if(Ir(this._surveyManager))mr.warn("init was not called");else{var i=typeof n=="string"?this.te(n):n;if(i!=null&&i.id)if(rG.includes(i.type)){var a=on?.querySelector(s);if(a)return(r=i.appearance)!=null&&r.surveyPopupDelaySeconds?(mr.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var o,l;mr.info("Rendering survey "+i.id+" with delay of "+((o=i.appearance)==null?void 0:o.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(i,a),mr.info("Survey "+i.id+" rendered")}),1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,a);mr.warn("Survey element not found")}else mr.warn("Surveys of type "+i.type+" cannot be rendered in the app");else mr.warn("Survey not found")}}displaySurvey(n,s){var r;if(Ir(this._surveyManager))mr.warn("init was not called");else{var i=this.te(n);if(i){var a=i;if((r=i.appearance)!=null&&r.surveyPopupDelaySeconds&&s.ignoreDelay&&(a=vn({},i,{appearance:vn({},i.appearance,{surveyPopupDelaySeconds:0})})),s.ignoreConditions===!1){var o=this.canRenderSurvey(i);if(!o.visible)return void mr.warn("Survey is not eligible to be displayed: ",o.disabledReason)}s.displayType!==JI.Inline?this._surveyManager.handlePopoverSurvey(a):this.renderSurvey(a,s.selector)}else mr.warn("Survey not found")}}}var R7=Ci("[RateLimiter]");class lG{constructor(n){var s,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var a=i.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach((o=>{R7.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4}))}catch(o){return void R7.warn('could not rate limit - continuing. Error: "'+o?.message+'"',{text:a})}},this.instance=n,this.captureEventsPerSecond=((s=n.config.rate_limiting)==null?void 0:s.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=n.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(n){var s,r,i;n===void 0&&(n=!1);var a=new Date().getTime(),o=(s=(r=this.instance.persistence)==null?void 0:r.get_property(Xb))!==null&&s!==void 0?s:{tokens:this.captureEventsBurstLimit,last:a};o.tokens+=(a-o.last)/1e3*this.captureEventsPerSecond,o.last=a,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var l=o.tokens<1;return l||n||(o.tokens=Math.max(0,o.tokens-1)),!l||this.lastEventRateLimited||n||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=l,(i=this.instance.persistence)==null||i.set_property(Xb,o),{isRateLimited:l,remainingTokens:o.tokens}}isServerRateLimited(n){var s=this.serverLimits[n||"events"]||!1;return s!==!1&&new Date().getTime()<s}}var Vc=Ci("[RemoteConfig]");class cG{constructor(n){this._instance=n}get remoteConfig(){var n;return(n=hs._POSTHOG_REMOTE_CONFIG)==null||(n=n[this._instance.config.token])==null?void 0:n.config}ee(n){var s,r;(s=hs.__PosthogExtensions__)!=null&&s.loadExternalDependency?(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",(()=>n(this.remoteConfig))):(Vc.error("PostHog Extensions not found. Cannot load remote config."),n())}re(n){this._instance.ci({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:s=>{n(s.json)}})}load(){try{if(this.remoteConfig)return Vc.info("Using preloaded remote config",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.M())return void Vc.warn("Remote config is disabled. Falling back to local config.");this.ee((n=>{if(!n)return Vc.info("No config found after loading remote JS config. Falling back to JSON."),void this.re((s=>{this.fi(s)}));this.fi(n)}))}catch(n){Vc.error("Error loading remote config",n)}}fi(n){n?this._instance.config.__preview_remote_config?(this._instance.fi(n),n.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Vc.info("__preview_remote_config is disabled. Logging config instead",n):Vc.error("Failed to fetch remote config from PostHog.")}}var c6=3e3;class dG{constructor(n,s){this.se=!0,this.ne=[],this.oe=Po(s?.flush_interval_ms||c6,250,5e3,un.createLogger("flush interval"),c6),this.ae=n}enqueue(n){this.ne.push(n),this.le||this.ue()}unload(){this.he();var n=this.ne.length>0?this.de():{},s=Object.values(n);[...s.filter((r=>r.url.indexOf("/e")===0)),...s.filter((r=>r.url.indexOf("/e")!==0))].map((r=>{this.ae(vn({},r,{transport:"sendBeacon"}))}))}enable(){this.se=!1,this.ue()}ue(){var n=this;this.se||(this.le=setTimeout((()=>{if(this.he(),this.ne.length>0){var s=this.de(),r=function(){var a=s[i],o=new Date().getTime();a.data&&Fr(a.data)&&Nr(a.data,(l=>{l.offset=Math.abs(l.timestamp-o),delete l.timestamp})),n.ae(a)};for(var i in s)r()}}),this.oe))}he(){clearTimeout(this.le),this.le=void 0}de(){var n={};return Nr(this.ne,(s=>{var r,i=s,a=(i?i.batchKey:null)||i.url;sn(n[a])&&(n[a]=vn({},i,{data:[]})),(r=n[a].data)==null||r.push(i.data)})),this.ne=[],n}}var uG=["retriesPerformedSoFar"];class pG{constructor(n){this.ve=!1,this.ce=3e3,this.ne=[],this._instance=n,this.ne=[],this.fe=!0,!sn(nt)&&"onLine"in nt.navigator&&(this.fe=nt.navigator.onLine,this.pe=()=>{this.fe=!0,this.Dt()},this.ge=()=>{this.fe=!1},li(nt,"online",this.pe),li(nt,"offline",this.ge))}get length(){return this.ne.length}retriableRequest(n){var{retriesPerformedSoFar:s}=n,r=qT(n,uG);Zo(s)&&s>0&&(r.url=Sx(r.url,{retry_count:s})),this._instance.ci(vn({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(s??0)<10?this._e(vn({retriesPerformedSoFar:s},r)):r.callback==null||r.callback(i)}}))}_e(n){var s=n.retriesPerformedSoFar||0;n.retriesPerformedSoFar=s+1;var r=(function(o){var l=3e3*Math.pow(2,o),c=l/2,u=Math.min(18e5,l),p=(Math.random()-.5)*(u-c);return Math.ceil(u+p)})(s),i=Date.now()+r;this.ne.push({retryAt:i,requestOptions:n});var a="Enqueued failed request for retry in "+r;navigator.onLine||(a+=" (Browser is offline)"),un.warn(a),this.ve||(this.ve=!0,this.me())}me(){if(this.ye&&clearTimeout(this.ye),this.ne.length===0)return this.ve=!1,void(this.ye=void 0);this.ye=setTimeout((()=>{this.fe&&this.ne.length>0&&this.Dt(),this.me()}),this.ce)}Dt(){var n=Date.now(),s=[],r=this.ne.filter((a=>a.retryAt<n||(s.push(a),!1)));if(this.ne=s,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:n}of(this.ye&&(clearTimeout(this.ye),this.ye=void 0),this.ve=!1,sn(nt)||(this.pe&&(nt.removeEventListener("online",this.pe),this.pe=void 0),this.ge&&(nt.removeEventListener("offline",this.ge),this.ge=void 0)),this.ne))try{this._instance.ci(vn({},n,{transport:"sendBeacon"}))}catch(s){un.error(s)}this.ne=[]}}class fG{constructor(n){this.be=()=>{var s,r,i,a;this.we||(this.we={});var o=this.scrollElement(),l=this.scrollY(),c=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=l+(o?.clientHeight||0),p=o?.scrollHeight||0;this.we.lastScrollY=Math.ceil(l),this.we.maxScrollY=Math.max(l,(s=this.we.maxScrollY)!==null&&s!==void 0?s:0),this.we.maxScrollHeight=Math.max(c,(r=this.we.maxScrollHeight)!==null&&r!==void 0?r:0),this.we.lastContentY=u,this.we.maxContentY=Math.max(u,(i=this.we.maxContentY)!==null&&i!==void 0?i:0),this.we.maxContentHeight=Math.max(p,(a=this.we.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=n}getContext(){return this.we}resetContext(){var n=this.we;return setTimeout(this.be,0),n}startMeasuringScrollPosition(){li(nt,"scroll",this.be,{capture:!0}),li(nt,"scrollend",this.be,{capture:!0}),li(nt,"resize",this.be)}scrollElement(){if(!this._instance.config.scroll_root_selector)return nt?.document.documentElement;var n=Fr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var s of n){var r=nt?.document.querySelector(s);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var n=this.scrollElement();return n&&n.scrollTop||0}return nt&&(nt.scrollY||nt.pageYOffset||nt.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var n=this.scrollElement();return n&&n.scrollLeft||0}return nt&&(nt.scrollX||nt.pageXOffset||nt.document.documentElement.scrollLeft)||0}}var mG=e=>HI(e?.config.mask_personal_data_properties,e?.config.custom_personal_data_properties);class P7{constructor(n,s,r,i){this.xe=a=>{var o=this.$e();if(!o||o.sessionId!==a){var l={sessionId:a,props:this.Ee(this._instance)};this.Se.register({[Jb]:l})}},this._instance=n,this.ke=s,this.Se=r,this.Ee=i||mG,this.ke.onSessionId(this.xe)}$e(){return this.Se.props[Jb]}getSetOnceProps(){var n,s=(n=this.$e())==null?void 0:n.props;return s?"r"in s?$I(s):{$referring_domain:s.referringDomain,$pathname:s.initialPathName,utm_source:s.utm_source,utm_campaign:s.utm_campaign,utm_medium:s.utm_medium,utm_content:s.utm_content,utm_term:s.utm_term}:{}}getSessionProps(){var n={};return Nr(wv(this.getSetOnceProps()),((s,r)=>{r==="$current_url"&&(r="url"),n["$session_entry_"+$b(r)]=s})),n}}var P5=Ci("[SessionId]");class O7{on(n,s){return this.Pe.on(n,s)}constructor(n,s,r){var i;if(this.Te=[],this.Ie=void 0,this.Pe=new Iv,this.Re=(p,f)=>Math.abs(p-f)>this.sessionTimeoutMs,!n.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(n.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.F=n.config,this.Se=n.persistence,this.Fe=void 0,this.Ce=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Oe=s||Jl,this.Me=r||Jl;var a=this.F.persistence_name||this.F.token,o=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Po(o,60,36e3,P5.createLogger("session_idle_timeout_seconds"),1800),n.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ae(),this.De="ph_"+a+"_window_id",this.je="ph_"+a+"_primary_window_exists",this.Le()){var l=Ti.W(this.De),c=Ti.W(this.je);l&&!c?this.Fe=l:Ti.V(this.De),Ti.G(this.je,!0)}if((i=this.F.bootstrap)!=null&&i.sessionID)try{var u=(p=>{var f=p.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.F.bootstrap.sessionID);this.Ne(this.F.bootstrap.sessionID,new Date().getTime(),u)}catch(p){P5.error("Invalid sessionID in bootstrap",p)}this.Ue()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(n){return sn(this.Te)&&(this.Te=[]),this.Te.push(n),this.Ce&&n(this.Ce,this.Fe),()=>{this.Te=this.Te.filter((s=>s!==n))}}Le(){return this.F.persistence!=="memory"&&!this.Se.wi&&Ti.H()}ze(n){n!==this.Fe&&(this.Fe=n,this.Le()&&Ti.G(this.De,n))}He(){return this.Fe?this.Fe:this.Le()?Ti.W(this.De):null}Ne(n,s,r){n===this.Ce&&s===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=s,this.Ce=n,this.Se.register({[gx]:[s,n,r]}))}Be(){if(this.Ce&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ce,this._sessionStartTimestamp];var n=this.Se.props[gx];return Fr(n)&&n.length===2&&n.push(n[0]),n||[0,null,0]}resetSessionId(){this.Ne(null,null,null)}destroy(){clearTimeout(this.qe),this.qe=void 0,this.Ie&&nt&&(nt.removeEventListener("beforeunload",this.Ie,{capture:!1}),this.Ie=void 0),this.Te=[]}Ue(){this.Ie=()=>{this.Le()&&Ti.V(this.je)},li(nt,"beforeunload",this.Ie,{capture:!1})}checkAndGetSessionAndWindowId(n,s){if(n===void 0&&(n=!1),s===void 0&&(s=null),this.F.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=s||new Date().getTime(),[i,a,o]=this.Be(),l=this.He(),c=Zo(o)&&o>0&&Math.abs(r-o)>864e5,u=!1,p=!a,f=!p&&!n&&this.Re(r,i);p||f||c?(a=this.Oe(),l=this.Me(),P5.info("new session ID generated",{sessionId:a,windowId:l,changeReason:{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}}),o=r,u=!0):l||(l=this.Me(),u=!0);var m=i===0||!n||c?r:i,h=o===0?new Date().getTime():o;return this.ze(l),this.Ne(a,m,h),n||this.Ae(),u&&this.Te.forEach((x=>x(a,l,u?{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}:void 0))),{sessionId:a,windowId:l,sessionStartTimestamp:h,changeReason:u?{noSessionId:p,activityTimeout:f,sessionPastMaximumLength:c}:void 0,lastActivityTimestamp:i}}Ae(){clearTimeout(this.qe),this.qe=setTimeout((()=>{var[n]=this.Be();if(this.Re(new Date().getTime(),n)){var s=this.Ce;this.resetSessionId(),this.Pe.emit("forcedIdleReset",{idleSessionId:s})}}),1.1*this.sessionTimeoutMs)}}var hG=["$set_once","$set"],Rl=Ci("[SiteApps]");class xG{constructor(n){this._instance=n,this.We=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ge(n,s){if(s){var r=this.globalsForEvent(s);this.We.push(r),this.We.length>1e3&&(this.We=this.We.slice(10))}}get siteAppLoaders(){var n;return(n=hs._POSTHOG_REMOTE_CONFIG)==null||(n=n[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var n=this._instance.Mi(this.Ge.bind(this));this.Ve=()=>{n(),this.We=[],this.Ve=void 0}}}globalsForEvent(n){var s,r,i,a,o,l,c;if(!n)throw new Error("Event payload is required");var u={},p=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[m,h]of Object.entries(f))u[m]={id:p[m],type:m,properties:h};var{$set_once:x,$set:y}=n;return{event:vn({},qT(n,hG),{properties:vn({},n.properties,y?{$set:vn({},(s=(r=n.properties)==null?void 0:r.$set)!==null&&s!==void 0?s:{},y)}:{},x?{$set_once:vn({},(i=(a=n.properties)==null?void 0:a.$set_once)!==null&&i!==void 0?i:{},x)}:{}),elements_chain:(o=(l=n.properties)==null?void 0:l.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(c=n.properties)==null?void 0:c.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:u}}setupSiteApp(n){var s=this.apps[n.id],r=()=>{var l;!s.errored&&this.We.length&&(Rl.info("Processing "+this.We.length+" events for site app with id "+n.id),this.We.forEach((c=>s.processEvent==null?void 0:s.processEvent(c))),s.processedBuffer=!0),Object.values(this.apps).every((c=>c.processedBuffer||c.errored))&&((l=this.Ve)==null||l.call(this))},i=!1,a=l=>{s.errored=!l,s.loaded=!0,Rl.info("Site app with id "+n.id+" "+(l?"loaded":"errored")),i&&r()};try{var{processEvent:o}=n.init({posthog:this._instance,callback:l=>{a(l)}});o&&(s.processEvent=o),i=!0}catch(l){Rl.error("Error while initializing PostHog app with config id "+n.id,l),a(!1)}if(i&&s.loaded)try{r()}catch(l){Rl.error("Error while processing buffered events PostHog app with config id "+n.id,l),s.errored=!0}}Je(){var n=this.siteAppLoaders||[];for(var s of n)this.apps[s.id]={id:s.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of n)this.setupSiteApp(r)}Ke(n){if(Object.keys(this.apps).length!==0){var s=this.globalsForEvent(n);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(s)}catch(i){Rl.error("Error while processing event "+n.event+" for site app "+r.id,i)}}}onRemoteConfig(n){var s,r,i,a=this;if((s=this.siteAppLoaders)!=null&&s.length)return this.isEnabled?(this.Je(),void this._instance.on("eventCaptured",(u=>this.Ke(u)))):void Rl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.Ve)==null||r.call(this),(i=n.siteApps)!=null&&i.length)if(this.isEnabled){var o=function(u){var p;hs["__$$ph_site_app_"+u]=a._instance,(p=hs.__PosthogExtensions__)==null||p.loadSiteApp==null||p.loadSiteApp(a._instance,c,(f=>{if(f)return Rl.error("Error while initializing PostHog app with config id "+u,f)}))};for(var{id:l,url:c}of n.siteApps)o(l)}else Rl.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var XI=function(e,n){if(!e)return!1;var s=e.userAgent;if(s&&Jw(s,n))return!0;try{var r=e?.userAgentData;if(r!=null&&r.brands&&r.brands.some((i=>Jw(i?.brand,n))))return!0}catch{}return!!e.webdriver},ef=(function(e){return e.US="us",e.EU="eu",e.CUSTOM="custom",e})({}),B7="i.posthog.com";class gG{constructor(n){this.Ye={},this.instance=n}get apiHost(){var n=this.instance.config.api_host.trim().replace(/\/$/,"");return n==="https://app.posthog.com"?"https://us.i.posthog.com":n}get flagsApiHost(){var n=this.instance.config.flags_api_host;return n?n.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var n,s=(n=this.instance.config.ui_host)==null?void 0:n.replace(/\/$/,"");return s||(s=this.apiHost.replace("."+B7,".posthog.com")),s==="https://app.posthog.com"?"https://us.posthog.com":s}get region(){return this.Ye[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ef.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ef.EU:this.Ye[this.apiHost]=ef.CUSTOM),this.Ye[this.apiHost]}endpointFor(n,s){if(s===void 0&&(s=""),s&&(s=s[0]==="/"?s:"/"+s),n==="ui")return this.uiHost+s;if(n==="flags")return this.flagsApiHost+s;if(this.region===ef.CUSTOM)return this.apiHost+s;var r=B7+s;switch(n){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var bG={icontains:(e,n)=>!!nt&&n.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,n)=>!!nt&&n.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,n)=>!!nt&&cp(n.href,e),not_regex:(e,n)=>!!nt&&!cp(n.href,e),exact:(e,n)=>n.href===e,is_not:(e,n)=>n.href!==e};class $i{constructor(n){var s=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),s.getWebExperiments((i=>{$i.Xe("retrieved web experiments from the server"),s.Qe=new Map,i.forEach((a=>{if(a.feature_flag_key){var o;s.Qe&&($i.Xe("setting flag key ",a.feature_flag_key," to web experiment ",a),(o=s.Qe)==null||o.set(a.feature_flag_key,a));var l=s._instance.getFeatureFlag(a.feature_flag_key);yi(l)&&a.variants[l]&&s.Ze(a.name,l,a.variants[l].transforms)}else if(a.variants)for(var c in a.variants){var u=a.variants[c];$i.tr(u)&&s.Ze(a.name,c,u.transforms)}}))}),r)},this._instance=n,this._instance.onFeatureFlags((r=>{this.onFeatureFlags(r)}))}onFeatureFlags(n){if(this._is_bot())$i.Xe("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ir(this.Qe))return this.Qe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();$i.Xe("applying feature flags",n),n.forEach((s=>{var r;if(this.Qe&&(r=this.Qe)!=null&&r.has(s)){var i,a=this._instance.getFeatureFlag(s),o=(i=this.Qe)==null?void 0:i.get(s);a&&o!=null&&o.variants[a]&&this.Ze(o.name,a,o.variants[a].transforms)}}))}}previewWebExperiment(){var n=$i.getWindowLocation();if(n!=null&&n.search){var s=_x(n?.search,"__experiment_id"),r=_x(n?.search,"__experiment_variant");s&&r&&($i.Xe("previewing web experiments "+s+" && "+r),this.getWebExperiments((i=>{this.ir(parseInt(s),r,i)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(n,s,r){if(this._instance.config.disable_web_experiments&&!r)return n([]);var i=this._instance.get_property("$web_experiments");if(i&&!s)return n(i);this._instance.ci({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return n([]);var o=a.json.experiments||[];return n(o)}})}ir(n,s,r){var i=r.filter((a=>a.id===n));i&&i.length>0&&($i.Xe("Previewing web experiment ["+i[0].name+"] with variant ["+s+"]"),this.Ze(i[0].name,s,i[0].variants[s].transforms))}static tr(n){return!Ir(n.conditions)&&$i.er(n)&&$i.rr(n)}static er(n){var s;if(Ir(n.conditions)||Ir((s=n.conditions)==null?void 0:s.url))return!0;var r,i,a,o=$i.getWindowLocation();return!!o&&((r=n.conditions)==null||!r.url||bG[(i=(a=n.conditions)==null?void 0:a.urlMatchType)!==null&&i!==void 0?i:"icontains"](n.conditions.url,o))}static getWindowLocation(){return nt?.location}static rr(n){var s;if(Ir(n.conditions)||Ir((s=n.conditions)==null?void 0:s.utm))return!0;var r=OI();if(r.utm_source){var i,a,o,l,c,u,p,f,m=(i=n.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((a=n.conditions)==null||(a=a.utm)==null?void 0:a.utm_campaign)==r.utm_campaign,h=(o=n.conditions)==null||(o=o.utm)==null||!o.utm_source||((l=n.conditions)==null||(l=l.utm)==null?void 0:l.utm_source)==r.utm_source,x=(c=n.conditions)==null||(c=c.utm)==null||!c.utm_medium||((u=n.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==r.utm_medium,y=(p=n.conditions)==null||(p=p.utm)==null||!p.utm_term||((f=n.conditions)==null||(f=f.utm)==null?void 0:f.utm_term)==r.utm_term;return m&&x&&y&&h}return!1}static Xe(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];un.info("[WebExperiments] "+n,r)}Ze(n,s,r){this._is_bot()?$i.Xe("Refusing to render web experiment since the viewer is a likely bot"):s!=="control"?r.forEach((i=>{if(i.selector){var a;$i.Xe("applying transform of variant "+s+" for experiment "+n+" ",i);var o=(a=document)==null?void 0:a.querySelectorAll(i.selector);o?.forEach((l=>{var c=l;i.html&&(c.innerHTML=i.html),i.css&&c.setAttribute("style",i.css)}))}})):$i.Xe("Control variants leave the page unmodified.")}_is_bot(){return Oa&&this._instance?XI(Oa,this._instance.config.custom_blocked_useragents):void 0}}var yG=Ci("[PostHog ExternalIntegrations]"),vG={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class wG{constructor(n){this._instance=n}it(n,s){var r;(r=hs.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,n,(i=>{if(i)return yG.error("failed to load script",i);s()}))}startIfEnabledOrStop(){var n=this,s=function(o){var l,c,u;!i||(l=hs.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]||n.it(vG[o],(()=>{var p;(p=hs.__PosthogExtensions__)==null||(p=p.integrations)==null||(p=p[o])==null||p.start(n._instance)})),!i&&(c=hs.__PosthogExtensions__)!=null&&(c=c.integrations)!=null&&c[o]&&((u=hs.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[r,i]of Object.entries((a=this._instance.config.integrations)!==null&&a!==void 0?a:{})){var a;s(r)}}}var d6="[SessionRecording]",p1=Ci(d6);class U7{get started(){var n;return!((n=this.sr)==null||!n.isStarted)}get status(){return this.sr?this.sr.status:this.nr&&!this.ar?"disabled":"lazy_loading"}constructor(n){if(this._forceAllowLocalhostNetworkCapture=!1,this.nr=!1,this.lr=void 0,this._instance=n,!this._instance.sessionManager)throw p1.error("started without valid sessionManager"),new Error(d6+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(d6+' cannot be used with cookieless_mode="always"')}get ar(){var n,s=!((n=this._instance.get_property(j5))==null||!n.enabled),r=!this._instance.config.disable_session_recording,i=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return nt&&s&&r&&!i}startIfEnabledOrStop(n){var s;if(!this.ar||(s=this.sr)==null||!s.isStarted){var r=!sn(Object.assign)&&!sn(Array.from);this.ar&&r?(this.ur(n),p1.info("starting")):this.stopRecording()}}ur(n){var s,r,i;this.ar&&(hs!=null&&(s=hs.__PosthogExtensions__)!=null&&(s=s.rrweb)!=null&&s.record&&(r=hs.__PosthogExtensions__)!=null&&r.initSessionRecording?this.hr(n):(i=hs.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,this.dr,(a=>{if(a)return p1.error("could not load recorder",a);this.hr(n)})))}stopRecording(){var n,s;(n=this.lr)==null||n.call(this),this.lr=void 0,(s=this.sr)==null||s.stop()}vr(){var n;(n=this._instance.persistence)==null||n.unregister(sI)}cr(n){if(this._instance.persistence){var s,r,i=this._instance.persistence,a=()=>{var o=n.sessionRecording===!1?void 0:n.sessionRecording,l=o?.sampleRate,c=Ir(l)?null:parseFloat(l);Ir(c)&&this.vr();var u=o?.minimumDurationMilliseconds;i.register({[j5]:vn({enabled:!!o},o,{networkPayloadCapture:vn({capturePerformance:n.capturePerformance},o?.networkPayloadCapture),canvasRecording:{enabled:o?.recordCanvas,fps:o?.canvasFps,quality:o?.canvasQuality},sampleRate:c,minimumDurationMilliseconds:sn(u)?null:u,endpoint:o?.endpoint,triggerMatchType:o?.triggerMatchType,masking:o?.masking,urlTriggers:o?.urlTriggers})})};a(),(s=this.lr)==null||s.call(this),this.lr=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(a)}}onRemoteConfig(n){"sessionRecording"in n?n.sessionRecording!==!1?(this.cr(n),this.nr=!0,this.startIfEnabledOrStop()):this.nr=!0:p1.info("skipping remote config with no sessionRecording",n)}log(n,s){var r;s===void 0&&(s="log"),(r=this.sr)!=null&&r.log?this.sr.log(n,s):p1.warn("log called before recorder was ready")}get dr(){var n,s,r=(n=this._instance)==null||(n=n.persistence)==null?void 0:n.get_property(j5);return(r==null||(s=r.scriptConfig)==null?void 0:s.script)||"lazy-recorder"}hr(n){var s,r;if((s=hs.__PosthogExtensions__)==null||!s.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.sr||(this.sr=(r=hs.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.sr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.sr.start(n)}onRRwebEmit(n){var s;(s=this.sr)==null||s.onRRwebEmit==null||s.onRRwebEmit(n)}overrideLinkedFlag(){var n,s;this.sr||(s=this._instance.persistence)==null||s.register({$replay_override_linked_flag:!0}),(n=this.sr)==null||n.overrideLinkedFlag()}overrideSampling(){var n,s;this.sr||(s=this._instance.persistence)==null||s.register({$replay_override_sampling:!0}),(n=this.sr)==null||n.overrideSampling()}overrideTrigger(n){var s,r;this.sr||(r=this._instance.persistence)==null||r.register({[n==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(s=this.sr)==null||s.overrideTrigger(n)}get sdkDebugProperties(){var n;return((n=this.sr)==null?void 0:n.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(n,s){var r;return!((r=this.sr)==null||!r.tryAddCustomEvent(n,s))}}var yf={},u6=()=>{},Su="posthog",QI=!JW&&pa?.indexOf("MSIE")===-1&&pa?.indexOf("Mozilla")===-1,V7=e=>{var n;return vn({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:Wz(on?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:u6,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:e??"unset",__preview_deferred_init_extensions:!1,debug:fa&&yi(fa?.search)&&fa.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(nt==null||(n=nt.location)==null?void 0:n.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:s=>{var r="Bad HTTP status: "+s.statusCode+" "+s.text;un.error(r)},get_device_id:s=>s,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:c6},error_tracking:{},_onCapture:u6,__preview_eager_load_replay:!1},(s=>({rageclick:!(s&&s>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(s&&s>="2025-05-24")||"history_change",session_recording:s&&s>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(e))},H7=e=>{var n={};sn(e.process_person)||(n.person_profiles=e.process_person),sn(e.xhr_headers)||(n.request_headers=e.xhr_headers),sn(e.cookie_name)||(n.persistence_name=e.cookie_name),sn(e.disable_cookie)||(n.disable_persistence=e.disable_cookie),sn(e.store_google)||(n.save_campaign_params=e.store_google),sn(e.verbose)||(n.debug=e.verbose);var s=Qr({},n,e);return Fr(e.property_blacklist)&&(sn(e.property_denylist)?s.property_denylist=e.property_blacklist:Fr(e.property_denylist)?s.property_denylist=[...e.property_blacklist,...e.property_denylist]:un.error("Invalid value for property_denylist config: "+e.property_denylist)),s};class CG{constructor(){this.__forceAllowLocalhost=!1}get pr(){return this.__forceAllowLocalhost}set pr(n){un.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=n}}class Bg{get decideEndpointWasHit(){var n,s;return(n=(s=this.featureFlags)==null?void 0:s.hasLoadedFlags)!==null&&n!==void 0&&n}get flagsEndpointWasHit(){var n,s;return(n=(s=this.featureFlags)==null?void 0:s.hasLoadedFlags)!==null&&n!==void 0&&n}constructor(){this.webPerformance=new CG,this.gr=!1,this.version=ul.LIB_VERSION,this._r=new Iv,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=V7(),this.SentryIntegration=vW,this.sentryIntegration=n=>(function(s,r){var i=wI(s,r);return{name:vI,processEvent:a=>i(a)}})(this,n),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.mr=!1,this.yr=null,this.br=null,this.wr=null,this.featureFlags=new tG(this),this.toolbar=new CW(this),this.scrollManager=new fG(this),this.pageViewManager=new HW(this),this.surveys=new oG(this),this.experiments=new $i(this),this.exceptions=new XW(this),this.rateLimiter=new lG(this),this.requestRouter=new gG(this),this.consent=new mW(this),this.externalIntegrations=new wG(this),this.people={set:(n,s,r)=>{var i=yi(n)?{[n]:s}:n;this.setPersonProperties(i),r?.({})},set_once:(n,s,r)=>{var i=yi(n)?{[n]:s}:n;this.setPersonProperties(void 0,i),r?.({})}},this.on("eventCaptured",(n=>un.info('send "'+n?.event+'"',n)))}init(n,s,r){if(r&&r!==Su){var i,a=(i=yf[r])!==null&&i!==void 0?i:new Bg;return a._init(n,s,r),yf[r]=a,yf[Su][r]=a,a}return this._init(n,s,r)}_init(n,s,r){var i;if(s===void 0&&(s={}),sn(n)||zb(n))return un.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return this;this.__loaded=!0,this.config={},s.debug=this.$r(s.debug),this.Er=s,this.Sr=[],s.person_profiles&&(this.br=s.person_profiles),this.set_config(Qr({},V7(s.defaults),H7(s),{name:r,token:n})),this.config.on_xhr_error&&un.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=s.disable_compression?void 0:ml.GZipJS;var a=this.kr();this.persistence=new L5(this.config,a),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new L5(vn({},this.config,{persistence:"sessionStorage"}),a);var o=vn({},this.persistence.props),l=vn({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Pr=new dG((b=>this.Tr(b)),this.config.request_queue_config),this.Ir=new pG(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new O7(this),this.sessionPropsManager=new P7(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(un.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Rr(c)}),0)):(un.info("Initializing extensions synchronously"),this.Rr(c)),ul.DEBUG=ul.DEBUG||this.config.debug,ul.DEBUG&&un.info("Starting in debug mode",{this:this,config:s,thisC:vn({},this.config),p:o,s:l}),((i=s.bootstrap)==null?void 0:i.distinctID)!==void 0){var u,p,f=this.config.get_device_id(Jl()),m=(u=s.bootstrap)!=null&&u.isIdentifiedID?f:s.bootstrap.distinctID;this.persistence.set_property(pl,(p=s.bootstrap)!=null&&p.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:m})}if(this.Fr()){var h,x,y=Object.keys(((h=s.bootstrap)==null?void 0:h.featureFlags)||{}).filter((b=>{var w;return!((w=s.bootstrap)==null||(w=w.featureFlags)==null||!w[b])})).reduce(((b,w)=>{var N;return b[w]=((N=s.bootstrap)==null||(N=N.featureFlags)==null?void 0:N[w])||!1,b}),{}),v=Object.keys(((x=s.bootstrap)==null?void 0:x.featureFlagPayloads)||{}).filter((b=>y[b])).reduce(((b,w)=>{var N,j;return(N=s.bootstrap)!=null&&(N=N.featureFlagPayloads)!=null&&N[w]&&(b[w]=(j=s.bootstrap)==null||(j=j.featureFlagPayloads)==null?void 0:j[w]),b}),{});this.featureFlags.receivedFeatureFlags({featureFlags:y,featureFlagPayloads:v})}if(c)this.register_once({distinct_id:i1,$device_id:null},"");else if(!this.get_distinct_id()){var g=this.config.get_device_id(Jl());this.register_once({distinct_id:g,$device_id:g},""),this.persistence.set_property(pl,"anonymous")}return li(nt,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),s.segment?yW(this,(()=>this.Cr())):this.Cr(),tc(this.config._onCapture)&&this.config._onCapture!==u6&&(un.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(b=>this.config._onCapture(b.event,b)))),this.config.ip&&un.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Rr(n){var s=performance.now();this.historyAutocapture=new bW(this),this.historyAutocapture.startIfEnabled();var r=[];r.push((()=>{new jW(this).startIfEnabledOrStop()})),r.push((()=>{var i;this.siteApps=new xG(this),(i=this.siteApps)==null||i.init()})),n||r.push((()=>{this.sessionRecording=new U7(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||r.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),r.push((()=>{this.autocapture=new aW(this),this.autocapture.startIfEnabled()})),r.push((()=>{this.surveys.loadIfEnabled()})),r.push((()=>{this.heatmaps=new VW(this),this.heatmaps.startIfEnabled()})),r.push((()=>{this.webVitalsAutocapture=new BW(this)})),r.push((()=>{this.exceptionObserver=new gW(this),this.exceptionObserver.startIfEnabled()})),r.push((()=>{this.deadClicksAutocapture=new yI(this,xW),this.deadClicksAutocapture.startIfEnabled()})),r.push((()=>{if(this.Or){var i=this.Or;this.Or=void 0,this.fi(i)}})),this.Mr(r,s)}Mr(n,s){for(;n.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-s>=30&&n.length>0)return void setTimeout((()=>{this.Mr(n,s)}),0);var r=n.shift();if(r)try{r()}catch(a){un.error("Error initializing extension:",a)}}var i=Math.round(performance.now()-s);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:i}),this.config.__preview_deferred_init_extensions&&un.info("PostHog extensions initialized ("+i+"ms)")}fi(n){var s,r,i,a,o,l,c,u;if(!on||!on.body)return un.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.fi(n)}),500);this.config.__preview_deferred_init_extensions&&(this.Or=n),this.compression=void 0,n.supportedCompression&&!this.config.disable_compression&&(this.compression=Ls(n.supportedCompression,ml.GZipJS)?ml.GZipJS:Ls(n.supportedCompression,ml.Base64)?ml.Base64:void 0),(s=n.analytics)!=null&&s.endpoint&&(this.analyticsDefaultEndpoint=n.analytics.endpoint),this.set_config({person_profiles:this.br?this.br:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(n),(i=this.sessionRecording)==null||i.onRemoteConfig(n),(a=this.autocapture)==null||a.onRemoteConfig(n),(o=this.heatmaps)==null||o.onRemoteConfig(n),this.surveys.onRemoteConfig(n),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(n),(c=this.exceptionObserver)==null||c.onRemoteConfig(n),this.exceptions.onRemoteConfig(n),(u=this.deadClicksAutocapture)==null||u.onRemoteConfig(n)}Cr(){try{this.config.loaded(this)}catch(n){un.critical("`loaded` function failed",n)}this.Ar(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.Dr()}),1),new cG(this).load(),this.featureFlags.flags()}Ar(){var n;this.is_capturing()&&this.config.request_batching&&((n=this.Pr)==null||n.enable())}_dom_loaded(){this.is_capturing()&&sc(this.__request_queue,(n=>this.Tr(n))),this.__request_queue=[],this.Ar()}_handle_unload(){var n,s;this.config.request_batching?(this.jr()&&this.capture("$pageleave"),(n=this.Pr)==null||n.unload(),(s=this.Ir)==null||s.unload()):this.jr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ci(n){this.__loaded&&(QI?this.__request_queue.push(n):this.rateLimiter.isServerRateLimited(n.batchKey)||(n.transport=n.transport||this.config.api_transport,n.url=Sx(n.url,{ip:this.config.ip?1:0}),n.headers=vn({},this.config.request_headers),n.compression=n.compression==="best-available"?this.compression:n.compression,n.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(n.disableTransport=["sendBeacon"]),n.fetchOptions=n.fetchOptions||this.config.fetch_options,(s=>{var r,i,a,o=vn({},s);o.timeout=o.timeout||6e4,o.url=Sx(o.url,{_:new Date().getTime().toString(),ver:ul.LIB_VERSION,compression:o.compression});var l=(r=o.transport)!==null&&r!==void 0?r:"fetch",c=U0.filter((p=>!o.disableTransport||!p.transport||!o.disableTransport.includes(p.transport))),u=(i=(a=eI(c,(p=>p.transport===l)))==null?void 0:a.method)!==null&&i!==void 0?i:c[0].method;if(!u)throw new Error("No available transport method");u(o)})(vn({},n,{callback:s=>{var r,i;this.rateLimiter.checkForLimiting(s),s.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,s)),n.callback==null||n.callback(s)}}))))}Tr(n){this.Ir?this.Ir.retriableRequest(n):this.ci(n)}_execute_array(n){var s,r=[],i=[],a=[];sc(n,(l=>{l&&(s=l[0],Fr(s)?a.push(l):tc(l)?l.call(this):Fr(l)&&s==="alias"?r.push(l):Fr(l)&&s.indexOf("capture")!==-1&&tc(this[s])?a.push(l):i.push(l))}));var o=function(l,c){sc(l,(function(u){if(Fr(u[0])){var p=c;Nr(u,(function(f){p=p[f[0]].apply(p,f.slice(1))}))}else this[u[0]].apply(this,u.slice(1))}),c)};o(r,this),o(i,this),o(a,this)}Fr(){var n,s;return((n=this.config.bootstrap)==null?void 0:n.featureFlags)&&Object.keys((s=this.config.bootstrap)==null?void 0:s.featureFlags).length>0||!1}push(n){this._execute_array([n])}capture(n,s,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Pr){if(this.is_capturing())if(!sn(n)&&yi(n)){var a=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(a&&!this.config.__preview_capture_bot_pageviews)){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){s!=null&&s.$current_url&&!yi(s?.$current_url)&&(un.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),s==null||delete s.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var l=new Date,c=r?.timestamp||l,u=Jl(),p={uuid:u,event:n,properties:this.calculateEventProperties(n,s||{},c,u)};n==="$pageview"&&this.config.__preview_capture_bot_pageviews&&a&&(p.event="$bot_pageview",p.properties.$browser_type="bot"),o&&(p.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r?.$set&&(p.$set=r?.$set);var f,m=this.Lr(r?.$set_once);if(m&&(p.$set_once=m),(p=$z(p,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=c,sn(r?.timestamp)||(p.properties.$event_time_override_provided=!0,p.properties.$event_time_override_system_time=l),n===V0.DISMISSED||n===V0.SENT){var h=s?.[M7.SURVEY_ID],x=s?.[M7.SURVEY_ITERATION];f={id:h,current_iteration:x},localStorage.getItem(L7(f))||localStorage.setItem(L7(f),"true"),p.$set=vn({},p.$set,{[sG({id:h,current_iteration:x},n===V0.SENT?"responded":"dismissed")]:!0})}var y=vn({},p.properties.$set,p.$set);if(Iu(y)||this.setPersonPropertiesForFlags(y),!Ir(this.config.before_send)){var v=this.Nr(p);if(!v)return;p=v}this._r.emit("eventCaptured",p);var g={method:"POST",url:(i=r?._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:p,compression:"best-available",batchKey:r?._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Tr(g):this.Pr.enqueue(g),p}un.critical("This capture call is ignored due to client rate limiting.")}}else un.error("No event name provided to posthog.capture")}else un.uninitializedWarning("posthog.capture")}Mi(n){return this.on("eventCaptured",(s=>n(s.event,s)))}calculateEventProperties(n,s,r,i,a){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return s;var o=a?void 0:this.persistence.remove_event_timer(n),l=vn({},s);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),n==="$snapshot"){var c=vn({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=c.distinct_id,(!yi(l.distinct_id)&&!Zo(l.distinct_id)||zb(l.distinct_id))&&un.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var u,p=OW(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:m}=this.sessionManager.checkAndGetSessionAndWindowId(a,r.getTime());l.$session_id=f,l.$window_id=m}this.sessionPropsManager&&Qr(l,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&Qr(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=(h=this.Ir)==null?void 0:h.length}catch(g){l.$sdk_debug_error_capturing_properties=String(g)}if(this.requestRouter.region===ef.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),u=n!=="$pageview"||a?n!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),l=Qr(l,u),n==="$pageview"&&on&&(l.title=on.title),!sn(o)){var x=r.getTime()-o;l.$duration=parseFloat((x/1e3).toFixed(3))}pa&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=Qr({},p,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),Fr(this.config.property_denylist)?Nr(this.config.property_denylist,(function(g){delete l[g]})):un.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var y=this.config.sanitize_properties;y&&(un.error("sanitize_properties is deprecated. Use before_send instead"),l=y(l,n));var v=this.Ur();return l.$process_person_profile=v,v&&!a&&this.zr("_calculate_event_properties"),l}Lr(n){var s;if(!this.persistence||!this.Ur()||this.gr)return n;var r=this.persistence.get_initial_props(),i=(s=this.sessionPropsManager)==null?void 0:s.getSetOnceProps(),a=Qr({},r,i||{},n||{}),o=this.config.sanitize_properties;return o&&(un.error("sanitize_properties is deprecated. Use before_send instead"),a=o(a,"$set_once")),this.gr=!0,Iu(a)?void 0:a}register(n,s){var r;(r=this.persistence)==null||r.register(n,s)}register_once(n,s,r){var i;(i=this.persistence)==null||i.register_once(n,s,r)}register_for_session(n){var s;(s=this.sessionPersistence)==null||s.register(n)}unregister(n){var s;(s=this.persistence)==null||s.unregister(n)}unregister_for_session(n){var s;(s=this.sessionPersistence)==null||s.unregister(n)}Hr(n,s){this.register({[n]:s})}getFeatureFlag(n,s){return this.featureFlags.getFeatureFlag(n,s)}getFeatureFlagPayload(n){var s=this.featureFlags.getFeatureFlagPayload(n);try{return JSON.parse(s)}catch{return s}}isFeatureEnabled(n,s){return this.featureFlags.isFeatureEnabled(n,s)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(n,s,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(n,s,r)}getEarlyAccessFeatures(n,s,r){return s===void 0&&(s=!1),this.featureFlags.getEarlyAccessFeatures(n,s,r)}on(n,s){return this._r.on(n,s)}onFeatureFlags(n){return this.featureFlags.onFeatureFlags(n)}onSurveysLoaded(n){return this.surveys.onSurveysLoaded(n)}onSessionId(n){var s,r;return(s=(r=this.sessionManager)==null?void 0:r.onSessionId(n))!==null&&s!==void 0?s:()=>{}}getSurveys(n,s){s===void 0&&(s=!1),this.surveys.getSurveys(n,s)}getActiveMatchingSurveys(n,s){s===void 0&&(s=!1),this.surveys.getActiveMatchingSurveys(n,s)}renderSurvey(n,s){this.surveys.renderSurvey(n,s)}displaySurvey(n,s){s===void 0&&(s=iG),this.surveys.displaySurvey(n,s)}canRenderSurvey(n){return this.surveys.canRenderSurvey(n)}canRenderSurveyAsync(n,s){return s===void 0&&(s=!1),this.surveys.canRenderSurveyAsync(n,s)}identify(n,s,r){if(!this.__loaded||!this.persistence)return un.uninitializedWarning("posthog.identify");if(Zo(n)&&(n=n.toString(),un.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),n)if(["distinct_id","distinctid"].includes(n.toLowerCase()))un.critical('The string "'+n+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(n!==i1){if(this.zr("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:n}),!this.get_property("$device_id")){var a=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}n!==i&&n!==this.get_property(K1)&&(this.unregister(K1),this.register({distinct_id:n}));var o=(this.persistence.get_property(pl)||"anonymous")==="anonymous";n!==i&&o?(this.persistence.set_property(pl,"identified"),this.setPersonPropertiesForFlags(vn({},r||{},s||{}),!1),this.capture("$identify",{distinct_id:n,$anon_distinct_id:i},{$set:s||{},$set_once:r||{}}),this.wr=T7(n,s,r),this.featureFlags.setAnonymousDistinctId(i)):(s||r)&&this.setPersonProperties(s,r),n!==i&&(this.reloadFeatureFlags(),this.unregister(bx))}}else un.critical('The string "'+i1+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else un.error("Unique user id has not been set in posthog.identify")}setPersonProperties(n,s){if((n||s)&&this.zr("posthog.setPersonProperties")){var r=T7(this.get_distinct_id(),n,s);this.wr!==r?(this.setPersonPropertiesForFlags(vn({},s||{},n||{})),this.capture("$set",{$set:n||{},$set_once:s||{}}),this.wr=r):un.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(n,s,r){if(n&&s){if(this.zr("posthog.group")){var i=this.getGroups();i[n]!==s&&this.resetGroupPropertiesForFlags(n),this.register({$groups:vn({},i,{[n]:s})}),r&&(this.capture("$groupidentify",{$group_type:n,$group_key:s,$group_set:r}),this.setGroupPropertiesForFlags({[n]:r})),i[n]===s||r||this.reloadFeatureFlags()}}else un.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(n,s){s===void 0&&(s=!0),this.featureFlags.setPersonPropertiesForFlags(n,s)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(n,s){s===void 0&&(s=!0),this.zr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(n,s)}resetGroupPropertiesForFlags(n){this.featureFlags.resetGroupPropertiesForFlags(n)}reset(n){var s,r,i,a;if(un.info("reset"),!this.__loaded)return un.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(s=this.persistence)==null||s.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(pl,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.wr=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:i1,$device_id:null},"");else{var l=this.config.get_device_id(Jl());this.register_once({distinct_id:l,$device_id:n?l:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var n,s;return(n=(s=this.sessionManager)==null?void 0:s.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&n!==void 0?n:""}get_session_replay_url(n){if(!this.sessionManager)return"";var{sessionId:s,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+s);if(n!=null&&n.withTimestamp&&r){var a,o=(a=n.timestampLookBack)!==null&&a!==void 0?a:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}return i}alias(n,s){return n===this.get_property(tI)?(un.critical("Attempting to create alias for existing People user - aborting."),-2):this.zr("posthog.alias")?(sn(s)&&(s=this.get_distinct_id()),n!==s?(this.Hr(K1,n),this.capture("$create_alias",{alias:n,distinct_id:s})):(un.warn("alias matches current distinct_id - skipping api call."),this.identify(n),-1)):void 0}set_config(n){var s=vn({},this.config);if(Mi(n)){var r,i,a,o,l;Qr(this.config,H7(n));var c=this.kr();(r=this.persistence)==null||r.update_config(this.config,s,c),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new L5(vn({},this.config,{persistence:"sessionStorage"}),c);var u=this.$r(this.config.debug);nc(u)&&(this.config.debug=u),nc(this.config.debug)&&(this.config.debug?(ul.DEBUG=!0,Br.H()&&Br.G("ph_debug","true"),un.info("set_config",{config:n,oldConfig:s,newConfig:vn({},this.config)})):(ul.DEBUG=!1,Br.H()&&Br.V("ph_debug"))),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(a=this.autocapture)==null||a.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Br(),(l=this.externalIntegrations)==null||l.startIfEnabledOrStop()}}startSessionRecording(n){var s=n===!0,r={sampling:s||!(n==null||!n.sampling),linked_flag:s||!(n==null||!n.linked_flag),url_trigger:s||!(n==null||!n.url_trigger),event_trigger:s||!(n==null||!n.event_trigger)};if(Object.values(r).some(Boolean)){var i,a,o,l,c;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),r.url_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("url")),r.event_trigger&&((c=this.sessionRecording)==null||c.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var n;return!((n=this.sessionRecording)==null||!n.started)}captureException(n,s){var r=new Error("PostHog syntheticException"),i=this.exceptions.buildProperties(n,{handled:!0,syntheticException:r});return this.exceptions.sendExceptionEvent(vn({},i,s))}loadToolbar(n){return this.toolbar.loadToolbar(n)}get_property(n){var s;return(s=this.persistence)==null?void 0:s.props[n]}getSessionProperty(n){var s;return(s=this.sessionPersistence)==null?void 0:s.props[n]}toString(){var n,s=(n=this.config.name)!==null&&n!==void 0?n:Su;return s!==Su&&(s=Su+"."+s),s}_isIdentified(){var n,s;return((n=this.persistence)==null?void 0:n.get_property(pl))==="identified"||((s=this.sessionPersistence)==null?void 0:s.get_property(pl))==="identified"}Ur(){var n,s;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Iu(this.getGroups())&&((n=this.persistence)==null||(n=n.props)==null||!n[K1])&&((s=this.persistence)==null||(s=s.props)==null||!s[vx]))}jr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Ur()||this.zr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}zr(n){return this.config.person_profiles==="never"?(un.error(n+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Hr(vx,!0),!0)}kr(){if(this.config.cookieless_mode==="always")return!0;var n=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||n&&!!s}Br(){var n,s,r,i,a=this.kr();return((n=this.persistence)==null?void 0:n.wi)!==a&&((r=this.persistence)==null||r.set_disabled(a)),((s=this.sessionPersistence)==null?void 0:s.wi)!==a&&((i=this.sessionPersistence)==null||i.set_disabled(a)),a}opt_in_capturing(n){if(this.config.cookieless_mode!=="always"){var s,r;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(s=this.sessionManager)==null||s.destroy(),this.sessionManager=new O7(this),this.persistence&&(this.sessionPropsManager=new P7(this,this.sessionManager,this.persistence)),this.sessionRecording=new U7(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Br(),this.Ar(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(sn(n?.captureEventName)||n!=null&&n.captureEventName)&&this.capture((r=n?.captureEventName)!==null&&r!==void 0?r:"$opt_in",n?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Dr()}else un.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var n,s;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Br(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:i1,$device_id:null}),(n=this.sessionManager)==null||n.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(s=this.sessionRecording)==null||s.stopRecording(),this.sessionRecording=void 0,this.Dr())):un.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var n=this.consent.consent;return n===fl.GRANTED?"granted":n===fl.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Br()}_is_bot(){return Oa?XI(Oa,this.config.custom_blocked_useragents):void 0}Dr(){on&&(on.visibilityState==="visible"?this.mr||(this.mr=!0,this.capture("$pageview",{title:on.title},{send_instantly:!0}),this.yr&&(on.removeEventListener("visibilitychange",this.yr),this.yr=null)):this.yr||(this.yr=this.Dr.bind(this),li(on,"visibilitychange",this.yr)))}debug(n){n===!1?(nt?.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(nt?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}M(){var n,s,r,i,a,o,l,c=this.Er||{};return"advanced_disable_flags"in c?!!c.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(un.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",i=!1,a=un,o=(s="advanced_disable_flags")in(n=c)&&!sn(n[s]),l=r in n&&!sn(n[r]),o?n[s]:l?(a&&a.warn("Config field '"+r+"' is deprecated. Please use '"+s+"' instead. The old field will be removed in a future major version."),n[r]):i)}Nr(n){if(Ir(this.config.before_send))return n;var s=Fr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=n;for(var i of s){if(r=i(r),Ir(r)){var a="Event '"+n.event+"' was rejected in beforeSend function";return xz(n.event)?un.warn(a+". This can cause unexpected behavior."):un.info(a),null}r.properties&&!Iu(r.properties)||un.warn("Event '"+n.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var n;return(n=this.pageViewManager.Vt)==null?void 0:n.pageViewId}captureTraceFeedback(n,s){this.capture("$ai_feedback",{$ai_trace_id:String(n),$ai_feedback_text:s})}captureTraceMetric(n,s,r){this.capture("$ai_metric",{$ai_trace_id:String(n),$ai_metric_name:s,$ai_metric_value:String(r)})}$r(n){var s=nc(n)&&!n,r=Br.H()&&Br.q("ph_debug")==="true";return!s&&(!!r||n)}}(function(e,n){for(var s=0;s<n.length;s++)e.prototype[n[s]]=Hz(e.prototype[n[s]])})(Bg,["identify"]);var $7,rn=($7=yf[Su]=new Bg,(function(){function e(){e.done||(e.done=!0,QI=!1,Nr(yf,(function(n){n._dom_loaded()})))}on!=null&&on.addEventListener?on.readyState==="complete"?e():li(on,"DOMContentLoaded",e,{capture:!1}):nt&&un.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),$7),_G=class extends Error{constructor(n){super(n[0].message);$t(this,"issues");this.name="SchemaError",this.issues=n}},eA=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(eA||{});function z7(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var W7=Vf;function Av(e,n){if(e===n||!(W7(e)&&W7(n)||Array.isArray(e)&&Array.isArray(n)))return n;const s=Object.keys(n),r=Object.keys(e);let i=s.length===r.length;const a=Array.isArray(n)?[]:{};for(const o of s)a[o]=Av(e[o],n[o]),i&&(i=e[o]===a[o]);return i?e:a}function O5(e){let n=0;for(const s in e)n++;return n}var G7=e=>[].concat(...e);function jG(e){return new RegExp("(^|:)//").test(e)}function NG(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function kx(e){return e!=null}function FG(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var EG=e=>e.replace(/\/$/,""),SG=e=>e.replace(/^\//,"");function kG(e,n){if(!e)return n;if(!n)return e;if(jG(n))return n;const s=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=EG(e),n=SG(n),`${e}${s}${n}`}function TG(e,n,s){return e.has(n)?e.get(n):e.set(n,s).get(n)}function p6(e,n,s){return e.has(n)?e.get(n):e.set(n,s(n)).get(n)}var f6=()=>new Map,q7=(...e)=>fetch(...e),IG=e=>e.status>=200&&e.status<=299,AG=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function K7(e){if(!Vf(e))return e;const n={...e};for(const[s,r]of Object.entries(n))r===void 0&&delete n[s];return n}function $m({baseUrl:e,prepareHeaders:n=f=>f,fetchFn:s=q7,paramsSerializer:r,isJsonContentType:i=AG,jsonContentType:a="application/json",jsonReplacer:o,timeout:l,responseHandler:c,validateStatus:u,...p}={}){return async(m,h,x)=>{const{getState:y,extra:v,endpoint:g,forced:b,type:w}=h;let N,{url:j,headers:_=new Headers(p.headers),params:C=void 0,responseHandler:F=c??"json",validateStatus:E=u??IG,timeout:S=l,...M}=typeof m=="string"?{url:m}:m,k,I=h.signal;S&&(k=new AbortController,h.signal.addEventListener("abort",k.abort),I=k.signal);let D={...p,signal:I,...M};_=new Headers(K7(_)),D.headers=await n(_,{getState:y,arg:m,extra:v,endpoint:g,forced:b,type:w,extraOptions:x})||_;const P=ee=>typeof ee=="object"&&(Vf(ee)||Array.isArray(ee)||typeof ee.toJSON=="function");if(!D.headers.has("content-type")&&P(D.body)&&D.headers.set("content-type",a),P(D.body)&&i(D.headers)&&(D.body=JSON.stringify(D.body,o)),C){const ee=~j.indexOf("?")?"&":"?",X=r?r(C):new URLSearchParams(K7(C));j+=ee+X}j=kG(e,j);const R=new Request(j,D);N={request:new Request(j,D)};let U,H=!1,$=k&&setTimeout(()=>{H=!0,k.abort()},S);try{U=await s(R)}catch(ee){return{error:{status:H?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ee)},meta:N}}finally{$&&clearTimeout($),k?.signal.removeEventListener("abort",k.abort)}const q=U.clone();N.response=q;let Q,V="";try{let ee;if(await Promise.all([f(U,F).then(X=>Q=X,X=>ee=X),q.text().then(X=>V=X,()=>{})]),ee)throw ee}catch(ee){return{error:{status:"PARSING_ERROR",originalStatus:U.status,data:V,error:String(ee)},meta:N}}return E(U,Q)?{data:Q,meta:N}:{error:{status:U.status,data:Q},meta:N}};async function f(m,h){if(typeof h=="function")return h(m);if(h==="content-type"&&(h=i(m.headers)?"json":"text"),h==="json"){const x=await m.text();return x.length?JSON.parse(x):null}return m.text()}}var Y7=class{constructor(e,n=void 0){this.value=e,this.meta=n}},Ug=kp("__rtkq/focused"),Dv=kp("__rtkq/unfocused"),Vg=kp("__rtkq/online"),Mv=kp("__rtkq/offline"),B5=!1;function DG(e,n){function s(){const r=()=>e(Ug()),i=()=>e(Dv()),a=()=>e(Vg()),o=()=>e(Mv()),l=()=>{window.document.visibilityState==="visible"?r():i()};return B5||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",a,!1),window.addEventListener("offline",o,!1),B5=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",a),window.removeEventListener("offline",o),B5=!1}}return s()}function Hg(e){return e.type==="query"}function MG(e){return e.type==="mutation"}function $g(e){return e.type==="infinitequery"}function Tx(e){return Hg(e)||$g(e)}function Lv(e,n,s,r,i,a){return LG(e)?e(n,s,r,i).filter(kx).map(m6).map(a):Array.isArray(e)?e.map(m6).map(a):[]}function LG(e){return typeof e=="function"}function m6(e){return typeof e=="string"?{type:e}:e}function RG(e,n){return e.catch(n)}var Kf=Symbol("forceQueryFn"),h6=e=>typeof e[Kf]=="function";function PG({serializeQueryArgs:e,queryThunk:n,infiniteQueryThunk:s,mutationThunk:r,api:i,context:a,internalState:o}){const{runningQueries:l,runningMutations:c}=o,{unsubscribeQueryResult:u,removeMutationResult:p,updateSubscriptionOptions:f}=i.internalActions;return{buildInitiateQuery:g,buildInitiateInfiniteQuery:b,buildInitiateMutation:w,getRunningQueryThunk:m,getRunningMutationThunk:h,getRunningQueriesThunk:x,getRunningMutationsThunk:y};function m(N,j){return _=>{const C=a.endpointDefinitions[N],F=e({queryArgs:j,endpointDefinition:C,endpointName:N});return l.get(_)?.[F]}}function h(N,j){return _=>c.get(_)?.[j]}function x(){return N=>Object.values(l.get(N)||{}).filter(kx)}function y(){return N=>Object.values(c.get(N)||{}).filter(kx)}function v(N,j){const _=(C,{subscribe:F=!0,forceRefetch:E,subscriptionOptions:S,[Kf]:M,...k}={})=>(I,D)=>{const P=e({queryArgs:C,endpointDefinition:j,endpointName:N});let R;const B={...k,type:"query",subscribe:F,forceRefetch:E,subscriptionOptions:S,endpointName:N,originalArgs:C,queryCacheKey:P,[Kf]:M};if(Hg(j))R=n(B);else{const{direction:me,initialPageParam:oe}=k;R=s({...B,direction:me,initialPageParam:oe})}const U=i.endpoints[N].select(C),H=I(R),$=U(D()),{requestId:q,abort:Q}=H,V=$.requestId!==q,ee=l.get(I)?.[P],X=()=>U(D()),ae=Object.assign(M?H.then(X):V&&!ee?Promise.resolve($):Promise.all([ee,H]).then(X),{arg:C,requestId:q,subscriptionOptions:S,queryCacheKey:P,abort:Q,async unwrap(){const me=await ae;if(me.isError)throw me.error;return me.data},refetch:()=>I(_(C,{subscribe:!1,forceRefetch:!0})),unsubscribe(){F&&I(u({queryCacheKey:P,requestId:q}))},updateSubscriptionOptions(me){ae.subscriptionOptions=me,I(f({endpointName:N,requestId:q,queryCacheKey:P,options:me}))}});if(!ee&&!V&&!M){const me=TG(l,I,{});me[P]=ae,ae.then(()=>{delete me[P],O5(me)||l.delete(I)})}return ae};return _}function g(N,j){return v(N,j)}function b(N,j){return v(N,j)}function w(N){return(j,{track:_=!0,fixedCacheKey:C}={})=>(F,E)=>{const S=r({type:"mutation",endpointName:N,originalArgs:j,track:_,fixedCacheKey:C}),M=F(S),{requestId:k,abort:I,unwrap:D}=M,P=RG(M.unwrap().then(H=>({data:H})),H=>({error:H})),R=()=>{F(p({requestId:k,fixedCacheKey:C}))},B=Object.assign(P,{arg:M.arg,requestId:k,abort:I,unwrap:D,reset:R}),U=c.get(F)||{};return c.set(F,U),U[k]=B,B.then(()=>{delete U[k],O5(U)||c.delete(F)}),C&&(U[C]=B,B.then(()=>{U[C]===B&&(delete U[C],O5(U)||c.delete(F))})),B}}}var tA=class extends _G{constructor(e,n,s,r){super(e),this.value=n,this.schemaName=s,this._bqMeta=r}},Hc=(e,n)=>Array.isArray(e)?e.includes(n):!!e;async function $c(e,n,s,r){const i=await e["~standard"].validate(n);if(i.issues)throw new tA(i.issues,n,s,r);return i.value}function Z7(e){return e}var f1=(e={})=>({...e,[BT]:!0});function OG({reducerPath:e,baseQuery:n,context:{endpointDefinitions:s},serializeQueryArgs:r,api:i,assertTagType:a,selectors:o,onSchemaFailure:l,catchSchemaFailure:c,skipSchemaValidation:u}){const p=(M,k,I,D)=>(P,R)=>{const B=s[M],U=r({queryArgs:k,endpointDefinition:B,endpointName:M});if(P(i.internalActions.queryResultPatched({queryCacheKey:U,patches:I})),!D)return;const H=i.endpoints[M].select(k)(R()),$=Lv(B.providesTags,H.data,void 0,k,{},a);P(i.internalActions.updateProvidedBy([{queryCacheKey:U,providedTags:$}]))};function f(M,k,I=0){const D=[k,...M];return I&&D.length>I?D.slice(0,-1):D}function m(M,k,I=0){const D=[...M,k];return I&&D.length>I?D.slice(1):D}const h=(M,k,I,D=!0)=>(P,R)=>{const U=i.endpoints[M].select(k)(R()),H={patches:[],inversePatches:[],undo:()=>P(i.util.patchQueryData(M,k,H.inversePatches,D))};if(U.status==="uninitialized")return H;let $;if("data"in U)if(D$(U.data)){const[q,Q,V]=VT(U.data,I);H.patches.push(...Q),H.inversePatches.push(...V),$=q}else $=I(U.data),H.patches.push({op:"replace",path:[],value:$}),H.inversePatches.push({op:"replace",path:[],value:U.data});return H.patches.length===0||P(i.util.patchQueryData(M,k,H.patches,D)),H},x=(M,k,I)=>D=>D(i.endpoints[M].initiate(k,{subscribe:!1,forceRefetch:!0,[Kf]:()=>({data:I})})),y=(M,k)=>M.query&&M[k]?M[k]:Z7,v=async(M,{signal:k,abort:I,rejectWithValue:D,fulfillWithValue:P,dispatch:R,getState:B,extra:U})=>{const H=s[M.endpointName],{metaSchema:$,skipSchemaValidation:q=u}=H;try{let Q=Z7;const V={signal:k,abort:I,dispatch:R,getState:B,extra:U,endpoint:M.endpointName,type:M.type,forced:M.type==="query"?g(M,B()):void 0,queryCacheKey:M.type==="query"?M.queryCacheKey:void 0},ee=M.type==="query"?M[Kf]:void 0;let X;const ae=async(oe,pe,se,re)=>{if(pe==null&&oe.pages.length)return Promise.resolve({data:oe});const ve={queryArg:M.originalArgs,pageParam:pe},we=await me(ve),be=re?f:m;return{data:{pages:be(oe.pages,we.data,se),pageParams:be(oe.pageParams,pe,se)},meta:we.meta}};async function me(oe){let pe;const{extraOptions:se,argSchema:re,rawResponseSchema:ve,responseSchema:we}=H;if(re&&!Hc(q,"arg")&&(oe=await $c(re,oe,"argSchema",{})),ee?pe=ee():H.query?(Q=y(H,"transformResponse"),pe=await n(H.query(oe),V,se)):pe=await H.queryFn(oe,V,se,fe=>n(fe,V,se)),typeof process<"u",pe.error)throw new Y7(pe.error,pe.meta);let{data:be}=pe;ve&&!Hc(q,"rawResponse")&&(be=await $c(ve,pe.data,"rawResponseSchema",pe.meta));let Ue=await Q(be,pe.meta,oe);return we&&!Hc(q,"response")&&(Ue=await $c(we,Ue,"responseSchema",pe.meta)),{...pe,data:Ue}}if(M.type==="query"&&"infiniteQueryOptions"in H){const{infiniteQueryOptions:oe}=H,{maxPages:pe=1/0}=oe;let se;const re={pages:[],pageParams:[]},ve=o.selectQueryEntry(B(),M.queryCacheKey)?.data,be=g(M,B())&&!M.direction||!ve?re:ve;if("direction"in M&&M.direction&&be.pages.length){const Ue=M.direction==="backward",Me=(Ue?nA:x6)(oe,be,M.originalArgs);se=await ae(be,Me,pe,Ue)}else{const{initialPageParam:Ue=oe.initialPageParam}=M,fe=ve?.pageParams??[],Me=fe[0]??Ue,J=fe.length;se=await ae(be,Me,pe),ee&&(se={data:se.data.pages[0]});for(let Ne=1;Ne<J;Ne++){const ge=x6(oe,se.data,M.originalArgs);se=await ae(se.data,ge,pe)}}X=se}else X=await me(M.originalArgs);return $&&!Hc(q,"meta")&&X.meta&&(X.meta=await $c($,X.meta,"metaSchema",X.meta)),P(X.data,f1({fulfilledTimeStamp:Date.now(),baseQueryMeta:X.meta}))}catch(Q){let V=Q;if(V instanceof Y7){let ee=y(H,"transformErrorResponse");const{rawErrorResponseSchema:X,errorResponseSchema:ae}=H;let{value:me,meta:oe}=V;try{X&&!Hc(q,"rawErrorResponse")&&(me=await $c(X,me,"rawErrorResponseSchema",oe)),$&&!Hc(q,"meta")&&(oe=await $c($,oe,"metaSchema",oe));let pe=await ee(me,oe,M.originalArgs);return ae&&!Hc(q,"errorResponse")&&(pe=await $c(ae,pe,"errorResponseSchema",oe)),D(pe,f1({baseQueryMeta:oe}))}catch(pe){V=pe}}try{if(V instanceof tA){const ee={endpoint:M.endpointName,arg:M.originalArgs,type:M.type,queryCacheKey:M.type==="query"?M.queryCacheKey:void 0};H.onSchemaFailure?.(V,ee),l?.(V,ee);const{catchSchemaFailure:X=c}=H;if(X)return D(X(V,ee),f1({baseQueryMeta:V._bqMeta}))}}catch(ee){V=ee}throw V}};function g(M,k){const I=o.selectQueryEntry(k,M.queryCacheKey),D=o.selectConfig(k).refetchOnMountOrArgChange,P=I?.fulfilledTimeStamp,R=M.forceRefetch??(M.subscribe&&D);return R?R===!0||(Number(new Date)-Number(P))/1e3>=R:!1}const b=()=>fc(`${e}/executeQuery`,v,{getPendingMeta({arg:k}){const I=s[k.endpointName];return f1({startedTimeStamp:Date.now(),...$g(I)?{direction:k.direction}:{}})},condition(k,{getState:I}){const D=I(),P=o.selectQueryEntry(D,k.queryCacheKey),R=P?.fulfilledTimeStamp,B=k.originalArgs,U=P?.originalArgs,H=s[k.endpointName],$=k.direction;return h6(k)?!0:P?.status==="pending"?!1:g(k,D)||Hg(H)&&H?.forceRefetch?.({currentArg:B,previousArg:U,endpointState:P,state:D})?!0:!(R&&!$)},dispatchConditionRejection:!0}),w=b(),N=b(),j=fc(`${e}/executeMutation`,v,{getPendingMeta(){return f1({startedTimeStamp:Date.now()})}}),_=M=>"force"in M,C=M=>"ifOlderThan"in M,F=(M,k,I)=>(D,P)=>{const R=_(I)&&I.force,B=C(I)&&I.ifOlderThan,U=($=!0)=>{const q={forceRefetch:$,isPrefetch:!0};return i.endpoints[M].initiate(k,q)},H=i.endpoints[M].select(k)(P());if(R)D(U());else if(B){const $=H?.fulfilledTimeStamp;if(!$){D(U());return}(Number(new Date)-Number(new Date($)))/1e3>=B&&D(U())}else D(U(!1))};function E(M){return k=>k?.meta?.arg?.endpointName===M}function S(M,k){return{matchPending:b5(UT(M),E(k)),matchFulfilled:b5(Ad(M),E(k)),matchRejected:b5(vv(M),E(k))}}return{queryThunk:w,mutationThunk:j,infiniteQueryThunk:N,prefetch:F,updateQueryData:h,upsertQueryData:x,patchQueryData:p,buildMatchThunkActions:S}}function x6(e,{pages:n,pageParams:s},r){const i=n.length-1;return e.getNextPageParam(n[i],n,s[i],s,r)}function nA(e,{pages:n,pageParams:s},r){return e.getPreviousPageParam?.(n[0],n,s[0],s,r)}function sA(e,n,s,r){return Lv(s[e.meta.arg.endpointName][n],Ad(e)?e.payload:void 0,yv(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function $h(e,n,s){const r=e[n];r&&s(r)}function Yf(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function J7(e,n,s){const r=e[Yf(n)];r&&s(r)}var zh={};function BG({reducerPath:e,queryThunk:n,mutationThunk:s,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:l},assertTagType:c,config:u}){const p=kp(`${e}/resetApiState`);function f(E,S,M,k){var I;E[I=S.queryCacheKey]??(E[I]={status:"uninitialized",endpointName:S.endpointName}),$h(E,S.queryCacheKey,D=>{D.status="pending",D.requestId=M&&D.requestId?D.requestId:k.requestId,S.originalArgs!==void 0&&(D.originalArgs=S.originalArgs),D.startedTimeStamp=k.startedTimeStamp;const P=i[k.arg.endpointName];$g(P)&&"direction"in S&&(D.direction=S.direction)})}function m(E,S,M,k){$h(E,S.arg.queryCacheKey,I=>{if(I.requestId!==S.requestId&&!k)return;const{merge:D}=i[S.arg.endpointName];if(I.status="fulfilled",D)if(I.data!==void 0){const{fulfilledTimeStamp:P,arg:R,baseQueryMeta:B,requestId:U}=S;let H=bv(I.data,$=>D($,M,{arg:R.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:P,requestId:U}));I.data=H}else I.data=M;else I.data=i[S.arg.endpointName].structuralSharing??!0?Av(R$(I.data)?L$(I.data):I.data,M):M;delete I.error,I.fulfilledTimeStamp=S.fulfilledTimeStamp})}const h=sa({name:`${e}/queries`,initialState:zh,reducers:{removeQueryResult:{reducer(E,{payload:{queryCacheKey:S}}){delete E[S]},prepare:r1()},cacheEntriesUpserted:{reducer(E,S){for(const M of S.payload){const{queryDescription:k,value:I}=M;f(E,k,!0,{arg:k,requestId:S.meta.requestId,startedTimeStamp:S.meta.timestamp}),m(E,{arg:k,requestId:S.meta.requestId,fulfilledTimeStamp:S.meta.timestamp,baseQueryMeta:{}},I,!0)}},prepare:E=>({payload:E.map(k=>{const{endpointName:I,arg:D,value:P}=k,R=i[I];return{queryDescription:{type:"query",endpointName:I,originalArgs:k.arg,queryCacheKey:r({queryArgs:D,endpointDefinition:R,endpointName:I})},value:P}}),meta:{[BT]:!0,requestId:RT(),timestamp:Date.now()}})},queryResultPatched:{reducer(E,{payload:{queryCacheKey:S,patches:M}}){$h(E,S,k=>{k.data=Uw(k.data,M.concat())})},prepare:r1()}},extraReducers(E){E.addCase(n.pending,(S,{meta:M,meta:{arg:k}})=>{const I=h6(k);f(S,k,I,M)}).addCase(n.fulfilled,(S,{meta:M,payload:k})=>{const I=h6(M.arg);m(S,M,k,I)}).addCase(n.rejected,(S,{meta:{condition:M,arg:k,requestId:I},error:D,payload:P})=>{$h(S,k.queryCacheKey,R=>{if(!M){if(R.requestId!==I)return;R.status="rejected",R.error=P??D}})}).addMatcher(l,(S,M)=>{const{queries:k}=o(M);for(const[I,D]of Object.entries(k))(D?.status==="fulfilled"||D?.status==="rejected")&&(S[I]=D)})}}),x=sa({name:`${e}/mutations`,initialState:zh,reducers:{removeMutationResult:{reducer(E,{payload:S}){const M=Yf(S);M in E&&delete E[M]},prepare:r1()}},extraReducers(E){E.addCase(s.pending,(S,{meta:M,meta:{requestId:k,arg:I,startedTimeStamp:D}})=>{I.track&&(S[Yf(M)]={requestId:k,status:"pending",endpointName:I.endpointName,startedTimeStamp:D})}).addCase(s.fulfilled,(S,{payload:M,meta:k})=>{k.arg.track&&J7(S,k,I=>{I.requestId===k.requestId&&(I.status="fulfilled",I.data=M,I.fulfilledTimeStamp=k.fulfilledTimeStamp)})}).addCase(s.rejected,(S,{payload:M,error:k,meta:I})=>{I.arg.track&&J7(S,I,D=>{D.requestId===I.requestId&&(D.status="rejected",D.error=M??k)})}).addMatcher(l,(S,M)=>{const{mutations:k}=o(M);for(const[I,D]of Object.entries(k))(D?.status==="fulfilled"||D?.status==="rejected")&&I!==D?.requestId&&(S[I]=D)})}}),y={tags:{},keys:{}},v=sa({name:`${e}/invalidation`,initialState:y,reducers:{updateProvidedBy:{reducer(E,S){var M,k,I;for(const{queryCacheKey:D,providedTags:P}of S.payload){g(E,D);for(const{type:R,id:B}of P){const U=(k=(M=E.tags)[R]??(M[R]={}))[I=B||"__internal_without_id"]??(k[I]=[]);U.includes(D)||U.push(D)}E.keys[D]=P}},prepare:r1()}},extraReducers(E){E.addCase(h.actions.removeQueryResult,(S,{payload:{queryCacheKey:M}})=>{g(S,M)}).addMatcher(l,(S,M)=>{var I,D,P;const{provided:k}=o(M);for(const[R,B]of Object.entries(k.tags??{}))for(const[U,H]of Object.entries(B)){const $=(D=(I=S.tags)[R]??(I[R]={}))[P=U||"__internal_without_id"]??(D[P]=[]);for(const q of H)$.includes(q)||$.push(q),S.keys[q]=k.keys[q]}}).addMatcher(mx(Ad(n),yv(n)),(S,M)=>{b(S,[M])}).addMatcher(h.actions.cacheEntriesUpserted.match,(S,M)=>{const k=M.payload.map(({queryDescription:I,value:D})=>({type:"UNKNOWN",payload:D,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:I}}));b(S,k)})}});function g(E,S){const M=E.keys[S]??[];for(const k of M){const I=k.type,D=k.id??"__internal_without_id",P=E.tags[I]?.[D];P&&(E.tags[I][D]=P.filter(R=>R!==S))}delete E.keys[S]}function b(E,S){const M=S.map(k=>{const I=sA(k,"providesTags",i,c),{queryCacheKey:D}=k.meta.arg;return{queryCacheKey:D,providedTags:I}});v.caseReducers.updateProvidedBy(E,v.actions.updateProvidedBy(M))}const w=sa({name:`${e}/subscriptions`,initialState:zh,reducers:{updateSubscriptionOptions(E,S){},unsubscribeQueryResult(E,S){},internal_getRTKQSubscriptions(){}}}),N=sa({name:`${e}/internalSubscriptions`,initialState:zh,reducers:{subscriptionsUpdated:{reducer(E,S){return Uw(E,S.payload)},prepare:r1()}}}),j=sa({name:`${e}/config`,initialState:{online:FG(),focused:NG(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(E,{payload:S}){E.middlewareRegistered=E.middlewareRegistered==="conflict"||a!==S?"conflict":!0}},extraReducers:E=>{E.addCase(Vg,S=>{S.online=!0}).addCase(Mv,S=>{S.online=!1}).addCase(Ug,S=>{S.focused=!0}).addCase(Dv,S=>{S.focused=!1}).addMatcher(l,S=>({...S}))}}),_=OT({queries:h.reducer,mutations:x.reducer,provided:v.reducer,subscriptions:N.reducer,config:j.reducer}),C=(E,S)=>_(p.match(S)?void 0:E,S),F={...j.actions,...h.actions,...w.actions,...N.actions,...x.actions,...v.actions,resetApiState:p};return{reducer:C,actions:F}}var lo=Symbol.for("RTKQ/skipToken"),rA={status:"uninitialized"},X7=bv(rA,()=>{}),Q7=bv(rA,()=>{});function UG({serializeQueryArgs:e,reducerPath:n,createSelector:s}){const r=w=>X7,i=w=>Q7;return{buildQuerySelector:m,buildInfiniteQuerySelector:h,buildMutationSelector:x,selectInvalidatedBy:y,selectCachedArgsForQuery:v,selectApiState:o,selectQueries:l,selectMutations:u,selectQueryEntry:c,selectConfig:p};function a(w){return{...w,...z7(w.status)}}function o(w){return w[n]}function l(w){return o(w)?.queries}function c(w,N){return l(w)?.[N]}function u(w){return o(w)?.mutations}function p(w){return o(w)?.config}function f(w,N,j){return _=>{if(_===lo)return s(r,j);const C=e({queryArgs:_,endpointDefinition:N,endpointName:w});return s(E=>c(E,C)??X7,j)}}function m(w,N){return f(w,N,a)}function h(w,N){const{infiniteQueryOptions:j}=N;function _(C){const F={...C,...z7(C.status)},{isLoading:E,isError:S,direction:M}=F,k=M==="forward",I=M==="backward";return{...F,hasNextPage:g(j,F.data,F.originalArgs),hasPreviousPage:b(j,F.data,F.originalArgs),isFetchingNextPage:E&&k,isFetchingPreviousPage:E&&I,isFetchNextPageError:S&&k,isFetchPreviousPageError:S&&I}}return f(w,N,_)}function x(){return w=>{let N;return typeof w=="object"?N=Yf(w)??lo:N=w,s(N===lo?i:C=>o(C)?.mutations?.[N]??Q7,a)}}function y(w,N){const j=w[n],_=new Set;for(const C of N.filter(kx).map(m6)){const F=j.provided.tags[C.type];if(!F)continue;let E=(C.id!==void 0?F[C.id]:G7(Object.values(F)))??[];for(const S of E)_.add(S)}return G7(Array.from(_.values()).map(C=>{const F=j.queries[C];return F?[{queryCacheKey:C,endpointName:F.endpointName,originalArgs:F.originalArgs}]:[]}))}function v(w,N){return Object.values(l(w)).filter(j=>j?.endpointName===N&&j.status!=="uninitialized").map(j=>j.originalArgs)}function g(w,N,j){return N?x6(w,N,j)!=null:!1}function b(w,N,j){return!N||!w.getPreviousPageParam?!1:nA(w,N,j)!=null}}var eC=WeakMap?new WeakMap:void 0,tC=({endpointName:e,queryArgs:n})=>{let s="";const r=eC?.get(n);if(typeof r=="string")s=r;else{const i=JSON.stringify(n,(a,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Vf(o)?Object.keys(o).sort().reduce((l,c)=>(l[c]=o[c],l),{}):o,o));Vf(n)&&eC?.set(n,i),s=i}return`${e}(${s})`};function iA(...e){return function(s){const r=Bw(u=>s.extractRehydrationInfo?.(u,{reducerPath:s.reducerPath??"api"})),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...s,extractRehydrationInfo:r,serializeQueryArgs(u){let p=tC;if("serializeQueryArgs"in u.endpointDefinition){const f=u.endpointDefinition.serializeQueryArgs;p=m=>{const h=f(m);return typeof h=="string"?h:tC({...m,queryArgs:h})}}else s.serializeQueryArgs&&(p=s.serializeQueryArgs);return p(u)},tagTypes:[...s.tagTypes||[]]},a={endpointDefinitions:{},batch(u){u()},apiUid:RT(),extractRehydrationInfo:r,hasRehydrationInfo:Bw(u=>r(u)!=null)},o={injectEndpoints:c,enhanceEndpoints({addTagTypes:u,endpoints:p}){if(u)for(const f of u)i.tagTypes.includes(f)||i.tagTypes.push(f);if(p)for(const[f,m]of Object.entries(p))typeof m=="function"?m(a.endpointDefinitions[f]):Object.assign(a.endpointDefinitions[f]||{},m);return o}},l=e.map(u=>u.init(o,i,a));function c(u){const p=u.endpoints({query:f=>({...f,type:"query"}),mutation:f=>({...f,type:"mutation"}),infiniteQuery:f=>({...f,type:"infinitequery"})});for(const[f,m]of Object.entries(p)){if(u.overrideExisting!==!0&&f in a.endpointDefinitions){if(u.overrideExisting==="throw")throw new Error(PT(39));continue}a.endpointDefinitions[f]=m;for(const h of l)h.injectEndpoint(f,m)}return o}return o.injectEndpoints({endpoints:s.endpoints})}}function sl(e,...n){return Object.assign(e,...n)}var VG=({api:e,queryThunk:n,internalState:s,mwApi:r})=>{const i=`${e.reducerPath}/subscriptions`;let a=null,o=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:c}=e.internalActions,u=(y,v)=>{if(l.match(v)){const{queryCacheKey:b,requestId:w,options:N}=v.payload,j=y.get(b);return j?.has(w)&&j.set(w,N),!0}if(c.match(v)){const{queryCacheKey:b,requestId:w}=v.payload,N=y.get(b);return N&&N.delete(w),!0}if(e.internalActions.removeQueryResult.match(v))return y.delete(v.payload.queryCacheKey),!0;if(n.pending.match(v)){const{meta:{arg:b,requestId:w}}=v,N=p6(y,b.queryCacheKey,f6);return b.subscribe&&N.set(w,b.subscriptionOptions??N.get(w)??{}),!0}let g=!1;if(n.rejected.match(v)){const{meta:{condition:b,arg:w,requestId:N}}=v;if(b&&w.subscribe){const j=p6(y,w.queryCacheKey,f6);j.set(N,w.subscriptionOptions??j.get(N)??{}),g=!0}}return g},p=()=>s.currentSubscriptions,h={getSubscriptions:p,getSubscriptionCount:y=>p().get(y)?.size??0,isRequestSubscribed:(y,v)=>!!p()?.get(y)?.get(v)};function x(y){return JSON.parse(JSON.stringify(Object.fromEntries([...y].map(([v,g])=>[v,Object.fromEntries(g)]))))}return(y,v)=>{if(a||(a=x(s.currentSubscriptions)),e.util.resetApiState.match(y))return a={},s.currentSubscriptions.clear(),o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,h];const g=u(s.currentSubscriptions,y);let b=!0;if(g){o||(o=setTimeout(()=>{const j=x(s.currentSubscriptions),[,_]=VT(a,()=>j);v.next(e.internalActions.subscriptionsUpdated(_)),a=j,o=null},500));const w=typeof y.type=="string"&&!!y.type.startsWith(i),N=n.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;b=!w&&!N}return[b,!1]}},HG=2147483647/1e3-1,$G=({reducerPath:e,api:n,queryThunk:s,context:r,internalState:i,selectors:{selectQueryEntry:a,selectConfig:o},getRunningQueryThunk:l,mwApi:c})=>{const{removeQueryResult:u,unsubscribeQueryResult:p,cacheEntriesUpserted:f}=n.internalActions,m=i.runningQueries.get(c.dispatch),h=mx(p.match,s.fulfilled,s.rejected,f.match);function x(w){const N=i.currentSubscriptions.get(w);if(!N)return!1;const j=N.size>0,_=m?.[w]!==void 0;return j||_}const y={},v=(w,N,j)=>{const _=N.getState(),C=o(_);if(h(w)){let F;if(f.match(w))F=w.payload.map(E=>E.queryDescription.queryCacheKey);else{const{queryCacheKey:E}=p.match(w)?w.payload:w.meta.arg;F=[E]}g(F,N,C)}if(n.util.resetApiState.match(w))for(const[F,E]of Object.entries(y))E&&clearTimeout(E),delete y[F];if(r.hasRehydrationInfo(w)){const{queries:F}=r.extractRehydrationInfo(w);g(Object.keys(F),N,C)}};function g(w,N,j){const _=N.getState();for(const C of w){const F=a(_,C);F?.endpointName&&b(C,F.endpointName,N,j)}}function b(w,N,j,_){const F=r.endpointDefinitions[N]?.keepUnusedDataFor??_.keepUnusedDataFor;if(F===1/0)return;const E=Math.max(0,Math.min(F,HG));if(!x(w)){const S=y[w];S&&clearTimeout(S),y[w]=setTimeout(()=>{if(!x(w)){const M=a(j.getState(),w);M?.endpointName&&j.dispatch(l(M.endpointName,M.originalArgs))?.abort(),j.dispatch(u({queryCacheKey:w}))}delete y[w]},E*1e3)}}return v},nC=new Error("Promise never resolved before cacheEntryRemoved."),zG=({api:e,reducerPath:n,context:s,queryThunk:r,mutationThunk:i,internalState:a,selectors:{selectQueryEntry:o,selectApiState:l}})=>{const c=Vw(r),u=Vw(i),p=Ad(r,i),f={};function m(g,b,w){const N=f[g];N?.valueResolved&&(N.valueResolved({data:b,meta:w}),delete N.valueResolved)}function h(g){const b=f[g];b&&(delete f[g],b.cacheEntryRemoved())}const x=(g,b,w)=>{const N=y(g);function j(_,C,F,E){const S=o(w,C),M=o(b.getState(),C);!S&&M&&v(_,E,C,b,F)}if(r.pending.match(g))j(g.meta.arg.endpointName,N,g.meta.requestId,g.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(g))for(const{queryDescription:_,value:C}of g.payload){const{endpointName:F,originalArgs:E,queryCacheKey:S}=_;j(F,S,g.meta.requestId,E),m(S,C,{})}else if(i.pending.match(g))b.getState()[n].mutations[N]&&v(g.meta.arg.endpointName,g.meta.arg.originalArgs,N,b,g.meta.requestId);else if(p(g))m(N,g.payload,g.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(g)||e.internalActions.removeMutationResult.match(g))h(N);else if(e.util.resetApiState.match(g))for(const _ of Object.keys(f))h(_)};function y(g){return c(g)?g.meta.arg.queryCacheKey:u(g)?g.meta.arg.fixedCacheKey??g.meta.requestId:e.internalActions.removeQueryResult.match(g)?g.payload.queryCacheKey:e.internalActions.removeMutationResult.match(g)?Yf(g.payload):""}function v(g,b,w,N,j){const _=s.endpointDefinitions[g],C=_?.onCacheEntryAdded;if(!C)return;const F={},E=new Promise(P=>{F.cacheEntryRemoved=P}),S=Promise.race([new Promise(P=>{F.valueResolved=P}),E.then(()=>{throw nC})]);S.catch(()=>{}),f[w]=F;const M=e.endpoints[g].select(Tx(_)?b:w),k=N.dispatch((P,R,B)=>B),I={...N,getCacheEntry:()=>M(N.getState()),requestId:j,extra:k,updateCachedData:Tx(_)?P=>N.dispatch(e.util.updateQueryData(g,b,P)):void 0,cacheDataLoaded:S,cacheEntryRemoved:E},D=C(b,I);Promise.resolve(D).catch(P=>{if(P!==nC)throw P})}return x},WG=({api:e,context:{apiUid:n},reducerPath:s})=>(r,i)=>{e.util.resetApiState.match(r)&&i.dispatch(e.internalActions.middlewareRegistered(n))},GG=({reducerPath:e,context:n,context:{endpointDefinitions:s},mutationThunk:r,queryThunk:i,api:a,assertTagType:o,refetchQuery:l,internalState:c})=>{const{removeQueryResult:u}=a.internalActions,p=mx(Ad(r),yv(r)),f=mx(Ad(r,i),vv(r,i));let m=[];const h=(v,g)=>{p(v)?y(sA(v,"invalidatesTags",s,o),g):f(v)?y([],g):a.util.invalidateTags.match(v)&&y(Lv(v.payload,void 0,void 0,void 0,void 0,o),g)};function x(v){const{queries:g,mutations:b}=v;for(const w of[g,b])for(const N in w)if(w[N]?.status==="pending")return!0;return!1}function y(v,g){const b=g.getState(),w=b[e];if(m.push(...v),w.config.invalidationBehavior==="delayed"&&x(w))return;const N=m;if(m=[],N.length===0)return;const j=a.util.selectInvalidatedBy(b,N);n.batch(()=>{const _=Array.from(j.values());for(const{queryCacheKey:C}of _){const F=w.queries[C],E=p6(c.currentSubscriptions,C,f6);F&&(E.size===0?g.dispatch(u({queryCacheKey:C})):F.status!=="uninitialized"&&g.dispatch(l(F)))}})}return h},qG=({reducerPath:e,queryThunk:n,api:s,refetchQuery:r,internalState:i})=>{const{currentPolls:a,currentSubscriptions:o}=i,l=new Set;let c=null;const u=(v,g)=>{(s.internalActions.updateSubscriptionOptions.match(v)||s.internalActions.unsubscribeQueryResult.match(v))&&p(v.payload.queryCacheKey,g),(n.pending.match(v)||n.rejected.match(v)&&v.meta.condition)&&p(v.meta.arg.queryCacheKey,g),(n.fulfilled.match(v)||n.rejected.match(v)&&!v.meta.condition)&&f(v.meta.arg,g),s.util.resetApiState.match(v)&&(x(),c&&(clearTimeout(c),c=null),l.clear())};function p(v,g){l.add(v),c||(c=setTimeout(()=>{for(const b of l)m({queryCacheKey:b},g);l.clear(),c=null},0))}function f({queryCacheKey:v},g){const b=g.getState()[e],w=b.queries[v],N=o.get(v);if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:j,skipPollingIfUnfocused:_}=y(N);if(!Number.isFinite(j))return;const C=a.get(v);C?.timeout&&(clearTimeout(C.timeout),C.timeout=void 0);const F=Date.now()+j;a.set(v,{nextPollTimestamp:F,pollingInterval:j,timeout:setTimeout(()=>{(b.config.focused||!_)&&g.dispatch(r(w)),f({queryCacheKey:v},g)},j)})}function m({queryCacheKey:v},g){const w=g.getState()[e].queries[v],N=o.get(v);if(!w||w.status==="uninitialized")return;const{lowestPollingInterval:j}=y(N);if(!Number.isFinite(j)){h(v);return}const _=a.get(v),C=Date.now()+j;(!_||C<_.nextPollTimestamp)&&f({queryCacheKey:v},g)}function h(v){const g=a.get(v);g?.timeout&&clearTimeout(g.timeout),a.delete(v)}function x(){for(const v of a.keys())h(v)}function y(v=new Map){let g=!1,b=Number.POSITIVE_INFINITY;for(const w of v.values())w.pollingInterval&&(b=Math.min(w.pollingInterval,b),g=w.skipPollingIfUnfocused||g);return{lowestPollingInterval:b,skipPollingIfUnfocused:g}}return u},KG=({api:e,context:n,queryThunk:s,mutationThunk:r})=>{const i=UT(s,r),a=vv(s,r),o=Ad(s,r),l={};return(u,p)=>{if(i(u)){const{requestId:f,arg:{endpointName:m,originalArgs:h}}=u.meta,x=n.endpointDefinitions[m],y=x?.onQueryStarted;if(y){const v={},g=new Promise((j,_)=>{v.resolve=j,v.reject=_});g.catch(()=>{}),l[f]=v;const b=e.endpoints[m].select(Tx(x)?h:f),w=p.dispatch((j,_,C)=>C),N={...p,getCacheEntry:()=>b(p.getState()),requestId:f,extra:w,updateCachedData:Tx(x)?j=>p.dispatch(e.util.updateQueryData(m,h,j)):void 0,queryFulfilled:g};y(h,N)}}else if(o(u)){const{requestId:f,baseQueryMeta:m}=u.meta;l[f]?.resolve({data:u.payload,meta:m}),delete l[f]}else if(a(u)){const{requestId:f,rejectedWithValue:m,baseQueryMeta:h}=u.meta;l[f]?.reject({error:u.payload??u.error,isUnhandledError:!m,meta:h}),delete l[f]}}},YG=({reducerPath:e,context:n,api:s,refetchQuery:r,internalState:i})=>{const{removeQueryResult:a}=s.internalActions,o=(c,u)=>{Ug.match(c)&&l(u,"refetchOnFocus"),Vg.match(c)&&l(u,"refetchOnReconnect")};function l(c,u){const p=c.getState()[e],f=p.queries,m=i.currentSubscriptions;n.batch(()=>{for(const h of m.keys()){const x=f[h],y=m.get(h);if(!y||!x)continue;const v=[...y.values()];(v.some(b=>b[u]===!0)||v.every(b=>b[u]===void 0)&&p.config[u])&&(y.size===0?c.dispatch(a({queryCacheKey:h})):x.status!=="uninitialized"&&c.dispatch(r(x)))}})}return o};function ZG(e){const{reducerPath:n,queryThunk:s,api:r,context:i,internalState:a}=e,{apiUid:o}=i,l={invalidateTags:kp(`${n}/invalidateTags`)},c=m=>m.type.startsWith(`${n}/`),u=[WG,$G,GG,qG,zG,KG];return{middleware:m=>{let h=!1;const x={...e,internalState:a,refetchQuery:f,isThisApiSliceAction:c,mwApi:m},y=u.map(b=>b(x)),v=VG(x),g=YG(x);return b=>w=>{if(!M$(w))return b(w);h||(h=!0,m.dispatch(r.internalActions.middlewareRegistered(o)));const N={...m,next:b},j=m.getState(),[_,C]=v(w,N,j);let F;if(_?F=b(w):F=C,m.getState()[n]&&(g(w,N,j),c(w)||i.hasRehydrationInfo(w)))for(const E of y)E(w,N,j);return F}},actions:l};function f(m){return e.api.endpoints[m.endpointName].initiate(m.originalArgs,{subscribe:!1,forceRefetch:!0})}}var sC=Symbol(),aA=({createSelector:e=gv}={})=>({name:sC,init(n,{baseQuery:s,tagTypes:r,reducerPath:i,serializeQueryArgs:a,keepUnusedDataFor:o,refetchOnMountOrArgChange:l,refetchOnFocus:c,refetchOnReconnect:u,invalidationBehavior:p,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:h},x){A$();const y=ae=>ae;Object.assign(n,{reducerPath:i,endpoints:{},internalActions:{onOnline:Vg,onOffline:Mv,onFocus:Ug,onFocusLost:Dv},util:{}});const v=UG({serializeQueryArgs:a,reducerPath:i,createSelector:e}),{selectInvalidatedBy:g,selectCachedArgsForQuery:b,buildQuerySelector:w,buildInfiniteQuerySelector:N,buildMutationSelector:j}=v;sl(n.util,{selectInvalidatedBy:g,selectCachedArgsForQuery:b});const{queryThunk:_,infiniteQueryThunk:C,mutationThunk:F,patchQueryData:E,updateQueryData:S,upsertQueryData:M,prefetch:k,buildMatchThunkActions:I}=OG({baseQuery:s,reducerPath:i,context:x,api:n,serializeQueryArgs:a,assertTagType:y,selectors:v,onSchemaFailure:f,catchSchemaFailure:m,skipSchemaValidation:h}),{reducer:D,actions:P}=BG({context:x,queryThunk:_,mutationThunk:F,serializeQueryArgs:a,reducerPath:i,assertTagType:y,config:{refetchOnFocus:c,refetchOnReconnect:u,refetchOnMountOrArgChange:l,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:p}});sl(n.util,{patchQueryData:E,updateQueryData:S,upsertQueryData:M,prefetch:k,resetApiState:P.resetApiState,upsertQueryEntries:P.cacheEntriesUpserted}),sl(n.internalActions,P);const R={currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map},{buildInitiateQuery:B,buildInitiateInfiniteQuery:U,buildInitiateMutation:H,getRunningMutationThunk:$,getRunningMutationsThunk:q,getRunningQueriesThunk:Q,getRunningQueryThunk:V}=PG({queryThunk:_,mutationThunk:F,infiniteQueryThunk:C,api:n,serializeQueryArgs:a,context:x,internalState:R});sl(n.util,{getRunningMutationThunk:$,getRunningMutationsThunk:q,getRunningQueryThunk:V,getRunningQueriesThunk:Q});const{middleware:ee,actions:X}=ZG({reducerPath:i,context:x,queryThunk:_,mutationThunk:F,infiniteQueryThunk:C,api:n,assertTagType:y,selectors:v,getRunningQueryThunk:V,internalState:R});return sl(n.util,X),sl(n,{reducer:D,middleware:ee}),{name:sC,injectEndpoint(ae,me){var se;const pe=(se=n.endpoints)[ae]??(se[ae]={});Hg(me)&&sl(pe,{name:ae,select:w(ae,me),initiate:B(ae,me)},I(_,ae)),MG(me)&&sl(pe,{name:ae,select:j(),initiate:H(ae)},I(F,ae)),$g(me)&&sl(pe,{name:ae,select:N(ae,me),initiate:U(ae,me)},I(_,ae))}}}});aA();var m1={},Wh={},Gh={},rC;function JG(){if(rC)return Gh;rC=1,Gh.__esModule=!0,Gh.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(a)}function n(){}var s={getItem:n,setItem:n,removeItem:n};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],l="redux-persist ".concat(a," test");o.setItem(l,"test"),o.getItem(l),o.removeItem(l)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:s}return Gh}var iC;function oA(){if(iC)return Wh;iC=1,Wh.__esModule=!0,Wh.default=s;var e=n(JG());function n(r){return r&&r.__esModule?r:{default:r}}function s(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(l,c){l(i.getItem(o))})},setItem:function(o,l){return new Promise(function(c,u){c(i.setItem(o,l))})},removeItem:function(o){return new Promise(function(l,c){l(i.removeItem(o))})}}}return Wh}var aC;function XG(){if(aC)return m1;aC=1,m1.__esModule=!0,m1.default=void 0;var e=n(oA());function n(r){return r&&r.__esModule?r:{default:r}}var s=(0,e.default)("local");return m1.default=s,m1}var QG=XG();const eq=Ji(QG);var h1={},oC;function tq(){if(oC)return h1;oC=1,h1.__esModule=!0,h1.default=void 0;var e=n(oA());function n(r){return r&&r.__esModule?r:{default:r}}var s=(0,e.default)("session");return h1.default=s,h1}var nq=tq();const sq=Ji(nq),x1={isVisible:!1,progress:0,title:"",description:"",error:void 0,steps:[],currentStep:-1},rq={tabProgress:{},activeTabId:null},lA=sa({name:"progress",initialState:rq,reducers:{setActiveTabId:(e,n)=>{e.activeTabId=n.payload},showProgress:(e,n)=>{const{tabId:s,title:r,description:i,steps:a}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...x1});const o=e.tabProgress[s];o.isVisible=!0,o.progress=0,o.title=r,o.description=i,o.error=void 0,o.steps=a,o.currentStep=a.findIndex(l=>l.status==="in_progress")},updateProgress:(e,n)=>{const{tabId:s,progress:r}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...x1});const i=e.tabProgress[s];i.progress=r,r===100&&(i.steps=i.steps.map(a=>({...a,status:"completed"})),i.currentStep=i.steps.length)},nextStep:(e,n)=>{const s=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...x1});const r=e.tabProgress[s];r.currentStep>=0&&r.currentStep<r.steps.length&&(r.steps[r.currentStep].status="completed",r.currentStep++,r.progress=r.currentStep/r.steps.length*100,r.currentStep<r.steps.length?r.steps[r.currentStep].status="in_progress":r.isVisible=!1)},hideProgress:(e,n)=>{const s=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...x1});const r=e.tabProgress[s];r.steps=r.steps.map(i=>({...i,status:"completed"})),r.isVisible=!1,r.error=void 0,r.steps=[],r.currentStep=-1},setError:(e,n)=>{const{tabId:s,error:r}=n.payload;e.tabProgress[s]||(e.tabProgress[s]={...x1});const i=e.tabProgress[s];i.error=r,i.isVisible=!0,i.progress=100,i.currentStep>=0&&i.currentStep<i.steps.length&&(i.steps[i.currentStep].status="completed")}}}),{setActiveTabId:jNe,showProgress:NNe,updateProgress:FNe,hideProgress:ENe,setError:SNe,nextStep:kNe}=lA.actions,iq=lA.reducer,lC={isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null},aq={activeContainerId:null,containers:{},tabContainers:{}},cA=sa({name:"container",initialState:aq,reducers:{initializeContainer:(e,n)=>{const s=n.payload;s&&(e.containers||(e.containers={}),e.containers[s]||(e.containers[s]={...lC}),e.activeContainerId=s)},setInitialized:(e,n)=>{const{containerId:s,isInitialized:r}=n.payload;s&&(e.containers||(e.containers={}),e.containers[s]||(e.containers[s]={...lC}),e.containers[s].isInitialized=r)},setJobPolling:(e,n)=>{const{containerId:s,value:r}=n.payload;e.containers[s]&&(e.containers[s].isJobPolling=r)},setJobDetails:(e,n)=>{const{containerId:s,details:r}=n.payload;e.containers[s]&&(e.containers[s].jobDetails=r)},setTrajectory:(e,n)=>{const{containerId:s,trajectory:r}=n.payload;e.containers[s]&&(e.containers[s].trajectory=r)},setLastProcessedStep:(e,n)=>{const{containerId:s,step:r}=n.payload;e.containers[s]&&(e.containers[s].lastProcessedStep=r)},setTaskState:(e,n)=>{const{containerId:s,taskState:r}=n.payload;e.containers[s]&&(e.containers[s].taskState=r)},updateTaskState:(e,n)=>{const{containerId:s,taskState:r}=n.payload;if(e.containers[s]){const i=e.containers[s];i.taskState=i.taskState?{...i.taskState,...r}:r}},resetContainer:(e,n)=>{const s=n.payload,{[s]:r,...i}=e.containers;e.containers=i,e.activeContainerId===s&&(e.activeContainerId=null)},resetAllContainers:e=>{e.containers={},e.activeContainerId=null,e.tabContainers={}},setTabContainer:(e,n)=>{const{tabId:s,containerId:r}=n.payload;e.tabContainers[s]=r},removeTabContainer:(e,n)=>{const s=n.payload;delete e.tabContainers[s]},setActiveContainerForTab:(e,n)=>{const s=n.payload,r=e.tabContainers[s];r&&(e.activeContainerId=r)}}}),{initializeContainer:oq,setInitialized:lq,setJobPolling:TNe,setJobDetails:cC,setTrajectory:cq,setLastProcessedStep:INe,setTaskState:ANe,updateTaskState:DNe,resetContainer:MNe,resetAllContainers:LNe,setTabContainer:dq,removeTabContainer:RNe,setActiveContainerForTab:uq}=cA.actions,pq=cA.reducer,fq={pendingCommands:{}},dA=sa({name:"commandQueue",initialState:fq,reducers:{enqueueCommand:(e,n)=>{const{commandId:s,type:r,payload:i}=n.payload;(!e.pendingCommands[s]||e.pendingCommands[s].status==="failed")&&(e.pendingCommands[s]={status:"pending",command:{type:r,payload:i},timestamp:Date.now()})},setCommandStatus:(e,n)=>{const{commandId:s,status:r}=n.payload;e.pendingCommands[s]&&(e.pendingCommands[s].status=r)},removeCommand:(e,n)=>{delete e.pendingCommands[n.payload]}}}),{enqueueCommand:PNe,setCommandStatus:ONe,removeCommand:BNe}=dA.actions,mq=dA.reducer,hq={activeTab:"home",tabs:[{id:"home",title:"Home",path:"/"}],isActive:!0,tabStates:{}},uA=sa({name:"tabs",initialState:hq,reducers:{setActiveTab:(e,n)=>{e.activeTab=n.payload,e.isActive=!0,Object.keys(e.tabStates).forEach(s=>{e.tabStates[s]={...e.tabStates[s],isActive:s===n.payload}}),e.tabStates[n.payload]||(e.tabStates[n.payload]={isActive:!0,activeTab:n.payload})},setTabs:(e,n)=>{const s=n.payload.filter(a=>a.path!=="/not-defined"),r=n.payload.filter(a=>a.path==="/not-defined");e.tabs=[...s,...r];const i=new Set(n.payload.map(a=>a.id));Object.keys(e.tabStates).forEach(a=>{if(!i.has(a)&&a!=="home"){const o=e.tabStates[a];o?.createAgentFormData||o?.createSubagentFormData||delete e.tabStates[a]}})},updateTabState:(e,n)=>{const{tabId:s,state:r}=n.payload,i=s in e.tabStates;e.tabStates[s]={...i?e.tabStates[s]:{status:!1,isCloudFlow:!0},...r}},removeTab:(e,n)=>{const s=n.payload;e.tabStates[s]&&(e.tabStates[s].pendingArtifacts||[]).forEach(i=>{i.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url)}),e.tabs=e.tabs.filter(r=>r.id!==s),delete e.tabStates[s],e.activeTab===s&&(e.activeTab="home")},cleanupTabStates:e=>{const n=new Set(e.tabs.map(s=>s.id));Object.keys(e.tabStates).forEach(s=>{!n.has(s)&&s!=="home"&&delete e.tabStates[s]})},setPendingMessage:(e,n)=>{const{tabId:s,messageId:r,content:i,base64_image_list:a,artifacts:o}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].pendingMessage={id:r,content:i,timestamp:new Date().toISOString().replace(/\.\d{3}Z$/,l=>l.replace("Z","000+00:00")),base64_image_list:a,artifacts:o}},clearPendingMessage:(e,n)=>{const{tabId:s,content:r}=n.payload;if(e.tabStates[s]){if(r){const i=e.tabStates[s]?.pendingMessage;if(!i||i.content!==r)return}e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0}}},removePendingMessage:(e,n)=>{const{tabId:s,messageId:r,content:i}=n.payload;if(e.tabStates[s]){const a=e.tabStates[s]?.pendingMessage;a&&a.content===i&&(e.tabStates[s]={...e.tabStates[s],pendingMessage:void 0})}},addPendingArtifacts:(e,n)=>{const{tabId:s,artifacts:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={});const i=e.tabStates[s].pendingArtifacts||[];e.tabStates[s].pendingArtifacts=[...i,...r]},clearPendingArtifacts:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&((e.tabStates[s].pendingArtifacts||[]).forEach(i=>{i.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url)}),e.tabStates[s].pendingArtifacts=[])},removePendingArtifact:(e,n)=>{const{tabId:s,artifactId:r}=n.payload;if(e.tabStates[s]?.pendingArtifacts){const i=e.tabStates[s].pendingArtifacts.find(a=>a.artifact_id===r);i?.local_preview_url&&i.local_preview_url.startsWith("blob:")&&URL.revokeObjectURL(i.local_preview_url),e.tabStates[s].pendingArtifacts=e.tabStates[s].pendingArtifacts.filter(a=>a.artifact_id!==r)}},setChatInputText:(e,n)=>{const{tabId:s,text:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].chatInputText=r},clearChatInputText:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&(e.tabStates[s].chatInputText="")},setCreateAgentFormData:(e,n)=>{const{tabId:s,formData:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].createAgentFormData=r},clearCreateAgentFormData:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&delete e.tabStates[s].createAgentFormData},setCreateSubagentFormData:(e,n)=>{const{tabId:s,formData:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].createSubagentFormData=r},clearCreateSubagentFormData:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&delete e.tabStates[s].createSubagentFormData},setTabDeployState:(e,n)=>{const{tabId:s,deployState:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].deployState||(e.tabStates[s].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]}),e.tabStates[s].deployState={...e.tabStates[s].deployState,...r}},resetTabDeployState:(e,n)=>{const{tabId:s}=n.payload;e.tabStates[s]&&(e.tabStates[s].deployState={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,modifiedEnvs:[],customDomain:null,deployLogs:[]})},updateHomeTabPath:(e,n)=>{const s=e.tabs.find(r=>r.id==="home");s&&(s.path=n.payload)},setTabAgentStatus:(e,n)=>{const{tabId:s,agentStatus:r}=n.payload;e.tabStates[s]||(e.tabStates[s]={}),e.tabStates[s].agentStatus=r}}}),{setActiveTab:pA,setTabs:fA,updateTabState:xq,removeTab:gq,setPendingMessage:bq,clearPendingMessage:yq,removePendingMessage:mA,cleanupTabStates:hA,addPendingArtifacts:xA,clearPendingArtifacts:g6,removePendingArtifact:vq,setChatInputText:wq,clearChatInputText:dC,setCreateAgentFormData:Cq,clearCreateAgentFormData:_q,setCreateSubagentFormData:jq,clearCreateSubagentFormData:Nq,setTabDeployState:Yr,resetTabDeployState:UNe,updateHomeTabPath:Fq,setTabAgentStatus:Eq}=uA.actions,zg=e=>e.tabs.activeTab,Sq=e=>e.tabs.tabs,Rv=(e,n)=>e.tabs.tabStates[n]?.pendingArtifacts||[],kq=(e,n)=>e.tabs.tabStates[n]?.chatInputText||"",Tq=e=>{const n=e.tabs.activeTab,s=e.tabs.tabs.find(r=>r.id===n);if(!s||!n){const r=e.tabs.tabs.find(i=>i.id==="home");if(r)return r}return s||e.tabs.tabs[0]},Iq=(e,n)=>e.tabs.tabStates[n]?.createAgentFormData,Aq=(e,n)=>e.tabs.tabStates[n]?.createSubagentFormData,Dq=(e,n)=>e.tabs.tabStates[n]?.deployState,Mq=uA.reducer;function gA(){try{const e=sessionStorage.getItem("persist:tabs");if(!e)return;const n=JSON.parse(e),s=JSON.parse(n.tabs||"[]"),r=JSON.parse(n.tabStates||"{}"),i=new Set(s.map(l=>l.id));let a=0;const o={};return Object.keys(r).forEach(l=>{i.has(l)||l==="home"?o[l]=r[l]:a++}),n.tabStates=JSON.stringify(o),sessionStorage.setItem("persist:tabs",JSON.stringify(n)),a}catch{return 0}}const Wd="emergent_modal_states";function Gd(){try{const e=localStorage.getItem(Wd);return e?JSON.parse(e):{}}catch{return{}}}function Kn(e,n){try{const r={...Gd(),[e]:n};localStorage.setItem(Wd,JSON.stringify(r))}catch{}}function di(e,n=!1){return Gd()[e]??n}function Lq(){return di("hasSeenUniversalKeyIntroModal",!1)}function Rq(){return di("hasSeenForkIntro",!1)}function Pq(){Kn("hasSeenForkIntro",!0)}function bA(){return di("hasSeenMobileAgentIntro",!1)}function yA(){Kn("hasSeenMobileAgentIntro",!0)}function Oq(){return di("hasSeenUniversalKeyIntroTooltip",!1)}function Bq(){Kn("hasSeenUniversalKeyIntroTooltip",!0)}const Zf="emergent_invitation_states";function Uq(e){try{const n=localStorage.getItem(Zf);return(n?JSON.parse(n):{})[e]===!0}catch{return!1}}function vA(e){try{const n=localStorage.getItem(Zf),s=n?JSON.parse(n):{};s[e]=!0,localStorage.setItem(Zf,JSON.stringify(s))}catch{}}function uC(e){try{const n=localStorage.getItem(Zf),s=n?JSON.parse(n):{};delete s[e],localStorage.setItem(Zf,JSON.stringify(s))}catch{}}function Vq(){return di("hasSeenClaude45AnnouncementModal",!1)}function VNe(){Kn("hasSeenClaude45AnnouncementModal",!0)}function Hq(){return di("hasSeenModelSelectorTooltip",!1)}function pC(){Kn("hasSeenModelSelectorTooltip",!0)}function HNe(){Kn("hasSeenTeamIntroductionModal",!0)}function $Ne(){Kn("hasSeenUltraThinkingModal",!0)}function fC(){Kn("hasSeenStandardDiscountModal",!0)}function $q(){Kn("hasSeenMCPIntroductionModal",!0)}function zNe(){Kn("hasSeenBroModeIntroductionModal",!0)}function WNe(){Kn("hasSeenTestModeModal",!0)}function wA(){return di("hasSeenVisualEditsModalNew",!1)}function H0(){Kn("hasSeenVisualEditsModalNew",!0)}function zq(){try{localStorage.removeItem(Wd)}catch{}}function Wq(){Kn("hasSeenFeatureModal",!1)}function Gq(){Kn("hasSeenForkIntro",!1)}function qq(){Kn("hasSeenMobileAgentIntro",!1)}function Kq(){Kn("hasSeenProIntroductionModal",!1)}function Yq(){Kn("hasSeenUniversalKeyIntroTooltip",!1)}function Zq(){Kn("hasSeenClaude45AnnouncementModal",!1)}function Jf(){Kn("hasSeenModelSelectorTooltip",!1)}function Jq(){Kn("hasSeenTeamIntroductionModal",!1)}function Xq(){Kn("hasSeenUltraThinkingModal",!1)}function Qq(){Kn("hasSeenStandardDiscountModal",!1)}function eK(){Kn("hasSeenMCPIntroductionModal",!1)}function tK(){Kn("hasSeenBroModeIntroductionModal",!1)}function nK(){Kn("hasSeenTestModeModal",!1)}function sK(){Kn("hasSeenVisualEditsModalNew",!1)}function rK(){Kn("hasSeenLockinPriceModal",!1)}function iK(){Kn("hasSeenBuyCreditsAutoPopup",!1)}function aK(){Kn("hasAcceptedBetaProgram",!1)}function GNe(){Kn("25milmodal",!0)}function U5(){return di("pixmodal",!1)}function oK(){Kn("pixmodal",!0)}function lK(){Kn("25milmodal",!1)}function cK(){return di("hasAcceptedBetaProgram",!1)}function dK(){Kn("hasAcceptedBetaProgram",!0)}function uK(e){try{return Gd().promotionalModals?.[e]??!1}catch{return!1}}function qNe(e){try{const n=Gd(),s={...n,promotionalModals:{...n.promotionalModals,[e]:!0}};localStorage.setItem(Wd,JSON.stringify(s)),cM(e)}catch{}}function pK(e){try{const n=Gd();if(n.promotionalModals&&n.promotionalModals[e]){const s={...n.promotionalModals};delete s[e];const r={...n,promotionalModals:s};localStorage.setItem(Wd,JSON.stringify(r))}}catch{}}function fK(){Kn("hasSeenFreeWeekendTurkeyModal",!1)}function mK(){Kn("hasSeenFreeWeekendCanadaModal",!1)}function hK(){return di("hasSeenOpusModal",!1)}function KNe(){Kn("hasSeenOpusModal",!0)}function xK(){Kn("hasSeenOpusModal",!1)}function gK(){return di("hasSeenFreeCreditsModal",!1)}function bK(){Kn("hasSeenFreeCreditsModal",!0)}function yK(){Kn("hasSeenFreeCreditsModal",!1)}function vK(){return di("hasSeenOneDollarModal",!1)}function wK(){Kn("hasSeenOneDollarModal",!0)}function CK(){Kn("hasSeenOneDollarModal",!1)}function _K(){return di("hasSeenGFFModal",!1)}function jK(){Kn("hasSeenGFFModal",!0)}function NK(){return di("hasSeenPagBrasilModal",!1)}function FK(){Kn("hasSeenPagBrasilModal",!0)}function EK(){return di("hasSeenGFFINModal",!1)}function SK(){Kn("hasSeenGFFINModal",!0)}function kK(){Kn("hasSeenGFFINModal",!1)}function TK(){return di("hasSeenFreeStandardPlanModal",!1)}function mC(){Kn("hasSeenFreeStandardPlanModal",!0)}function IK(){Kn("hasSeenFreeStandardPlanModal",!1)}function AK(){Kn("hasSeenChristmasGiftingModal",!1)}function DK(){return di("hasSeenWarmupMailGiftingModal",!1)}function MK(){Kn("hasSeenWarmupMailGiftingModal",!0)}function LK(){Kn("hasSeenWarmupMailGiftingModal",!1)}function CA(){return di("hasSeenProjectsIntroductionModal",!1)}function qh(){Kn("hasSeenProjectsIntroductionModal",!0)}function RK(){Kn("hasSeenProjectsIntroductionModal",!1)}function PK(){try{const n={...Gd(),projectsIntroVisitCount:0};localStorage.setItem(Wd,JSON.stringify(n))}catch{}}function Yu(){return di("hasSeenProjectOnboardingTour",!1)}function V5(){Kn("hasSeenProjectOnboardingTour",!0)}function OK(){Kn("hasSeenProjectOnboardingTour",!1)}function Pv(){return di("hasCreatedFirstProject",!1)}function _A(){Kn("hasCreatedFirstProject",!0)}function BK(){Kn("hasCreatedFirstProject",!1)}const Ov="emergent_pending_onboarding_tour";function Bv(){try{localStorage.setItem(Ov,"true")}catch{}}function UK(){try{return localStorage.getItem(Ov)==="true"}catch{return!1}}function hC(){try{localStorage.removeItem(Ov)}catch{}}function Uv(){try{const e=jA(),n=Vv();localStorage.clear(),NA(e),Hv(n)}catch{localStorage.clear()}}function b6(){try{const e=jA(),n=Vv();localStorage.clear(),sessionStorage.clear(),NA(e),Hv(n)}catch{localStorage.clear(),sessionStorage.clear()}}typeof window<"u"&&(window.resetFeatureModal=Wq,window.resetForkIntro=Gq,window.resetMobileAgentIntro=qq,window.resetProIntroductionModal=Kq,window.resetUniversalKeyIntroTooltip=Yq,window.resetOneMillionModal=Zq,window.resetModelSelectorTooltip=Jf,window.resetTeamIntroductionModal=Jq,window.resetUltraThinkingModal=Xq,window.resetStandardDiscountModal=Qq,window.resetMCPIntroductionModal=eK,window.resetBroModeIntroductionModal=tK,window.resetTestModeModal=nK,window.resetLockinPriceModal=rK,window.resetBuyCreditsAutoPopup=iK,window.resetFundingIntroductionModal=lK,window.resetVisualEditsModal=sK,window.resetBetaProgram=aK,window.resetPromotionalModal=pK,window.resetFreeWeekendTurkeyModal=fK,window.resetFreeWeekendCanadaModal=mK,window.resetOpusModal=xK,window.resetFreeCreditsModal=yK,window.resetOneDollarModal=CK,window.resetFreeStandardPlanModal=IK,window.resetGFFINModal=kK,window.resetChristmasGiftingModal=AK,window.resetWarmupMailGiftingModal=LK,window.resetProjectsIntroductionModal=RK,window.resetProjectsIntroVisitCount=PK,window.resetProjectOnboardingTour=OK,window.resetFirstProjectCreated=BK,window.resetAllModals=zq,window.clearStorageSafely=Uv,window.clearAllStorageSafely=b6,window.preserveTrackingData=Vv,window.restoreTrackingData=Hv);function jA(){try{return Gd()}catch{return null}}function Vv(){try{const e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","campaign_id","utm_id","gclid","gad_source","gad_campaignid","gbraid","wbraid","fbclid","fbc","fbp","ttclid","li_fat_id","twclid","sc_click_id","epik","rdt_cid","msclkid","amznclickid","user_referrer","first_login_completed","pending_referral_code","referral_applied","referral_modal_data"],n={};return e.forEach(s=>{const r=localStorage.getItem(s);r!==null&&(n[s]=r)}),Object.keys(n).length>0?n:null}catch{return null}}function NA(e){if(e)try{localStorage.setItem(Wd,JSON.stringify(e))}catch{}}function Hv(e){if(e)try{Object.entries(e).forEach(([n,s])=>{s!==void 0&&localStorage.setItem(n,s)})}catch{}}const VK=()=>{};function Os(){return Math.floor(performance.now())}const Ua=typeof window<"u"&&!!window.document,HK=typeof WorkerGlobalScope<"u"&&(typeof self<"u"&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||typeof globalThis<"u"&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),Rn=Ua?window:typeof WorkerGlobalScope<"u"&&(typeof self<"u"&&self instanceof WorkerGlobalScope&&self||typeof globalThis<"u"&&globalThis instanceof WorkerGlobalScope&&globalThis),YNe=Rn?.document?.readyState==="complete",ZNe=Rn?.document?.visibilityState==="hidden",JNe=""+Rn?.location,$K=/iPad|iPhone|iPod/.test(Rn.navigator?.userAgent),XNe=$K&&typeof SharedWorker>"u",zK=(()=>{const e=Rn.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),Ix=Date.now()-Os(),WK="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function y6(e,n){return e?e[n]&15:Math.random()*16|0}function GK(){const e=Rn?.crypto||Rn?.msCrypto;let n,s=0;return e&&e.getRandomValues&&(n=e.getRandomValues(new Uint8Array(30))),WK.split("").map(r=>r==="x"?y6(n,s++).toString(16):r==="y"?(y6()&3|8).toString(16):r).join("")}function $v(e){const n=Rn?.crypto||Rn?.msCrypto;let s,r=0;n&&n.getRandomValues&&(s=n.getRandomValues(new Uint8Array(e)));const i=[];for(var a=0;a<e;a++)i.push(y6(s,r++).toString(16));return i.join("")}function qK(){return $v(16)}function KK(){return $v(32)}const YK="newrelic";function Ld(e={}){try{Rn.dispatchEvent(new CustomEvent(YK,{detail:e}))}catch{}}function or(e,n){typeof console.debug=="function"&&Ld({agentIdentifier:null,drained:null,type:"data",name:"warn",feature:"warn",data:{code:e,secondary:n}})}const Tl="api-",H5=Tl+"ixn-",Wg="addPageAction",FA="addToTrace",EA="addRelease",tf="finished",SA="interaction",kA="log",TA="noticeError",v6="pauseReplay",w6="recordCustomEvent",C6="recordReplay",IA="register",_6="setApplicationVersion",AA="setCurrentRouteName",j6="setCustomAttribute",DA="setErrorHandler",N6="setPageViewName",F6="setUserId",MA="start",LA="wrapLogger",E6="measure";var Pr,Zr;const nw=class nw{constructor(){Oc(this,Pr)}addPageAction(n,s){return Cr(this,Pr,Zr).call(this,Wg,n,s)}register(n){return Cr(this,Pr,Zr).call(this,IA,n)}recordCustomEvent(n,s){return Cr(this,Pr,Zr).call(this,w6,n,s)}setPageViewName(n,s){return Cr(this,Pr,Zr).call(this,N6,n,s)}setCustomAttribute(n,s,r){return Cr(this,Pr,Zr).call(this,j6,n,s,r)}noticeError(n,s){return Cr(this,Pr,Zr).call(this,TA,n,s)}setUserId(n){return Cr(this,Pr,Zr).call(this,F6,n)}setApplicationVersion(n){return Cr(this,Pr,Zr).call(this,_6,n)}setErrorHandler(n){return Cr(this,Pr,Zr).call(this,DA,n)}addRelease(n,s){return Cr(this,Pr,Zr).call(this,EA,n,s)}log(n,s){return Cr(this,Pr,Zr).call(this,kA,n,s)}start(){return Cr(this,Pr,Zr).call(this,MA)}finished(n){return Cr(this,Pr,Zr).call(this,tf,n)}recordReplay(){return Cr(this,Pr,Zr).call(this,C6)}pauseReplay(){return Cr(this,Pr,Zr).call(this,v6)}addToTrace(n){return Cr(this,Pr,Zr).call(this,FA,n)}setCurrentRouteName(n){return Cr(this,Pr,Zr).call(this,AA,n)}interaction(){return Cr(this,Pr,Zr).call(this,SA)}wrapLogger(n,s,r){return Cr(this,Pr,Zr).call(this,LA,n,s,r)}measure(n,s){return Cr(this,Pr,Zr).call(this,E6,n,s)}};Pr=new WeakSet,Zr=function(n,...s){if(this[n]===nw.prototype[n])or(35,n);else return this[n](...s)};let Xf=nw;class RA extends Xf{constructor(){super(...arguments);$t(this,"agentIdentifier",$v(16))}}const Kh="events",S6="jserrors",xC="browser/blobs",ZK="rum",JK="browser/logs",Zt={ajax:"ajax",genericEvents:"generic_events",jserrors:S6,logging:"logging",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},k6={[Zt.pageViewEvent]:1,[Zt.pageViewTiming]:2,[Zt.metrics]:3,[Zt.jserrors]:4,[Zt.spa]:5,[Zt.ajax]:6,[Zt.sessionTrace]:7,[Zt.softNav]:8,[Zt.sessionReplay]:9,[Zt.logging]:10,[Zt.genericEvents]:11},QNe={[Zt.pageViewEvent]:ZK,[Zt.pageViewTiming]:Kh,[Zt.ajax]:Kh,[Zt.spa]:Kh,[Zt.softNav]:Kh,[Zt.metrics]:S6,[Zt.jserrors]:S6,[Zt.sessionTrace]:xC,[Zt.sessionReplay]:xC,[Zt.logging]:JK,[Zt.genericEvents]:"ins"},XK=Object.values(Zt);function QK(e){const n={};return XK.forEach(s=>{n[s]=!!e[s]?.enabled}),n}const $5=new Map;function PA(...e){return e.every(n=>{if($5.has(n))return $5.get(n);const s=typeof n=="function"&&n.toString().includes("[native code]");return s||or(64,n?.name||n?.toString()),$5.set(n,s),s})}const Ax={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function Il(){return Rn.NREUM||(Rn.NREUM={}),typeof Rn.newrelic>"u"&&(Rn.newrelic=Rn.NREUM),Rn.NREUM}function eY(){let e=Il();const n=e.info||{};return e.info={beacon:Ax.beacon,errorBeacon:Ax.errorBeacon,...n},e}function tY(){let e=Il();const n=e.loader_config||{};return e.loader_config={...n},e}function nY(){let e=Il();const n=e.init||{};return e.init={...n},e}function mc(){let e=Il();return e.o||(e.o={ST:Rn.setTimeout,SI:Rn.setImmediate||Rn.setInterval,CT:Rn.clearTimeout,XHR:Rn.XMLHttpRequest,REQ:Rn.Request,EV:Rn.Event,PR:Rn.Promise,MO:Rn.MutationObserver,FETCH:Rn.fetch,WS:Rn.WebSocket},PA(...Object.values(e.o))),e}function sY(e,n){let s=Il();s.initializedAgents??(s.initializedAgents={}),n.initializedAt={ms:Os(),date:new Date},s.initializedAgents[e]=n}function rY(e,n){let s=Il();s[e]=n}function OA(){return eY(),nY(),mc(),tY(),Il()}function iY(e){const n=OA();Object.getOwnPropertyNames(Xf.prototype).forEach(s=>{const r=Xf.prototype[s];if(typeof r!="function"||r==="constructor")return;let i=n[s];!e[s]||e.exposed===!1||e.runtime?.loaderType==="micro-agent"||(n[s]=(...a)=>{const o=e[s](...a);return i?i(...a):o})})}function zm(e,n){try{if(!e||typeof e!="object")return or(3);if(!n||typeof n!="object")return or(4);const s=Object.create(Object.getPrototypeOf(n),Object.getOwnPropertyDescriptors(n)),r=Object.keys(s).length===0?e:s;for(let i in r)if(e[i]!==void 0)try{if(e[i]===null){s[i]=null;continue}Array.isArray(e[i])&&Array.isArray(n[i])?s[i]=Array.from(new Set([...e[i],...n[i]])):typeof e[i]=="object"&&typeof n[i]=="object"?s[i]=zm(e[i],n[i]):s[i]=e[i]}catch(a){s[i]||or(1,a)}return s}catch(s){or(2,s)}}const aY={beacon:Ax.beacon,errorBeacon:Ax.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0};function eFe(e){try{return!!e.licenseKey&&!!e.errorBeacon&&!!e.applicationID}catch{return!1}}const oY=e=>zm(e,aY),gC=Zt.genericEvents,lY=["auxclick","click","copy","keydown","paste","scrollend"],cY=["focus","blur"],tFe=4,nFe=1e3,sFe=2e3,rFe=["PageAction","UserAction","BrowserPerformance"],z5={MARKS:"experimental.marks",MEASURES:"experimental.measures",RESOURCES:"experimental.resources"},bC=e=>{if(!e||typeof e!="string")return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0},dY="NRBA",uY="SESSION",pY=144e5,fY=18e5,mY={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},iFe={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},ql={OFF:0,FULL:1,ERROR:2},yC="[data-nr-mask]",hY=()=>{const e={feature_flags:[],experimental:{marks:!1,measures:!1,resources:!1},mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{ajax:{deny_list:void 0,block_internal:!0,enabled:!0,autoStart:!0},api:{allow_registered_children:!0,duplicate_registered_data:!1},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},get feature_flags(){return e.feature_flags},set feature_flags(n){e.feature_flags=n},generic_events:{enabled:!0,autoStart:!0},harvest:{interval:30},jserrors:{enabled:!0,autoStart:!0},logging:{enabled:!0,autoStart:!0},metrics:{enabled:!0,autoStart:!0},obfuscate:void 0,page_action:{enabled:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,autoStart:!0},performance:{get capture_marks(){return e.feature_flags.includes(z5.MARKS)||e.experimental.marks},set capture_marks(n){e.experimental.marks=n},get capture_measures(){return e.feature_flags.includes(z5.MEASURES)||e.experimental.measures},set capture_measures(n){e.experimental.measures=n},capture_detail:!0,resources:{get enabled(){return e.feature_flags.includes(z5.RESOURCES)||e.experimental.resources},set enabled(n){e.experimental.resources=n},asset_types:[],first_party_domains:[],ignore_newrelic:!0}},privacy:{cookies_enabled:!0},proxy:{assets:void 0,beacon:void 0},session:{expiresMs:pY,inactiveMs:fY},session_replay:{autoStart:!0,enabled:!1,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,fix_stylesheets:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(n){bC(n)?e.mask_selector="".concat(n,",").concat(yC):n===""||n===null?e.mask_selector=yC:or(5,n)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(n){bC(n)?e.block_selector+=",".concat(n):n!==""&&or(6,n)},get mask_input_options(){return e.mask_input_options},set mask_input_options(n){n&&typeof n=="object"?e.mask_input_options={...n,password:!0}:or(7,n)}},session_trace:{enabled:!0,autoStart:!0},soft_navigations:{enabled:!0,autoStart:!0},spa:{enabled:!0,autoStart:!0},ssl:void 0,user_actions:{enabled:!0,elementAttributes:["id","className","tagName","type"]}}},xY=e=>zm(e,hY()),gY="1.299.0",bY="NPM",yY="NPM",aFe="^2.0.0-alpha.18";let vY=0;const vC={buildEnv:bY,distMethod:yY,version:gY,originTime:Ix},wY={appMetadata:{},customTransaction:void 0,denyList:void 0,disabled:!1,entityManager:void 0,harvester:void 0,isolatedBacklog:!1,isRecording:!1,loaderType:void 0,maxBytes:3e4,obfuscator:void 0,onerror:void 0,ptid:void 0,releaseIds:{},session:void 0,timeKeeper:void 0,jsAttributesMetadata:{bytes:0},get harvestCount(){return++vY}},CY=e=>{const n=zm(e,wY),s=Object.keys(vC).reduce((r,i)=>(r[i]={value:vC[i],writable:!1,configurable:!0,enumerable:!0},r),{});return Object.defineProperties(n,s)},wC=new Set,dd={};function oFe(e,n){const s=n.agentIdentifier;dd[s]??(dd[s]={}),!(!e||typeof e!="object")&&(wC.has(s)||(n.ee.emit("rumresp",[e]),dd[s]=e,wC.add(s),Ld({agentIdentifier:s,loaded:!0,drained:!0,type:"lifecycle",name:"load",feature:void 0,data:e})))}var _Y=Object.prototype.hasOwnProperty;function zv(e,n,s){if(_Y.call(e,n))return e[n];var r=s();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch{}return e[n]=r,r}class vf{constructor(n){this.contextId=n}}const BA=GK(),ic="nr@context:".concat(BA),ci=UA(void 0,"globalEE"),T6=Il();T6.ee||(T6.ee=ci);function UA(e,n){var s={},r={},i={},a=!1;try{a=n.length!==16?!1:T6.initializedAgents?.[n]?.runtime.isolatedBacklog}catch{}var o={on:p,addEventListener:p,removeEventListener:f,emit:u,get:h,listeners:m,context:c,buffer:x,abort:l,isBuffering:y,debugId:n,backlog:a?{}:e&&typeof e.backlog=="object"?e.backlog:{},isolatedBacklog:a};function l(){o._aborted=!0,Object.keys(o.backlog).forEach(g=>{delete o.backlog[g]})}return Object.defineProperty(o,"aborted",{get:()=>{let g=o._aborted||!1;return g||(e&&(g=e.aborted),g)}}),o;function c(g){return g&&g instanceof vf?g:g?zv(g,ic,()=>new vf(ic)):new vf(ic)}function u(g,b,w,N,j){if(j!==!1&&(j=!0),!(ci.aborted&&!N)){e&&j&&e.emit(g,b,w);var _=c(w),C=m(g);C.forEach(E=>{E.apply(_,b)});var F=v()[r[g]];return F&&F.push([o,g,b,_]),_}}function p(g,b){s[g]=m(g).concat(b)}function f(g,b){var w=s[g];if(w)for(var N=0;N<w.length;N++)w[N]===b&&w.splice(N,1)}function m(g){return s[g]||[]}function h(g){return i[g]=i[g]||UA(o,g)}function x(g,b){const w=v();b=b||"feature",!o.aborted&&Object.entries(g||{}).forEach(([N,j])=>{r[j]=b,b in w||(w[b]=[])})}function y(g){var b=v()[r[g]];return!!b}function v(){return o.backlog}}const jY={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},NY=e=>zm(e,jY),W5=new Set;function FY(e,n={},s,r){let{init:i,info:a,loader_config:o,runtime:l={},exposed:c=!0}=n;if(!a){const f=OA();i=f.init,a=f.info,o=f.loader_config}e.init=xY(i||{}),e.loader_config=NY(o||{}),a.jsAttributes??(a.jsAttributes={}),HK&&(a.jsAttributes.isWorker=!0),e.info=oY(a);const u=e.init,p=[a.beacon,a.errorBeacon];W5.has(e.agentIdentifier)||(u.proxy.assets&&(VK(u.proxy.assets),p.push(u.proxy.assets)),u.proxy.beacon&&p.push(u.proxy.beacon),e.beacons=[...p],iY(e),rY("activatedFeatures",dd),e.runSoftNavOverSpa&&(e.runSoftNavOverSpa=u.soft_navigations.enabled===!0&&u.feature_flags.includes("soft_nav"))),l.denyList=[...u.ajax.deny_list||[],...u.ajax.block_internal?p:[]],l.ptid=e.agentIdentifier,l.loaderType=s,e.runtime=CY(l),W5.has(e.agentIdentifier)||(e.ee=ci.get(e.agentIdentifier),e.exposed=c,Ld({agentIdentifier:e.agentIdentifier,drained:!!dd?.[e.agentIdentifier],type:"lifecycle",name:"initialize",feature:void 0,data:e.config})),W5.add(e.agentIdentifier)}function EY(e){switch(e){case Zt.ajax:return[Zt.jserrors];case Zt.sessionTrace:return[Zt.ajax,Zt.pageViewEvent];case Zt.sessionReplay:return[Zt.sessionTrace];case Zt.pageViewTiming:return[Zt.pageViewEvent];default:return[]}}var Dx=ci.get("handle");function bs(e,n,s,r,i){i?(i.buffer([e],r),i.emit(e,n,s)):(Dx.buffer([e],r),Dx.emit(e,n,s))}function ai(e,n){return{capture:e,passive:!1,signal:n}}function Rd(e,n,s=!1,r){window.addEventListener(e,n,ai(s,r))}function VA(e,n,s=!1,r){document.addEventListener(e,n,ai(s,r))}function Wv(){return typeof document>"u"||document.readyState==="complete"}function HA(e,n){if(Wv())return e();Rd("load",e,n)}function SY(e){if(Wv())return e();VA("DOMContentLoaded",e)}function kY(e){if(Wv())return e();Rd("popstate",e)}const CC=Zt.metrics,TY="sm",lFe="cm",Wm="storeSupportabilityMetrics",IY="storeEventMetrics";function ti(e,n,s,r){const i=r||s;!i||i[e]&&i[e]!==RA.prototype[e]||(i[e]=function(){bs(Wm,["API/"+e+"/called"],void 0,Zt.metrics,s.ee),Ld({agentIdentifier:s.agentIdentifier,drained:!!dd?.[s.agentIdentifier],type:"data",name:"api",feature:Tl+e,data:{}});try{return n.apply(this,arguments)}catch(a){or(23,a)}})}function Gv(e,n,s,r,i){const a=e.info;s===null?delete a.jsAttributes[n]:a.jsAttributes[n]=s,(i||s===null)&&bs(Tl+r,[Os(),n,s],void 0,"session",e.ee)}function AY(e){ti(N6,function(n,s){typeof n=="string"&&(n.charAt(0)!=="/"&&(n="/"+n),e.runtime.customTransaction=(s||"http://custom.transaction")+n,bs(Tl+N6,[Os()],void 0,void 0,e.ee))},e)}qv.on=$A;var DY=qv.handlers={};function qv(e,n,s,r){$A(r||Dx,DY,e,n,s)}function $A(e,n,s,r,i){i||(i="feature"),e||(e=Dx);var a=n[i]=n[i]||{},o=a[s]=a[s]||[];o.push([e,r])}const Ga={};function _C(e,n){const s={staged:!1,priority:k6[n]||0};zA(e),Ga[e].get(n)||Ga[e].set(n,s)}function MY(e,n){!e||!Ga[e]||(Ga[e].get(n)&&Ga[e].delete(n),Kv(e,n,!1),Ga[e].size&&WA(e))}function zA(e){if(!e)throw new Error("agentIdentifier required");Ga[e]||(Ga[e]=new Map)}function jC(e="",n="feature",s=!1){if(zA(e),!e||!Ga[e].get(n)||s)return Kv(e,n);Ga[e].get(n).staged=!0,WA(e)}function WA(e){const n=Array.from(Ga[e]);n.every(([s,r])=>r.staged)&&(n.sort((s,r)=>s[1].priority-r[1].priority),n.forEach(([s])=>{Ga[e].delete(s),Kv(e,s)}))}function Kv(e,n,s=!0){const r=e?ci.get(e):ci,i=qv.handlers;if(!(r.aborted||!r.backlog||!i)){if(Ld({agentIdentifier:e,type:"lifecycle",name:"drain",feature:n}),s){const a=r.backlog[n],o=i[n];if(o){for(let l=0;a&&l<a.length;++l)LY(a[l],o);Object.entries(o).forEach(([l,c])=>{Object.values(c||{}).forEach(u=>{u[0]?.on&&u[0]?.context()instanceof vf&&u[0].on(l,u[1])})})}}r.isolatedBacklog||delete i[n],r.backlog[n]=null,r.emit("drain-"+n,[])}}function LY(e,n){var s=e[1];Object.values(n[s]||{}).forEach(r=>{var i=e[0],a=r[0];if(a===i){var o=r[1],l=e[3],c=e[2];o.apply(l,c)}})}class RY{constructor(n,s){this.agentIdentifier=n,this.ee=ci.get(n),this.featureName=s,this.blocked=!1}deregisterDrain(){MY(this.agentIdentifier,this.featureName)}}const Yv=e=>Ua&&e?.privacy.cookies_enabled===!0;function Zv(e){return!!mc().o.MO&&Yv(e)&&e?.session_trace.enabled===!0}function NC(e){return e?.session_replay.preload===!0&&Zv(e)}function cFe(e,n){try{if(typeof n?.type=="string"){if(n.type.toLowerCase()==="password")return"*".repeat(e?.length||0);if(n?.dataset?.nrUnmask!==void 0||n?.classList?.contains("nr-unmask"))return e}}catch{}return typeof e=="string"?e.replace(/[\S]/g,"*"):"*".repeat(e?.length||0)}function GA(e,n=500,s={}){const r=s?.leading||!1;let i;return(...a)=>{r&&i===void 0&&(e.apply(this,a),i=setTimeout(()=>{i=clearTimeout(i)},n)),r||(clearTimeout(i),i=setTimeout(()=>{e.apply(this,a)},n))}}function PY(e){let n=!1;return(...s)=>{n||(n=!0,e.apply(this,s))}}const dFe=16e3,uFe=1e6,pFe="NR_CONTAINER_AGENT",OY="SESSION_ERROR";var Tg,qA;class yo extends RY{constructor(s,r){super(s.agentIdentifier,r);Oc(this,Tg);this.agentRef=s,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,this.deferred=Promise.resolve(),s.init[this.featureName].autoStart===!1?this.deferred=new Promise((i,a)=>{this.ee.on("manual-start-all",PY(()=>{_C(s.agentIdentifier,this.featureName),i()}))}):_C(s.agentIdentifier,r)}importAggregator(s,r,i={}){if(this.featAggregate)return;let a;this.onAggregateImported=new Promise(l=>{a=l});const o=async()=>{await this.deferred;let l;try{if(Yv(s.init)){const{setupAgentSession:c}=await bn(async()=>{const{setupAgentSession:u}=await import("./chunks/agent-session.js-DIDMNbzM.js");return{setupAgentSession:u}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]));l=c(s)}}catch(c){or(20,c),this.ee.emit("internal-error",[c]),bs(OY,[c],void 0,this.featureName,this.ee)}try{if(!Cr(this,Tg,qA).call(this,this.featureName,l,s.init)){jC(this.agentIdentifier,this.featureName),a(!1);return}const{Aggregate:c}=await r();this.featAggregate=new c(s,i),s.runtime.harvester.initializedAggregates.push(this.featAggregate),a(!0)}catch(c){or(34,c),this.abortHandler?.(),jC(this.agentIdentifier,this.featureName,!0),a(!1),this.ee&&this.ee.abort()}};Ua?HA(()=>o(),!0):o()}}Tg=new WeakSet,qA=function(s,r,i){if(this.blocked)return!1;switch(s){case Zt.sessionReplay:return Zv(i)&&!!r;case Zt.sessionTrace:return!!r;default:return!0}};const FC=Zt.pageViewEvent;var Ib;let KA=(Ib=class extends yo{constructor(n){super(n,FC),this.setupInspectionEvents(n.agentIdentifier),AY(n),this.ee.on("api-send-rum",(s,r)=>bs("send-rum",[s,r],void 0,this.featureName,this.ee)),this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-uRvsDjdH.js"),__vite__mapDeps([13,14,15,16,17,18,19,2,3,4,5,6,7,8,9,10,11,12])))}setupInspectionEvents(n){const s=(r,i)=>{r&&Ld({agentIdentifier:n,timeStamp:r.timeStamp,loaded:r.target.readyState==="complete",type:"window",name:i,data:r.target.location+""})};SY(r=>{s(r,"DOMContentLoaded")}),HA(r=>{s(r,"load")}),kY(r=>{s(r,"navigate")}),this.ee.on(mY.UPDATE,(r,i)=>{Ld({agentIdentifier:n,type:"lifecycle",name:"session",data:i})})}},$t(Ib,"featureName",FC),Ib);function BY(e){ti(j6,function(n,s,r=!1){if(typeof n!="string"){or(39,typeof n);return}if(!(["string","number","boolean"].includes(typeof s)||s===null)){or(40,typeof s);return}return Gv(e,n,s,j6,r)},e)}function UY(e){ti(F6,function(n){if(!(typeof n=="string"||n===null)){or(41,typeof n);return}return Gv(e,"enduser.id",n,F6,!0)},e)}function VY(e){ti(_6,function(n){if(!(typeof n=="string"||n===null)){or(42,typeof n);return}return Gv(e,"application.version",n,_6,!1)},e)}function HY(e){ti(MA,function(){e.ee.emit("manual-start-all")},e)}class $Y extends RA{constructor(n){if(super(),!Rn){or(21);return}this.features={},sY(this.agentIdentifier,this),this.desiredFeatures=new Set(n.features||[]),this.desiredFeatures.add(KA),this.runSoftNavOverSpa=[...this.desiredFeatures].some(s=>s.featureName===Zt.softNav),FY(this,n,n.loaderType||"agent"),BY(this),UY(this),VY(this),HY(this),this.run()}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}get api(){return this}run(){try{const n=QK(this.init),s=[...this.desiredFeatures];s.sort((r,i)=>k6[r.featureName]-k6[i.featureName]),s.forEach(r=>{if(!n[r.featureName]&&r.featureName!==Zt.pageViewEvent||this.runSoftNavOverSpa&&r.featureName===Zt.spa||!this.runSoftNavOverSpa&&r.featureName===Zt.softNav)return;const a=EY(r.featureName).filter(o=>!(o in this.features));a.length>0&&or(36,{targetFeature:r.featureName,missingDependencies:a}),this.features[r.featureName]=new r(this)})}catch(n){or(22,n);for(const i in this.features)this.features[i].abortHandler?.();const s=Il();return delete s.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator,s.ee.get(this.agentIdentifier).abort(),!1}}}function zY(e,n=!1,s,r){VA("visibilitychange",i,s,r);function i(){if(n){document.visibilityState==="hidden"&&e();return}e(document.visibilityState)}}const Yh=Zt.pageViewTiming;var Ab;let WY=(Ab=class extends yo{constructor(n){super(n,Yh),Ua&&(zY(()=>bs("docHidden",[Os()],void 0,Yh,this.ee),!0),Rd("pagehide",()=>bs("winPagehide",[Os()],void 0,Yh,this.ee)),this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-fab3mxw3.js"),__vite__mapDeps([20,21,15,16,17,18,22,2,3,4,5,6,7,8,9,10,11,12]))))}},$t(Ab,"featureName",Yh),Ab);var Db;let GY=(Db=class extends yo{constructor(n){super(n,CC),Ua&&document.addEventListener("securitypolicyviolation",s=>{bs(Wm,["Generic/CSPViolation/Detected"],void 0,this.featureName,this.ee)}),this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-BUenxHN1.js"),__vite__mapDeps([23,15,16,24,2,3,4,5,6,7,8,9,10,11,12])))}},$t(Db,"featureName",CC),Db);const EC=Zt.jserrors,qY=()=>{const e=new WeakSet;return(n,s)=>{if(typeof s=="object"&&s!==null){if(e.has(s))return;e.add(s)}return s}};function Jv(e){try{return JSON.stringify(e,qY())??""}catch(n){try{ci.emit("internal-error",[n])}catch{}return""}}class YA{constructor(n,s,r,i,a){this.name="UncaughtError",this.message=typeof n=="string"?n:Jv(n),this.sourceURL=s,this.line=r,this.column=i,this.__newrelic=a}}function Mx(e){return Xv(e)?e:new YA(e?.message!==void 0?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic,e?.cause)}function KY(e){const n="Unhandled Promise Rejection: ";if(!e?.reason)return;if(Xv(e.reason)){try{e.reason.message.startsWith(n)||(e.reason.message=n+e.reason.message)}catch{}return Mx(e.reason)}const s=Mx(e.reason);return(s.message||"").startsWith(n)||(s.message=n+s.message),s}function YY(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const n=new YA(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic,e.cause);return n.name=SyntaxError.name,n}return Xv(e.error)?e.error:Mx(e)}function Xv(e){return e instanceof Error&&!!e.stack}function ZY(e){ti(TA,(n,s)=>ZA(n,s,e),e)}function ZA(e,n,s,r,i=Os()){typeof e=="string"&&(e=new Error(e)),bs("err",[e,i,!1,n,s.runtime.isRecording,void 0,r],void 0,Zt.jserrors,s.ee),bs("uaErr",[],void 0,Zt.genericEvents,s.ee)}function JY(e){ti(DA,function(n){e.runtime.onerror=n},e)}function XY(e){let n=0;ti(EA,function(s,r){++n>10||(this.runtime.releaseIds[s.slice(-200)]=(""+r).slice(-200))},e)}function QY(e){return e?!!(e.licenseKey&&e.applicationID):!0}function eZ(e,n){return e?e.licenseKey===n.info.licenseKey&&e.applicationID===n.info.applicationID:!0}const Gg={ERROR:"ERROR",WARN:"WARN",INFO:"INFO",DEBUG:"DEBUG",TRACE:"TRACE"},xFe={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5},tZ="log",SC=Zt.logging;function JA(e,n,s={},r=Gg.INFO,i,a=Os()){bs(Wm,["API/logging/".concat(r.toLowerCase(),"/called")],void 0,Zt.metrics,e),bs(tZ,[a,n,s,r,i],void 0,Zt.logging,e)}function gFe(e){return typeof e!="string"?!1:Object.values(Gg).some(n=>n===e.toUpperCase().trim())}function nZ(e){ti(kA,(n,s)=>XA(n,s,e),e)}function XA(e,{customAttributes:n={},level:s=Gg.INFO}={},r,i,a=Os()){JA(r.ee,e,n,s,i,a)}function sZ(e){ti(Wg,(n,s)=>QA(n,s,e),e)}function QA(e,n,s,r,i=Os()){bs(Tl+Wg,[i,e,n,r],void 0,Zt.genericEvents,s.ee)}function Qv(e){ti(IA,function(n){return rZ(e,n)},e)}function rZ(e,n){const s={};or(54,"newrelic.register");let r,i;e.init.api.allow_registered_children||(r=()=>or(55)),(!n||!QY(n))&&(r=()=>or(48,n));const a={addPageAction:(l,c={})=>{o(QA,[l,{...s,...c},e],n)},log:(l,c={})=>{o(XA,[l,{...c,customAttributes:{...s,...c.customAttributes||{}}},e],n)},noticeError:(l,c={})=>{o(ZA,[l,{...s,...c},e],n)},setApplicationVersion:l=>{s["application.version"]=l},setCustomAttribute:(l,c)=>{s[l]=c},setUserId:l=>{s["enduser.id"]=l},metadata:{customAttributes:s,target:n,get connected(){return i||Promise.reject(new Error("Failed to connect"))}}};r?r():i=new Promise((l,c)=>{try{const u=e.runtime?.entityManager;let p=!!u?.get().entityGuid,f=u?.getEntityGuidFor(n.licenseKey,n.applicationID),m=!!f;if(p&&m)n.entityGuid=f,l(a);else{let x=function(y){eZ(y,e)?p||(p=!0):n.licenseKey===y.licenseKey&&n.applicationID===y.applicationID&&(m=!0,n.entityGuid=y.entityGuid),p&&m&&(clearTimeout(h),e.ee.removeEventListener("entity-added",x),l(a))};const h=setTimeout(()=>c(new Error("Failed to connect - Timeout")),15e3);e.ee.emit("api-send-rum",[s,n]),e.ee.on("entity-added",x)}}catch(u){c(u)}});const o=async(l,c,u)=>{if(r)return r();const p=Os();bs(Wm,["API/register/".concat(l.name,"/called")],void 0,Zt.metrics,e.ee);try{await i;const f=e.init.api.duplicate_registered_data;(f===!0||Array.isArray(f)&&f.includes(u.entityGuid))&&l(...c,void 0,p),l(...c,u.entityGuid,p)}catch(f){or(50,f)}};return a}var Mb,Ig,eD;let iZ=(Mb=class extends yo{constructor(s){super(s,EC);Oc(this,Ig);ZY(s),JY(s),XY(s),Qv(s);try{this.removeOnAbort=new AbortController}catch{}this.ee.on("internal-error",(r,i)=>{this.abortHandler&&bs("ierr",[Mx(r),Os(),!0,{},s.runtime.isRecording,i],void 0,this.featureName,this.ee)}),Rn.addEventListener("unhandledrejection",r=>{this.abortHandler&&bs("err",[KY(r),Os(),!1,{unhandledPromiseRejection:1},s.runtime.isRecording],void 0,this.featureName,this.ee)},ai(!1,this.removeOnAbort?.signal)),Rn.addEventListener("error",r=>{this.abortHandler&&bs("err",[YY(r),Os(),!1,{},s.runtime.isRecording],void 0,this.featureName,this.ee)},ai(!1,this.removeOnAbort?.signal)),this.abortHandler=Cr(this,Ig,eD),this.importAggregator(s,()=>bn(()=>import("./chunks/index.js-C1MFkSk4.js"),__vite__mapDeps([25,15,16,19,2,3,4,5,6,7,8,9,10,11,12])))}},Ig=new WeakSet,eD=function(){this.removeOnAbort?.abort(),this.abortHandler=void 0},$t(Mb,"featureName",EC),Mb),aZ=1;const oZ="nr@id";function kC(e){const n=typeof e;return!e||!(n==="object"||n==="function")?-1:e===Rn?0:zv(e,oZ,function(){return aZ++})}function Lx(e){if(typeof e=="string"&&e.length)return e.length;if(typeof e=="object"){if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if(typeof Blob<"u"&&e instanceof Blob&&e.size)return e.size;if(!(typeof FormData<"u"&&e instanceof FormData))try{return Jv(e).length}catch{return}}}const Qf="nr@original:".concat(BA),lZ=50;var cZ=Object.prototype.hasOwnProperty,Zh=!1;function Fc(e,n){return e||(e=ci),s.inPlace=r,s.flag=Qf,s;function s(a,o,l,c,u){if(TC(a))return a;return o||(o=""),p[Qf]=a,dZ(a,p,e),p;function p(){var f,m,h,x;let y;try{m=this,f=[...arguments],typeof l=="function"?h=l(f,m):h=l||{}}catch(b){I6([b,"",[f,m,c],h],e)}i(o+"start",[f,m,c],h,u);const v=performance.now();let g;try{return x=a.apply(m,f),g=performance.now(),x}catch(b){throw g=performance.now(),i(o+"err",[f,m,b],h,u),y=b,y}finally{const b=g-v,w={start:v,end:g,duration:b,isLongTask:b>=lZ,methodName:c,thrownError:y};w.isLongTask&&i("long-task",[w,m],h,u),i(o+"end",[f,m,x],h,u)}}}function r(a,o,l,c,u){l||(l="");const p=l.charAt(0)==="-";for(let f=0;f<o.length;f++){const m=o[f],h=a[m];TC(h)||(a[m]=s(h,p?m+l:l,c,m,u))}}function i(a,o,l,c){if(!(Zh&&!n)){var u=Zh;Zh=!0;try{e.emit(a,o,l,n,c)}catch(p){I6([p,a,o,l],e)}Zh=u}}}function I6(e,n){n||(n=ci);try{n.emit("internal-error",e)}catch{}}function dZ(e,n,s){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(e);return r.forEach(function(a){Object.defineProperty(n,a,{get:function(){return e[a]},set:function(o){return e[a]=o,o}})}),n}catch(a){I6([a],s)}for(var i in e)cZ.call(e,i)&&(n[i]=e[i]);return n}function TC(e){return!(e&&typeof e=="function"&&e.apply&&!e[Qf])}const IC={},AC=Rn.XMLHttpRequest,A6="addEventListener",DC="removeEventListener",uZ="nr@wrapped:".concat(ic);function tD(e){var n=pZ(e);if(IC[n.debugId]++)return n;IC[n.debugId]=1;var s=Fc(n,!0);"getPrototypeOf"in Object&&(Ua&&G5(document,r),AC&&G5(AC.prototype,r),G5(Rn,r)),n.on(A6+"-start",function(a,o){var l=a[1];if(!(l===null||typeof l!="function"&&typeof l!="object"||a[0]==="newrelic")){var c=zv(l,uZ,function(){var u={object:p,function:l}[typeof l];return u?s(u,"fn-",null,u.name||"anonymous"):l;function p(){if(typeof l.handleEvent=="function")return l.handleEvent.apply(l,arguments)}});this.wrapped=a[1]=c}}),n.on(DC+"-start",function(a){a[1]=this.wrapped||a[1]});function r(a){s.inPlace(a,[A6,DC],"-",i)}function i(a,o){return a[1]}return n}function G5(e,n,...s){let r=e;for(;typeof r=="object"&&!Object.prototype.hasOwnProperty.call(r,A6);)r=Object.getPrototypeOf(r);r&&n(r,...s)}function pZ(e){return(e||ci).get("events")}const MC={},fZ=["open","send"];function e9(e){var n=e||ci;const s=mZ(n);if(typeof Rn.XMLHttpRequest>"u"||MC[s.debugId]++)return s;MC[s.debugId]=1,tD(n);var r=Fc(s),i=Rn.XMLHttpRequest,a=Rn.MutationObserver,o=Rn.Promise,l=Rn.setInterval,c="readystatechange",u=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],p=[],f=Rn.XMLHttpRequest=m;function m(_){const C=new i(_),F=s.context(C);try{s.emit("new-xhr",[C],F),C.addEventListener(c,x(F),ai(!1))}catch(E){or(15,E);try{s.emit("internal-error",[E])}catch{}}return C}j(i,f),f.prototype=i.prototype,r.inPlace(f.prototype,fZ,"-xhr-",N),s.on("send-xhr-start",function(_,C){h(_,C),b(C)}),s.on("open-xhr-start",h);function h(_,C){r.inPlace(C,["onreadystatechange"],"fn-",N)}function x(_){return function(){var C=this;C.readyState>3&&!_.resolved&&(_.resolved=!0,s.emit("xhr-resolved",[],C)),r.inPlace(C,u,"fn-",N)}}if(a){var y=o&&o.resolve();if(!l&&!o){var v=1,g=document.createTextNode(v);new a(w).observe(g,{characterData:!0})}}else n.on("fn-end",function(_){_[0]&&_[0].type===c||w()});function b(_){p.push(_),a&&(y?y.then(w):l?l(w):(v=-v,g.data=v))}function w(){for(var _=0;_<p.length;_++)h([],p[_]);p.length&&(p=[])}function N(_,C){return C}function j(_,C){for(var F in _)C[F]=_[F];return C}return s}function mZ(e){return(e||ci).get("xhr")}var nf="fetch-",LC=nf+"body-",hZ=["arrayBuffer","blob","json","text","formData"],RC=Rn.Request,PC=Rn.Response,OC="prototype";const BC={};function t9(e){const n=xZ(e);if(!(RC&&PC&&Rn.fetch)||BC[n.debugId]++)return n;BC[n.debugId]=1,hZ.forEach(r=>{s(RC[OC],r,LC),s(PC[OC],r,LC)}),s(Rn,"fetch",nf),n.on(nf+"end",function(r,i){var a=this;if(i){var o=i.headers.get("content-length");o!==null&&(a.rxSize=o),n.emit(nf+"done",[null,i],a)}else n.emit(nf+"done",[r],a)});function s(r,i,a){var o=r[i];typeof o=="function"&&(r[i]=function(){var l=[...arguments],c={};n.emit(a+"before-start",[l],c);var u;c[ic]&&c[ic].dt&&(u=c[ic].dt);var p=o.apply(this,l);return n.emit(a+"start",[l,u],p),p.then(function(f){return n.emit(a+"end",[null,f],p),f},function(f){throw n.emit(a+"end",[f],p),f})})}return n}function xZ(e){return(e||ci).get("fetch")}function qg(e){if((e||"").indexOf("data:")===0)return{protocol:"data"};try{const n=new URL(e,location.href),s={port:n.port,hostname:n.hostname,pathname:n.pathname,search:n.search,protocol:n.protocol.slice(0,n.protocol.indexOf(":")),sameOrigin:n.protocol===Rn?.location?.protocol&&n.host===Rn?.location?.host};return(!s.port||s.port==="")&&(n.protocol==="http:"&&(s.port="80"),n.protocol==="https:"&&(s.port="443")),!s.pathname||s.pathname===""?s.pathname="/":s.pathname.startsWith("/")||(s.pathname="/".concat(s.pathname)),s}catch{return{}}}class gZ{constructor(n){this.agentRef=n}generateTracePayload(n){const s=this.agentRef.loader_config;if(!this.shouldGenerateTrace(n)||!s)return null;var r=(s.accountID||"").toString()||null,i=(s.agentID||"").toString()||null,a=(s.trustKey||"").toString()||null;if(!r||!i)return null;var o=qK(),l=KK(),c=Date.now(),u={spanId:o,traceId:l,timestamp:c};return(n.sameOrigin||this.isAllowedOrigin(n)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(o,l),u.traceContextStateHeader=this.generateTraceContextStateHeader(o,c,r,i,a)),(n.sameOrigin&&!this.excludeNewrelicHeader()||!n.sameOrigin&&this.isAllowedOrigin(n)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(o,l,c,r,i,a)),u}generateTraceContextParentHeader(n,s){return"00-"+s+"-"+n+"-01"}generateTraceContextStateHeader(n,s,r,i,a){var o=0,l="",c=1,u="",p="";return a+"@nr="+o+"-"+c+"-"+r+"-"+i+"-"+n+"-"+l+"-"+u+"-"+p+"-"+s}generateTraceHeader(n,s,r,i,a,o){var l=typeof Rn?.btoa=="function";if(!l)return null;var c={v:[0,1],d:{ty:"Browser",ac:i,ap:a,id:n,tr:s,ti:r}};return o&&i!==o&&(c.d.tk=o),btoa(Jv(c))}shouldGenerateTrace(n){return this.agentRef.init?.distributed_tracing?.enabled&&this.isAllowedOrigin(n)}isAllowedOrigin(n){var s=!1;const r=this.agentRef.init?.distributed_tracing;if(n.sameOrigin)s=!0;else if(r?.allowed_origins instanceof Array)for(var i=0;i<r.allowed_origins.length;i++){var a=qg(r.allowed_origins[i]);if(n.hostname===a.hostname&&n.protocol===a.protocol&&n.port===a.port){s=!0;break}}return s}excludeNewrelicHeader(){var n=this.agentRef.init?.distributed_tracing;return n?!!n.exclude_newrelic_header:!1}useNewrelicHeaderForCors(){var n=this.agentRef.init?.distributed_tracing;return n?n.cors_use_newrelic_header!==!1:!1}useTraceContextHeadersForCors(){var n=this.agentRef.init?.distributed_tracing;return n?!!n.cors_use_tracecontext_headers:!1}}function bZ(e,n){var s=e.responseType;return s==="json"&&n!==null?n:s==="arraybuffer"||s==="blob"||s==="json"?Lx(e.response):s==="text"||s===""||s===void 0?Lx(e.responseText):void 0}const UC=Zt.ajax;var wf=[];function yFe(e){if(!e||D6(e))return!1;if(wf.length===0)return!0;for(var n=0;n<wf.length;n++){var s=wf[n];if(s.hostname==="*"||yZ(s.hostname,e.hostname)&&vZ(s.pathname,e.pathname))return!1}return!0}function D6(e){return e.hostname===void 0}function vFe(e){if(wf=[],!(!e||!e.length))for(var n=0;n<e.length;n++){let s=e[n];if(!s)continue;s.indexOf("http://")===0?s=s.substring(7):s.indexOf("https://")===0&&(s=s.substring(8));const r=s.indexOf("/");let i,a;r>0?(i=s.substring(0,r),a=s.substring(r)):(i=s,a="");let[o]=i.split(":");wf.push({hostname:o,pathname:a})}}function yZ(e,n){return e.length>n.length?!1:n.indexOf(e)===n.length-e.length}function vZ(e,n){return e.indexOf("/")===0&&(e=e.substring(1)),n.indexOf("/")===0&&(n=n.substring(1)),e===""?!0:e===n}function nD(e){if(typeof e=="string")return e;if(e instanceof mc().o.REQ)return e.url;if(Rn?.URL&&e instanceof URL)return e.href}var M6=["load","error","abort","timeout"],VC=M6.length,wZ=mc().o.REQ,q5=mc().o.XHR;const HC="X-NewRelic-App-Data";var Lb;let CZ=(Lb=class extends yo{constructor(n){super(n,UC),this.dt=new gZ(n),this.handler=(s,r,i,a)=>bs(s,r,i,a,this.ee);try{const s={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};Rn?.performance?.getEntriesByType("resource").forEach(r=>{if(r.initiatorType in s&&r.responseStatus!==0){const i={status:r.responseStatus},a={rxSize:r.transferSize,duration:Math.floor(r.duration),cbTime:0};L6(i,r.name),this.handler("xhr",[i,a,r.startTime,r.responseEnd,s[r.initiatorType]],void 0,Zt.ajax)}})}catch{}t9(this.ee),e9(this.ee),_Z(n,this.ee,this.handler,this.dt),this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-usS7YdSB.js"),__vite__mapDeps([26,15,16,27,21,2,3,4,5,6,7,8,9,10,11,12])))}},$t(Lb,"featureName",UC),Lb);function _Z(e,n,s,r){n.on("new-xhr",i),n.on("open-xhr-start",a),n.on("open-xhr-end",o),n.on("send-xhr-start",l),n.on("xhr-cb-time",c),n.on("xhr-load-added",u),n.on("xhr-load-removed",p),n.on("xhr-resolved",f),n.on("addEventListener-end",m),n.on("removeEventListener-end",h),n.on("fn-end",y),n.on("fetch-before-start",v),n.on("fetch-start",g),n.on("fn-start",x),n.on("fetch-done",b);function i(j){var _=this;_.totalCbs=0,_.called=0,_.cbTime=0,_.end=w,_.ended=!1,_.xhrGuids={},_.lastSize=null,_.loadCaptureCalled=!1,_.params=this.params||{},_.metrics=this.metrics||{},_.latestLongtaskEnd=0,j.addEventListener("load",function(C){N(_,j)},ai(!1)),!zK&&j.addEventListener("progress",function(C){_.lastSize=C.loaded},ai(!1))}function a(j){this.params={method:j[0]},L6(this,j[1]),this.metrics={}}function o(j,_){e.loader_config.xpid&&this.sameOrigin&&_.setRequestHeader("X-NewRelic-ID",e.loader_config.xpid);var C=r.generateTracePayload(this.parsedOrigin);if(C){var F=!1;C.newrelicHeader&&(_.setRequestHeader("newrelic",C.newrelicHeader),F=!0),C.traceContextParentHeader&&(_.setRequestHeader("traceparent",C.traceContextParentHeader),C.traceContextStateHeader&&_.setRequestHeader("tracestate",C.traceContextStateHeader),F=!0),F&&(this.dt=C)}}function l(j,_){var C=this.metrics,F=j[0],E=this;if(C&&F){var S=Lx(F);S&&(C.txSize=S)}this.startTime=Os(),this.body=F,this.listener=function(k){try{k.type==="abort"&&!E.loadCaptureCalled&&(E.params.aborted=!0),(k.type!=="load"||E.called===E.totalCbs&&(E.onloadCalled||typeof _.onload!="function")&&typeof E.end=="function")&&E.end(_)}catch(I){try{n.emit("internal-error",[I])}catch{}}};for(var M=0;M<VC;M++)_.addEventListener(M6[M],this.listener,ai(!1))}function c(j,_,C){this.cbTime+=j,_?this.onloadCalled=!0:this.called+=1,this.called===this.totalCbs&&(this.onloadCalled||typeof C.onload!="function")&&typeof this.end=="function"&&this.end(C)}function u(j,_){var C=""+kC(j)+!!_;!this.xhrGuids||this.xhrGuids[C]||(this.xhrGuids[C]=!0,this.totalCbs+=1)}function p(j,_){var C=""+kC(j)+!!_;!this.xhrGuids||!this.xhrGuids[C]||(delete this.xhrGuids[C],this.totalCbs-=1)}function f(){this.endTime=Os()}function m(j,_){_ instanceof q5&&j[0]==="load"&&n.emit("xhr-load-added",[j[1],j[2]],_)}function h(j,_){_ instanceof q5&&j[0]==="load"&&n.emit("xhr-load-removed",[j[1],j[2]],_)}function x(j,_,C){_ instanceof q5&&(C==="onload"&&(this.onload=!0),((j[0]&&j[0].type)==="load"||this.onload)&&(this.xhrCbStart=Os()))}function y(j,_){this.xhrCbStart&&n.emit("xhr-cb-time",[Os()-this.xhrCbStart,this.onload,_],_)}function v(j){var _=j[1]||{},C;if(typeof j[0]=="string"?(C=j[0],C.length===0&&Ua&&(C=""+Rn.location.href)):j[0]&&j[0].url?C=j[0].url:Rn?.URL&&j[0]&&j[0]instanceof URL?C=j[0].href:typeof j[0].toString=="function"&&(C=j[0].toString()),typeof C!="string"||C.length===0)return;C&&(this.parsedOrigin=qg(C),this.sameOrigin=this.parsedOrigin.sameOrigin);var F=r.generateTracePayload(this.parsedOrigin);if(!F||!F.newrelicHeader&&!F.traceContextParentHeader)return;if(j[0]&&j[0].headers)M(j[0].headers,F)&&(this.dt=F);else{var E={};for(var S in _)E[S]=_[S];E.headers=new Headers(_.headers||{}),M(E.headers,F)&&(this.dt=F),j.length>1?j[1]=E:j.push(E)}function M(k,I){var D=!1;return I.newrelicHeader&&(k.set("newrelic",I.newrelicHeader),D=!0),I.traceContextParentHeader&&(k.set("traceparent",I.traceContextParentHeader),I.traceContextStateHeader&&k.set("tracestate",I.traceContextStateHeader),D=!0),D}}function g(j,_){this.params={},this.metrics={},this.startTime=Os(),this.dt=_,j.length>=1&&(this.target=j[0]),j.length>=2&&(this.opts=j[1]);var C=this.opts||{},F=this.target;L6(this,nD(F));var E=(""+(F&&F instanceof wZ&&F.method||C.method||"GET")).toUpperCase();this.params.method=E,this.body=C.body,this.txSize=Lx(C.body)||0}function b(j,_){if(this.endTime=Os(),this.params||(this.params={}),D6(this.params))return;this.params.status=_?_.status:0;let C;typeof this.rxSize=="string"&&this.rxSize.length>0&&(C=+this.rxSize);const F={txSize:this.txSize,rxSize:C,duration:Os()-this.startTime};s("xhr",[this.params,F,this.startTime,this.endTime,"fetch"],this,Zt.ajax)}function w(j){const _=this.params,C=this.metrics;if(!this.ended){this.ended=!0;for(let F=0;F<VC;F++)j.removeEventListener(M6[F],this.listener,!1);_.aborted||D6(_)||(C.duration=Os()-this.startTime,!this.loadCaptureCalled&&j.readyState===4?N(this,j):_.status==null&&(_.status=0),C.cbTime=this.cbTime,s("xhr",[_,C,this.startTime,this.endTime,"xhr"],this,Zt.ajax))}}function N(j,_){j.params.status=_.status;var C=bZ(_,j.lastSize);if(C&&(j.metrics.rxSize=C),j.sameOrigin&&_.getAllResponseHeaders().indexOf(HC)>=0){var F=_.getResponseHeader(HC);F&&(bs(TY,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,Zt.metrics,n),j.params.cat=F.split(", ").pop())}j.loadCaptureCalled=!0}}function L6(e,n){var s=qg(n),r=e.params||e;r.hostname=s.hostname,r.port=s.port,r.protocol=s.protocol,r.host=s.hostname+":"+s.port,r.pathname=s.pathname,e.parsedOrigin=s,e.sameOrigin=s.sameOrigin}const $C={},jZ=["pushState","replaceState"];function Kg(e){const n=NZ(e);if(!Ua||$C[n.debugId]++)return n;$C[n.debugId]=1;var s=Fc(n);return s.inPlace(window.history,jZ,"-"),n}function NZ(e){return(e||ci).get("history")}const FZ=Zt.sessionTrace,EZ="bstResource",SZ="resource",sD="-start",rD="-end",kZ="fn"+sD,TZ="fn"+rD,IZ="pushState",AZ=1e3,DZ=30*1e3,MZ=Object.freeze(Object.defineProperty({__proto__:null,BST_RESOURCE:EZ,END:rD,ERROR_MODE_SECONDS_WINDOW:DZ,FEATURE_NAME:FZ,FN_END:TZ,FN_START:kZ,MAX_NODES_PER_HARVEST:AZ,PUSH_STATE:IZ,RESOURCE:SZ,START:sD},Symbol.toStringTag,{value:"Module"}));function LZ(e){ti(FA,function(n){if(!(n&&typeof n=="object"&&n.name&&n.start))return;const s={n:n.name,s:n.start-Ix,e:(n.end||n.start)-Ix,o:n.origin||"",t:"api"};if(s.s<0||s.e<0||s.e<s.s){or(61,{start:s.s,end:s.e});return}bs("bstApi",[s],void 0,Zt.sessionTrace,e.ee)},e)}function iD(e){ti(tf,function(n=Date.now()){const s=n-Ix;s<0&&or(62,n),bs(IY,[tf,{time:s}],void 0,Zt.metrics,e.ee),e.addToTrace({name:tf,start:n,origin:"nr"}),bs(Tl+Wg,[s,tf],void 0,Zt.genericEvents,e.ee)},e)}const{BST_RESOURCE:RZ,RESOURCE:PZ,START:OZ,END:BZ,FEATURE_NAME:zC,FN_END:UZ,FN_START:VZ,PUSH_STATE:WC}=MZ;var Rb;let HZ=(Rb=class extends yo{constructor(n){if(super(n,zC),LZ(n),iD(n),!Yv(n.init)){this.deregisterDrain();return}const r=this.ee;Kg(r),this.eventsEE=tD(r),this.eventsEE.on(VZ,function(a,o){this.bstStart=Os()}),this.eventsEE.on(UZ,function(a,o){bs("bst",[a[0],o,this.bstStart,Os()],void 0,Zt.sessionTrace,r)}),r.on(WC+OZ,function(a){this.time=Os(),this.startPath=location.pathname+location.hash}),r.on(WC+BZ,function(a){bs("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,Zt.sessionTrace,r)});let i;try{i=new PerformanceObserver(a=>{const o=a.getEntries();bs(RZ,[o],void 0,Zt.sessionTrace,r)}),i.observe({type:PZ,buffered:!0})}catch{}this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-CVxfZDyb.js"),__vite__mapDeps([28,15,16,22,19,2,3,4,5,6,7,8,9,10,11,12])),{resourceObserver:i})}},$t(Rb,"featureName",zC),Rb);const $Z=Zt.spa,zZ=["click","submit","keypress","keydown","keyup","change"],WZ=999,GZ="fn-start",qZ="fn-end",KZ="cb-start",YZ="api-ixn-",ZZ="remaining",JZ="interaction",XZ="spaNode",QZ="jsonpNode",eJ="fetch-start",tJ="fetch-done",nJ="fetch-body-",sJ="jsonp-end",rJ=mc().o.ST,iJ="-start",aD="-end",aJ="-body",oJ="cb"+aD,lJ="jsTime",cJ="fetch",dJ=Object.freeze(Object.defineProperty({__proto__:null,BODY:aJ,CB_END:oJ,CB_START:KZ,END:aD,FEATURE_NAME:$Z,FETCH:cJ,FETCH_BODY:nJ,FETCH_DONE:tJ,FETCH_START:eJ,FN_END:qZ,FN_START:GZ,INTERACTION:JZ,INTERACTION_API:YZ,INTERACTION_EVENTS:zZ,JSONP_END:sJ,JSONP_NODE:QZ,JS_TIME:lJ,MAX_TIMER_BUDGET:WZ,REMAINING:ZZ,SPA_NODE:XZ,START:iJ,originalSetTimeout:rJ},Symbol.toStringTag,{value:"Module"})),GC={},uJ=["appendChild","insertBefore","replaceChild"];function pJ(e){const n=fJ(e);if(!Ua||GC[n.debugId])return n;GC[n.debugId]=!0;var s=Fc(n),r=/[?&](?:callback|cb)=([^&#]+)/,i=/(.*)\.([^.]+)/,a=/^(\w+)(\.|$)(.*)$/;s.inPlace(Node.prototype,uJ,"dom-"),n.on("dom-start",function(p){o(p[0])});function o(p){var f=p&&typeof p.nodeName=="string"&&p.nodeName.toLowerCase()==="script";if(!f)return;var m=typeof p.addEventListener=="function";if(!m)return;var h=l(p.src);if(!h)return;var x=u(h),y=typeof x.parent[x.key]=="function";if(!y)return;var v={};s.inPlace(x.parent,[x.key],"cb-",v),p.addEventListener("load",g,ai(!1)),p.addEventListener("error",b,ai(!1)),n.emit("new-jsonp",[p.src],v);function g(){n.emit("jsonp-end",[],v),p.removeEventListener("load",g,ai(!1)),p.removeEventListener("error",b,ai(!1))}function b(){n.emit("jsonp-error",[],v),n.emit("jsonp-end",[],v),p.removeEventListener("load",g,ai(!1)),p.removeEventListener("error",b,ai(!1))}}function l(p){var f=p.match(r);return f?f[1]:null}function c(p,f){if(!p)return f;const m=p.match(a),h=m[1],x=m[3];return c(x,f[h])}function u(p){var f=p.match(i);return f&&f.length>=3?{key:f[2],parent:c(f[1],window)}:{key:p,parent:window}}return n}function fJ(e){return(e||ci).get("jsonp")}const qC={};function mJ(e){const n=hJ(e);if(qC[n.debugId])return n;qC[n.debugId]=!0;var s=n.context,r=Fc(n),i=Rn.Promise;i&&a();function a(){Rn.Promise=o,Object.defineProperty(o,"name",{value:"Promise"}),o.toString=function(){return i.toString()};function o(c){var u=n.context(),p=r(c,"executor-",u,null,!1);const f=Reflect.construct(i,[p],o);return n.context(f).getCtx=function(){return u},f}Object.setPrototypeOf(o,i),["all","race"].forEach(function(c){const u=i[c];o[c]=function(p){let f=!1;[...p||[]].forEach(x=>{this.resolve(x).then(h(c==="all"),h(!1))});const m=u.apply(this,arguments);return m;function h(x){return function(){n.emit("propagate",[null,!f],m,!1,!1),f=f||!x}}}}),["resolve","reject"].forEach(function(c){const u=i[c];o[c]=function(p){const f=u.apply(this,arguments);return p!==f&&n.emit("propagate",[p,!0],f,!1,!1),f}}),o.prototype=i.prototype;const l=i.prototype.then;i.prototype.then=function(...u){var p=this,f=s(p);f.promise=p,u[0]=r(u[0],"cb-",f,null,!1),u[1]=r(u[1],"cb-",f,null,!1);const m=l.apply(this,u);return f.nextPromise=m,n.emit("propagate",[p,!0],m,!1,!1),m},i.prototype.then[Qf]=l,n.on("executor-start",function(c){c[0]=r(c[0],"resolve-",this,null,!1),c[1]=r(c[1],"resolve-",this,null,!1)}),n.on("executor-err",function(c,u,p){c[1](p)}),n.on("cb-end",function(c,u,p){n.emit("propagate",[p,!0],this.nextPromise,!1,!1)}),n.on("propagate",function(c,u,p){(!this.getCtx||u)&&(this.getCtx=function(){if(c instanceof Promise)var f=n.context(c);return f&&f.getCtx?f.getCtx():this})})}return n}function hJ(e){return(e||ci).get("promise")}const KC={},R6="setTimeout",P6="setInterval",oD="clearTimeout",YC="-start",K5="-",Y5=[R6,"setImmediate",P6,oD,"clearImmediate"];function xJ(e){const n=gJ(e);if(KC[n.debugId]++)return n;KC[n.debugId]=1;var s=Fc(n);s.inPlace(Rn,Y5.slice(0,2),R6+K5),s.inPlace(Rn,Y5.slice(2,3),P6+K5),s.inPlace(Rn,Y5.slice(3),oD+K5),n.on(P6+YC,r),n.on(R6+YC,i);function r(a,o,l){a[0]=s(a[0],"fn-",null,l)}function i(a,o,l){this.method=l,this.timerDuration=isNaN(a[1])?0:+a[1],a[0]=s(a[0],"fn-",this,l)}return n}function gJ(e){return(e||ci).get("timer")}const ZC={};function bJ(e){const n=yJ(e);if(!Ua||ZC[n.debugId])return n;ZC[n.debugId]=!0;var s=Fc(n),r=Rn.MutationObserver;return r&&(window.MutationObserver=function(a){return this instanceof r?new r(s(a,"fn-")):r.apply(this,arguments)},MutationObserver.prototype=r.prototype),n}function yJ(e){return(e||ci).get("mutation")}function lD(e){const n=e.ee.get("tracer");ti(SA,function(i){return new s().get(typeof i=="object"?i:{})},e);function s(){}const r=s.prototype={createTracer:function(i,a){var o={},l=this,c=typeof a=="function";return bs(Wm,["API/createTracer/called"],void 0,Zt.metrics,e.ee),e.runSoftNavOverSpa||bs(H5+"tracer",[Os(),i,o],l,Zt.spa,e.ee),function(){if(n.emit((c?"":"no-")+"fn-start",[Os(),l,c],o),c)try{return a.apply(this,arguments)}catch(u){const p=typeof u=="string"?new Error(u):u;throw n.emit("fn-err",[arguments,this,p],o),p}finally{n.emit("fn-end",[Os()],o)}}}};["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach(i=>{ti.apply(this,[i,function(){return bs(H5+i,[Os(),...arguments],this,e.runSoftNavOverSpa?Zt.softNav:Zt.spa,e.ee),this},e,r])}),ti(AA,function(){e.runSoftNavOverSpa?bs(H5+"routeName",[performance.now(),...arguments],void 0,Zt.softNav,e.ee):bs(Tl+"routeName",[Os(),...arguments],this,Zt.spa,e.ee)},e)}const{FEATURE_NAME:JC,START:lu,END:XC,BODY:QC,CB_END:Z5,JS_TIME:e_,FETCH:cu,FN_START:Eo,CB_START:J5,FN_END:X5}=dJ;var Pb,Ag,cD;let vJ=(Pb=class extends yo{constructor(s){super(s,JC);Oc(this,Ag);if(lD(s),!Ua)return;try{this.removeOnAbort=new AbortController}catch{}let r=0,i;const a=this.ee.get("tracer"),o=pJ(this.ee),l=mJ(this.ee),c=xJ(this.ee),u=e9(this.ee),p=this.ee.get("events"),f=t9(this.ee),m=Kg(this.ee),h=bJ(this.ee);this.ee.on(Eo,y),l.on(J5,y),o.on(J5,y),this.ee.on(X5,v),l.on(Z5,v),o.on(Z5,v),this.ee.on("fn-err",(...b)=>{b[2]?.__newrelic?.[s.agentIdentifier]||bs("function-err",[...b],void 0,this.featureName,this.ee)}),this.ee.buffer([Eo,X5,"xhr-resolved"],this.featureName),p.buffer([Eo],this.featureName),c.buffer(["setTimeout"+XC,"clearTimeout"+lu,Eo],this.featureName),u.buffer([Eo,"new-xhr","send-xhr"+lu],this.featureName),f.buffer([cu+lu,cu+"-done",cu+QC+lu,cu+QC+XC],this.featureName),m.buffer(["newURL"],this.featureName),h.buffer([Eo],this.featureName),l.buffer(["propagate",J5,Z5,"executor-err","resolve"+lu],this.featureName),a.buffer([Eo,"no-"+Eo],this.featureName),o.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),g(f,cu+lu),g(f,cu+"-done"),g(o,"new-jsonp"),g(o,"jsonp-end"),g(o,"cb-start"),m.on("pushState-end",x),m.on("replaceState-end",x),window.addEventListener("hashchange",x,ai(!0,this.removeOnAbort?.signal)),window.addEventListener("load",x,ai(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",function(){x(0,r>1)},ai(!0,this.removeOnAbort?.signal));function x(b,w){m.emit("newURL",[""+window.location,w])}function y(){r++,i=window.location.hash,this[Eo]=Os()}function v(){r--,window.location.hash!==i&&x(0,!0);var b=Os();this[e_]=~~this[e_]+b-this[Eo],this[X5]=b}function g(b,w){b.on(w,function(){this[w]=Os()})}this.abortHandler=Cr(this,Ag,cD),this.importAggregator(s,()=>bn(()=>import("./chunks/index.js-DlwhB-W-.js"),__vite__mapDeps([29,14,15,16,21,17,2,3,4,5,6,7,8,9,10,11,12])))}},Ag=new WeakSet,cD=function(){this.removeOnAbort?.abort(),this.abortHandler=void 0},$t(Pb,"featureName",JC),Pb);const t_=Zt.sessionReplay,n_={RECORD:"recordReplay",PAUSE:"pauseReplay",ERROR_DURING_REPLAY:"errorDuringReplay"},jFe=.12,NFe={FullSnapshot:2,Meta:4},FFe={[ql.ERROR]:15e3,[ql.FULL]:3e5,[ql.OFF]:0},EFe={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},SFe=5e3,Q5={API:"api",RESUME:"resume",SWITCH_TO_FULL:"switchToFull",INITIALIZE:"initialize",PRELOAD:"preload"};function wJ(e){ti(C6,function(){bs(C6,[],void 0,Zt.sessionReplay,e.ee)},e)}function CJ(e){ti(v6,function(){bs(v6,[],void 0,Zt.sessionReplay,e.ee)},e)}var Ob,Om,Np,dD,uD;let _J=(Ob=class extends yo{constructor(s){super(s,t_);Oc(this,Np);Oc(this,Om);$t(this,"recorder");wJ(s),CJ(s);let r;try{r=JSON.parse(localStorage.getItem("".concat(dY,"_").concat(uY)))}catch{}Zv(s.init)&&this.ee.on(n_.RECORD,()=>Cr(this,Np,uD).call(this)),Cr(this,Np,dD).call(this,r)&&this.importRecorder().then(i=>{i.startRecording(Q5.PRELOAD,r?.sessionReplayMode)}),this.importAggregator(this.agentRef,()=>bn(()=>import("./chunks/index.js-CQSBWOSa.js"),__vite__mapDeps([30,4,3,5,15,16,31,2,6,7,8,9,10,11,12])),this),this.ee.on("err",i=>{this.blocked||this.agentRef.runtime.isRecording&&(this.errorNoticed=!0,bs(n_.ERROR_DURING_REPLAY,[i],void 0,this.featureName,this.ee))})}importRecorder(){return this.recorder?Promise.resolve(this.recorder):(g5(this,Om)??Pw(this,Om,bn(async()=>{const{Recorder:s}=await import("./chunks/recorder.js-BgG1KEDm.js");return{Recorder:s}},__vite__mapDeps([32,16,31,2,3,4,5,6,7,8,9,10,11,12])).then(({Recorder:s})=>(this.recorder=new s(this),this.recorder)).catch(s=>{throw this.ee.emit("internal-error",[s]),this.blocked=!0,s})),g5(this,Om))}},Om=new WeakMap,Np=new WeakSet,dD=function(s){return s?s.sessionReplayMode===ql.FULL||s.sessionReplayMode===ql.ERROR?!0:NC(this.agentRef.init):NC(this.agentRef.init)},uD=function(){this.blocked||(this.featAggregate?this.featAggregate.mode!==ql.FULL&&this.featAggregate.initializeRecording(ql.FULL,!0,Q5.API):this.importRecorder().then(()=>{this.recorder.startRecording(Q5.API,ql.FULL)}))},$t(Ob,"featureName",t_),Ob);function jJ(e){ti(w6,function(){bs(Tl+w6,[Os(),...arguments],void 0,Zt.genericEvents,e.ee)},e)}function NJ(e){ti(E6,function(n,s){const r=Os(),{start:i,end:a,customAttributes:o}=s||{},l={customAttributes:o||{}};if(typeof l.customAttributes!="object"||typeof n!="string"||n.length===0){or(57);return}const c=(u,p)=>u==null?p:typeof u=="number"?u:u instanceof PerformanceMark?u.startTime:Number.NaN;if(l.start=c(i,0),l.end=c(a,r),Number.isNaN(l.start)||Number.isNaN(l.end)){or(57);return}if(l.duration=l.end-l.start,l.duration<0){or(58);return}return bs(Tl+E6,[l,n],void 0,Zt.genericEvents,e.ee),l},e)}var Bb;let FJ=(Bb=class extends yo{constructor(n){super(n,gC);const s=[n.init.page_action.enabled,n.init.performance.capture_marks,n.init.performance.capture_measures,n.init.user_actions.enabled,n.init.performance.resources.enabled];if(sZ(n),jJ(n),iD(n),Qv(n),NJ(n),Ua){let a=function(){i.emit("navChange")};n.init.user_actions.enabled&&(lY.forEach(o=>Rd(o,l=>bs("ua",[l],void 0,this.featureName,this.ee),!0)),cY.forEach(o=>{const l=GA(c=>{bs("ua",[c],void 0,this.featureName,this.ee)},500,{leading:!0});Rd(o,l)})),n.init.performance.resources.enabled&&Rn.PerformanceObserver?.supportedEntryTypes.includes("resource")&&new PerformanceObserver(l=>{l.getEntries().forEach(c=>{bs("browserPerformance.resource",[c],void 0,this.featureName,this.ee)})}).observe({type:"resource",buffered:!0});const i=Kg(this.ee);i.on("pushState-end",a),i.on("replaceState-end",a),window.addEventListener("hashchange",a,ai(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",a,ai(!0,this.removeOnAbort?.signal))}try{this.removeOnAbort=new AbortController}catch{}this.abortHandler=()=>{this.removeOnAbort?.abort(),this.abortHandler=void 0},Rn.addEventListener("error",()=>{bs("uaErr",[],void 0,Zt.genericEvents,this.ee)},ai(!1,this.removeOnAbort?.signal)),t9(this.ee),e9(this.ee),this.ee.on("open-xhr-start",(i,a)=>{r(i[1])||a.addEventListener("readystatechange",()=>{a.readyState===2&&bs("uaXhr",[],void 0,Zt.genericEvents,this.ee)})}),this.ee.on("fetch-start",i=>{i.length>=1&&!r(nD(i[0]))&&bs("uaXhr",[],void 0,Zt.genericEvents,this.ee)});function r(i){const a=qg(i);return n.beacons.includes(a.hostname+":"+a.port)}s.some(i=>i)?this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-D1K4XXQ2.js"),__vite__mapDeps([33,15,16,19,1,24,27,2,3,4,5,6,7,8,9,10,11,12]))):this.deregisterDrain()}},$t(Bb,"featureName",gC),Bb);const s_=new Map;function pD(e,n,s,r){if(!(typeof n=="object"&&n&&typeof s=="string"&&s&&typeof n[s]=="function"))return or(29);const i=EJ(e),a=Fc(i),o=new vf(ic);o.level=r.level,o.customAttributes=r.customAttributes;const l=n[s]?.[Qf]||n[s];return s_.set(l,o),a.inPlace(n,[s],"wrap-logger-",()=>s_.get(l)),i}function EJ(e){return(e||ci).get("logger")}function SJ(e){ti(LA,(n,s,{customAttributes:r={},level:i=Gg.INFO}={})=>{pD(e.ee,n,s,{customAttributes:r,level:i})},e)}var Ub;let kJ=(Ub=class extends yo{constructor(n){super(n,SC),nZ(n),SJ(n),Qv(n);const s=this.ee;["log","error","warn","info","debug","trace"].forEach(i=>{PA(Rn.console[i]),pD(s,Rn.console,i,{level:i==="log"?"info":i})}),this.ee.on("wrap-logger-end",function([a]){const{level:o,customAttributes:l}=this;JA(s,a,l,o)}),this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-W614fmE2.js"),__vite__mapDeps([34,15,16,19,2,3,4,5,6,7,8,9,10,11,12])))}},$t(Ub,"featureName",SC),Ub);const TJ=["click","keydown","submit"],IJ="popstate",AFe="api",DFe="initialPageLoad",r_=Zt.softNav,MFe=5e3,LFe=500,RFe={INITIAL_PAGE_LOAD:"",ROUTE_CHANGE:1,UNSPECIFIED:2},PFe={INTERACTION:1,AJAX:2},OFe={IP:"in progress",PF:"pending finish",FIN:"finished",CAN:"cancelled"},AJ=1/10*1e3;class fD extends yo{constructor(n){if(super(n,r_),lD(n),!Ua||!mc().o.MO)return;const s=Kg(this.ee);try{this.removeOnAbort=new AbortController}catch{}TJ.forEach(c=>{Rd(c,u=>{o(u)},!0,this.removeOnAbort?.signal)});const r=()=>bs("newURL",[Os(),""+window.location],void 0,this.featureName,this.ee);s.on("pushState-end",r),s.on("replaceState-end",r),Rd(IJ,c=>{o(c),bs("newURL",[c.timeStamp,""+window.location],void 0,this.featureName,this.ee)},!0,this.removeOnAbort?.signal);let i=!1;const a=new(mc()).o.MO((c,u)=>{i||(i=!0,requestAnimationFrame(()=>{bs("newDom",[Os()],void 0,this.featureName,this.ee),i=!1}))}),o=GA(c=>{bs("newUIEvent",[c],void 0,this.featureName,this.ee),a.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},AJ,{leading:!0});this.abortHandler=l,this.importAggregator(n,()=>bn(()=>import("./chunks/index.js-D8Qw3-X-.js"),__vite__mapDeps([35,18,17,15,16,21,14,2,3,4,5,6,7,8,9,10,11,12])),{domObserver:a});function l(){this.removeOnAbort?.abort(),a.disconnect(),this.abortHandler=void 0}}}$t(fD,"featureName",r_);class DJ extends $Y{constructor(n){super({...n,features:[CZ,KA,WY,HZ,GY,iZ,vJ,fD,_J,FJ,kJ],loaderType:"browser-agent"})}}class MJ{constructor(){$t(this,"browserAgent")}normalizeError(n){if(n instanceof Error)return n;if(typeof n=="string")return new Error(n);try{return new Error(JSON.stringify(n))}catch{return new Error("Unknown error")}}init(){const n={init:{distributed_tracing:{enabled:!1},privacy:{cookies_enabled:!0},ajax:{deny_list:[]}},info:{beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"NRBR-5532f07fcd7ef7d45ce",applicationID:"1589150949",sa:1},loader_config:{accountID:"7256303",trustKey:"7256303",agentID:"1589150949",licenseKey:"NRBR-5532f07fcd7ef7d45ce",applicationID:"1589150949"}};this.browserAgent=new DJ(n),this.browserAgent.addRelease("frontend","1.0.303"),this.browserAgent.setApplicationVersion("1.0.303"),this.browserAgent.setErrorHandler(s=>{const r=s?.message?.toLowerCase()||"",i=s?.stack||"",a=s?.fileName||"";return!!(["chrome-extension://","moz-extension://","webkit-masked-url://","safari-extension://"].some(u=>i.includes(u)||a.includes(u))||i.includes("anonymous")||[/line-1:-1/,/:-1:-1/,/@:1:1/,/<anonymous>:1:1/,/at :1:1/].some(u=>u.test(i))||(r==="script error"||r==="script error.")&&!a&&i.length<50||["ResizeObserver loop","ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications","non-error promise rejection captured with keys"].some(u=>r.includes(u.toLowerCase())))})}noticeError(n,s){this.browserAgent?.noticeError(this.normalizeError(n),s)}noticeErrorWithEvent(n,s,r={}){this.noticeError(s,{eventKey:n,...r})}setCustomAttribute(n,s){this.browserAgent?.setCustomAttribute(n,s)}setUserId(n){this.browserAgent?.setUserId(n)}setUser(n,s,r){this.setUserId(n),this.setCustomAttribute("userId",n),s&&this.setCustomAttribute("userEmail",s),r&&this.setCustomAttribute("userName",r)}clearUser(){this.setUserId(null),this.setCustomAttribute("userId",null),this.setCustomAttribute("userEmail",null),this.setCustomAttribute("userName",null)}}const Cf=new MJ,LJ=()=>{Cf.init()},Fn=(e,n,s={})=>Cf.noticeErrorWithEvent(e,n,s),e3=(e,{email:n,name:s,...r}={})=>{e?(Cf.setUser(e,n,s),Object.entries(r).forEach(([i,a])=>{a!==void 0&&Cf.setCustomAttribute(i,a)})):Cf.clearUser()},RJ={GITHUB_USER_DETAILS:"api_github_user_details_error",AGENT_API:"agent_api_error"},PJ={SUBMISSION:"job_submission_error"},OJ={SERVER_SAVE:"mcp_server_save_error"},BJ={AGENT_MESSAGES_FETCH:"agent_messages_fetch_error"},UJ={IS_AUTH_ERROR:"is_auth_error_invoked"},mD={ONBOARDING_FETCH:"onboarding_form_fetch_error"},VJ={NO_VSCODE_PASSWORD:"visual_edit_no_vscode_password",NO_PREVIEW_URL:"visual_edit_no_preview_url",CHANGES_ERROR:"visual_edit_changes_error",EDIT_RESPONSE_PARSE_ERROR:"visual_edit_edit_response_parse_error",SAVE_CHANGES_ERROR:"visual_edit_save_changes_error",TEST_MODE_START_ERROR:"visual_edit_test_mode_start_error",PREVIEW_IFRAME_LOAD_ERROR:"visual_edit_preview_iframe_load_error"},HJ={VERIFY:"coupon_verify_error"},dp={CHANGE_PAYMENT_METHOD:"handle_change_payment_method_error",QUICK_UPGRADE:"quick_upgrade_error",QUICK_UPGRADE_FALLBACK:"quick_upgrade_stripe_fallback_error",INCOMPLETE_TRACKING_DATA:"incomplete_payment_data_for_tracking",TRACKING_ERROR:"payment_tracking_error",CREDITS_REFRESH_AFTER_PAYMENT:"credits_refresh_after_payment_error",CREDITS_REFRESH_ON_MODAL_CLOSE:"credits_refresh_on_modal_close_error",CREDITS_PURCHASE:"credits_purchase_error",CHECKOUT_SESSION_API:"checkout_session_api_error",CHECKOUT_SESSION_CREATION:"checkout_session_creation_error",RESUME_SUBSCRIPTION:"resume_subscription_error"},$J={MISSING_TRANSACTION_ID:"paddle_missing_transaction_id",NOT_INITIALIZED:"paddle_not_initialized",INITIALIZATION:"paddle_initialization_error",PIXEL_TRACKING:"paddle_pixel_tracking_error",CHECKOUT:"paddle_checkout_error"},zJ={QUICK_UPGRADE:"get_quick_upgrade_feature_flag_error"},hD={INIT:"i18n_init_error"},WJ={TOGGLE:"universal_key_toggle_error",REGENERATE:"universal_key_regenerate_error",TRANSFER_CREDITS:"universal_key_transfer_credits_error",AUTO_RECHARGE_TOGGLE:"universal_key_auto_recharge_toggle_error",CONFIRM_AUTO_RECHARGE:"universal_key_confirm_auto_recharge_error",SAVE_AUTO_RECHARGE_AMOUNT:"universal_key_save_auto_recharge_amount_error"},GJ={CADDY_TO_CLOUDFLARE_JOB_FETCH:"caddy_to_cloudflare_job_fetch_error"},qJ={EXPO_QR_GENERATION:"expo_qr_code_generation_error"},KJ={CHECKOUT:"promotional_setup_checkout_error"},xD={PUBLISH_APP:"publish_app_error"},Is={API:RJ,JOB:PJ,MCP:OJ,POLLING:BJ,AUTH:UJ,FORM:mD,VISUAL_EDIT:VJ,COUPON:HJ,PAYMENT:dp,PADDLE:$J,FEATURE_FLAG:zJ,I18N:hD,UNIVERSAL_KEY:WJ,MIGRATION:GJ,QR_CODE:qJ,PROMOTIONAL_SETUP:KJ,PUBLISH:xD};let i_=!1;async function n9(e="You are unauthorized to use this application",n=!1){if(i_||window.location.pathname==="/landing"||window.location.pathname==="/login")return;i_=!0;try{gA(),Ai.dispatch(fA([{id:"home",title:"Home",path:"/"}])),Ai.dispatch(pA("home")),Ai.dispatch(hA()),n&&await Xr.auth.signOut(),b6()}catch{if(n)try{await Xr.auth.signOut()}catch{}b6()}const s=e.replace(/^\d{3}:\s*/,"").trim(),r=encodeURIComponent(s);window.location.href=`/landing?showError=${r}`}function gD(e,n="You are unauthorized to use this application"){const s=e?.message,r=e?.detail;if(r){const i=typeof r=="string"?r:JSON.stringify(r);if(i.includes("SSO user is not authorized")||i.includes("403:"))return i.replace(/^\d{3}:\s*/,"").trim();if(i.includes("already exists with different ID"))return"Your account has authentication conflicts. Please contact support or try signing in with a different method."}return s||r||n}function bD(e){Fn(Is.AUTH.IS_AUTH_ERROR,e);const n=e?.status||e?.response?.status;if(n===401)return!0;if(n===500){const r=e?.error||e?.data?.detail||e?.response?.data?.detail;if(r){const i=typeof r=="string"?r:JSON.stringify(r),a=i.includes("SSO user is not authorized"),o=i.includes("403:"),l=i.includes("already exists with different ID");return a||o||l}return!0}return e?.error?.includes("SSO user is not authorized")||e?.error?.includes("already exists with different ID")||!1}function Cd(e,n,s=30,r="/"){try{const i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);const a=`expires=${i.toUTCString()}`,o=encodeURIComponent(n);document.cookie=`${e}=${o};${a};path=${r};SameSite=Lax`}catch{}}function qa(e){try{const n=e+"=",s=document.cookie.split(";");for(let r=0;r<s.length;r++){let i=s[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0){const a=i.substring(n.length,i.length);return decodeURIComponent(a)}}return null}catch{return null}}function $0(e,n="/",s){try{const r=s?`;domain=${s}`:"";document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=${n}${r};`}catch{}}function YJ(){try{const e={},n=document.cookie.split(";");for(let s=0;s<n.length;s++){let r=n[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);const i=r.indexOf("=");if(i>0){const a=r.substring(0,i),o=r.substring(i+1);e[a]=decodeURIComponent(o)}}return e}catch{return{}}}const em="tracked_query_params";function ZJ(e,n=30){try{const s=new Set,r=qa(em);if(r)try{JSON.parse(r).forEach(o=>s.add(o))}catch{}const i=e.get("fbclid");if(i&&!qa("_fbc")){const a=JJ(i);a&&(Cd("_fbc",a,n),s.add("_fbc"))}e.forEach((a,o)=>{a!=null&&a!==""&&(Cd(o,a,n),s.add(o))}),Cd(em,JSON.stringify(Array.from(s)),n)}catch{}}function JJ(e){try{if(!e)return null;const n=window.location.hostname;let s=0;if(n.includes(".")){const a=n.split(".");a.length>=2&&(s=a.length-1)}const r=Date.now();return`fb.${s}.${r}.${e}`}catch{return null}}function XJ(e=30){try{if(typeof window>"u"||!window.Rewardful)return!1;const n=window.Rewardful;if(n.affiliate||n.referral){const s={};n.affiliate&&(s.affiliate=n.affiliate),n.referral&&(s.referral=n.referral);const r=JSON.stringify(s);Cd("rewardful_affiliate",r,e);const i=qa(em),a=new Set(i?JSON.parse(i):[]);return a.add("rewardful_affiliate"),Cd(em,JSON.stringify(Array.from(a)),e),!0}return!1}catch{return!1}}function Jh(e){try{const n=JSON.parse(e);return typeof n=="object"&&n!==null?n:e}catch{return e}}function io(){const e={app_version:"1.0.303"},n=["_fbp","_fcp","_ttp","_fbc"],s=qa(em);if(s)try{return JSON.parse(s).forEach(a=>{const o=qa(a);o&&(e[a]=Jh(o))}),n.forEach(a=>{const o=qa(a);if(o){const l=a.startsWith("_")?a.substring(1):a;e[l]=Jh(o)}}),e}catch{}const r=YJ();return Object.entries(r).forEach(([i,a])=>{const o=i.toLowerCase();o.includes("session")||o.includes("token")||o.startsWith("sb-")||(e[i]=Jh(a))}),n.forEach(i=>{const a=qa(i);if(a){const o=i.startsWith("_")?i.substring(1):i;e[o]=Jh(a)}}),e}const QJ="cjId",Rx=()=>{if(!(typeof window>"u"))try{const e=document.cookie.split(";");for(let n of e){const[s,r]=n.trim().split("=");if(s===QJ)return decodeURIComponent(r)}}catch{}},Nl=(e,n)=>{if(typeof window<"u"&&window.dataLayer){const s=Rx(),r=qa("rewardful_affiliate"),i=qa("utm_source"),a={event:e,...n,timestamp:new Date().toISOString(),...s&&{cj_event_id:s},...r&&{rewardful_affiliate:r},...i&&{utm_source:i}};window.dataLayer.push(a)}},t3=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_content")||void 0,c=localStorage.getItem("utm_term")||void 0,u=localStorage.getItem("user_referrer")||void 0,p=new URLSearchParams(window.location.search),f=p.get("referral")||p.get("ref")||void 0;Nl("sign_up",{method:e,user_id:n,user_email:s,utm_source:i,utm_campaign:a,utm_medium:o,utm_content:l,utm_term:c,referrer:u,referral_code:f,signup_page:window.location.pathname,signup_url:window.location.href,...r})},n3=(e,n,s)=>{if(!(typeof window>"u"||!document.cookie.match(/(^| )ps_partner_key=([^;]+)/))&&window.growsumo?.createSignup)try{window.growsumo.data.email=e,window.growsumo.data.customer_key=n,s&&(window.growsumo.data.name=s),window.growsumo.createSignup(i=>{})}catch{}},eX=(e,n,s)=>{Nl("login",{method:e,user_id:n,user_email:s,login_page:window.location.pathname})},a_=(e,n,s,r,i=!1,a)=>{const o=localStorage.getItem("utm_source")||void 0,l=localStorage.getItem("utm_campaign")||void 0,c=localStorage.getItem("utm_medium")||void 0;Nl("topup_intent",{user_id:e,credits_amount:n,price_usd:s,user_tier:r,is_custom_amount:i,organization_id:a||"personal",checkout_type:"stripe",utm_source:o,utm_campaign:l,utm_medium:c,page_url:window.location.href,page_path:window.location.pathname})},tX=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_term")||void 0,c=localStorage.getItem("utm_content")||void 0,u=localStorage.getItem("referral_code")||void 0;Nl("topup_success",{user_id:e,credits_purchased:n,amount:s,currency:r,utm_source:i,utm_campaign:a,utm_medium:o,utm_term:l,utm_content:c,referral_code:u,purchase_date:new Date().toISOString()})},_d=(e,n,s,r,i,a,o,l,c)=>{const u=localStorage.getItem("utm_source")||void 0,p=localStorage.getItem("utm_campaign")||void 0,f=localStorage.getItem("utm_medium")||void 0,m=localStorage.getItem("utm_term")||void 0,h=localStorage.getItem("utm_content")||void 0,x=localStorage.getItem("referral_code")||void 0;Nl("upgrade_intent",{user_id:e,current_tier:n||"free",target_tier:s,billing_period:r,is_organization:i,organization_id:a||void 0,trigger_location:o||"upgrade_modal",utm_source:u,utm_campaign:p,utm_medium:f,utm_term:m,utm_content:h,referral_code:x,currency:l||"USD",amount:c,intent_date:new Date().toISOString()})},nX=({userId:e,planName:n,tierName:s,credits:r,billingPeriod:i,isOrganization:a,organizationId:o,organizationName:l,paymentId:c,isRazorpayFlow:u,amount:p,currency:f})=>{const m=localStorage.getItem("utm_source")||void 0,h=localStorage.getItem("utm_campaign")||void 0,x=localStorage.getItem("utm_medium")||void 0,y=localStorage.getItem("utm_term")||void 0,v=localStorage.getItem("utm_content")||void 0,g=localStorage.getItem("referral_code")||void 0;Nl("subscription_success",{user_id:e,plan_name:n,tier_name:s,credits_per_month:r,billing_period:i||"monthly",is_organization:a||!1,organization_id:o||void 0,organization_name:l||void 0,payment_id:c||void 0,is_razorpay_flow:!!u,amount:p,currency:f,utm_source:m,utm_campaign:h,utm_medium:x,utm_term:y,utm_content:v,referral_code:g,subscription_date:new Date().toISOString()})},sX=(e,n,s,r)=>{const i=localStorage.getItem("utm_source")||void 0,a=localStorage.getItem("utm_campaign")||void 0,o=localStorage.getItem("utm_medium")||void 0,l=localStorage.getItem("utm_content")||void 0,c=localStorage.getItem("utm_term")||void 0,u=localStorage.getItem("user_referrer")||void 0,p=new URLSearchParams(window.location.search),f=p.get("referral")||p.get("ref")||void 0;Nl("first_job_created",{user_id:e,job_id:n,task_description:s.substring(0,500),task_length:s.length,utm_source:i,utm_campaign:a,utm_medium:o,utm_content:l,utm_term:c,referrer:u,referral_code:f,creation_page:window.location.pathname,creation_url:window.location.href,...r})},du=(e,n,s,r)=>{if(!(typeof window>"u"))try{const i={amount:n,currency:s,category:r,timestamp:Date.now()};sessionStorage.setItem(`payment_details_${e}`,JSON.stringify(i))}catch{}},o_=e=>{if(typeof window>"u")return null;try{const n=sessionStorage.getItem(`payment_details_${e}`);if(!n)return null;const s=JSON.parse(n);return Date.now()-s.timestamp>1440*60*1e3?(sessionStorage.removeItem(`payment_details_${e}`),null):s}catch{return null}},l_=e=>{if(!(typeof window>"u"))try{sessionStorage.removeItem(`payment_details_${e}`)}catch{}},c_=(e,n,s,r="USD",i="credits")=>{if(!(typeof window>"u"))try{if(!Number.isFinite(s)||s<=0)return;const a=r?.toUpperCase()||"USD",o=Rx(),l="";if(window.cj||(window.cj={}),window.cj.order={enterpriseId:1592779,pageType:"conversionConfirmation",userId:e,emailHash:l,orderId:n,actionTrackerId:501794,currency:a,amount:s,category:i,cjeventOrder:o||""},document.getElementById("cjapitag")){Nl("cj_conversion_tracked",{order_id:n,amount:s,currency:a,category:i,cj_event_id:o});return}const u=document.createElement("script");u.type="text/javascript",u.async=!0,u.id="cjapitag",u.src="https://api.emergent.sh/proxydirectory/tags/1171454318801/tag.js",u.onload=()=>{Nl("cj_conversion_tracked",{order_id:n,amount:s,currency:a,category:i,cj_event_id:o})},u.onerror=()=>{};const p=document.getElementsByTagName("script")[0];p&&p.parentNode?p.parentNode.insertBefore(u,p):document.head.appendChild(u)}catch{}},rX={HOME_PREVIEW_CLICKED:"home_preview_clicked"},yl={BANNER_CLICKED:"promotional_setup_banner_clicked",MODAL_CTA_CLICKED:"promotional_setup_modal_cta_clicked",MODAL_DISMISSED:"promotional_setup_modal_dismissed",CHECKOUT_INITIATED:"promotional_setup_checkout_initiated",CHECKOUT_REDIRECT:"promotional_setup_checkout_redirect",FREE_TRIAL_MODAL_CTA_CLICKED:"free_trial_modal_cta_clicked",FREE_TRIAL_MODAL_EXPLORE_PLANS:"free_trial_modal_explore_plans",FREE_TRIAL_MODAL_DISMISSED:"free_trial_modal_dismissed"},es={MCP_INTRODUCTION_MODAL_OPENED:"mcp_introduction_modal_opened",MCP_INTRODUCTION_MODAL_CLOSED:"mcp_introduction_modal_closed",PROJECTS_INTRODUCTION_MODAL_OPENED:"projects_introduction_modal_opened",PROJECTS_INTRODUCTION_MODAL_CLOSED:"projects_introduction_modal_closed",BRO_MODE_INTRODUCTION_MODAL_OPENED:"bro_mode_introduction_modal_opened",BRO_MODE_INTRODUCTION_MODAL_CLOSED:"bro_mode_introduction_modal_closed",BRO_MODE_INTRODUCTION_TRY_CLICKED:"bro_mode_introduction_try_clicked",BRO_MODE_INTRODUCTION_LEARN_MORE_CLICKED:"bro_mode_introduction_learn_more_clicked",VISUAL_EDITS_MODAL_OPENED:"visual_edits_modal_opened",VISUAL_EDITS_MODAL_CLOSED:"visual_edits_modal_closed",VISUAL_EDITS_MODAL_GOT_IT_CLICKED:"visual_edits_modal_got_it_clicked",VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED:"visual_edits_modal_learn_more_clicked",SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS:{PAYMENT_STATUS_POLLING_STARTED:"payment_status_polling_started",PAYMENT_SUCCESS:"subscription_payment_success",PAYMENT_FAILED:"subscription_payment_failed",PAYMENT_CANCELLED:"subscription_payment_cancelled",PAYMENT_STUCK:"subscription_payment_stuck",RETRY_PAYMENT_CLICKED:"subscription_retry_payment_clicked"},PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened",UPDATE_TIER_CLICKED:"update_tier_clicked",UPGRADE_TIER_MODAL_EVENTS:{MODAL_CLOSED:"upgrade_tier_modal_closed",BILLING_MODE_SWITCHED:"upgrade_tier_billing_mode_switched",COUPON_INPUT_SHOWN:"upgrade_tier_coupon_input_shown",COUPON_APPLIED:"upgrade_tier_coupon_applied",COUPON_APPLY_FAILED:"upgrade_tier_coupon_apply_failed",COUPON_REMOVED:"upgrade_tier_coupon_removed",PLAN_VARIANT_SELECTED:"upgrade_tier_plan_variant_selected",CONTACT_SALES_CLICKED:"upgrade_tier_contact_sales_clicked",CHECKOUT_INITIATED:"upgrade_tier_checkout_initiated",CHECKOUT_FAILED:"upgrade_tier_checkout_failed"},ONBOARDING_SURVEY_EVENTS:{SUBMITTED:"onboarding_survey_submitted",CLOSED:"onboarding_survey_closed"},CANCELLATION_FLOW_EVENTS:{ORG_MODE_CLICKED:"cancel_subscription_org_mode_clicked",RESUME_CLICKED:"resume_subscription_clicked",SURVEY_INITIATED:"cancel_subscription_survey_initiated",SURVEY_SUBMITTED:"cancel_survey_proceed_cancel_clicked",SURVEY_CLOSED:"cancel_survey_modal_closed",WARNING_SHOWN:"cancel_warning_modal_shown",WARNING_CLOSED:"cancel_warning_modal_closed",WARNING_CANCEL_CONFIRMED:"cancel_confirmed_from_warning",RETENTION_SHOWN:"retention_modal_shown",RETENTION_CLOSED:"retention_modal_closed",RETENTION_CANCEL_CONFIRMED:"cancel_confirmed_from_retention",RETENTION_CLAIM_SUCCESS:"retention_offer_claimed_success",RETENTION_CLAIM_FAILURE:"retention_offer_claimed_failure",RETENTION_CLAIM_API_ERROR:"retention_offer_claimed_api_error"}},Ia={CREDIT_BALANCE_BUTTON_CLICKED:"credit_balance_button_clicked",BUY_CREDITS_BUTTON_CLICKED:"buy_credits_button_clicked",TIER_UPGRADE_BUTTON_CLICKED:"tier_upgrade_button_clicked",PLAN_UPGRADE_BUTTON_CLICKED:"plan_upgrade_button_clicked",CONTACT_US_BUTTON_CLICKED:"payment_modal_contact_us_button_clicked",BUY_CREDITS_MODAL_EVENTS:{MODAL_OPENED:"buy_credits_modal_opened",MODAL_CLOSED:"buy_credits_modal_closed",BUNDLE_SELECTED:"credit_bundle_selected",BUNDLE_PURCHASE_CLICKED:"credit_bundle_purchase_clicked",BUY_CREDITS_CLICKED:"buy_credits_clicked",CUSTOM_AMOUNT_INPUT_CHANGED:"custom_amount_input_changed",CUSTOM_AMOUNT_PURCHASE_CLICKED:"custom_amount_purchase_clicked",CUSTOM_AMOUNT_VALIDATION_ERROR:"custom_amount_validation_error",PRICING_INFO_LEARN_MORE_CLICKED:"pricing_info_learn_more_clicked",PAYMENT_LOADING_MODAL_OPENED:"payment_loading_modal_opened"},PAYMENT_STATUS_MODAL_EVENTS:{PAYMENT_SUCCESS:"credit_topup_payment_success",PAYMENT_FAILED:"credit_topup_payment_failed",PAYMENT_CANCELLED:"credit_topup_payment_cancelled",PAYMENT_STUCK:"credit_topup_payment_stuck"},BUY_CREDITS_AUTO_POPUP_SHOWN:"buy_credits_auto_popup_shown"},iX={PAYMENT_SUCCESS:"gifting_payment_success",PAYMENT_FAILED:"gifting_payment_failed"},aX={ADVANCED_CONTROL_CLICKED:"advanced_control_button_clicked",CUSTOM_AGENT_SELECTED:"custom_agent_selected",ATTACH_FILE_CLICKED:"attach_file_button_clicked",ATTACHMENT_REMOVED:"attachment_removed",SELECT_TEMPLATE_UPDATED:"select_template_value_updated",BUDGET_VALUE_UPDATED:"budget_value_updated",MODEL_VALUE_UPDATED:"model_value_updated",RECENT_TASK_OPENED:"recent_task_clicked",REFERRAL_ICON_CLICKED:"referral_icon_clicked",REFERRAL_TERM_CONDITION_CLICKED:"referral_terms_and_condition_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELLED:"file_upload_cancelled",FOOTER_EVENTS:{HOME_BUTTON_CLICKED:"footer_home_button_clicked",AFFILIATES_BUTTON_CLICKED:"footer_affiliates_button_clicked",ENTERPRISE_BUTTON_CLICKED:"footer_enterprise_button_clicked",PRIVACY_POLICY_BUTTON_CLICKED:"footer_privacy_policy_button_clicked",TERM_OF_SERVICE_BUTTON_CLICKED:"footer_term_of_service_button_clicked",IP_ADDRESSES_BUTTON_CLICKED:"footer_ip_addresses_button_clicked"},GITHUB_EVENTS:{CONNECT_TO_GITHUB_ICON_CLICKED:"connect_to_github_icon_clicked",CONNECT_TO_GITHUB_CTA_CLICKED:"connect_to_github_cta_clicked",GITHUB_REPO_TAB_CHANGED:"github_repo_category_changed"},USER_MENU_EVENTS:{ACCOUNT_SETTING_CLICKED:"user_menu_account_setting_clicked",HELP_CENTER_CLICKED:"user_menu_help_center_clicked",JOIN_DISCORD_CLICKED:"user_menu_join_discord_clicked",LANGUAGE_CLICKED:"user_menu_language_clicked"}},yD={UPGRADE_PLAN_CLICKED:"setting_upgrade_plan_clicked",UNIVERSAL_KEYS_EVENTS:{UNIVERSAL_KEY_TAB_OPENED:"universal_key_tab_opened",UNIVERSAL_KEY_COPIED:"copied_universal_key",UNIVERSAL_KEY_TOGGLED:"toggled_universal_key",UNIVERSAL_KEY_REGENERATE_CTA_CLICKED:"regenerate_universal_key_cta_clicked",UNIVERSAL_KEY_REGENERATED:"regenerated_universal_key",ADD_BALANCE_CTA_CLICKED:"add_balance_cta_clicked",TRANSFER_CREDIT_UPDATED:"updated_transfer_credit_value",CREDIT_TRANSFERED:"transfer_credit_cta_clicked",AUTO_RECHARGE_TOGGLE_CLICKED:"auto_recharge_toggle_clicked",AUTO_RECHARGE_CONFIRMED:"auto_recharge_credit_save_cta_clicked",AUTO_RECHARGE_UPDATED_VALUE:"auto_recharge_updated_value",KEY_DETAILS_TAB_CLICKED:"universal_key_details_tab_clicked",LLM_PROVIDERS_TAB_CLICKED:"universal_key_llm_providers_tab_clicked"},MANAGE_AGENTS_EVENTS:{MANAGE_AGENTS_TAB_OPENED:"manage_agents_tab_opened",MANAGE_AGENTS_TAB_CHANGED:"manage_agents_tab_changed",NEW_AGENT_CREATION:"creating_new_agent",NEW_SUB_AGENT_CREATION:"creating_new_sub_agent",EXISTING_AGENT_OPENED:"existing_agent_opened",NEW_MCP_CREATED:"new_mcp_created"},LLM_PROVIDER_TOGGLED:"llm_provider_toggled",LANGUAGE_SELECTED:"language_selected"},oX={WAKE_UP_AGENT:"wake_up_agent_clicked"},Du={JOB_NAME_UPDATED:"job_name_updated",JOB_REMOVED:"job_deleted"},BFe={SOCIAL_SHARE_CLICKED:"social_share_clicked"},lX={TOUR_STARTED:"guided_tour_started",TOUR_COMPLETED:"guided_tour_completed",TOUR_SKIPPED:"guided_tour_skipped",TOUR_STEP_COMPLETED:"guided_tour_step_completed"},Tn={AUTH_EVENTS:rX,MODAL_EVENTS:es,CREDIT_EVENTS:Ia,GIFT_EVENTS:iX,HOME_PAGE_EVENTS:aX,USER_SETTING_EVENTS:yD,AGENT_EVENTS:oX,PROMOTIONAL_SETUP_EVENTS:yl,TOUR_EVENTS:lX},na={BUY_CREDITS_BUTTON_CLICKED:"chat_screen_buy_credits_button_clicked",ADD_MORE_CREDITS_BUTTON_CLICKED:"chat_screen_add_more_credits_button_clicked",PREVIEW_BUTTON_CLICKED:"chat_screen_preview_button_clicked",SAVE_WORK_BUTTON_CLICKED:"chat_screen_save_work_button_clicked",LEARN_CLEAR_MEMORY_CLICKED:"chat_screen_learn_clear_memory_clicked",SCROLL_TO_BOTTOM_CLICKED:"chat_scroll_to_bottom_clicked",ULTRA_MODE_ENABLED:"ultra_mode_enabled",ULTRA_MODE_DISABLED:"ultra_mode_disabled",ULTRA_MODE_UPGRADE_REQUIRED:"ultra_mode_upgrade_required"},z0={REQUEST_INITIATED:"streaming_api_request_initiated",RESPONSE_NULL:"streaming_api_response_null",JSON_PARSED:"streaming_api_json_parsed",DATA_READY_FOR_RENDER:"streaming_api_data_ready_for_render"},O6={UPLOAD_ASSETS_CLICKED:"upload_assets_clicked",SOURCE_REPOSITORY_CLICKED:"chat_info_source_repository_clicked",MOST_RECENT_EXPORT_CLICKED:"chat_info_most_recent_export_clicked"},ii={WORKSPACE_CREATED_SUCCESSFULLY:"workspace_created_successfully",CREATE_NEW_PROJECT_CLICKED:"create_new_project_clicked",CREATE_PROJECT_MODAL_OPENED:"create_project_modal_opened",CREATE_PROJECT_SUBMIT_CLICKED:"create_project_submit_clicked",ONBOARDING_CREATE_FIRST_PROJECT_CLICKED:"onboarding_create_first_project_clicked",ONBOARDING_LEARN_MORE_CLICKED:"onboarding_learn_more_clicked",PROJECT_SWITCHER_CLICKED:"project_switcher_clicked",PROJECT_SWITCH_CLICKED:"project_switch_clicked",PROJECT_SETTINGS_CLICKED:"project_settings_clicked",PROJECT_INVITE_MEMBER_CLICKED:"project_invite_member_clicked",PROJECT_SEARCH_USED:"project_search_used",TEAMS_INTRO_SEE_WHATS_NEW_CLICKED:"teams_intro_see_whats_new_clicked",TEAMS_INTRO_OKAY_GOT_IT_CLICKED:"teams_intro_okay_got_it_clicked",TEAMS_INTRO_LEARN_MORE_CLICKED:"teams_intro_learn_more_clicked"},d_={PREVIEW_ON_MOBILE_CLICKED:"preview_on_mobile_clicked",PREVIEW_CLOSE_CLICKED:"preview_close_clicked"},cr={CHAT_TRAJ_DEPLOY_CLICKED:"chat_traj_deploy_clicked",CHAT_HEADER_DEPLOY_CLICKED:"chat_header_deploy_clicked",CHAT_HEADER_REDEPLOY_CLICKED:"chat_header_redeploy_clicked",DEPLOYMENT_BLOCKED:"deployment_blocked",START_DEPLOYMENT_CLICKED:"deploy_panel_start_deployment_clicked",DEPLOYMENT_CONFIRMATION_DEPLOY_CLICKED:"deployment_confirmation_deploy_clicked",DEPLOYMENT_CONFIRMATION_CANCEL_CLICKED:"deployment_confirmation_cancel_clicked",DEPLOYMENT_FOOTER_SHUTDOWN_CLICKED:"deployment_footer_shutdown_clicked",DEPLOYMENT_FOOTER_REDEPLOY_CLICKED:"deployment_footer_redeploy_clicked",DEPLOYMENT_FOOTER_START_DEPLOYMENT_CLICKED:"deployment_footer_start_deployment_clicked",REDEPLOY_MODAL_CONFIRM_CLICKED:"redeploy_modal_confirm_clicked",REDEPLOY_MODAL_CANCEL_CLICKED:"redeploy_modal_cancel_clicked",SHUTDOWN_MODAL_CONFIRM_CLICKED:"shutdown_modal_confirm_clicked",SHUTDOWN_MODAL_CANCEL_CLICKED:"shutdown_modal_cancel_clicked",DEPLOYMENT_ROLLBACK_CLICKED:"deployment_rollback_clicked",ROLLBACK_MODAL_CONFIRM_CLICKED:"rollback_modal_confirm_clicked",ROLLBACK_MODAL_CANCEL_CLICKED:"rollback_modal_cancel_clicked",REPLACE_DEPLOYMENT_CLICKED:"replace_deployment_clicked",REPLACE_MODAL_VISIT_CLICKED:"replace_modal_visit_clicked",REPLACE_MODAL_REPLACE_CLICKED:"replace_modal_replace_clicked",REPLACE_MODAL_VIEW_TASK_CLICKED:"replace_modal_view_task_clicked",REPLACE_CONFIRM_GO_BACK_CLICKED:"replace_confirm_go_back_clicked",REPLACE_CONFIRM_REPLACE_CLICKED:"replace_confirm_replace_clicked",FREE_USER_DEPLOY_ATTEMPTED:"free_user_deploy_attempted",DEPLOYMENT_FAILURE_LOGS_CLICKED:"deployment_failure_logs_clicked",DEPLOYMENT_LIVE_LOGS_CLICKED:"deployment_live_logs_clicked",DEPLOYMENT_LIVE_FIX_WITH_AGENT_CLICKED:"deployment_live_fix_with_agent_clicked",DEPLOYMENT_FAILURE_FIX_WITH_AGENT_CLICKED:"deployment_failure_fix_with_agent_clicked"},_f={CHAT_HEADER_PUBLISH_CLICKED:"chat_header_publish_clicked",CHAT_TRAJ_PUBLISH_CLICKED:"chat_traj_publish_clicked",CHAT_TRAJ_PREVIEW_CLICKED:"chat_traj_preview_clicked",MODAL_PUBLISH_CLICKED:"publish_modal_publish_clicked",MODAL_CANCEL_CLICKED:"publish_modal_cancel_clicked",MODAL_AUTO_RECHARGE_TOGGLED:"publish_modal_auto_recharge_toggled"},cX={SYSTEM_THEME_DETECTED:"system_theme_detected"},dX={DEPLOYED_APP_CLICKED:"deployed_app_clicked"},u_={KEEP_BUILDING_CLICKED:"landing_keep_building_clicked",GET_STARTED_CLICKED:"landing_get_started_clicked"},uX={SERVER_CONFIGURE_CLICKED:"mcp_server_configure_clicked"},Zu={DEBUG_CLICKED:"message_debug_clicked",ROLLBACK_CLICKED:"message_rollback_clicked",COPY_CLICKED:"message_copy_clicked",ACTION_EXPANDED:"message_action_expanded",ACTION_COLLAPSED:"message_action_collapsed"},ac={REFRESH_CLICKED:"suggestion_chips_refresh_clicked",CHIP_CLICKED:"suggestion_chip_clicked"},s3={RECENT_TASKS_VIEWED:"recent_tasks_viewed",DEPLOYED_TASKS_VIEWED:"deployed_tasks_viewed",RELOAD_CLICKED:"recent_tasks_reload_clicked"},vD={PREVIOUS_SESSION_CLICKED:"fork_previous_session_clicked",SUMMARIZATION_CLICKED:"fork_summarization_clicked"},p_={LINK_COPIED:"vscode_link_copied",PASSWORD_COPIED:"vscode_password_copied"},Ii={ENTRI_SUCCESS:"custom_domain_entri_success",ENTRI_CANCELLED:"custom_domain_entri_cancelled",STATUS_REFRESH_CLICKED:"custom_domain_status_refresh_clicked",AUTO_LINK_CLICKED:"custom_domain_auto_link_clicked",AUTO_LINK_FAILED:"custom_domain_auto_link_failed",MANUAL_LINK_CLICKED:"custom_domain_manual_link_clicked",MANUAL_LINK_FAILED:"custom_domain_manual_link_failed",LINK_CLICKED:"custom_domain_link_clicked",LINK_CANCELED:"custom_domain_link_canceled",SWITCH_DOMAIN_CLICKED:"custom_domain_switch_domain_clicked",SWITCH_DOMAIN_CANCELLED:"custom_domain_switch_domain_cancelled",UNLINK_DOMAIN_CLICKED:"custom_domain_unlink_domain_clicked",UNLINK_DOMAIN_CANCELLED:"custom_domain_unlink_domain_cancelled",UNLINK_DOMAIN_CONFIRMED:"custom_domain_unlink_domain_confirmed",MANUAL_LINK_CONFIRMED:"custom_domain_manual_link_confirmed",MANUAL_LINK_CANCELLED:"custom_domain_manual_link_cancelled",DNS_RECORD_COPIED:"custom_domain_dns_record_copied",DNS_ADDED_CONFIRMED:"custom_domain_dns_added_confirmed",MANUAL_MODAL_CLOSED:"custom_domain_manual_modal_closed"},g1={TAB_SWITCHED:"tab_switched",TAB_CLOSED:"tab_closed"},Gt={TEXT_CHANGED:"visual_edit_text_changed",COLOR_CHANGED:"visual_edit_color_changed",FONT_CHANGED:"visual_edit_font_changed",LAYOUT_CHANGED:"visual_edit_layout_changed",SESSION_SAVED:"visual_edit_changes_saved",SESSION_DISCARDED:"visual_edit_changes_discarded",VISUAL_EDIT_ENABLED:"visual_edit_enabled",VISUAL_EDIT_DISABLED:"visual_edit_disabled",VISUAL_EDIT_DISCARDED:"visual_edit_discarded",VISUAL_EDIT_SAVED:"visual_edit_saved",VISUAL_EDIT_UNDO:"visual_edit_undo",VISUAL_EDIT_REDO:"visual_edit_redo",VISUAL_EDIT_ELEMENT_SELECTOR_MODE:"visual_edit_element_selector_mode",VISUAL_EDIT_INTERACTIVE_MODE:"visual_edit_interactive_mode",VISUAL_EDIT_DEVICE_PC:"visual_edit_device_pc",VISUAL_EDIT_DEVICE_TABLET:"visual_edit_device_tablet",VISUAL_EDIT_DEVICE_MOBILE:"visual_edit_device_mobile",VISUAL_EDIT_FULLSCREEN:"visual_edit_fullscreen",VISUAL_EDIT_EXIT_FULLSCREEN:"visual_edit_exit_fullscreen",VISUAL_EDIT_CLOSE_WITH_UNSAVED:"visual_edit_close_with_unsaved",VISUAL_EDIT_INLINE_EDIT_STARTED:"visual_edit_inline_edit_started",VISUAL_EDIT_INLINE_EDIT_SAVED:"visual_edit_inline_edit_saved",VISUAL_EDIT_INLINE_EDIT_CANCELLED:"visual_edit_inline_edit_cancelled",VISUAL_EDIT_COLOR_PICKER_OPENED:"visual_edit_color_picker_opened",VISUAL_EDIT_TEXT_COLOR_TOGGLED:"visual_edit_text_color_toggled",VISUAL_EDIT_BG_COLOR_TOGGLED:"visual_edit_bg_color_toggled",VISUAL_EDIT_ELEMENT_SELECTED:"visual_edit_element_selected",VISUAL_EDIT_ELEMENT_DESELECTED:"visual_edit_element_deselected",VISUAL_EDIT_WIDGET_CLOSED:"visual_edit_widget_closed",VISUAL_EDIT_TAB_CONTENT_CLICKED:"visual_edit_tab_content_clicked",VISUAL_EDIT_TAB_APPEARANCE_CLICKED:"visual_edit_tab_appearance_clicked",VISUAL_EDIT_TAB_TYPE_CLICKED:"visual_edit_tab_type_clicked",VISUAL_EDIT_TAB_LAYOUT_CLICKED:"visual_edit_tab_layout_clicked",VISUAL_EDIT_CONTENT_TEXTAREA_FOCUSED:"visual_edit_content_textarea_focused",VISUAL_EDIT_TAILWIND_CLASSES_FOCUSED:"visual_edit_tailwind_classes_focused",VISUAL_EDIT_FONT_FAMILY_CHANGED:"visual_edit_font_family_changed",VISUAL_EDIT_FONT_WEIGHT_CHANGED:"visual_edit_font_weight_changed",VISUAL_EDIT_FONT_SIZE_CHANGED:"visual_edit_font_size_changed",VISUAL_EDIT_LINE_HEIGHT_FOCUSED:"visual_edit_line_height_focused",VISUAL_EDIT_LETTER_SPACING_FOCUSED:"visual_edit_letter_spacing_focused",VISUAL_EDIT_TEXT_ALIGN_CLICKED:"visual_edit_text_align_clicked",VISUAL_EDIT_TEXT_DECORATION_CLICKED:"visual_edit_text_decoration_clicked",VISUAL_EDIT_CORNER_RADIUS_FOCUSED:"visual_edit_corner_radius_focused",VISUAL_EDIT_CORNER_RADIUS_TOGGLE:"visual_edit_corner_radius_toggle",VISUAL_EDIT_OPACITY_FOCUSED:"visual_edit_opacity_focused",VISUAL_EDIT_SHADOW_CHANGED:"visual_edit_shadow_changed",VISUAL_EDIT_MARGIN_FOCUSED:"visual_edit_margin_focused",VISUAL_EDIT_MARGIN_TOGGLE:"visual_edit_margin_toggle",VISUAL_EDIT_PADDING_FOCUSED:"visual_edit_padding_focused",VISUAL_EDIT_PADDING_TOGGLE:"visual_edit_padding_toggle",VISUAL_EDIT_GAP_FOCUSED:"visual_edit_gap_focused"},zc={CREATE_SUBAGENT:"#DD99FF",CREATE_AGENT:"#F8FF99",INDICATOR_BG_CREATE:"#161617",INDICATOR_BG_DEFAULT:"#0F0F10",INDICATOR_BORDER_SUBAGENT:"rgba(221,153,255,0.5)",INDICATOR_BORDER_AGENT:"rgba(248,255,153,0.5)",INDICATOR_BORDER_DEFAULT:"rgba(255,255,255,0.15)"},uu={TRANSFER_INITIATED:"move_to_project_transfer_initiated",TRANSFER_SUCCESS:"move_to_project_transfer_success",TRANSFER_FAILED:"move_to_project_transfer_failed"},Mu={QR_CTA_HOVER:"mobile_app_qr_cta_hover",QR_CTA_CLICK:"mobile_app_qr_cta_click",SOFT_BLOCK_SHOWN:"mweb_soft_block_shown",SOFT_BLOCK_DISMISSED:"mweb_soft_block_dismissed",SOFT_BLOCK_OPEN_APP:"mweb_soft_block_open_app",SOFT_BLOCK_CONTINUE_WEB:"mweb_soft_block_continue_web",DOWNLOAD_PAGE_VISITED:"mobile_app_download_page_visited",DOWNLOAD_BUTTON_CLICKED:"mobile_app_download_button_clicked"},cl={ICON_CLICKED:"notification_icon_clicked",TAB_CHANGED:"notification_tab_changed",ALERTS:{LOW_CREDITS_CLICKED:"notification_low_credits_clicked",LOW_CREDITS_ADD_CREDITS_CLICKED:"notification_low_credits_add_credits_clicked",WORKSPACE_INVITE_CLICKED:"notification_workspace_invite_clicked",WORKSPACE_INVITE_ACCEPTED:"notification_workspace_invite_accepted",WORKSPACE_INVITE_DECLINED:"notification_workspace_invite_declined"},OFFER_CLICKED:"notification_offer_clicked",UPDATE_CLICKED:"notification_update_clicked"},wD={TAB_OPENED:"perceived_ux_tab_opened",FIRST_MESSAGE_SENT:"perceived_ux_first_message_sent"},B6="perceived_ux_enabled",_i={REPLACE_DEPLOYMENT_CLICKED:"replace_deployment_clicked_v2",CHANGE_APP_CLICKED:"change_app_clicked_v2",NEW_DEPLOYMENT_CLICKED:"new_deployment_clicked_v2",CARD_EXTERNAL_LINK_CLICKED:"replace_card_external_link_clicked_v2",CARD_JOB_TITLE_CLICKED:"replace_card_job_title_clicked_v2",SELECT_MODAL_OPENED:"replace_select_modal_opened_v2",SELECT_APP_SELECTED:"replace_select_app_selected_v2",SELECT_CONFIRM_CLICKED:"replace_select_confirm_clicked_v2",SELECT_CLOSE_CLICKED:"replace_select_close_clicked_v2",CONFIRM_MODAL_OPENED:"replace_confirm_modal_opened_v2",CONFIRM_DB_MODE_SELECTED:"replace_confirm_db_mode_selected_v2",CONFIRM_URL_CLICKED:"replace_confirm_url_clicked_v2",CONFIRM_CLOSE_CLICKED:"replace_confirm_close_clicked_v2",CONFIRM_REPLACE_CLICKED:"replace_confirm_replace_clicked_v2",CONFIRM_CANCEL_CLICKED:"replace_confirm_cancel_clicked_v2",APP_CARD_CLICKED:"app_selection_card_clicked_v2",APP_JOB_TITLE_CLICKED:"app_selection_job_title_clicked_v2",APP_EXTERNAL_LINK_CLICKED:"app_selection_external_link_clicked_v2"},Ma={RESOURCES_UPGRADE_BUTTON_CLICKED:"resources_upgrade_button_clicked",RESOURCES_DOWNGRADE_BUTTON_CLICKED:"resources_downgrade_button_clicked",CHOOSE_RESOURCES_MODAL_OPENED:"choose_resources_modal_opened",CHOOSE_RESOURCES_TIER_SELECTED:"choose_resources_tier_selected",CHOOSE_RESOURCES_KEEP_CURRENT_CLICKED:"choose_resources_keep_current_clicked",CHOOSE_RESOURCES_UPGRADE_CLICKED:"choose_resources_upgrade_clicked",CHOOSE_RESOURCES_DOWNGRADE_CLICKED:"choose_resources_downgrade_clicked",CHOOSE_RESOURCES_MODAL_CLOSED:"choose_resources_modal_closed",CONFIRM_RESOURCE_CHANGE_MODAL_OPENED:"confirm_resource_change_modal_opened",CONFIRM_RESOURCE_UPGRADE_CLICKED:"confirm_resource_upgrade_clicked",CONFIRM_RESOURCE_DOWNGRADE_CLICKED:"confirm_resource_downgrade_clicked",CONFIRM_RESOURCE_CHANGE_MODAL_CLOSED:"confirm_resource_change_modal_closed",CREDITS_INFO_MODAL_OPENED:"credits_info_modal_opened"},Ps={APPLE_LOGIN_CLICKED:"mobile_deploy_apple_login_clicked",APPLE_LOGIN_SUCCESS:"mobile_deploy_apple_login_success",APPLE_LOGIN_FAILED:"mobile_deploy_apple_login_failed",APPLE_LOGIN_CANCELLED:"mobile_deploy_apple_login_cancelled",APPLE_LOGIN_2FA_CLICKED:"mobile_deploy_apple_login_2fa_clicked",APPLE_LOGIN_2FA_SUCCESS:"mobile_deploy_apple_login_2fa_success",APPLE_LOGIN_2FA_FAILED:"mobile_deploy_apple_login_2fa_failed",APPLE_LOGIN_2FA_CANCELLED:"mobile_deploy_apple_login_2fa_cancelled",GET_BUILD_CLICK:"get_build_click",ANDROID_BUILDS_SCREEN_OPENED:"android_builds_screen_opened",ANDROID_BUILDS_OK_CLICKED:"android_builds_ok_clicked",ANDROID_BUILDS_BACK_CLICKED:"android_builds_back_clicked",ANDROID_BUILDS_CREATE_CLICKED:"android_builds_create_clicked",ANDROID_BUILD_DOWNLOAD_CLICKED:"android_build_download_clicked",ANDROID_BUILD_STARTED:"android_build_started",ANDROID_BUILD_COMPLETED:"android_build_completed",ANDROID_BUILD_LOGS_CLICKED:"android_build_logs_clicked",ANDROID_BUILD_SHARE_LOGS_CLICKED:"android_build_share_logs_clicked",ANDROID_BUILD_FIX_WITH_AGENT_CLICKED:"android_build_fix_with_agent_clicked",IOS_BUILDS_SCREEN_OPENED:"ios_builds_screen_opened",IOS_BUILDS_CREATE_CLICKED:"ios_builds_create_clicked",IOS_BUILDS_BACK_CLICKED:"ios_builds_back_clicked",IOS_DEVELOPER_DETAILS_SCREEN_OPENED:"ios_developer_details_screen_opened",IOS_DEVELOPER_DETAILS_CONTINUE_CLICKED:"ios_developer_details_continue_clicked",IOS_DEVELOPER_DETAILS_BACK_CLICKED:"ios_developer_details_back_clicked",IOS_DEVELOPER_DETAILS_CLOSE_CLICKED:"ios_developer_details_close_clicked",IOS_BUILD_DOWNLOAD_CLICKED:"ios_build_download_clicked",IOS_BUILD_STARTED:"ios_build_started",IOS_BUILD_COMPLETED:"ios_build_completed",IOS_BUILD_LOGS_CLICKED:"ios_build_logs_clicked",IOS_BUILD_SHARE_LOGS_CLICKED:"ios_build_share_logs_clicked",IOS_BUILD_FIX_WITH_AGENT_CLICKED:"ios_build_fix_with_agent_clicked"};function jd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function CD(e,n){const s=n?`_${n}`:"";return`tiktok_pixel_event_${e}${s}`}function s9(e,n){const s=CD(e,n),r=sessionStorage.getItem(s);if(!r)return!1;try{const i=JSON.parse(r),a=Date.now()-i.timestamp,o=1440*60*1e3;return a>o?(sessionStorage.removeItem(s),!1):i.tracked===!0}catch{return!1}}function r9(e,n,s){const r=CD(e,s);sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),tracked:!0}))}function Ap(){return typeof window<"u"&&typeof window.ttq<"u"}function r3(e,n,s){if(Ap())try{const r={};e&&(r.email=e.toLowerCase().trim()),n&&(r.external_id=n),Object.keys(r).length>0&&window.ttq&&window.ttq.identify(r)}catch{}}function pX(e,n){const s=jd();if(s9("StartTrial",e)||!Ap())return s;try{window.ttq&&window.ttq.track("StartTrial",{content_id:n?.[0]||"home_page",content_type:"product"},{event_id:s}),e&&r9("StartTrial",s,e)}catch{}return s}const Px="tiktok_registration_event_id";function fX(e){sessionStorage.setItem(Px,JSON.stringify({eventId:e,timestamp:Date.now()}))}function _D(){const e=sessionStorage.getItem(Px);if(!e)return null;try{const n=JSON.parse(e),s=300*1e3;return Date.now()-n.timestamp>s?(sessionStorage.removeItem(Px),null):n.eventId||null}catch{return null}}function jD(){sessionStorage.removeItem(Px)}function i3(e,n,s,r){const i=r||jd();if(s9("CompleteRegistration",e)||(fX(i),!Ap()))return i;try{window.ttq&&window.ttq.track("CompleteRegistration",{content_type:"product",content_id:s||"email"},{event_id:i}),r9("CompleteRegistration",i,e)}catch{}return i}function ND(e,n,s,r){const i=jd();if(!Ap())return i;try{const a={content_type:"product",content_id:n||e};window.ttq&&window.ttq.track("ViewContent",a,{event_id:i})}catch{}return i}function Nd(e,n,s){const r=jd();if(!Ap())return r;try{window.ttq&&window.ttq.track("InitiateCheckout",{content_type:"product",content_id:e,value:n,currency:s.toUpperCase()},{event_id:r})}catch{}return r}function Ox(e,n,s,r){if(!s9("Subscribe",n)&&Ap())try{window.ttq&&window.ttq.track("Subscribe",{content_type:"product",content_id:"subscription",value:s,currency:r.toUpperCase()},{event_id:e}),r9("Subscribe",e,n)}catch{}}const i9=()=>!!(typeof window<"u"&&window.electron),mX=e=>{i9()?window.electron.openExternal(e):window.open(e,"_blank")},Dp={listContainers:async()=>await window.electron.ipcRenderer.invoke("docker:list-containers"),listImages:async()=>await window.electron.ipcRenderer.invoke("docker:list-images"),executeCommand:async(e,n)=>await window.electron.ipcRenderer.invoke("docker:execute-command",{command:n,containerId:e}),createContainer:async(e,n,s,r,i)=>await window.electron.ipcRenderer.invoke("docker:create-container",{image:e,containerName:n,portMappings:s,volumePath:r,copyToApp:i}),pullImage:async(e,n)=>{if(n){const s=()=>{window.electron.ipcRenderer.removeAllListeners("docker:pull-progress")};window.electron.ipcRenderer.on("docker:pull-progress",r=>{if(r&&typeof r=="object"){const i={layer:r.layer||"",progress:typeof r.progress=="number"?r.progress:0,status:r.status||"downloading",error:r.error||void 0};n(i),(i.status==="finished"||i.status==="error")&&s()}})}try{return await window.electron.ipcRenderer.invoke("docker:pull-image",{image:e})}catch(s){throw n&&window.electron.ipcRenderer.removeAllListeners("docker:pull-progress"),s}},cloneRepository:async(e,n,s)=>await window.electron.ipcRenderer.invoke("git:clone",{repoUrl:e,targetPath:n,branch:s}),getProjectPath:async e=>await window.electron.ipcRenderer.invoke("path:get-project-path",e),openTerminal:async e=>await window.electron.ipcRenderer.invoke("terminal:open",{containerId:e}),removeContainer:async e=>await window.electron.ipcRenderer.invoke("docker:remove-container",{containerId:e}),checkPorts:async e=>await window.electron.ipcRenderer.invoke("check-ports",e),writeFile:async(e,n)=>await window.electron.ipcRenderer.invoke("fs:write-file",{filePath:e,content:n}),showDirectoryPicker:async()=>window.electron.ipcRenderer.invoke("show-directory-picker"),showInputDialog:async e=>window.electron.ipcRenderer.invoke("show-input-dialog",e),commitContainer:async e=>await window.electron.ipcRenderer.invoke("docker:commit-container",{containerId:e}),copyToHost:async(e,n)=>await window.electron.ipcRenderer.invoke("docker:copy-to-host",{containerId:e,hostDir:n}),generateRandomPorts:async e=>await window.electron.ipcRenderer.invoke("docker:generate-random-ports",{count:e}),isDockerInstalled:()=>window.electron.ipcRenderer.invoke("docker:is-installed"),isDockerRunning:()=>window.electron.ipcRenderer.invoke("docker:is-running"),startDocker:()=>window.electron.ipcRenderer.invoke("open-docker-app"),async executeNeonAction(e,n){return await window.electron.ipcRenderer.invoke("neon:execute",{containerId:e,config:n})},generateNeonScript(e,n){return window.electron.ipcRenderer.invoke("neon:generate-script",e,n)},getDefaultWorkspaceDir(){return window.electron.ipcRenderer.invoke("neon:get-default-workspace-dir")},getGitStatus:async(e,n)=>{const s=await window.electron.ipcRenderer.invoke("git:get-status",{containerId:e,initialCommitId:n});if(s.error)throw new Error(s.error);return!s.output||s.output.trim()===""?[]:s.output.trim().split(`
`).filter(r=>r.trim()!=="").map(r=>{const[i,a]=r.split("	");return{fileName:a||"",status:i||""}}).filter(r=>r.fileName&&r.fileName.trim()!=="")},getGitDiff:async(e,n,s)=>{const r=await window.electron.ipcRenderer.invoke("git:get-diff",{containerId:e,fileName:n,initialCommitId:s});if(r.error)throw new Error(r.error);return r.output},checkDockerAvailability(){return window.electron.ipcRenderer.invoke("docker:check-availability")},checkForUpdates:async()=>await window.electron.ipcRenderer.invoke("update:check"),downloadUpdate:async()=>await window.electron.ipcRenderer.invoke("update:download"),quitAndInstall:async()=>await window.electron.ipcRenderer.invoke("update:quit-and-install"),setSentryUser:async e=>await window.electron.ipcRenderer.invoke("sentry:setUser",e),openExternal:e=>{mX(e)},initiateGitHubAuth:async()=>await window.electron.ipcRenderer.invoke("github:initiate-auth"),getGitHubRepositories(){return window.electron.ipcRenderer.invoke("github:repositories")}},f_=()=>{try{return window?.Rewardful?.referral}catch{return}};async function FD(e,n){const s=e.response?.status,r=parseInt(s)===401?"You are unauthorized to use this application":gD(e);return await n9(r,!0),new Promise(()=>{})}function hX(e){const n=K$.create({baseURL:e,headers:{"Content-Type":"application/json"}});return n.interceptors.request.use(async s=>{const{data:{session:r}}=await Xr.auth.getSession();if(r?.access_token&&(s.headers.Authorization=`Bearer ${r.access_token}`),!s.headers["X-Ads-Event-ID"]){const i=_D();i&&(s.headers["X-Ads-Event-ID"]=i,jD())}return s}),n.interceptors.request.use(s=>s),n.interceptors.response.use(s=>s,async s=>{let r=null;if(s.config?.url)try{s.config.url.startsWith("http")?r=new URL(s.config.url).pathname:r=s.config.url.split("?")[0]}catch{r=s.config.url}Fn(Is.API.AGENT_API,s,{url:s.config?.url,method:s.config?.method?.toUpperCase(),status:s.response?.status,endpoint:r??void 0});const i=s.config?.url?.includes("/ios/apple/");return bD(s)&&!i?FD(s):Promise.reject(s)}),n}let Lt=hX(wa.apiBaseUrl);const yt={getRepositories:async()=>({data:await Dp.listImages()}),getPrompts:()=>Lt.get("/prompts"),getJobs:()=>Lt.get("/jobs/?limit=50"),getJob:async e=>Lt.get(`/jobs/v0/${e}/`),getActions:e=>Lt.get("/actions/",{params:e}),pauseJob:e=>Lt.post("/actions/pause/",{job_id:e.job_id,agent_type:e.agent_name}),resumeJob:e=>Lt.post("/jobs/resume",e),stopJob:e=>Lt.post("/jobs/stop",e),pauseEnvironment:async e=>{const n=await Lt.post(`/jobs/v0/${e}/pause-environment`);if(!n.data.success)throw new Error(n.data.data.error);return n.data.data},restartEnvironment:async(e,n)=>{const s=n?"?upgrade=true":"",r=await Lt.post(`/jobs/v0/${e}/restart-environment${s}`);if(r.status!=200)throw new Error(r.data.error);return r.data},getBudget:async e=>{const n=await Lt.get(`/budget/${e}`);if(!n.data.success)throw new Error(n.data.data.error);return n.data.data},updateBudget:async(e,n)=>{const s=await Lt.put(`/budget/${e}`,{amount:n});if(!s.data.success)throw new Error(s.data.data.error);return s.data.data},getSkills:async()=>{try{return await Lt.get("/skills/")}catch(e){return{data:[],error:e.message}}},getConfig:(e="1.0.21")=>Lt.get("/repositories/config",{params:{app_version:e||"1.0.21"}}).then(n=>n.data),getTrajectory:(e,n,s)=>{const r=n?{Authorization:`Bearer ${n}`}:void 0,i=new URLSearchParams({job_id:e});return s&&i.append("last_request_id",s),Lt.get(`/trajectories/v0/?${i.toString()}`,{headers:r})},submitCloudJob:async(e,n,s=!1,r,i)=>{try{const a={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",enable_visual_edit:!0,...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s},o=io();if(e?.organization_id&&(a.organization_id=e.organization_id),a.ads_metadata=o,r&&(a.finalize_artifact_upload=r),s&&(a.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");const l={};return i&&(l["X-Ads-Event-ID"]=i),(await Lt.post("/jobs/v0/submit-queue/",a,{headers:l})).data}catch(a){throw a}},getChatPreview:async(e,n,s=!1,r)=>{try{const i={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s},a=io();if(e?.organization_id&&(i.organization_id=e.organization_id),i.ads_metadata=a,r&&(i.finalize_artifact_upload=r),s&&(i.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");return(await Lt.post("/jobs/v0/chat/preview",i)).data}catch(i){throw i}},submitHITL:async(e,n,s=!1,r)=>{try{const i={client_ref_id:n,payload:{processor_type:"env_only",is_cloud:!0,env_image:e.env_image,branch:"",repository:"",...e,...e.testMode&&{test_mode_on:"true"}},model_name:e.model_name,resume:s};if(r&&(i.finalize_artifact_upload=r),s&&(i.id=n),!n)throw new Error("Either job_id or client_ref_id must be provided");return(await Lt.post("/jobs/v0/hitl-queue/",i)).data}catch(i){throw i}},getJobByClientRef:async e=>{try{return(await Lt.get(`/jobs/v0/ref/${e}`)).data}catch{return{}}},getJobPreviewUrl:async e=>{try{return(await Lt.get(`/jobs/v0/${e}/preview`)).data}catch(n){throw n}},getCloudGitDiff:async(e,n,s)=>Lt.get(`/jobs/v0/diff/${e}`,{params:{file_path:n||"",initial_commit_id:s||""}}),rollbackToRequestId:async(e,n,s="EmergentAssistant",r="all",i=!1)=>{try{const a={job_id:e,request_id:n,base_url:wa.apiBaseUrl,agent_name:s};return r==="messages"&&(a.checkout=!1),r==="all"&&(a.checkout=!0),i&&(a.retry=!0),(await Lt.post("/jobs/v0/rollback/cloud/",a)).data}catch(a){throw a}},getUserDetails:async()=>{const e=io(),n=Object.keys(e).length>0?{ads_metadata:e}:{};try{return(await Lt.post("/user/details",n)).data}catch(s){if(bD(s))return FD(s);throw s}},getGitHubInstallations:async()=>{try{return(await Lt.get("/github/installations")).data}catch(e){return{installations:[],error:e.message}}},saveGitHubInstallation:async(e,n)=>{try{return(await Lt.post("/github/installation",{installation_id:e,code:n})).data}catch(s){return{success:!1,error:s.message}}},getGitHubRepositories:async()=>{try{return(await Lt.get("/github/repositories")).data}catch(e){return{repositories:[],error:e.message}}},getGitHubBranches:async(e,n)=>{try{const s=encodeURIComponent(e),r=encodeURIComponent(n),i=await Lt.get(`/github/branches/${s}/${r}`);return Array.isArray(i.data),i.data}catch(s){return{branches:[],error:s.message}}},createGitHubRepository:async e=>{try{return(await Lt.post("/github/repositories",e)).data}catch(n){throw n}},pushToGitHub:async(e,n)=>{try{return(await Lt.post(`/jobs/v0/push_to_github/${e}`,n)).data}catch(s){if(s.response&&s.response.data?.detail?.toLowerCase?.()?.includes("updates were rejected because the remote contains work that you do not have locally")){const i=`Conflict Detected
Your changes conflict with the remote branch '${n.branch_name||"main"}'. We recommend creating a new branch and pushing changes to that instead.`;throw new Error(i)}if(s.response){const r=s.response.status;let i;try{s.response.data?.error?i=typeof s.response.data.error=="object"?JSON.stringify(s.response.data.error):s.response.data.error:s.response.data?i=typeof s.response.data=="object"?JSON.stringify(s.response.data):s.response.data:i=s.message||"Unknown error"}catch{i="Error parsing error data"}const a=`Error (${r}): ${i}`;throw new Error(a)}throw s}},getRollbackStatus:async(e,n)=>{try{const s=n?`/${e}/rollback/status?request_id=${n}`:`/${e}/rollback/status`;return(await Lt.get(s)).data}catch(s){throw s}},getTrajectoryStream:async(e,n)=>{try{const s=new URLSearchParams;s.append("job_id",e);const r=`${wa.apiBaseUrl}/trajectories/v0/stream?${s.toString()}`;return await Lt.get(r,{headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},responseType:"stream",adapter:"fetch"})}catch(s){throw s}},fetchTrajectory:async(e,n,s)=>{const r=new URLSearchParams;r.append("job_id",e),n&&r.append("last_request_id",n);const i=`${wa.apiBaseUrl}/trajectories/v0/stream?${r.toString()}`;n||z(z0.REQUEST_INITIATED,{jobId:e});try{const a=await Lt.get(i,{headers:{Accept:"text/event-stream","Cache-Control":"no-cache"},responseType:"stream",adapter:"fetch"});if(!a.data)throw n||z(z0.RESPONSE_NULL,{jobId:e}),new Error("Failed to fetch trajectory: No data returned");const o=a.data.getReader();if(!o)throw new Error("Stream reader could not be created");let l={trajectories:{data:[],updated_data:[],agent_status:!1,chat_mode:null}},c="";for(;;){const{done:u,value:p}=await o.read();if(u){if(c.trim())try{const h=c.split(`
`);for(const x of h)if(x.startsWith("data: ")){const y=x.substring(6),v=JSON.parse(y);v.trajectories?.data&&(l=v)}}catch{}break}const f=new TextDecoder().decode(p);c+=f;const m=c.split(`
`);c=m.pop()||"";for(const h of m)if(h.startsWith("data: "))try{const x=h.substring(6),y=JSON.parse(x);if(n||z(z0.JSON_PARSED,{jobId:e,trajectoryDataCount:y.trajectories?.data?.length||0}),y.trajectories?.data&&s?.onTrajectoryResult&&s?.cache){const g=y.trajectories.data.sort((b,w)=>new Date(b.created_at).getTime()-new Date(w.created_at).getTime()).map(b=>({...b.traj_payload,id:b.id,request_id:b.request_id,job_id:b.job_id,traj_payload:b.traj_payload,commit_id:b.commit_id,parent_request_id:b.parent_request_id,status:b.status,created_at:b.created_at,updated_at:b.updated_at})).filter(b=>!s?.cache?.current.trajectory.some(N=>N.id===b.id));g.length>0&&s?.cache&&s?.onTrajectoryResult&&(s.cache.current.trajectory=[...s.cache.current.trajectory,...g],s.onTrajectoryResult(s.cache.current.trajectory)),l=y}else y.trajectories?.data&&(l=y);y.chunk&&s?.onCurrentChunkResult&&s?.cache&&(s.cache.current.trajectory.some(g=>g.request_id===y.chunk.request_id)&&y.chunk.completed?s.onCurrentChunkResult(""):s.onCurrentChunkResult(y))}catch{}}return l}catch(a){throw a}},handleHimMessage:async(e,n)=>{try{return(await Lt.post(`/api/v0/tim/${e}`,{message:n})).data}catch(s){throw s}},initializeHimSession:async e=>{try{return(await Lt.post("/actions/tim/",{job_id:e})).data}catch(n){throw n}},createCheckoutSession:async(e,n=!1,s,r,i="usd",a,o,l=!1)=>{try{const c=io(),u=new URLSearchParams(window.location.search);u.delete("payment_id"),u.delete("payment_status"),u.delete("subscription_status");const p=u.toString(),f=`${window.location.origin}${window.location.pathname}${p?`?${p}`:""}`,m={currency:i.toLowerCase(),metadata:{hostname:f,is_subscription:n?"true":"false"}};Object.keys(c).length>0&&(m.ads_metadata=c);const h=Rx();h&&(m.cj_event_id=h),n&&s?(m.plan_id=s,m.mode="subscription"):m.amount=e;const x=f_();x&&(m.client_reference_id=x),r&&(m.organization_id=r);const v=localStorage.getItem("promoCouponCode")||o;v&&(m.coupon_name=v),l&&(m.is_promotional_setup=!0);const g={};a&&(g["X-Ads-Event-ID"]=a);const b=await Lt.post("/payments/checkout-sessions",m,{headers:g});if(!b.data.sessionId||!b.data.url)throw new Error("Invalid response from checkout session creation");return b.data}catch(c){throw c}},createGiftingCheckoutSession:async e=>{try{const{planId:n,amount:s,recipientEmail:r,recipientName:i,gifterName:a,gifterEmail:o,customNote:l,couponCode:c,currency:u="usd",cardImageName:p}=e,f=io(),m=new URLSearchParams(window.location.search);m.delete("payment_id"),m.delete("payment_status"),m.delete("subscription_status");const h=m.toString(),x=`${window.location.origin}${window.location.pathname}${h?`?${h}`:""}`,y={mode:"payment",amount:s,currency:u.toLowerCase(),plan_id:n,metadata:{hostname:x,recipient_email:r,recipient_name:i,gifter_name:a,gifter_email:o,is_gift:!0,...l&&{custom_note:l},...p&&{card_image_name:p}}};Object.keys(f).length>0&&(y.ads_metadata=f);const v=Rx();v&&(y.cj_event_id=v);const g=f_();g&&(y.client_reference_id=g),c&&(y.coupon_name=c);const b=await Lt.post("/payments/checkout-sessions",y);if(!b.data.sessionId||!b.data.url)throw new Error("Invalid response from gifting checkout session creation");return b.data}catch(n){throw Fn("gifting_checkout_session_error",n,{plan_id:e.planId,currency:e.currency,recipient_email:e.recipientEmail,gifter_email:e.gifterEmail}),n}},quickTopup:async(e,n="usd",s)=>{try{const r=io(),i={amount:e,currency:n.toLowerCase()};return s&&(i.organization_id=s),Object.keys(r).length>0&&(i.ads_metadata=r),(await Lt.post("/payments/quick-topup",i)).data}catch(r){const i=io();throw Fn("quick_topup_error",r,{amount:e,currency:n,organization_id:s,ads_metadata:JSON.stringify(i)}),r}},quickUpgrade:async(e,n="usd")=>{try{const s=io(),r={plan_id:e,currency:n.toLowerCase()};return Object.keys(s).length>0&&(r.ads_metadata=s),(await Lt.post("/payments/quick-upgrade",r)).data}catch(s){const r=io();throw Fn(Is.PAYMENT.QUICK_UPGRADE,s,{plan_id:e,currency:n,ads_metadata:JSON.stringify(r)}),s}},getSavedPaymentMethod:async e=>{try{const n=e?`?organization_id=${e}`:"";return(await Lt.get(`/payments/saved-payment-method${n}`)).data}catch(n){return Fn("get_saved_payment_method_error",n,{organization_id:e}),{}}},createSubscriptionCheckout:async e=>{try{const n=io(),s={price_id:e,metadata:{hostname:`${window.location.origin}`}};Object.keys(n).length>0&&(s.ads_metadata=n);const r=await Lt.post("/payments/subscription",s);if(!r.data.sessionId||!r.data.url)throw new Error("Invalid response from subscription checkout creation");return r.data}catch(n){throw n}},checkPaymentStatus:async e=>{try{return(await Lt.get(`/payments/${e}/status`)).data}catch(n){throw n}},getManageSubscriptionUrl:async e=>{try{const n=e?{organization_id:e}:{};return(await Lt.get("/payments/manage-subscription",{params:n})).data}catch(n){throw n}},getCancelRazorpaySubscription:async e=>{try{return(await Lt.post("/payments/subscription/cancel",{user_subscription_id:e})).data}catch(n){throw n}},cancelSubscription:async e=>{try{return(await Lt.post("/payments/subscription/cancel",{user_subscription_id:e})).data}catch(n){throw Fn("subscription_cancellation_error",n,{user_subscription_id:e}),n}},getPromoCoupon:async(e,n)=>{try{return(await Lt.post("/coupons/generate",{coupon_id:n},{headers:{"X-Device-Id":e}})).data.promo_code}catch(s){throw s}},getDebugInfo:async e=>{try{const n=`/llm-proxy/query/request_id/${e}`;return(await Lt.get(n)).data}catch(n){throw n}},cloneEnvironment:async e=>{try{return(await Lt.post(`/jobs/v0/${e}/clone-environment`)).data}catch(n){throw n}},getChatHistory:async e=>{try{return(await Lt.get(`/chat-history/v0/${e}`,{timeout:12e5})).data}catch(n){throw n}},updateChatHistory:async(e,n)=>{try{return(await Lt.patch(`/chat-history/v0/${e}`,n)).data}catch(s){throw s}},deployApp:async(e,n,s,r,i)=>{try{return(await Lt.post("/jobs/v0/deploy",{job_id:e,image:n,deployment_id:s,acknowledgements:r,is_database_persist:i})).data}catch(a){throw a.response&&a.response.data?new Error(a.response.data.detail||a.response.data.error||"Failed to deploy app"):a}},deployExpoApp:async e=>{try{return(await Lt.post(`/jobs/v0/${e}/persist-environment`,{})).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getDeployStatus:async e=>{try{return(await Lt.get(`/jobs/v0/deploy/${e}/latest`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getDeployWarningInformation:async(e,n)=>{try{const s=n?{organization_id:n}:{};return(await Lt.get(`/jobs/v0/deploy/${e}/precheck`,{params:s})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to get warning information"):s}},getDeployLogs:async e=>{try{return(await Lt.get(`/jobs/v0/deploy/${e}/logs`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to get deploy logs"):n}},getDeploymentHistory:async e=>{try{return(await Lt.get(`/jobs/v0/deploy/${e}/history`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},getEnvs:async e=>{try{return(await Lt.get(`/jobs/v0/deploy/${e}/envs`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},shutDownDeployment:async e=>{try{return(await Lt.delete(`/jobs/v0/deploy/${e}`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},deploymentHistory:async e=>{try{return(await Lt.get(`/jobs/v0/deploy/${e}/history`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to deploy app"):n}},updateEnvironmentVariables:async(e,n)=>{try{return(await Lt.put(`/jobs/v0/deploy/${e}/envs/bulk`,{secrets_with_versions:n.reduce((r,i)=>(r[i.key]={value:i.value,version:i.version},r),{})})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to deploy app"):s}},registerDomain:async(e,n)=>{try{return(await Lt.post("/jobs/v0/domains/register",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to register domain"):s}},verifyDomain:async(e,n)=>{try{return(await Lt.post("/jobs/v0/domains/verify",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to verify domain"):s}},connectDomain:async(e,n)=>{try{return(await Lt.post("/jobs/v0/domains/connect",{domain:e,job_id:n})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to connect domain to app"):s}},getDomainStatus:async e=>{try{return(await Lt.get(`/jobs/v0/domains/status?domain=${encodeURIComponent(e)}`)).data}catch(n){throw n.response&&n.response.data?new Error(n.response.data.detail||n.response.data.error||"Failed to get domain status"):n}},unlinkDomain:async(e,n)=>{try{return(await Lt.delete(`/jobs/v0/domains/${encodeURIComponent(e)}/apps/${n}`)).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to unlink domain"):s}},getDeployments:async(e,n)=>{try{const s={};return e&&(s.organization_id=e),n&&(s.job_id=n),(await Lt.get("/jobs/v0/deployments",{params:s})).data}catch(s){return{error:s.message}}},switchDomain:async(e,n,s)=>{try{return(await Lt.post(`/api/v1/domains/${e}/switch`,{target_app_name:n,source_app_name:s})).data}catch(r){throw r}},generateSummary:async e=>{try{return(await Lt.post(`/jobs/v0/${e}/summary`)).data}catch(n){throw n.response&&n.response.data,n}},viewSummary:async e=>{try{return(await Lt.get(`/jobs/v0/${e}/summary`)).data}catch(n){throw n.response&&n.response.data,n}},submitFork:async(e,n)=>{try{return(await Lt.post(`/jobs/v0/${e}/fork-environment`,n)).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.detail||s.response.data.error||"Failed to submit fork"):s}},uploadArtifact:async(e,n)=>{try{return(await Lt.post(`/artifacts/job/${e}/upload`,n)).data}catch(s){throw s}},uploadFileToUrl:async(e,n)=>{try{await fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}})}catch(s){throw s}},getArtifacts:async e=>{try{return(await Lt.get(`/artifacts/job/${e}`)).data}catch(n){throw n}},deleteArtifact:async e=>{try{await Lt.delete(`/artifacts/${e}`)}catch(n){throw n}},getArtifactDownloadUrl:async e=>{try{return(await Lt.post(`/artifacts/${e}/download-url`)).data}catch(n){throw n}},finalizeArtifactUpload:async(e,n)=>{try{await Lt.post(`/artifacts/${e}/finalize-upload`,n)}catch(s){throw s}},batchFinalizeArtifactUpload:async e=>{try{await Lt.post("/artifacts/finalize-upload",e)}catch(n){throw n}},uploadFileStream:async(e,n,s,r)=>{try{const i=new URLSearchParams({job_id:e,file_name:s});return r&&i.set("description",r),(await Lt.post(`/files/stream?${i}`,n,{headers:{"Content-Type":"application/octet-stream","Content-Length":n.size.toString()}})).data}catch(i){throw i}},getArtifactTestCases:async(e,n)=>{try{return(await Lt.get(`/jobs/v0/${e}/artifact/${n}/get_test_cases`)).data}catch(s){throw s}},getEntriToken:async e=>{try{const n=e?{job_id:e}:{};return(await Lt.get("/jobs/v0/entri/info",{params:n})).data}catch(n){throw n}},getUserCohort:async()=>{try{return(await Lt.post("/user/cohort")).data}catch(e){throw e}},transcribeAudio:async(e,n="en")=>{try{const s=new FormData;return s.append("audio_file",e),s.append("language_code",n),(await Lt.post("/transcription/transcribe",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s}},extractRRWebData:async(e,n)=>{try{return(await Lt.post(`/rrweb/extract/${e}`,{events:n})).data}catch(s){throw s}},appleLogin:async e=>{try{return(await Lt.post("/api/v0/ios/apple/login",e)).data}catch(n){throw n}},apple2FA:async e=>{try{return(await Lt.post("/api/v0/ios/apple/2fa",e)).data}catch(n){throw n}},submitExpoBuildAppDetails:async(e,n)=>{try{return(await Lt.post(`/api/v0/${e}/build`,n)).data}catch(s){throw s}},getExpoBuildAppIconUploadUrl:async(e,n,s)=>{try{return(await Lt.post(`/api/v0/${n}/jobs/${e}/app-icon/upload`,s)).data}catch(r){throw r}},uploadToPresignedUrl:async(e,n)=>{try{await fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}})}catch(s){throw s}},finalizeExpoBuildAppIconUpload:async(e,n)=>{try{return(await Lt.post(`/api/v0/${e}/app-icon/finalize`,n)).data}catch(s){throw s}},triggerExpoBuild:async(e,n)=>{try{const s=n==="ios"?"/jobs/v0/ios":"/api/v0/android";return(await Lt.post(`${s}/build/${e}`)).data}catch(s){throw s}},getIOSBuildLatest:async e=>{try{return(await Lt.get(`/jobs/v0/ios/build/${e}/latest`)).data}catch(n){throw n}},getIOSBuildHistory:async e=>{try{return(await Lt.get(`/jobs/v0/ios/build/${e}/history`)).data}catch(n){throw n}},getIOSBuildLogs:async e=>{try{return(await Lt.get(`/jobs/v0/ios/build/${e}/logs`)).data}catch(n){throw n}},getExpoBuildConfig:async(e,n)=>{try{const s=n==="ios"?"/jobs/v0/ios/build":"/api/v0/android";return(await Lt.get(`${s}/${e}/config`)).data}catch{return null}},getAndroidBuildLatest:async e=>{try{return(await Lt.get(`/api/v0/android/${e}/latest`)).data}catch(n){throw n}},getAndroidBuildHistory:async e=>{try{return(await Lt.get(`/api/v0/android/${e}/history`)).data}catch(n){throw n}},getAndroidBuildLogs:async e=>{try{return(await Lt.get(`/api/v0/android/${e}/logs`)).data.android_build}catch(n){throw n}},transferTreeToProject:async(e,n)=>{try{return(await Lt.post(`/jobs/v0/${e}/transfer-tree-to-project/`,{organization_id:n})).data}catch(s){throw s}},transferTreeToUser:async(e,n)=>{try{return(await Lt.post(`/jobs/v0/${e}/transfer-tree-to-user/`,{user_id:n})).data}catch(s){throw s}}},xX={deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],deploymentHistory:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",currentJobId:null,errorMessage:null,activeTabId:"",modifiedEnvs:[],lastCheckedTimestamp:0,customDomain:null,deployLogs:[]},ud=fc("deploy/checkDeployStatus",async({jobId:e,silent:n=!1},{getState:s,rejectWithValue:r})=>{if(!e)return r("No job ID provided");const i=s(),a=Date.now(),o=i.deploy.lastCheckedTimestamp,l=a-o,c=15e3,u=i.deploy.deployStatus==="running"&&l<3e4;if(l<c&&n&&!u||l<1e3&&!n)return r("Rate limited");try{const p=await yt.getDeployStatus(e);if(!p||typeof p!="object")throw new Error("Invalid response format");if(!p.status)throw new Error("Missing status in response");return{response:p,timestamp:a,prevStatus:i.deploy.deployStatus}}catch(p){let f="Failed to get deployment status";return p.response&&p.response.data?p.response.data.detail?f=p.response.data.detail:p.response.data.message?f=p.response.data.message:p.response.data.error&&(f=p.response.data.error):p.message&&(f=p.message),p.response&&p.response.status>=400&&!n&&$s({title:"Deployment Error",description:f,variant:"destructive",duration:2e3}),r(f)}}),a3=fc("deploy/deployApp",async({jobId:e,image:n,deployment_id:s,acknowledgements:r,db_mode:i},{rejectWithValue:a})=>{if(!e)return a("No job ID provided");try{return await yt.deployApp(e,n,s,r,i),{jobId:e}}catch(o){let l="Failed to deploy application";return o.response&&o.response.data?o.response.data.detail?l=o.response.data.detail:o.response.data.message?l=o.response.data.message:o.response.data.error&&(l=o.response.data.error):o.message&&(l=o.message),$s({title:"Deployment Error",description:l.includes("deploy in progress")?"A deployment is currently in progress. Please wait for it to complete before starting a new one.":l.includes("max apps per user reached: 5 active apps")?"Youve reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments.":l,variant:"destructive",duration:5e3}),a(l)}}),jf=fc("deploy/getDeployLogs",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{const s=await yt.getDeployLogs(e),r=[];return s&&(s.build&&Array.isArray(s.build)&&s.build.forEach(i=>{i&&i.trim()&&r.push(i)}),s.manage_secrets&&Array.isArray(s.manage_secrets)&&s.manage_secrets.forEach(i=>{i&&i.trim()&&r.push(i)}),s.mongodb_migrate&&Array.isArray(s.mongodb_migrate)&&s.mongodb_migrate.forEach(i=>{i&&i.trim()&&r.push(i)}),s.deploy&&Array.isArray(s.deploy)&&s.deploy.forEach(i=>{i&&i.trim()&&r.push(i)}),s.health_check&&Array.isArray(s.health_check)&&s.health_check.forEach(i=>{i&&i.trim()&&r.push(i)})),r}catch{return n("Failed to fetch deploy logs")}}),o3=fc("deploy/loadDeploymentHistory",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{const s=await yt.getDeploymentHistory(e);return s&&s.runs&&Array.isArray(s.runs)?s.runs:[]}catch{return n("Failed to load deployment history")}}),l3=fc("deploy/shutDownDeployment",async(e,{rejectWithValue:n})=>{if(!e)return n("No job ID provided");try{return await yt.shutDownDeployment(e),{jobId:e}}catch(s){let r="Failed to shut down deployment";return s.response&&s.response.data?s.response.data.detail?r=s.response.data.detail:s.response.data.message?r=s.response.data.message:s.response.data.error&&(r=s.response.data.error):s.message&&(r=s.message),$s({title:"Shutdown Error",description:r,variant:"destructive",duration:2e3}),n(r)}}),gX=fc("deploy/loadEnvironmentVariables",async(e,{getState:n,rejectWithValue:s})=>{if(!e)return s("No job ID provided");try{const r=n();if(r.deploy.modifiedEnvs&&r.deploy.modifiedEnvs.length>0)return r.deploy.modifiedEnvs;const i=await yt.getEnvs(e);return i&&i.envs?Object.entries(i.envs).map(([o,l],c)=>({id:`env-${c}`,key:o,value:l,originalValue:l,version:0})):[]}catch{return s("Failed to load environment variables")}}),ED=sa({name:"deploy",initialState:xX,reducers:{setActiveTabId:(e,n)=>{e.activeTabId=n.payload},saveEnvironmentVariables:(e,n)=>{e.modifiedEnvs=n.payload},resetDeployState:e=>{e.deployStatus="not_deployed",e.latestRunStatus=null,e.deploymentSteps=[],e.currentStepIndex=-1,e.deployUrl="",e.customDomainUrl="",e.runId="",e.errorMessage=null,e.customDomain=null},resetDeploymentSteps:e=>{e.deploymentSteps=[],e.currentStepIndex=-1},setCurrentJobId:(e,n)=>{e.currentJobId=n.payload},setCustomDomain:(e,n)=>{e.customDomain=n.payload}},extraReducers:e=>{e.addCase(ud.pending,(n,s)=>{s.meta.arg.silent||(n.loading=!0)}),e.addCase(ud.fulfilled,(n,s)=>{const{response:r,timestamp:i,prevStatus:a}=s.payload;n.lastCheckedTimestamp=i;let o=r.status;if(r.latest_run&&r.latest_run.status==="running"?o="running":r.latest_run&&r.latest_run.status&&r.status==="success"&&(o=r.latest_run.status),n.deployStatus,n.deployStatus=o,r.latest_run&&(n.latestRunStatus=r.latest_run.status),r.deploy_url&&(n.deployUrl=r.deploy_url),r.custom_domain)if(r.custom_domain.domain===""||!r.custom_domain.status||!r.custom_domain.dns_records)n.customDomain=null,n.customDomainUrl="";else if(n.customDomain={domain:r.custom_domain.domain,status:r.custom_domain.status,dns_records:Array.isArray(r.custom_domain.dns_records)?r.custom_domain.dns_records:[r.custom_domain.dns_records]},r.custom_domain.status==="verified"){const l=r.custom_domain.domain;n.customDomainUrl=l.startsWith("http")?l:`https://${l}`}else n.customDomainUrl="";else n.customDomain=null,n.customDomainUrl="";if(r.latest_run&&r.latest_run.run_id&&r.latest_run.status==="success"?(n.runId=r.latest_run.run_id,r.latest_run.status&&(n.latestRunStatus=r.latest_run.status)):r.deployed_run_id&&(n.runId=r.deployed_run_id),r.latest_run&&r.latest_run.steps&&Array.isArray(r.latest_run.steps)){JSON.stringify(n.deploymentSteps)!==JSON.stringify(r.latest_run.steps)&&(n.deploymentSteps=r.latest_run.steps);let c=-1;if(r.status==="running"&&r.latest_run.steps.every(u=>u.status==="pending"))c=0;else{const u=r.latest_run.steps.findIndex(p=>p.status==="running");if(u!==-1)c=u;else{for(let p=0;p<r.latest_run.steps.length-1;p++)if(r.latest_run.steps[p].status==="success"&&r.latest_run.steps[p+1].status==="pending"){c=p+1;break}if(c===-1){const p=r.latest_run.steps.findIndex(f=>f.status==="pending");p!==-1?c=p:r.status==="success"&&(c=r.latest_run.steps.length-1)}}}n.currentStepIndex=c}n.errorMessage=null,n.loading=!1}),e.addCase(ud.rejected,(n,s)=>{s.payload!=="Rate limited"&&(n.errorMessage=s.payload,n.deployStatus="not_deployed",n.latestRunStatus=null,n.deploymentSteps=[],n.currentStepIndex=-1,n.loading=!1)}),e.addCase(a3.pending,n=>{n.loading=!0,n.errorMessage=null}),e.addCase(a3.fulfilled,(n,s)=>{n.deployStatus="running",n.latestRunStatus="running",n.currentJobId=s.payload.jobId,n.loading=!1,n.deploymentSteps=[],n.currentStepIndex=-1}),e.addCase(a3.rejected,(n,s)=>{n.errorMessage=s.payload,n.deployStatus="not_deployed",n.latestRunStatus=null,n.loading=!1}),e.addCase(o3.pending,n=>{n.loading=!0}),e.addCase(o3.fulfilled,(n,s)=>{n.deploymentHistory=s.payload,n.loading=!1}),e.addCase(o3.rejected,n=>{n.loading=!1}),e.addCase(l3.pending,n=>{n.loading=!0}),e.addCase(l3.fulfilled,n=>{n.deployStatus="not_deployed",n.latestRunStatus=null,n.loading=!1,n.deploymentHistory=[],n.deployUrl="",n.customDomainUrl="",n.runId="",n.deploymentSteps=[],n.currentStepIndex=-1}),e.addCase(l3.rejected,n=>{n.loading=!1}),e.addCase(jf.pending,n=>{n.loading=!0}),e.addCase(jf.fulfilled,(n,s)=>{n.deployLogs=s.payload,n.loading=!1}),e.addCase(jf.rejected,n=>{n.loading=!1}),e.addCase(gX.fulfilled,(n,s)=>{n.modifiedEnvs=s.payload})}}),{setActiveTabId:bX,saveEnvironmentVariables:UFe,resetDeployState:yX,resetDeploymentSteps:VFe,setCurrentJobId:m_,setCustomDomain:b1}=ED.actions,vX=ED.reducer,wX=e=>e.deploy.deployStatus,CX=e=>e.deploy.latestRunStatus,_X=e=>e.deploy.deploymentSteps,jX=e=>e.deploy.deploymentHistory,NX=e=>e.deploy.currentStepIndex,FX=e=>e.deploy.deployUrl,EX=e=>e.deploy.customDomainUrl,SX=e=>e.deploy.runId,kX=e=>e.deploy.currentJobId,TX=e=>e.deploy.errorMessage,IX=e=>e.deploy.modifiedEnvs,AX=e=>e.deploy.customDomain,DX=e=>e.deploy.deployLogs,U6={isConnected:!1,isConnecting:!1,primaryAccount:null,installations:[],authWindowOpen:!1,lastConnectionCheck:0,connectionError:null},SD=sa({name:"github",initialState:U6,reducers:{setConnected:(e,n)=>{e.isConnected=n.payload,e.isConnecting=!1,e.connectionError=null,e.lastConnectionCheck=Date.now()},setConnecting:(e,n)=>{e.isConnecting=n.payload,n.payload&&(e.connectionError=null)},setConnectionError:(e,n)=>{e.connectionError=n.payload,e.isConnecting=!1},setPrimaryAccount:(e,n)=>{e.primaryAccount=n.payload},setInstallations:(e,n)=>{e.installations=n.payload,e.primaryAccount&&(e.installations=e.installations.map(s=>({...s,isPrimary:s.account_login===e.primaryAccount})))},setAuthWindowOpen:(e,n)=>{e.authWindowOpen=n.payload},resetGitHubState:()=>U6,updateLastConnectionCheck:e=>{e.lastConnectionCheck=Date.now()}}}),{setConnected:c3,setConnecting:d3,setConnectionError:y1,setPrimaryAccount:h_,setInstallations:x_,setAuthWindowOpen:u3,resetGitHubState:HFe,updateLastConnectionCheck:$Fe}=SD.actions,MX=e=>e.github||U6,LX=e=>e.github?.isConnected??!1,RX=e=>{const n=Date.now(),s=e.github?.lastConnectionCheck??0,r=300*1e3;return n-s>r},PX=SD.reducer;function Xh(e){return e.replace(e[0],e[0].toUpperCase())}function OX(e){return e.type==="query"}function BX(e){return e.type==="mutation"}function kD(e){return e.type==="infinitequery"}function v1(e,...n){return Object.assign(e,...n)}var p3=Symbol();function f3(e){const n=d.useRef(e),s=d.useMemo(()=>Av(n.current,e),[e]);return d.useEffect(()=>{n.current!==s&&(n.current=s)},[s]),s}function Qh(e){const n=d.useRef(e);return d.useEffect(()=>{ec(n.current,e)||(n.current=e)},[e]),ec(n.current,e)?n.current:e}var UX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VX=UX(),HX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$X=HX(),zX=()=>VX||$X?d.useLayoutEffect:d.useEffect,WX=zX(),g_=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:eA.pending}:e;function m3(e,...n){const s={};return n.forEach(r=>{s[r]=e[r]}),s}var h3=["data","status","isLoading","isSuccess","isError","error"];function GX({api:e,moduleOptions:{batch:n,hooks:{useDispatch:s,useSelector:r,useStore:i},unstable__sideEffectsInRender:a,createSelector:o},serializeQueryArgs:l,context:c}){const u=a?N=>N():d.useEffect;return{buildQueryHooks:g,buildInfiniteQueryHooks:b,buildMutationHook:w,usePrefetch:m};function p(N,j,_){if(j?.endpointName&&N.isUninitialized){const{endpointName:k}=j,I=c.endpointDefinitions[k];_!==lo&&l({queryArgs:j.originalArgs,endpointDefinition:I,endpointName:k})===l({queryArgs:_,endpointDefinition:I,endpointName:k})&&(j=void 0)}let C=N.isSuccess?N.data:j?.data;C===void 0&&(C=N.data);const F=C!==void 0,E=N.isLoading,S=(!j||j.isLoading||j.isUninitialized)&&!F&&E,M=N.isSuccess||F&&(E&&!j?.isError||N.isUninitialized);return{...N,data:C,currentData:N.data,isFetching:E,isLoading:S,isSuccess:M}}function f(N,j,_){if(j?.endpointName&&N.isUninitialized){const{endpointName:k}=j,I=c.endpointDefinitions[k];_!==lo&&l({queryArgs:j.originalArgs,endpointDefinition:I,endpointName:k})===l({queryArgs:_,endpointDefinition:I,endpointName:k})&&(j=void 0)}let C=N.isSuccess?N.data:j?.data;C===void 0&&(C=N.data);const F=C!==void 0,E=N.isLoading,S=(!j||j.isLoading||j.isUninitialized)&&!F&&E,M=N.isSuccess||E&&F;return{...N,data:C,currentData:N.data,isFetching:E,isLoading:S,isSuccess:M}}function m(N,j){const _=s(),C=Qh(j);return d.useCallback((F,E)=>_(e.util.prefetch(N,F,{...C,...E})),[N,_,C])}function h(N,j,{refetchOnReconnect:_,refetchOnFocus:C,refetchOnMountOrArgChange:F,skip:E=!1,pollingInterval:S=0,skipPollingIfUnfocused:M=!1,...k}={}){const{initiate:I}=e.endpoints[N],D=s(),P=d.useRef(void 0);if(!P.current){const X=D(e.internalActions.internal_getRTKQSubscriptions());P.current=X}const R=f3(E?lo:j),B=Qh({refetchOnReconnect:_,refetchOnFocus:C,pollingInterval:S,skipPollingIfUnfocused:M}),U=k.initialPageParam,H=Qh(U),$=d.useRef(void 0);let{queryCacheKey:q,requestId:Q}=$.current||{},V=!1;q&&Q&&(V=P.current.isRequestSubscribed(q,Q));const ee=!V&&$.current!==void 0;return u(()=>{ee&&($.current=void 0)},[ee]),u(()=>{const X=$.current;if(R===lo){X?.unsubscribe(),$.current=void 0;return}const ae=$.current?.subscriptionOptions;if(!X||X.arg!==R){X?.unsubscribe();const me=D(I(R,{subscriptionOptions:B,forceRefetch:F,...kD(c.endpointDefinitions[N])?{initialPageParam:H}:{}}));$.current=me}else B!==ae&&X.updateSubscriptionOptions(B)},[D,I,F,R,B,ee,H,N]),[$,D,I,B]}function x(N,j){return(C,{skip:F=!1,selectFromResult:E}={})=>{const{select:S}=e.endpoints[N],M=f3(F?lo:C),k=d.useRef(void 0),I=d.useMemo(()=>o([S(M),(U,H)=>H,U=>M],j,{memoizeOptions:{resultEqualityCheck:ec}}),[S,M]),D=d.useMemo(()=>E?o([I],E,{devModeChecks:{identityFunctionCheck:"never"}}):I,[I,E]),P=r(U=>D(U,k.current),ec),R=i(),B=I(R.getState(),k.current);return WX(()=>{k.current=B},[B]),P}}function y(N){d.useEffect(()=>()=>{N.current?.unsubscribe?.(),N.current=void 0},[N])}function v(N){if(!N.current)throw new Error(PT(38));return N.current.refetch()}function g(N){const j=(F,E={})=>{const[S]=h(N,F,E);return y(S),d.useMemo(()=>({refetch:()=>v(S)}),[S])},_=({refetchOnReconnect:F,refetchOnFocus:E,pollingInterval:S=0,skipPollingIfUnfocused:M=!1}={})=>{const{initiate:k}=e.endpoints[N],I=s(),[D,P]=d.useState(p3),R=d.useRef(void 0),B=Qh({refetchOnReconnect:F,refetchOnFocus:E,pollingInterval:S,skipPollingIfUnfocused:M});u(()=>{const q=R.current?.subscriptionOptions;B!==q&&R.current?.updateSubscriptionOptions(B)},[B]);const U=d.useRef(B);u(()=>{U.current=B},[B]);const H=d.useCallback(function(q,Q=!1){let V;return n(()=>{R.current?.unsubscribe(),R.current=V=I(k(q,{subscriptionOptions:U.current,forceRefetch:!Q})),P(q)}),V},[I,k]),$=d.useCallback(()=>{R.current?.queryCacheKey&&I(e.internalActions.removeQueryResult({queryCacheKey:R.current?.queryCacheKey}))},[I]);return d.useEffect(()=>()=>{R?.current?.unsubscribe()},[]),d.useEffect(()=>{D!==p3&&!R.current&&H(D,!0)},[D,H]),d.useMemo(()=>[H,D,{reset:$}],[H,D,$])},C=x(N,p);return{useQueryState:C,useQuerySubscription:j,useLazyQuerySubscription:_,useLazyQuery(F){const[E,S,{reset:M}]=_(F),k=C(S,{...F,skip:S===p3}),I=d.useMemo(()=>({lastArg:S}),[S]);return d.useMemo(()=>[E,{...k,reset:M},I],[E,k,M,I])},useQuery(F,E){const S=j(F,E),M=C(F,{selectFromResult:F===lo||E?.skip?void 0:g_,...E}),k=m3(M,...h3);return d.useDebugValue(k),d.useMemo(()=>({...M,...S}),[M,S])}}}function b(N){const j=(C,F={})=>{const[E,S,M,k]=h(N,C,F),I=d.useRef(k);u(()=>{I.current=k},[k]);const D=d.useCallback(function(B,U){let H;return n(()=>{E.current?.unsubscribe(),E.current=H=S(M(B,{subscriptionOptions:I.current,direction:U}))}),H},[E,S,M]);y(E);const P=f3(F.skip?lo:C),R=d.useCallback(()=>v(E),[E]);return d.useMemo(()=>({trigger:D,refetch:R,fetchNextPage:()=>D(P,"forward"),fetchPreviousPage:()=>D(P,"backward")}),[R,D,P])},_=x(N,f);return{useInfiniteQueryState:_,useInfiniteQuerySubscription:j,useInfiniteQuery(C,F){const{refetch:E,fetchNextPage:S,fetchPreviousPage:M}=j(C,F),k=_(C,{selectFromResult:C===lo||F?.skip?void 0:g_,...F}),I=m3(k,...h3,"hasNextPage","hasPreviousPage");return d.useDebugValue(I),d.useMemo(()=>({...k,fetchNextPage:S,fetchPreviousPage:M,refetch:E}),[k,S,M,E])}}}function w(N){return({selectFromResult:j,fixedCacheKey:_}={})=>{const{select:C,initiate:F}=e.endpoints[N],E=s(),[S,M]=d.useState();d.useEffect(()=>()=>{S?.arg.fixedCacheKey||S?.reset()},[S]);const k=d.useCallback(function(q){const Q=E(F(q,{fixedCacheKey:_}));return M(Q),Q},[E,F,_]),{requestId:I}=S||{},D=d.useMemo(()=>C({fixedCacheKey:_,requestId:S?.requestId}),[_,S,C]),P=d.useMemo(()=>j?o([D],j):D,[j,D]),R=r(P,ec),B=_==null?S?.arg.originalArgs:void 0,U=d.useCallback(()=>{n(()=>{S&&M(void 0),_&&E(e.internalActions.removeMutationResult({requestId:I,fixedCacheKey:_}))})},[E,_,S,I]),H=m3(R,...h3,"endpointName");d.useDebugValue(H);const $=d.useMemo(()=>({...R,originalArgs:B,reset:U}),[R,B,U]);return d.useMemo(()=>[k,$],[k,$])}}}var qX=Symbol(),KX=({batch:e=P$,hooks:n={useDispatch:Xi,useSelector:Vr,useStore:O$},createSelector:s=gv,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:qX,init(a,{serializeQueryArgs:o},l){const c=a,{buildQueryHooks:u,buildInfiniteQueryHooks:p,buildMutationHook:f,usePrefetch:m}=GX({api:a,moduleOptions:{batch:e,hooks:n,unstable__sideEffectsInRender:r,createSelector:s},serializeQueryArgs:o,context:l});return v1(c,{usePrefetch:m}),v1(l,{batch:e}),{injectEndpoint(h,x){if(OX(x)){const{useQuery:y,useLazyQuery:v,useLazyQuerySubscription:g,useQueryState:b,useQuerySubscription:w}=u(h);v1(c.endpoints[h],{useQuery:y,useLazyQuery:v,useLazyQuerySubscription:g,useQueryState:b,useQuerySubscription:w}),a[`use${Xh(h)}Query`]=y,a[`useLazy${Xh(h)}Query`]=v}if(BX(x)){const y=f(h);v1(c.endpoints[h],{useMutation:y}),a[`use${Xh(h)}Mutation`]=y}else if(kD(x)){const{useInfiniteQuery:y,useInfiniteQuerySubscription:v,useInfiniteQueryState:g}=p(h);v1(c.endpoints[h],{useInfiniteQuery:y,useInfiniteQuerySubscription:v,useInfiniteQueryState:g}),a[`use${Xh(h)}InfiniteQuery`]=y}}}}}),Yg=iA(aA(),KX());const YX="1.0.21",TD=async()=>{try{return i9()?await window.electron.ipcRenderer.invoke("get-app-version"):YX||"1.0.18"}catch{return"1.0.18"}},ZX=$m({baseUrl:wa.apiBaseUrl,prepareHeaders:async(e,{endpoint:n})=>{const s=await Xr.auth.getSession();s.data.session?.access_token&&e.set("Authorization",`Bearer ${s.data.session.access_token}`),n!=="transcribeAudio"&&e.set("Content-Type","application/json");const r=_D();return r&&(e.set("X-Ads-Event-ID",r),jD()),e}}),JX=async(e,n,s)=>await ZX(e,n,s),XX=$m({baseUrl:wa._file_upload_url,prepareHeaders:async e=>{const n=await Xr.auth.getSession();n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`);const s=wa.apiBaseUrl;if(s&&s.includes(".run.app")){const r=s.match(/agent-service-([^-]+)-\d+\..*\.run\.app/);r&&r[1]&&e.set("eph_name",r[1])}return e}}),up=Yg({reducerPath:"api",baseQuery:JX,tagTypes:["GitHubInstallations","GitHubRepositories","GitHubBranches","GitHubUserDetails","PreviewURL","Referral","DownloadCode","Credits","ProModePayment","Budget","Jobs","Config","SubscriptionPlans","SubscriptionStatus","Workspace"],endpoints:e=>({archiveJob:e.mutation({query:({jobId:n,deletedBy:s})=>({url:`/jobs/v0/${n}/archive`,method:"POST",body:{deletedBy:s}})}),getGitHubUserDetails:e.query({query:()=>{let n="";try{const i=localStorage.getItem("pending_referral_code");i&&(n=JSON.parse(i).code)}catch{}const s=io(),r={};return Object.keys(s).length>0&&(r.ads_metadata=s),{url:`/user/details${n?`?referral_code=${n}`:""}`,method:"POST",body:r}},providesTags:["GitHubUserDetails"],transformResponse:n=>{if(n.referral_message){try{const s={shouldShow:!0,message:n.referral_message,reward:n.reward_amount||5,timestamp:Date.now()};localStorage.setItem("referral_modal_data",JSON.stringify(s))}catch{}try{localStorage.removeItem("pending_referral_code")}catch{}}return n},transformErrorResponse:n=>{if(n.status===500){const s=gD(n.data),r=n.status===500;n9(s,r).catch(i=>{})}return Fn(Is.API.GITHUB_USER_DETAILS,n,{status:n.status,data:JSON.stringify(n.data)}),{id:null,github:{authorized:!1,account_name:""},referral_info:{referral_code:"",referrer_email:null,signed_up_at:""},github_installations:[],error:n.data?.detail||"Failed to fetch user details"}}}),getGitHubInstallations:e.query({query:()=>"/github/installations",providesTags:["GitHubInstallations"],transformResponse:n=>{if(n.error)throw new Error(n.error);return(Array.isArray(n)?n:[]).map(r=>({installation_id:r.account?.login||r.account_login,account_login:r.account?.login||r.account_login,account_type:r.target_type||r.account_type,user_github_login:r.account?.login||r.user_github_login,app_slug:r.app_slug,isPrimary:!1,account:r.account,target_type:r.target_type}))},transformErrorResponse:n=>({installations:[],error:n.data?.message||"Failed to fetch installations"})}),getGitHubRepositories:e.query({query:n=>n?`/github/repositories?account_login=${encodeURIComponent(n)}`:"/github/repositories",providesTags:(n,s,r)=>[{type:"GitHubRepositories",id:r||"ALL"}],transformResponse:(n,s,r)=>{if(n.error)throw new Error(n.error);const i=n.repositories||[];return r?i.filter(a=>a.owner?.login===r||a.full_name?.startsWith(`${r}/`)):i},transformErrorResponse:n=>({repositories:[],error:n.data?.message||"Failed to fetch repositories"})}),getGitHubBranches:e.query({query:({accountLogin:n,repoName:s})=>{const r=encodeURIComponent(n),i=encodeURIComponent(s);return`/github/branches/${r}/${i}`},providesTags:(n,s,{accountLogin:r,repoName:i})=>[{type:"GitHubBranches",id:`${r}/${i}`}],transformResponse:n=>{if(n.error)throw new Error(n.error);return Array.isArray(n)?n:Array.isArray(n.branches)?n.branches:[]},transformErrorResponse:n=>({branches:[],error:n.data?.message||"Failed to fetch branches"})}),createGitHubRepository:e.mutation({query:n=>({url:"/github/repositories",method:"POST",body:n}),invalidatesTags:["GitHubRepositories"]}),pushToGitHub:e.mutation({query:({jobId:n,data:s})=>({url:`/jobs/v0/push_to_github/${n}`,method:"POST",body:s}),invalidatesTags:["GitHubRepositories","GitHubBranches"]}),saveGitHubInstallation:e.mutation({query:({installationId:n,code:s})=>({url:"/github/installation",method:"POST",body:{installation_id:n,code:s}}),invalidatesTags:["GitHubInstallations","GitHubUserDetails"]}),getJobPreviewUrl:e.query({query:n=>`/jobs/v0/${n}/preview`,providesTags:(n,s,r)=>[{type:"PreviewURL",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch preview URL"})}),getCodeDownloadUrl:e.query({query:n=>`/download/pod-backup/download-zip?job_id=${n}`,providesTags:(n,s,r)=>[{type:"DownloadCode",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch download URL"})}),getCreditsBalance:e.query({query:n=>({url:"/credits/balance",params:n?.organization_id?{organization_id:n.organization_id}:{}}),providesTags:["Credits"],transformResponse:n=>{if(n.error)throw new Error(n.error);return n},transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch credits balance",ecu_balance:0,top_up_credit_balance:0,monthly_credits_balance:0,monthly_credits_refresh_date:"",subscription:{id:"",name:"",status:"free",expires_at:!1,monthly_credit_limit:5,subscription_details:{id:"",amount:0}}})}),checkProModePayment:e.query({query:({tag:n})=>`/payments/custom-payments/check?tag=${encodeURIComponent(n)}`,providesTags:["ProModePayment"],transformResponse:n=>n,transformErrorResponse:n=>({exists:!1,error:n.data?.message||n.data?.detail||"Failed to check payment status"})}),getSubscriptionPlans:e.query({query:n=>({url:"/payments/subscription/plans",params:n?.organization_id?{organization_id:n.organization_id}:{}}),providesTags:["SubscriptionPlans"],transformResponse:n=>n,transformErrorResponse:n=>({current_subscription:null,available_plans:[],error:n.data?.message||n.data?.detail||"Failed to fetch subscription plans"})}),checkSubscriptionStatus:e.query({query:({paymentId:n})=>({url:`/payments/${n}/status`}),providesTags:(n,s,{paymentId:r})=>[{type:"SubscriptionStatus",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({status:"failed",message:n.data?.message||n.data?.detail||"Failed to check subscription status",error:n.data?.message||n.data?.detail||"Failed to check subscription status"})}),getBudget:e.query({query:({jobId:n,organization_id:s})=>({url:`/budget/${n}`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Budget",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to fetch budget");return n.data},transformErrorResponse:n=>({error:n.data?.error||n.data?.detail||"Failed to fetch budget information"})}),updateBudget:e.mutation({query:({jobId:n,amount:s,organization_id:r})=>({url:`/budget/${n}`,method:"PUT",body:{amount:s},params:r?{organization_id:r}:{}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Budget",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to update budget");return n.data},transformErrorResponse:n=>({error:n.data?.error||n.data?.detail||"Failed to update budget"})}),getJobs:e.query({query:n=>{const r=`/jobs/v0/?limit=${n?.limit||250}&offset=${n?.offset||0}`;return n?.organization_id?`${r}&organization_id=${encodeURIComponent(n.organization_id)}`:r},providesTags:(n,s,r)=>[{type:"Jobs",id:r?.organization_id||"ALL"}],transformResponse:n=>n?.jobs||[],transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch jobs"})}),getJob:e.query({query:n=>`/jobs/v0/${n}/`,providesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch job"})}),getConfig:e.query({queryFn:async(n,s,r,i)=>{try{const l={app_version:await QQ()||await TD()};n?.organization_id&&(l.organization_id=n.organization_id);const c=await i({url:"/repositories/config",params:l});return c.error?{error:c.error}:{data:c.data}}catch(a){return{error:{status:"CUSTOM_ERROR",error:a instanceof Error?a.message:"Failed to fetch config"}}}},providesTags:["Config"]}),uploadFileStream:e.mutation({queryFn:async({jobId:n,file:s,fileName:r,description:i},a)=>{const o=new URLSearchParams({job_id:n,file_name:r});i&&o.set("description",i);const l=await XX({url:`/api/v1/files/stream?${o}`,method:"POST",body:s,headers:{"Content-Type":"application/octet-stream","Content-Length":s.size.toString()}},a,{});return l.error?{error:l.error}:{data:l.data}}}),submitHITL:e.mutation({query:({payload:n,client_ref_id:s,resume:r=!1,finalize_artifact_upload:i})=>{const a={client_ref_id:s,payload:{processor_type:"env_only",is_cloud:!0,env_image:n.env_image,branch:"",repository:"",...n,...n.testMode&&{test_mode_on:"true"}},model_name:n.model_name,resume:r};return i&&(a.finalize_artifact_upload=i),r&&(a.id=s),{url:"/jobs/v0/hitl-queue/",method:"POST",body:a}}}),deployExpoApp:e.mutation({query:n=>({url:`/jobs/v0/${n}/persist-environment`,method:"POST",body:{}}),invalidatesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to publish app"})}),checkDeployStatus:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/latest`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");if(!n.status)throw new Error("Missing status in response");return n},transformErrorResponse:n=>{let s="Failed to get deployment status";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),{error:s}}}),deployApp:e.mutation({query:({jobId:n,image:s,deployment_id:r,acknowledgements:i,db_mode:a,organization_id:o,tier:l})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:n,image:s,deployment_id:r,acknowledgements:i,is_database_persist:a,...o&&{organization_id:o},...l&&{tier:l}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:r}],transformResponse:(n,s,{jobId:r})=>({jobId:r,status:"success",message:n?.message}),transformErrorResponse:n=>{let s="Failed to deploy application";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),s.includes("deploy in progress")?s="A deployment is currently in progress. Please wait for it to complete before starting a new one.":s.includes("max apps per user reached: 5 active apps")&&(s="You've reached the maximum limit of 5 active deployments. To deploy a new app, please shut down one of your existing deployments."),{error:s}}}),rollbackDeployment:e.mutation({query:({jobId:n,image:s,organization_id:r})=>({url:"/jobs/v0/deploy",method:"POST",body:{job_id:n,image:s,acknowledgements:"rollback",is_database_persist:!0,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:r}],transformResponse:(n,s,{jobId:r})=>({jobId:r,status:"success",message:n?.message}),transformErrorResponse:n=>{let s="Failed to rollback deployment";return n.data?.detail?s=n.data.detail:n.data?.message?s=n.data.message:n.data?.error&&(s=n.data.error),s.includes("deploy in progress")&&(s="A deployment is currently in progress. Please wait for it to complete before rolling back."),{error:s}}}),getDeploymentHistory:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/history`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deployment-history-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployment history"})}),registerDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/register",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to register domain"})}),verifyDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/verify",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to verify domain"})}),connectDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:"/jobs/v0/domains/connect",method:"POST",body:{domain:n,job_id:s,...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to connect domain"})}),unlinkDomain:e.mutation({query:({domain:n,jobId:s,organization_id:r})=>({url:`/jobs/v0/domains/${encodeURIComponent(n)}/apps/${s}`,method:"DELETE",params:r?{organization_id:r}:{}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to unlink domain"})}),getDeploymentLogs:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/logs`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deployment-logs-${r}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployment logs"})}),getLiveLogs:e.query({query:({app:n,app_id:s})=>({url:"/api/v1/apps/live-logs",params:{app:n,app_id:s}}),providesTags:(n,s,{app:r,app_id:i})=>[{type:"Jobs",id:`live-logs-${r||i}`}],transformResponse:n=>{if(!n||typeof n!="object")throw new Error("Invalid response format");return n},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load live logs"})}),shutdownDeployment:e.mutation({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}`,method:"DELETE",params:s?{organization_id:s}:{}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`deploy-status-${r}`},{type:"Jobs",id:`deployment-history-${r}`}],transformResponse:n=>({message:n?.message||"Deployment shut down successfully"}),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to shutdown deployment"})}),getEnvironmentVariables:e.query({query:({jobId:n,organization_id:s})=>({url:`/jobs/v0/deploy/${n}/envs`,params:s?{organization_id:s}:{}}),providesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`env-vars-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to get environment variables"})}),updateEnvironmentVariables:e.mutation({query:({jobId:n,envs:s,organization_id:r})=>({url:`/jobs/v0/deploy/${n}/envs/bulk`,method:"PUT",body:{secrets_with_versions:s.reduce((i,a)=>(i[a.key]={value:a.value,version:a.version},i),{}),...r&&{organization_id:r}}}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:`env-vars-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update environment variables"})}),getDeployments:e.query({query:n=>{const s=n&&"organization_id"in n?n.organization_id:void 0,r=n&&"job_id"in n?n.job_id:void 0,i={};return s&&(i.organization_id=s),r&&(i.job_id=r),{url:"/jobs/v0/deployments",params:i}},providesTags:["Jobs"],keepUnusedDataFor:300,transformResponse:n=>n.map(s=>({id:s.job_id,app_name:s.app_name||s.job_id,deployStatus:s.status||"success",deployUrl:s.deployed_url||"",custom_domain:s.custom_domain?.domain||s.custom_domain||"",latest_run:{status:s.latest_run?.status||s.status||"success",updated_at:s.latest_run?.updated_at||s.updated_at||s.deployed_at||new Date().toISOString()},description:s.description||"",deployment_id:s.deployment_id||s.job_id,title:s.title||"Untitled"})).reverse(),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to load deployments"})}),restartEnvironment:e.mutation({query:({jobId:n,upgrade:s=!1})=>({params:{upgrade:s?"true":"false"},url:`/jobs/v0/${n}/restart-environment`,method:"POST"}),invalidatesTags:(n,s,{jobId:r})=>[{type:"Jobs",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to restart environment"})}),pauseEnvironment:e.mutation({query:n=>({url:`/jobs/v0/${n}/pause-environment`,method:"POST"}),invalidatesTags:(n,s,r)=>[{type:"Jobs",id:r}],transformResponse:n=>{if(!n.success)throw new Error(n.data?.error||"Failed to pause environment");return n.data},transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to pause environment"})}),createWorkspace:e.mutation({query:({name:n,description:s})=>({url:"/org/create",method:"POST",body:{name:n,description:s,organization_type:"PROJECT"}}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to create workspace"})}),acceptInvitation:e.mutation({query:({invitation_id:n})=>({url:`/org/invitations/${n}/accept`,method:"POST"}),invalidatesTags:["Workspace","GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to accept invitation"})}),getOrganizationDetails:e.query({query:n=>`/org/${n}/details`,providesTags:(n,s,r)=>[{type:"Workspace",id:`org-details-${r}`}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch organization details"})}),changeUserRole:e.mutation({query:({org_id:n,user_id:s,new_role:r})=>({url:`/org/${n}/change-role/${s}`,method:"PATCH",body:{new_role:r}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to change user role"})}),inviteMembers:e.mutation({query:({org_id:n,invites:s})=>({url:`/org/${n}/invite`,method:"POST",body:{invites:s}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to send invitations"})}),leaveOrganization:e.mutation({query:({organization_id:n})=>({url:`/org/${n}/leave`,method:"POST"}),invalidatesTags:(n,s,{organization_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to leave organization"})}),rejectInvitation:e.mutation({query:({invitation_id:n})=>({url:`/org/invitations/${n}/reject`,method:"POST"}),invalidatesTags:()=>["GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to reject invitation"})}),cancelInvitation:e.mutation({query:({organization_id:n,invitation_id:s})=>({url:`/org/${n}/cancel-invitation/${s}`,method:"POST"}),invalidatesTags:(n,s,{organization_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remove the user"})}),deactivateMember:e.mutation({query:({org_id:n,user_id:s})=>({url:`/org/${n}/deactivate-member/${s}`,method:"POST"}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remove member"})}),updateOrganization:e.mutation({query:({org_id:n,name:s})=>({url:`/org/${n}/update`,method:"PATCH",body:{name:s}}),invalidatesTags:(n,s,{org_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update organization"})}),renameJobTitle:e.mutation({query:({job_id:n,title:s})=>({url:`/jobs/v0/${n}/title`,method:"POST",body:{title:s}}),invalidatesTags:(n,s,{job_id:r})=>[{type:"Workspace",id:`org-details-${r}`},"GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to rename Job Title"})}),transcribeAudio:e.mutation({query:({audio_file:n,language_code:s="en"})=>{const r=new FormData;return r.append("audio_file",n,n.name||"recording.mp3"),r.append("language_code",s),{url:"/transcription/transcribe",method:"POST",body:r,formData:!0}}}),enableAutoHITL:e.mutation({query:n=>({url:`/jobs/v0/auto-hitl/${n}`,method:"POST"}),invalidatesTags:["GitHubUserDetails"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to enable auto-HITL"})}),remixShowcase:e.mutation({query:({job_id:n,title:s,preview_url:r,summary:i})=>({url:`/jobs/v0/${n}/remix-showcase`,method:"POST",body:{title:s,preview_url:r,summary:i}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to remix showcase"})}),notifyCoupon:e.mutation({query:()=>({url:"/coupons/notify",method:"POST"})}),verifyCoupon:e.mutation({query:n=>({url:"/coupons/verify",method:"POST",body:n}),transformErrorResponse:n=>({valid:!1,message:n.data?.detail||n.data?.error||"Failed to verify coupon"})}),getCaddyMigrationApps:e.query({query:()=>"/user/apps"}),getDeploymentTiers:e.query({query:()=>"/jobs/v0/deploy/tiers",transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch deployment tiers"})}),transferTreeToProject:e.mutation({query:({jobId:n,organizationId:s})=>({url:`/jobs/v0/${n}/transfer-tree-to-project/`,method:"POST",body:{organization_id:s}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to move task to project"})}),transferTreeToUser:e.mutation({query:({jobId:n,userId:s})=>({url:`/jobs/v0/${n}/transfer-tree-to-user/`,method:"POST",body:{user_id:s}}),invalidatesTags:["Jobs"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to move task to personal workspace"})})})}),{useGetGitHubUserDetailsQuery:Ri,useGetGitHubInstallationsQuery:ID,useGetGitHubRepositoriesQuery:QX,useGetGitHubBranchesQuery:eQ,useCreateGitHubRepositoryMutation:tQ,usePushToGitHubMutation:nQ,useSaveGitHubInstallationMutation:AD,useLazyGetJobPreviewUrlQuery:sQ,useLazyGetCodeDownloadUrlQuery:rQ,useGetCreditsBalanceQuery:pp,useLazyCheckProModePaymentQuery:iQ,useGetSubscriptionPlansQuery:tm,useCheckSubscriptionStatusQuery:aQ,useGetBudgetQuery:oQ,useUpdateBudgetMutation:lQ,useGetJobsQuery:cQ,useLazyGetJobsQuery:DD,useGetJobQuery:dQ,useLazyGetJobQuery:Gm,useGetConfigQuery:uQ,useSubmitHITLMutation:MD,useUploadFileStreamMutation:pQ,useDeployExpoAppMutation:fQ,useCheckDeployStatusQuery:LD,useLazyCheckDeployStatusQuery:mQ,useDeployAppMutation:hQ,useRollbackDeploymentMutation:xQ,useShutdownDeploymentMutation:gQ,useGetDeploymentHistoryQuery:bQ,useRegisterDomainMutation:RD,useVerifyDomainMutation:PD,useConnectDomainMutation:OD,useUnlinkDomainMutation:BD,useLazyGetDeploymentLogsQuery:yQ,useLazyGetLiveLogsQuery:vQ,useGetEnvironmentVariablesQuery:wQ,useUpdateEnvironmentVariablesMutation:CQ,useGetDeploymentsQuery:UD,useRestartEnvironmentMutation:_Q,useCreateWorkspaceMutation:VD,useAcceptInvitationMutation:Zg,useGetOrganizationDetailsQuery:HD,useChangeUserRoleMutation:zFe,useInviteMembersMutation:WFe,useLeaveOrganizationMutation:GFe,useRejectInvitationMutation:Jg,useCancelInvitationMutation:qFe,useDeactivateMemberMutation:KFe,useUpdateOrganizationMutation:YFe,useRenameJobTitleMutation:$D,useArchiveJobMutation:zD,useTranscribeAudioMutation:WD,useEnableAutoHITLMutation:jQ,useRemixShowcaseMutation:NQ,useNotifyCouponMutation:FQ,useVerifyCouponMutation:GD,useGetCaddyMigrationAppsQuery:EQ,useGetDeploymentTiersQuery:qD,useTransferTreeToProjectMutation:SQ,useTransferTreeToUserMutation:kQ}=up,TQ=$m({baseUrl:wa.apiBaseUrl,prepareHeaders:async e=>{const n=await Xr.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),Bx=Yg({reducerPath:"universalKeyApi",baseQuery:TQ,tagTypes:["EmergentKey","UserBudget"],endpoints:e=>({getEmergentKey:e.query({query:n=>{const s=new URLSearchParams;return n&&"organization_id"in n&&n.organization_id&&s.append("organization_id",n.organization_id),`/llm-router/v0/emergent-key${s.toString()?`?${s.toString()}`:""}`},providesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch emergent key"})}),updateEmergentKeyConfig:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/emergent-key/config${i.toString()?`?${i.toString()}`:""}`,method:"PATCH",body:r}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to update emergent key config"})}),toggleEmergentKey:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/emergent-key/toggle${i.toString()?`?${i.toString()}`:""}`,method:"POST",body:r}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to toggle emergent key"})}),regenerateEmergentKey:e.mutation({query:n=>{const s=n||{},{organization_id:r,...i}=s,a=new URLSearchParams;return r&&a.append("organization_id",r),{url:`/llm-router/v0/emergent-key/regenerate${a.toString()?`?${a.toString()}`:""}`,method:"POST",body:i}},invalidatesTags:["EmergentKey"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to regenerate emergent key"})}),getUserBudget:e.query({query:n=>{const s=new URLSearchParams;return n&&"organization_id"in n&&n.organization_id&&s.append("organization_id",n.organization_id),`/llm-router/v0/budget${s.toString()?`?${s.toString()}`:""}`},providesTags:["UserBudget"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to fetch user budget"})}),increaseBudget:e.mutation({query:n=>{const{organization_id:s,...r}=n,i=new URLSearchParams;return s&&i.append("organization_id",s),{url:`/llm-router/v0/budget/increase${i.toString()?`?${i.toString()}`:""}`,method:"POST",body:r}},invalidatesTags:["UserBudget"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||"Failed to increase budget"})})})}),{useGetEmergentKeyQuery:ZFe,useLazyGetEmergentKeyQuery:JFe,useUpdateEmergentKeyConfigMutation:XFe,useToggleEmergentKeyMutation:QFe,useRegenerateEmergentKeyMutation:eEe,useGetUserBudgetQuery:tEe,useLazyGetUserBudgetQuery:nEe,useIncreaseBudgetMutation:sEe}=Bx,IQ=$m({baseUrl:wa.apiBaseUrl,prepareHeaders:async e=>{const n=await Xr.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),Ux=Yg({reducerPath:"promodeApi",baseQuery:IQ,tagTypes:["ProModePrompts","AgentTools","MCP"],endpoints:e=>({getBasePrompts:e.query({query:n=>{let s="/prompts/base?include_prompt=true";return n?.organization_id&&(s+=`&organization_id=${n.organization_id}`),s},providesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch base prompts"})}),getAgentTools:e.query({query:n=>{if(typeof n=="string")return`/prompts/agents/${encodeURIComponent(n)}/tools`;let s=`/prompts/agents/${encodeURIComponent(n.agentName)}/tools`;return n.organization_id&&(s+=`?organization_id=${n.organization_id}`),s},providesTags:["AgentTools"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch agent tools"})}),getUserPrompts:e.query({query:n=>{const{limit:s=50,offset:r=0,is_main_agent:i,organization_id:a}=n||{};let o=`/prompts/user?limit=${s}&offset=${r}`;return i!==void 0&&(o+=`&is_main_agent=${i}`),a&&(o+=`&organization_id=${a}`),o},providesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch user prompts"})}),createUserPrompt:e.mutation({query:n=>({url:"/prompts/user",method:"POST",body:n}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to create user prompt"})}),updateUserPrompt:e.mutation({query:({id:n,data:s})=>({url:`/prompts/user/${n}`,method:"PUT",body:s}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to update user prompt"})}),getUserPrompt:e.query({query:n=>`/prompts/user/${n}`,providesTags:(n,s,r)=>[{type:"ProModePrompts",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to fetch user prompt"})}),deleteUserPrompt:e.mutation({query:n=>({url:`/prompts/user/${n}`,method:"DELETE"}),invalidatesTags:["ProModePrompts"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.message||n.data?.detail||"Failed to delete user prompt"})}),createMCP:e.mutation({query:n=>({url:"/mcp/",method:"POST",body:n}),invalidatesTags:["MCP"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to create MCP server"})}),getMCPs:e.query({query:n=>{const{limit:s=50,offset:r=0,organization_id:i}=n||{};let a=`/mcp/?limit=${s}&offset=${r}`;return i&&(a+=`&organization_id=${encodeURIComponent(i)}`),a},providesTags:(n,s,r)=>[{type:"MCP",id:r?.organization_id||"ALL"}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch MCP servers"})}),getMCPById:e.query({query:n=>`/mcp/${n}`,providesTags:(n,s,r)=>[{type:"MCP",id:r}],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to fetch MCP server"})}),updateMCP:e.mutation({query:({id:n,...s})=>({url:`/mcp/${n}`,method:"PUT",body:s}),invalidatesTags:(n,s,{id:r})=>[{type:"MCP",id:r},"MCP"],transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to update MCP server"})}),deleteMCP:e.mutation({query:({id:n,organization_id:s})=>{let r=`/mcp/${n}`;return s&&(r+=`?organization_id=${encodeURIComponent(s)}`),{url:r,method:"DELETE"}},invalidatesTags:(n,s,{organization_id:r})=>[{type:"MCP",id:r||"ALL"},"MCP"],transformResponse:n=>({message:n?.message||"MCP server deleted successfully"}),transformErrorResponse:n=>({error:n.data?.detail||n.data?.error||"Failed to delete MCP server"})})})}),{useLazyGetBasePromptsQuery:KD,useLazyGetAgentToolsQuery:YD,useGetUserPromptsQuery:AQ,useLazyGetUserPromptsQuery:DQ,useGetUserPromptQuery:ZD,useCreateUserPromptMutation:JD,useUpdateUserPromptMutation:XD,useCreateMCPMutation:rEe,useGetMCPsQuery:Xg,useLazyGetMCPsQuery:iEe,useUpdateMCPMutation:MQ,useDeleteMCPMutation:LQ}=Ux,RQ=$m({baseUrl:wa.apiBaseUrl,prepareHeaders:async e=>{const n=await Xr.auth.getSession();return n.data.session?.access_token&&e.set("Authorization",`Bearer ${n.data.session.access_token}`),e.set("Content-Type","application/json"),e}}),Vx=Yg({reducerPath:"pricing",baseQuery:RQ,refetchOnFocus:!0,refetchOnReconnect:!0,endpoints:e=>({getUserCohort:e.query({query:()=>({url:"/user/cohort",method:"POST"}),keepUnusedDataFor:30,transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to fetch user cohort"})}),getUserForm:e.query({query:(n="cancellation")=>`/user/forms?form_type=${n}`,transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to fetch user form"})}),submitCancellationForm:e.mutation({query:n=>({url:"/user/forms",method:"POST",body:{form_name:"subscription_cancellation_form",selected_reason:n.selectedReason,additional_info:n.additionalInfo}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to submit cancellation form"})}),submitOnboardingForm:e.mutation({query:n=>({url:"/user/forms",method:"POST",body:{form_name:"first_subscription_form",answers:n.answers,source:n.source}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to submit onboarding survey"})}),claimOffer:e.mutation({query:n=>({url:"/user/claim_offers",method:"POST",body:{offer_name:n}}),transformResponse:n=>n,transformErrorResponse:n=>({error:n.data?.detail||"Failed to claim offer"})})})}),{useGetUserCohortQuery:qm,useGetUserFormQuery:a9,useSubmitCancellationFormMutation:QD,useSubmitOnboardingFormMutation:PQ,useClaimOfferMutation:eM}=Vx,OQ={isOpen:!1,showUniversalKeyTooltip:!1,showModelSelectorTooltip:!1,showAgentDropdown:!1,highlightBroMode:!1},tM=sa({name:"menu",initialState:OQ,reducers:{openMenu:e=>{e.isOpen=!0},closeMenu:e=>{e.isOpen=!1},toggleMenu:e=>{e.isOpen=!e.isOpen},setShowUniversalKeyTooltip:(e,n)=>{e.showUniversalKeyTooltip=n.payload},setShowModelSelectorTooltip:(e,n)=>{e.showModelSelectorTooltip=n.payload},setShowAgentDropdown:(e,n)=>{e.showAgentDropdown=n.payload},setHighlightBroMode:(e,n)=>{e.highlightBroMode=n.payload}}}),{openMenu:aEe,closeMenu:b_,toggleMenu:oEe,setShowUniversalKeyTooltip:y_,setShowModelSelectorTooltip:Ka,setShowAgentDropdown:Hx,setHighlightBroMode:Nf}=tM.actions,BQ=tM.reducer,UQ={isAdminMode:!1},nM=sa({name:"admin",initialState:UQ,reducers:{enableAdminMode:e=>{e.isAdminMode=!0},disableAdminMode:e=>{e.isAdminMode=!1},toggleAdminMode:e=>{e.isAdminMode=!e.isAdminMode}}}),{enableAdminMode:lEe,disableAdminMode:cEe,toggleAdminMode:VQ}=nM.actions,HQ=nM.reducer,$Q={autoEnableServerId:null},sM=sa({name:"mcp",initialState:$Q,reducers:{setAutoEnableServerId:(e,n)=>{e.autoEnableServerId=n.payload},clearAutoEnableServerId:e=>{e.autoEnableServerId=null}}}),{setAutoEnableServerId:dEe,clearAutoEnableServerId:uEe}=sM.actions,zQ=sM.reducer,WQ={key:"tabs",storage:sq},GQ={key:"admin",storage:eq},qQ=OT({progress:iq,container:pq,commandQueue:mq,tabs:Hw(WQ,Mq),deploy:vX,github:PX,[up.reducerPath]:up.reducer,[Bx.reducerPath]:Bx.reducer,[Ux.reducerPath]:Ux.reducer,[Vx.reducerPath]:Vx.reducer,menu:BQ,admin:Hw(GQ,HQ),mcp:zQ}),Ai=B$({reducer:qQ,middleware:e=>e({serializableCheck:{ignoredActions:[U$,V$,H$,$$,z$,W$]}}).concat(up.middleware,Bx.middleware,Ux.middleware,Vx.middleware)}),KQ=G$(Ai);DG(Ai.dispatch);var e0={},v_;function YQ(){if(v_)return e0;v_=1;function e(a,o,l,c){return new(l||(l=Promise))((function(u,p){function f(x){try{h(c.next(x))}catch(y){p(y)}}function m(x){try{h(c.throw(x))}catch(y){p(y)}}function h(x){var y;x.done?u(x.value):(y=x.value,y instanceof l?y:new l((function(v){v(y)}))).then(f,m)}h((c=c.apply(a,[])).next())}))}Object.defineProperty(e0,"__esModule",{value:!0});const n=()=>typeof window<"u",s=(a,...o)=>e(void 0,void 0,void 0,(function*(){if(n()&&window.blitz)return yield window.blitz(a,...o);throw Error("Blitz is not available, make sure init function has been called.")})),r=a=>{if(!(((o,l)=>{try{const c=document.getElementById(l)||document.createElement("script");return c.id=l,c.innerText=o,c.crossOrigin="anonymous",document.head.appendChild(c),!0}catch{return!1}})(`var exports = { __esModule: true };window._blitzQueue = window._blitzQueue || [];function blitz() {_blitzQueue.push(arguments);}(function () {var a = document.createElement('script');a.type = 'text/javascript';a.async = !0;a.src = 'https://cdn.blitzllama.com/js/blitz.js';var b = document.getElementsByTagName('script')[0];b.parentNode.insertBefore(a, b);})();blitz('init', "${a}");`,"blitz-script")&&n()&&window.blitz))throw Error("Failed to initialize Blitz")},i={init:a=>{try{return r(a),!0}catch{return!1}},createUser:a=>{try{return s("createUser",a),!0}catch{return!1}},setUserName:a=>{try{return s("setUserName",a),!0}catch{return!1}},setUserEmail:a=>{try{return s("setUserEmail",a),!0}catch{return!1}},setUserAttribute:(a,o,l)=>{try{return s("setUserAttribute",a,o,l),!0}catch{return!1}},setUserProperties:a=>{try{return s("setUserProperties",a),!0}catch{return!1}},setSurveyLanguage:a=>{try{return s("setSurveyLanguage",a),!0}catch{return!1}},setSurveyTheme:a=>{try{return s("setSurveyTheme",a),!0}catch{return!1}},triggerEvent:(a,o)=>{try{return s("triggerEvent",a,o||""),!0}catch{return!1}},subscribeEvent:(a,o)=>{try{return s("subscribeEvent",a,o),!0}catch{return!1}},logout:()=>{try{return s("logout"),!0}catch{return!1}}};return e0.default=i,e0}var ZQ=YQ();const rM=Ji(ZQ);rM.init(wa.blitzApiKey);const vl=rM,JQ=()=>{},x3=new Set,pu=e=>{if(e){const n=e.user_metadata||{};vl.createUser(e.id),vl.setUserEmail(e.email||""),rn.identify(e.id,{name:n.name||e.email||"Unknown User",email:e.email||"unknown@example.com",isNewUser:!!n.is_new_user,signUpDate:e.created_at||"",lastSignIn:e.last_sign_in_at||"",authProvider:n.provider||"email",hasGithubConnected:!!n.github_connected,userRole:n.role||"user",referrer:document.referrer||localStorage.getItem("user_referrer")||"direct",utmSource:localStorage.getItem("utm_source")||"",utmMedium:localStorage.getItem("utm_medium")||"",utmCampaign:localStorage.getItem("utm_campaign")||"",appVersion:"1.0.303"});try{const s=rn.getFeatureFlagPayload("promo_modal_queue");if(s&&typeof s=="object"){const r=s;if(r.modal_queue&&Array.isArray(r.modal_queue)){const i={};r.modal_queue.forEach(a=>{const o=`has_seen_${a}`;i[o]=!1}),rn.capture("$set_once_init",{$set_once:i})}}}catch{}x3.has(e.id)||(x3.add(e.id),z("user_identified",{userId:e.id,isNewUser:!!n.is_new_user,authProvider:n.provider||"email",appVersion:"1.0.303"}))}else x3.clear(),z("user_session_ended")},iM=()=>{try{const e=rn.get_property("$device_id");return typeof e=="string"?e:void 0}catch{return}},Fd=(e,n={})=>{const s=Ai.getState(),r=s.tabs.activeTab,i=s.tabs.tabStates[r]||{},a={userId:n.userId,jobId:i.jobId||n.jobId,containerId:i.containerId||n.containerId,tabId:r,...n,errorMessage:e instanceof Error?e.message:e,errorStack:e instanceof Error?e.stack:void 0,appVersion:"1.0.303"};rn.capture("error",a)},z=(e,n={})=>{const s=Ai.getState(),r=s.tabs.activeTab,i=s.tabs.tabStates[r]||{},a=new URLSearchParams(window.location.search),o={jobId:i.jobId||"",containerId:i.containerId||"",tabId:r||"",tabCount:Object.keys(s.tabs.tabStates||{}).length,currentPath:window.location.pathname,referrer:document.referrer,timestamp:new Date().toISOString(),appVersion:"1.0.303"};a.forEach((l,c)=>{o[`url_param_${c}`]=l}),Object.entries(n).forEach(([l,c])=>{c!==void 0&&(typeof c=="object"&&c!==null?o[l]=JSON.stringify(c):typeof c=="string"||typeof c=="number"||typeof c=="boolean"?o[l]=c:c===null&&(o[l]=null))}),rn.capture(e,o)},XQ=(e,n,s)=>{const r={tier:e,subscription_tier:e};n&&(r.personal_tier=n),s&&(r.org_tier=s),rn.setPersonProperties(r)},ea=(e,n={})=>{z(`auth_${e}`,{...n,timestamp:new Date().toISOString()})},w_=(e,n={})=>{z(`chat_${e}`,{...n,timestamp:new Date().toISOString()})},w1=(e,n={})=>{z(`tab_${e}`,{...n,timestamp:new Date().toISOString()})},ts=(e,n={})=>{z(`feature_${e}`,{...n,timestamp:new Date().toISOString()})},t0=(e,n={})=>{z(`task_${e}`,{...n,timestamp:new Date().toISOString()})},g3=(e,n={})=>{z(`onboarding_${e}`,{...n,timestamp:new Date().toISOString()})},QQ=async()=>{try{return rn.getFeatureFlag("config_version")?.toString()?.replace(/_/g,".")}catch{try{return await TD()}catch{return}}},aM=e=>{try{const n=rn.getFeatureFlag("feature_referral");return n===!0||n==="true"||e}catch{return!1}},$x=e=>!0,V6=()=>{try{const e=rn.getFeatureFlag("disable_inputs");return(e===!0||e==="true")&&localStorage.getItem("mobile")==="true"}catch{return!1}},eee=()=>{try{const e=rn.getFeatureFlag("mobile_preview_enabled");return e===!0||e==="true"}catch{return!1}},Qg=()=>{try{const e=rn.getFeatureFlag("github_fork_paywall");return e===!0||e==="true"}catch{return!1}},oM=e=>{try{const n=rn.getFeatureFlag("feature_custom_agents");return n===!0||n==="true"||e}catch{return!1}},Ju=()=>{try{const e=rn.getFeatureFlag("price_crossed_out_v2");return e===!0||e==="true"}catch{return!1}},Km=()=>{try{const e=rn.getFeatureFlag("public_private_feature");return e===!0||e==="true"}catch{return!1}},tee=()=>{try{const e=rn.getFeatureFlag("guided_discovery");return e===!0||e==="true"}catch{return!1}},nee=()=>{try{const e=rn.getFeatureFlag("test_mode_enabled");return e===!0||e==="true"}catch{return!1}},lM=()=>{try{const e=rn.getFeatureFlag("enterprise_plan_enabled");return e===!0||e==="true"}catch{return!1}},C_=()=>{try{const e=rn.getFeatureFlag("buy_domain_feature");return e===!0||e==="true"}catch{return!1}},__={previewMaxWidth:60,mainContentMinWidth:45,previewDefaultWidth:50},see=30,ree=90,iee=()=>{try{const e=rn.getFeatureFlagPayload("preview_width");return e&&typeof e.width=="number"&&e.width>=see&&e.width<=ree?{previewMaxWidth:e.width,mainContentMinWidth:100-e.width,previewDefaultWidth:e.width}:__}catch(e){return Fn("get_preview_width_feature_flag_error",e,{featureFlag:"preview_width"}),__}},aee=()=>{try{const n=rn.getFeatureFlagPayload("info_banner")?.info_banner;return n&&n.show&&n.content?{show:n.show,level:n.level||"warning",content:n.content,dismissible:n.dismissible!==void 0?n.dismissible:!0}:null}catch(e){return Fn("get_info_banner_feature_flag_error",e,{featureFlag:"info_banner"}),null}},e2=()=>{try{const e=rn.getFeatureFlagPayload("mobile_app_qr_promo");return e?{show:e?.show,qrTopnavUrl:e?.qrTopnavUrl,qrHeaderUrl:e?.qrHeaderUrl,title:e?.title||"Get Emergent app",description:e?.description||"Build on the go with the Emergent app",headerTitle:e?.headerTitle||"Emergent mobile app is here",headerDescription:e?.headerDescription||"Build on the go ",headerButtonText:e?.headerButtonText||"Download App",bannerText:e?.bannerText||"Build on the go using the Emergent app",bannerButtonText:e?.bannerButtonText||"Download"}:null}catch(e){return Fn("get_mobile_app_qr_promo_feature_flag_error",e,{featureFlag:"mobile_app_qr_promo"}),null}},pEe=(e,n={})=>{z(`referral_${e}`,{...n,timestamp:new Date().toISOString()})},j_=(e,n={})=>{z(`chat_${e}`,{...n,timestamp:new Date().toISOString()})},fEe=(e,n={})=>{z(`landing_${e}`,{...n,timestamp:new Date().toISOString(),page:"landing_page",url:window.location.href,referrer:document.referrer})},b3=(e,n={})=>{z(`test_mode_${e}`,{...n,timestamp:new Date().toISOString()})},Lo=(e,n={})=>{z(`voice_recording_${e}`,{...n,timestamp:new Date().toISOString()})},mEe=()=>{try{return rn.getFeatureFlag("landing_subject_line")?.toString()||"variant-a"}catch{return"variant-a"}},hEe=()=>{try{const e=rn.getFeatureFlag("is_indian_user");return e===!0||e==="true"}catch{return!1}},oee=()=>{try{const e=rn.getFeatureFlag("collect_beta_users");return e===!0||e==="true"}catch{return!1}},lee=e=>{try{rn.setPersonPropertiesForFlags({is_beta_user:!0,beta_accepted_at:new Date().toISOString()}),rn.people?.set({is_beta_user:!0,beta_accepted_at:new Date().toISOString()})}catch{}},cee=(e,n={})=>{z(`beta_program_${e}`,{...n,timestamp:new Date().toISOString()})},dee=()=>{try{const e=rn.getFeatureFlag("one_million_active");return e===!0||e==="true"}catch{return!0}},uee=()=>{try{const e=rn.getFeatureFlag("opus_modal");return e===!0||e==="true"}catch{return!1}},o9=()=>{try{const e=rn.getFeatureFlag("tips_and_tricks_panel");return e===!0||e==="true"}catch{return!1}},pee=()=>{try{const e=rn.getFeatureFlag("free_credits_modal");return e===!0||e==="true"}catch{return!1}},pd=()=>{try{if(!rn.getFeatureFlag("promotional_modals"))return!1;const n=rn.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_model_75")}catch{return!1}},nm=()=>{try{if(!rn.getFeatureFlag("promotional_modals"))return!1;const n=rn.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_pb_modal")}catch{return!1}},zx=()=>{try{if(!rn.getFeatureFlag("promotional_modals"))return!1;const n=rn.getFeatureFlagPayload("promotional_modals");return!n||!n.modals?!1:n.modals.some(s=>s.type==="ui_driven_modal_75_in")}catch{return!1}},cM=e=>{try{const n=`has_seen_${e}`;rn.setPersonPropertiesForFlags({[n]:!0}),rn.people?.set({[n]:!0})}catch{}},xEe=()=>{cM("opus")},fee=()=>{try{const e=rn.getFeatureFlag("onboarding_survey_modal");return e===!0||e==="true"}catch{return!1}},mee=e=>{try{const n=rn.getFeatureFlagPayload("affiliate_tracking_scripts");return n&&n[e.toLowerCase()]||null}catch{return null}},W0=()=>{try{return rn.isFeatureEnabled("quick_topup")===!0}catch(e){return Fn("get_quick_topup_feature_flag_error",e,{featureFlag:"quick_topup"}),!1}},N_=()=>{try{return rn.isFeatureEnabled("quick_upgrade")===!0}catch(e){return Fn(Is.FEATURE_FLAG.QUICK_UPGRADE,e,{featureFlag:"quick_upgrade"}),!1}},hee=()=>{try{return rn.isFeatureEnabled("summarize_label")===!0}catch(e){return Fn("get_summarize_label_feature_flag_error",e,{featureFlag:"summarize_label"}),!1}},dM=()=>{try{return rn.isFeatureEnabled("tips_trigger_change")===!0}catch{return!1}},xee=()=>{try{const e=rn.getFeatureFlag("snowfall_enabled");return e===!0||e==="true"}catch{return!1}},F_=()=>{try{const e=rn.getFeatureFlag("default_language");return e===!0||e==="true"}catch{return!1}},G0=e=>{try{rn.startSessionRecording(!0),setTimeout(()=>z("deployment_recording_started",e),500)}catch{}},E_=e=>{try{z("deployment_recording_stopped",e),rn.stopSessionRecording()}catch{}},gee=()=>{try{const e=rn.getFeatureFlag("notification_center");return e===!0||e==="true"}catch{return!1}},bee=()=>{try{return rn.getFeatureFlagPayload("notification_center")}catch{return null}},t2=e=>{try{rn.onFeatureFlags(e)}catch{}},yee=()=>{try{return!!rn.getFeatureFlag("free_standard_plan_enabled")}catch{return!1}},vee=()=>{try{const e=rn.getFeatureFlag("replace_deployment_v2");return e===!0||e==="true"}catch{return!1}},wee=()=>{try{return rn.isFeatureEnabled("visual_edit_changes")===!0}catch{return!1}},uM=()=>{try{return rn.getFeatureFlag("onboarding_modal_for_teams")===!0}catch{return!1}},Cee=()=>{try{return rn.getFeatureFlag("onboarding_modal_for_teams")}catch{return}},_ee=()=>{try{const e=rn.getFeatureFlag("moltbot_mascot");return e===!0||e==="true"}catch{return!1}};var y3={exports:{}},S_;function jee(){return S_||(S_=1,(function(e,n){(function(s,r){e.exports=r()})(window,(function(){return(function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var c in a)i.d(l,c,function(u){return a[u]}.bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)})([function(s,r,i){s.exports=i(1)},function(s,r,i){function a(m){return(function(h){if(Array.isArray(h)){for(var x=0,y=new Array(h.length);x<h.length;x++)y[x]=h[x];return y}})(m)||(function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)})(m)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}i.r(r);var o=!!window.fbq,l=!1,c=function(){var m;if(l){for(var h=arguments.length,x=new Array(h),y=0;y<h;y++)x[y]=arguments[y];(m=console).info.apply(m,a(["[react-facebook-pixel]"].concat(x)))}},u=function(){var m;if(l){for(var h=arguments.length,x=new Array(h),y=0;y<h;y++)x[y]=arguments[y];(m=console).info.apply(m,a(["[react-facebook-pixel]"].concat(x)))}},p=function(){return o||c("Pixel not initialized before using call ReactPixel.init with required params"),o},f={autoConfig:!0,debug:!1};r.default={init:function(m){var h,x,y,v,g,b,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f;h=window,x=document,y="script",h.fbq||(v=h.fbq=function(){v.callMethod?v.callMethod.apply(v,arguments):v.queue.push(arguments)},h._fbq||(h._fbq=v),v.push=v,v.loaded=!0,v.version="2.0",v.queue=[],(g=x.createElement(y)).async=!0,g.src="https://connect.facebook.net/en_US/fbevents.js",(b=x.getElementsByTagName(y)[0]).parentNode.insertBefore(g,b)),m?(N.autoConfig===!1&&fbq("set","autoConfig",!1,m),fbq("init",m,w),o=!0,l=N.debug):c("Please insert pixel id for initializing")},pageView:function(){p()&&(fbq("track","PageView"),l&&u("called fbq('track', 'PageView');"))},track:function(m,h){p()&&(fbq("track",m,h),l&&(u("called fbq('track', '".concat(m,"');")),h&&u("with data",h)))},trackSingle:function(m,h,x){p()&&(fbq("trackSingle",m,h,x),l&&(u("called fbq('trackSingle', '".concat(m,"', '").concat(h,"');")),x&&u("with data",x)))},trackCustom:function(m,h){p()&&(fbq("trackCustom",m,h),l&&(u("called fbq('trackCustom', '".concat(m,"');")),h&&u("with data",h)))},trackSingleCustom:function(m,h,x){p()&&(fbq("trackSingle",m,h,x),l&&(u("called fbq('trackSingleCustom', '".concat(m,"', '").concat(h,"');")),x&&u("with data",x)))},grantConsent:function(){p()&&(fbq("consent","grant"),l&&u("called fbq('consent', 'grant');"))},revokeConsent:function(){p()&&(fbq("consent","revoke"),l&&u("called fbq('consent', 'revoke');"))},fbq:(function(m){function h(){return m.apply(this,arguments)}return h.toString=function(){return m.toString()},h})((function(){if(p()){for(var m=arguments.length,h=new Array(m),x=0;x<m;x++)h[x]=arguments[x];fbq.apply(void 0,h),l&&(u("called fbq('".concat(h.slice(0,2).join("', '"),"')")),h[2]&&u("with data",h[2]))}}))}}])}))})(y3)),y3.exports}var Nee=jee();const Fee=Ji(Nee);function Ym(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function pM(e,n){const s=n?`_${n}`:"";return`meta_pixel_event_${e}${s}`}function n2(e,n){const s=pM(e,n),r=sessionStorage.getItem(s);if(!r)return!1;try{const i=JSON.parse(r),a=Date.now()-i.timestamp,o=1440*60*1e3;return a>o?(sessionStorage.removeItem(s),!1):i.tracked===!0}catch{return!1}}function s2(e,n,s){const r=pM(e,s);sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),tracked:!0}))}function Ec(){return typeof window<"u"&&typeof window.fbq=="function"}function n0(e,n,s,r,i,a){if(Ec())try{const o={};if(e){const l=e.toLowerCase().trim();l&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)&&(o.em=l)}if(n&&(o.external_id=n),s){const l=s.toLowerCase().trim();l&&(o.fn=l)}if(r){const l=r.toLowerCase().trim();l&&(o.ln=l)}Object.keys(o).length>0&&Fee.init(oz.pixelId,o,{autoConfig:!0,debug:!1}),typeof window<"u"&&window.fbq}catch{}}function v3(e,n,s,r){const i=r||Ym();if(n2("CompleteRegistration",e)||!Ec())return i;try{typeof window<"u"&&window.fbq&&window.fbq("track","CompleteRegistration",{content_name:s||"email",status:"completed"},{eventID:i}),s2("CompleteRegistration",i,e)}catch{}return i}function l9(e,n){const s=Ym();if(!Ec())return s;try{let r="upgrade_required";e==="pricing"?r="subscription_plans":e==="credits_topup"&&(r="credit_bundles");const i={content_type:e,content_name:r};typeof window<"u"&&window.fbq&&window.fbq("track","ViewContent",i,{eventID:s})}catch{}return s}function oc(e,n,s,r){const i=Ym();if(!Ec())return i;try{const a={content_type:e,value:n,currency:s.toUpperCase()};r&&(a.predicted_ltv=r),typeof window<"u"&&window.fbq&&window.fbq("track","InitiateCheckout",a,{eventID:i})}catch{}return i}function Ed(e,n,s){const r=Ym();if(!Ec())return r;try{const i={content_type:"topup",value:e,currency:n.toUpperCase()};s&&(i.num_items=s,i.content_name=`${s}_credits`),typeof window<"u"&&window.fbq&&window.fbq("track","InitiateCheckout",i,{eventID:r})}catch{}return r}function Eee(e,n,s,r,i){const a=Ym(),o=n||e;if(n2("Lead",o)||!Ec())return a;try{const l={content_name:s===0?"first_job_created":"job_created",content_category:s===0?"first_job":"subsequent_job"};n&&(l.content_id=n),typeof s=="number"&&(l.num_items=s+1,l.previous_job_count=s),typeof window<"u"&&window.fbq&&window.fbq("track","Lead",l,{eventID:a}),s2("Lead",a,o)}catch{}return a}function Wx(e,n,s,r){if(!n2("Purchase",n)&&Ec())try{typeof window<"u"&&window.fbq&&window.fbq("track","Purchase",{content_type:"credits",value:s,currency:r.toUpperCase()},{eventID:e}),s2("Purchase",e,n)}catch{}}function Gx(e,n,s,r,i){if(!n2("Subscribe",n)&&Ec())try{const a={value:s,currency:r.toUpperCase()};typeof window<"u"&&window.fbq&&window.fbq("track","Subscribe",a,{eventID:e}),s2("Subscribe",e,n)}catch{}}function ia(e,n,s){const r=`meta_checkout_${e}_pending`;sessionStorage.setItem(r,JSON.stringify({eventId:n,timestamp:Date.now(),checkoutType:e}))}function id(e,n){const s=n?`meta_checkout_${e}_${n}`:`meta_checkout_${e}_pending`,r=sessionStorage.getItem(s);if(!r)return null;try{return JSON.parse(r).eventId||null}catch{return null}}function s0(e,n){const s=n?`meta_checkout_${e}_${n}`:`meta_checkout_${e}_pending`;sessionStorage.removeItem(s)}const Qi=()=>typeof window<"u"?localStorage.getItem("mobile")==="true":!1,c9=()=>{const e=Qi(),n=(r,i)=>{if(!e||!window?.ReactNativeWebView)return!1;try{return window.ReactNativeWebView.postMessage(JSON.stringify({type:r,...i})),!0}catch{return!1}},s=e&&!!window?.ReactNativeWebView;return{sendMessage:n,canSendMessage:s,isMobileApp:e}},ei=(e,n)=>{if(!window?.ReactNativeWebView)return!1;try{return window.ReactNativeWebView.postMessage(JSON.stringify({type:e,...n})),!0}catch{return!1}},sf={ASK_HUMAN:"event-ask-human",FINISH_TOOL:"event-finish-tool",DEPLOYMENT_INITIATED:"event-deployment-initiated",BULK_WRITE:"event-bulk-write",USER_LOGIN:"user-login"};function rf(e,n){try{if(!n?.user_id)return;vl.triggerEvent(e,n)}catch{}}function See(e){try{if(!e)return;vl.createUser(e)}catch{}}const fM=d.createContext({user:null,session:null,userDetails:null,loading:!0,refreshSession:async()=>({success:!1}),signOut:async()=>{},signInWithEmail:async()=>({success:!1}),signUpWithEmail:async()=>({success:!1}),signInWithOAuth:async()=>({success:!1}),resetPassword:async()=>({success:!1}),updatePassword:async()=>({success:!1}),resendVerificationEmail:async()=>({success:!1}),verifyInviteCode:async()=>({success:!1})});function kee({children:e}){const[n,s]=d.useState(null),[r,i]=d.useState(null),[a,o]=d.useState(!0),{toast:l}=ds(),c=Na(),{data:u}=Ri(void 0,{skip:!n});d.useEffect(()=>{if(n){const j=n.user_metadata||{};e3(n.id,{email:n.email??void 0,name:j.name})}else e3(null)},[n]),d.useEffect(()=>{const j=async()=>{try{const{data:{session:C}}=await Xr.auth.getSession();C?(i(C),s(C.user),pu(C.user),C.user.email&&Cd("emergent-user-email",C.user.email,30)):pu(null)}catch(C){Fd(C instanceof Error?C:String(C),{context:"auth_initialization"}),l({title:"Error",description:"Failed to initialize authentication.",variant:"destructive"})}finally{o(!1)}},{data:{subscription:_}}=Xr.auth.onAuthStateChange(async(C,F)=>{switch(C){case"SIGNED_OUT":i(null),s(null),pu(null),$0("emergent-user-email");break;default:if(F){if(C==="SIGNED_IN"){const E=F.user.app_metadata?.sso_migrated,S=F.access_token.split(".")[1],I=(JSON.parse(atob(S)).amr||[])[0]?.method;if(E&&I&&I!=="sso/saml"){await Xr.auth.signOut(),c(`/login?showError=${encodeURIComponent("This account uses SSO. Please login with SSO.")}`);return}}if(i(F),s(F.user),pu(F.user),F.user.email&&Cd("emergent-user-email",F.user.email,30),C==="SIGNED_IN"&&F.user){p(F.user),rf(sf.USER_LOGIN,{user_id:F.user.id,user_email:F.user.email,user_id_ends:F.user.id?.slice(-1)});const E=sessionStorage.getItem("oauth_provider");if(sessionStorage.getItem("oauth_login_pending")==="true"&&E){const M=new Date(F.user.created_at);if(new Date().getTime()-M.getTime()<6e4){t3(E,F.user.id,F.user.email,{full_name:F.user.user_metadata?.name||F.user.user_metadata?.full_name,avatar_url:F.user.user_metadata?.avatar_url,provider:E});const P=jd();v3(F.user.id,F.user.email,E,P),i3(F.user.id,F.user.email,E,P),n0(F.user.email,F.user.id,F.user.user_metadata?.name?.split(" ")[0],F.user.user_metadata?.name?.split(" ")[1]),r3(F.user.email,F.user.id)}else eX(E,F.user.id,F.user.email),n0(F.user.email,F.user.id,F.user.user_metadata?.name?.split(" ")[0],F.user.user_metadata?.name?.split(" ")[1]),n3(F.user.email||"",F.user.id,F.user.user_metadata?.name||F.user.user_metadata?.full_name)}}}break}});return j(),()=>{_.unsubscribe()}},[l]);const p=async j=>{try{if(j.user_metadata?.utm_source)return;const _=localStorage.getItem("utm_source")||"",C=localStorage.getItem("utm_campaign")||"",F=localStorage.getItem("utm_medium")||"",E=localStorage.getItem("utm_content")||"",S=localStorage.getItem("utm_term")||"",M=localStorage.getItem("user_referrer")||"";if(_||C||F||E||S||M){const{error:k}=await Xr.auth.updateUser({data:{...j.user_metadata,utm_source:_,utm_campaign:C,utm_medium:F,utm_content:E,utm_term:S,user_referrer:M}})}}catch{}},f=async(j,_)=>{try{ea("login_attempt",{method:"email",email:j});const{data:C,error:F}=await Xr.auth.signInWithPassword({email:j,password:_});return F?F.message==="Email not confirmed"?(ea("login_failure",{method:"email",email:j,reason:"email_not_confirmed",needsVerification:!0}),c(`/verify?email=${encodeURIComponent(j)}`),{success:!1,error:{needsVerification:!0,message:F.message}}):(ea("login_failure",{method:"email",email:j,reason:F.message,errorCode:F.status||"unknown"}),{success:!1,error:F.message}):(ea("login_success",{method:"email",email:j,userId:C?.user?.id}),localStorage.getItem("first_login_completed")!=="true"&&C?.user&&(localStorage.setItem("first_login_completed","true"),g3("first_login",{userId:C.user.id,method:"email",email:j})),{success:!0})}catch(C){return ea("login_failure",{method:"email",email:j,reason:C.message||"unknown_error",isException:!0}),{success:!1,error:C.message||"Failed to sign in"}}},m=async(j,_,C)=>{try{ea("signup_attempt",{method:"email",email:_});const F=localStorage.getItem("utm_source")||"",E=localStorage.getItem("utm_campaign")||"",S=localStorage.getItem("utm_medium")||"",M=localStorage.getItem("utm_content")||"",k=localStorage.getItem("utm_term")||"",I=localStorage.getItem("user_referrer")||"",D=new URLSearchParams(window.location.search),P=D.toString()?`${window.location.origin}/activate?${D.toString()}`:`${window.location.origin}/activate`,{data:{user:R},error:B}=await Xr.auth.signUp({email:_,password:C,options:{emailRedirectTo:P,data:{full_name:j,utm_source:F,utm_campaign:E,utm_medium:S,utm_content:M,utm_term:k,user_referrer:I}}});if(B)return ea("signup_failure",{method:"email",email:_,reason:B.message,error:B,errorCode:B.status||"unknown"}),{success:!1,error:B.message};if(R&&R.identities&&R.identities.length===0)return ea("signup_failure",{method:"email",email:_,reason:"user_already_exists"}),{success:!1,error:"User already exists"};if(R&&!R.email_verified){ea("signup_success",{method:"email",email:_,userId:R.id,needsVerification:!0}),t3("email",R.id,_,{needs_verification:!0,full_name:j});const U=jd();return v3(R.id,_,"email",U),i3(R.id,_,"email",U),n0(_,R.id,j.split(" ")[0],j.split(" ")[1]),r3(_,R.id),n3(_,R.id,j),g3("first_login",{userId:R.id,method:"email",email:_,isSignup:!0,needsVerification:!0}),{success:!0,needsVerification:!0}}if(ea("signup_success",{method:"email",email:_,userId:R?.id}),R?.id){t3("email",R.id,_,{needs_verification:!1,full_name:j});const U=jd();v3(R.id,_,"email",U),i3(R.id,_,"email",U),n0(_,R.id,j.split(" ")[0],j.split(" ")[1]),r3(_,R.id),n3(_,R.id,j)}return g3("first_login",{userId:R?.id,method:"email",email:_,isSignup:!0}),{success:!0}}catch(F){return ea("signup_failure",{method:"email",email:_,error:F,reason:F.message||"unknown_error",isException:!0}),{success:!1,error:F.message||"Failed to sign up"}}},h=async j=>{try{ea("login_attempt",{method:j});const _=new URLSearchParams(window.location.search),C=localStorage.getItem("pending_referral_code");if(C&&!_.has("referral")&&!_.has("ref"))try{const S=JSON.parse(C);S.code&&_.set("referral",S.code)}catch{_.set("referral",C)}const F=_.toString()?`${window.location.origin}/activate?${_.toString()}`:`${window.location.origin}/activate`,{error:E}=await Xr.auth.signInWithOAuth({provider:j,options:{redirectTo:F,...j==="github"?{scopes:"repo,read:user,user:email"}:{}}});return E?(ea("login_failure",{method:j,reason:E.message,error:E,errorCode:E.status||"unknown"}),{success:!1,error:E.message}):(sessionStorage.setItem("oauth_login_pending","true"),sessionStorage.setItem("oauth_provider",j),{success:!0})}catch(_){return ea("login_failure",{method:j,error:_,reason:_.message||"unknown_error",isException:!0}),{success:!1,error:_.message||`Failed to sign in with ${j}`}}},x=async j=>{try{const _=new URLSearchParams(window.location.search),C=_.toString()?`${window.location.origin}/reset-password?${_.toString()}`:`${window.location.origin}/reset-password`,{error:F}=await Xr.auth.resetPasswordForEmail(j,{redirectTo:C});return F?{success:!1,error:F.message}:{success:!0}}catch(_){return{success:!1,error:_.message||"Failed to send password reset email"}}},y=async j=>{try{const{error:_}=await Xr.auth.updateUser({password:j});return await b(),_?{success:!1,error:_.message}:{success:!0}}catch(_){return{success:!1,error:_.message||"Failed to update password"}}},v=async j=>{try{const _=new URLSearchParams(window.location.search),C=_.toString()?`${window.location.origin}/activate?${_.toString()}`:`${window.location.origin}/activate`,{error:F}=await Xr.auth.resend({type:"signup",email:j,options:{emailRedirectTo:C}});return F?{success:!1,error:F.message}:{success:!0}}catch(_){return{success:!1,error:_.message||"Failed to resend verification email"}}},g=async(j,_)=>{try{const{data:C}=await Xr.functions.invoke("verify-invite-code",{body:{inviteCode:j.trim(),userId:_||n?.id}});return C===null?{success:!1,error:"Failed to verify invite code"}:C.success?C.banned?{success:!1,banned:!0,error:"Your account has been banned"}:{success:!0}:{success:!1,error:C.error||"Failed to verify invite code"}}catch(C){return{success:!1,error:C.message||"Failed to verify invite code"}}},b=async()=>{try{ea("logout",{userId:n?.id}),Uv(),$0("emergent-email-user"),$0("emergent-user-email"),pu(null),e3(null);const j=new URLSearchParams(window.location.search),_=j.toString()?`/landing?${j.toString()}`:"/landing";window.location.href=_,ei("LOGOUT_EVENT",{timestamp:new Date().toISOString()})}catch(j){Fd(j,{context:"sign_out"}),l({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},N={user:n,session:r,userDetails:u,loading:a,signOut:b,signInWithEmail:f,signUpWithEmail:m,signInWithOAuth:h,resetPassword:x,updatePassword:y,resendVerificationEmail:v,verifyInviteCode:g,refreshSession:async()=>{try{const{data:j,error:_}=await Xr.auth.refreshSession();return _?(Fd(_,{context:"refresh_session"}),{success:!1,error:_.message}):(j.session&&(i(j.session),s(j.session.user),pu(j.session.user)),{success:!0})}catch(j){return{success:!1,error:j.message||"Failed to refresh session"}}}};return t.jsx(fM.Provider,{value:N,children:e})}const xs=()=>{const e=d.useContext(fM);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Tee=d.createContext({isLoading:!1,setIsLoading:()=>{}});function Iee({children:e}){const[n,s]=d.useState(!1);return t.jsx(Tee.Provider,{value:{isLoading:n,setIsLoading:s},children:e})}const Pd="/home",ma="/landing",sm=e=>`/workspace/${e}`;function d9(e){return["/verify","/activate","/reset-password","/login","/register","/oauth"].some(s=>e.includes(s))}function rm(e){const n=e==="/",s=e==="/home",r=/^\/workspace\/[^\/]+$/.test(e);return n||s||r}function gEe(){const e=new URLSearchParams(window.location.search),n=e.toString()?`${ma}?${e.toString()}`:ma;window.location.href=n}const mM=d.createContext(void 0);function Aee({children:e}){const n=wi(),s=Na(),r=Xi(),{user:i}=xs(),{data:a,isLoading:o}=Ri(void 0,{skip:!i}),l=a?.organizations?.some(g=>g.created_by===i?.id)||!1,c=[{id:"personal",name:i?.user_metadata?.name?`${i.user_metadata.name}'s Personal Space`:"Personal Space",plan:"Free Plan",icon:""},...(a?.organizations||[]).map(g=>({id:g.organization_id,name:g.organization_name,plan:g.status==="ACTIVE"?"Team Plan":"Pending Payment",members:g.member_count,icon:"",status:g.status,role:g.role}))],p=d.useCallback(()=>{const g=n.pathname.split("/").filter(Boolean);if(g.length===0)return"personal";if(g[0]==="workspace"&&g[1]){const b=g[1];return o&&i||c.find(N=>N.id===b)?b:"personal"}return"personal"},[n.pathname,c,o,i])();d.useEffect(()=>{const g=p==="personal"?Pd:sm(p);r(Fq(g))},[p,r]),d.useEffect(()=>{if(!(!i||o||!a))try{const g=localStorage.getItem("pending_invitation");if(!g)return;const b=JSON.parse(g);if(Date.now()-b.timestamp>1440*60*1e3){localStorage.removeItem("pending_invitation");return}a.pending_invitations?.find(j=>j.id===b.invitation_id)||localStorage.removeItem("pending_invitation")}catch{localStorage.removeItem("pending_invitation")}},[i,a,o]);const f=d.useCallback(g=>{const b=g==="personal"?Pd:sm(g);n.pathname!==b&&(window.location.href=b),setTimeout(()=>{},100)},[s,n.pathname]),m=d.useCallback(()=>c.find(g=>g.id===p),[c,p]),h=d.useCallback(()=>p==="personal",[p]),x=d.useCallback(()=>p!=="personal",[p]),y=d.useCallback(()=>x()?p:void 0,[p,x]),v={currentWorkspace:p,workspaces:c,switchWorkspace:f,getCurrentWorkspaceData:m,isPersonalWorkspace:h,isOrganizationWorkspace:x,getCurrentOrganizationId:y,hasCreatedWorkspace:l};return t.jsx(mM.Provider,{value:v,children:e})}function ys(){const e=d.useContext(mM);if(e===void 0)throw new Error("useWorkspace must be used within a WorkspaceProvider");return e}const Dee="8811bb3e-50e4-473f-ad90-69dcc81b4ca3",H6="africaPromoCouponCode",$6="africaPromoCouponError",z6=new Set;function k_(e){return z6.add(e),()=>z6.delete(e)}function Mee(){z6.forEach(e=>e())}function Lee(){return typeof window>"u"?null:localStorage.getItem(H6)}function Ree(){return typeof window>"u"?null:localStorage.getItem($6)}function hM(){const e=d.useSyncExternalStore(k_,Lee,()=>null),n=d.useSyncExternalStore(k_,Ree,()=>null),[s,r]=d.useState(!1),i=d.useCallback((o,l=null)=>{o?localStorage.setItem(H6,o):localStorage.removeItem(H6),l?localStorage.setItem($6,l):localStorage.removeItem($6),Mee()},[]),a=d.useCallback(async()=>{r(!0);try{const o=await yt.getPromoCoupon(iM()||"",Dee);return o?(i(o,null),{coupon:o,error:null}):{coupon:null,error:null}}catch(o){const l=o?.response?.data?.detail||o?.response?.data?.message||"Unable to generate coupon code";return i(null,l),{coupon:null,error:l}}finally{r(!1)}},[i]);return{couponCode:e,isLoading:s,error:n,setCouponCode:i,generateCoupon:a}}const xM=d.createContext({credits:0,personalCredits:0,orgCredits:0,ownerCredits:null,ownerSubscriptionTier:null,loading:!0,error:null,tier:"free",personalTier:"free",orgTier:"free",pro_mode:!1,refreshCredits:async()=>{},creditResponse:null,subscriptionPlansResponse:null,personalPlansResponse:null,upgradeDetails:null,currentSubscriptionDetail:null,getUpgradeTierName:()=>"Starter",dailyCreditsEnabled:!1,isTrulyFreeUser:()=>!1});function Pee({children:e}){const{user:n}=xs(),{getCurrentOrganizationId:s}=ys(),r=wi(),i=s(),[a,o]=d.useState({id:"5d98824c-26c1-4dc4-822a-007ad1d5e684",amount:10,name:"Emergent Starter"}),[l,c]=d.useState(!1),[u,p]=d.useState(!1),[f,m]=d.useState(!1),[h,x]=d.useState(null),y=d.useRef(null),v=d.useRef(0),g=d.useRef(null),b=3,{couponCode:w,generateCoupon:N}=hM(),j=d.useRef(!1),{data:_,isSuccess:C,isLoading:F}=Ri(void 0,{skip:!n}),{data:E,isLoading:S,refetch:M}=HD(i||"",{skip:!i||!n?.user_metadata?.invite_code||!C}),{data:k,error:I,isLoading:D,refetch:P}=pp(void 0,{skip:!n?.user_metadata?.invite_code||!C,pollingInterval:0}),{data:R,error:B,isLoading:U,refetch:H}=tm(i?{organization_id:i}:void 0,{skip:!n?.user_metadata?.invite_code||!C,pollingInterval:0}),{data:$,error:q,isLoading:Q,refetch:V}=tm(void 0,{skip:!n?.user_metadata?.invite_code||!C,pollingInterval:0}),{data:ee,error:X,isLoading:ae,refetch:me}=pp(void 0,{skip:!n?.user_metadata?.invite_code||!C,pollingInterval:0}),[oe,pe]=d.useState("free"),[se,re]=d.useState("free"),[ve,we]=d.useState(0),be=i&&E?.owner_credits!=null?E.owner_credits:k?.ecu_balance??0,Ue=ee?.ecu_balance??0,fe=I&&v.current<b,Me=D||!!fe||F||ae||U||(i?S:!1),J=I&&v.current>=b?typeof I=="object"&&"data"in I&&I.data?.message||"Failed to fetch credits balance":null,Ne=Qe=>{const De=Qe.toLowerCase();return De.includes("team")?"team":De.includes("emergent pro")?"pro_mode":De.includes("standard")?"standard":De.includes("starter")?"starter":De.includes("pro")?"pro":"free"},ge=(Qe,De,de)=>{if(de)return Ne(de);if(Qe?.current_subscription)return Ne(Qe.current_subscription.tier_name);const ue=De||k;return!ue||!ue.subscription||!ue.subscription.id?"free":Ne(ue.subscription.name)},Ee=d.useMemo(()=>{const Qe=i?E?.owner_subscription_tier:void 0;return ge(R,k,Qe)},[R,k,i,E?.owner_subscription_tier]),Ce=(Qe,De,de)=>{if(de)return de.toLowerCase().includes("emergent pro");if(Qe?.current_subscription)return Qe.current_subscription.tier_name.toLowerCase().includes("emergent pro");const ue=De||k;return ue?.subscription?.name?ue.subscription.name.toLowerCase().includes("emergent pro"):!1},Ie=(Qe="organization")=>{if(Qe==="personal")return oe==="free"?"Free":oe==="starter"?"Starter":oe==="standard"?"Standard":"Pro";if(!a)return"Starter";const De=a.name.replaceAll(" ","").toLowerCase();return De.includes("standard")?"Standard":De.includes("starter")?"Starter":De.includes("pro")?"Pro":"Starter"};d.useEffect(()=>{n?.user_metadata?.invite_code&&C&&(P(),H(),i&&M())},[r.pathname,r.search,n?.user_metadata?.invite_code,C,P,H,i,M]),d.useEffect(()=>{n?.user_metadata?.invite_code&&C&&(P(),H(),i&&M())},[i,n?.user_metadata?.invite_code,C,P,H,M]),d.useEffect(()=>{const Qe=i?E?.owner_subscription_tier:void 0,De=Ce(R,k,Qe);if(p(De),R?.current_subscription?x({id:R.current_subscription.id,name:R.current_subscription.tier_name,amount:R.current_subscription.amount,ecu_credits:R.current_subscription.ecu_credits??0}):k?.subscription&&k.subscription.id?x({id:k.subscription.id,name:k.subscription.name,amount:k.subscription.subscription_details?.amount||0,ecu_credits:k.ecu_balance??0}):x(null),k?.daily_credits?c(!0):c(!1),R&&R.plans){const de=R.current_subscription?.tier_name.toLowerCase();let ue;const lt=[];Object.values(R.plans).forEach(st=>{st.monthly_plans&&lt.push(...st.monthly_plans),st.yearly_plans&&lt.push(...st.yearly_plans)}),lt.length>0&&(ue=lt.find(st=>st.tier_name.toLowerCase()!==de)),ue&&o({id:ue.id,name:ue.tier_name,amount:ue.amount,revenuecat_offering_identifier:ue.revenuecat_offering_identifier})}else k?.subscription&&o({id:k.subscription.id,name:k.subscription.name,amount:k.subscription.subscription_details?.amount})},[R,k,i,E?.owner_subscription_tier]),d.useEffect(()=>{const Qe=ge($,ee);pe(Qe)},[$,ee]),d.useEffect(()=>{$?.is_first_time_offer&&!w&&!j.current&&(j.current=!0,N())},[$?.is_first_time_offer,w,N]),d.useEffect(()=>{if(s()&&R){const Qe=ge(R,k);re(Qe)}else if(s()&&k){const Qe=ge(void 0,k);re(Qe)}},[R,k,s]),d.useEffect(()=>{s()&&k&&we(k.ecu_balance||0)},[k,s]),d.useEffect(()=>{n&&XQ(Ee,oe,se)},[Ee,oe,se,n]),d.useEffect(()=>{if(I&&n)if(v.current<b){v.current+=1,g.current&&clearTimeout(g.current);const Qe=Math.pow(2,v.current-1)*1e3;g.current=setTimeout(()=>{P(),i&&M(),g.current=null},Qe)}else z("credits_fetch_failed",{userId:n.id,errorType:"api_error",errorMessage:typeof I=="object"&&"data"in I&&I.data?.message||"Failed to fetch credits balance",hasInviteCode:!!n.user_metadata?.invite_code,retryAttempts:v.current}),typeof I=="object"&&"data"in I&&Fd(`Credits API returned error after ${v.current} attempts`,{userId:n.id,errorType:"api_response_error",apiResponse:I.data,context:"credits_fetch",retryAttempts:v.current});else I||(v.current=0,g.current&&(clearTimeout(g.current),g.current=null))},[I,n,P]),d.useEffect(()=>()=>{y.current&&clearTimeout(y.current),g.current&&clearTimeout(g.current)},[]);const Ae=async()=>{if(!f&&n?.user_metadata.invite_code&&C){v.current=0,g.current&&(clearTimeout(g.current),g.current=null),m(!0);try{const Qe=[P(),me(),H()];i&&Qe.push(M()),await Promise.all(Qe)}finally{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{m(!1),y.current=null},5e3)}}},Se=()=>{const Qe=_?.organizations?.some(De=>De.status==="ACTIVE")||!1;return i&&E?.owner_subscription_tier&&Ne(E.owner_subscription_tier)!=="free"?!1:oe==="free"&&!Qe&&_?.is_pro_enabled===!1},ht={credits:be,personalCredits:Ue,orgCredits:ve,ownerCredits:E?.owner_credits??null,ownerSubscriptionTier:E?.owner_subscription_tier??null,loading:Me,tier:Ee,personalTier:oe,orgTier:se,pro_mode:u,error:J,creditResponse:k||null,subscriptionPlansResponse:R||null,personalPlansResponse:$||null,refreshCredits:Ae,upgradeDetails:a,currentSubscriptionDetail:h,getUpgradeTierName:Ie,dailyCreditsEnabled:l,isTrulyFreeUser:Se};return t.jsx(xM.Provider,{value:ht,children:e})}const cs=()=>{const e=d.useContext(xM);if(!e)throw new Error("useCredits must be used within a CreditsProvider");return e},gM="emergent_notifications",bM="emergent_notifications_read",Oee={notifications:[],unreadCounts:{alerts:0,offers:0,updates:0},totalUnread:0,addNotification:()=>"",addAlertNotification:()=>"",markAsRead:()=>{},markAllAsRead:()=>{},removeNotification:()=>{},clearAll:()=>{},getNotificationsByType:()=>[]},Bee=d.createContext(Oee),T_=()=>crypto.randomUUID(),Uee=()=>{try{const e=localStorage.getItem(gM);return e?JSON.parse(e).map(s=>({...s,timestamp:new Date(s.timestamp),expiresAt:s.expiresAt?new Date(s.expiresAt):void 0})):[]}catch{return[]}},Vee=e=>{try{localStorage.setItem(gM,JSON.stringify(e))}catch{}},Hee=()=>{try{const e=localStorage.getItem(bM);return e?new Set(JSON.parse(e)):new Set}catch{return new Set}},$ee=e=>{try{localStorage.setItem(bM,JSON.stringify([...e]))}catch{}};function zee({children:e}){const[n,s]=d.useState([]),[r,i]=d.useState(new Set),[a,o]=d.useState(!1);d.useEffect(()=>{const g=Uee(),b=Hee(),w=g.map(N=>({...N,isRead:b.has(N.id)}));s(w),i(b),o(!0)},[]),d.useEffect(()=>{a&&Vee(n)},[n,a]),d.useEffect(()=>{a&&$ee(r)},[r,a]);const l=d.useMemo(()=>{const g={alerts:0,offers:0,updates:0};return n.forEach(b=>{b.isRead||(b.type==="alert"?g.alerts++:b.type==="offer"?g.offers++:b.type==="update"&&g.updates++)}),g},[n]),c=d.useMemo(()=>l.alerts+l.offers+l.updates,[l]),u=d.useCallback(g=>{const b=T_(),w={...g,id:b,timestamp:new Date,isRead:!1};return s(N=>[w,...N]),b},[]),p=d.useCallback(g=>{const b=T_(),w={...g,id:b,type:"alert",timestamp:new Date,isRead:!1};return s(N=>[w,...N]),b},[]),f=d.useCallback(g=>{s(b=>b.map(w=>w.id===g?{...w,isRead:!0}:w)),i(b=>{const w=new Set(b);return w.add(g),w})},[]),m=d.useCallback(g=>{s(b=>{const w=[],N=b.map(j=>!g||j.type===g?(w.push(j.id),{...j,isRead:!0}):j);return i(j=>{const _=new Set(j);return w.forEach(C=>_.add(C)),_}),N})},[]),h=d.useCallback(g=>{s(b=>b.filter(w=>w.id!==g)),i(b=>{const w=new Set(b);return w.delete(g),w})},[]),x=d.useCallback(g=>{g?s(b=>b.filter(w=>w.type!==g)):(s([]),i(new Set))},[]),y=d.useCallback(g=>n.filter(b=>b.type===g),[n]),v={notifications:n,unreadCounts:l,totalUnread:c,addNotification:u,addAlertNotification:p,markAsRead:f,markAllAsRead:m,removeNotification:h,clearAll:x,getNotificationsByType:y};return t.jsx(Bee.Provider,{value:v,children:e})}function yM(e){var n,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(s=yM(e[n]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function vM(){for(var e,n,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(n=yM(e))&&(r&&(r+=" "),r+=n);return r}const u9="-",Wee=e=>{const n=qee(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(u9);return l[0]===""&&l.length!==1&&l.shift(),wM(l,n)||Gee(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},wM=(e,n)=>{if(e.length===0)return n.classGroupId;const s=e[0],r=n.nextPart.get(s),i=r?wM(e.slice(1),r):void 0;if(i)return i;if(n.validators.length===0)return;const a=e.join(u9);return n.validators.find(({validator:o})=>o(a))?.classGroupId},I_=/^\[(.+)\]$/,Gee=e=>{if(I_.test(e)){const n=I_.exec(e)[1],s=n?.substring(0,n.indexOf(":"));if(s)return"arbitrary.."+s}},qee=e=>{const{theme:n,prefix:s}=e,r={nextPart:new Map,validators:[]};return Yee(Object.entries(e.classGroups),s).forEach(([a,o])=>{W6(o,r,a,n)}),r},W6=(e,n,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?n:A_(n,i);a.classGroupId=s;return}if(typeof i=="function"){if(Kee(i)){W6(i(r),n,s,r);return}n.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{W6(o,A_(n,a),s,r)})})},A_=(e,n)=>{let s=e;return n.split(u9).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},Kee=e=>e.isThemeGetter,Yee=(e,n)=>n?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?n+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[n+o,l])):a);return[s,i]}):e,Zee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),n++,n>e&&(n=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},CM="!",Jee=e=>{const{separator:n,experimentalParseClassName:s}=e,r=n.length===1,i=n[0],a=n.length,o=l=>{const c=[];let u=0,p=0,f;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===i&&(r||l.slice(v,v+a)===n)){c.push(l.slice(p,v)),p=v+a;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const m=c.length===0?l:l.substring(p),h=m.startsWith(CM),x=h?m.substring(1):m,y=f&&f>p?f-p:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:y}};return s?l=>s({className:l,parseClassName:o}):o},Xee=e=>{if(e.length<=1)return e;const n=[];let s=[];return e.forEach(r=>{r[0]==="["?(n.push(...s.sort(),r),s=[]):s.push(r)}),n.push(...s.sort()),n},Qee=e=>({cache:Zee(e.cacheSize),parseClassName:Jee(e),...Wee(e)}),ete=/\s+/,tte=(e,n)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=n,a=[],o=e.trim().split(ete);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:p,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=s(u);let x=!!h,y=r(x?m.substring(0,h):m);if(!y){if(!x){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=Xee(p).join(":"),g=f?v+CM:v,b=g+y;if(a.includes(b))continue;a.push(b);const w=i(y,x);for(let N=0;N<w.length;++N){const j=w[N];a.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function nte(){let e=0,n,s,r="";for(;e<arguments.length;)(n=arguments[e++])&&(s=_M(n))&&(r&&(r+=" "),r+=s);return r}const _M=e=>{if(typeof e=="string")return e;let n,s="";for(let r=0;r<e.length;r++)e[r]&&(n=_M(e[r]))&&(s&&(s+=" "),s+=n);return s};function ste(e,...n){let s,r,i,a=o;function o(c){const u=n.reduce((p,f)=>f(p),e());return s=Qee(u),r=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const p=tte(c,s);return i(c,p),p}return function(){return a(nte.apply(null,arguments))}}const kr=e=>{const n=s=>s[e]||[];return n.isThemeGetter=!0,n},jM=/^\[(?:([a-z-]+):)?(.+)\]$/i,rte=/^\d+\/\d+$/,ite=new Set(["px","full","screen"]),ate=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ote=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=e=>Xu(e)||ite.has(e)||rte.test(e),Pl=e=>Mp(e,"length",bte),Xu=e=>!!e&&!Number.isNaN(Number(e)),w3=e=>Mp(e,"number",Xu),C1=e=>!!e&&Number.isInteger(Number(e)),ute=e=>e.endsWith("%")&&Xu(e.slice(0,-1)),Es=e=>jM.test(e),Ol=e=>ate.test(e),pte=new Set(["length","size","percentage"]),fte=e=>Mp(e,pte,NM),mte=e=>Mp(e,"position",NM),hte=new Set(["image","url"]),xte=e=>Mp(e,hte,vte),gte=e=>Mp(e,"",yte),_1=()=>!0,Mp=(e,n,s)=>{const r=jM.exec(e);return r?r[1]?typeof n=="string"?r[1]===n:n.has(r[1]):s(r[2]):!1},bte=e=>ote.test(e)&&!lte.test(e),NM=()=>!1,yte=e=>cte.test(e),vte=e=>dte.test(e),wte=()=>{const e=kr("colors"),n=kr("spacing"),s=kr("blur"),r=kr("brightness"),i=kr("borderColor"),a=kr("borderRadius"),o=kr("borderSpacing"),l=kr("borderWidth"),c=kr("contrast"),u=kr("grayscale"),p=kr("hueRotate"),f=kr("invert"),m=kr("gap"),h=kr("gradientColorStops"),x=kr("gradientColorStopPositions"),y=kr("inset"),v=kr("margin"),g=kr("opacity"),b=kr("padding"),w=kr("saturate"),N=kr("scale"),j=kr("sepia"),_=kr("skew"),C=kr("space"),F=kr("translate"),E=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Es,n],k=()=>[Es,n],I=()=>["",rl,Pl],D=()=>["auto",Xu,Es],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Es],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Xu,Es];return{cacheSize:500,separator:":",theme:{colors:[_1],spacing:[rl,Pl],blur:["none","",Ol,Es],brightness:q(),borderColor:[e],borderRadius:["none","","full",Ol,Es],borderSpacing:k(),borderWidth:I(),contrast:q(),grayscale:H(),hueRotate:q(),invert:H(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[ute,Pl],inset:M(),margin:M(),opacity:q(),padding:k(),saturate:q(),scale:q(),sepia:H(),skew:q(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Es]}],container:["container"],columns:[{columns:[Ol]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),Es]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",C1,Es]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Es]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",C1,Es]}],"grid-cols":[{"grid-cols":[_1]}],"col-start-end":[{col:["auto",{span:["full",C1,Es]},Es]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[_1]}],"row-start-end":[{row:["auto",{span:[C1,Es]},Es]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Es]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Es]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Es,n]}],"min-w":[{"min-w":[Es,n,"min","max","fit"]}],"max-w":[{"max-w":[Es,n,"none","full","min","max","fit","prose",{screen:[Ol]},Ol]}],h:[{h:[Es,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Es,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Es,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Es,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Ol,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",w3]}],"font-family":[{font:[_1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Es]}],"line-clamp":[{"line-clamp":["none",Xu,w3]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rl,Es]}],"list-image":[{"list-image":["none",Es]}],"list-style-type":[{list:["none","disc","decimal",Es]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rl,Pl]}],"underline-offset":[{"underline-offset":["auto",rl,Es]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Es]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Es]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),mte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[rl,Es]}],"outline-w":[{outline:[rl,Pl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[rl,Pl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ol,gte]}],"shadow-color":[{shadow:[_1]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ol,Es]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Es]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Es]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Es]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[C1,Es]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Es]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Es]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Es]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rl,Pl,w3]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cte=ste(wte);function A(...e){return Cte(vM(e))}const zn=Lg,FM=d.forwardRef(({className:e,...n},s)=>t.jsx(cv,{ref:s,className:A("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));FM.displayName=cv.displayName;const Us=Bm,wl=d.forwardRef(({className:e,...n},s)=>t.jsx(Dg,{ref:s,className:A("focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));wl.displayName=Dg.displayName;const Lp=d.forwardRef(({className:e,...n},s)=>t.jsx(Fp,{ref:s,className:A("fixed inset-0 z-[60] bg-[#0e0e0f50] backdrop-blur-[5px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));Lp.displayName=Fp.displayName;const dr=d.forwardRef(({className:e,children:n,...s},r)=>{const i=d.useRef(!0);return d.useEffect(()=>{i.current=!0;const a=setTimeout(()=>{i.current=!1},300);return()=>clearTimeout(a)},[]),t.jsxs(Us,{children:[t.jsx(Lp,{}),t.jsx(Ep,{ref:r,className:A("fixed left-[50%] top-[50%] z-[60] grid w-full translate-x-[-50%] translate-y-[-50%] gap-0 bg-[#0E0E0F] border border-[#242424] rounded-[16px] shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] overflow-hidden focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),onOpenAutoFocus:a=>{a.preventDefault()},onInteractOutside:a=>{const o=a.target;o&&o.closest&&o.closest("[data-radix-dialog-content]")&&a.preventDefault()},onClick:a=>{a.stopPropagation()},...s,children:n})]})});dr.displayName=Ep.displayName;const Al=({className:e,...n})=>t.jsx("div",{className:A("flex flex-col space-y-1.5 text-center sm:text-left bg-[#111112] border-b border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n});Al.displayName="DialogHeader";const Sc=({className:e,...n})=>t.jsx("div",{className:A("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 bg-[#111112] border-t border-[#242424] p-6 focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n});Sc.displayName="DialogFooter";const uo=d.forwardRef(({className:e,...n},s)=>t.jsx(Mg,{ref:s,className:A("text-[24px] font-[500] leading-[32px] text-[#DDDDE6] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));uo.displayName=Mg.displayName;const im=d.forwardRef(({className:e,...n},s)=>t.jsx(dv,{ref:s,className:A("text-[15px] font-[500] leading-[24px] text-[#737780] font-['Inter'] focus:outline-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none",e),...n}));im.displayName=dv.displayName;const p9="support@emergent.sh",D_=3e5,Xl=1e5,Li={support:"https://help.emergent.sh/",howToAddDomains:"https://help.emergent.sh/articles/467868-deployments-and-custom-domains",learnToClearMemory:"https://half-knave-03b.notion.site/Emergent-Tips-and-Tricks-1dc3b3a7b0618095921ac5850421bab5",forking:{learnMore:"https://help.emergent.sh/forking-in-emergent"},socials:{discord:"https://discord.gg/X9cqNxYyG8"},helpCenter:"https://help.emergent.sh/",pro_learn_more_tooltip:"https://help.emergent.sh",enterpriseDemo:"https://emergententerprise.typeform.com/EmergentBiz",expoGoDownload:"https://expo.dev/client",creditsAndPricing:"https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing"},ku={logsHeading:"Use deployment agent to identify the issues. Sharing build error logs when trying to deploy the current app to production. Please analyze these error logs, debug why these are happening and fix them.",logsPrompt:"I am using emergent deployments, a native functionality that containerizes and deploys applications to Kubernetes. My current deployment is failing with specific errors that need to be resolved through code modifications.The current environment that you are operating in is a sandboxed environment working with MongoDB , the environment where this application would be deployed operates with dedicated atlas provided mongodb.Please analyze the deployment errors below and modify my application code to resolve all issues preventing successful deployment.You should not make any docker related changes, you should only make code level changes that can make the deployment go through.",logsIdentifier:"--logs_identifier--",remixWelcomeMessage:` **Awesome! You've successfully remixed this app!**

You now have your own fully editable copy. Everything is yours to modify - from the design and features to the core functionality.

**Here's what you can do:**

 Use natural language prompts to have your agent redesign the UI instantly

 Add new features by simply describing what you want to your agent

 Modify existing components without touching code

 Deploy your customized version when you're ready

**Start by telling your agent what you'd like to change, or dive into the builder to explore.**`},Z="https://assets.emergent.sh/assets",j1="https://assets.emergent.sh",W={claude45background:`${j1}/claude_modal_bg.png`,claude45backgroundMobile:`${j1}/claude_mobile_modal_bg.png`,claudeText:`${j1}/ClaudeSonnet45.png`,eLogoGif:`${Z}/elogo.gif`,icons:{code:`${Z}/code.svg`,info:`${Z}/info.svg`,preview:`${Z}/eye.svg`,history:`${Z}/history.svg`,deployCloud:`${Z}/DeployCloud.svg`,redeploy:`${Z}/RedeployNew.svg`,animatedSpinner:`${Z}/animated-spinner.gif`,github:`${Z}/github.svg`,githubIcon:`${Z}/github-icon.svg`,google:`${Z}/Google.svg`,submit:`${Z}/submit-arrow.svg`,task:`${Z}/task.svg`,branch:`${Z}/branch.svg`,branch2:`${Z}/branch2.svg`,emergentLogoNew:`${Z}/emergent-logo-new.svg`,emergentLogoNewBlack:`${Z}/emergent-logo-new-black.svg`,emergentLogoExpoApp:`${j1}/emergent-blue-new.svg`,emergentLogoFavicon:`${j1}/emergent-ico.png`,landingLight:`${Z}/landing-light.png`,bgPatternHome:`${Z}/bg_pattern_home.png`,infoSquare:`${Z}/info-square.svg`,paymentFailed:`${Z}/payment_failed.svg`,copyWhite:`${Z}/copy_white.svg`,eyeOff:`${Z}/eye_off.svg`,geminiIcon:`${Z}/icons/geminiLogo.svg`,cloudflare:`${Z}/icons/cloudflare.webp`,gift:`${Z}/icons/gift.webp`},fork:{editNote:`${Z}/fork/edit_note.svg`,forkedFrom:`${Z}/fork/forked_from.svg`,session:`${Z}/fork/session.svg`,forkRed:`${Z}/fork/fork_red.svg`,paceCyan:`${Z}/fork/pace_cyan.svg`,matrixCode:`${Z}/fork/matrix_code.gif`,fork:`${Z}/fork/fork.svg`,forkFill:`${Z}/fork/fork-fill.svg`,completed:`${Z}/fork/completed.svg`,dollarCyan:`${Z}/fork/dollar_cyan.svg`,dropdownCyan:`${Z}/fork/dropdown_cyan.svg`,firstState:`${Z}/fork/first_state.svg`,likeCyan:`${Z}/fork/like_cyan.svg`,summary:`${Z}/fork/summary.svg`,summaryCyan:`${Z}/fork/summary_cyan.svg`},teams:{teamAssetDesktop:`${Z}/teams/team_asset_web.png`,teamAssetMobile:`${Z}/teams/team_asset_mobile.png`,org:`${Z}/teams/org.svg`,pendingDot:`${Z}/teams/pending_dot.svg`},notifications:{lowCredits:`${Z}/low_credits.webp`},landingPage:{landingBg:`${Z}/landing-page/landing-bg.png`,landingBgMobile:`${Z}/landing-page/landing-page-mobile.png`,customAgents:`${Z}/landing-page/custom-agents.png`,footerFiller:`${Z}/landing-page/footer-filler.gif`,landingFillerBackground:`${Z}/landing-page/landing-filler-background.png`,mobile:`${Z}/landing-page/mobile.png`,teams:`${Z}/landing-page/teams.png`,users:`${Z}/landing-page/users.png`},videos:{clouds:`${Z}/videos/clouds.mp4`,bgVid:`${Z}/bg-vid.mp4`,oneMClaude:`${Z}/tips&Tricks/1M_Claude.mp4`,assets:`${Z}/tips&Tricks/Assets.mp4`,deployment:`${Z}/tips&Tricks/Deployment.mp4`,fork:`${Z}/tips&Tricks/Fork.mp4`,mobileApp:`${Z}/tips&Tricks/Mobile_App.mp4`,newCustomAgent:`${Z}/tips&Tricks/New_Custom_Agent.mp4`},showcase:{whiteArrow:`${Z}/showcase/white_arrow.svg`,image1:`${Z}/showcase/1.png`,image2:`${Z}/showcase/2.png`,image3:`${Z}/showcase/3.png`,image4:`${Z}/showcase/4.png`,image6:`${Z}/showcase/6.png`,aiIncluded:`${Z}/showcase/aiincluded.svg`,aiIncludedText:`${Z}/showcase/AIIncludedText.svg`},feature:{arrowDark:`${Z}/feature/arrow_dark.svg`},oauth:{emergent:`${Z}/oauth/emergent.svg`,envelopeDefault:`${Z}/oauth/envelope-default.svg`,foundationShield:`${Z}/oauth/foundation_shield.svg`,google:`${Z}/oauth/google.svg`,image4:`${Z}/oauth/image 4.png`,layerThree:`${Z}/oauth/layer-three.svg`,nftDefault:`${Z}/oauth/nft-default.svg`,sparkle:`${Z}/oauth/sparkle.svg`},modals:{desktop25mil:`${Z}/modals/Desktop25Mil.png`,mobile25mil:`${Z}/modals/Mobile25Mil.png`,pixDesktop:`${Z}/modals/pix-desktop.png`,pixMobile:`${Z}/modals/pix-mobile.png`,discountButton:`${Z}/modals/DiscountButton.png`,betaImage:`${Z}/modals/BETA.svg`,giftBG:`${Z}/modals/giftBG.png`,giftBGMobile:`${Z}/modals/giftBGMobile.png`,deploymentSuccessModalBg:`${Z}/deployment_live_bg.webp`,deploymentLiveBadge:`${Z}/deployment_live_badge_transparetn.webp`,opusDesktop:`${Z}/modals/opus_web.webp`,opusMobile:`${Z}/modals/opus_mob.webp`,oneDollarModalDesktop:`${Z}/modals/seriesb_od_web.webp`,oneDollarModalMobile:`${Z}/modals/seriesb_od_mobile.webp`,pagbrasilOfferModalBgMobile:`${Z}/modals/series_b_mobile.webp`,pagbrasilOfferModalBgWeb:`${Z}/modals/series_b_web.webp`,pagbrasilOfferStripBgMobile:`${Z}/modals/seriesb_banner_mobile.webp`,pagbrasilOfferStripBgWeb:`${Z}/modals/seriesb_home_banner.webp`,pagbrasilOfferStripBgCard:`${Z}/modals/seriesb_banner_web.webp`,pagbrasilGiftIcon:`${Z}/modals/seriesb_gift.webp`,freeStandardPlanDesktop:`${Z}/modals/free-standard-modal-bg-desktop.webp`,freeStandardPlanMobile:`${Z}/modals/free-standard-modal-bg-mobile.webp`,freeTrialLeftPanel:`${Z}/modals/free-trial-left-panel.webp`,freeTrialTopPanel:`${Z}/modals/free-trial-top-panel.webp`,pixelatedOrangeGradientBgCard:`${Z}/modals/pixelated-orange-gradient-bg-card.webp`},banners:{freeStandardPlanWeb:`${Z}/banner/free-standard-plan-bg-web.webp`,freeStandardPlanMobile:`${Z}/banner/free-standard-plan-bg-mobile.webp`},pro:{gem:`${Z}/pro/gem.svg`,gemMobile:`${Z}/pro/gemMobile.svg`,bg:`${Z}/pro/bg.png`,proBg:`${Z}/pro/pro_bg.png`,secondBanner:`${Z}/pro/secondBanner.png`,darkrobot:`${Z}/pro/darkrobot.svg`,workbench:`${Z}/pro/workbench.svg`,book:`${Z}/pro/book.svg`,external:`${Z}/pro/external.svg`,next:`${Z}/pro/next.svg`,nextArrow:`${Z}/pro/nextArrow.svg`,pro:`${Z}/pro/pro.svg`,proMobile:`${Z}/pro/proMobile.svg`,backGray:`${Z}/pro/back-gray.svg`,bgSvg:`${Z}/pro/bg.svg`},universal:{add:`${Z}/universal/add.svg`,addActive:`${Z}/universal/add-active.svg`,alertBg:`${Z}/universal/alert-bg.svg`,check:`${Z}/universal/check.svg`,claude:`${Z}/universal/claude.svg`,copy:`${Z}/universal/copy.svg`,deleteRegenerate:`${Z}/universal/delete-regenerate.svg`,gemini:`${Z}/universal/gemini.svg`,infoGray:`${Z}/universal/info-gray.svg`,infoOrange:`${Z}/universal/info-orange.svg`,key:`${Z}/universal/key.svg`,nextArrow:`${Z}/universal/next-arrow.svg`,openai:`${Z}/universal/openai.svg`,saveContinue:`${Z}/universal/save-continue.svg`},ultra:{oneMillionUltra:`${Z}/ultra/1M+ultra.png`,oneMillionUltraMobile:`${Z}/ultra/1M+ultra_mobile.png`},mcp:{kuchbhi:`${Z}/mcp/kuchbhi.png`,kuchbhiMobile:`${Z}/mcp/kuchbhi_mobile.png`},deployment:{article:`${Z}/deployment/Article.svg`,goBack:`${Z}/deployment/GoBack.svg`,logWithError:`${Z}/deployment/LogWithError.svg`,logs:`${Z}/deployment/Logs.svg`,webDarkLink:`${Z}/deployment/WebDarkLink.svg`,carbonViewFilled:`${Z}/deployment/carbon_view-filled.svg`,dangerous:`${Z}/deployment/dangerous.svg`,dangerousActive:`${Z}/deployment/dangerous_active.svg`,database:`${Z}/deployment/database.svg`,keyAlert:`${Z}/deployment/key_alert.svg`,mdiCheckAll:`${Z}/deployment/mdi_check-all.svg`,replace:`${Z}/deployment/replace.svg`,replaceBlack:`${Z}/deployment/replace_black.svg`,replaceGrey:`${Z}/deployment/replace_grey.svg`,replaceOrange:`${Z}/deployment/replace_orange.svg`,stripe:`${Z}/deployment/stripe.svg`,timeGreyDeployed:`${Z}/deployment/time_grey_deployed.svg`,warningActive:`${Z}/deployment/warning_active.svg`,warningInactive:`${Z}/deployment/warning_inactive.svg`,webImage:`${Z}/deployment/webImage.svg`,caddyToCloudflare:{step1:`${Z}/deployment/caddy_to_cloudflare/step_1.webp`,step2:`${Z}/deployment/caddy_to_cloudflare/step_2.webp`,step3:`${Z}/deployment/caddy_to_cloudflare/step_3.webp`,mobileStep1:`${Z}/deployment/caddy_to_cloudflare/mobile_step_1.webp`,mobileStep2:`${Z}/deployment/caddy_to_cloudflare/mobile_step_2.webp`,mobileStep3:`${Z}/deployment/caddy_to_cloudflare/mobile_step_3.webp`,mobileStep4:`${Z}/deployment/caddy_to_cloudflare/mobile_step_4.webp`},globeIcon:`${Z}/globe.svg`,globeGlow:`${Z}/globe_glow.png`,noIosBuilds:`${Z}/no-ios-builds.svg`},referral:{coin:`${Z}/referral/coin.svg`,credited:`${Z}/referral/credited.svg`,external:`${Z}/referral/external.svg`,giftGreenWithoutGlow:`${Z}/referral/gift-green-withoutGlow.svg`,person:`${Z}/referral/person.svg`,referralImage:`${Z}/referral/referral.png`},payments:{external:`${Z}/payments/external.svg`,externalFilled:`${Z}/payments/external_filled.svg`,infoRed:`${Z}/payments/info-red.svg`,info:`${Z}/payments/info.svg`,question:`${Z}/payments/question.svg`,cardBrands:{visa:`${Z}/icons/visa_card.png`,mastercard:`${Z}/icons/master_card.png`,amex:`${Z}/icons/amex_card.png`,jcb:`${Z}/icons/jcb_card.png`}},discountModal:{assetOff:`${Z}/discount-modal/asset_off.png`,bg:`${Z}/discount-modal/bg.png`,text:`${Z}/discount-modal/text.png`},robots:{research:`${Z}/robots/research.svg`,robot1:`${Z}/robots/robot_1.svg`,robot2:`${Z}/robots/robot_2.svg`,robot3:`${Z}/robots/robot_3.svg`,robot4:`${Z}/robots/robot_4.svg`,robot5:`${Z}/robots/robot_5.svg`,robot6:`${Z}/robots/robot_6.svg`,robot7:`${Z}/robots/robot_7.svg`,robot8:`${Z}/robots/robot_8.svg`,robot9:`${Z}/robots/robot_9.svg`,robot10:`${Z}/robots/robot_10.svg`},buy:{buyCoin:`${Z}/Avatars.svg`},upload:{arrowNext:`${Z}/upload/arrow-next.svg`,blueCheck:`${Z}/upload/blue_check.svg`,close:`${Z}/upload/close.svg`,comment:`${Z}/upload/comment.svg`,commented:`${Z}/upload/commented.svg`,delete:`${Z}/upload/delete.svg`,deleteActive:`${Z}/upload/deleteActive.svg`,downloadWhite:`${Z}/upload/download_white.svg`,info:`${Z}/upload/info.svg`,moreIcon:`${Z}/upload/more_icon.svg`,noAssets:`${Z}/upload/no-assets.svg`,uploadNormal:`${Z}/upload/upload_normal.svg`},chips:{surprise:`${Z}/chips/surprise.svg`},panels:{close:`${Z}/panels/close.svg`,link:`${Z}/panels/link.svg`,phone:`${Z}/panels/phone.svg`,share:`${Z}/panels/share.svg`},preview:{emergentBlue:`${Z}/preview/emergent_blue.svg`,flappybird:`${Z}/preview/flappybird.png`,gameBoy:`${Z}/preview/game_boy.svg`,gradientArrow:`${Z}/preview/gradient-arrow.svg`,greenArrow:`${Z}/preview/green_arrow.svg`,greenCheck:`${Z}/preview/green_check.svg`,iphoneMockup:`${Z}/preview/iphone_mockup_preview_2.png`,pixelArrow:`${Z}/preview/pixel_arrow.svg`,play:`${Z}/preview/play.svg`,screen:`${Z}/preview/screen.svg`},github:{gitBranchDark:`${Z}/github/GitBranchDark.svg`,githubGreenDark:`${Z}/github/GithubGreenDark.svg`,arrowGreen:`${Z}/github/arrow_green.svg`,emergencyHome:`${Z}/github/emergency_home.svg`,emergencyHomePurple:`${Z}/github/emergency_home_purple.svg`,emergencyHomeRed:`${Z}/github/emergency_home_red.svg`,gitDot:`${Z}/github/git-dot.svg`,gitBranch:`${Z}/github/git_branch.svg`,githubBack:`${Z}/github/github_back.svg`,githubConnected:`${Z}/github/github_connected.svg`,shieldLock:`${Z}/github/shield_lock.svg`},menuIcons:{discord:`${Z}/menu-icons/discord.svg`,discordEndIcon:`${Z}/menu-icons/discord_end_icon.svg`,discordHover:`${Z}/menu-icons/discord_hover.svg`,github:`${Z}/menu-icons/github.svg`,logout:`${Z}/menu-icons/logout.svg`,menu:`${Z}/menu-icons/menu.svg`},files:{csv:`${Z}/files/csv.svg`,doc:`${Z}/files/doc.svg`,other:`${Z}/files/other.svg`,pdf:`${Z}/files/pdf.svg`,ppt:`${Z}/files/ppt.svg`,svg:`${Z}/files/svg.svg`,txt:`${Z}/files/txt.svg`,video:`${Z}/files/video.svg`,zip:`${Z}/files/zip.svg`},subagent:{subagentPanelIcon:`${Z}/subagent/subagentPanel.svg`},tips:{arrowBack:`${Z}/tips/arrow-back.svg`},logo:{borderedLogoDark:`${Z}/logo/borded-logo-dark.svg`,logo:`${Z}/logo/logo.svg`},common:{bot:`${Z}/bot.svg`,githubDark:`${Z}/github_dark.svg`,infoSquaredBlack:`${Z}/info-squared-black.svg`,increaseBudget:`${Z}/increase_budget.svg`,arrowDownBig:`${Z}/ArrowDownBig.svg`,copyable:`${Z}/Copyable.svg`,deployTime:`${Z}/DeployTime.svg`,dustBin:`${Z}/DustBin.svg`,eLogoNew:`${Z}/E-logo-new.png`,eLogo:`${Z}/E-logo.png`,githubGreen:`${Z}/GithubGreen.svg`,greenBranch:`${Z}/GreenBranch.svg`,hypeText:`${Z}/HypeText.svg`,joinedBuy:`${Z}/JoinedBuy.svg`,keyPurple:`${Z}/KeyPurple.svg`,landingAuthStar:`${Z}/Landing-Auth-Star.gif`,landingHeroE:`${Z}/Landing-Hero-E.gif`,line:`${Z}/Line.svg`,link:`${Z}/Link.svg`,lockedWeb:`${Z}/LockedWeb.svg`,lockedWebBlue:`${Z}/LockedWebBlue.svg`,plusIcon:`${Z}/PlusIcon.svg`,purpleDownArrow:`${Z}/PurpleDownArrow.svg`,rollbackTime:`${Z}/RollbackTime.svg`,settings:`${Z}/Settings.svg`,sparklingStar:`${Z}/SparklingStar.svg`,stars:`${Z}/Stars.svg`,subscriptionSuccess:`${Z}/SubscriptionSucess.svg`,timeRever:`${Z}/TimeRever.svg`,unlink:`${Z}/Unlink.svg`,whiteCopperCoin:`${Z}/WhiteCopperCoin.svg`,accountSettingsIcon:`${Z}/account-settings-icon.svg`,activeFile:`${Z}/active-file.svg`,adjustIcon:`${Z}/adjust-icon.svg`,agentSleeping:`${Z}/agentsleeping.svg`,alertFill:`${Z}/alert-fill.svg`,alertOrange:`${Z}/alert-orange.svg`,appleWhite:`${Z}/apple-white.svg`,arrowUploadReady:`${Z}/arrow-upload-ready.svg`,arrowUploadReadyDark:`${Z}/arrow_upload_ready_dark.svg`,attach:`${Z}/attach.svg`,attachmentCross:`${Z}/attachment-cross.svg`,badgeCheckGray:`${Z}/badge-check-gray.svg`,badgeCheckYellow:`${Z}/badge-check-yellow.svg`,badgeCheck:`${Z}/badge-check.svg`,banner:`${Z}/banner.svg`,bell:`${Z}/bell.svg`,buyCredit:`${Z}/buy_credit.svg`,captivePortal:`${Z}/captive_portal.svg`,close:`${Z}/close.svg`,controls:`${Z}/controls.svg`,copperCoin:`${Z}/copper-coin.svg`,copyPaperclip:`${Z}/copy-paperclip.svg`,copyPurple:`${Z}/copyPurple.svg`,deploy:`${Z}/deploy.svg`,discordLight:`${Z}/discordLight.svg`,expo:`${Z}/expo.svg`,eyeNew:`${Z}/eye_new.svg`,file:`${Z}/file.svg`,flowbiteRefreshOutline:`${Z}/flowbite_refresh-outline.svg`,fluentEmojiBell:`${Z}/fluent-emoji_bell.svg`,folderAdd:`${Z}/folder-add.svg`,folder:`${Z}/folder.svg`,foregroundImage:`${Z}/foreground-image.png`,githubConnect:`${Z}/github_connect.svg`,globeActive:`${Z}/globe_active.svg`,globeWhite:`${Z}/globe_white.svg`,greenLinkArrow:`${Z}/greenLinkArrow.svg`,iconamoonEditFill:`${Z}/iconamoon_edit-fill.svg`,infoSquare02:`${Z}/info-square-02-contained-filled.svg`,keyboardArrowUp:`${Z}/keyboard_arrow_up.svg`,lock:`${Z}/lock.svg`,logoBlue:`${Z}/logo_blue.svg`,mail:`${Z}/mail.svg`,menuInfo:`${Z}/menu-info.svg`,mingcuteQuestionFill:`${Z}/mingcute_question-fill.svg`,newCoin:`${Z}/new_coin.svg`,notificationSound:`${Z}/notification-sound.mp3`,password:`${Z}/password.svg`,pause:`${Z}/pause.svg`,play:`${Z}/play.svg`,recordStopIcon:`${Z}/record-stop-icon.svg`,refresh:`${Z}/refresh.svg`,reply:`${Z}/reply.svg`,repo:`${Z}/repo.svg`,rightArrow:`${Z}/right-arrow.svg`,saveCloud:`${Z}/save-cloud.svg`,send:`${Z}/send.svg`,starsGif:`${Z}/stars.gif`,testFile:`${Z}/test-file.svg`,testModePreview:`${Z}/test-mode-preview.png`,visualEdit:`${Z}/visual_edit.svg`,webImage:`${Z}/webImage.svg`,whiteGithub:`${Z}/white-github.svg`},panelIcons:{panelEdit:`${Z}/panel_icons/panel_edit.json`,panelIntegration:`${Z}/panel_icons/panel_integration.json`,panelTesting:`${Z}/panel_icons/panel_testing.json`,panelVision:`${Z}/panel_icons/panel_vision.json`},seriesB:{eyes:`${Z}/eyes_01.gif`,robot:`${Z}/robo_series_B.png`,bannerBg:`${Z}/70_mill_bg_v2.webm`},gifting:{carouselImage1:`${Z}/gifting/santa.webp`,carouselImage2:`${Z}/gifting/tree.webp`,carouselImage3:`${Z}/gifting/snowman.webp`,carouselImage4:`${Z}/gifting/gift.webp`,carouselImage5:`${Z}/gifting/coffee.webp`,bgWeb:`${Z}/gifting/bg_web.webp`,santaSmall:`${Z}/gifting/santa_small.webp`,treeSmall:`${Z}/gifting/tree_small.webp`,snowmanSmall:`${Z}/gifting/snowman_small.webp`,giftSmall:`${Z}/gifting/gift_small.webp`,coffeeSmall:`${Z}/gifting/coffee_small.webp`,warmupMail:{bannerBg:`${Z}/gifting/warmup_mail/banner_bg.webp`,gift:`${Z}/gifting/warmup_mail/gift.webp`,gift_success:`${Z}/gifting/warmup_mail/gift_success.webp`}},moltbot:{logo:`${Z}/moltbot/logo.webp`,mascotBanner:`${Z}/moltbot/mascot_banner.webp`}},pn={USD:"USD",INR:"INR",EUR:"EUR",GBP:"GBP",JPY:"JPY",AUD:"AUD",CAD:"CAD",CHF:"CHF",CNY:"CNY",SEK:"SEK",NZD:"NZD",MXN:"MXN",SGD:"SGD",HKD:"HKD",NOK:"NOK",KRW:"KRW",TRY:"TRY",RUB:"RUB",BRL:"BRL",ZAR:"ZAR",DKK:"DKK",PLN:"PLN",THB:"THB",IDR:"IDR",HUF:"HUF",CZK:"CZK",ILS:"ILS",CLP:"CLP",PHP:"PHP",AED:"AED",COP:"COP",SAR:"SAR",MYR:"MYR",RON:"RON"},G6={[pn.USD]:"$",[pn.INR]:"",[pn.EUR]:"",[pn.GBP]:"",[pn.JPY]:"",[pn.AUD]:"A$",[pn.CAD]:"C$",[pn.CHF]:"CHF",[pn.CNY]:"",[pn.SEK]:"kr",[pn.NZD]:"NZ$",[pn.MXN]:"MX$",[pn.SGD]:"S$",[pn.HKD]:"HK$",[pn.NOK]:"kr",[pn.KRW]:"",[pn.TRY]:"",[pn.RUB]:"",[pn.BRL]:"R$",[pn.ZAR]:"R",[pn.DKK]:"kr",[pn.PLN]:"z",[pn.THB]:"",[pn.IDR]:"Rp",[pn.HUF]:"Ft",[pn.CZK]:"K",[pn.ILS]:"",[pn.CLP]:"CLP$",[pn.PHP]:"",[pn.AED]:"AED",[pn.COP]:"COL$",[pn.SAR]:"SAR",[pn.MYR]:"RM",[pn.RON]:"lei"},ad={PADDLE:"PADDLE",STRIPE:"STRIPE",RAZORPAY:"RAZORPAY",PAGBRASIL:"PAGBRASIL"},qx={PADDLE_MISSING_TRANSACTION_ID:"Failed to get Paddle transaction ID",PADDLE_NOT_AVAILABLE:"Payment gateway not available. Please refresh and try again."},M_={[pn.INR]:1700,[pn.BRL]:120,[pn.KRW]:3e4,[pn.USD]:20},L_={[pn.INR]:17e4,[pn.BRL]:12e3,[pn.KRW]:3e6,[pn.USD]:2e3},bEe=`// Use JSON in this format:
// example:
{
"mcpServers": {
"your-tool": {
"command": "npx",
"args": ["-y", "@your-org/mcp-server"],
"env": {
"API_KEY": "your-api-key-here"
}
}
}
}`,_te=[{id:"deployment",type:"video",videoSrc:W.videos.deployment,duration:17e3,title:"Deploy Your Application",description:"Make your app publicly available with managed infrastructure."},{id:"oneMClaude",type:"video",videoSrc:W.videos.oneMClaude,duration:14e3,title:"1M Context Window",description:"Build complex apps with 5 larger agentic context window."},{id:"assets",type:"video",videoSrc:W.videos.assets,duration:2e4,title:"Assets",description:"Upload assets and media files that your agent can access and integrate into your code."},{id:"fork",type:"video",videoSrc:W.videos.fork,duration:15e3,title:"Manage Agent Context With Forks",description:"Experiment at lightning speed with forks for complex applications."},{id:"mobileApp",type:"video",videoSrc:W.videos.mobileApp,duration:15e3,title:"Create Mobile Apps",description:"Develop high-performance native mobile apps starting from a clean slate."},{id:"newCustomAgent",type:"video",videoSrc:W.videos.newCustomAgent,duration:29e3,title:"Explore Custom Agents",description:"Develop agents optimized for your specific processes and use cases."}],EM={container:"home-container",welcomeText:"welcome-text"},zs={screen:"chat-screen",virtuosoList:"virtuoso-item-list",scrollToBottom:"scroll-to-bottom-button",input:{container:"chat-input",submitButton:"chat-input-submit",attachButton:"chat-input-attach-button",githubButton:"chat-input-github-button",forkButton:"chat-input-fork-button",ultraButton:"chat-input-ultra-button"},mainTask:{input:"main-task-input",submit:"main-task-submit",placeholder:"placeholder-text",attachButton:"attach-button",advancedControlsButton:"advanced-controls-button",agentSelector:"agent-selector",agentSelectorText:"agent-selector-text",privacyDropdown:"privacy-selector-dropdown",privacyButton:"privacy-selector-button",privacyPublic:"privacy-option-public",privacyPrivate:"privacy-option-private",attachmentChip:"attachment-chip",removeAttachmentButton:"remove-attachment-button",advancedControlsPanel:"advanced-controls-panel",advancedControlsClose:"advanced-controls-close",mcpToolsSelector:"mcp-tools-selector",budgetDecrement:"budget-decrement",budgetInput:"budget-input",budgetIncrement:"budget-increment"}},N1={infoButton:"chat-header-info-button",codeButton:"chat-header-code-button",previewButton:"chat-header-preview-button",deployButton:"chat-header-deploy-button",publishButton:"chat-header-publish-button"},Wc={avatarButton:"menubar-avatar-button",accountSettingsButton:"menubar-account-settings-button",languageButton:"menubar-language-button",helpCenterButton:"menubar-help-center-button",discordButton:"menubar-discord-button",logoutButton:"menubar-logout-button"},Ss={info:{container:"info-panel-container",closeButton:"info-panel-close-button",runDetails:"info-panel-run-details",model:"info-panel-model",jobId:"info-panel-job-id",vscodeUrl:"info-panel-vscode-url",vscodePassword:"info-panel-vscode-password",creditsSpent:"info-panel-credits-spent",machineType:"info-panel-machine-type"},preview:{container:"preview-panel-container",refreshButton:"preview-panel-refresh-button",openNewTabButton:"preview-panel-open-new-tab-button",closeButton:"preview-panel-close-button",shareButton:"preview-panel-share-button"},deploy:{container:"deploy-panel-container",headerContainer:"deploy-panel-header-container",backButton:"deploy-panel-back-button",startButton:"deploy-panel-start-button",healthCheckButton:"health-check-button"},subagent:{container:"subagent-panel-container"},showcase:{infoToggleButton:"showcase-info-toggle-button",viewportButtons:"showcase-viewport-buttons",viewportDesktop:"showcase-viewport-desktop",viewportTablet:"showcase-viewport-tablet",viewportMobile:"showcase-viewport-mobile",openNewTabButton:"showcase-open-new-tab-button",refreshButton:"showcase-refresh-button",section:"showcase-section",categoryChips:"showcase-category-chips",chip:e=>`showcase-chip-${e}`,cardsGrid:"showcase-cards-grid",card:"showcase-card",cardImage:"showcase-card-image",cardPreviewButton:"showcase-card-preview-button",cardRemixButton:"showcase-card-remix-button",cardTitle:"showcase-card-title",cardCategory:"showcase-card-category"}},Rr={vscode:{container:"vscode-modal-container",linkInput:"vscode-modal-link-input",passwordInput:"vscode-modal-password-input"},diff:{container:"diff-modal-container"},accountSettings:{modal:"account-settings-modal",closeButton:"account-settings-close-button"},upgradeTier:{modal:"upgrade-tier-modal",closeButton:"upgrade-tier-close-button"},referral:{modal:"referral-modal",closeButton:"referral-modal-close-button",copyButton:"referral-copy-button",tosButton:"referral-tos-button",tosBackButton:"referral-tos-back-button",giftIconButton:"referral-gift-icon-button"},rename:{modal:"rename-modal",input:"rename-input",cancelButton:"rename-cancel-button",saveButton:"rename-save-button"},confirmation:{modal:"confirmation-modal",cancelButton:"cancel-button",confirmButton:"confirm-button"},mcp:{toolsModal:"mcp-tools-modal",modalClose:"mcp-modal-close",newServerButton:"mcp-new-server-button",newModal:"new-mcp-modal",newClose:"new-mcp-close",nameInput:"mcp-name-input",jsonConfig:"mcp-json-config",saveButton:"mcp-save-button"},uploadAssets:{modal:"upload-assets-modal",saveButton:"upload-assets-save-button",fileItem:e=>`uploaded-file-item-${e}`,removeFileButton:e=>`remove-file-button-${e}`},imagePreview:{modal:"image-preview-modal",download:"image-preview-download",close:"image-preview-close"},share:{modal:"share-modal",closeButton:"share-modal-close-button",copyLinkButton:"share-modal-copy-link-button"},rollback:{closeButton:"rollback-modal-close-button"},threeDotMenu:"three-dot-menu"},$a={recentTasksTab:"recent-tasks-tab",deployedAppsTab:"deployed-apps-tab",reloadButton:"recent-tasks-reload-button",list:"recent-tasks-list",count:"recent-tasks-count",paginationPrev:"pagination-prev",paginationNext:"pagination-next",paginationLoadMore:"pagination-load-more",perPageSelect:"tasks-per-page-select",taskRow:e=>`task-row-${e}`,taskOptionsButton:e=>`task-options-button-${e}`,deployedAppsEmptyState:"deployed-apps-empty-state",deployedAppCard:e=>`deployed-app-card-${e}`},La={status:"agent-status",avatar:"agent-avatar",messageContent:"message-content",messageCopyButton:"message-copy-button",sleep:{notification:"agent-sleep-notification",message:"agent-sleep-message",wakeUpButton:"wake-up-agent-button",upgradeButton:"wake-up-agent-upgrade-button",downloadCodeButton:"download-code-button"},action:{display:"action-display",displayChevron:"action-display-chevron",displayContent:"action-display-content"}},yr={suggestionChip:"suggestion-chip",surpriseMeButton:"surprise-me-button",refreshSuggestionsButton:"refresh-suggestions-button",githubButton:"github-button",newTabButton:"new-tab-button",tab:e=>`tab-${e}`,closeTab:e=>`close-tab-${e}`,modelSelector:{container:"model-selector",button:"model-selector-button",text:"model-selector-text",dropdown:"model-selector-dropdown",name:"model-name",option:e=>`model-selector-option-${e}`},language:{menu:"language-menu",searchInput:"language-search-input",option:e=>`language-option-${e}`,bottomSheetSearch:"language-bottom-sheet-search",bottomSheetOption:e=>`language-bottom-sheet-option-${e}`},privacyDropdown:{publicOption:"privacy-dropdown-public-option",privateOption:"privacy-dropdown-private-option"},imageGallery:{item:"image-gallery-item"},artifactGallery:"artifact-gallery",artifactItem:"artifact-item",downloadSection:{title:"download-section-title",getStartedButton:"get-started-button"},workspace:{switcherButton:"workspace-switcher-button",name:"workspace-name"},mcpServerToggle:"mcp-server-toggle",pendingArtifact:e=>`pending-artifact-${e}`,removePendingArtifact:e=>`remove-pending-artifact-${e}`},F1={account:{profileName:"account-profile-name",profileNameMobile:"account-profile-name-mobile",profileEmail:"account-profile-email",profileEmailMobile:"account-profile-email-mobile",editNameButton:"edit-name-button",editNameButtonMobile:"edit-name-button-mobile",nameInput:"name-input",nameInputMobile:"name-input-mobile",saveNameButton:"save-name-button",saveNameButtonMobile:"save-name-button-mobile",cancelNameButton:"cancel-name-button",cancelNameButtonMobile:"cancel-name-button-mobile",planTier:"account-plan-tier",upgradeButton:"account-upgrade-button"},manageAgents:{tabMain:"manage-agents-tab-main",tabSub:"manage-agents-tab-sub",tabMcp:"manage-agents-tab-mcp",createNewAgentCard:"create-new-agent-card",createNewMcpServerCard:"create-new-mcp-server-card"},universalKey:{tabDetails:"universal-key-tab-details",tabProviders:"universal-key-tab-providers",display:"universal-key-display",copyBtn:"universal-key-copy-btn",toggleBtn:"universal-key-toggle-btn",regenerateBtn:"universal-key-regenerate-btn",regenerateCancel:"universal-key-regenerate-cancel",regenerateConfirm:"universal-key-regenerate-confirm",regenerateModal:"regenerate-key-modal",regenerateCloseButton:"regenerate-key-close-button",addBalanceBtn:"universal-key-add-balance-btn",autoRechargeSwitch:"universal-key-auto-recharge-switch",autoRechargeInput:"universal-key-auto-recharge-input",autoRechargeInputMobile:"universal-key-auto-recharge-input-mobile",autoRechargeSave:"universal-key-auto-recharge-save",autoRechargeCancelButton:"universal-key-auto-recharge-cancel-button",autoRechargeEnableButton:"universal-key-auto-recharge-enable-button",autoRechargeModal:"auto-recharge-modal",autoRechargeCloseButton:"auto-recharge-close-button"},addBalance:{modal:"add-balance-modal",closeButton:"add-balance-close-button",decreaseBtn:"add-balance-decrease-btn",amountInput:"add-balance-amount-input",increaseBtn:"add-balance-increase-btn",confirmBtn:"add-balance-confirm-btn"}},R_=["#EFA1F4","#FDA79D","#E5C573","#65CB65","#A1BFE5"],r0=new Map;let C3=0;const jte=()=>{const e="0123456789ABCDEF";let n="#";for(let s=0;s<6;s++)n+=e[Math.floor(Math.random()*16)];return n},SM=(e,n)=>{if(r0.has(e))return r0.get(e);if(C3<R_.length){const r=R_[C3];return r0.set(e,r),C3++,r}const s=jte();return r0.set(e,s),s},Nte=["ultraThinkingModal","e2Agent","oneMillionModal","mcp-introduction","mcp-tools-modal"],Fte=["upgrade-tier","default"],P_={ultraThinkingModal:{title:"Ultra Thinking",description:"Get deeper reasoning with 10x more thinking tokens for complex problem-solving and analysis."},e2Agent:{title:"E2 Agent",description:"Access our most advanced AI agent for complex, multi-step tasks."},oneMillionModal:{title:"1M Token Context",description:"Work with extensive codebases and documents using 1 million token context window."},"mcp-introduction":{title:"MCP Servers",description:"Connect external tools and services to enhance your AI capabilities."},"mcp-tools-modal":{title:"MCP Tools",description:"Enable powerful MCP tools to extend your AI assistant."},"upgrade-tier":{title:"Upgrade Plan",description:"Unlock more features and higher limits with a premium plan."},default:{title:"Upgrade Plan",description:"Get access to premium features and more credits."},"buy-credits":{title:"Buy Credits",description:"Purchase additional credits to continue using Emergent."}};function Ca(e){return P_[e]||P_.default}function lc(e,n){if(Nte.includes(e))return"proFeature";if(e==="buy-credits"&&n)return"buyCreditFeature";if(Fte.includes(e)&&n)return"proFeature"}function Sd(e,n,s){return n&&e===100&&s==="MONTHLY"?20:e}const Kx="firstTimeOfferPurchase",Yx="firstTimeOfferBillingPeriod";function kM(e,n){typeof window<"u"&&(sessionStorage.removeItem(Kx),sessionStorage.removeItem(Yx),e&&(sessionStorage.setItem(Kx,"true"),n&&sessionStorage.setItem(Yx,n)))}function O_(){return typeof window<"u"?sessionStorage.getItem(Kx)==="true":!1}function B_(){return typeof window<"u"?sessionStorage.getItem(Yx):null}function U_(){typeof window<"u"&&(sessionStorage.removeItem(Kx),sessionStorage.removeItem(Yx))}const f9="promotionalSetupCheckout";function TM(){typeof window<"u"&&sessionStorage.setItem(f9,"true")}function Ete(){return typeof window<"u"?sessionStorage.getItem(f9)==="true":!1}function V_(){typeof window<"u"&&sessionStorage.removeItem(f9)}class Ste{constructor(){$t(this,"listeners",[]);$t(this,"currentText","")}subscribe(n){return this.listeners.push(n),()=>{this.listeners=this.listeners.filter(s=>s!==n)}}show(n,s){this.currentText=s||"",this.listeners.forEach(r=>r(!0,this.currentText)),n&&setTimeout(()=>this.hide(),n)}hide(){this.currentText="",this.listeners.forEach(n=>n(!1,""))}}const m9=new Ste,am=d.createContext({});function h9(e){const n=d.useRef(null);return n.current===null&&(n.current=e()),n.current}const x9=typeof window<"u",g9=x9?d.useLayoutEffect:d.useEffect,r2=d.createContext(null),b9=d.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class kte extends d.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tte({children:e,isPresent:n,anchorX:s}){const r=d.useId(),i=d.useRef(null),a=d.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=d.useContext(b9);return d.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:p,right:f}=a.current;if(n||!i.current||!l||!c)return;const m=s==="left"?`left: ${p}`:`right: ${f}`;i.current.dataset.motionPopId=r;const h=document.createElement("style");return o&&(h.nonce=o),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[n]),t.jsx(kte,{isPresent:n,childRef:i,sizeRef:a,children:d.cloneElement(e,{ref:i})})}const Ite=({children:e,initial:n,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const c=h9(Ate),u=d.useId(),p=d.useCallback(m=>{c.set(m,!0);for(const h of c.values())if(!h)return;r&&r()},[c,r]),f=d.useMemo(()=>({id:u,initial:n,isPresent:s,custom:i,onExitComplete:p,register:m=>(c.set(m,!1),()=>c.delete(m))}),a?[Math.random(),p]:[s,p]);return d.useMemo(()=>{c.forEach((m,h)=>c.set(h,!1))},[s]),d.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),o==="popLayout"&&(e=t.jsx(Tte,{isPresent:s,anchorX:l,children:e})),t.jsx(r2.Provider,{value:f,children:e})};function Ate(){return new Map}function IM(e=!0){const n=d.useContext(r2);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=n,a=d.useId();d.useEffect(()=>{if(e)return i(a)},[e]);const o=d.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const i0=e=>e.key||"";function H_(e){const n=[];return d.Children.forEach(e,s=>{d.isValidElement(s)&&n.push(s)}),n}const Xa=({children:e,custom:n,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,u]=IM(o),p=d.useMemo(()=>H_(e),[e]),f=o&&!c?[]:p.map(i0),m=d.useRef(!0),h=d.useRef(p),x=h9(()=>new Map),[y,v]=d.useState(p),[g,b]=d.useState(p);g9(()=>{m.current=!1,h.current=p;for(let j=0;j<g.length;j++){const _=i0(g[j]);f.includes(_)?x.delete(_):x.get(_)!==!0&&x.set(_,!1)}},[g,f.length,f.join("-")]);const w=[];if(p!==y){let j=[...p];for(let _=0;_<g.length;_++){const C=g[_],F=i0(C);f.includes(F)||(j.splice(_,0,C),w.push(C))}return a==="wait"&&w.length&&(j=w),b(H_(j)),v(p),null}const{forceRender:N}=d.useContext(am);return t.jsx(t.Fragment,{children:g.map(j=>{const _=i0(j),C=o&&!c?!1:p===g||f.includes(_),F=()=>{if(x.has(_))x.set(_,!0);else return;let E=!0;x.forEach(S=>{S||(E=!1)}),E&&(N?.(),b(h.current),o&&u?.(),r&&r())};return t.jsx(Ite,{isPresent:C,initial:!m.current||s?void 0:!1,custom:n,presenceAffectsLayout:i,mode:a,onExitComplete:C?void 0:F,anchorX:l,children:j},_)})})},Dte=d.createContext(null),Ba=e=>e;let AM=Ba;const Mte={useManualTiming:!1},a0=["read","resolveKeyframes","update","preRender","render","postRender"];function Lte(e,n){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){o.has(p)&&(u.schedule(p),e()),p(l)}const u={schedule:(p,f=!1,m=!1)=>{const x=m&&i?s:r;return f&&o.add(p),x.has(p)||x.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(l=p,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(c),s.clear(),i=!1,a&&(a=!1,u.process(p))}};return u}const Rte=40;function DM(e,n){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=a0.reduce((g,b)=>(g[b]=Lte(a),g),{}),{read:l,resolveKeyframes:c,update:u,preRender:p,render:f,postRender:m}=o,h=()=>{const g=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,Rte),1),i.timestamp=g,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),p.process(i),f.process(i),m.process(i),i.isProcessing=!1,s&&n&&(r=!1,e(h))},x=()=>{s=!0,r=!0,i.isProcessing||e(h)};return{schedule:a0.reduce((g,b)=>{const w=o[b];return g[b]=(N,j=!1,_=!1)=>(s||x(),w.schedule(N,j,_)),g},{}),cancel:g=>{for(let b=0;b<a0.length;b++)o[a0[b]].cancel(g)},state:i,steps:o}}const{schedule:vr,cancel:hc,state:ki,steps:_3}=DM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ba,!0);function Pte(){const e=d.useRef(!1);return g9(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ote(){const e=Pte(),[n,s]=d.useState(0),r=d.useCallback(()=>{e.current&&s(n+1)},[n]);return[d.useCallback(()=>vr.postRender(r),[r]),n]}const Bte=e=>!e.isLayoutDirty&&e.willUpdate(!1);function $_(){const e=new Set,n=new WeakMap,s=()=>e.forEach(Bte);return{add:r=>{e.add(r),n.set(r,r.addEventListener("willUpdate",s))},remove:r=>{e.delete(r);const i=n.get(r);i&&(i(),n.delete(r)),s()},dirty:s}}const MM=e=>e===!0,Ute=e=>MM(e===!0)||e==="id",Vte=({children:e,id:n,inherit:s=!0})=>{const r=d.useContext(am),i=d.useContext(Dte),[a,o]=Ote(),l=d.useRef(null),c=r.id||i;l.current===null&&(Ute(s)&&c&&(n=n?c+"-"+n:c),l.current={id:n,group:MM(s)&&r.group||$_()});const u=d.useMemo(()=>({...l.current,forceRender:a}),[o]);return t.jsx(am.Provider,{value:u,children:e})},LM=d.createContext({strict:!1}),z_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fp={};for(const e in z_)fp[e]={isEnabled:n=>z_[e].some(s=>!!n[s])};function Hte(e){for(const n in e)fp[n]={...fp[n],...e[n]}}const $te=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$te.has(e)}let RM=e=>!Zx(e);function zte(e){e&&(RM=n=>n.startsWith("on")?!Zx(n):e(n))}try{zte(require("@emotion/is-prop-valid").default)}catch{}function Wte(e,n,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(RM(i)||s===!0&&Zx(i)||!n&&!Zx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Gte(e){if(typeof Proxy>"u")return e;const n=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,i)=>i==="create"?e:(n.has(i)||n.set(i,e(i)),n.get(i))})}const i2=d.createContext({});function a2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function om(e){return typeof e=="string"||Array.isArray(e)}const y9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v9=["initial",...y9];function o2(e){return a2(e.animate)||v9.some(n=>om(e[n]))}function PM(e){return!!(o2(e)||e.variants)}function qte(e,n){if(o2(e)){const{initial:s,animate:r}=e;return{initial:s===!1||om(s)?s:void 0,animate:om(r)?r:void 0}}return e.inherit!==!1?n:{}}function Kte(e){const{initial:n,animate:s}=qte(e,d.useContext(i2));return d.useMemo(()=>({initial:n,animate:s}),[W_(n),W_(s)])}function W_(e){return Array.isArray(e)?e.join(" "):e}const Yte=Symbol.for("motionComponentSymbol");function Lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zte(e,n,s){return d.useCallback(r=>{r&&e.onMount&&e.onMount(r),n&&(r?n.mount(r):n.unmount()),s&&(typeof s=="function"?s(r):Lu(s)&&(s.current=r))},[n])}const{schedule:w9}=DM(queueMicrotask,!1),C9=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jte="framerAppearId",OM="data-"+C9(Jte),BM=d.createContext({});function Xte(e,n,s,r,i){var a,o;const{visualElement:l}=d.useContext(i2),c=d.useContext(LM),u=d.useContext(r2),p=d.useContext(b9).reducedMotion,f=d.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:n,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:p}));const m=f.current,h=d.useContext(BM);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Qte(f.current,s,i,h);const x=d.useRef(!1);d.useInsertionEffect(()=>{m&&x.current&&m.update(s,u)});const y=s[OM],v=d.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return g9(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),w9.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),d.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,y)}),v.current=!1))}),m}function Qte(e,n,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=n;e.projection=new s(e.latestValues,n["data-framer-portal-id"]?void 0:UM(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Lu(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function UM(e){if(e)return e.options.allowProjection!==!1?e.projection:UM(e.parent)}function ene({preloadedFeatures:e,createVisualElement:n,useRender:s,useVisualState:r,Component:i}){var a,o;e&&Hte(e);function l(u,p){let f;const m={...d.useContext(b9),...u,layoutId:tne(u)},{isStatic:h}=m,x=Kte(u),y=r(u,h);if(!h&&x9){nne();const v=sne(m);f=v.MeasureLayout,x.visualElement=Xte(i,y,m,n,v.ProjectionNode)}return t.jsxs(i2.Provider,{value:x,children:[f&&x.visualElement?t.jsx(f,{visualElement:x.visualElement,...m}):null,s(i,u,Zte(y,x.visualElement,p),y,h,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=d.forwardRef(l);return c[Yte]=i,c}function tne({layoutId:e}){const n=d.useContext(am).id;return n&&e!==void 0?n+"-"+e:e}function nne(e,n){d.useContext(LM).strict}function sne(e){const{drag:n,layout:s}=fp;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const VM=e=>n=>typeof n=="string"&&n.startsWith(e),_9=VM("--"),rne=VM("var(--"),j9=e=>rne(e)?ine.test(e.split("/*")[0].trim()):!1,ine=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lm={};function ane(e){for(const n in e)lm[n]=e[n],_9(n)&&(lm[n].isCSSVariable=!0)}const Rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qd=new Set(Rp);function HM(e,{layout:n,layoutId:s}){return qd.has(e)||e.startsWith("origin")||(n||s!==void 0)&&(!!lm[e]||e==="opacity")}const Yi=e=>!!(e&&e.getVelocity),$M=(e,n)=>n&&typeof e=="number"?n.transform(e):e,Fl=(e,n,s)=>s>n?n:s<e?e:s,Pp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cm={...Pp,transform:e=>Fl(0,1,e)},o0={...Pp,default:1},Zm=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),Wl=Zm("deg"),zo=Zm("%"),os=Zm("px"),one=Zm("vh"),lne=Zm("vw"),G_={...zo,parse:e=>zo.parse(e)/100,transform:e=>zo.transform(e*100)},cne={borderWidth:os,borderTopWidth:os,borderRightWidth:os,borderBottomWidth:os,borderLeftWidth:os,borderRadius:os,radius:os,borderTopLeftRadius:os,borderTopRightRadius:os,borderBottomRightRadius:os,borderBottomLeftRadius:os,width:os,maxWidth:os,height:os,maxHeight:os,top:os,right:os,bottom:os,left:os,padding:os,paddingTop:os,paddingRight:os,paddingBottom:os,paddingLeft:os,margin:os,marginTop:os,marginRight:os,marginBottom:os,marginLeft:os,backgroundPositionX:os,backgroundPositionY:os},dne={rotate:Wl,rotateX:Wl,rotateY:Wl,rotateZ:Wl,scale:o0,scaleX:o0,scaleY:o0,scaleZ:o0,skew:Wl,skewX:Wl,skewY:Wl,distance:os,translateX:os,translateY:os,translateZ:os,x:os,y:os,z:os,perspective:os,transformPerspective:os,opacity:cm,originX:G_,originY:G_,originZ:os},q_={...Pp,transform:Math.round},N9={...cne,...dne,zIndex:q_,size:os,fillOpacity:cm,strokeOpacity:cm,numOctaves:q_},une={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pne=Rp.length;function fne(e,n,s){let r="",i=!0;for(let a=0;a<pne;a++){const o=Rp[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const u=$M(l,N9[o]);if(!c){i=!1;const p=une[o]||o;r+=`${p}(${u}) `}s&&(n[o]=u)}}return r=r.trim(),s?r=s(n,i?"":r):i&&(r="none"),r}function F9(e,n,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in n){const u=n[c];if(qd.has(c)){o=!0;continue}else if(_9(c)){i[c]=u;continue}else{const p=$M(u,N9[c]);c.startsWith("origin")?(l=!0,a[c]=p):r[c]=p}}if(n.transform||(o||s?r.transform=fne(n,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:p=0}=a;r.transformOrigin=`${c} ${u} ${p}`}}const E9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zM(e,n,s){for(const r in n)!Yi(n[r])&&!HM(r,s)&&(e[r]=n[r])}function mne({transformTemplate:e},n){return d.useMemo(()=>{const s=E9();return F9(s,n,e),Object.assign({},s.vars,s.style)},[n])}function hne(e,n){const s=e.style||{},r={};return zM(r,s,e),Object.assign(r,mne(e,n)),r}function xne(e,n){const s={},r=hne(e,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const gne=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S9(e){return typeof e!="string"||e.includes("-")?!1:!!(gne.indexOf(e)>-1||/[A-Z]/u.test(e))}const bne={offset:"stroke-dashoffset",array:"stroke-dasharray"},yne={offset:"strokeDashoffset",array:"strokeDasharray"};function vne(e,n,s=1,r=0,i=!0){e.pathLength=1;const a=i?bne:yne;e[a.offset]=os.transform(-r);const o=os.transform(n),l=os.transform(s);e[a.array]=`${o} ${l}`}function K_(e,n,s){return typeof e=="string"?e:os.transform(n+s*e)}function wne(e,n,s){const r=K_(n,e.x,e.width),i=K_(s,e.y,e.height);return`${r} ${i}`}function k9(e,{attrX:n,attrY:s,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},p,f){if(F9(e,u,f),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:x}=e;m.transform&&(x&&(h.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=wne(x,i!==void 0?i:.5,a!==void 0?a:.5)),n!==void 0&&(m.x=n),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),o!==void 0&&vne(m,o,l,c,!1)}const WM=()=>({...E9(),attrs:{}}),T9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Cne(e,n,s,r){const i=d.useMemo(()=>{const a=WM();return k9(a,n,T9(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[n]);if(e.style){const a={};zM(a,e.style,e),i.style={...a,...i.style}}return i}function _ne(e=!1){return(s,r,i,{latestValues:a},o)=>{const c=(S9(s)?Cne:xne)(r,a,o,s),u=Wte(r,typeof s=="string",e),p=s!==d.Fragment?{...u,...c,ref:i}:{},{children:f}=r,m=d.useMemo(()=>Yi(f)?f.get():f,[f]);return d.createElement(s,{...p,children:m})}}function Y_(e){const n=[{},{}];return e?.values.forEach((s,r)=>{n[0][r]=s.get(),n[1][r]=s.getVelocity()}),n}function I9(e,n,s,r){if(typeof n=="function"){const[i,a]=Y_(r);n=n(s!==void 0?s:e.custom,i,a)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[i,a]=Y_(r);n=n(s!==void 0?s:e.custom,i,a)}return n}const q6=e=>Array.isArray(e),jne=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nne=e=>q6(e)?e[e.length-1]||0:e;function q0(e){const n=Yi(e)?e.get():e;return jne(n)?n.toValue():n}function Fne({scrapeMotionValuesFromProps:e,createRenderState:n,onUpdate:s},r,i,a){const o={latestValues:Ene(r,i,a,e),renderState:n()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const GM=e=>(n,s)=>{const r=d.useContext(i2),i=d.useContext(r2),a=()=>Fne(e,n,r,i);return s?a():h9(a)};function Ene(e,n,s,r){const i={},a=r(e,{});for(const m in a)i[m]=q0(a[m]);let{initial:o,animate:l}=e;const c=o2(e),u=PM(e);n&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=n.initial),l===void 0&&(l=n.animate));let p=s?s.initial===!1:!1;p=p||o===!1;const f=p?l:o;if(f&&typeof f!="boolean"&&!a2(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const x=I9(e,m[h]);if(x){const{transitionEnd:y,transition:v,...g}=x;for(const b in g){let w=g[b];if(Array.isArray(w)){const N=p?w.length-1:0;w=w[N]}w!==null&&(i[b]=w)}for(const b in y)i[b]=y[b]}}}return i}function A9(e,n,s){var r;const{style:i}=e,a={};for(const o in i)(Yi(i[o])||n.style&&Yi(n.style[o])||HM(o,e)||((r=s?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}const Sne={useVisualState:GM({scrapeMotionValuesFromProps:A9,createRenderState:E9})};function qM(e,n){try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}function KM(e,{style:n,vars:s},r,i){Object.assign(e.style,n,i&&i.getProjectionStyles(r));for(const a in s)e.style.setProperty(a,s[a])}const YM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZM(e,n,s,r){KM(e,n,void 0,r);for(const i in n.attrs)e.setAttribute(YM.has(i)?i:C9(i),n.attrs[i])}function JM(e,n,s){const r=A9(e,n,s);for(const i in e)if(Yi(e[i])||Yi(n[i])){const a=Rp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const Z_=["x","y","width","height","cx","cy","r"],kne={useVisualState:GM({scrapeMotionValuesFromProps:JM,createRenderState:WM,onUpdate:({props:e,prevProps:n,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!e.drag;if(!a){for(const l in i)if(qd.has(l)){a=!0;break}}if(!a)return;let o=!n;if(n)for(let l=0;l<Z_.length;l++){const c=Z_[l];e[c]!==n[c]&&(o=!0)}o&&vr.read(()=>{qM(s,r),vr.render(()=>{k9(r,i,T9(s.tagName),e.transformTemplate),ZM(s,r)})})}})};function Tne(e,n){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...S9(r)?kne:Sne,preloadedFeatures:e,useRender:_ne(i),createVisualElement:n,Component:r};return ene(o)}}function dm(e,n,s){const r=e.getProps();return I9(r,n,s!==void 0?s:r.custom,e)}function D9(e,n){return e?e[n]||e.default||e:void 0}const XM=new Set(["width","height","top","left","right","bottom",...Rp]);function M9(e,n){e.indexOf(n)===-1&&e.push(n)}function L9(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}class R9{constructor(){this.subscriptions=[]}add(n){return M9(this.subscriptions,n),()=>L9(this.subscriptions,n)}notify(n,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](n,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(n,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function QM(e,n){return n?e*(1e3/n):0}let K0;function Ine(){K0=void 0}const Wo={now:()=>(K0===void 0&&Wo.set(ki.isProcessing||Mte.useManualTiming?ki.timestamp:performance.now()),K0),set:e=>{K0=e,queueMicrotask(Ine)}},J_=30,Ane=e=>!isNaN(parseFloat(e));class Dne{constructor(n,s={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Wo.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=Wo.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=Ane(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new R9);const r=this.events[n].add(s);return n==="change"?()=>{r(),vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-r}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Wo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>J_)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,J_);return QM(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function um(e,n){return new Dne(e,n)}function Mne(e,n,s){e.hasValue(n)?e.getValue(n).set(s):e.addValue(n,um(s))}function Lne(e,n){const s=dm(e,n);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const l=Nne(a[o]);Mne(e,o,l)}}function Rne(e){return!!(Yi(e)&&e.add)}function K6(e,n){const s=e.getValue("willChange");if(Rne(s))return s.add(n)}function eL(e){return e.props[OM]}function P9(e){let n;return()=>(n===void 0&&(n=e()),n)}const Pne=P9(()=>window.ScrollTimeline!==void 0);class One{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,s){for(let r=0;r<this.animations.length;r++)this.animations[r][n]=s}attachTimeline(n,s){const r=this.animations.map(i=>{if(Pne()&&i.attachTimeline)return i.attachTimeline(n);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bne extends One{then(n,s){return Promise.all(this.animations).then(n).catch(s)}}const Cl=e=>e*1e3,_l=e=>e/1e3;function O9(e){return typeof e=="function"}function X_(e,n){e.timeline=n,e.onfinish=null}const B9=e=>Array.isArray(e)&&typeof e[0]=="number",Une={linearEasing:void 0};function Vne(e,n){const s=P9(e);return()=>{var r;return(r=Une[n])!==null&&r!==void 0?r:s()}}const Jx=Vne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mp=(e,n,s)=>{const r=n-e;return r===0?1:(s-e)/r},tL=(e,n,s=10)=>{let r="";const i=Math.max(Math.round(n/s),2);for(let a=0;a<i;a++)r+=e(mp(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function nL(e){return!!(typeof e=="function"&&Jx()||!e||typeof e=="string"&&(e in Y6||Jx())||B9(e)||Array.isArray(e)&&e.every(nL))}const af=([e,n,s,r])=>`cubic-bezier(${e}, ${n}, ${s}, ${r})`,Y6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:af([0,.65,.55,1]),circOut:af([.55,0,1,.45]),backIn:af([.31,.01,.66,-.59]),backOut:af([.33,1.53,.69,.99])};function sL(e,n){if(e)return typeof e=="function"&&Jx()?tL(e,n):B9(e)?af(e):Array.isArray(e)?e.map(s=>sL(s,n)||Y6.easeOut):Y6[e]}const rL=(e,n,s)=>(((1-3*s+3*n)*e+(3*s-6*n))*e+3*n)*e,Hne=1e-7,$ne=12;function zne(e,n,s,r,i){let a,o,l=0;do o=n+(s-n)/2,a=rL(o,r,i)-e,a>0?s=o:n=o;while(Math.abs(a)>Hne&&++l<$ne);return o}function Jm(e,n,s,r){if(e===n&&s===r)return Ba;const i=a=>zne(a,0,1,e,s);return a=>a===0||a===1?a:rL(i(a),n,r)}const iL=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,aL=e=>n=>1-e(1-n),oL=Jm(.33,1.53,.69,.99),U9=aL(oL),lL=iL(U9),cL=e=>(e*=2)<1?.5*U9(e):.5*(2-Math.pow(2,-10*(e-1))),V9=e=>1-Math.sin(Math.acos(e)),dL=aL(V9),uL=iL(V9),pL=e=>/^0[^.\s]+$/u.test(e);function Wne(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pL(e):!0}const Ff=e=>Math.round(e*1e5)/1e5,H9=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gne(e){return e==null}const qne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$9=(e,n)=>s=>!!(typeof s=="string"&&qne.test(s)&&s.startsWith(e)||n&&!Gne(s)&&Object.prototype.hasOwnProperty.call(s,n)),fL=(e,n,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(H9);return{[e]:parseFloat(i),[n]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Kne=e=>Fl(0,255,e),j3={...Pp,transform:e=>Math.round(Kne(e))},fd={test:$9("rgb","red"),parse:fL("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:r=1})=>"rgba("+j3.transform(e)+", "+j3.transform(n)+", "+j3.transform(s)+", "+Ff(cm.transform(r))+")"};function Yne(e){let n="",s="",r="",i="";return e.length>5?(n=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(n=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),n+=n,s+=s,r+=r,i+=i),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Z6={test:$9("#"),parse:Yne,transform:fd.transform},Ru={test:$9("hsl","hue"),parse:fL("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+zo.transform(Ff(n))+", "+zo.transform(Ff(s))+", "+Ff(cm.transform(r))+")"},Wi={test:e=>fd.test(e)||Z6.test(e)||Ru.test(e),parse:e=>fd.test(e)?fd.parse(e):Ru.test(e)?Ru.parse(e):Z6.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fd.transform(e):Ru.transform(e)},Zne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jne(e){var n,s;return isNaN(e)&&typeof e=="string"&&(((n=e.match(H9))===null||n===void 0?void 0:n.length)||0)+(((s=e.match(Zne))===null||s===void 0?void 0:s.length)||0)>0}const mL="number",hL="color",Xne="var",Qne="var(",Q_="${}",ese=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pm(e){const n=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=n.replace(ese,c=>(Wi.test(c)?(r.color.push(a),i.push(hL),s.push(Wi.parse(c))):c.startsWith(Qne)?(r.var.push(a),i.push(Xne),s.push(c)):(r.number.push(a),i.push(mL),s.push(parseFloat(c))),++a,Q_)).split(Q_);return{values:s,split:l,indexes:r,types:i}}function xL(e){return pm(e).values}function gL(e){const{split:n,types:s}=pm(e),r=n.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=n[o],i[o]!==void 0){const l=s[o];l===mL?a+=Ff(i[o]):l===hL?a+=Wi.transform(i[o]):a+=i[o]}return a}}const tse=e=>typeof e=="number"?0:e;function nse(e){const n=xL(e);return gL(e)(n.map(tse))}const xc={test:Jne,parse:xL,createTransformer:gL,getAnimatableNone:nse},sse=new Set(["brightness","contrast","saturate","opacity"]);function rse(e){const[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[r]=s.match(H9)||[];if(!r)return e;const i=s.replace(r,"");let a=sse.has(n)?1:0;return r!==s&&(a*=100),n+"("+a+i+")"}const ise=/\b([a-z-]*)\(.*?\)/gu,J6={...xc,getAnimatableNone:e=>{const n=e.match(ise);return n?n.map(rse).join(" "):e}},ase={...N9,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:J6,WebkitFilter:J6},bL=e=>ase[e];function yL(e,n){let s=bL(e);return s!==J6&&(s=xc),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const ose=new Set(["auto","none","0"]);function lse(e,n,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!ose.has(a)&&pm(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of n)e[a]=yL(s,i)}const md=e=>e*180/Math.PI,X6=e=>{const n=md(Math.atan2(e[1],e[0]));return Q6(n)},cse={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:X6,rotateZ:X6,skewX:e=>md(Math.atan(e[1])),skewY:e=>md(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Q6=e=>(e=e%360,e<0&&(e+=360),e),ej=X6,tj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nj=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),dse={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tj,scaleY:nj,scale:e=>(tj(e)+nj(e))/2,rotateX:e=>Q6(md(Math.atan2(e[6],e[5]))),rotateY:e=>Q6(md(Math.atan2(-e[2],e[0]))),rotateZ:ej,rotate:ej,skewX:e=>md(Math.atan(e[4])),skewY:e=>md(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sj(e){return e.includes("scale")?1:0}function ey(e,n){if(!e||e==="none")return sj(n);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=dse,i=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=cse,i=l}if(!i)return sj(n);const a=r[n],o=i[1].split(",").map(pse);return typeof a=="function"?a(o):o[a]}const use=(e,n)=>{const{transform:s="none"}=getComputedStyle(e);return ey(s,n)};function pse(e){return parseFloat(e.trim())}const rj=e=>e===Pp||e===os,fse=new Set(["x","y","z"]),mse=Rp.filter(e=>!fse.has(e));function hse(e){const n=[];return mse.forEach(s=>{const r=e.getValue(s);r!==void 0&&(n.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),n}const hp={width:({x:e},{paddingLeft:n="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),height:({y:e},{paddingTop:n="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>ey(n,"x"),y:(e,{transform:n})=>ey(n,"y")};hp.translateX=hp.x;hp.translateY=hp.y;const kd=new Set;let ty=!1,ny=!1;function vL(){if(ny){const e=Array.from(kd).filter(r=>r.needsMeasurement),n=new Set(e.map(r=>r.element)),s=new Map;n.forEach(r=>{const i=hse(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),n.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ny=!1,ty=!1,kd.forEach(e=>e.complete()),kd.clear()}function wL(){kd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ny=!0)})}function xse(){wL(),vL()}class z9{constructor(n,s,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(kd.add(this),ty||(ty=!0,vr.read(wL),vr.resolveKeyframes(vL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:r,motionValue:i}=this;for(let a=0;a<n.length;a++)if(n[a]===null)if(a===0){const o=i?.get(),l=n[n.length-1];if(o!==void 0)n[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(n[0]=c)}n[0]===void 0&&(n[0]=l),i&&o===void 0&&i.set(n[0])}else n[a]=n[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),kd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,kd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const CL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bse(e){const n=gse.exec(e);if(!n)return[,];const[,s,r,i]=n;return[`--${s??r}`,i]}function _L(e,n,s=1){const[r,i]=bse(e);if(!r)return;const a=window.getComputedStyle(n).getPropertyValue(r);if(a){const o=a.trim();return CL(o)?parseFloat(o):o}return j9(i)?_L(i,n,s+1):i}const jL=e=>n=>n.test(e),yse={test:e=>e==="auto",parse:e=>e},NL=[Pp,os,zo,Wl,lne,one,yse],ij=e=>NL.find(jL(e));class FL extends z9{constructor(n,s,r,i,a){super(n,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<n.length;c++){let u=n[c];if(typeof u=="string"&&(u=u.trim(),j9(u))){const p=_L(u,s.current);p!==void 0&&(n[c]=p),c===n.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XM.has(r)||n.length!==2)return;const[i,a]=n,o=ij(i),l=ij(a);if(o!==l)if(rj(o)&&rj(l))for(let c=0;c<n.length;c++){const u=n[c];typeof u=="string"&&(n[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,r=[];for(let i=0;i<n.length;i++)Wne(n[i])&&r.push(i);r.length&&lse(n,r,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:r}=this;if(!n||!n.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hp[r](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&n.getValue(r,i).jump(i,!1)}measureEndState(){var n;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=hp[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([c,u])=>{s.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const aj=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xc.test(e)||e==="0")&&!e.startsWith("url("));function vse(e){const n=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}function wse(e,n,s,r){const i=e[0];if(i===null)return!1;if(n==="display"||n==="visibility")return!0;const a=e[e.length-1],o=aj(i,n),l=aj(a,n);return!o||!l?!1:vse(e)||(s==="spring"||O9(s))&&r}const Cse=e=>e!==null;function l2(e,{repeat:n,repeatType:s="loop"},r){const i=e.filter(Cse),a=n&&s!=="loop"&&n%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const _se=40;class EL{constructor({autoplay:n=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wo.now(),this.options={autoplay:n,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_se?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&xse(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=Wo.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!wse(n,r,i,a))if(o)this.options.duration=0;else{c&&c(l2(n,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(n,s);p!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...p},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const sy=2e4;function SL(e){let n=0;const s=50;let r=e.next(n);for(;!r.done&&n<sy;)n+=s,r=e.next(n);return n>=sy?1/0:n}const Ur=(e,n,s)=>e+(n-e)*s;function N3(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function jse({hue:e,saturation:n,lightness:s,alpha:r}){e/=360,n/=100,s/=100;let i=0,a=0,o=0;if(!n)i=a=o=s;else{const l=s<.5?s*(1+n):s+n-s*n,c=2*s-l;i=N3(c,l,e+1/3),a=N3(c,l,e),o=N3(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Xx(e,n){return s=>s>0?n:e}const F3=(e,n,s)=>{const r=e*e,i=s*(n*n-r)+r;return i<0?0:Math.sqrt(i)},Nse=[Z6,fd,Ru],Fse=e=>Nse.find(n=>n.test(e));function oj(e){const n=Fse(e);if(!n)return!1;let s=n.parse(e);return n===Ru&&(s=jse(s)),s}const lj=(e,n)=>{const s=oj(e),r=oj(n);if(!s||!r)return Xx(e,n);const i={...s};return a=>(i.red=F3(s.red,r.red,a),i.green=F3(s.green,r.green,a),i.blue=F3(s.blue,r.blue,a),i.alpha=Ur(s.alpha,r.alpha,a),fd.transform(i))},Ese=(e,n)=>s=>n(e(s)),Xm=(...e)=>e.reduce(Ese),ry=new Set(["none","hidden"]);function Sse(e,n){return ry.has(e)?s=>s<=0?e:n:s=>s>=1?n:e}function kse(e,n){return s=>Ur(e,n,s)}function W9(e){return typeof e=="number"?kse:typeof e=="string"?j9(e)?Xx:Wi.test(e)?lj:Ase:Array.isArray(e)?kL:typeof e=="object"?Wi.test(e)?lj:Tse:Xx}function kL(e,n){const s=[...e],r=s.length,i=e.map((a,o)=>W9(a)(a,n[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function Tse(e,n){const s={...e,...n},r={};for(const i in s)e[i]!==void 0&&n[i]!==void 0&&(r[i]=W9(e[i])(e[i],n[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function Ise(e,n){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<n.values.length;a++){const o=n.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;r[a]=c,i[o]++}return r}const Ase=(e,n)=>{const s=xc.createTransformer(n),r=pm(e),i=pm(n);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ry.has(e)&&!i.values.length||ry.has(n)&&!r.values.length?Sse(e,n):Xm(kL(Ise(r,i),i.values),s):Xx(e,n)};function TL(e,n,s){return typeof e=="number"&&typeof n=="number"&&typeof s=="number"?Ur(e,n,s):W9(e)(e,n)}const Dse=5;function IL(e,n,s){const r=Math.max(n-Dse,0);return QM(s-e(r),n-r)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},E3=.001;function Mse({duration:e=Wr.duration,bounce:n=Wr.bounce,velocity:s=Wr.velocity,mass:r=Wr.mass}){let i,a,o=1-n;o=Fl(Wr.minDamping,Wr.maxDamping,o),e=Fl(Wr.minDuration,Wr.maxDuration,_l(e)),o<1?(i=u=>{const p=u*o,f=p*e,m=p-s,h=iy(u,o),x=Math.exp(-f);return E3-m/h*x},a=u=>{const f=u*o*e,m=f*s+s,h=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),y=iy(Math.pow(u,2),o);return(-i(u)+E3>0?-1:1)*((m-h)*x)/y}):(i=u=>{const p=Math.exp(-u*e),f=(u-s)*e+1;return-E3+p*f},a=u=>{const p=Math.exp(-u*e),f=(s-u)*(e*e);return p*f});const l=5/e,c=Rse(i,a,l);if(e=Cl(e),isNaN(c))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Lse=12;function Rse(e,n,s){let r=s;for(let i=1;i<Lse;i++)r=r-e(r)/n(r);return r}function iy(e,n){return e*Math.sqrt(1-n*n)}const Pse=["duration","bounce"],Ose=["stiffness","damping","mass"];function cj(e,n){return n.some(s=>e[s]!==void 0)}function Bse(e){let n={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...e};if(!cj(e,Ose)&&cj(e,Pse))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*Fl(.05,1,1-(e.bounce||0))*Math.sqrt(i);n={...n,mass:Wr.mass,stiffness:i,damping:a}}else{const s=Mse(e);n={...n,...s,mass:Wr.mass},n.isResolvedFromDuration=!0}return n}function AL(e=Wr.visualDuration,n=Wr.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:p,duration:f,velocity:m,isResolvedFromDuration:h}=Bse({...s,velocity:-_l(s.velocity||0)}),x=m||0,y=u/(2*Math.sqrt(c*p)),v=o-a,g=_l(Math.sqrt(c/p)),b=Math.abs(v)<5;r||(r=b?Wr.restSpeed.granular:Wr.restSpeed.default),i||(i=b?Wr.restDelta.granular:Wr.restDelta.default);let w;if(y<1){const j=iy(g,y);w=_=>{const C=Math.exp(-y*g*_);return o-C*((x+y*g*v)/j*Math.sin(j*_)+v*Math.cos(j*_))}}else if(y===1)w=j=>o-Math.exp(-g*j)*(v+(x+g*v)*j);else{const j=g*Math.sqrt(y*y-1);w=_=>{const C=Math.exp(-y*g*_),F=Math.min(j*_,300);return o-C*((x+y*g*v)*Math.sinh(F)+j*v*Math.cosh(F))/j}}const N={calculatedDuration:h&&f||null,next:j=>{const _=w(j);if(h)l.done=j>=f;else{let C=0;y<1&&(C=j===0?Cl(x):IL(w,j,_));const F=Math.abs(C)<=r,E=Math.abs(o-_)<=i;l.done=F&&E}return l.value=l.done?o:_,l},toString:()=>{const j=Math.min(SL(N),sy),_=tL(C=>N.next(j*C).value,j,30);return j+"ms "+_}};return N}function dj({keyframes:e,velocity:n=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:p}){const f=e[0],m={done:!1,value:f},h=F=>l!==void 0&&F<l||c!==void 0&&F>c,x=F=>l===void 0?c:c===void 0||Math.abs(l-F)<Math.abs(c-F)?l:c;let y=s*n;const v=f+y,g=o===void 0?v:o(v);g!==v&&(y=g-f);const b=F=>-y*Math.exp(-F/r),w=F=>g+b(F),N=F=>{const E=b(F),S=w(F);m.done=Math.abs(E)<=u,m.value=m.done?g:S};let j,_;const C=F=>{h(m.value)&&(j=F,_=AL({keyframes:[m.value,x(m.value)],velocity:IL(w,F,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:p}))};return C(0),{calculatedDuration:null,next:F=>{let E=!1;return!_&&j===void 0&&(E=!0,N(F),C(F)),j!==void 0&&F>=j?_.next(F-j):(!E&&N(F),m)}}}const Use=Jm(.42,0,1,1),Vse=Jm(0,0,.58,1),DL=Jm(.42,0,.58,1),Hse=e=>Array.isArray(e)&&typeof e[0]!="number",$se={linear:Ba,easeIn:Use,easeInOut:DL,easeOut:Vse,circIn:V9,circInOut:uL,circOut:dL,backIn:U9,backInOut:lL,backOut:oL,anticipate:cL},uj=e=>{if(B9(e)){AM(e.length===4);const[n,s,r,i]=e;return Jm(n,s,r,i)}else if(typeof e=="string")return $se[e];return e};function zse(e,n,s){const r=[],i=s||TL,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(n){const c=Array.isArray(n)?n[o]||Ba:n;l=Xm(c,l)}r.push(l)}return r}function Wse(e,n,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(AM(a===n.length),a===1)return()=>n[0];if(a===2&&n[0]===n[1])return()=>n[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),n=[...n].reverse());const l=zse(n,r,i),c=l.length,u=p=>{if(o&&p<e[0])return n[0];let f=0;if(c>1)for(;f<e.length-2&&!(p<e[f+1]);f++);const m=mp(e[f],e[f+1],p);return l[f](m)};return s?p=>u(Fl(e[0],e[a-1],p)):u}function Gse(e,n){const s=e[e.length-1];for(let r=1;r<=n;r++){const i=mp(0,n,r);e.push(Ur(s,1,i))}}function qse(e){const n=[0];return Gse(n,e.length-1),n}function Kse(e,n){return e.map(s=>s*n)}function Yse(e,n){return e.map(()=>n||DL).splice(0,e.length-1)}function Qx({duration:e=300,keyframes:n,times:s,ease:r="easeInOut"}){const i=Hse(r)?r.map(uj):uj(r),a={done:!1,value:n[0]},o=Kse(s&&s.length===n.length?s:qse(n),e),l=Wse(o,n,{ease:Array.isArray(i)?i:Yse(n,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Zse=e=>{const n=({timestamp:s})=>e(s);return{start:()=>vr.update(n,!0),stop:()=>hc(n),now:()=>ki.isProcessing?ki.timestamp:Wo.now()}},Jse={decay:dj,inertia:dj,tween:Qx,keyframes:Qx,spring:AL},Xse=e=>e/100;class G9 extends EL{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||z9,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=O9(s)?s:Jse[s]||Qx;let c,u;l!==Qx&&typeof n[0]!="number"&&(c=Xm(Xse,TL(n[0],n[1])),n=[0,100]);const p=l({...this.options,keyframes:n});a==="mirror"&&(u=l({...this.options,keyframes:[...n].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=SL(p));const{calculatedDuration:f}=p,m=f+i,h=m*(r+1)-i;return{generator:p,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:h}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:r}=this;if(!r){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:p,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:h,repeatType:x,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-p/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const g=this.currentTime-m*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>p;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let w=this.currentTime,N=a;if(h){const F=Math.min(this.currentTime,p)/f;let E=Math.floor(F),S=F%1;!S&&F>=1&&(S=1),S===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(x==="reverse"?(S=1-S,y&&(S-=y/f)):x==="mirror"&&(N=o)),w=Fl(0,1,S)*f}const j=b?{done:!1,value:c[0]}:N.next(w);l&&(j.value=l(j.value));let{done:_}=j;!b&&u!==null&&(_=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return C&&i!==void 0&&(j.value=l2(c,this.options,i)),v&&v(j.value),C&&this.finish(),j}get duration(){const{resolved:n}=this;return n?_l(n.calculatedDuration):0}get time(){return _l(this.currentTime)}set time(n){n=Cl(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=_l(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=Zse,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=n(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const Qse=new Set(["opacity","clipPath","filter","transform"]);function ere(e,n,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[n]:s};c&&(u.offset=c);const p=sL(l,i);return Array.isArray(p)&&(u.easing=p),e.animate(u,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const tre=P9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),eg=10,nre=2e4;function sre(e){return O9(e.type)||e.type==="spring"||!nL(e.ease)}function rre(e,n){const s=new G9({...n,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<nre;)r=s.sample(a),i.push(r.value),a+=eg;return{times:void 0,keyframes:i,duration:a-eg,ease:"linear"}}const ML={anticipate:cL,backInOut:lL,circInOut:uL};function ire(e){return e in ML}class pj extends EL{constructor(n){super(n);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new FL(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,i),this.resolver.scheduleResolve()}initPlayback(n,s){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Jx()&&ire(a)&&(a=ML[a]),sre(this.options)){const{onComplete:f,onUpdate:m,motionValue:h,element:x,...y}=this.options,v=rre(n,y);n=v.keyframes,n.length===1&&(n[1]=n[0]),r=v.duration,i=v.times,a=v.ease,o="keyframes"}const p=ere(l.owner.current,c,n,{...this.options,duration:r,times:i,ease:a});return p.startTime=u??this.calcStartTime(),this.pendingTimeline?(X_(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:f}=this.options;l.set(l2(n,this.options,s)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:o,ease:a,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return _l(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return _l(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Cl(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return Ba;const{animation:r}=s;X_(r,n)}return Ba}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:r,duration:i,type:a,ease:o,times:l}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:p,onComplete:f,element:m,...h}=this.options,x=new G9({...h,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),y=Cl(this.time);u.setWithVelocity(x.sample(y-eg).value,x.sample(y).value,eg)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=n;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=s.owner.getProps();return tre()&&r&&Qse.has(r)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const are={type:"spring",stiffness:500,damping:25,restSpeed:10},ore=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lre={type:"keyframes",duration:.8},cre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dre=(e,{keyframes:n})=>n.length>2?lre:qd.has(e)?e.startsWith("scale")?ore(n[1]):are:cre;function ure({when:e,delay:n,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...p}){return!!Object.keys(p).length}const q9=(e,n,s,r={},i,a)=>o=>{const l=D9(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Cl(c);let p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...l,delay:-u,onUpdate:m=>{n.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:n,element:a?void 0:i};ure(l)||(p={...p,...dre(e,p)}),p.duration&&(p.duration=Cl(p.duration)),p.repeatDelay&&(p.repeatDelay=Cl(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(f=!0)),p.allowFlatten=!l.type&&!l.ease,f&&!a&&n.get()!==void 0){const m=l2(p.keyframes,l);if(m!==void 0)return vr.update(()=>{p.onUpdate(m),p.onComplete()}),new Bne([])}return!a&&pj.supports(p)?new pj(p):new G9(p)};function pre({protectedKeys:e,needsAnimating:n},s){const r=e.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,r}function LL(e,n,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=n;r&&(o=r);const u=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),h=c[f];if(h===void 0||p&&pre(p,f))continue;const x={delay:s,...D9(o||{},f)};let y=!1;if(window.MotionHandoffAnimation){const g=eL(e);if(g){const b=window.MotionHandoffAnimation(g,f,vr);b!==null&&(x.startTime=b,y=!0)}}K6(e,f),m.start(q9(f,m,h,e.shouldReduceMotion&&XM.has(f)?{type:!1}:x,e,y));const v=m.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{vr.update(()=>{l&&Lne(e,l)})}),u}function ay(e,n,s={}){var r;const i=dm(e,n,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(LL(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:m}=a;return fre(e,n,p+u,f,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,p]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>p())}else return Promise.all([o(),l(s.delay)])}function fre(e,n,s=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(mre).forEach((u,p)=>{u.notify("AnimationStart",n),o.push(ay(u,n,{...a,delay:s+c(p)}).then(()=>u.notify("AnimationComplete",n)))}),Promise.all(o)}function mre(e,n){return e.sortNodePosition(n)}function hre(e,n,s={}){e.notify("AnimationStart",n);let r;if(Array.isArray(n)){const i=n.map(a=>ay(e,a,s));r=Promise.all(i)}else if(typeof n=="string")r=ay(e,n,s);else{const i=typeof n=="function"?dm(e,n,s.custom):n;r=Promise.all(LL(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",n)})}function RL(e,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(n[r]!==e[r])return!1;return!0}const xre=v9.length;function PL(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?PL(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const n={};for(let s=0;s<xre;s++){const r=v9[s],i=e.props[r];(om(i)||i===!1)&&(n[r]=i)}return n}const gre=[...y9].reverse(),bre=y9.length;function yre(e){return n=>Promise.all(n.map(({animation:s,options:r})=>hre(e,s,r)))}function vre(e){let n=yre(e),s=fj(),r=!0;const i=c=>(u,p)=>{var f;const m=dm(e,p,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:h,transitionEnd:x,...y}=m;u={...u,...y,...x}}return u};function a(c){n=c(e)}function o(c){const{props:u}=e,p=PL(e.parent)||{},f=[],m=new Set;let h={},x=1/0;for(let v=0;v<bre;v++){const g=gre[v],b=s[g],w=u[g]!==void 0?u[g]:p[g],N=om(w),j=g===c?b.isActive:null;j===!1&&(x=v);let _=w===p[g]&&w!==u[g]&&N;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...h},!b.isActive&&j===null||!w&&!b.prevProp||a2(w)||typeof w=="boolean")continue;const C=wre(b.prevProp,w);let F=C||g===c&&b.isActive&&!_&&N||v>x&&N,E=!1;const S=Array.isArray(w)?w:[w];let M=S.reduce(i(g),{});j===!1&&(M={});const{prevResolvedValues:k={}}=b,I={...k,...M},D=B=>{F=!0,m.has(B)&&(E=!0,m.delete(B)),b.needsAnimating[B]=!0;const U=e.getValue(B);U&&(U.liveStyle=!1)};for(const B in I){const U=M[B],H=k[B];if(h.hasOwnProperty(B))continue;let $=!1;q6(U)&&q6(H)?$=!RL(U,H):$=U!==H,$?U!=null?D(B):m.add(B):U!==void 0&&m.has(B)?D(B):b.protectedKeys[B]=!0}b.prevProp=w,b.prevResolvedValues=M,b.isActive&&(h={...h,...M}),r&&e.blockInitialAnimation&&(F=!1),F&&(!(_&&C)||E)&&f.push(...S.map(B=>({animation:B,options:{type:g}})))}if(m.size){const v={};if(typeof u.initial!="boolean"){const g=dm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(v.transition=g.transition)}m.forEach(g=>{const b=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),v[g]=b??null}),f.push({animation:v})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?n(f):Promise.resolve()}function l(c,u){var p;if(s[c].isActive===u)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(c,u)}),s[c].isActive=u;const f=o(c);for(const m in s)s[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=fj(),r=!0}}}function wre(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!RL(n,e):!1}function Gc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fj(){return{animate:Gc(!0),whileInView:Gc(),whileHover:Gc(),whileTap:Gc(),whileDrag:Gc(),whileFocus:Gc(),exit:Gc()}}class kc{constructor(n){this.isMounted=!1,this.node=n}update(){}}class Cre extends kc{constructor(n){super(n),n.animationState||(n.animationState=vre(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();a2(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let _re=0;class jre extends kc{constructor(){super(...arguments),this.id=_re++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===r)return;const i=this.node.animationState.setActive("exit",!n);s&&!n&&i.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Nre={animation:{Feature:Cre},exit:{Feature:jre}},oo={x:!1,y:!1};function OL(){return oo.x||oo.y}function Fre(e){return e==="x"||e==="y"?oo[e]?null:(oo[e]=!0,()=>{oo[e]=!1}):oo.x||oo.y?null:(oo.x=oo.y=!0,()=>{oo.x=oo.y=!1})}function fm(e,n,s,r={passive:!0}){return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s)}const K9=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Qm(e){return{point:{x:e.pageX,y:e.pageY}}}const Ere=e=>n=>K9(n)&&e(n,Qm(n));function Ef(e,n,s,r){return fm(e,n,Ere(s),r)}function BL({top:e,left:n,right:s,bottom:r}){return{x:{min:n,max:s},y:{min:e,max:r}}}function Sre({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function kre(e,n){if(!n)return e;const s=n({x:e.left,y:e.top}),r=n({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const UL=1e-4,Tre=1-UL,Ire=1+UL,VL=.01,Are=0-VL,Dre=0+VL;function aa(e){return e.max-e.min}function Mre(e,n,s){return Math.abs(e-n)<=s}function mj(e,n,s,r=.5){e.origin=r,e.originPoint=Ur(n.min,n.max,e.origin),e.scale=aa(s)/aa(n),e.translate=Ur(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Tre&&e.scale<=Ire||isNaN(e.scale))&&(e.scale=1),(e.translate>=Are&&e.translate<=Dre||isNaN(e.translate))&&(e.translate=0)}function Sf(e,n,s,r){mj(e.x,n.x,s.x,r?r.originX:void 0),mj(e.y,n.y,s.y,r?r.originY:void 0)}function hj(e,n,s){e.min=s.min+n.min,e.max=e.min+aa(n)}function Lre(e,n,s){hj(e.x,n.x,s.x),hj(e.y,n.y,s.y)}function xj(e,n,s){e.min=n.min-s.min,e.max=e.min+aa(n)}function kf(e,n,s){xj(e.x,n.x,s.x),xj(e.y,n.y,s.y)}const gj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pu=()=>({x:gj(),y:gj()}),bj=()=>({min:0,max:0}),Jr=()=>({x:bj(),y:bj()});function za(e){return[e("x"),e("y")]}function S3(e){return e===void 0||e===1}function oy({scale:e,scaleX:n,scaleY:s}){return!S3(e)||!S3(n)||!S3(s)}function od(e){return oy(e)||HL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HL(e){return yj(e.x)||yj(e.y)}function yj(e){return e&&e!=="0%"}function tg(e,n,s){const r=e-s,i=n*r;return s+i}function vj(e,n,s,r,i){return i!==void 0&&(e=tg(e,i,r)),tg(e,s,r)+n}function ly(e,n=0,s=1,r,i){e.min=vj(e.min,n,s,r,i),e.max=vj(e.max,n,s,r,i)}function $L(e,{x:n,y:s}){ly(e.x,n.translate,n.scale,n.originPoint),ly(e.y,s.translate,s.scale,s.originPoint)}const wj=.999999999999,Cj=1.0000000000001;function Rre(e,n,s,r=!1){const i=s.length;if(!i)return;n.x=n.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Bu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(n.x*=o.x.scale,n.y*=o.y.scale,$L(e,o)),r&&od(a.latestValues)&&Bu(e,a.latestValues))}n.x<Cj&&n.x>wj&&(n.x=1),n.y<Cj&&n.y>wj&&(n.y=1)}function Ou(e,n){e.min=e.min+n,e.max=e.max+n}function _j(e,n,s,r,i=.5){const a=Ur(e.min,e.max,i);ly(e,n,s,a,r)}function Bu(e,n){_j(e.x,n.x,n.scaleX,n.scale,n.originX),_j(e.y,n.y,n.scaleY,n.scale,n.originY)}function zL(e,n){return BL(kre(e.getBoundingClientRect(),n))}function Pre(e,n,s){const r=zL(e,s),{scroll:i}=n;return i&&(Ou(r.x,i.offset.x),Ou(r.y,i.offset.y)),r}const WL=({current:e})=>e?e.ownerDocument.defaultView:null,jj=(e,n)=>Math.abs(e-n);function Ore(e,n){const s=jj(e.x,n.x),r=jj(e.y,n.y);return Math.sqrt(s**2+r**2)}class GL{constructor(n,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=T3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=Ore(f.offset,{x:0,y:0})>=3;if(!m&&!h)return;const{point:x}=f,{timestamp:y}=ki;this.history.push({...x,timestamp:y});const{onStart:v,onMove:g}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=k3(m,this.transformPagePoint),vr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:x,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=T3(f.type==="pointercancel"?this.lastMoveEventInfo:k3(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),x&&x(f,v)},!K9(n))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const o=Qm(n),l=k3(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ki;this.history=[{...c,timestamp:u}];const{onSessionStart:p}=s;p&&p(n,T3(l,this.history)),this.removeListeners=Xm(Ef(this.contextWindow,"pointermove",this.handlePointerMove),Ef(this.contextWindow,"pointerup",this.handlePointerUp),Ef(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),hc(this.updatePoint)}}function k3(e,n){return n?{point:n(e.point)}:e}function Nj(e,n){return{x:e.x-n.x,y:e.y-n.y}}function T3({point:e},n){return{point:e,delta:Nj(e,qL(n)),offset:Nj(e,Bre(n)),velocity:Ure(n,.1)}}function Bre(e){return e[0]}function qL(e){return e[e.length-1]}function Ure(e,n){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=qL(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>Cl(n)));)s--;if(!r)return{x:0,y:0};const a=_l(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vre(e,{min:n,max:s},r){return n!==void 0&&e<n?e=r?Ur(n,e,r.min):Math.max(e,n):s!==void 0&&e>s&&(e=r?Ur(s,e,r.max):Math.min(e,s)),e}function Fj(e,n,s){return{min:n!==void 0?e.min+n:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Hre(e,{top:n,left:s,bottom:r,right:i}){return{x:Fj(e.x,s,i),y:Fj(e.y,n,r)}}function Ej(e,n){let s=n.min-e.min,r=n.max-e.max;return n.max-n.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function $re(e,n){return{x:Ej(e.x,n.x),y:Ej(e.y,n.y)}}function zre(e,n){let s=.5;const r=aa(e),i=aa(n);return i>r?s=mp(n.min,n.max-r,e.min):r>i&&(s=mp(e.min,e.max-i,n.min)),Fl(0,1,s)}function Wre(e,n){const s={};return n.min!==void 0&&(s.min=n.min-e.min),n.max!==void 0&&(s.max=n.max-e.min),s}const cy=.35;function Gre(e=cy){return e===!1?e=0:e===!0&&(e=cy),{x:Sj(e,"left","right"),y:Sj(e,"top","bottom")}}function Sj(e,n,s){return{min:kj(e,n),max:kj(e,s)}}function kj(e,n){return typeof e=="number"?e:e[n]||0}const qre=new WeakMap;class Kre{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Qm(p).point)},a=(p,f)=>{const{drag:m,dragPropagation:h,onDragStart:x}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Fre(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),za(v=>{let g=this.getAxisMotionValue(v).get()||0;if(zo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(g=aa(w)*(parseFloat(g)/100))}}this.originPoint[v]=g}),x&&vr.postRender(()=>x(p,f)),K6(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(p,f)=>{const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:x,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=Yre(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(p,f)},l=(p,f)=>this.stop(p,f),c=()=>za(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new GL(n,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:WL(this.visualElement)})}stop(n,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&vr.postRender(()=>a(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,r){const{drag:i}=this.getProps();if(!r||!l0(n,i,this.currentDirection))return;const a=this.getAxisMotionValue(n);let o=this.originPoint[n]+r[n];this.constraints&&this.constraints[n]&&(o=Vre(o,this.constraints[n],this.elastic[n])),a.set(o)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,a=this.constraints;s&&Lu(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=Hre(i.layoutBox,s):this.constraints=!1,this.elastic=Gre(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&za(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Wre(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!Lu(n))return!1;const r=n.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Pre(r,i.root,this.visualElement.getTransformPagePoint());let o=$re(i.layout.layoutBox,a);if(s){const l=s(Sre(o));this.hasMutatedConstraints=!!l,l&&(o=BL(l))}return o}startAnimation(n){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=za(p=>{if(!l0(p,s,this.currentDirection))return;let f=c&&c[p]||{};o&&(f={min:0,max:0});const m=i?200:1e6,h=i?40:1e7,x={type:"inertia",velocity:r?n[p]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(p,x)});return Promise.all(u).then(l)}startAxisValueAnimation(n,s){const r=this.getAxisMotionValue(n);return K6(this.visualElement,n),r.start(q9(n,r,0,s,this.visualElement,!1))}stopAnimation(){za(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){za(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(n,(r.initial?r.initial[n]:void 0)||0)}snapToCursor(n){za(s=>{const{drag:r}=this.getProps();if(!l0(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(n[s]-Ur(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Lu(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};za(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=zre({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),za(o=>{if(!l0(o,n,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ur(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;qre.set(this.visualElement,this);const n=this.visualElement.current,s=Ef(n,"pointerdown",c=>{const{drag:u,dragListener:p=!0}=this.getProps();u&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Lu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vr.read(r);const o=fm(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(za(p=>{const f=this.getAxisMotionValue(p);f&&(this.originPoint[p]+=c[p].translate,f.set(f.get()+c[p].translate))}),this.visualElement.render())}));return()=>{o(),s(),a(),l&&l()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=cy,dragMomentum:l=!0}=n;return{...n,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function l0(e,n,s){return(n===!0||n===e)&&(s===null||s===e)}function Yre(e,n=10){let s=null;return Math.abs(e.y)>n?s="y":Math.abs(e.x)>n&&(s="x"),s}class Zre extends kc{constructor(n){super(n),this.removeGroupControls=Ba,this.removeListeners=Ba,this.controls=new Kre(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ba}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tj=e=>(n,s)=>{e&&vr.postRender(()=>e(n,s))};class Jre extends kc{constructor(){super(...arguments),this.removePointerDownListener=Ba}onPointerDown(n){this.session=new GL(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WL(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Tj(n),onStart:Tj(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&vr.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ef(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Y0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ij(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const E1={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(os.test(e))e=parseFloat(e);else return e;const s=Ij(e,n.target.x),r=Ij(e,n.target.y);return`${s}% ${r}%`}},Xre={correct:(e,{treeScale:n,projectionDelta:s})=>{const r=e,i=xc.parse(e);if(i.length>5)return r;const a=xc.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*n.x,c=s.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=Ur(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class Qre extends d.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=n;ane(eie),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Y0.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||n.layoutDependency!==s||s===void 0||n.isPresent!==a?o.willUpdate():this.safeToRemove(),n.isPresent!==a&&(a?o.promote():o.relegate()||vr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),w9.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=n;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function KL(e){const[n,s]=IM(),r=d.useContext(am);return t.jsx(Qre,{...e,layoutGroup:r,switchLayoutGroup:d.useContext(BM),isPresent:n,safeToRemove:s})}const eie={borderRadius:{...E1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:E1,borderTopRightRadius:E1,borderBottomLeftRadius:E1,borderBottomRightRadius:E1,boxShadow:Xre};function tie(e,n,s){const r=Yi(e)?e:um(e);return r.start(q9("",r,n,s)),r.animation}function nie(e){return e instanceof SVGElement&&e.tagName!=="svg"}const sie=(e,n)=>e.depth-n.depth;class rie{constructor(){this.children=[],this.isDirty=!1}add(n){M9(this.children,n),this.isDirty=!0}remove(n){L9(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(sie),this.isDirty=!1,this.children.forEach(n)}}function iie(e,n){const s=Wo.now(),r=({timestamp:i})=>{const a=i-s;a>=n&&(hc(r),e(a-n))};return vr.read(r,!0),()=>hc(r)}const YL=["TopLeft","TopRight","BottomLeft","BottomRight"],aie=YL.length,Aj=e=>typeof e=="string"?parseFloat(e):e,Dj=e=>typeof e=="number"||os.test(e);function oie(e,n,s,r,i,a){i?(e.opacity=Ur(0,s.opacity!==void 0?s.opacity:1,lie(r)),e.opacityExit=Ur(n.opacity!==void 0?n.opacity:1,0,cie(r))):a&&(e.opacity=Ur(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<aie;o++){const l=`border${YL[o]}Radius`;let c=Mj(n,l),u=Mj(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Dj(c)===Dj(u)?(e[l]=Math.max(Ur(Aj(c),Aj(u),r),0),(zo.test(u)||zo.test(c))&&(e[l]+="%")):e[l]=u}(n.rotate||s.rotate)&&(e.rotate=Ur(n.rotate||0,s.rotate||0,r))}function Mj(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const lie=ZL(0,.5,dL),cie=ZL(.5,.95,Ba);function ZL(e,n,s){return r=>r<e?0:r>n?1:s(mp(e,n,r))}function Lj(e,n){e.min=n.min,e.max=n.max}function Ha(e,n){Lj(e.x,n.x),Lj(e.y,n.y)}function Rj(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function Pj(e,n,s,r,i){return e-=n,e=tg(e,1/s,r),i!==void 0&&(e=tg(e,1/i,r)),e}function die(e,n=0,s=1,r=.5,i,a=e,o=e){if(zo.test(n)&&(n=parseFloat(n),n=Ur(o.min,o.max,n/100)-o.min),typeof n!="number")return;let l=Ur(a.min,a.max,r);e===a&&(l-=n),e.min=Pj(e.min,n,s,l,i),e.max=Pj(e.max,n,s,l,i)}function Oj(e,n,[s,r,i],a,o){die(e,n[s],n[r],n[i],n.scale,a,o)}const uie=["x","scaleX","originX"],pie=["y","scaleY","originY"];function Bj(e,n,s,r){Oj(e.x,n,uie,s?s.x:void 0,r?r.x:void 0),Oj(e.y,n,pie,s?s.y:void 0,r?r.y:void 0)}function Uj(e){return e.translate===0&&e.scale===1}function JL(e){return Uj(e.x)&&Uj(e.y)}function Vj(e,n){return e.min===n.min&&e.max===n.max}function fie(e,n){return Vj(e.x,n.x)&&Vj(e.y,n.y)}function Hj(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function XL(e,n){return Hj(e.x,n.x)&&Hj(e.y,n.y)}function $j(e){return aa(e.x)/aa(e.y)}function zj(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class mie{constructor(){this.members=[]}add(n){M9(this.members,n),n.scheduleRender()}remove(n){if(L9(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(i=>n===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(n,s){const r=this.lead;if(n!==r&&(this.prevLead=r,this.lead=n,n.show(),r)){r.instance&&r.scheduleRender(),n.scheduleRender(),n.resumeFrom=r,s&&(n.resumeFrom.preserveOpacity=!0),r.snapshot&&(n.snapshot=r.snapshot,n.snapshot.latestValues=r.animationValues||r.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:i}=n.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:r}=n;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hie(e,n,s){let r="";const i=e.x.translate/n.x,a=e.y.translate/n.y,o=s?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(n.x!==1||n.y!==1)&&(r+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:u,rotate:p,rotateX:f,rotateY:m,skewX:h,skewY:x}=s;u&&(r=`perspective(${u}px) ${r}`),p&&(r+=`rotate(${p}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),h&&(r+=`skewX(${h}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*n.x,c=e.y.scale*n.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const I3=["","X","Y","Z"],xie={visibility:"hidden"},Wj=1e3;let gie=0;function A3(e,n,s,r){const{latestValues:i}=n;i[e]&&(s[e]=i[e],n.setStaticValue(e,0),r&&(r[e]=0))}function QL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const s=eL(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",vr,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&QL(r)}function eR({attachResizeListener:e,defaultParent:n,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=n?.()){this.id=gie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vie),this.nodes.forEach(Nie),this.nodes.forEach(Fie),this.nodes.forEach(wie)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new rie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new R9),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nie(o),this.instance=o;const{layoutId:c,layout:u,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=iie(m,250),Y0.hasAnimatedSinceResize&&(Y0.hasAnimatedSinceResize=!1,this.nodes.forEach(qj))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||p.getDefaultTransition()||Iie,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=p.getProps(),b=!this.targetLayout||!XL(this.targetLayout,x),w=!m&&h;if(this.options.layoutRoot||this.resumeFrom||w||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const N={...D9(y,"layout"),onPlay:v,onComplete:g};(p.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||qj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Eie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const f=this.path[p];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gj);return}this.isUpdating||this.nodes.forEach(_ie),this.isUpdating=!1,this.nodes.forEach(jie),this.nodes.forEach(bie),this.nodes.forEach(yie),this.clearAllSnapshots();const l=Wo.now();ki.delta=Fl(0,1e3/60,l-ki.timestamp),ki.timestamp=l,ki.isProcessing=!0,_3.update.process(ki),_3.preRender.process(ki),_3.render.process(ki),ki.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cie),this.sharedNodes.forEach(Sie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!aa(this.snapshot.measuredBox.x)&&!aa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!JL(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,p=u!==this.prevTransformTemplateValue;o&&(l||od(this.latestValues)||p)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Aie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Jr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Die))){const{scroll:p}=this.root;p&&(Ou(c.x,p.offset.x),Ou(c.y,p.offset.y))}return c}removeElementScroll(o){var l;const c=Jr();if(Ha(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const p=this.path[u],{scroll:f,options:m}=p;p!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ha(c,o),Ou(c.x,f.offset.x),Ou(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Jr();Ha(c,o);for(let u=0;u<this.path.length;u++){const p=this.path[u];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Bu(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),od(p.latestValues)&&Bu(c,p.latestValues)}return od(this.latestValues)&&Bu(c,this.latestValues),c}removeTransform(o){const l=Jr();Ha(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!od(u.latestValues))continue;oy(u.latestValues)&&u.updateSnapshot();const p=Jr(),f=u.measurePageBox();Ha(p,f),Bj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,p)}return od(this.latestValues)&&Bj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ki.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=ki.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),kf(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ha(this.target,this.layout.layoutBox),$L(this.target,this.targetDelta)):Ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),kf(this.relativeTargetOrigin,this.target,h.target),Ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oy(this.parent.latestValues)||HL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ki.timestamp&&(u=!1),u)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;Ha(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;Rre(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jr());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rj(this.prevProjectionDelta.x,this.projectionDelta.x),Rj(this.prevProjectionDelta.y,this.projectionDelta.y)),Sf(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!zj(this.projectionDelta.x,this.prevProjectionDelta.x)||!zj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pu(),this.projectionDelta=Pu(),this.projectionDeltaWithTransform=Pu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},p={...this.latestValues},f=Pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Jr(),h=c?c.source:void 0,x=this.layout?this.layout.source:void 0,y=h!==x,v=this.getStack(),g=!v||v.members.length<=1,b=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(Tie));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;Kj(f.x,o.x,j),Kj(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kie(this.relativeTarget,this.relativeTargetOrigin,m,j),w&&fie(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Jr()),Ha(w,this.relativeTarget)),y&&(this.animationValues=p,oie(p,u,this.latestValues,j,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vr.update(()=>{Y0.hasAnimatedSinceResize=!0,this.currentAnimation=tie(0,Wj,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:p}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&tR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Jr();const f=aa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=aa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Ha(l,c),Bu(l,p),Sf(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mie),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&A3("z",o,u,this.animationValues);for(let p=0;p<I3.length;p++)A3(`rotate${I3[p]}`,o,u,this.animationValues),A3(`skew${I3[p]}`,o,u,this.animationValues);o.render();for(const p in u)o.setStaticValue(p,u[p]),this.animationValues&&(this.animationValues[p]=u[p]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xie;const u={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=q0(o?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=q0(o?.pointerEvents)||""),this.hasProjected&&!od(this.latestValues)&&(y.transform=p?p({},""):"none",this.hasProjected=!1),y}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=hie(this.projectionDeltaWithTransform,this.treeScale,m),p&&(u.transform=p(m,u.transform));const{x:h,y:x}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in lm){if(m[y]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:b}=lm[y],w=u.transform==="none"?m[y]:v(m[y],f);if(g){const N=g.length;for(let j=0;j<N;j++)u[g[j]]=w}else b?this.options.visualElement.renderState.vars[y]=w:u[y]=w}return this.options.layoutId&&(u.pointerEvents=f===this?q0(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Gj),this.root.sharedNodes.clear()}}}function bie(e){e.updateLayout()}function yie(e){var n;const s=((n=e.resumeFrom)===null||n===void 0?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?za(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],h=aa(m);m.min=r[f].min,m.max=m.min+h}):tR(a,s.layoutBox,r)&&za(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],h=aa(r[f]);m.max=m.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const l=Pu();Sf(l,r,s.layoutBox);const c=Pu();o?Sf(c,e.applyTransform(i,!0),s.measuredBox):Sf(c,r,s.layoutBox);const u=!JL(l);let p=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const x=Jr();kf(x,s.layoutBox,m.layoutBox);const y=Jr();kf(y,r,h.layoutBox),XL(x,y)||(p=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function vie(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wie(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cie(e){e.clearSnapshot()}function Gj(e){e.clearMeasurements()}function _ie(e){e.isLayoutDirty=!1}function jie(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function qj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Nie(e){e.resolveTargetDelta()}function Fie(e){e.calcProjection()}function Eie(e){e.resetSkewAndRotation()}function Sie(e){e.removeLeadSnapshot()}function Kj(e,n,s){e.translate=Ur(n.translate,0,s),e.scale=Ur(n.scale,1,s),e.origin=n.origin,e.originPoint=n.originPoint}function Yj(e,n,s,r){e.min=Ur(n.min,s.min,r),e.max=Ur(n.max,s.max,r)}function kie(e,n,s,r){Yj(e.x,n.x,s.x,r),Yj(e.y,n.y,s.y,r)}function Tie(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Iie={duration:.45,ease:[.4,0,.1,1]},Zj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Jj=Zj("applewebkit/")&&!Zj("chrome/")?Math.round:Ba;function Xj(e){e.min=Jj(e.min),e.max=Jj(e.max)}function Aie(e){Xj(e.x),Xj(e.y)}function tR(e,n,s){return e==="position"||e==="preserve-aspect"&&!Mre($j(n),$j(s),.2)}function Die(e){var n;return e!==e.root&&((n=e.scroll)===null||n===void 0?void 0:n.wasRoot)}const Mie=eR({attachResizeListener:(e,n)=>fm(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D3={current:void 0},nR=eR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!D3.current){const e=new Mie({});e.mount(window),e.setOptions({layoutScroll:!0}),D3.current=e}return D3.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lie={pan:{Feature:Jre},drag:{Feature:Zre,ProjectionNode:nR,MeasureLayout:KL}};function Rie(e,n,s){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function sR(e,n){const s=Rie(e),r=new AbortController,i={passive:!0,...n,signal:r.signal};return[s,i,()=>r.abort()]}function Qj(e){return!(e.pointerType==="touch"||OL())}function Pie(e,n,s={}){const[r,i,a]=sR(e,s),o=l=>{if(!Qj(l))return;const{target:c}=l,u=n(c,l);if(typeof u!="function"||!c)return;const p=f=>{Qj(f)&&(u(f),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}function eN(e,n,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&vr.postRender(()=>a(n,Qm(n)))}class Oie extends kc{mount(){const{current:n}=this.node;n&&(this.unmount=Pie(n,(s,r)=>(eN(this.node,r,"Start"),i=>eN(this.node,i,"End"))))}unmount(){}}class Bie extends kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xm(fm(this.node.current,"focus",()=>this.onFocus()),fm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tN(e,n){const s=`${n}PointerCapture`;if(e.target instanceof Element&&s in e.target&&e.pointerId!==void 0)try{e.target[s](e.pointerId)}catch{}}const rR=(e,n)=>n?e===n?!0:rR(e,n.parentElement):!1,Uie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vie(e){return Uie.has(e.tagName)||e.tabIndex!==-1}const of=new WeakSet;function nN(e){return n=>{n.key==="Enter"&&e(n)}}function M3(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const Hie=(e,n)=>{const s=e.currentTarget;if(!s)return;const r=nN(()=>{if(of.has(s))return;M3(s,"down");const i=nN(()=>{M3(s,"up")}),a=()=>M3(s,"cancel");s.addEventListener("keyup",i,n),s.addEventListener("blur",a,n)});s.addEventListener("keydown",r,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),n)};function sN(e){return K9(e)&&!OL()}function $ie(e,n,s={}){const[r,i,a]=sR(e,s),o=l=>{const c=l.currentTarget;if(!c||!sN(l)||of.has(c))return;of.add(c),tN(l,"set");const u=n(c,l),p=(h,x)=>{c.removeEventListener("pointerup",f),c.removeEventListener("pointercancel",m),tN(h,"release"),!(!sN(h)||!of.has(c))&&(of.delete(c),typeof u=="function"&&u(h,{success:x}))},f=h=>{(h.isTrusted?zie(h,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?p(h,!1):p(h,!(c instanceof Element)||rR(c,h.target))},m=h=>{p(h,!1)};c.addEventListener("pointerup",f,i),c.addEventListener("pointercancel",m,i),c.addEventListener("lostpointercapture",m,i)};return r.forEach(l=>{l=s.useGlobalTarget?window:l;let c=!1;l instanceof HTMLElement&&(c=!0,!Vie(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,i),c&&l.addEventListener("focus",u=>Hie(u,i),i)}),a}function zie(e,n){return e.clientX<n.left||e.clientX>n.right||e.clientY<n.top||e.clientY>n.bottom}function rN(e,n,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&vr.postRender(()=>a(n,Qm(n)))}class Wie extends kc{mount(){const{current:n}=this.node;n&&(this.unmount=$ie(n,(s,r)=>(rN(this.node,r,"Start"),(i,{success:a})=>rN(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,L3=new WeakMap,Gie=e=>{const n=dy.get(e.target);n&&n(e)},qie=e=>{e.forEach(Gie)};function Kie({root:e,...n}){const s=e||document;L3.has(s)||L3.set(s,{});const r=L3.get(s),i=JSON.stringify(n);return r[i]||(r[i]=new IntersectionObserver(qie,{root:e,...n})),r[i]}function Yie(e,n,s){const r=Kie(n);return dy.set(e,s),r.observe(e),()=>{dy.delete(e),r.unobserve(e)}}const Zie={some:0,all:1};class Jie extends kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=n,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Zie[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),m=u?p:f;m&&m(c)};return Yie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(Xie(n,s))&&this.startObserver()}unmount(){}}function Xie({viewport:e={}},{viewport:n={}}={}){return s=>e[s]!==n[s]}const Qie={inView:{Feature:Jie},tap:{Feature:Wie},focus:{Feature:Bie},hover:{Feature:Oie}},eae={layout:{ProjectionNode:nR,MeasureLayout:KL}},uy={current:null},iR={current:!1};function tae(){if(iR.current=!0,!!x9)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>uy.current=e.matches;e.addListener(n),n()}else uy.current=!1}const nae=[...NL,Wi,xc],sae=e=>nae.find(jL(e)),rae=new WeakMap;function iae(e,n,s){for(const r in n){const i=n[r],a=s[r];if(Yi(i))e.addValue(r,i);else if(Yi(a))e.addValue(r,um(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,um(o!==void 0?o:i,{owner:e}))}}for(const r in s)n[r]===void 0&&e.removeValue(r);return n}const iN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aae{scrapeMotionValuesFromProps(n,s,r){return{}}constructor({parent:n,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z9,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Wo.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,vr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:p}=o;this.onUpdate=p,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=u,this.parent=n,this.props=s,this.presenceContext=r,this.depth=n?n.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=o2(s),this.isVariantNode=PM(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const h in m){const x=m[h];c[h]!==void 0&&Yi(x)&&x.set(c[h],!1)}}mount(n){this.current=n,rae.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),iR.current||tae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hc(this.notifyUpdate),hc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const r=qd.has(n);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",l=>{this.latestValues[n]=l,this.props.onUpdate&&vr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in fp){const s=fp[n];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[n]&&i&&r(this.props)&&(this.features[n]=new i(this)),this.features[n]){const a=this.features[n];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<iN.length;r++){const i=iN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=n[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=iae(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const r=this.values.get(n);s!==r&&(r&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let r=this.values.get(n);return r===void 0&&s!==void 0&&(r=um(s===null?void 0:s,{owner:this}),this.addValue(n,r)),r}readValue(n,s){var r;let i=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(r=this.getBaseTargetFromProps(this.props,n))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,n,this.options);return i!=null&&(typeof i=="string"&&(CL(i)||pL(i))?i=parseFloat(i):!sae(i)&&xc.test(s)&&(i=yL(n,s)),this.setBaseTarget(n,Yi(i)?i.get():i)),Yi(i)?i.get():i}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=I9(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[n])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,n);return a!==void 0&&!Yi(a)?a:this.initialValues[n]!==void 0&&i===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new R9),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}}class aR extends aae{constructor(){super(...arguments),this.KeyframeResolver=FL}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:r}){delete s[n],delete r[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Yi(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function oae(e){return window.getComputedStyle(e)}class lae extends aR{constructor(){super(...arguments),this.type="html",this.renderInstance=KM}readValueFromInstance(n,s){if(qd.has(s))return use(n,s);{const r=oae(n),i=(_9(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(n,{transformPagePoint:s}){return zL(n,s)}build(n,s,r){F9(n,s,r.transformTemplate)}scrapeMotionValuesFromProps(n,s,r){return A9(n,s,r)}}class cae extends aR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&qM(this.current,this.renderState)}}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(qd.has(s)){const r=bL(s);return r&&r.default||0}return s=YM.has(s)?s:C9(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,r){return JM(n,s,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&vr.postRender(this.updateDimensions)}build(n,s,r){k9(n,s,this.isSVGTag,r.transformTemplate)}renderInstance(n,s,r,i){ZM(n,s,r,i)}mount(n){this.isSVGTag=T9(n.tagName),super.mount(n)}}const dae=(e,n)=>S9(e)?new cae(n):new lae(n,{allowProjection:e!==d.Fragment}),uae=Tne({...Nre,...Qie,...Lie,...eae},dae),qn=Gte(uae);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oR=(...e)=>e.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=d.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>d.createElement("svg",{ref:c,...fae,width:n,height:n,stroke:e,strokeWidth:r?Number(s)*24/Number(n):s,className:oR("lucide",i),...l},[...o.map(([u,p])=>d.createElement(u,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(e,n)=>{const s=d.forwardRef(({className:r,...i},a)=>d.createElement(mae,{ref:a,iconNode:n,className:oR(`lucide-${pae(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=yn("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=yn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=yn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=yn("ArrowLeftToLine",[["path",{d:"M3 19V5",key:"rwsyhb"}],["path",{d:"m13 6-6 6 6 6",key:"1yhaz7"}],["path",{d:"M7 12h14",key:"uoisry"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=yn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=yn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=yn("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=yn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=yn("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=yn("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=yn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=yn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=yn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=yn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=yn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=yn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=yn("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=yn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=yn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=yn("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=yn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=yn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=yn("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=yn("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=yn("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=yn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=yn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=yn("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=yn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=yn("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=yn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=yn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=yn("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=yn("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=yn("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=yn("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=yn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=yn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=yn("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=yn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=yn("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=yn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=yn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=yn("MessageCircleWarning",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=yn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=yn("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=yn("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=yn("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=yn("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=yn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=yn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=yn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=yn("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=yn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=yn("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=yn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=yn("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=yn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=yn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=yn("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=yn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=yn("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=yn("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=yn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=yn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=yn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=yn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Op=e$,Bp=t$,Kd=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(sT,{ref:r,className:A("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm font-normal shadow-sm ring-offset-background data-[placeholder]:text-tertiary focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 group",e),...s,children:[n,t.jsx(YH,{asChild:!0,children:t.jsx(Dr,{className:"h-4 w-4 opacity-50 transition-transform duration-200 group-data-[state=open]:rotate-180"})})]}));Kd.displayName=sT.displayName;const uR=d.forwardRef(({className:e,...n},s)=>t.jsx(rT,{ref:s,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(c2,{className:"w-4 h-4"})}));uR.displayName=rT.displayName;const pR=d.forwardRef(({className:e,...n},s)=>t.jsx(iT,{ref:s,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Dr,{className:"w-4 h-4"})}));pR.displayName=iT.displayName;const Yd=d.forwardRef(({className:e,children:n,position:s="popper",...r},i)=>t.jsx(ZH,{children:t.jsxs(aT,{ref:i,className:A("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(uR,{}),t.jsx(JH,{className:A("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(pR,{})]})}));Yd.displayName=aT.displayName;const qae=d.forwardRef(({className:e,...n},s)=>t.jsx(oT,{ref:s,className:A("py-1.5 pl-8 pr-2 text-base font-semibold",e),...n}));qae.displayName=oT.displayName;const fo=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(lT,{ref:r,className:A("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none focus:bg-[#222] focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(XH,{children:t.jsx(Mn,{className:"w-4 h-4"})})}),t.jsx(QH,{children:n})]}));fo.displayName=lT.displayName;const Kae=d.forwardRef(({className:e,...n},s)=>t.jsx(cT,{ref:s,className:A("-mx-1 my-1 h-px bg-muted",e),...n}));Kae.displayName=cT.displayName;var Yae=Y$();const ng=Ji(Yae),Ni=d.forwardRef(({className:e,type:n,...s},r)=>t.jsx("input",{type:n,className:A("flex h-10 w-full rounded-md border border-input bg-background px-4 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));Ni.displayName="Input";function Zae({selectedImage:e,setSelectedImage:n,globalConfig:s,label:r="Docker Image",description:i,isCloudFlow:a}){const{toast:o}=ds(),[l,c]=d.useState([]),[u,p]=d.useState(!0),[f,m]=d.useState(!1),[h,x]=d.useState({}),[y,v]=d.useState({}),[g,b]=d.useState(!1),w=i9();d.useEffect(()=>{(async()=>{if(!w){p(!1);return}try{p(!0);const C=await Dp.listImages();c(C)}catch{o({title:"Error",description:"Failed to fetch Docker images",variant:"destructive"})}finally{p(!1)}})()},[w]);const N=()=>t.jsx("p",{className:"text-[#FFFFFF50] font-['Inter'] text-sm",children:r}),j=_=>{const C=s?.templates?.find(E=>E?.env_image===_);if(C)return C?.name||C?.env_image;const F=l?.find(E=>E?.env_image===_);return F?F?.repo_name||F?.env_image:""};return t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:N()}),f?t.jsx(Ni,{id:"imageInput",value:e,onChange:_=>{n(_?.target?.value),z(Tn.HOME_PAGE_EVENTS.SELECT_TEMPLATE_UPDATED,{selectedImage:j(_?.target?.value)})},placeholder:"Enter container image name/tag",className:"mb-4"}):t.jsxs(Op,{value:e,onValueChange:_=>{n(_),z(Tn.HOME_PAGE_EVENTS.SELECT_TEMPLATE_UPDATED,{selectedImage:j(_)})},disabled:u,open:g,onOpenChange:b,children:[t.jsx(Kd,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#ffffff30] transition-colors data-[state=open]:border-[#ffffff30] ",children:u?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Loading images..."})]}):t.jsx(Bp,{placeholder:"Select an image",children:(()=>{const _=s?.templates?.find(F=>F.env_image===e);if(_)return _.name||_.env_image;const C=l.find(F=>F.env_image===e);return C?C.repo_name||C.env_image:e||"Select an image"})()})}),t.jsx(Yd,{className:"bg-[#131314] border border-[#222]",children:l.length>0||s?.templates?.length>0?t.jsx(t.Fragment,{children:a?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Select Template"}),s?.templates?.filter(_=>_.is_cloud_flow).map((_,C)=>t.jsx(fo,{value:_.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:_.name||_.env_image})})},`cloud-${_.env_image}-${C}`))]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Template Docker Images"}),s?.templates?.filter(_=>!_.is_cloud_flow).map((_,C)=>{const F=l.find(E=>E.env_image===_.env_image);return F&&_.image_tag&&(F.digest,_.image_tag),h[_.env_image],t.jsx(fo,{value:_.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:_.name||_.env_image})})},`template-${_.env_image}-${C}`)}),t.jsx("div",{className:"h-px bg-[#222] my-2"}),t.jsx("div",{className:"py-2 px-2 text-xs font-medium text-[#666]",children:"Local Docker Images"}),l.filter(_=>!s?.templates?.some(C=>C.env_image===_.env_image)).map((_,C)=>t.jsx(fo,{value:_.env_image,className:"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-base outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:t.jsx("div",{className:"flex items-center justify-between w-full",children:t.jsx("span",{className:"truncate",children:_.env_image})})},`local-${_.env_image}-${C}`))]})}):t.jsx("div",{className:"py-6 text-center text-sm text-[#666]",children:u?"Loading images...":"No images found"})})]}),!e&&t.jsx("p",{className:"mt-1 text-sm text-destructive",children:"Container image is required"})]})}const cN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dN=vM,u2=(e,n)=>s=>{var r;if(n?.variants==null)return dN(e,s?.class,s?.className);const{variants:i,defaultVariants:a}=n,o=Object.keys(i).map(u=>{const p=s?.[u],f=a?.[u];if(p===null)return null;const m=cN(p)||cN(f);return i[u][m]}),l=s&&Object.entries(s).reduce((u,p)=>{let[f,m]=p;return m===void 0||(u[f]=m),u},{}),c=n==null||(r=n.compoundVariants)===null||r===void 0?void 0:r.reduce((u,p)=>{let{class:f,className:m,...h}=p;return Object.entries(h).every(x=>{let[y,v]=x;return Array.isArray(v)?v.includes({...a,...l}[y]):{...a,...l}[y]===v})?[...u,f,m]:u},[]);return dN(e,o,c,s?.class,s?.className)},Od=u2("inline-flex items-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-20 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input/10 text-background hover:border-input/10 hover:bg-background",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 px-4 py-3",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 pl-3 rounded-[28px] gap-2",sm:"h-9 pl-3 rounded-[28px] gap-2",lg:"h-11 pl-3 rounded-[28px] gap-2",icon:"h-10 w-10"},expandOnHover:{true:"pr-3 hover:pr-6 group",false:"pr-3"}},defaultVariants:{variant:"default",size:"default",expandOnHover:!1}}),Vt=d.forwardRef(({className:e,variant:n,size:s,asChild:r=!1,children:i,rightIcon:a,expandOnHover:o,forceHover:l,centerContent:c,...u},p)=>{const f=r?n$:"button",m=!!a;return t.jsxs(f,{className:A(Od({variant:n,size:s,expandOnHover:o,className:e}),m&&"justify-between",!m&&"justify-center",l&&o&&"pr-6"),ref:p,...u,children:[t.jsx("div",{className:A("flex items-center w-full",c&&"justify-center"),children:i}),a&&t.jsx("div",{className:A("flex items-center transition-transform duration-300 ease-in-out",o&&l&&"translate-x-2"),children:a})]})});Vt.displayName="Button";const fR=d.forwardRef(({className:e,...n},s)=>t.jsx(dT,{ref:s,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:t.jsx(s$,{className:A("flex items-center justify-center text-current"),children:t.jsx(Mn,{className:"h-4 w-4"})})}));fR.displayName=dT.displayName;const Jae=u2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mR({className:e,variant:n,...s}){return t.jsx("div",{className:A(Jae({variant:n}),e),...s})}const Xae=i$,Qae=a$,eoe=d.forwardRef(({className:e,inset:n,children:s,...r},i)=>t.jsxs(uT,{ref:i,className:A("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...r,children:[s,t.jsx(El,{className:"ml-auto"})]}));eoe.displayName=uT.displayName;const toe=d.forwardRef(({className:e,...n},s)=>t.jsx(pT,{ref:s,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));toe.displayName=pT.displayName;const hR=d.forwardRef(({className:e,sideOffset:n=4,...s},r)=>t.jsx(r$,{children:t.jsx(fT,{ref:r,sideOffset:n,className:A("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));hR.displayName=fT.displayName;const noe=d.forwardRef(({className:e,inset:n,...s},r)=>t.jsx(mT,{ref:r,className:A("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...s}));noe.displayName=mT.displayName;const soe=d.forwardRef(({className:e,children:n,checked:s,...r},i)=>t.jsxs(hT,{ref:i,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(xT,{children:t.jsx(Mn,{className:"h-4 w-4"})})}),n]}));soe.displayName=hT.displayName;const roe=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(gT,{ref:r,className:A("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(xT,{children:t.jsx(cR,{className:"h-2 w-2 fill-current"})})}),n]}));roe.displayName=gT.displayName;const ioe=d.forwardRef(({className:e,inset:n,...s},r)=>t.jsx(bT,{ref:r,className:A("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...s}));ioe.displayName=bT.displayName;const aoe=d.forwardRef(({className:e,...n},s)=>t.jsx(yT,{ref:s,className:A("-mx-1 my-1 h-px bg-muted",e),...n}));aoe.displayName=yT.displayName;const ooe=({description:e})=>t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:"inline-flex items-center ml-2 text-[#666] hover:text-[#999] focus:outline-none",children:t.jsx(Q9,{size:14})})}),t.jsx(Ho,{children:t.jsxs(oi,{className:"max-w-xs bg-[#1A1A1A] text-[#DDDDE6] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,children:[e,t.jsx(Pa,{className:"fill-[#1A1A1A]"})]})})]});function loe({selectedSkills:e=[],setSelectedSkills:n,skills:s,loadingSkills:r,label:i,description:a}){const{t:o}=Jt("home"),l=i||o("skillsSelector.label");return t.jsxs("div",{children:[t.jsxs("p",{className:"text-[#999] font-['Inter'] mb-2",children:[l,a&&t.jsx(ooe,{description:a})]}),t.jsxs(Xae,{children:[t.jsx(Qae,{asChild:!0,children:t.jsxs(Vt,{variant:"outline",role:"combobox",disabled:r,className:A("w-full h-12 bg-[#0E0E0F] border border-[#222] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors relative data-[state=open]:border-[#333] md:text-base ",!e.length&&"text-muted-foreground"),children:[t.jsx("div",{className:"absolute left-4 inset-y-0 flex items-center md:text-base",children:r?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"h-4 w-4 animate-spin"}),t.jsx("span",{children:o("skillsSelector.loadingSkills")})]}):e.length===0?o("skillsSelector.selectSkills"):o("skillsSelector.selected",{count:e.length})}),t.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:t.jsx(Dr,{className:"h-4 w-4 shrink-0"})})]})}),t.jsx(hR,{className:"w-[var(--radix-dropdown-menu-trigger-width)] p-1 bg-[#131314] border border-[#222]",children:t.jsxs("div",{className:"max-h-[300px] overflow-y-auto",children:[(s||[]).map(c=>t.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 hover:bg-[#1A1A1A] rounded-md cursor-pointer",onClick:()=>{e?.includes(c.name)?n(e.filter(u=>u!==c.name)):n([...e,c.name])},children:[t.jsx(fR,{checked:e?.includes(c.name),className:"border-[#666]"}),t.jsxs("div",{className:"text-[#DDDDE6] md:text-base",children:[c.name,t.jsx("div",{className:"text-xs text-[#666]",children:o("skillsSelector.version",{version:c.latest_version})})]})]},c.id)),s.length===0&&!r&&t.jsx("div",{className:"p-2 text-[#666] text-center",children:o("skillsSelector.noSkillsAvailable")})]})})]}),e?.length>0&&t.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:e?.map(c=>t.jsxs(mR,{variant:"secondary",className:"bg-[#222] text-[#DDDDE6] hover:bg-[#333]",children:[c,t.jsxs("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:u=>{u.key==="Enter"&&n(e.filter(p=>p!==c))},onClick:()=>n(e.filter(u=>u!==c)),children:[t.jsx(Pt,{className:"h-3 w-3"}),t.jsx("span",{className:"sr-only",children:o("skillsSelector.remove",{skill:c})})]})]},c))})]})}var coe=e=>({png:"image/png",webp:"image/webp",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg"})[e]||"image/jpeg",doe=(e,n="auto",s="auto")=>{let r=n==="auto"||n===0,i=s==="auto"||s===0;if(!r&&!i)return{width:n,height:s};if(!r){let a=e.naturalWidth/n;return{width:n,height:Math.round((e.naturalHeight/a+Number.EPSILON)*100)/100}}if(!i){let a=e.naturalHeight/s;return{width:Math.round((e.naturalWidth/a+Number.EPSILON)*100)/100,height:s}}return{width:e.naturalWidth,height:e.naturalHeight}},uoe=async(e,n=100,s="auto",r="auto",i=null,a=null)=>{if(!(e instanceof Blob))throw new TypeError(`Expected a Blob or File, but got ${typeof e}.`);if(e.size===0)throw new Error("Failed to load the image. The file might be corrupt or empty.");if(n<=0)throw new RangeError("Quality must be greater than 0.");if(typeof s=="number"&&s<0||typeof r=="number"&&r<0)throw new RangeError("Invalid width or height value!");let o=i?coe(i):e.type,l=n<1?n:n/100;return new Promise((c,u)=>{let p=new FileReader;p.onload=()=>{let f=new Image;f.src=p.result,f.onload=()=>{let m=document.createElement("canvas"),h=doe(f,s,r);m.width=h.width,m.height=h.height;let x=m.getContext("2d");if(!x){u(new Error("Failed to get canvas context."));return}a&&o==="image/png"&&(x.fillStyle=a,x.fillRect(0,0,m.width,m.height)),x.drawImage(f,0,0,m.width,m.height),m.toBlob(y=>{if(y===null)return u(new Error("Failed to generate image blob."));c(new Blob([y],{type:o}))},o,l)},f.onerror=()=>{u(new Error("Failed to load the image. The file might be corrupt or empty."))}},p.onerror=()=>u(new Error("Failed to read the blob as a Data URL.")),p.readAsDataURL(e)})},poe=uoe;/*!
* image-resize-compress
* Copyright(c) 2024 lef Duarte
* MIT Licensed
*/function p2({maxWidth:e=2e3,maxHeight:n=2e3,quality:s=30,format:r="jpeg"}={}){const i=d.useCallback(async(c,u)=>{try{const p={maxWidth:u?.maxWidth||e,maxHeight:u?.maxHeight||n,quality:u?.quality||s,format:u?.format||r},f=await poe(c,p.quality,p.maxWidth,p.maxHeight,p.format),m=await new Promise((x,y)=>{const v=new FileReader;v.onloadend=()=>{const b=v.result.split(",")[1];x(b)},v.onerror=y,v.readAsDataURL(f)}),h=(c.size-f.size)/c.size*100;return{blob:f,base64:m,originalSize:c.size,compressedSize:f.size,compressionRatio:h}}catch{return null}},[e,n,s,r]),a=d.useCallback(async(c,u)=>{try{const p=c.map(f=>i(f,u));return await Promise.all(p)}catch{return c.map(()=>null)}},[i]),o=d.useCallback(c=>{switch(c){case"jpeg":return"image/jpeg";case"webp":return"image/webp";case"png":return"image/png";default:return"image/jpeg"}},[]),l=d.useCallback(async c=>c.size>1024*1024?!0:new Promise(u=>{const p=new Image;p.onload=()=>{const f=p.width>e||p.height>n;URL.revokeObjectURL(p.src),u(f)},p.onerror=()=>{URL.revokeObjectURL(p.src),u(!0)},p.src=URL.createObjectURL(c)}),[e,n]);return{compressImage:i,compressImages:a,getMimeType:o,shouldCompress:l}}function xR({maxImages:e=5,maxSizeInMB:n=5,maxPixelDimensions:s=8e3,maxPixelDimensionsMultiple:r=2e3,initialImages:i=[],onImagesChange:a}={}){const[o,l]=d.useState(i),[c,u]=d.useState(!1),{toast:p}=ds(),{compressImage:f,getMimeType:m}=p2({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),h=d.useCallback(async N=>{try{const j=await f(N);return j?{mime_type:m("jpeg"),img_base64:j.base64,originalFile:N}:null}catch{return null}},[f,m]),x=d.useCallback(async(N,j)=>new Promise(_=>{const C=new Image,F=j?r:s;C.onload=()=>{const E=C.width<=F&&C.height<=F;URL.revokeObjectURL(C.src),_({width:C.width,height:C.height,isValid:E,maxDimension:F})},C.onerror=()=>{URL.revokeObjectURL(C.src),_({width:0,height:0,isValid:!1,maxDimension:F})},C.src=URL.createObjectURL(N)}),[s,r]),y=d.useCallback(async N=>{if(!N||N.length===0)return;const j=Array.isArray(N)?N:Array.from(N);if(o.length+j.length>e){p({title:"Too many images",description:`You can only upload a maximum of ${e} images`,variant:"destructive"});return}const _=n*1024*1024,C=j.filter(I=>I.size>_);if(C.length>0){p({title:"File too large",description:`${C.length>1?"Some files are":"File is"} larger than ${n}MB limit`,variant:"destructive"});return}const F=["image/jpeg","image/png","image/gif","image/webp"];if(j.filter(I=>!F.includes(I.type)).length>0){p({title:"Invalid file type",description:"Only JPEG, PNG, GIF, and WebP images are allowed",variant:"destructive"});return}const S=o.length+j.length>1,M=await Promise.all(j.map(I=>x(I,S))),k=M.filter(I=>!I.isValid);if(k.length>0){const I=M[0]?.maxDimension||s,D=S?"multiple images":"single image";p({title:"Image dimensions too large",description:`${k.length>1?"Some images have":"Image has"} dimensions larger than ${I}x${I} pixels (limit for ${D})`,variant:"destructive"});return}u(!0);try{const I=j.map(B=>h(B)),P=(await Promise.all(I)).filter(B=>B!==null),R=[...o,...P];l(R),a?.(R)}catch{p({title:"Error",description:"Failed to process images. Please try again.",variant:"destructive"})}finally{u(!1)}},[o,e,n,s,a,h,x,p]),v=d.useCallback(()=>{const N=document.createElement("input");return N.type="file",N.accept="image/jpeg,image/png,image/gif,image/webp",N.multiple=!0,N.style.display="none",N.onchange=j=>{const _=j.target;y(_.files),document.body.removeChild(N)},N},[y]),g=d.useCallback(()=>{const N=v();document.body.appendChild(N),setTimeout(()=>{N.click()},0)},[v]),b=d.useCallback(N=>{const j=[...o];j.splice(N,1),l(j),a?.(j)},[o,a]),w=d.useCallback(()=>{l([]),a?.([])},[a]);return{images:o,isProcessing:c,openFilePicker:g,removeImage:b,handleImageSelect:y,clearImages:w}}const foe=["image/jpeg","image/png","image/gif","image/webp"],moe=["image/jpeg","image/png","image/gif","image/webp"],gR=5*1024*1024,hoe={maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"},xoe=e=>{const n=e.type.startsWith("image/"),s=e.type==="image/svg+xml",r=foe.includes(e.type),i=moe.includes(e.type);return n?s?{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:n&&!i?{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:n&&!r&&i?{strategy:"dual_mode",needsCompression:!1,canSendToAgent:!0,supportsDualMode:!0}:n&&r&&i?{strategy:"compress_and_dual",needsCompression:!0,canSendToAgent:!0,supportsDualMode:!0}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}:{strategy:"artifact_only",needsCompression:!1,canSendToAgent:!1,supportsDualMode:!1}},goe=async(e,n)=>{try{const s=await n(e);if(!s)return{shouldUseBase64:!1};const r=s.compressedSize/1024/1024;return s.compressedSize<=gR?{shouldUseBase64:!0,base64Data:s.base64,compressedSize:s.compressedSize}:{shouldUseBase64:!1,compressedSize:s.compressedSize}}catch{return{shouldUseBase64:!1}}},boe=async e=>new Promise((n,s)=>{const r=new FileReader;r.onload=()=>{const a=r.result.split(",")[1];n(a)},r.onerror=s,r.readAsDataURL(e)}),yoe=async(e,n,s)=>{const r=[],i=[...e],a=new Map;for(let o=0;o<e.length;o++){const l=e[o],c=xoe(l);if(c.strategy==="compress_and_dual"){const u=await goe(l,n);if(a.set(l.name,u),u.shouldUseBase64&&u.base64Data){const p={mime_type:"image/jpeg",img_base64:u.base64Data};r.push(p)}}else if(c.strategy==="dual_mode"&&l.size<=gR)try{const u=await boe(l),p={mime_type:l.type,img_base64:u};r.push(p)}catch{}}return{base64Images:r,filesToUploadAsArtifacts:i,compressedImageData:a}},Tc=d.forwardRef(({className:e,...n},s)=>t.jsx("textarea",{className:A("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background placeholder:text-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ",e),ref:s,...n}));Tc.displayName="Textarea";const gm=({className:e,size:n=200,duration:s=15,anchor:r=90,borderWidth:i=1.5,colorFrom:a="#ffaa40",colorTo:o="#9c40ff",delay:l=0})=>t.jsx("div",{style:{"--size":n,"--duration":s,"--anchor":r,"--border-width":i,"--color-from":a,"--color-to":o,"--delay":`-${l}s`},className:A("pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent]","![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)]","after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))]",e)}),s8=({width:e=20,height:n=20,fill:s="#E6E6E6",className:r=""})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{d:"M9.93305 11.8684C9.14357 11.8684 8.47252 11.5921 7.91989 11.0395C7.36726 10.4868 7.09094 9.81579 7.09094 9.02631V3.3421C7.09094 2.55263 7.36726 1.88158 7.91989 1.32895C8.47252 0.776316 9.14357 0.5 9.93305 0.5C10.7225 0.5 11.3936 0.776316 11.9462 1.32895C12.4988 1.88158 12.7752 2.55263 12.7752 3.3421V9.02631C12.7752 9.81579 12.4988 10.4868 11.9462 11.0395C11.3936 11.5921 10.7225 11.8684 9.93305 11.8684ZM8.98568 17.5526V15.5868C7.53305 15.3816 6.28978 14.7658 5.25589 13.7395C4.222 12.7132 3.59421 11.4658 3.37252 9.99737C3.34094 9.72894 3.412 9.5 3.58568 9.31052C3.75936 9.12105 3.98042 9.02631 4.24884 9.02631C4.51726 9.02631 4.74242 9.11726 4.92431 9.29916C5.10621 9.48105 5.22842 9.70589 5.29094 9.97368C5.512 11.0789 6.06084 11.9868 6.93747 12.6974C7.8141 13.4079 8.81263 13.7632 9.93305 13.7632C11.0699 13.7632 12.0725 13.4041 12.9409 12.686C13.8094 11.9679 14.3541 11.0638 14.5752 9.97368C14.6383 9.70526 14.7608 9.48042 14.9427 9.29916C15.1246 9.11789 15.3495 9.02695 15.6173 9.02631C15.885 9.02568 16.1061 9.12042 16.2804 9.31052C16.4547 9.50063 16.5258 9.72958 16.4936 9.99737C16.2725 11.4342 15.6488 12.6737 14.6225 13.7158C13.5962 14.7579 12.3488 15.3816 10.8804 15.5868V17.5526C10.8804 17.821 10.7895 18.0462 10.6076 18.2281C10.4257 18.41 10.2008 18.5006 9.93305 18.5C9.66526 18.4994 9.44042 18.4084 9.25852 18.2272C9.07663 18.0459 8.98568 17.821 8.98568 17.5526Z",fill:s})}),r8=({width:e=20,height:n=20,fill:s="black",className:r=""})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("g",{clipPath:"url(#clip0_5272_57732)",children:t.jsx("path",{d:"M7 13.75H13C13.2125 13.75 13.3907 13.6781 13.5345 13.5343C13.6782 13.3906 13.75 13.2125 13.75 13V7C13.75 6.7875 13.6782 6.60933 13.5345 6.4655C13.3907 6.32183 13.2125 6.25 13 6.25H7C6.7875 6.25 6.60942 6.32183 6.46575 6.4655C6.32192 6.60933 6.25 6.7875 6.25 7V13C6.25 13.2125 6.32192 13.3906 6.46575 13.5343C6.60942 13.6781 6.7875 13.75 7 13.75ZM10.0067 20C8.62775 20 7.33192 19.7375 6.11925 19.2125C4.90642 18.6875 3.84583 17.9708 2.9375 17.0625C2.02917 16.1542 1.3125 15.093 0.7875 13.879C0.2625 12.665 0 11.3678 0 9.9875C0 8.60717 0.2625 7.31 0.7875 6.096C1.3125 4.882 2.02917 3.825 2.9375 2.925C3.84583 2.025 4.907 1.3125 6.121 0.7875C7.335 0.2625 8.63217 0 10.0125 0C11.3928 0 12.69 0.2625 13.904 0.7875C15.118 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61442 20 9.99325C20 11.3723 19.7375 12.6681 19.2125 13.8807C18.6875 15.0936 17.975 16.1527 17.075 17.058C16.175 17.9632 15.1167 18.6798 13.9 19.208C12.6833 19.736 11.3856 20 10.0067 20Z",fill:s})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5272_57732",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),uN=W.icons.githubIcon,voe=W.github.githubConnected,bR=({isConnected:e,isActive:n,githubUrl:s,githubTooltip:r,handleGithubSettings:i,onClearGithubUrl:a})=>{const o=()=>e?voe:uN;return s?t.jsxs("div",{className:"relative flex items-center bg-[#2EE572]/5 border border-[#2EE572]/20 rounded-[30px] px-3 group",children:[t.jsxs(Vt,{className:A("pointer-events-auto flex items-center gap-1 p-0 justify-center h-9 bg-transparent hover:bg-transparent"),type:"button",onClick:i,children:[t.jsx("img",{src:o(),alt:"GitHub Repository",className:A("transition-transform duration-200 transform size-4 md:size-5",e&&"scale-[1.2] mt-[2px] mr-1.5")}),t.jsx("span",{className:"text-sm font-medium text-[#2EE572] truncate max-w-[100px]",children:s.split("/").pop()})]}),t.jsx("button",{title:"Clear selected repository",type:"button",onClick:l=>{l.stopPropagation(),a()},className:"z-10 w-0 overflow-hidden transition-all duration-200 bg-transparent rounded-full hover:bg-transparent group-hover:w-auto group-hover:pl-1",children:t.jsx(Pt,{size:16,className:"text-[#2ee571cd]"})})]}):t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx(Vt,{"data-testid":yr.githubButton,className:A("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center h-[32px]  md:h-9 transition-all ease-out duration-100  gap-2","bg-white bg-opacity-5 text-[#CCCCCC] hover:bg-white/10"),type:"button",onClick:i,children:t.jsxs("div",{className:"relative flex items-center gap-1",children:[t.jsx("div",{className:"relative flex items-center",children:t.jsx("img",{src:o(),alt:"GitHub",className:A("size-5 transition-transform duration-200 transform",e&&"scale-[1.4] mt-[2px]")})}),e&&t.jsx(Dr,{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`})]})})}),r&&t.jsx(Ho,{children:t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[r,t.jsx(Pa,{className:"fill-[#fff]"})]})})})]})},Ws=Wu,tr=gi,nr=bi,Xs=d.forwardRef(({className:e,sideOffset:n=4,...s},r)=>t.jsx(oi,{ref:r,sideOffset:n,className:A("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md",e),...s}));Xs.displayName=oi.displayName;const Qa=Pa,Zi=({size:e=24,color:n="currentColor",className:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M3.5 11.75L11.6718 3.57843C12.7763 2.47386 14.5673 2.47386 15.6718 3.57843C16.7763 4.683 16.7763 6.47386 15.6718 7.57843M15.6718 7.57843L9.5 13.75M15.6718 7.57843C16.7763 6.47386 18.5673 6.47386 19.6718 7.57843C20.7763 8.683 20.7763 10.4739 19.6718 11.5784L12.7073 18.5429C12.3168 18.9334 12.3168 19.5666 12.7073 19.9571L14 21.2498",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4999 9.74933L11.3282 15.9211C10.2237 17.0256 8.43274 17.0256 7.32825 15.9211C6.22375 14.8165 6.22375 13.0256 7.32825 11.9211L13.4999 5.74951",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),mo=({size:e=16,color:n="#E8E8E6",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M8.43865 1.6001C9.07985 1.6001 9.59961 2.11988 9.59961 2.76103C9.59961 2.91653 9.70969 3.08344 9.90745 3.16182C9.96233 3.18356 10.0168 3.20625 10.0707 3.22979L10.1434 3.25557C10.3127 3.30343 10.4748 3.26076 10.5714 3.16416C11.0255 2.71063 11.7614 2.71115 12.2152 3.16494L12.8347 3.78447L12.9145 3.87275C13.2869 4.32919 13.2605 5.00287 12.8347 5.42823C12.7245 5.53847 12.6851 5.73408 12.7699 5.92823L12.8379 6.09228L12.8714 6.16182C12.9581 6.31554 13.1026 6.40008 13.2386 6.4001C13.8798 6.4001 14.3996 6.91988 14.3996 7.56103V8.43914C14.3996 9.08034 13.8798 9.6001 13.2386 9.6001C13.1026 9.6001 12.9582 9.68466 12.8714 9.83842L12.8379 9.90794C12.8161 9.96274 12.7934 10.0174 12.7699 10.0712C12.685 10.2655 12.7243 10.4615 12.8347 10.5719C13.2886 11.0259 13.2886 11.7618 12.8347 12.2157L12.2152 12.8352C11.7613 13.2891 11.0254 13.2891 10.5714 12.8352C10.4749 12.7387 10.3127 12.6961 10.1434 12.7439L10.0707 12.7704C10.0171 12.7938 9.96273 12.8159 9.90817 12.8376C9.71041 12.916 9.59977 13.0828 9.59961 13.2384C9.59961 13.8798 9.07929 14.4001 8.43793 14.4001H7.56133C6.91993 14.4001 6.39961 13.8798 6.39961 13.2384C6.39946 13.1022 6.31496 12.9576 6.16133 12.8712L6.09179 12.8376C6.03681 12.8159 5.98177 12.7932 5.92774 12.7696C5.73338 12.685 5.53792 12.7251 5.42774 12.8352C5.00238 13.261 4.32871 13.2874 3.87227 12.915L3.78399 12.8352L3.16445 12.2157C2.71067 11.7619 2.71015 11.026 3.16367 10.5719L3.20195 10.5267C3.27081 10.4288 3.29609 10.289 3.25508 10.1439L3.2293 10.0712C3.20576 10.0173 3.18307 9.96282 3.16133 9.90794C3.08295 9.71018 2.91604 9.6001 2.76055 9.6001C2.11939 9.6001 1.59961 9.08034 1.59961 8.43914V7.56103C1.59961 6.91988 2.11939 6.4001 2.76055 6.4001C2.91602 6.40008 3.0823 6.28987 3.16055 6.09228L3.2293 5.92823L3.25508 5.85557C3.29607 5.71039 3.27089 5.5705 3.20195 5.47275L3.16367 5.42823C2.70998 4.97453 2.70998 4.23817 3.16367 3.78447L3.78399 3.16416L3.87227 3.08447C4.32858 2.71224 5.00237 2.7388 5.42774 3.16416C5.53798 3.27438 5.73335 3.31456 5.92774 3.22979C5.98196 3.20613 6.03661 3.18288 6.09179 3.16103C6.28938 3.08279 6.39959 2.91651 6.39961 2.76103C6.39961 2.11988 6.91939 1.6001 7.56055 1.6001H8.43865ZM7.56055 2.4001C7.36123 2.4001 7.19961 2.56171 7.19961 2.76103C7.19959 3.29991 6.83431 3.72823 6.38633 3.90557C6.33973 3.92402 6.2931 3.94261 6.24727 3.96259C5.80447 4.15569 5.24263 4.11185 4.86133 3.73057C4.7377 3.60693 4.54707 3.59094 4.40664 3.68369L4.35039 3.73057L3.73008 4.35088C3.5888 4.49215 3.5888 4.72054 3.73008 4.86182C4.0875 5.21926 4.14847 5.73546 3.99571 6.16338L3.96211 6.24775C3.94212 6.29359 3.92353 6.34022 3.90508 6.38682C3.72775 6.8348 3.29942 7.20008 2.76055 7.2001C2.56123 7.2001 2.39961 7.36171 2.39961 7.56103V8.43914C2.39961 8.6385 2.56123 8.8001 2.76055 8.8001C3.29942 8.8001 3.7276 9.16562 3.90508 9.61338C3.92339 9.65954 3.94228 9.70546 3.96211 9.7509C4.15545 10.1938 4.11127 10.756 3.73008 11.1376C3.58863 11.2791 3.58858 11.5086 3.73008 11.6501L4.34961 12.2696L4.40664 12.3165C4.54705 12.4091 4.73779 12.3932 4.86133 12.2696C5.24267 11.888 5.80509 11.8436 6.24805 12.0368C6.29363 12.0567 6.33998 12.0755 6.38633 12.0939L6.46914 12.1306C6.87835 12.3258 7.19946 12.7333 7.19961 13.2384C7.19961 13.4379 7.36175 13.6001 7.56133 13.6001H8.43793C8.63745 13.6001 8.79961 13.4379 8.79961 13.2384C8.79977 12.6995 9.16505 12.2714 9.61289 12.0939C9.65905 12.0755 9.70497 12.0567 9.75041 12.0368L9.83473 12.0032C10.263 11.8502 10.7794 11.9119 11.1371 12.2696C11.2786 12.4111 11.5081 12.4111 11.6496 12.2696L12.2691 11.6501C12.4106 11.5086 12.4106 11.2791 12.2691 11.1376C11.8876 10.7561 11.8433 10.194 12.0371 9.7509C12.057 9.7053 12.0758 9.6589 12.0942 9.61258L12.1309 9.52978C12.3263 9.12114 12.7336 8.8001 13.2386 8.8001C13.438 8.8001 13.5996 8.6385 13.5996 8.43914V7.56103C13.5996 7.36171 13.438 7.2001 13.2386 7.2001C12.7334 7.20008 12.3261 6.8787 12.1309 6.46963L12.0942 6.38682L12.0363 6.24854C11.8426 5.8055 11.8875 5.24315 12.2691 4.86182C12.3927 4.73827 12.4086 4.54754 12.316 4.40713L12.2691 4.3501L11.6496 3.73057C11.5259 3.60685 11.3348 3.59112 11.1942 3.68369L11.1371 3.73057C10.7555 4.11176 10.1933 4.15594 9.75041 3.96259L9.61289 3.90557C9.16513 3.72809 8.79961 3.29991 8.79961 2.76103C8.79961 2.56171 8.63801 2.4001 8.43865 2.4001H7.56055ZM7.99961 5.6001C9.32513 5.6001 10.3996 6.67462 10.3996 8.0001C10.3996 9.32562 9.32513 10.4001 7.99961 10.4001C6.67413 10.4001 5.59961 9.32562 5.59961 8.0001C5.59961 6.67462 6.67413 5.6001 7.99961 5.6001ZM7.99961 6.4001C7.11595 6.4001 6.39961 7.11644 6.39961 8.0001C6.39961 8.88378 7.11595 9.6001 7.99961 9.6001C8.88329 9.6001 9.59961 8.88378 9.59961 8.0001C9.59961 7.11644 8.88329 6.4001 7.99961 6.4001Z",fill:n})}),Bd=({size:e=20,primaryColor:n="#80FFF9",secondaryColor:s="#1D1D1E",className:r,...i})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...i,children:[t.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:n}),t.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:s}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:n}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:n}),t.jsx("rect",{y:"9.00195",width:"2",height:"4",rx:"1",fill:n}),t.jsx("rect",{x:"18",y:"9.00195",width:"2",height:"4",rx:"1",fill:n})]}),yR=d.createContext(void 0);function woe({children:e}){const[n,s]=d.useState(new Map),r=o=>{s(l=>{const c=new Map(l);return c.set(o.type,o),c}),z("modal_opened",{modalType:o.type,timestamp:new Date().toISOString()})},i=o=>{if(o)s(l=>{const c=new Map(l);return c.delete(o),c}),z("modal_closed",{modalType:o,timestamp:new Date().toISOString()});else{const l=Array.from(n.keys());s(new Map),z("modal_closed_all",{modalTypes:l.join(", "),count:l.length,timestamp:new Date().toISOString()})}},a=(o,l)=>{s(c=>{const u=new Map(c),p=u.get(o);return p&&u.set(o,{...p,...l}),u})};return t.jsx(yR.Provider,{value:{openModal:r,closeModal:i,updateModal:a,activeModals:n},children:e})}function Ds(){const e=d.useContext(yR);if(!e)throw new Error("useModal must be used within a ModalProvider");return e}function Er(){const{openModal:e,closeModal:n,activeModals:s}=Ds(),r=Qi(),{getCurrentOrganizationId:i,isOrganizationWorkspace:a}=ys(),{personalTier:o,orgTier:l}=cs();return{open:u=>{if(r){const p="personal",f=o,m=f!=="free",h=u.triggerLocation||"upgrade-tier",x=lc(h,m),{title:y,description:v}=Ca(h);ei("TRIGGER_SUBSCRIPTION",{planType:p,organizationId:void 0,triggerLocation:h,currentTier:f,hasActiveSubscription:m,title:y,description:v,...x&&{modalType:x}}),z("upgrade_tier_modal_mobile_redirect",{planType:u.planType,triggerLocation:u.triggerLocation,organizationId:u.organizationId});return}e({type:"upgrade-tier",...u})},close:()=>n("upgrade-tier"),isOpen:s.has("upgrade-tier"),config:s.get("upgrade-tier")}}function Coe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"create-workspace",...r}),close:()=>n("create-workspace"),isOpen:s.has("create-workspace"),config:s.get("create-workspace")}}function Up(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"account-settings",...r}),close:()=>n("account-settings"),isOpen:s.has("account-settings"),config:s.get("account-settings")}}function vR(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:()=>e({type:"account-settings",initialTab:"universal-key"}),close:()=>n("account-settings"),isOpen:s.has("account-settings"),config:s.get("account-settings")}}function f2(){const{openModal:e,closeModal:n,activeModals:s}=Ds(),r=Qi(),{getCurrentOrganizationId:i,isOrganizationWorkspace:a}=ys(),{personalTier:o,orgTier:l}=cs();return{open:(u={})=>{if(r){const p="personal",f=o,m=f!=="free",{title:h,description:x}=Ca("buy-credits");if(m)ei("TRIGGER_BUY_CREDIT",{planType:p,organizationId:void 0,triggerLocation:"buy-credits",currentTier:f,hasActiveSubscription:m,title:h,description:x});else{const y=lc("buy-credits",m);ei("TRIGGER_SUBSCRIPTION",{planType:p,organizationId:void 0,triggerLocation:"buy-credits",currentTier:f,hasActiveSubscription:m,title:h,description:x,...y&&{modalType:y}})}z("buy_credits_modal_mobile_redirect",{location:u.location});return}e({type:"buy-credits",...u})},close:()=>n("buy-credits"),isOpen:s.has("buy-credits"),config:s.get("buy-credits")}}function m2(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"team-workspace",...r}),close:()=>n("team-workspace"),isOpen:s.has("team-workspace"),config:s.get("team-workspace")}}function _oe(){const e=m2();return{open:n=>{let s={organizationId:n.organizationId,organizationName:n.organizationName,mode:n.mode||"invite",backendEnabled:n.backendEnabled||!1};e.open(s)},close:()=>e.close(),isOpen:e.isOpen&&e.config?.mode==="invite",config:e.config}}function joe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"pending-invitation",...r}),close:()=>n("pending-invitation"),isOpen:s.has("pending-invitation"),config:s.get("pending-invitation")}}function Noe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"one-million",...r}),close:()=>n("one-million"),isOpen:s.has("one-million"),config:s.get("one-million")}}function wR(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"referral",...r}),close:()=>n("referral"),isOpen:s.has("referral"),config:s.get("referral")}}function Foe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"job-id",...r}),close:()=>n("job-id"),isOpen:s.has("job-id"),config:s.get("job-id")}}function CR(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"data-details",...r}),close:()=>n("data-details"),isOpen:s.has("data-details"),config:s.get("data-details")}}function Eoe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"standard-discount",...r}),close:()=>n("standard-discount"),isOpen:s.has("standard-discount"),config:s.get("standard-discount")}}function _R(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"new-mcp-server",...r}),close:()=>n("new-mcp-server"),isOpen:s.has("new-mcp-server"),config:s.get("new-mcp-server")}}function jR(){const{openModal:e,closeModal:n,updateModal:s,activeModals:r}=Ds();return{open:(i={})=>e({type:"mcp-tools",...i}),close:()=>n("mcp-tools"),update:i=>s("mcp-tools",i),isOpen:r.has("mcp-tools"),config:r.get("mcp-tools")}}function i8(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"add-member",...r}),close:()=>n("add-member"),isOpen:s.has("add-member"),config:s.get("add-member")}}function Soe(){const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"mcp-introduction",...r}),close:()=>n("mcp-introduction"),isOpen:s.has("mcp-introduction"),config:s.get("mcp-introduction")}}const koe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"daily-credit",...r}),close:()=>n("daily-credit"),isOpen:s.has("daily-credit"),config:s.get("daily-credit")}},Toe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"share-preview",...r}),close:()=>n("share-preview"),isOpen:s.has("share-preview"),config:s.get("share-preview")}},Ioe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"funding-introduction",...r}),close:()=>n("funding-introduction"),isOpen:s.has("funding-introduction"),config:s.get("funding-introduction")}},Aoe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"pro",...r}),close:()=>n("pro"),isOpen:s.has("pro"),config:s.get("pro")}},Doe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"visual-edits-introduction",...r}),close:()=>n("visual-edits-introduction"),isOpen:s.has("visual-edits-introduction"),config:s.get("visual-edits-introduction")}},Moe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"beta-thank-you",...r}),close:()=>n("beta-thank-you"),isOpen:s.has("beta-thank-you"),config:s.get("beta-thank-you")}},Loe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"opus-introduction",...r}),close:()=>n("opus-introduction"),isOpen:s.has("opus-introduction"),config:s.get("opus-introduction")}},NR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"pix",...r}),close:()=>n("pix"),isOpen:s.has("pix"),config:s.get("pix")}},FR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"promotional",...r}),close:()=>n("promotional"),isOpen:s.has("promotional"),config:s.get("promotional")}},ER=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"free-credits",...r}),close:()=>n("free-credits"),isOpen:s.has("free-credits"),config:s.get("free-credits")}},SR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"deployment-success",...r}),close:()=>n("deployment-success"),isOpen:s.has("deployment-success"),config:s.get("deployment-success")}},Roe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:r=>e({type:"dns-details",...r}),close:()=>n("dns-details"),isOpen:s.has("dns-details"),config:s.get("dns-details")}},kR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"one-dollar",...r}),close:()=>n("one-dollar"),isOpen:s.has("one-dollar"),config:s.get("one-dollar")}},TR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"gifting",...r}),close:()=>n("gifting"),isOpen:s.has("gifting"),config:s.get("gifting")}},IR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"gff",...r}),close:()=>n("gff"),isOpen:s.has("gff"),config:s.get("gff")}},AR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"pagbrasil",...r}),close:()=>n("pagbrasil"),isOpen:s.has("pagbrasil"),config:s.get("pagbrasil")}},DR=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"gffin",...r}),close:()=>n("gffin"),isOpen:s.has("gffin"),config:s.get("gffin")}},Poe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"repository-selector",...r}),close:()=>n("repository-selector"),isOpen:s.has("repository-selector"),config:s.get("repository-selector")}},Ooe=()=>{const{openModal:e,closeModal:n,activeModals:s}=Ds();return{open:(r={})=>e({type:"free-standard-plan",...r}),close:()=>n("free-standard-plan"),isOpen:s.has("free-standard-plan"),config:s.get("free-standard-plan")}};function MR(e){return!e||e.includes("+")?!1:e.endsWith("@emergentbase.com")||e.endsWith("@emergent.sh")}function Xo(){const{user:e}=xs(),n=Vr(r=>r.admin.isAdminMode);if(!e||!e.email)return!1;const s=MR(e.email);return n?s:!1}function Boe(){const{user:e}=xs();return!e||!e.email?!1:MR(e.email)}function ni(){const{tier:e,ownerSubscriptionTier:n}=cs(),{data:s}=Ri(),{isOrganizationWorkspace:r,getCurrentOrganizationId:i}=ys(),a=Xo(),o=m=>{const h=m.toLowerCase();return h.includes("team")?"team":h.includes("emergent pro")?"pro_mode":h.includes("standard")?"standard":h.includes("starter")?"starter":h.includes("pro")?"pro":"free"},l=d.useMemo(()=>n?o(n)==="pro_mode":!1,[n]),c=d.useMemo(()=>{if(!n)return!1;const m=o(n);return m==="standard"||m==="pro"||m==="pro_mode"||m==="team"||m==="starter"},[n]),u=d.useMemo(()=>{const m=i();if(!m)return!0;const h=s?.organizations?.find(x=>x.organization_id===m);return h?.role==="ADMIN"||h?.role==="OWNER"},[i,s]),p=d.useMemo(()=>{const m=i();return m?s?.organizations?.find(x=>x.organization_id===m)?.role==="OWNER":!0},[i,s]);return{...d.useMemo(()=>({pro:r()?l:e==="pro_mode"||a||s?.is_pro_enabled===!0,restrictedFree:r()?!c:e==="free"&&s?.is_pro_enabled!==!0&&!a,isProUser:r()?l:e==="pro_mode"||s?.is_pro_enabled===!0,canAccessModel:m=>m?r()?l:e==="pro_mode"||a||s?.is_pro_enabled===!0?!0:e===m:!0,defaultPrivacy:r()?l?"private":"public":e==="free"&&s?.is_pro_enabled!==!0?"public":"private",isTrulyFreeUser:()=>r()?!c:e==="free"&&s?.is_pro_enabled===!1&&u}),[e,r,a,s,u,l,c]),tier:e,isEmergentUser:a,userDetails:s,isOrganizationWorkspace:r,isCurrentWorkspaceAdmin:u,isCurrentWorkspaceOwner:p,ownerHasProAccess:l,ownerHasPaidAccess:c,ownerSubscriptionTier:n}}function LR(){const{isOrganizationWorkspace:e,isCurrentWorkspaceOwner:n}=ni(),s=Er(),{toast:r}=ds(),i=!e()||n,a=d.useCallback((l={})=>{const{triggerLocation:c="default",toastTitle:u="Upgrade Required",toastDescription:p="Please ask the owner of this project to upgrade the plan."}=l;return e()&&!n?(r({title:u,description:p,variant:"destructive"}),!1):(s.open({triggerLocation:c}),!0)},[e,n,r,s]),o=d.useCallback((l={})=>{const{toastTitle:c="Upgrade Required",toastDescription:u="Please ask the owner of this project to upgrade the plan."}=l;r({title:c,description:u,variant:"destructive"})},[r]);return{promptUpgrade:a,canUpgrade:i,showAskOwnerToast:o}}const bc=({size:e=16,color:n="#E8E8E6",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M14 6.5C14 6.63261 13.9473 6.75979 13.8536 6.85355C13.7598 6.94732 13.6326 7 13.5 7C13.3674 7 13.2402 6.94732 13.1464 6.85355C13.0527 6.75979 13 6.63261 13 6.5V3.7075L8.85437 7.85375C8.76055 7.94757 8.63331 8.00028 8.50062 8.00028C8.36794 8.00028 8.2407 7.94757 8.14688 7.85375C8.05305 7.75993 8.00035 7.63268 8.00035 7.5C8.00035 7.36732 8.05305 7.24007 8.14688 7.14625L12.2925 3H9.5C9.36739 3 9.24021 2.94732 9.14645 2.85355C9.05268 2.75979 9 2.63261 9 2.5C9 2.36739 9.05268 2.24021 9.14645 2.14645C9.24021 2.05268 9.36739 2 9.5 2H13.5C13.6326 2 13.7598 2.05268 13.8536 2.14645C13.9473 2.24021 14 2.36739 14 2.5V6.5ZM11.5 8C11.3674 8 11.2402 8.05268 11.1464 8.14645C11.0527 8.24021 11 8.36739 11 8.5V13H3V5H7.5C7.63261 5 7.75979 4.94732 7.85355 4.85355C7.94732 4.75979 8 4.63261 8 4.5C8 4.36739 7.94732 4.24021 7.85355 4.14645C7.75979 4.05268 7.63261 4 7.5 4H3C2.73478 4 2.48043 4.10536 2.29289 4.29289C2.10536 4.48043 2 4.73478 2 5V13C2 13.2652 2.10536 13.5196 2.29289 13.7071C2.48043 13.8946 2.73478 14 3 14H11C11.2652 14 11.5196 13.8946 11.7071 13.7071C11.8946 13.5196 12 13.2652 12 13V8.5C12 8.36739 11.9473 8.24021 11.8536 8.14645C11.7598 8.05268 11.6326 8 11.5 8Z",fill:n,fillOpacity:"0.4"})}),Uoe=()=>typeof window>"u"?!1:window.innerWidth<768,Voe=()=>typeof window>"u"?!1:window.innerWidth<600,ps=()=>{const[e,n]=d.useState(Uoe),[s,r]=d.useState(Voe);return d.useEffect(()=>{const i=()=>{n(window.innerWidth<768),r(window.innerWidth<600)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),{isMobile:e,isSmallMobile:s}},Hoe=()=>typeof window>"u"?!1:window.innerWidth<1e3,RR=()=>{const[e,n]=d.useState(Hoe);return d.useEffect(()=>{const s=()=>{n(window.innerWidth<1e3)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),{isPanelMobileView:e}};function $oe(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const PR=tt.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),eh=()=>{const e=tt.useContext(PR);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};$oe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function zoe(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Woe(){return a8(/^Mac/)}function Goe(){return a8(/^iPhone/)}function pN(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function qoe(){return a8(/^iPad/)||Woe()&&navigator.maxTouchPoints>1}function OR(){return Goe()||qoe()}function a8(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Koe=24,Yoe=typeof window<"u"?d.useLayoutEffect:d.useEffect;function fN(...e){return(...n)=>{for(let s of e)typeof s=="function"&&s(...n)}}const R3=typeof document<"u"&&window.visualViewport;function mN(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function BR(e){for(mN(e)&&(e=e.parentElement);e&&!mN(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Zoe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let c0=0,P3;function Joe(e={}){let{isDisabled:n}=e;Yoe(()=>{if(!n)return c0++,c0===1&&OR()&&(P3=Xoe()),()=>{c0--,c0===0&&P3?.()}},[n])}function Xoe(){let e,n=0,s=f=>{e=BR(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},r=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,h=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((h<=0&&m>n||h>=x&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;hy(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},a=f=>{let m=f.target;hy(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",R3&&(R3.height<window.innerHeight?requestAnimationFrame(()=>{hN(m)}):R3.addEventListener("resize",()=>hN(m),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,u=fN(Qoe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=fN(S1(document,"touchstart",s,{passive:!1,capture:!0}),S1(document,"touchmove",r,{passive:!1,capture:!0}),S1(document,"touchend",i,{passive:!1,capture:!0}),S1(document,"focus",a,!0),S1(window,"scroll",o));return()=>{u(),p(),window.scrollTo(l,c)}}function Qoe(e,n,s){let r=e.style[n];return e.style[n]=s,()=>{e.style[n]=r}}function S1(e,n,s,r){return e.addEventListener(n,s,r),()=>{e.removeEventListener(n,s,r)}}function hN(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let s=BR(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let r=s.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=s.getBoundingClientRect().bottom+Koe;a>o&&(s.scrollTop+=i-r)}e=s.parentElement}}function hy(e){return e instanceof HTMLInputElement&&!Zoe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function ele(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function tle(...e){return n=>e.forEach(s=>ele(s,n))}function UR(...e){return d.useCallback(tle(...e),e)}const VR=new WeakMap;function xi(e,n,s=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!s&&VR.set(e,r)}function nle(e,n){if(!e||!(e instanceof HTMLElement))return;let s=VR.get(e);s&&(e.style[n]=s[n])}const ri=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function d0(e,n){if(!e)return null;const s=window.getComputedStyle(e),r=s.transform||s.webkitTransform||s.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[ri(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[ri(n)?5:4]):null)}function sle(e){return 8*(Math.log(e+1)-2)}function O3(e,n){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=s}}function rle(...e){return(...n)=>{for(const s of e)typeof s=="function"&&s(...n)}}const Or={DURATION:.5,EASE:[.32,.72,0,1]},HR=.4,ile=.25,ale=100,$R=8,qc=16,xy=26,B3="vaul-dragging";function zR(e){const n=tt.useRef(e);return tt.useEffect(()=>{n.current=e}),tt.useMemo(()=>(...s)=>n.current==null?void 0:n.current.call(n,...s),[])}function ole({defaultProp:e,onChange:n}){const s=tt.useState(e),[r]=s,i=tt.useRef(r),a=zR(n);return tt.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),s}function WR({prop:e,defaultProp:n,onChange:s=()=>{}}){const[r,i]=ole({defaultProp:n,onChange:s}),a=e!==void 0,o=a?e:r,l=zR(s),c=tt.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else i(u)},[a,e,i,l]);return[o,c]}function lle({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:s,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:c,snapToSequentialPoint:u}){const[p,f]=WR({prop:e,defaultProp:s?.[0],onChange:n}),[m,h]=tt.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);tt.useEffect(()=>{function C(){h({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const x=tt.useMemo(()=>p===s?.[s.length-1]||null,[s,p]),y=tt.useMemo(()=>{var C;return(C=s?.findIndex(F=>F===p))!=null?C:null},[s,p]),v=s&&s.length>0&&(a||a===0)&&!Number.isNaN(a)&&s[a]===p||!s,g=tt.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var F;return(F=s?.map(E=>{const S=typeof E=="string";let M=0;if(S&&(M=parseInt(E,10)),ri(l)){const I=S?M:m?E*C.height:0;return m?l==="bottom"?C.height-I:-C.height+I:I}const k=S?M:m?E*C.width:0;return m?l==="right"?C.width-k:-C.width+k:k}))!=null?F:[]},[s,m,c]),b=tt.useMemo(()=>y!==null?g?.[y]:null,[g,y]),w=tt.useCallback(C=>{var F;const E=(F=g?.findIndex(S=>S===C))!=null?F:null;o(E),xi(r.current,{transition:`transform ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,transform:ri(l)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),g&&E!==g.length-1&&a!==void 0&&E!==a&&E<a?xi(i.current,{transition:`opacity ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,opacity:"0"}):xi(i.current,{transition:`opacity ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,opacity:"1"}),f(s?.[Math.max(E,0)])},[r.current,s,g,a,i,f]);tt.useEffect(()=>{if(p||e){var C;const F=(C=s?.findIndex(E=>E===e||E===p))!=null?C:-1;g&&F!==-1&&typeof g[F]=="number"&&w(g[F])}},[p,e,s,g,w]);function N({draggedDistance:C,closeDrawer:F,velocity:E,dismissible:S}){if(a===void 0)return;const M=l==="bottom"||l==="right"?(b??0)-C:(b??0)+C,k=y===a-1,I=y===0,D=C>0;if(k&&xi(i.current,{transition:`opacity ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`}),!u&&E>2&&!D){S?F():w(g[0]);return}if(!u&&E>2&&D&&g&&s){w(g[s.length-1]);return}const P=g?.reduce((B,U)=>typeof B!="number"||typeof U!="number"?B:Math.abs(U-M)<Math.abs(B-M)?U:B),R=ri(l)?window.innerHeight:window.innerWidth;if(E>HR&&Math.abs(C)<R*.4){const B=D?1:-1;if(B>0&&x&&s){w(g[s.length-1]);return}if(I&&B<0&&S&&F(),y===null)return;w(g[y+B]);return}w(P)}function j({draggedDistance:C}){if(b===null)return;const F=l==="bottom"||l==="right"?b-C:b+C;(l==="bottom"||l==="right")&&F<g[g.length-1]||(l==="top"||l==="left")&&F>g[g.length-1]||xi(r.current,{transform:ri(l)?`translate3d(0, ${F}px, 0)`:`translate3d(${F}px, 0, 0)`})}function _(C,F){if(!s||typeof y!="number"||!g||a===void 0)return null;const E=y===a-1;if(y>=a&&F)return 0;if(E&&!F)return 1;if(!v&&!E)return null;const M=E?y+1:y-1,k=E?g[M]-g[M-1]:g[M+1]-g[M],I=C/Math.abs(k);return E?1-I:I}return{isLastSnapPoint:x,activeSnapPoint:p,shouldFade:v,getPercentageDragged:_,setActiveSnapPoint:f,activeSnapPointIndex:y,onRelease:N,onDrag:j,snapPointsOffset:g}}const cle=()=>()=>{};function dle(){const{direction:e,isOpen:n,shouldScaleBackground:s,setBackgroundColorOnScale:r,noBodyStyles:i}=eh(),a=tt.useRef(null),o=d.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-xy)/window.innerWidth}tt.useEffect(()=>{if(n&&s){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;rle(r&&!i?O3(document.body,{background:"black"}):cle,O3(c,{transformOrigin:ri(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Or.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Or.EASE.join(",")})`}));const u=O3(c,{borderRadius:`${$R}px`,overflow:"hidden",...ri(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Or.DURATION*1e3)}}},[n,s,o])}let k1=null;function ule({isOpen:e,modal:n,nested:s,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[o,l]=tt.useState(()=>typeof window<"u"?window.location.href:""),c=tt.useRef(0),u=tt.useCallback(()=>{if(pN()&&k1===null&&e&&!a){k1={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const h=m-window.innerHeight;h&&c.current>=m&&(document.body.style.top=`${-(c.current+h)}px`)}),300)}},[e]),p=tt.useCallback(()=>{if(pN()&&k1!==null&&!a){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,k1),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){l(window.location.href);return}window.scrollTo(m,f)}),k1=null}},[o]);return tt.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),tt.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||p()}},[n,p]),tt.useEffect(()=>{s||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),n||window.setTimeout(()=>{p()},500)):p())},[e,r,o,n,s,u,p]),{restorePositionSetting:p}}function ple({open:e,onOpenChange:n,children:s,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=ile,scrollLockTimeout:u=ale,dismissible:p=!0,handleOnly:f=!1,fadeFromIndex:m=a&&a.length-1,activeSnapPoint:h,setActiveSnapPoint:x,fixed:y,modal:v=!0,onClose:g,nested:b,noBodyStyles:w=!1,direction:N="bottom",defaultOpen:j=!1,disablePreventScroll:_=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:F=!1,repositionInputs:E=!0,onAnimationEnd:S,container:M,autoFocus:k=!1}){var I,D;const[P=!1,R]=WR({defaultProp:j,prop:e,onChange:dt=>{n?.(dt),!dt&&!b&&Qe(),setTimeout(()=>{S?.(dt)},Or.DURATION*1e3),dt&&!v&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),dt||(document.body.style.pointerEvents="auto")}}),[B,U]=tt.useState(!1),[H,$]=tt.useState(!1),[q,Q]=tt.useState(!1),V=tt.useRef(null),ee=tt.useRef(null),X=tt.useRef(null),ae=tt.useRef(null),me=tt.useRef(null),oe=tt.useRef(!1),pe=tt.useRef(null),se=tt.useRef(0),re=tt.useRef(!1),ve=tt.useRef(!j),we=tt.useRef(0),be=tt.useRef(null),Ue=tt.useRef(((I=be.current)==null?void 0:I.getBoundingClientRect().height)||0),fe=tt.useRef(((D=be.current)==null?void 0:D.getBoundingClientRect().width)||0),Me=tt.useRef(0),J=tt.useCallback(dt=>{a&&dt===Ie.length-1&&(ee.current=new Date)},[]),{activeSnapPoint:Ne,activeSnapPointIndex:ge,setActiveSnapPoint:Ee,onRelease:Ce,snapPointsOffset:Ie,onDrag:Ae,shouldFade:Se,getPercentageDragged:ht}=lle({snapPoints:a,activeSnapPointProp:h,setActiveSnapPointProp:x,drawerRef:be,fadeFromIndex:m,overlayRef:V,onSnapPointChange:J,direction:N,container:M,snapToSequentialPoint:C});Joe({isDisabled:!P||H||!v||q||!B||!E||!_});const{restorePositionSetting:Qe}=ule({isOpen:P,modal:v,nested:b??!1,hasBeenOpened:B,preventScrollRestoration:F,noBodyStyles:w});function De(){return(window.innerWidth-xy)/window.innerWidth}function de(dt){var vt,Ct;!p&&!a||be.current&&!be.current.contains(dt.target)||(Ue.current=((vt=be.current)==null?void 0:vt.getBoundingClientRect().height)||0,fe.current=((Ct=be.current)==null?void 0:Ct.getBoundingClientRect().width)||0,$(!0),X.current=new Date,OR()&&window.addEventListener("touchend",()=>oe.current=!1,{once:!0}),dt.target.setPointerCapture(dt.pointerId),se.current=ri(N)?dt.pageY:dt.pageX)}function ue(dt,vt){var Ct;let St=dt;const ct=(Ct=window.getSelection())==null?void 0:Ct.toString(),Ft=be.current?d0(be.current,N):null,Fe=new Date;if(St.tagName==="SELECT"||St.hasAttribute("data-vaul-no-drag")||St.closest("[data-vaul-no-drag]"))return!1;if(N==="right"||N==="left")return!0;if(ee.current&&Fe.getTime()-ee.current.getTime()<500)return!1;if(Ft!==null&&(N==="bottom"?Ft>0:Ft<0))return!0;if(ct&&ct.length>0)return!1;if(me.current&&Fe.getTime()-me.current.getTime()<u&&Ft===0||vt)return me.current=Fe,!1;for(;St;){if(St.scrollHeight>St.clientHeight){if(St.scrollTop!==0)return me.current=new Date,!1;if(St.getAttribute("role")==="dialog")return!0}St=St.parentNode}return!0}function lt(dt){if(be.current&&H){const vt=N==="bottom"||N==="right"?1:-1,Ct=(se.current-(ri(N)?dt.pageY:dt.pageX))*vt,St=Ct>0,ct=a&&!p&&!St;if(ct&&ge===0)return;const Ft=Math.abs(Ct),Fe=document.querySelector("[data-vaul-drawer-wrapper]"),He=N==="bottom"||N==="top"?Ue.current:fe.current;let Ve=Ft/He;const Ke=ht(Ft,St);if(Ke!==null&&(Ve=Ke),ct&&Ve>=1||!oe.current&&!ue(dt.target,St))return;if(be.current.classList.add(B3),oe.current=!0,xi(be.current,{transition:"none"}),xi(V.current,{transition:"none"}),a&&Ae({draggedDistance:Ct}),St&&!a){const At=sle(Ct),mn=Math.min(At*-1,0)*vt;xi(be.current,{transform:ri(N)?`translate3d(0, ${mn}px, 0)`:`translate3d(${mn}px, 0, 0)`});return}const Ye=1-Ve;if((Se||m&&ge===m-1)&&(r?.(dt,Ve),xi(V.current,{opacity:`${Ye}`,transition:"none"},!0)),Fe&&V.current&&o){const At=Math.min(De()+Ve*(1-De()),1),mn=8-Ve*8,Dt=Math.max(0,14-Ve*14);xi(Fe,{borderRadius:`${mn}px`,transform:ri(N)?`scale(${At}) translate3d(0, ${Dt}px, 0)`:`scale(${At}) translate3d(${Dt}px, 0, 0)`,transition:"none"},!0)}if(!a){const At=Ft*vt;xi(be.current,{transform:ri(N)?`translate3d(0, ${At}px, 0)`:`translate3d(${At}px, 0, 0)`})}}}tt.useEffect(()=>{window.requestAnimationFrame(()=>{ve.current=!0})},[]),tt.useEffect(()=>{var dt;function vt(){if(!be.current||!E)return;const Ct=document.activeElement;if(hy(Ct)||re.current){var St;const ct=((St=window.visualViewport)==null?void 0:St.height)||0,Ft=window.innerHeight;let Fe=Ft-ct;const He=be.current.getBoundingClientRect().height||0,Ve=He>Ft*.8;Me.current||(Me.current=He);const Ke=be.current.getBoundingClientRect().top;if(Math.abs(we.current-Fe)>60&&(re.current=!re.current),a&&a.length>0&&Ie&&ge){const Ye=Ie[ge]||0;Fe+=Ye}if(we.current=Fe,He>ct||re.current){const Ye=be.current.getBoundingClientRect().height;let At=Ye;Ye>ct&&(At=ct-(Ve?Ke:xy)),y?be.current.style.height=`${Ye-Math.max(Fe,0)}px`:be.current.style.height=`${Math.max(At,ct-Ke)}px`}else zoe()||(be.current.style.height=`${Me.current}px`);a&&a.length>0&&!re.current?be.current.style.bottom="0px":be.current.style.bottom=`${Math.max(Fe,0)}px`}}return(dt=window.visualViewport)==null||dt.addEventListener("resize",vt),()=>{var Ct;return(Ct=window.visualViewport)==null?void 0:Ct.removeEventListener("resize",vt)}},[ge,a,Ie]);function st(dt){ut(),g?.(),dt||R(!1),setTimeout(()=>{a&&Ee(a[0])},Or.DURATION*1e3)}function mt(){if(!be.current)return;const dt=document.querySelector("[data-vaul-drawer-wrapper]"),vt=d0(be.current,N);xi(be.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`}),xi(V.current,{transition:`opacity ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,opacity:"1"}),o&&vt&&vt>0&&P&&xi(dt,{borderRadius:`${$R}px`,overflow:"hidden",...ri(N)?{transform:`scale(${De()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${De()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Or.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Or.EASE.join(",")})`},!0)}function ut(){!H||!be.current||(be.current.classList.remove(B3),oe.current=!1,$(!1),ae.current=new Date)}function wn(dt){if(!H||!be.current)return;be.current.classList.remove(B3),oe.current=!1,$(!1),ae.current=new Date;const vt=d0(be.current,N);if(!dt||!ue(dt.target,!1)||!vt||Number.isNaN(vt)||X.current===null)return;const Ct=ae.current.getTime()-X.current.getTime(),St=se.current-(ri(N)?dt.pageY:dt.pageX),ct=Math.abs(St)/Ct;if(ct>.05&&(Q(!0),setTimeout(()=>{Q(!1)},200)),a){Ce({draggedDistance:St*(N==="bottom"||N==="right"?1:-1),closeDrawer:st,velocity:ct,dismissible:p}),i?.(dt,!0);return}if(N==="bottom"||N==="right"?St>0:St<0){mt(),i?.(dt,!0);return}if(ct>HR){st(),i?.(dt,!1);return}var Ft;const Fe=Math.min((Ft=be.current.getBoundingClientRect().height)!=null?Ft:0,window.innerHeight);var He;const Ve=Math.min((He=be.current.getBoundingClientRect().width)!=null?He:0,window.innerWidth),Ke=N==="left"||N==="right";if(Math.abs(vt)>=(Ke?Ve:Fe)*c){st(),i?.(dt,!1);return}i?.(dt,!0),mt()}tt.useEffect(()=>(P&&(xi(document.documentElement,{scrollBehavior:"auto"}),ee.current=new Date),()=>{nle(document.documentElement,"scrollBehavior")}),[P]);function Oe(dt){const vt=dt?(window.innerWidth-qc)/window.innerWidth:1,Ct=dt?-qc:0;pe.current&&window.clearTimeout(pe.current),xi(be.current,{transition:`transform ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,transform:ri(N)?`scale(${vt}) translate3d(0, ${Ct}px, 0)`:`scale(${vt}) translate3d(${Ct}px, 0, 0)`}),!dt&&be.current&&(pe.current=setTimeout(()=>{const St=d0(be.current,N);xi(be.current,{transition:"none",transform:ri(N)?`translate3d(0, ${St}px, 0)`:`translate3d(${St}px, 0, 0)`})},500))}function _e(dt,vt){if(vt<0)return;const Ct=(window.innerWidth-qc)/window.innerWidth,St=Ct+vt*(1-Ct),ct=-qc+vt*qc;xi(be.current,{transform:ri(N)?`scale(${St}) translate3d(0, ${ct}px, 0)`:`scale(${St}) translate3d(${ct}px, 0, 0)`,transition:"none"})}function Et(dt,vt){const Ct=ri(N)?window.innerHeight:window.innerWidth,St=vt?(Ct-qc)/Ct:1,ct=vt?-qc:0;vt&&xi(be.current,{transition:`transform ${Or.DURATION}s cubic-bezier(${Or.EASE.join(",")})`,transform:ri(N)?`scale(${St}) translate3d(0, ${ct}px, 0)`:`scale(${St}) translate3d(${ct}px, 0, 0)`})}return tt.useEffect(()=>{v||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[v]),tt.createElement(Lg,{defaultOpen:j,onOpenChange:dt=>{!p&&!dt||(dt?U(!0):st(!0),R(dt))},open:P},tt.createElement(PR.Provider,{value:{activeSnapPoint:Ne,snapPoints:a,setActiveSnapPoint:Ee,drawerRef:be,overlayRef:V,onOpenChange:n,onPress:de,onRelease:wn,onDrag:lt,dismissible:p,shouldAnimate:ve,handleOnly:f,isOpen:P,isDragging:H,shouldFade:Se,closeDrawer:st,onNestedDrag:_e,onNestedOpenChange:Oe,onNestedRelease:Et,keyboardIsOpen:re,modal:v,snapPointsOffset:Ie,activeSnapPointIndex:ge,direction:N,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:w,container:M,autoFocus:k}},s))}const GR=tt.forwardRef(function({...e},n){const{overlayRef:s,snapPoints:r,onRelease:i,shouldFade:a,isOpen:o,modal:l,shouldAnimate:c}=eh(),u=UR(n,s),p=r&&r.length>0;if(!l)return null;const f=tt.useCallback(m=>i(m),[i]);return tt.createElement(Fp,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":o&&p?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":c?.current?"true":"false",...e})});GR.displayName="Drawer.Overlay";const qR=tt.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:s,...r},i){const{drawerRef:a,onPress:o,onRelease:l,onDrag:c,keyboardIsOpen:u,snapPointsOffset:p,activeSnapPointIndex:f,modal:m,isOpen:h,direction:x,snapPoints:y,container:v,handleOnly:g,shouldAnimate:b,autoFocus:w}=eh(),[N,j]=tt.useState(!1),_=UR(i,a),C=tt.useRef(null),F=tt.useRef(null),E=tt.useRef(!1),S=y&&y.length>0;dle();const M=(I,D,P=0)=>{if(E.current)return!0;const R=Math.abs(I.y),B=Math.abs(I.x),U=B>R,H=["bottom","right"].includes(D)?1:-1;if(D==="left"||D==="right"){if(!(I.x*H<0)&&B>=0&&B<=P)return U}else if(!(I.y*H<0)&&R>=0&&R<=P)return!U;return E.current=!0,!0};tt.useEffect(()=>{S&&window.requestAnimationFrame(()=>{j(!0)})},[]);function k(I){C.current=null,E.current=!1,l(I)}return tt.createElement(Ep,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":N?"true":"false","data-vaul-snap-points":h&&S?"true":"false","data-vaul-custom-container":v?"true":"false","data-vaul-animate":b?.current?"true":"false",...r,ref:_,style:p&&p.length>0?{"--snap-point-height":`${p[f??0]}px`,...n}:n,onPointerDown:I=>{g||(r.onPointerDown==null||r.onPointerDown.call(r,I),C.current={x:I.pageX,y:I.pageY},o(I))},onOpenAutoFocus:I=>{s?.(I),w||I.preventDefault()},onPointerDownOutside:I=>{if(e?.(I),!m||I.defaultPrevented){I.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:I=>{if(!m){I.preventDefault();return}},onPointerMove:I=>{if(F.current=I,g||(r.onPointerMove==null||r.onPointerMove.call(r,I),!C.current))return;const D=I.pageY-C.current.y,P=I.pageX-C.current.x,R=I.pointerType==="touch"?10:2;M({x:P,y:D},x,R)?c(I):(Math.abs(P)>R||Math.abs(D)>R)&&(C.current=null)},onPointerUp:I=>{r.onPointerUp==null||r.onPointerUp.call(r,I),C.current=null,E.current=!1,l(I)},onPointerOut:I=>{r.onPointerOut==null||r.onPointerOut.call(r,I),k(F.current)},onContextMenu:I=>{r.onContextMenu==null||r.onContextMenu.call(r,I),F.current&&k(F.current)}})});qR.displayName="Drawer.Content";const fle=250,mle=120,hle=tt.forwardRef(function({preventCycle:e=!1,children:n,...s},r){const{closeDrawer:i,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:u,handleOnly:p,isOpen:f,onPress:m,onDrag:h}=eh(),x=tt.useRef(null),y=tt.useRef(!1);function v(){if(y.current){w();return}window.setTimeout(()=>{g()},mle)}function g(){if(a||e||y.current){w();return}if(w(),!o||o.length===0){u||i();return}if(l===o[o.length-1]&&u){i();return}const j=o.findIndex(C=>C===l);if(j===-1)return;const _=o[j+1];c(_)}function b(){x.current=window.setTimeout(()=>{y.current=!0},fle)}function w(){x.current&&window.clearTimeout(x.current),y.current=!1}return tt.createElement("div",{onClick:v,onPointerCancel:w,onPointerDown:N=>{p&&m(N),b()},onPointerMove:N=>{p&&h(N)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},tt.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});hle.displayName="Drawer.Handle";function xle(e){const n=eh(),{container:s=n.container,...r}=e;return tt.createElement(Bm,{container:s,...r})}const Dl={Root:ple,Content:qR,Overlay:GR,Trigger:cv,Portal:xle,Close:Dg,Title:Mg,Description:dv};function th({...e}){return t.jsx(Dl.Root,{"data-slot":"drawer",...e})}function gle({...e}){return t.jsx(Dl.Trigger,{"data-slot":"drawer-trigger",...e})}function KR({...e}){return t.jsx(Dl.Portal,{"data-slot":"drawer-portal",...e})}function o8({...e}){return t.jsx(Dl.Close,{"data-slot":"drawer-close",...e})}function YR({className:e,...n}){return t.jsx(Dl.Overlay,{"data-slot":"drawer-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60",e),...n})}function l8({className:e,children:n,...s}){return t.jsxs(KR,{"data-slot":"drawer-portal",children:[t.jsx(YR,{}),t.jsx(Dl.Content,{"data-slot":"drawer-content",className:A("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[99vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[99vh] data-[vaul-drawer-direction=bottom]:rounded-t-2xl data-[vaul-drawer-direction=bottom]:border-none data-[vaul-drawer-direction=bottom]:bg-transparent","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...s,children:t.jsxs("div",{className:"relative flex justify-center",children:[t.jsx("div",{className:"bg-[#252525]/15 mx-auto absolute top-5 z-50 h-1 w-[44px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),n]})})]})}function ZR({className:e,children:n,handleColor:s="bg-[#252525]/15",...r}){return t.jsxs(KR,{"data-slot":"drawer-portal",children:[t.jsx(YR,{}),t.jsx(Dl.Content,{"data-slot":"drawer-content",className:A("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[99vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[99vh] data-[vaul-drawer-direction=bottom]:rounded-t-2xl data-[vaul-drawer-direction=bottom]:border-none data-[vaul-drawer-direction=bottom]:bg-transparent","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",e),...r,children:t.jsxs("div",{className:"relative flex justify-center",children:[t.jsx("div",{className:A(["mx-auto absolute top-5 z-50 h-1 w-[44px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block",s])}),n]})})]})}function sg({className:e,...n}){return t.jsx("div",{"data-slot":"drawer-header",className:A("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",e),...n})}function rg({className:e,...n}){return t.jsx("div",{"data-slot":"drawer-footer",className:A("mt-auto flex flex-col gap-2 p-4",e),...n})}function c8({className:e,...n}){return t.jsx(Dl.Title,{"data-slot":"drawer-title",className:A("text-foreground font-semibold",e),...n})}function ble({className:e,...n}){return t.jsx(Dl.Description,{"data-slot":"drawer-description",className:A("text-muted-foreground text-sm",e),...n})}function la({trigger:e,title:n,description:s,children:r,footer:i,open:a,onOpenChange:o,maxWidth:l="max-w-sm",contentPadding:c="p-3",showDefaultFooter:u=!0,handleColor:p="bg-[#252525]/15",onSubmit:f,onCancel:m,submitText:h="Submit",cancelText:x="Cancel",submitDisabled:y=!1,customerHeader:v,triggerColor:g,showCancel:b=!1}){const w=()=>{f?.()},N=()=>{m?.()};return t.jsxs(th,{open:a,onOpenChange:o,children:[t.jsx(gle,{asChild:!0,children:e}),t.jsx(ZR,{handleColor:p,children:t.jsxs("div",{className:`mx-auto w-full bg-[#111112] border border-[#333333] rounded-t-[24px] ${l}`,children:[v,(n||s)&&t.jsxs(sg,{children:[n&&t.jsx(c8,{children:n}),s&&t.jsx(ble,{children:s}),b&&t.jsx("button",{type:"button",title:"Close",onClick:()=>{m?.()},className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:A("pb-0",c),children:r}),(i||u)&&t.jsx(rg,{className:"bg-[#111112]",children:i||t.jsxs(t.Fragment,{children:[t.jsx(Vt,{onClick:w,disabled:y,children:h}),t.jsx(o8,{asChild:!0,children:t.jsx(Vt,{variant:"outline",onClick:N,children:x})})]})})]})})]})}const h2=({checked:e,onCheckedChange:n,disabled:s=!1,className:r="",checkedColor:i="#29BCCC"})=>t.jsx("button",{title:"Toggle Key Status",type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:a=>{a.stopPropagation(),!s&&n(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${r}`,style:{backgroundColor:e?i:"#131314"},children:t.jsx(xe.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:t.jsxs("div",{className:"relative w-6 h-6",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                linear-gradient(180deg, #242528 0%, #111113 100%),
                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)
              `,filter:`
                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))
                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))
                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))
                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))
                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))
              `}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                radial-gradient(circle at center,
                  rgba(255, 255, 255, 0.1) 0%,
                  rgba(255, 255, 255, 0.03) 50%,
                  transparent 100%
                )
              `,boxShadow:`
                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),
                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),
                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)
              `}})]})})}),ga=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M5.74011 12.8965C5.28525 12.3384 5.31804 11.5154 5.83817 10.9953L13.4172 3.4163L13.5254 3.31823C14.0836 2.86338 14.9065 2.89617 15.4267 3.4163C15.9468 3.93643 15.9796 4.75938 15.5247 5.31753L15.4267 5.42577L8.85238 12L15.4267 18.5743C15.9816 19.1293 15.9816 20.0288 15.4267 20.5838C14.8717 21.1387 13.9721 21.1387 13.4172 20.5838L5.83817 13.0048L5.74011 12.8965Z",fill:n})}),xp=({size:e=24,color:n="#C4C4CC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:{width:e,height:e},children:t.jsx("path",{d:"M14.5 4.9999C13.9696 4.9999 13.4609 5.21061 13.0858 5.58568C12.7107 5.96076 12.5 6.46946 12.5 6.9999C12.5 7.53033 12.7107 8.03904 13.0858 8.41411C13.4609 8.78918 13.9696 8.9999 14.5 8.9999C15.0304 8.9999 15.5391 8.78918 15.9142 8.41411C16.2893 8.03904 16.5 7.53033 16.5 6.9999C16.5 6.46946 16.2893 5.96076 15.9142 5.58568C15.5391 5.21061 15.0304 4.9999 14.5 4.9999ZM10.626 5.9999C10.8484 5.14166 11.3496 4.38158 12.0507 3.83897C12.7519 3.29636 13.6134 3.00195 14.5 3.00195C15.3866 3.00195 16.2481 3.29636 16.9493 3.83897C17.6504 4.38158 18.1516 5.14166 18.374 5.9999H20C20.2652 5.9999 20.5196 6.10525 20.7071 6.29279C20.8946 6.48033 21 6.73468 21 6.9999C21 7.26511 20.8946 7.51947 20.7071 7.707C20.5196 7.89454 20.2652 7.9999 20 7.9999H18.374C18.1516 8.85814 17.6504 9.61822 16.9493 10.1608C16.2481 10.7034 15.3866 10.9978 14.5 10.9978C13.6134 10.9978 12.7519 10.7034 12.0507 10.1608C11.3496 9.61822 10.8484 8.85814 10.626 7.9999H4C3.73478 7.9999 3.48043 7.89454 3.29289 7.707C3.10536 7.51947 3 7.26511 3 6.9999C3 6.73468 3.10536 6.48033 3.29289 6.29279C3.48043 6.10525 3.73478 5.9999 4 5.9999H10.626ZM9.5 14.9999C8.96957 14.9999 8.46086 15.2106 8.08579 15.5857C7.71071 15.9608 7.5 16.4695 7.5 16.9999C7.5 17.5303 7.71071 18.039 8.08579 18.4141C8.46086 18.7892 8.96957 18.9999 9.5 18.9999C10.0304 18.9999 10.5391 18.7892 10.9142 18.4141C11.2893 18.039 11.5 17.5303 11.5 16.9999C11.5 16.4695 11.2893 15.9608 10.9142 15.5857C10.5391 15.2106 10.0304 14.9999 9.5 14.9999ZM5.626 15.9999C5.84844 15.1417 6.34957 14.3816 7.05074 13.839C7.7519 13.2964 8.6134 13.002 9.5 13.002C10.3866 13.002 11.2481 13.2964 11.9493 13.839C12.6504 14.3816 13.1516 15.1417 13.374 15.9999H20C20.2652 15.9999 20.5196 16.1053 20.7071 16.2928C20.8946 16.4803 21 16.7347 21 16.9999C21 17.2651 20.8946 17.5195 20.7071 17.707C20.5196 17.8945 20.2652 17.9999 20 17.9999H13.374C13.1516 18.8581 12.6504 19.6182 11.9493 20.1608C11.2481 20.7034 10.3866 20.9978 9.5 20.9978C8.6134 20.9978 7.7519 20.7034 7.05074 20.1608C6.34957 19.6182 5.84844 18.8581 5.626 17.9999H4C3.73478 17.9999 3.48043 17.8945 3.29289 17.707C3.10536 17.5195 3 17.2651 3 16.9999C3 16.7347 3.10536 16.4803 3.29289 16.2928C3.48043 16.1053 3.73478 15.9999 4 15.9999H5.626Z",fill:n})}),JR=({size:e=20,className:n="",gradientId:s="mcp-gradient"})=>{const r=`${s}-clip`;return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,style:{width:`${e}px`,height:`${e}px`},children:[t.jsx("g",{clipPath:`url(#${r})`,children:t.jsx("path",{d:"M18.667 4.33105H20V15.665H18.667V16.998H1.33301V15.665H0V4.33105H1.33301V2.99805H18.667V4.33105ZM2 7.33203V12.665H3.66699V8.99902H4.33301V12.665H5.66602V8.99902H6.33301V12.665H8V7.33203H2ZM9 7.33203V12.665H13V10.999H10.667V8.99902H13V7.33203H9ZM14 7.33203V12.665H15.667V10.999H18.333V7.33203H14ZM16.667 8.66504V9.66504H15.667V8.66504H16.667Z",fill:`url(#${s})`})}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:s,x1:"1.75",y1:"0.548044",x2:"8.73257",y2:"20.107",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#FFF4DF"}),t.jsx("stop",{offset:"1",stopColor:"#F49B57"})]}),t.jsx("clipPath",{id:r,children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},Go=({className:e="",color:n="#E6E6E6",size:s=20,style:r})=>t.jsxs("svg",{width:s,height:s,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:r,children:[t.jsx("mask",{id:`mask0_3584_37997_${Math.random()}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:`url(#mask0_3584_37997_${Math.random()})`,children:t.jsx("path",{d:"M9.99935 18.3327C8.86046 18.3327 7.78407 18.1139 6.77018 17.6764C5.75629 17.2389 4.87088 16.6417 4.11393 15.8848C3.35699 15.1278 2.75977 14.2424 2.32227 13.2285C1.88477 12.2146 1.66602 11.1382 1.66602 9.99935C1.66602 8.84657 1.88477 7.76671 2.32227 6.75977C2.75977 5.75282 3.35699 4.87088 4.11393 4.11393C4.87088 3.35699 5.75629 2.75977 6.77018 2.32227C7.78407 1.88477 8.86046 1.66602 9.99935 1.66602C11.1521 1.66602 12.232 1.88477 13.2389 2.32227C14.2459 2.75977 15.1278 3.35699 15.8848 4.11393C16.6417 4.87088 17.2389 5.75282 17.6764 6.75977C18.1139 7.76671 18.3327 8.84657 18.3327 9.99935C18.3327 11.1382 18.1139 12.2146 17.6764 13.2285C17.2389 14.2424 16.6417 15.1278 15.8848 15.8848C15.1278 16.6417 14.2459 17.2389 13.2389 17.6764C12.232 18.1139 11.1521 18.3327 9.99935 18.3327ZM9.99935 16.6243C10.3605 16.1243 10.673 15.6035 10.9368 15.0618C11.2007 14.5202 11.416 13.9438 11.5827 13.3327H8.41602C8.58268 13.9438 8.79796 14.5202 9.06185 15.0618C9.32574 15.6035 9.63824 16.1243 9.99935 16.6243ZM7.83268 16.291C7.58268 15.8327 7.36393 15.357 7.17643 14.8639C6.98893 14.3709 6.83268 13.8605 6.70768 13.3327H4.24935C4.65213 14.0271 5.1556 14.6313 5.75977 15.1452C6.36393 15.6591 7.0549 16.041 7.83268 16.291ZM12.166 16.291C12.9438 16.041 13.6348 15.6591 14.2389 15.1452C14.8431 14.6313 15.3466 14.0271 15.7493 13.3327H13.291C13.166 13.8605 13.0098 14.3709 12.8223 14.8639C12.6348 15.357 12.416 15.8327 12.166 16.291ZM3.54102 11.666H6.37435C6.33268 11.3882 6.30143 11.1139 6.2806 10.8431C6.25977 10.5723 6.24935 10.291 6.24935 9.99935C6.24935 9.70768 6.25977 9.42643 6.2806 9.1556C6.30143 8.88477 6.33268 8.61046 6.37435 8.33268H3.54102C3.47157 8.61046 3.41949 8.88477 3.38477 9.1556C3.35004 9.42643 3.33268 9.70768 3.33268 9.99935C3.33268 10.291 3.35004 10.5723 3.38477 10.8431C3.41949 11.1139 3.47157 11.3882 3.54102 11.666ZM8.04102 11.666H11.9577C11.9993 11.3882 12.0306 11.1139 12.0514 10.8431C12.0723 10.5723 12.0827 10.291 12.0827 9.99935C12.0827 9.70768 12.0723 9.42643 12.0514 9.1556C12.0306 8.88477 11.9993 8.61046 11.9577 8.33268H8.04102C7.99935 8.61046 7.9681 8.88477 7.94727 9.1556C7.92643 9.42643 7.91602 9.70768 7.91602 9.99935C7.91602 10.291 7.92643 10.5723 7.94727 10.8431C7.9681 11.1139 7.99935 11.3882 8.04102 11.666ZM13.6243 11.666H16.4577C16.5271 11.3882 16.5792 11.1139 16.6139 10.8431C16.6487 10.5723 16.666 10.291 16.666 9.99935C16.666 9.70768 16.6487 9.42643 16.6139 9.1556C16.5792 8.88477 16.5271 8.61046 16.4577 8.33268H13.6243C13.666 8.61046 13.6973 8.88477 13.7181 9.1556C13.7389 9.42643 13.7493 9.70768 13.7493 9.99935C13.7493 10.291 13.7389 10.5723 13.7181 10.8431C13.6973 11.1139 13.666 11.3882 13.6243 11.666ZM13.291 6.66602H15.7493C15.3466 5.97157 14.8431 5.3674 14.2389 4.85352C13.6348 4.33963 12.9438 3.95768 12.166 3.70768C12.416 4.16602 12.6348 4.64171 12.8223 5.13477C13.0098 5.62782 13.166 6.13824 13.291 6.66602ZM8.41602 6.66602H11.5827C11.416 6.0549 11.2007 5.47852 10.9368 4.93685C10.673 4.39518 10.3605 3.87435 9.99935 3.37435C9.63824 3.87435 9.32574 4.39518 9.06185 4.93685C8.79796 5.47852 8.58268 6.0549 8.41602 6.66602ZM4.24935 6.66602H6.70768C6.83268 6.13824 6.98893 5.62782 7.17643 5.13477C7.36393 4.64171 7.58268 4.16602 7.83268 3.70768C7.0549 3.95768 6.36393 4.33963 5.75977 4.85352C5.1556 5.3674 4.65213 5.97157 4.24935 6.66602Z",fill:n})})]});var U3={exports:{}},V3,xN;function yle(){if(xN)return V3;xN=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return V3=e,V3}var H3,gN;function vle(){if(gN)return H3;gN=1;var e=yle();function n(){}function s(){}return s.resetWarningCache=n,H3=function(){function r(o,l,c,u,p,f){if(f!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:n};return a.PropTypes=a,a},H3}var bN;function wle(){return bN||(bN=1,U3.exports=vle()()),U3.exports}var Cle=wle();const Xe=Ji(Cle),ca=({size:e=24,color:n="white",opacity:s=.3,className:r="",...i})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:r,style:{opacity:s},...i,children:[t.jsx("mask",{id:"mask0_3643_39837",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_3643_39837)",children:t.jsx("path",{d:"M6.12129 21.7843C5.58252 21.7843 5.12129 21.5925 4.73762 21.2088C4.35395 20.8251 4.16211 20.3639 4.16211 19.8251V10.0292C4.16211 9.49044 4.35395 9.02922 4.73762 8.64554C5.12129 8.26187 5.58252 8.07003 6.12129 8.07003H7.10089V6.11085C7.10089 4.75575 7.57844 3.60065 8.53354 2.64554C9.48864 1.69044 10.6437 1.21289 11.9988 1.21289C13.3539 1.21289 14.509 1.69044 15.4642 2.64554C16.4193 3.60065 16.8968 4.75575 16.8968 6.11085V8.07003H17.8764C18.4152 8.07003 18.8764 8.26187 19.2601 8.64554C19.6437 9.02922 19.8356 9.49044 19.8356 10.0292V19.8251C19.8356 20.3639 19.6437 20.8251 19.2601 21.2088C18.8764 21.5925 18.4152 21.7843 17.8764 21.7843H6.12129ZM11.9988 16.8864C12.5376 16.8864 12.9988 16.6945 13.3825 16.3109C13.7662 15.9272 13.958 15.466 13.958 14.9272C13.958 14.3884 13.7662 13.9272 13.3825 13.5435C12.9988 13.1598 12.5376 12.968 11.9988 12.968C11.4601 12.968 10.9988 13.1598 10.6152 13.5435C10.2315 13.9272 10.0397 14.3884 10.0397 14.9272C10.0397 15.466 10.2315 15.9272 10.6152 16.3109C10.9988 16.6945 11.4601 16.8864 11.9988 16.8864ZM9.06007 8.07003H14.9376V6.11085C14.9376 5.29452 14.6519 4.60065 14.0805 4.02922C13.509 3.45779 12.8152 3.17207 11.9988 3.17207C11.1825 3.17207 10.4886 3.45779 9.91721 4.02922C9.34578 4.60065 9.06007 5.29452 9.06007 6.11085V8.07003Z",fill:n})})]});ca.propTypes={size:Xe.oneOfType([Xe.number,Xe.string]),color:Xe.string,opacity:Xe.number,className:Xe.string,onClick:Xe.func,onMouseEnter:Xe.func,onMouseLeave:Xe.func,style:Xe.object,"aria-label":Xe.string,"aria-hidden":Xe.bool,role:Xe.string,id:Xe.string,"data-testid":Xe.string};const jr=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M10.8213 5.93167C10.9705 5.48892 11.6047 5.48889 11.7539 5.93167L12.6582 8.61721C13.1079 9.95302 14.1686 11.002 15.5205 11.4463L18.2383 12.3389C18.6866 12.4862 18.6866 13.1134 18.2383 13.2608L15.5205 14.1543C14.1686 14.5986 13.1079 15.6466 12.6582 16.9824L11.7539 19.668C11.6048 20.111 10.9704 20.111 10.8213 19.668L9.917 16.9824C9.46731 15.6467 8.40659 14.5986 7.0547 14.1543L4.33595 13.2608C3.88806 13.1132 3.88798 12.4863 4.33595 12.3389L7.0547 11.4463C8.40665 11.002 9.46729 9.95302 9.917 8.61721L10.8213 5.93167ZM16.8984 4.13284C16.9581 3.95574 17.2118 3.9557 17.2715 4.13284L17.6084 5.13382C17.804 5.71436 18.2649 6.17014 18.8526 6.36331L19.8652 6.69632C20.0445 6.7553 20.0446 7.00555 19.8652 7.06448L18.8526 7.39749C18.2648 7.59072 17.8039 8.04628 17.6084 8.62698L17.2715 9.62698C17.2118 9.80417 16.9581 9.80417 16.8984 9.62698L16.5615 8.62698C16.366 8.04634 15.905 7.59076 15.3174 7.39749L14.3047 7.06448C14.1254 7.00554 14.1254 6.75525 14.3047 6.69632L15.3174 6.36331C15.905 6.1701 16.3659 5.71433 16.5615 5.13382L16.8984 4.13284Z",fill:r})})},qo=({size:e=36,color:n="#E57E5C",className:s="",...r})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:[t.jsx("path",{d:"M17.1016 10.4995C17.1016 10.0025 17.5039 9.6001 18.001 9.6001C18.498 9.6001 18.9004 10.0025 18.9004 10.4995V17.1001H25.501C25.998 17.1001 26.4004 17.5025 26.4004 17.9995C26.4004 18.4966 25.998 18.8989 25.501 18.8989H18.001C17.5039 18.8989 17.1016 18.4966 17.1016 17.9995V10.4995Z",fill:n}),t.jsx("path",{d:"M17.9922 4.50098C21.5724 4.50103 25.0064 5.92262 27.5381 8.4541C30.0698 10.9858 31.4922 14.4206 31.4922 18.001C31.492 21.5811 30.0696 25.0143 27.5381 27.5459C25.0064 30.0775 21.5724 31.5009 17.9922 31.501C17.4954 31.5007 17.0928 31.0965 17.0928 30.5996V30.5967C17.093 30.1 17.4955 29.6966 17.9922 29.6963C21.0938 29.6962 24.0694 28.4645 26.2627 26.2715C28.4559 24.0782 29.6883 21.1027 29.6885 18.001C29.6885 14.8991 28.456 11.9239 26.2627 9.73047C24.0693 7.53708 21.0941 6.30376 17.9922 6.30371C17.7537 6.30356 17.5251 6.20868 17.3564 6.04004C17.1879 5.87138 17.0929 5.64275 17.0928 5.4043V5.40039C17.0928 4.90353 17.4954 4.50129 17.9922 4.50098ZM8.98535 19.5C9.53736 19.5002 9.98409 19.947 9.98438 20.499V24.5H13.9961C14.5482 24.5 14.9958 24.947 14.9961 25.499C14.9961 26.0514 14.5484 26.499 13.9961 26.499H9.98438V30.5C9.98438 31.0522 9.53754 31.4998 8.98535 31.5C8.4331 31.4999 7.98535 31.0523 7.98535 30.5V26.499H3.99512C3.44288 26.4989 2.99609 26.0513 2.99609 25.499C2.99643 24.947 3.44309 24.5001 3.99512 24.5H7.98535V20.499C7.98564 19.947 8.43327 19.5001 8.98535 19.5ZM5.99219 12C6.82052 12.0001 7.49219 12.6716 7.49219 13.5C7.49203 14.3282 6.82043 14.9999 5.99219 15C5.16386 15 4.49235 14.3283 4.49219 13.5C4.49219 12.6716 5.16376 12 5.99219 12ZM8.99414 7.5C9.82257 7.5 10.4941 8.17157 10.4941 9C10.494 9.82829 9.82247 10.5 8.99414 10.5C8.1659 10.4999 7.4943 9.82823 7.49414 9C7.49414 8.17164 8.1658 7.50011 8.99414 7.5ZM13.4941 4.5C14.3226 4.5 14.9941 5.17157 14.9941 6C14.9941 6.82843 14.3226 7.5 13.4941 7.5C12.6658 7.49989 11.9941 6.82836 11.9941 6C11.9941 5.17164 12.6658 4.50011 13.4941 4.5Z",fill:n})]}),gp=d.forwardRef(({className:e,...n},s)=>t.jsx(uv,{className:A("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:s,children:t.jsx(vT,{className:A("pointer-events-none block h-4 w-4 rounded-full bg-[#FFFFFF] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0 ")})}));gp.displayName=uv.displayName;const Tf=({width:e=20,height:n=20,fill:s="#E58D73",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,children:t.jsx("path",{d:"M5.13405 12.64L8.28605 10.88L8.33405 10.72L8.28605 10.64H8.12605L7.59805 10.608L5.80605 10.56L4.23805 10.48L2.71805 10.4L2.33405 10.32L1.99805 9.84L2.03005 9.6L2.35005 9.392L2.81405 9.424L3.82205 9.504L5.34205 9.6L6.44605 9.664L8.07805 9.856H8.33405L8.36605 9.744L8.28605 9.68L8.22205 9.616L6.63805 8.56L4.94205 7.44L4.04605 6.784L3.56605 6.464L3.32605 6.144L3.23005 5.472L3.66205 4.992L4.25405 5.04L4.39805 5.072L4.99005 5.536L6.27005 6.512L7.91805 7.76L8.15805 7.952L8.25405 7.888L8.27005 7.84L8.15805 7.664L7.27805 6L6.31805 4.336L5.88605 3.648L5.77405 3.232C5.72605 3.072 5.71005 2.912 5.71005 2.752L6.19005 2.08L6.47805 2L7.15005 2.096L7.40605 2.32L7.82205 3.28L8.47805 4.768L9.51805 6.784L9.83805 7.392L9.99805 7.936L10.046 8.096H10.158V8.016L10.238 6.864L10.398 5.472L10.558 3.68L10.606 3.168L10.862 2.56L11.342 2.24L11.758 2.416L12.078 2.88L12.03 3.168L11.854 4.4L11.438 6.336L11.198 7.648H11.342L11.502 7.472L12.158 6.608L13.262 5.232L13.742 4.672L14.318 4.08L14.686 3.792H15.374L15.87 4.544L15.646 5.328L14.942 6.224L14.35 6.976L13.502 8.112L12.99 9.024L13.038 9.088H13.15L15.07 8.672L16.094 8.496L17.31 8.288L17.87 8.544L17.934 8.8L17.71 9.344L16.398 9.664L14.862 9.984L12.574 10.512L12.542 10.528L12.574 10.576L13.598 10.672L14.046 10.704H15.134L17.15 10.864L17.678 11.184L17.982 11.616L17.934 11.936L17.118 12.352L16.03 12.096L13.47 11.488L12.606 11.28H12.478V11.344L13.214 12.064L14.542 13.264L16.238 14.816L16.318 15.2L16.11 15.52L15.886 15.488L14.414 14.368L13.838 13.888L12.558 12.8H12.478V12.912L12.766 13.344L14.334 15.696L14.414 16.416L14.302 16.64L13.886 16.8L13.454 16.704L12.526 15.424L11.566 13.984L10.814 12.672L10.734 12.736L10.27 17.568L10.062 17.808L9.58205 18L9.18205 17.68L8.95805 17.2L9.18205 16.208L9.43805 14.928L9.64605 13.904L9.83805 12.64L9.95005 12.224V12.192H9.83805L8.87805 13.52L7.43805 15.488L6.28605 16.704L6.01405 16.816L5.53405 16.576L5.58205 16.128L5.83805 15.76L7.43805 13.712L8.39805 12.448L9.03805 11.712L9.02205 11.632H8.97405L4.75005 14.384L3.99805 14.48L3.67805 14.16L3.71005 13.68L3.87005 13.52L5.15005 12.64H5.13405Z",fill:s})}),yN=W.common.logoBlue,vN=W.icons.geminiIcon;let Hi=null;const d8=({models:e,selectedModelId:n,onModelChange:s,className:r,disabled:i=!1,placeholder:a="Select Model",onUpgradeRequired:o,buttonClassName:l})=>{const[c,u]=d.useState(!1),[p,f]=d.useState({top:0,left:0,width:320}),[m,h]=d.useState(!1),x=d.useRef(Math.random().toString(36).substring(2,15)),y=d.useRef(null),v=d.useRef(null),g=d.useRef(null),b=wi(),{canAccessModel:w,pro:N,tier:j}=ni(),_=Xi(),C=Vr($=>$.menu?.showModelSelectorTooltip),F=Vr($=>$.menu?.highlightBroMode),E=$=>$.unavailable_tier?j!==$.unavailable_tier:!0,S=$=>w($.user_tier),M=$=>$==="Claude 4.5 Sonnet",k=e.filter(E).filter(($,q,Q)=>q===Q.findIndex(V=>V.id===$.id)),I=e.find($=>$.id===n),D=()=>{if(!v.current)return;const $=v.current.getBoundingClientRect(),q=Math.min(k.length*50+16,300),Q=$.width,V=8;let ee=$.bottom+V,X=$.left;ee+q>window.innerHeight&&(ee=$.top-q-V),X+Q>window.innerWidth&&(X=window.innerWidth-Q-16),X<0&&(X=16),f({top:ee,left:X,width:Q})},P=()=>{const $=k.findIndex(ee=>ee.name.toLowerCase().includes("extended"));if($===-1)return{top:p.top,left:p.left+340};const q=40;return{top:p.top+8+$*q+q/2-60,left:p.left+340}},R=()=>({top:p.top+8+0+20-30,left:p.left+340});d.useEffect(()=>{F&&C?Hi||(Hi=x.current,D(),u(!0),h(!0)):C&&!Hq()&&rm(b.pathname)?Hi||(Hi=x.current,D(),u(!0),pC()):!C&&Hi===x.current&&(Hi=null,c&&(u(!1),h(!1)))},[C,b.pathname,F]),d.useEffect(()=>()=>{Hi===x.current&&(Hi=null)},[]),d.useEffect(()=>{const $=Q=>{if(!y.current||!v.current)return;const V=Q.target;c&&!y.current.contains(V)&&!v.current.contains(V)&&(!g.current||!g.current.contains(V))&&(u(!1),C&&Hi===x.current&&(_(Ka(!1)),Hi===x.current&&(Hi=null)),m&&(h(!1),_(Nf(!1))))},q=()=>{c&&D()};return c&&(document.addEventListener("mousedown",$),window.addEventListener("scroll",q,!0),window.addEventListener("resize",q)),()=>{document.removeEventListener("mousedown",$),window.removeEventListener("scroll",q,!0),window.removeEventListener("resize",q)}},[c]);const B=$=>{const q=e.find(Q=>Q.id===$);if(q&&!S(q)){o&&o(q),u(!1);return}s($),u(!1),C&&(_(Ka(!1)),Hi===x.current&&(Hi=null)),F&&_(Nf(!1))},U=()=>{pC(),_(Ka(!1)),Hi===x.current&&(Hi=null)},H=()=>{h(!1),_(Nf(!1)),_(Ka(!1))};return t.jsxs("div",{className:A("relative w-full",r),children:[t.jsxs("button",{ref:v,type:"button","data-testid":yr.modelSelector.button,disabled:i,className:A("h-[56px] bg-[#FFFFFF0A] w-full border border-[#ffffff12] rounded-lg px-4 flex items-center gap-2 transition-colors duration-200 hover:border-[#333]",c&&"border-[#80FFF9] bg-[#5CD2E51A] text-[#80FFF9]",i&&"opacity-50 cursor-not-allowed",l),onClick:$=>{$.stopPropagation(),!i&&(c||D(),u(!c))},children:[I?.name.toLowerCase()?.includes("composite")?t.jsx("img",{src:yN,alt:"Emergent Logo",width:20,height:20,className:"hidden md:block"}):I?.name.toLowerCase()?.includes("gemini")?t.jsx("img",{src:vN,alt:"Gemini",width:20,height:20,className:"hidden md:block"}):I?.icon?t.jsx(I.icon,{className:A("hidden md:block",c&&"text-[#80FFF9]")}):null,t.jsx("span",{"data-testid":yr.modelSelector.text,className:A("text-[#DDDDE6] flex-1 text-[14px] flex flex-nowrap whitespace-nowrap capitalize",c&&"text-[#80FFF9]",!I&&"text-[#999]"),children:I?I.name:a}),t.jsx(Dr,{className:A("w-5 h-5 transition-transform duration-200 text-[#DDDDE6]",c&&"rotate-180 text-[#80FFF9]")})]}),t.jsx(zn,{open:c,onOpenChange:u,children:t.jsx(Us,{children:t.jsx("div",{ref:y,"data-testid":yr.modelSelector.dropdown,className:"fixed z-[9999] bg-[#131314] border border-[#222] rounded-lg shadow-lg overflow-y-auto max-h-[300px]",style:{top:`${p.top}px`,left:`${p.left}px`,width:`${p.width}px`,minWidth:"320px"},children:t.jsx("div",{className:"flex flex-col p-2",children:k.map($=>t.jsx("div",{"data-testid":yr.modelSelector.option($.user_tier==="pro_mode"?"pro":"free"),className:A("flex items-center px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer relative",n===$.id&&"text-[#80FFF9]"),onClick:q=>{q.stopPropagation(),B($.id)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"min-w-[15px] flex items-center justify-center",children:$.name&&$.name.toLowerCase().includes("composite")?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx("img",{src:yN,alt:"Emergent Logo",width:16,height:16,className:"hidden md:block"})}):$.name&&$.name.toLowerCase().includes("gemini")?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx("img",{src:vN,alt:"Gemini",width:16,height:16,className:"hidden md:block"})}):$.icon?t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded-[20px] bg-white/10",children:t.jsx($.icon,{className:A("hidden md:block w-4 h-4",n===$.id&&"text-[#80FFF9]")})}):null}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{"data-testid":yr.modelSelector.name,className:"text-[12px] text-nowrap flex items-center gap-[2px] md:text-[13px] text-[#E8E8E6]",children:[$.name,$.user_tier=="pro_mode"&&t.jsx(jr,{color:"#FF8C66"})]}),$.description&&t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:$.description})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[$.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:M($.name)?"Beta":"PRO"})}),n===$.id&&!$.showNew&&t.jsx(Mn,{className:"h-4 w-4 text-[#66EAFF]"})]})]})},$.id))})})})}),t.jsx(zn,{open:c&&C&&Hi===x.current&&b.pathname==="/",onOpenChange:$=>{$||U()},children:t.jsx(Us,{children:t.jsxs(xe.div,{ref:g,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",...P()},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx(Tf,{fill:"#000000"}),t.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:N?"Try Now":"Try Claude 4.5 - 1M context"})]}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:N?"Experience Anthropic's latest 4.5 sonnet model with 1M context window":"Get your hands on Anthropic's latest 4.5 sonnet model with 1M context window"})]}),t.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:t.jsxs("button",{onClick:$=>{$.stopPropagation(),$.preventDefault(),N?U():o&&(U(),o())},className:"px-3 py-[6px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:[N?"Try Now":"Upgrade to Pro",t.jsx(jr,{color:"#ffffff"})]})})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})}),t.jsx(zn,{open:c&&m&&F,onOpenChange:$=>{$||H()},children:t.jsx(Us,{children:t.jsxs(xe.div,{ref:g,initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"fixed z-[9999] max-w-[280px] p-3 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)",...R()},children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"flex items-center gap-[6px]",children:t.jsx("span",{className:"text-[15px] font-['Inter'] font-semibold text-[#0F0F10]",children:"Try Claude 4.5 Sonnet"})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:"Experience Anthropic's latest 4.5 sonnet model with enhanced reasoning and deep context understanding."})]}),t.jsx("div",{className:"flex items-center justify-end w-full gap-2",children:t.jsxs("button",{onClick:$=>{$.stopPropagation(),$.preventDefault();const q=k.find(Q=>Q.name==="Claude 4.5 Sonnet");q&&B(q.id),H()},className:"px-[8px] py-[2px] flex gap-2 items-center justify-center bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:["Try Now",t.jsx(jr,{color:"#ffffff",size:20})]})})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})})]})},x2=({privacy:e,iconSize:n=20,textClassName:s="font-medium font-inter text-[#FFFFFF]"})=>t.jsx(t.Fragment,{children:e==="public"?t.jsxs(t.Fragment,{children:[t.jsx(Go,{size:n}),t.jsx("span",{className:s,children:"Public"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ca,{size:n,color:"#ffffff",opacity:1}),t.jsx("span",{className:s,children:"Private"})]})}),_le=W.common.copyPaperclip,jle=W.common.logoBlue,Nle=W.common.copperCoin,wN=W.universal.claude,CN=W.universal.openai,Fle=W.icons.geminiIcon,Ele=W.icons.submit,Sle=W.icons.github,kle=W.github.githubConnected;let So=null,fu=null;const _N=(e,n)=>{if(!n)return{model:null,name:null,icon:CN};if(n==="bro-mode")return{model:{id:"bro-mode",name:"Bro Mode",description:"Advanced AI with enhanced reasoning"},name:"Bro Mode",icon:wN};const s=e.find(o=>o.id===n),r=s?.name;let i=CN;const a=r?.toLowerCase();return a?.includes("composite")?i=jle:a?.includes("claude")?i=wN:a?.includes("gemini")&&(i=Fle),{model:s,name:r,icon:i}},Tle=(e,n,s=!1)=>s?!0:e.user_tier?n===e.user_tier:e.unavailable_tier?n!==e.unavailable_tier:!0,Ile=({value:e,onChange:n,placeholder:s="",maxHeight:r="200px",onAttachClick:i,onSubmit:a,disabled:o,onPaste:l,attachIcon:c,attachTooltip:u,githubTooltip:p,isSubmitting:f,handleSettingsClick:m,handleGithubSettings:h,showGithubSettings:x,showControls:y,className:v,hasUserConnectedGithub:g,githubUrl:b,onClearGithubUrl:w,isUploadAssetEnabled:N=!1,userPrompts:j=[],isLoadingUserPrompts:_=!1,selectedCustomAgent:C=null,onCustomAgentChange:F,shouldShowUserPrompts:E=!1,mobileEnabled:S=!1,onMobileEnabled:M,e15Enabled:k=!1,onE15Enabled:I,e2Enabled:D=!1,onE2Enabled:P,prototypeEnabled:R=!1,onPrototypeEnabled:B,nextJSEnabled:U=!1,onNextJSEnabled:H,showMobileAgentIntro:$=!1,onMobileAgentIntroShown:q,selectedImage:Q,setSelectedImage:V,globalConfig:ee,perInstanceCostLimit:X,setPerInstanceCostLimit:ae,availableModels:me=[],selectedModelId:oe,onModelChange:pe,showModelSelector:se=!1,onPrivacyChange:re,ultraMode:ve=!1,onUltraModeChange:we,testMode:be=!1,onTestModeChange:Ue,selectedMcpTools:fe=[],onMcpToolsChange:Me,onFocusChange:J,isRecording:Ne=!1,isTranscribing:ge=!1,onVoiceClick:Ee})=>{const{pro:Ce,restrictedFree:Ie,defaultPrivacy:Ae,isEmergentUser:Se,tier:ht,isTrulyFreeUser:Qe,isOrganizationWorkspace:De}=ni(),{toast:de}=ds(),{t:ue}=Jt("home"),lt=Xi(),st=Vr(te=>te.menu?.showModelSelectorTooltip),mt=Vr(te=>te.menu?.showAgentDropdown),ut=Vr(te=>te.menu?.highlightBroMode),{currentWorkspace:wn}=ys(),{setTabs:Oe,setActiveTab:_e}=qr(),Et=wi(),[dt,vt]=d.useState(""),[Ct,St]=d.useState(!1),ct=d.useRef(Math.random().toString(36).substring(2,15)),[Ft,Fe]=d.useState(0),[He,Ve]=d.useState(!1),[Ke,Ye]=d.useState(!1),[At,mn]=d.useState(),[Dt,Yt]=d.useState(!1),[fn,qt]=d.useState({top:0,left:0}),[_n,In]=d.useState(!1),[je,Le]=d.useState(!1),[xt,Rt]=d.useState({top:0,left:0}),[qe,it]=d.useState(Ae),[_t,Kt]=d.useState(!1),Cn=Up(),{promptUpgrade:On}=LR();Qi();const[rs,Vn]=d.useState(!1),[Bn,En]=d.useState("main"),jn=tt.useRef(null),Un=tt.useCallback(te=>{if(En(te),jn.current){const ie=jn.current;ie.style.transform="translateZ(0)",requestAnimationFrame(()=>{ie.style.transform=""})}},[]),{getCurrentOrganizationId:fs}=ys(),cn=fs(),{data:hn}=Xg(cn?{organization_id:cn}:void 0,{skip:!1}),dn=X||"5",[Wn,Ln]=d.useState(!1);d.useEffect(()=>{re&&re(qe)},[qe,re]),d.useEffect(()=>{it(Ae)},[Ae]);const[Cs,Vs]=d.useState(bA()),{isMobile:zt}=ps(),is=d.useRef(null),$e=d.useRef(null),Be=d.useRef(null),Te=d.useRef(null),pt=d.useRef(null),Xt=aM(Se),Hn=oM(Se)||Ce,An=Km(),en=ee?.e15_experimental&&Ce,Zn=ee?.e2_experimental,Ot=Ce||ht==="pro",Jn=ee?.prototype_agent_experimental,Pn=me.filter((te,ie,ze)=>ie===ze.findIndex(Ht=>Ht.id===te.id)),Gs=se&&Pn.length>0&&!zt,Gn=100,Bs=50,vs=2e3,sr=[ue("textarea.placeholder.phrases.fullstack.dashboard")+"...",ue("textarea.placeholder.phrases.landing.landingPage")+"...",ue("textarea.placeholder.phrases.fullstack.saas")+"...",ue("textarea.placeholder.phrases.fullstack.netflix")+"...",ue("textarea.placeholder.phrases.mobile.fitness")+"..."];d.useEffect(()=>{const te=setTimeout(()=>{jt()},Ct?Bs:Gn);return()=>clearTimeout(te)},[dt,Ct]),d.useEffect(()=>{ut&&st&&zt&&(Vn(!0),En("models"),setTimeout(()=>{lt(Nf(!1)),lt(Ka(!1))},500))},[ut,st,zt,lt]);const he=()=>{if(!Be.current)return;const te=Be.current.getBoundingClientRect(),ie=120,ze=180,Ht=8;let Pe=te.bottom+Ht,Mt=te.left;Pe+ie>window.innerHeight&&(Pe=te.top-ie-Ht),Mt+ze>window.innerWidth&&(Mt=window.innerWidth-ze-16),Mt<0&&(Mt=16),qt({top:Pe,left:Mt})},et=()=>{if(!pt.current)return;const te=pt.current.getBoundingClientRect(),ie=124,ze=276,Ht=8;let Pe=te.bottom+Ht,Mt=te.left;Mt+ze>window.innerWidth&&(Mt=window.innerWidth-ze-16),Pe+ie>window.innerHeight&&(Pe=te.top-ie-Ht),Mt<16&&(Mt=16),Rt({top:Pe,left:Mt})};d.useEffect(()=>{const te=ze=>{if(!$e.current||!Be.current)return;const Ht=ze.target;Dt&&!$e.current.contains(Ht)&&!Be.current.contains(Ht)&&Yt(!1)},ie=()=>{Dt&&he()};return Dt&&(document.addEventListener("mousedown",te),window.addEventListener("scroll",ie,!0),window.addEventListener("resize",ie)),()=>{document.removeEventListener("mousedown",te),window.removeEventListener("scroll",ie,!0),window.removeEventListener("resize",ie)}},[Dt]),d.useEffect(()=>{const te=ze=>{if(!Te.current||!pt.current)return;const Ht=ze.target;je&&!Te.current.contains(Ht)&&!pt.current.contains(Ht)&&Le(!1)},ie=()=>{je&&et()};return je&&(document.addEventListener("mousedown",te),window.addEventListener("scroll",ie,!0),window.addEventListener("resize",ie)),()=>{document.removeEventListener("mousedown",te),window.removeEventListener("scroll",ie,!0),window.removeEventListener("resize",ie)}},[je]),d.useEffect(()=>{$&&!Cs&&(he(),Yt(!0),setTimeout(()=>{Ln(!0)},300),q?.())},[$,Cs,q]),d.useEffect(()=>{st&&se&&Pn.length>0&&rm(Et.pathname)?zt&&(So||(So=ct.current,En("models"),Vn(!0)),lt(Ka(!1))):!st&&So===ct.current&&(So=null)},[st,zt,se,Pn.length,lt,Et.pathname]),d.useEffect(()=>{mt&&rm(Et.pathname)?zt?(So||(So=ct.current,In(!0)),lt(Hx(!1))):(fu||(fu=ct.current,he(),Yt(!0)),lt(Hx(!1))):!mt&&fu===ct.current?fu=null:!mt&&So===ct.current&&(So=null)},[mt,zt,lt,Et.pathname]),d.useEffect(()=>()=>{So===ct.current&&(So=null),fu===ct.current&&(fu=null)},[]);const jt=()=>{const te=sr[Ft%sr.length];if(!Ct&&dt===te){setTimeout(()=>{St(!0)},vs);return}else if(Ct&&dt===""){St(!1),Fe(Ft+1);return}vt(Ct?te.substring(0,dt.length-1):te.substring(0,dt.length+1))};d.useEffect(()=>{const te=is.current;if(te){te.style.height="auto";const ie=Math.min(te.scrollHeight,parseInt(r));te.style.height=`${ie}px`}},[e,r]),d.useEffect(()=>{if(!y){const te=setInterval(()=>{Ye(ie=>!ie)},1e3);return()=>clearInterval(te)}},[y]);const tn=d.useCallback(()=>{if(e.length>Xl){de({title:"Message too long",description:`Message cannot exceed ${Xl.toLocaleString()} characters. Current: ${e.length.toLocaleString()}`,variant:"destructive"});return}a()},[e,a,de]),ls=te=>{te.key==="Enter"&&(te.ctrlKey||te.metaKey)&&(te.preventDefault(),!o&&!f&&tn())},us=te=>{te.preventDefault(),te.stopPropagation(),Ve(!1);const ie=te.dataTransfer.files;if(ie.length>0){const ze=new Event("custom-file-drop",{bubbles:!0});if(Object.defineProperty(ze,"files",{value:ie,writable:!1}),document.dispatchEvent(ze),l){const Ht={clipboardData:{files:ie,items:Array.from(ie).map(Pe=>({kind:"file",type:Pe.type,getAsFile:()=>Pe}))},preventDefault:()=>{}};l(Ht)}else i()}},Xn=()=>{const te=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;Oe(ie=>[...ie,{id:te,title:"Create New Agent",tabHeading:"Create New Agent",path:"/create-agent",level:wn!=="personal"?"organization":"user",organization_id:wn!=="personal"?wn:void 0,state:{tabId:te,fromTextarea:!0,workspaceContext:{isOrganizationWorkspace:wn!=="personal",currentOrganizationId:wn!=="personal"?wn:void 0}}}]),_e(te),Yt(!1)},Yn=()=>{De()?Cn.open({initialTab:"shared-agents"}):Cn.open({initialTab:"manage-agents"}),Yt(!1)},ss=d.useCallback(()=>{Ln(!1),Vs(!0),yA()},[]),ms=te=>{te.stopPropagation(),F?.(null),Yt(!1),M(!0),I(!1),P(!1),B(!1),H(!1)},ar=te=>{te.stopPropagation(),F?.(null),Yt(!1),In(!1),M(!1),I(!1),P(!1),B(!1),H(!0)},Fs=()=>{zt?(En("main"),Vn(!0)):m?.(),z(Tn.HOME_PAGE_EVENTS.ADVANCED_CONTROL_CLICKED)},Ge=te=>{let ie=ue("textarea.agents.types.custom");return te=="base_main_prompt"?ie=ue("textarea.agents.types.reactFastapi"):te=="base_main_nextjs_prompt"?ie=ue("textarea.agents.types.nextjs"):te=="base_main_expo_prompt"?ie=ue("textarea.agents.types.mobileAgent"):te=="base_python_prompt"&&(ie=ue("textarea.agents.types.python")),ie};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:A("relative rounded-t-[18px] md:rounded-[18px] z-[1] w-full overflow-clip flex flex-col justify-between border border-[#333333] bg-[#18181A]",He&&"ring-2 ring-[#80FFF9] ring-opacity-70",v),onDragOver:te=>{te.preventDefault(),te.stopPropagation()},onDragEnter:te=>{te.preventDefault(),te.stopPropagation(),Ve(!0)},onDragLeave:te=>{te.preventDefault(),te.stopPropagation(),!te.currentTarget.contains(te.relatedTarget)&&Ve(!1)},onDrop:us,children:[He&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-[#141415]/90 rounded-[18px]",children:t.jsx("div",{className:"text-[#80FFF9] text-center",children:t.jsx("p",{className:"font-medium font-brockmann",children:ue("textarea.dragDrop.dropFilesHere")})})}),t.jsx(Tc,{id:"mainTaskInput","data-testid":zs.mainTask.input,ref:is,value:e,onChange:n,onKeyDown:ls,onFocus:()=>{mn(!0),J?.(!0)},onBlur:()=>{mn(!1),J?.(!1)},placeholder:"",className:A("h-full relative w-full bg-[#18181A]   rounded-t-[18px] text-[16px] resize-none min-h-[120px] md:min-h-[100px] p-3 pb-4 md:p-4 border-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 caret-[#80FFF9] font-brockmann font-medium overflow-auto",At&&"max-md:pr-[48px]"),onPaste:l,style:{maxHeight:r,transition:"height 0.1s ease-out"}}),t.jsx("button",{type:"button",className:A("absolute rounded-full top-2.5 right-2.5 size-9 items-center justify-center bg-white/5 hidden",At&&"max-md:flex max-md:visible"),title:"Close Dropdown",onClick:()=>{mn(!1)},children:t.jsx(Pt,{size:18})}),e===""&&t.jsx("div",{"data-testid":zs.mainTask.placeholder,className:A("absolute top-0 left-0 max-md:p-3 md:p-4 pointer-events-none text-white/30 font-[Inter] font-medium text-[16px]",At&&"max-md:pr-[48px]"),children:t.jsx("span",{children:`${ue("textarea.placeholder.buildMe")} ${dt}`})}),t.jsxs("div",{className:"flex items-center justify-between w-full p-2.5  bg-[#18181A] ",children:[t.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:A("p-2 pointer-events-auto rounded-[30px] group/paperclip  flex items-center justify-center size-9 hover:bg-white/10 bg-white bg-opacity-5 "),type:"button",onClick:i,"data-testid":zs.mainTask.attachButton,children:t.jsx("img",{src:_le,alt:"Attach",className:"transition-transform duration-200 transform min-w-4 min-h-4 md:size-5 group-hover/paperclip:rotate-45"})})}),u&&t.jsx(Ho,{children:t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[u,t.jsx(Pa,{className:"fill-[#fff]"})]})})})]})}),t.jsx("div",{className:"relative rounded-lg max-md:hidden bg-none",children:t.jsx(bR,{isConnected:g||!!b,isActive:x||!!b,githubUrl:b,githubTooltip:p,handleGithubSettings:h||(()=>{}),onClearGithubUrl:w})}),!Qe()&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsxs("button",{ref:Be,type:"button","data-testid":zs.mainTask.agentSelector,className:A("p-2 pl-3 h-9 max-w-[150px] min-w-0 flex items-center gap-1.5 transition-colors duration-200 rounded-[30px] bg-white/5 hover:bg-white/10 ",Dt&&"bg-[#80FFF91A] text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),zt?In(!0):(Dt||he(),Yt(!Dt))},children:[t.jsx(Bd,{size:20,className:A("shrink-0",Dt&&"text-[#80FFF9]"),primaryColor:Dt?"#80FFF9":"#fff"}),t.jsxs("span",{"data-testid":zs.mainTask.agentSelectorText,className:A("grow text-[#E6E6E6] text-[12px]  md:text-[14px] whitespace-nowrap capitalize truncate",Dt&&"text-[#80FFF9]"),children:[C&&(j.find(te=>te.id===C)?.prompt_name.replaceAll("_user"," ").replaceAll("_"," ")||"Custom Agent"),!C&&!S&&!U&&!k&&!D&&!R&&t.jsx(t.Fragment,{children:"E-1"}),!C&&k&&!R&&t.jsx(t.Fragment,{children:"E-1.5"}),!C&&D&&!R&&t.jsx(t.Fragment,{children:"E-2"}),!C&&R&&t.jsx(t.Fragment,{children:"Prototype"}),!C&&S&&!R&&t.jsx(t.Fragment,{children:"Mobile"}),!C&&U&&!R&&t.jsx(t.Fragment,{children:ue("textarea.agents.nextjs")})]}),t.jsx(Dr,{className:A("shrink-0 size-4 opacity-30 transition-transform duration-200",Dt&&"rotate-180")})]})}),!Qe()&&!zt&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:0,children:[t.jsx(bi,{asChild:!0,children:t.jsxs("div",{title:"Ultra Thinking",className:A("transition-colors duration-200 hover:opacity-80 h-9 text-[14px] font-medium flex items-center gap-1 hover:bg-[#FFFFFF]/10 p-2 rounded-full cursor-pointer",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:te=>{te.preventDefault(),Ce?we?.(!ve):(Vn(!1),On({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(qo,{size:20,color:ve?"#FF8C66":"#E6E6E6"})," ",t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("div",{className:A("flex items-center gap-[2px]",ve?"text-[#FF8C66]":""),children:[" ",ue("textarea.ultra.label")]})," ",t.jsx(gp,{checked:ve,onCheckedChange:te=>{Ce?we?.(te):(Vn(!1),On({triggerLocation:"ultraThinkingModal"}))},onClick:te=>te.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]})]})}),t.jsx(oi,{className:" bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] max-w-[200px]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"font-semibold font-inter",children:ue("textarea.ultra.title")}),t.jsx("div",{className:"text-xs opacity-50 font-inter text-[#0F0F10]",children:ue("textarea.ultra.description")})]}),t.jsx(Pa,{className:"fill-[#fff]"})]})})]})})}),zt&&ve&&t.jsxs("button",{title:"Ultra Thinking",type:"button",className:A("transition-colors duration-200 hover:opacity-80 h-[40px] w-[40px] justify-center flex items-center gap-[6px] hover:bg-[#FFFFFF]/10 p-2 rounded-full",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:te=>{te.preventDefault(),Ce?we?.(!ve):(Vn(!1),On({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(qo,{size:20,color:ve?"#FF8C66":"#E6E6E6"})," "]}),Gs&&t.jsx("div",{className:"relative rounded-full bg-none",children:t.jsx(d8,{models:Pn,selectedModelId:oe,onModelChange:pe||(()=>{}),buttonClassName:"rounded-full p-2 max-h-9 bg-white/5 border-none gap-1 [&>svg:last-child]:opacity-30 [&>svg:last-child]:size-4 [&>svg:last-child]:ml-0.5",className:"max-h-9",currentUserTier:ht,isEmergentUser:Se,onUpgradeRequired:()=>{On({triggerLocation:"default"})}})}),t.jsx(zn,{open:Dt&&!zt,onOpenChange:Yt,children:t.jsx(Us,{children:t.jsx("div",{ref:$e,className:"fixed z-[9999] md:w-[300px] bg-[#191918] border border-[#303030] rounded-[10px] shadow-lg overflow-y-auto model-dropdown max-h-[300px]",style:{top:`${fn.top}px`,left:`${fn.left}px`},children:t.jsxs("div",{className:"flex flex-col p-2",children:[t.jsx("div",{className:A("px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",!S&&!U&&!k&&!D&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),Yt(!1),M(!1),I(!1),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.e1")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:ue("textarea.agents.descriptions.e1")})]}),!S&&!U&&!k&&!D&&!R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),Zn&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{if(te.stopPropagation(),!Ot){Yt(!1),On({triggerLocation:"e2Agent"});return}F?.(null),Yt(!1),M(!1),I(!1),P(!0),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.e2")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:ue("textarea.agents.beta")})]})}),en&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",k&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),Yt(!1),M(!1),I(!0),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.e15")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.e15")})]}),k&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",R&&!S&&!U&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),Yt(!1),M(!1),I(!1),P(!1),B(!0),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.prototype")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.prototype")})]}),R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx(Ws,{children:t.jsxs(gi,{open:!zt&&Wn||void 0,delayDuration:Cs?0:9999999,children:[t.jsx(bi,{asChild:!0,children:t.jsx("div",{className:A("relative transition-all duration-200",Wn?"before:absolute before:inset-[-4px] bg-[#2D2D2F]/40 rounded-[8px] before:shadow-lg before:pointer-events-none":""),children:t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",S&&!C&&" text-[#80FFF9]"),onClick:te=>{Wn&&ss(),ms(te)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.mobile")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.mobile")})]}),S&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})})})}),t.jsx(oi,{side:"right",align:"center",sideOffset:30,className:A(Cs?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"relative p-0 bg-none border-none bg-transparent"),children:Cs?null:t.jsxs(qn.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)"},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:"text-[16px] font-['Inter'] font-semibold text-[#0F0F10]",children:ue("textarea.mobileAgentIntro.title")})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:ue("textarea.mobileAgentIntro.description")})]}),t.jsxs("div",{className:"flex items-center justify-end w-full gap-2",children:[t.jsx("button",{onClick:()=>{window.open(Li.pro_learn_more_tooltip,"_blank")},className:"px-3 py-[6px] bg-[#0B0B0B24] hover:bg-[#0B0B0B]/20 font-['Inter'] rounded-[6px] text-[#000000]/50 text-[12px] font-medium transition-colors",type:"button",children:ue("textarea.mobileAgentIntro.learnMore")}),t.jsx("button",{onClick:te=>{te.stopPropagation(),ss()},className:"px-3 py-[6px] bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:ue("textarea.mobileAgentIntro.gotIt")})]})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})]})}),Ce&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",U&&!C&&"text-[#80FFF9]"),onClick:ar,children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:ue("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.nextjs")})]}),U&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),E&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-px bg-[#242424] my-2"}),_&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:ue("textarea.agents.loading")}),!_&&j.map(te=>t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===te.id&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(te.id),Yt(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] truncate max-w-[160px] capitalize",children:te.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50",children:Ge(te.parent_prompt)})]}),C===te.id&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},te.id)),!_&&j.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:te=>{te.stopPropagation(),Xn()},children:[t.jsx(_a,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[13px] group-hover:text-[#F8FF99] md:text-[13px]",children:ue("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:te=>{te.stopPropagation(),Yn()},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(mo,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[12px] md:text-[13px]",children:[" ",ue("textarea.agents.manage")]})]}),t.jsx(bc,{})]})]})]})})})}),t.jsx(zn,{open:An&&je&&!zt,onOpenChange:Le,children:t.jsx(Us,{children:t.jsxs("div",{ref:Te,"data-testid":zs.mainTask.privacyDropdown,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${xt.top}px`,left:`${xt.left}px`},children:[t.jsxs("div",{"data-testid":zs.mainTask.privacyPublic,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:qe,source:"dropdown",userTier:ht}),it("public"),Le(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:qe==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",qe==="public"&&"text-white"),children:[ue("textarea.privacy.public")," ",t.jsx(Go,{size:14,className:A(qe!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",qe==="public"&&"text-white"),children:ue("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{"data-testid":zs.mainTask.privacyPrivate,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:qe,source:"dropdown",userTier:ht,wasBlocked:Ie}),Ie?(Kt(!1),On({triggerLocation:"default"})):it("private"),Le(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:qe==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",qe==="private"&&"text-white"),children:[ue("textarea.privacy.private")," ",t.jsx(ca,{size:14,opacity:qe==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",qe==="private"&&"text-white"),children:ue("textarea.privacy.privateDescription")})]})})]})]})})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[An&&Ie&&t.jsxs("button",{ref:pt,"data-testid":zs.mainTask.privacyButton,type:"button",className:A("rounded-full gap-1 h-9 max-md:w-9 flex items-center justify-center p-2 text-[12px] md:text-[14px] font-medium transition-colors",Ie?je?"bg-[#80FFF91A] text-[#80FFF9] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] cursor-default opacity-80"),onClick:te=>{te.stopPropagation(),ts("privacy_button_clicked",{currentPrivacy:qe,userTier:ht,isFreeUser:Ie,isMobile:zt,action:Ce?"disabled_click":zt?"open_mobile_sheet":"toggle_dropdown"}),!Ce&&(zt?Kt(!0):(je||et(),Le(!je)))},children:[qe==="public"?t.jsx(Go,{size:20,color:je?"#80FFF9":void 0}):t.jsx(ca,{size:18,color:je?"#80FFF9":"#ffffff",opacity:1}),!zt&&ue(qe==="public"?"textarea.privacy.public":"textarea.privacy.private")]}),t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:0,children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{"data-testid":zs.mainTask.advancedControlsButton,className:A("p-2 rounded-full flex items-center justify-center hover:bg-white/10  ","size-9",y?"bg-[#66EAFF0D] border-[#66EAFF1F] border-[1px]":"bg-white bg-opacity-5"),type:"button",onClick:Fs,children:t.jsx(qn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeOut"},children:y?t.jsx(xp,{color:"#66eaff",size:18}):Ke?t.jsx(JR,{size:18}):t.jsx(xp,{className:"w-6 h-6 max-md",color:"#ccc",size:18})},y?"options":Ke?"mcp":"options")})}),t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[ue("textarea.advancedControls.title"),t.jsx(Pa,{className:"fill-[#fff]"})]})})]})}),Ee&&t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:A("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center size-9 transition-colors duration-200",Ne?"bg-white text-black hover:bg-white":"bg-white bg-opacity-5 hover:bg-white hover:bg-opacity-5",ge&&"opacity-50 cursor-not-allowed"),type:"button",onClick:()=>{Lo(Ne?"recording_stopped":"recording_started",{component:"TextareaWithAttachmentV2"}),Ee()},disabled:ge,children:ge?t.jsx(ln,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):Ne?t.jsx(qn.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:t.jsx(r8,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})}):t.jsx(s8,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})})}),t.jsx(Ho,{children:t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[ue(ge?"textarea.voice.transcribing":Ne?"textarea.voice.stopRecording":"textarea.voice.startRecording"),t.jsx(Pa,{className:"fill-[#fff]"})]})})})]})}),t.jsx(Vt,{disabled:o,className:"px-[24px] md:py-[8px] rounded-[30px] h-9 w-[44px] md:w-[56px] text-white transition-colors bg-[#ECECEC] flex items-center justify-center",onClick:tn,type:"button","data-testid":zs.mainTask.submit,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:f?t.jsx(ln,{className:"w-5 h-5 text-black animate-spin"}):t.jsx("img",{src:Ele,alt:"Submit",className:"min-w-6 min-h-6 max-w-6 max-h-6"})})})]})]}),!Xt&&!Hn&&t.jsx(gm,{size:250,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"}),t.jsx(la,{open:rs,onOpenChange:te=>{Vn(te),te||En("main")},trigger:t.jsx("div",{}),showDefaultFooter:!1,contentPadding:"p-0",maxWidth:"max-w-full",children:t.jsxs("div",{ref:jn,className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[Bn!=="main"&&t.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>Un("main"),className:"absolute w-8 h-8 p-1 left-4 hover:bg-white/10",children:t.jsx(ga,{})}),t.jsx("span",{className:"font-medium font-inter text-[18px]",children:ue(Bn==="main"?"textarea.advancedControls.title":Bn==="models"?"textarea.drawer.selectModel":Bn==="templates"?"textarea.drawer.selectTemplate":Bn==="mcp-tools"?"textarea.drawer.selectMcpTools":"textarea.drawer.customAgents")}),t.jsx("button",{type:"button",title:ue("textarea.drawer.close"),onClick:()=>{Vn(!1)},className:"absolute p-1 rounded-full top-4 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Pt,{className:"w-4 h-4"})})]}),Bn==="main"&&t.jsxs("div",{className:"p-4 space-y-4 text-white",children:[t.jsxs("div",{title:"Ultra Mode",className:A("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:te=>{te.preventDefault(),Ce?we?.(!ve):(Vn(!1),On({triggerLocation:"ultraThinkingModal"}))},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qo,{size:24,color:ve?"#FF8C66":"#E6E6E6"}),t.jsxs("div",{className:A("flex items-center font-inter font-medium gap-[2px]",ve?"text-[#FF8C66]":""),children:["Ultra thinking ",t.jsx(jr,{color:"#FF8C66",size:20})]})]}),t.jsx(gp,{checked:ve,onCheckedChange:te=>{Ce?we?.(te):(Vn(!1),On({triggerLocation:"ultraThinkingModal"}))},onClick:te=>te.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),se&&Pn.length>0&&t.jsx("div",{className:"flex w-full",onClick:()=>En("models"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.drawer.selectModel")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] w-full flex items-center justify-between gap-3",children:[(()=>{const te=_N(Pn,oe);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Modal Icon",src:te.icon,className:"w-5 h-5"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:te.name||ue("textarea.drawer.selectModel")}),te.model?.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})})(),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.advancedControls.mcp.selectMcpTools")}),t.jsx("span",{className:"font-medium px-2 py-[2px] bg-[#FFBD66] text-[#19191A] rounded-[6px]  text-[12px] font-inter",children:ue("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button",onClick:()=>En("mcp-tools"),className:A("w-full rounded-[12px] p-3 px-4 border border-[#242424] text-[#DDDDE6] hover:border-[#333] transition-colors flex items-center justify-between gap-3",fe&&fe.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center flex-1 gap-3 overflow-hidden",children:[(!fe||fe.length===0)&&t.jsx(Zi,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:fe&&fe.length>0?t.jsxs("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:[fe.slice(0,1).map((te,ie)=>{const ze=hn?.find(Ht=>Ht.id===te);return ze?t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:[ze.icon?t.jsx("img",{src:ze.icon,alt:ze.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(Zi,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:ze.display_name})]},`${te}-${ie}`):null}),fe.length>1&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:ue("textarea.advancedControls.mcp.more",{count:fe.length-1})})})]}):t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:ue("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(ga,{className:"flex-shrink-0 w-4 h-4 rotate-180",color:"#DDDDE6"})]})]}),t.jsx("div",{className:"flex",onClick:()=>h?.(),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.advancedControls.github.label")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:g&&b?kle:Sle,alt:ue("textarea.advancedControls.github.label"),className:"w-6 h-6"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:g?b?b.split("/").pop():ue("textarea.advancedControls.github.selectRepository"):ue("textarea.advancedControls.github.connectToGitHub")})]}),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsx("div",{className:"flex w-full",onClick:()=>En("templates"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.advancedControls.template.selectTemplate")}),t.jsxs("div",{className:" w-full rounded-[12px] p-3 px-4 border flex items-center justify-between gap-2 border-[#242424] overflow-hidden",children:[t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF] truncate min-w-0 flex-1",children:(()=>{if(!Q)return ue("textarea.advancedControls.template.defaultTemplate");const te=ee?.templates?.find(ie=>ie.env_image===Q);return te?.name||te?.env_image||Q})()}),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),An&&Ce&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:"rounded-[12px] p-3 px-4 border border-[#242424] flex items-center gap-3",children:t.jsx(x2,{privacy:qe})})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:ue("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:" rounded-[12px] border border-[#242424] relative",children:[t.jsx("button",{type:"button",title:ue("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const te=parseInt(dn);if(te>1){const ie=(te-1).toString();ae?.(ie)}},className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(e8,{className:"h-4 w-4 text-[#DDDDE6]"})}),t.jsxs("div",{className:"flex items-center justify-center p-3 px-4",children:[t.jsx("img",{alt:ue("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5 mr-2",src:Nle}),t.jsx("input",{type:"number",min:"1",step:"1",value:dn,onChange:te=>{te.target.value!=="0"&&ae?.(te.target.value)},placeholder:ue("textarea.advancedControls.budget.defaultPlaceholder"),className:"w-16 bg-transparent text-center focus:outline-none text-[#FFFFFF] font-inter text-lg font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button",title:ue("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const ie=(parseInt(dn)+1).toString();ae?.(ie)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(_a,{className:"h-4 w-4 text-[#DDDDE6]"})})]})]})]}),Bn==="models"&&t.jsx("div",{className:"p-4 space-y-3",children:Pn.map(te=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{if(!Tle(te,ht,De())){Vn(!1),On({triggerLocation:"default"}),Un("main");return}pe?.(te.id),Un("main")},children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("img",{alt:"Logo",className:"w-6 h-6 mt-1",src:_N([te],te.id).icon}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:A("font-medium font-inter text-[#E6E6E6]",oe===te.id&&"text-[#5CD2E5]"),children:te.name}),te.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]}),te.description&&t.jsx("div",{className:"text-[14px] font-inter text-white/50",children:te.description})]})]}),oe===te.id&&t.jsx(Mn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},te.id))}),Bn==="templates"&&t.jsx("div",{className:"p-4 space-y-3",children:ee?.templates?.map(te=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{V?.(te.env_image),Un("main")},children:t.jsxs("div",{className:A("flex items-start justify-between"),children:[t.jsx("div",{children:t.jsx("div",{className:A("font-medium text-white",Q==te.env_image&&"text-[#5CD2E5]"),children:te.name||te.env_image})}),Q===te.env_image&&t.jsx(Mn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},te.env_image))}),Bn==="mcp-tools"&&t.jsx("div",{className:"p-4 space-y-3",children:hn&&Array.isArray(hn)&&hn.length>0?[...hn].sort((te,ie)=>new Date(ie.created_at).getTime()-new Date(te.created_at).getTime()).map(te=>{const ie=fe?.includes(te.id)||!1;return t.jsx("div",{className:"p-4 rounded-[12px] relative transition-colors bg-[#FFFFFF05] hover:bg-[#FFFFFF08]",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start flex-1 min-w-0 gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[12px]",children:te.icon?t.jsx("img",{src:te.icon,alt:te.display_name,className:"flex-shrink-0 w-6 h-6 rounded-sm"}):t.jsx(Zi,{size:24})}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsx("div",{className:A("font-medium font-inter text-[#E6E6E6]"),children:te.display_name}),te.description&&t.jsx("div",{className:"text-[14px] font-inter truncate text-white/50 mb-1",children:te.description})]})]}),te.type==="public"&&te.key_required?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14]",title:"Configure Button",onClick:()=>{de({title:"Configuration Not Available",description:"Configuration is not available on mobile. Please use the desktop or web version to configure this MCP server.",duration:5e3})},children:[t.jsx(mo,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(h2,{checked:ie,onCheckedChange:ze=>{if(!Ce){Vn(!1),On({triggerLocation:"mcp-tools-modal"});return}if(ze){const Ht=[...fe||[],te.id];Me?.(Ht)}else{const Ht=fe?.filter(Pe=>Pe!==te.id)||[];Me?.(Ht)}},disabled:!1,checkedColor:"#F49B57"})]})},te.id)}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Zi,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("div",{className:"mb-2 font-medium text-white/70",children:"No MCP tools available"}),t.jsx("div",{className:"text-sm text-white/50",children:"Contact your administrator to set up MCP tools"})]})})]})}),An&&t.jsxs(la,{open:_t,onOpenChange:Kt,title:ue("textarea.privacy.settings"),showDefaultFooter:!1,maxWidth:"max-w-full",contentPadding:"p-0",showCancel:!0,onCancel:()=>{Kt(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:qe,source:"mobile_bottom_sheet",userTier:ht}),it("public"),Kt(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:qe==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",qe==="public"&&"text-white"),children:[ue("textarea.privacy.public")," ",t.jsx(Go,{size:14,className:A(qe!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",qe==="public"&&"text-white"),children:ue("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:qe,source:"mobile_bottom_sheet",userTier:ht,wasBlocked:Ie}),Ie?(Kt(!1),On({triggerLocation:"default"})):it("private"),Kt(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:qe==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",qe==="private"&&"text-white"),children:[ue("textarea.privacy.private")," ",t.jsx(ca,{size:14,opacity:qe==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",qe==="private"&&"text-white"),children:ue("textarea.privacy.privateDescription")})]})})]})]})]}),t.jsxs(la,{open:_n,onOpenChange:In,title:ue("textarea.agents.selectAgent"),showDefaultFooter:!1,maxWidth:"max-w-screen",contentPadding:"p-0",showCancel:!0,onCancel:()=>{In(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"flex flex-col gap-2 p-4 max-h-[60dvh] overflow-y-auto",children:[t.jsx("div",{className:A("h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 bg-[#FFFFFF]/5 rounded-[12px] font-medium cursor-pointer",!S&&!U&&!k&&!D&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),In(!1),M(!1),I(!1),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.e1")}),t.jsx("span",{className:"text-[14px] text-[#8A8F98] font-inter",children:ue("textarea.agents.descriptions.e1")})]}),!S&&!U&&!k&&!D&&!R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),Zn&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{if(te.stopPropagation(),!Ot){In(!1),On({triggerLocation:"e2Agent"});return}F?.(null),In(!1),M(!1),I(!1),P(!0),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.e2")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:ue("textarea.agents.beta")})]})}),en&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",k&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),In(!1),M(!1),I(!0),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.e15")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.e15")})]}),k&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",R&&!S&&!U&&!C&&" text-[#80FFF9]"),onClick:te=>{te.stopPropagation(),F?.(null),In(!1),M(!1),I(!1),P(!1),B(!0),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.prototype")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.types.prototype")})]}),R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",S&&!C&&" text-[#80FFF9]"),onClick:te=>{Wn&&ss(),ms(te),In(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.mobile")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.mobile")})]}),S&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Ce&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",U&&!C&&"text-[#80FFF9]"),onClick:ar,children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:ue("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:ue("textarea.agents.descriptions.nextjs")})]}),U&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),E&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:" bg-[#242424] my-2"}),_&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:"Loading custom agents..."}),!_&&j.map(te=>t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto  p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===te.id&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(te.id),In(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] truncate max-w-[160px] capitalize",children:te.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50",children:Ge(te.parent_prompt)})]}),C===te.id&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},te.id)),!_&&j.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:te=>{te.stopPropagation(),Xn(),In(!1)},children:[t.jsx(_a,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[16px] group-hover:text-[#F8FF99] md:text-[13px]",children:"Create New Agent"})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:te=>{te.stopPropagation(),Yn(),In(!1)},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(mo,{size:16,color:"#E8E8E6"}),t.jsx("span",{className:"text-[16px] md:text-[13px]",children:" Manage Agents"})]}),t.jsx(bc,{})]})]})]})]})]})})};function If({size:e=16,color:n="currentColor",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M12.7988 1.59766C14.1243 1.59766 15.1992 2.67256 15.1992 3.99805V11.998C15.199 13.3234 14.1242 14.3975 12.7988 14.3975H3.19922C1.87387 14.3975 0.799039 13.3233 0.798828 11.998V3.99805C0.798828 2.67256 1.87374 1.59766 3.19922 1.59766H12.7988ZM2.39844 11.998C2.39865 12.4397 2.75752 12.7979 3.19922 12.7979H12.7988C13.2405 12.7979 13.5984 12.4397 13.5986 11.998V6.39941H2.39844V11.998ZM3.2002 3.19922C2.75852 3.19932 2.4005 3.55735 2.40039 3.99902C2.40039 4.44079 2.75846 4.79872 3.2002 4.79883C3.64202 4.79883 4 4.44085 4 3.99902C3.99989 3.55729 3.64196 3.19922 3.2002 3.19922ZM5.60059 3.19922C5.15891 3.19932 4.80089 3.55735 4.80078 3.99902C4.80078 4.44079 5.15885 4.79872 5.60059 4.79883C6.04241 4.79883 6.40039 4.44085 6.40039 3.99902C6.40029 3.55729 6.04235 3.19922 5.60059 3.19922ZM7.99902 3.19922C7.55735 3.19932 7.19932 3.55735 7.19922 3.99902C7.19922 4.44079 7.55729 4.79872 7.99902 4.79883C8.44085 4.79883 8.79883 4.44085 8.79883 3.99902C8.79872 3.55729 8.44079 3.19922 7.99902 3.19922ZM3.16602 3.19922H12.832C12.821 3.19877 12.81 3.19727 12.7988 3.19727H3.19922C3.18822 3.19727 3.17691 3.19878 3.16602 3.19922Z",fill:n})})}function Af({size:e=16,color:n="currentColor",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M11.3327 0.667969H4.66602C3.56145 0.667969 2.66602 1.5634 2.66602 2.66797V13.3346C2.66602 14.4392 3.56145 15.3346 4.66602 15.3346H11.3327C12.4373 15.3346 13.3327 14.4392 13.3327 13.3346V2.66797C13.3327 1.5634 12.4373 0.667969 11.3327 0.667969Z",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.66602 12.668H9.33268",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]})}const J0=[{id:"fullstack",labelKey:"tabs.fullStackApp",icon:Z0},{id:"mobile",labelKey:"tabs.mobileApp",icon:Af},{id:"landing",labelKey:"tabs.landingPage",icon:If}],Ale=({activeTab:e,onTabChange:n})=>{const{t:s}=Jt("home"),r=d.useRef(null),i=d.useRef(new Map),[a,o]=d.useState(!1),c=J0.findIndex(h=>h.id===e)===0,u=d.useCallback(()=>{const h=i.current.get(e),x=r.current;if(h&&x){const y=x.getBoundingClientRect(),v=h.getBoundingClientRect();if(v.width>0)return{left:v.left-y.left,width:v.width}}return null},[e]),[,p]=d.useState(0),f=d.useCallback(()=>{p(h=>h+1)},[]);d.useEffect(()=>{const h=requestAnimationFrame(()=>{requestAnimationFrame(f)});return()=>cancelAnimationFrame(h)},[e,f]),d.useEffect(()=>{const h=()=>{document.visibilityState==="visible"&&requestAnimationFrame(f)},x=()=>{requestAnimationFrame(f)};return document.addEventListener("visibilitychange",h),window.addEventListener("focus",x),()=>{document.removeEventListener("visibilitychange",h),window.removeEventListener("focus",x)}},[f]),d.useEffect(()=>{const h=r.current;if(!h)return;let x;const y=new ResizeObserver(()=>{cancelAnimationFrame(x),x=requestAnimationFrame(f)});return y.observe(h),()=>{cancelAnimationFrame(x),y.disconnect()}},[f]),d.useEffect(()=>{o(!0)},[]);const m=u();return t.jsxs("div",{ref:r,className:"relative isolate flex flex-row items-end gap-[6px] px-[12px] pt-[3px] select-none overflow-x-auto no-scrollbar w-full",children:[m&&m.width>0&&t.jsxs(xe.div,{className:A("absolute top-[3px] bottom-0 bg-[#242429] z-10",c?"rounded-tl-none":"rounded-tl-lg","rounded-tr-lg"),initial:!1,animate:{left:m.left,width:m.width},transition:a?{type:"spring",stiffness:300,damping:30}:{duration:0},children:[c?t.jsx("div",{className:"absolute top-0 bottom-0 -left-[12px] w-[12px] bg-[#242429] rounded-tl-xl"}):t.jsx(xe.div,{className:"absolute bottom-0 -left-[20px] w-[20px] h-[20px] z-10 rounded-br-[12px] shadow-[6px_6px_0_6px_#242429] [clip-path:inset(0_-10px_0_0)]"}),t.jsx(xe.div,{className:"absolute bottom-0 -right-[20px] w-[20px] h-[20px] z-10 rounded-bl-[12px] shadow-[-6px_6px_0_6px_#242429] [clip-path:inset(0_0_0_-10px)]"})]}),J0.map((h,x)=>{const y=e===h.id,v=h.icon,g=x===0,b=x===J0.length-1;return t.jsxs("button",{ref:w=>{w&&i.current.set(h.id,w)},onClick:()=>n(h.id),className:"group min-w-[156px] w-auto relative flex items-center justify-center gap-2 px-4 h-[36px] text-sm font-medium outline-none shrink-0",style:{WebkitTapHighlightColor:"transparent"},children:[t.jsx("div",{className:A("absolute inset-0 bg-[#17171A] z-0 rounded-t-lg transition-all duration-500",g&&"rounded-tl-xl",b&&"rounded-tr-xl",!y&&"group-hover:bg-[#1e1e22] group-hover:-top-[3px] group-hover:bottom-0")}),t.jsxs("span",{className:A("relative z-20 flex items-center gap-2 transition-all duration-500",y?"text-[#CCE3FF]":"text-zinc-500 group-hover:text-zinc-300 group-hover:-translate-y-[2px]"),children:[t.jsx(v,{size:16,color:"currentColor",strokeWidth:y?2.5:2}),t.jsx("span",{className:"whitespace-nowrap",children:s(h.labelKey)})]})]},h.id)})]})},Dle={clawdbot:{bg:"bg-[rgba(195,47,45,0.25)]",border:"border-[rgba(195,47,45,0.35)]",text:"text-[#ffb8b7]"},fullstack:{bg:"bg-[rgba(204,227,255,0.12)]",border:"border-[rgba(204,227,255,0.2)]",text:"text-[rgba(204,227,255,1)]"},landing:{bg:"bg-[rgba(246,154,78,0.12)]",border:"border-[rgba(246,154,78,0.2)]",text:"text-[rgba(246,154,78,1)]"},mobile:{bg:"bg-[rgba(173,214,60,0.12)]",border:"border-[rgba(173,214,60,0.2)]",text:"text-[rgba(173,214,60,1)]"}},Mle={fullstack:[{translationKey:"tabs.chips.fullstack.myCounterPart",category:"fullstack",icon:t.jsx(Z0,{size:16}),iconColor:"#CCE3FF"},{translationKey:"tabs.chips.fullstack.billGenerator",category:"fullstack",icon:t.jsx(Z0,{size:16}),iconColor:"#CCE3FF"},{translationKey:"tabs.chips.fullstack.wordOfTheDay",category:"fullstack",icon:t.jsx(Z0,{size:16}),iconColor:"#CCE3FF"}],landing:[{translationKey:"tabs.chips.landing.consultPlus",category:"landing",icon:t.jsx(If,{size:16}),iconColor:"#F59A4F"},{translationKey:"tabs.chips.landing.eliteFootwear",category:"landing",icon:t.jsx(If,{size:16}),iconColor:"#C1A5E9"},{translationKey:"tabs.chips.landing.smartCourse",category:"landing",icon:t.jsx(If,{size:16}),iconColor:"#f8cb56"}],mobile:[{translationKey:"tabs.chips.mobile.flappyBirdGame",category:"mobile",icon:t.jsx(Af,{size:16}),iconColor:"#ADD63C"},{translationKey:"tabs.chips.mobile.recipeGenerator",category:"mobile",icon:t.jsx(Af,{size:16}),iconColor:"#ADD63C"},{translationKey:"tabs.chips.mobile.habitTracker",category:"mobile",icon:t.jsx(Af,{size:16}),iconColor:"#ADD63C"}]},Lle=({activeTab:e,onTabChange:n,onBotClick:s,botSuggestion:r})=>{const{t:i}=Jt("home"),[a,o]=d.useState(null);return t.jsxs("div",{className:"flex flex-row items-center gap-3 pb-[12px] overflow-x-auto hide-scrollbar",children:[r&&t.jsxs(xe.button,{onClick:()=>s?.(r.prompt),onMouseEnter:()=>o(-1),onMouseLeave:()=>o(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:"flex items-center gap-2 p-3 pr-4 rounded-[12px] text-sm font-medium whitespace-nowrap transition-all duration-200 shrink-0 border bg-white/5 border-white/10 text-white/60 hover:text-white hover:border-white/20",style:{WebkitTapHighlightColor:"transparent"},children:[t.jsx("img",{src:r.icon_url,alt:r.label,className:"w-4 h-4"}),t.jsx("span",{className:A("transition-all duration-200",a===-1&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:r.label}),r.isNew&&t.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold text-white bg-[#E03E3E] rounded-full leading-none",children:"New"})]}),J0.map((l,c)=>{const u=e===l.id,p=l.icon,f=Dle[l.id];return t.jsxs(xe.button,{onClick:()=>n(l.id),onMouseEnter:()=>o(c),onMouseLeave:()=>o(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:A("flex items-center gap-2 p-3 pr-4 rounded-[12px] text-sm font-medium whitespace-nowrap transition-all duration-200 shrink-0 border",u?`${f.bg} ${f.text} ${f.border}`:"bg-white/5 border-white/10 text-white/60 hover:text-white hover:border-white/20"),style:{WebkitTapHighlightColor:"transparent"},children:[t.jsx(p,{size:16,color:"currentColor",strokeWidth:u?2.5:2}),t.jsx("span",{className:A("transition-all duration-200",a===c&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:i(l.labelKey)})]},l.id)})]})},Rle=W.common.copyPaperclip,Ple=W.common.logoBlue,Ole=W.common.copperCoin,jN=W.universal.claude,NN=W.universal.openai,Ble=W.icons.geminiIcon,Ule=W.icons.submit,Vle=W.icons.github,Hle=W.github.githubConnected;let ko=null,mu=null;const FN=(e,n)=>{if(!n)return{model:null,name:null,icon:NN};if(n==="bro-mode")return{model:{id:"bro-mode",name:"Bro Mode",description:"Advanced AI with enhanced reasoning"},name:"Bro Mode",icon:jN};const s=e.find(o=>o.id===n),r=s?.name;let i=NN;const a=r?.toLowerCase();return a?.includes("composite")?i=Ple:a?.includes("claude")?i=jN:a?.includes("gemini")&&(i=Ble),{model:s,name:r,icon:i}},$le=(e,n,s=!1)=>s?!0:e.user_tier?n===e.user_tier:e.unavailable_tier?n!==e.unavailable_tier:!0,zle=({value:e,onChange:n,placeholder:s="",maxHeight:r="200px",onAttachClick:i,onSubmit:a,disabled:o,onPaste:l,attachIcon:c,attachTooltip:u,githubTooltip:p,isSubmitting:f,handleSettingsClick:m,handleGithubSettings:h,showGithubSettings:x,showControls:y,className:v,hasUserConnectedGithub:g,githubUrl:b,onClearGithubUrl:w,isUploadAssetEnabled:N=!1,userPrompts:j=[],isLoadingUserPrompts:_=!1,selectedCustomAgent:C=null,onCustomAgentChange:F,shouldShowUserPrompts:E=!1,mobileEnabled:S=!1,onMobileEnabled:M,e15Enabled:k=!1,onE15Enabled:I,e2Enabled:D=!1,onE2Enabled:P,prototypeEnabled:R=!1,onPrototypeEnabled:B,nextJSEnabled:U=!1,onNextJSEnabled:H,showMobileAgentIntro:$=!1,onMobileAgentIntroShown:q,selectedImage:Q,setSelectedImage:V,globalConfig:ee,perInstanceCostLimit:X,setPerInstanceCostLimit:ae,availableModels:me=[],selectedModelId:oe,onModelChange:pe,showModelSelector:se=!1,onPrivacyChange:re,ultraMode:ve=!1,onUltraModeChange:we,testMode:be=!1,onTestModeChange:Ue,selectedMcpTools:fe=[],onMcpToolsChange:Me,onFocusChange:J,isRecording:Ne=!1,isTranscribing:ge=!1,onVoiceClick:Ee,activeTab:Ce,onTabChange:Ie})=>{const{pro:Ae,restrictedFree:Se,defaultPrivacy:ht,isEmergentUser:Qe,tier:De,isTrulyFreeUser:de,isOrganizationWorkspace:ue}=ni(),{toast:lt}=ds();nee();const st=Xi(),mt=Vr(ie=>ie.menu?.showModelSelectorTooltip),ut=Vr(ie=>ie.menu?.showAgentDropdown),wn=Vr(ie=>ie.menu?.highlightBroMode),{currentWorkspace:Oe}=ys(),{t:_e}=Jt("home"),{setTabs:Et,setActiveTab:dt}=qr(),vt=wi(),[Ct,St]=d.useState("fullstack"),ct=Ce??Ct,Ft=Ie??St,[Fe,He]=d.useState(0),Ve=d.useRef(Math.random().toString(36).substring(2,15)),[Ke,Ye]=d.useState(!1),[At,mn]=d.useState(!1),[Dt,Yt]=d.useState(),[fn,qt]=d.useState(!1),[_n,In]=d.useState({top:0,left:0}),[je,Le]=d.useState(!1),[xt,Rt]=d.useState(!1),[qe,it]=d.useState({top:0,left:0}),[_t,Kt]=d.useState(ht),[Cn,On]=d.useState(!1),rs=Up(),{promptUpgrade:Vn}=LR(),[Bn,En]=d.useState(!1),[jn,Un]=d.useState("main"),{getCurrentOrganizationId:fs}=ys(),cn=fs(),{data:hn}=Xg(cn?{organization_id:cn}:void 0,{skip:!1}),dn=X||"5",[Wn,Ln]=d.useState(!1);d.useEffect(()=>{re&&re(_t)},[_t,re]),d.useEffect(()=>{Kt(ht)},[ht]);const[Cs,Vs]=d.useState(bA()),{isMobile:zt}=ps(),is=d.useRef(null),$e=d.useRef(null),Be=d.useRef(null),Te=d.useRef(null),pt=d.useRef(null),Xt=aM(Qe),Hn=oM(Qe)||Ae,An=Km(),en=ee?.e15_experimental&&Ae,Zn=ee?.e2_experimental,Ot=Ae||De==="pro",Jn=ee?.prototype_agent_experimental,Pn=se&&me.length>0&&!zt,Gn={fullstack:[_e("textarea.placeholder.phrases.fullstack.dashboard"),_e("textarea.placeholder.phrases.fullstack.ecommerce"),_e("textarea.placeholder.phrases.fullstack.saas"),_e("textarea.placeholder.phrases.fullstack.netflix"),_e("textarea.placeholder.phrases.fullstack.crm")],landing:[_e("textarea.placeholder.phrases.landing.landingPage"),_e("textarea.placeholder.phrases.landing.productShowcase"),_e("textarea.placeholder.phrases.landing.startup"),_e("textarea.placeholder.phrases.landing.portfolio"),_e("textarea.placeholder.phrases.landing.comingSoon")],mobile:[_e("textarea.placeholder.phrases.mobile.fitness"),_e("textarea.placeholder.phrases.mobile.foodDelivery"),_e("textarea.placeholder.phrases.mobile.socialMedia"),_e("textarea.placeholder.phrases.mobile.habitTracker"),_e("textarea.placeholder.phrases.mobile.messaging")]}[ct];d.useEffect(()=>{He(0)},[ct]),d.useEffect(()=>{const ie=setInterval(()=>{He(ze=>(ze+1)%Gn.length)},4e3);return()=>clearInterval(ie)},[Gn.length]),d.useEffect(()=>{wn&&mt&&zt&&(En(!0),Un("models"),setTimeout(()=>{st(Nf(!1)),st(Ka(!1))},500))},[wn,mt,zt,st]);const Bs=()=>{if(!Be.current)return;const ie=Be.current.getBoundingClientRect(),ze=120,Ht=180,Pe=8;let Mt=ie.bottom+Pe,Tt=ie.left;Mt+ze>window.innerHeight&&(Mt=ie.top-ze-Pe),Tt+Ht>window.innerWidth&&(Tt=window.innerWidth-Ht-16),Tt<0&&(Tt=16),In({top:Mt,left:Tt})},vs=()=>{if(!pt.current)return;const ie=pt.current.getBoundingClientRect(),ze=124,Ht=276,Pe=8;let Mt=ie.bottom+Pe,Tt=ie.left;Tt+Ht>window.innerWidth&&(Tt=window.innerWidth-Ht-16),Mt+ze>window.innerHeight&&(Mt=ie.top-ze-Pe),Tt<16&&(Tt=16),it({top:Mt,left:Tt})};d.useEffect(()=>{const ie=Ht=>{if(!$e.current||!Be.current)return;const Pe=Ht.target;fn&&!$e.current.contains(Pe)&&!Be.current.contains(Pe)&&qt(!1)},ze=()=>{fn&&Bs()};return fn&&(document.addEventListener("mousedown",ie),window.addEventListener("scroll",ze,!0),window.addEventListener("resize",ze)),()=>{document.removeEventListener("mousedown",ie),window.removeEventListener("scroll",ze,!0),window.removeEventListener("resize",ze)}},[fn]),d.useEffect(()=>{const ie=Ht=>{if(!Te.current||!pt.current)return;const Pe=Ht.target;xt&&!Te.current.contains(Pe)&&!pt.current.contains(Pe)&&Rt(!1)},ze=()=>{xt&&vs()};return xt&&(document.addEventListener("mousedown",ie),window.addEventListener("scroll",ze,!0),window.addEventListener("resize",ze)),()=>{document.removeEventListener("mousedown",ie),window.removeEventListener("scroll",ze,!0),window.removeEventListener("resize",ze)}},[xt]),d.useEffect(()=>{$&&!Cs&&(Bs(),qt(!0),setTimeout(()=>{Ln(!0)},300),q?.())},[$,Cs,q]),d.useEffect(()=>{mt&&se&&me.length>0&&vt.pathname==="/"?zt&&(ko||(ko=Ve.current,Un("main"),En(!0)),st(Ka(!1))):!mt&&ko===Ve.current&&(ko=null)},[mt,zt,se,me.length,st,vt.pathname]),d.useEffect(()=>{ut&&rm(vt.pathname)?zt?(ko||(ko=Ve.current,Le(!0)),st(Hx(!1))):(mu||(mu=Ve.current,Bs(),qt(!0)),st(Hx(!1))):!ut&&mu===Ve.current?mu=null:!ut&&ko===Ve.current&&(ko=null)},[ut,zt,st,vt.pathname]),d.useEffect(()=>()=>{ko===Ve.current&&(ko=null),mu===Ve.current&&(mu=null)},[]),d.useEffect(()=>{const ie=is.current;if(ie){ie.style.height="auto";const ze=Math.min(ie.scrollHeight,parseInt(r));ie.style.height=`${ze}px`}},[e,r]),d.useEffect(()=>{if(!y){const ie=setInterval(()=>{mn(ze=>!ze)},1e3);return()=>clearInterval(ie)}},[y]);const sr=d.useCallback(()=>{if(e.length>Xl){lt({title:"Message too long",description:`Message cannot exceed ${Xl.toLocaleString()} characters. Current: ${e.length.toLocaleString()}`,variant:"destructive"});return}a()},[e,a,lt]),he=ie=>{ie.key==="Enter"&&(ie.ctrlKey||ie.metaKey)&&(ie.preventDefault(),!o&&!f&&sr())},et=ie=>{ie.preventDefault(),ie.stopPropagation()},jt=ie=>{ie.preventDefault(),ie.stopPropagation(),Ye(!0)},tn=ie=>{ie.preventDefault(),ie.stopPropagation(),!ie.currentTarget.contains(ie.relatedTarget)&&Ye(!1)},ls=ie=>{ie.preventDefault(),ie.stopPropagation(),Ye(!1);const ze=ie.dataTransfer.files;if(ze.length>0){const Ht=new Event("custom-file-drop",{bubbles:!0});if(Object.defineProperty(Ht,"files",{value:ze,writable:!1}),document.dispatchEvent(Ht),l){const Pe={clipboardData:{files:ze,items:Array.from(ze).map(Mt=>({kind:"file",type:Mt.type,getAsFile:()=>Mt}))},preventDefault:()=>{}};l(Pe)}else i()}},us=()=>{const ie=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;Et(ze=>[...ze,{id:ie,title:"Create New Agent",tabHeading:"Create New Agent",path:"/create-agent",level:Oe!=="personal"?"organization":"user",organization_id:Oe!=="personal"?Oe:void 0,state:{tabId:ie,fromTextarea:!0,workspaceContext:{isOrganizationWorkspace:Oe!=="personal",currentOrganizationId:Oe!=="personal"?Oe:void 0}}}]),dt(ie),qt(!1)},Xn=()=>{ue()?rs.open({initialTab:"shared-agents"}):rs.open({initialTab:"manage-agents"}),qt(!1)},Yn=d.useCallback(()=>{Ln(!1),Vs(!0),yA()},[]),ss=ie=>{ie.stopPropagation(),F?.(null),qt(!1),M(!0),I(!1),P(!1),B(!1),H(!1)},ms=ie=>{ie.stopPropagation(),F?.(null),qt(!1),Le(!1),M(!1),I(!1),P(!1),B(!1),H(!0)},ar=()=>{zt?(Un("main"),En(!0)):m?.(),z(Tn.HOME_PAGE_EVENTS.ADVANCED_CONTROL_CLICKED)},Fs=ie=>{let ze=_e("textarea.agents.types.custom");return ie=="base_main_prompt"?ze=_e("textarea.agents.types.reactFastapi"):ie=="base_main_nextjs_prompt"?ze=_e("textarea.agents.types.nextjs"):ie=="base_main_expo_prompt"?ze=_e("textarea.agents.types.mobileAgent"):ie=="base_python_prompt"&&(ze=_e("textarea.agents.types.python")),ze},Ge=ct==="fullstack",te=ct==="ai";return t.jsxs(t.Fragment,{children:[!zt&&t.jsx(Ale,{activeTab:ct,onTabChange:Ft}),zt&&t.jsx(Lle,{activeTab:ct,onTabChange:Ft,onBotClick:ie=>{n({target:{value:ie}})},botSuggestion:ee?.prompt_suggestions?.find(ie=>ie.category==="Bots")}),t.jsx("div",{className:zt?"pb-[24px]":"",children:t.jsx("div",{className:`rounded-[14px] max-md:rounded-[20px] z-10 transition-[border-radius] ease-in-out duration-700
        ${zt?"p-[1px] bg-[linear-gradient(160deg,rgba(255,255,255,0.40)_0%,rgba(255,255,255,0.25)_25%,rgba(255,255,255,0.10)_50%,rgba(255,255,255,0.25)_75%,rgba(255,255,255,0.40)_100%)]":"p-1 bg-[#242429] bg-[linear-gradient(180deg,rgba(172,193,219,0)_0%,rgba(172,193,219,0.6)_100%)] bg-blend-overlay"}
        ${!zt&&Ge?"rounded-tl-none":"rounded-tl-[14px]"} ${!zt&&te?"rounded-tr-none":"rounded-tr-[14px]"}`,children:t.jsxs("div",{className:A(v,"relative rounded-t-[12px] md:rounded-[12px] z-[1] w-full overflow-clip flex flex-col justify-between bg-[#131314] max-md:bg-[#212122] rounded-[12px] max-md:rounded-[20px]",Ke&&"ring-2 ring-[#80FFF9] ring-opacity-70"),onDragOver:et,onDragEnter:jt,onDragLeave:tn,onDrop:ls,children:[Ke&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-[#141415]/90 rounded-[12px]",children:t.jsx("div",{className:"text-[#80FFF9] text-center",children:t.jsx("p",{className:"font-medium font-brockmann",children:_e("textarea.dragDrop.dropFilesHere")})})}),t.jsx(Tc,{id:"mainTaskInput","data-testid":zs.mainTask.input,ref:is,value:e,onChange:n,onKeyDown:he,onFocus:()=>{Yt(!0),J?.(!0)},onBlur:()=>{Yt(!1),J?.(!1)},placeholder:"",className:"h-full relative w-full bg-[#131314] max-md:bg-[#212122] rounded-t-[12px] text-[16px] resize-none min-h-[120px] md:min-h-[100px] p-3 pb-4 md:p-4 border-0 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 caret-[#fff] font-brockmann font-medium overflow-auto",onPaste:l,style:{maxHeight:r,transition:"height 0.1s ease-out"}}),e===""&&t.jsx("div",{className:A("absolute top-0 left-0 max-md:p-3 md:p-4 pointer-events-none text-white/30 font-[Inter] font-medium text-[16px] overflow-hidden"),children:t.jsxs("div",{className:"relative",children:[!Dt&&t.jsx("div",{className:"absolute left-0 top-0 py-[2px] w-[1px] h-full",children:t.jsx("div",{className:"animate-blink w-[1px] h-full bg-white"})}),t.jsx(Xa,{mode:"wait",children:t.jsxs(qn.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"relative inline-block",children:[_e("textarea.placeholder.buildMe")," ",Gn[Fe],"..."]},Fe)})]})}),t.jsxs("div",{className:"flex items-center justify-between w-full p-3 bg-[#131314] max-md:bg-[#212122]",children:[t.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:A("p-2 pointer-events-auto rounded-[30px] group/paperclip  flex items-center justify-center size-9 hover:bg-white/10 bg-white bg-opacity-5 "),type:"button",onClick:i,children:t.jsx("img",{src:Rle,alt:"Attach",className:"transition-transform duration-200 transform min-w-4 min-h-4 md:size-5 group-hover/paperclip:rotate-45"})})}),u&&t.jsx(Ho,{children:t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[u,t.jsx(Pa,{className:"fill-[#fff]"})]})})})]})}),t.jsx("div",{className:"relative rounded-lg max-md:hidden bg-none",children:t.jsx(bR,{isConnected:g||!!b,isActive:x||!!b,githubUrl:b,githubTooltip:p,handleGithubSettings:h||(()=>{}),onClearGithubUrl:w})}),!de()&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsxs("button",{ref:Be,type:"button","data-testid":zs.mainTask.agentSelector,className:A("p-2 pl-3 h-9 max-w-[150px] min-w-0 flex items-center gap-1.5 transition-colors duration-200 rounded-[30px] bg-white/5 hover:bg-white/10 ",fn&&"bg-[#80FFF91A] text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),zt?Le(!0):(fn||Bs(),qt(!fn))},children:[t.jsx(Bd,{size:20,className:A("shrink-0",fn&&"text-[#80FFF9]"),primaryColor:fn?"#80FFF9":"#fff"}),t.jsxs("span",{"data-testid":zs.mainTask.agentSelectorText,className:A("grow text-[#E6E6E6] text-[12px]  md:text-[14px] whitespace-nowrap capitalize truncate",fn&&"text-[#80FFF9]"),children:[C&&(j.find(ie=>ie.id===C)?.prompt_name.replaceAll("_user"," ").replaceAll("_"," ")||_e("textarea.agents.customAgent")),!C&&!S&&!U&&!k&&!D&&!R&&t.jsx(t.Fragment,{children:_e("textarea.agents.e1")}),!C&&k&&!R&&t.jsx(t.Fragment,{children:_e("textarea.agents.e15")}),!C&&D&&!R&&t.jsx(t.Fragment,{children:_e("textarea.agents.e2")}),!C&&R&&t.jsx(t.Fragment,{children:_e("textarea.agents.prototype")}),!C&&S&&!R&&t.jsx(t.Fragment,{children:_e("textarea.agents.mobile")}),!C&&U&&!R&&t.jsx(t.Fragment,{children:_e("textarea.agents.nextjs")})]}),t.jsx(Dr,{className:`shrink-0 size-4 opacity-30 transition-transform duration-200 ${fn?"rotate-180":""}`})]})}),!de()&&!zt&&t.jsx("div",{className:"relative rounded-lg bg-none",children:t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:0,children:[t.jsx(bi,{asChild:!0,children:t.jsxs("div",{className:A("transition-colors duration-200 hover:opacity-80 h-9 text-[14px] font-medium flex items-center gap-1 hover:bg-[#FFFFFF]/10 p-2 rounded-full cursor-pointer",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ie=>{ie.preventDefault(),Ae?we?.(!ve):(En(!1),Vn({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(qo,{size:20,color:ve?"#FF8C66":"#E6E6E6"})," ",t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsxs("div",{className:A("flex items-center gap-[2px]",ve?"text-[#FF8C66]":""),children:[" ",_e("textarea.ultra.label")]})," ",t.jsx(gp,{checked:ve,onCheckedChange:ie=>{Ae?we?.(ie):(En(!1),Vn({triggerLocation:"ultraThinkingModal"}))},onClick:ie=>ie.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66] scale-[0.8]"})]})]})}),t.jsx(oi,{className:" bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999] max-w-[200px]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"font-semibold font-inter",children:_e("textarea.ultra.title")}),t.jsx("div",{className:"text-xs opacity-50 font-inter text-[#0F0F10]",children:_e("textarea.ultra.description")})]}),t.jsx(Pa,{className:"fill-[#fff]"})]})})]})})}),zt&&ve&&t.jsxs("button",{title:"Ultra Thinking",type:"button",className:A("transition-colors duration-200 hover:opacity-80 h-[40px] w-[40px] justify-center flex items-center gap-[6px] hover:bg-[#FFFFFF]/10 p-2 rounded-full",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ie=>{ie.preventDefault(),Ae?we?.(!ve):(En(!1),Vn({triggerLocation:"ultraThinkingModal"}))},children:[t.jsx(qo,{size:20,color:ve?"#FF8C66":"#E6E6E6"})," "]}),Pn&&t.jsx("div",{className:"relative rounded-full bg-none",children:t.jsx(d8,{models:me,selectedModelId:oe,onModelChange:pe||(()=>{}),buttonClassName:"rounded-full p-2 max-h-9 bg-white/5 border-none gap-1 [&>svg:last-child]:opacity-30 [&>svg:last-child]:size-4 [&>svg:last-child]:ml-0.5",className:"max-h-9",currentUserTier:De,isEmergentUser:Qe,onUpgradeRequired:()=>{Vn({triggerLocation:"default"})}})}),t.jsx(zn,{open:fn&&!zt,onOpenChange:qt,children:t.jsx(Us,{children:t.jsx("div",{ref:$e,className:"fixed z-[9999] md:w-[300px] bg-[#191918] border border-[#303030] rounded-[10px] shadow-lg overflow-y-auto model-dropdown max-h-[300px]",style:{top:`${_n.top}px`,left:`${_n.left}px`},children:t.jsxs("div",{className:"flex flex-col p-2",children:[t.jsx("div",{className:A("px-2 md:min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",!S&&!U&&!k&&!D&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),qt(!1),M(!1),I(!1),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.e1")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#8A8F98] font-inter",children:_e("textarea.agents.descriptions.e1")})]}),!S&&!U&&!k&&!D&&!R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),Zn&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{if(ie.stopPropagation(),!Ot){qt(!1),Vn({triggerLocation:"e2Agent"});return}F?.(null),qt(!1),M(!1),I(!1),P(!0),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.e2")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:_e("textarea.agents.beta")})]})}),en&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",k&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),qt(!1),M(!1),I(!0),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.e15")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.e15")})]}),k&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",R&&!S&&!U&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),qt(!1),M(!1),I(!1),P(!1),B(!0),H(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.prototype")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.prototype")})]}),R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx(Ws,{children:t.jsxs(gi,{open:!zt&&Wn||void 0,delayDuration:Cs?0:9999999,children:[t.jsx(bi,{asChild:!0,children:t.jsx("div",{className:A("relative transition-all duration-200",Wn?"before:absolute before:inset-[-4px] bg-[#2D2D2F]/40 rounded-[8px] before:shadow-lg before:pointer-events-none":""),children:t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",S&&!C&&" text-[#80FFF9]"),onClick:ie=>{Wn&&Yn(),ss(ie)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.mobile")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.mobile")})]}),S&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})})})}),t.jsx(oi,{side:"right",align:"center",sideOffset:30,className:A(Cs?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"relative p-0 bg-none border-none bg-transparent"),children:Cs?null:t.jsxs(qn.div,{initial:{opacity:0,x:-6},animate:{opacity:1,x:0},exit:{opacity:0,x:-6},transition:{duration:.3,ease:"easeOut"},className:"max-w-[280px] p-4 bg-[#FFFFFF] border-[#2E2F34] text-white shadow-2xl rounded-[12px]",style:{backdropFilter:"blur(20px)"},children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:"text-[16px] font-['Inter'] font-semibold text-[#0F0F10]",children:_e("textarea.mobileAgentIntro.title")})}),t.jsx("p",{className:"text-[12px] font-medium font-['Inter'] text-[#0F0F1080] leading-[16px]",children:_e("textarea.mobileAgentIntro.description")})]}),t.jsxs("div",{className:"flex items-center justify-end w-full gap-2",children:[t.jsx("button",{onClick:()=>{window.open(Li.pro_learn_more_tooltip,"_blank")},className:"px-3 py-[6px] bg-[#0B0B0B24] hover:bg-[#0B0B0B]/20 font-['Inter'] rounded-[6px] text-[#000000]/50 text-[12px] font-medium transition-colors",type:"button",children:_e("textarea.mobileAgentIntro.learnMore")}),t.jsx("button",{onClick:ie=>{ie.stopPropagation(),Yn()},className:"px-3 py-[6px] bg-[#0B0B0B] hover:bg-[#333333] font-['Inter'] rounded-[6px] text-[#FFFFFF] text-[12px] font-medium transition-colors",type:"button",children:_e("textarea.mobileAgentIntro.gotIt")})]})]}),t.jsxs("div",{className:"absolute z-[999] flex items-center justify-center transform -translate-y-1/2 -left-[24px] top-1/2",children:[t.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),t.jsx("div",{className:"bg-white min-w-4 min-h-[1px] mr-[2px]"})]})]})})]})}),Ae&&t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",U&&!C&&"text-[#80FFF9]"),onClick:ms,children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[12px] md:text-[13px] text-[#E8E8E6]",children:_e("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.nextjs")})]}),U&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),E&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"h-px bg-[#242424] my-2"}),_&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:_e("textarea.agents.loading")}),!_&&j.map(ie=>t.jsx("div",{className:A("px-2 min-h-[40px] rounded-[8px] py-[6px] text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ie.id&&" text-[#80FFF9]"),onClick:ze=>{ze.stopPropagation(),F?.(ie.id),qt(!1)},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] truncate max-w-[160px] capitalize",children:ie.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[10px] md:text-[12px] text-[#FFFFFF]/50",children:Fs(ie.parent_prompt)})]}),C===ie.id&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ie.id)),!_&&j.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ie=>{ie.stopPropagation(),us()},children:[t.jsx(_a,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[13px] group-hover:text-[#F8FF99] md:text-[13px]",children:_e("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ie=>{ie.stopPropagation(),Xn()},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(mo,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[12px] md:text-[13px]",children:[" ",_e("textarea.agents.manage")]})]}),t.jsx(bc,{})]})]})]})})})}),t.jsx(zn,{open:An&&xt&&!zt,onOpenChange:Rt,children:t.jsx(Us,{children:t.jsxs("div",{ref:Te,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${qe.top}px`,left:`${qe.left}px`},children:[t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:_t,source:"dropdown",userTier:De}),Kt("public"),Rt(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:_t==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",_t==="public"&&"text-white"),children:[_e("textarea.privacy.public")," ",t.jsx(Go,{size:14,className:A(_t!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",_t==="public"&&"text-white"),children:_e("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:_t,source:"dropdown",userTier:De,wasBlocked:Se}),Se?(On(!1),Vn({triggerLocation:"default"})):Kt("private"),Rt(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:_t==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",_t==="private"&&"text-white"),children:[_e("textarea.privacy.private")," ",t.jsx(ca,{size:14,opacity:_t==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",_t==="private"&&"text-white"),children:_e("textarea.privacy.privateDescription")})]})})]})]})})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[An&&Se&&t.jsxs("button",{ref:pt,type:"button",className:A("rounded-full gap-1 h-9 max-md:w-9 flex items-center justify-center p-2 text-[12px] md:text-[14px] font-medium transition-colors",Se?xt?"bg-[#80FFF91A] text-[#80FFF9] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] hover:bg-white/10":"bg-[#FFFFFF0D] text-[#E6E6E6] cursor-default opacity-80"),onClick:ie=>{ie.stopPropagation(),ts("privacy_button_clicked",{currentPrivacy:_t,userTier:De,isFreeUser:Se,isMobile:zt,action:Ae?"disabled_click":zt?"open_mobile_sheet":"toggle_dropdown"}),!Ae&&(zt?On(!0):(xt||vs(),Rt(!xt)))},children:[_t==="public"?t.jsx(Go,{size:20,color:xt?"#80FFF9":void 0}):t.jsx(ca,{size:18,color:xt?"#80FFF9":"#ffffff",opacity:1}),!zt&&_e(_t==="public"?"textarea.privacy.public":"textarea.privacy.private")]}),t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:0,children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:A("p-2 rounded-full flex items-center justify-center hover:bg-white/10  ","size-9",y?"bg-[#66EAFF0D] border-[#66EAFF1F] border-[1px]":"bg-white bg-opacity-5"),type:"button",onClick:ar,children:t.jsx(qn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3,ease:"easeOut"},children:y?t.jsx(xp,{color:"#66eaff",size:18}):At?t.jsx(JR,{size:18}):t.jsx(xp,{className:"w-6 h-6 max-md",color:"#ccc",size:18})},y?"options":At?"mcp":"options")})}),t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[_e("textarea.advancedControls.title"),t.jsx(Pa,{className:"fill-[#fff]"})]})})]})}),Ee&&t.jsx("div",{className:"rounded-lg bg-none",children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:A("p-2 pointer-events-auto rounded-[30px] flex items-center justify-center size-9 transition-colors duration-200",Ne?"bg-white text-black hover:bg-white":"bg-white bg-opacity-5 hover:bg-white hover:bg-opacity-5",ge&&"opacity-50 cursor-not-allowed"),type:"button",onClick:()=>{Lo(Ne?"recording_stopped":"recording_started",{component:"TextareaWithAttachmentV2New"}),Ee()},disabled:ge,children:ge?t.jsx(ln,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}):Ne?t.jsx(qn.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:t.jsx(r8,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})}):t.jsx(s8,{width:"16",height:"16",fill:"currentColor",className:"md:size-[18px]"})})}),t.jsx(Ho,{children:t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm px-4 py-2.5 rounded-lg shadow-lg z-[9999]",sideOffset:5,asChild:!0,children:t.jsxs(qn.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},children:[_e(ge?"textarea.voice.transcribing":Ne?"textarea.voice.stopRecording":"textarea.voice.startRecording"),t.jsx(Pa,{className:"fill-[#fff]"})]})})})]})}),t.jsx(Vt,{disabled:o,className:"md:px-[24px] max-md:h-[32px] max-md:w-[32px] md:py-[8px] rounded-[30px] h-9 w-[44px] md:w-[56px] text-white transition-colors bg-[#ECECEC] flex items-center justify-center",onClick:sr,type:"button","data-testid":zs.mainTask.submit,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:f?t.jsx(ln,{className:"w-5 h-5 text-black animate-spin"}):t.jsx("img",{src:Ule,alt:"Submit",className:"min-w-6 min-h-6 max-w-6 max-h-6 max-md:min-w-[16px] max-md:min-h-[16px] max-md:rotate-[-90deg]"})})})]})]}),!Xt&&!Hn&&t.jsx(gm,{size:250,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"}),t.jsx(la,{open:Bn,onOpenChange:ie=>{En(ie),ie||Un("main")},trigger:t.jsx("div",{}),showDefaultFooter:!1,contentPadding:"p-0",maxWidth:"max-w-full",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[jn!=="main"&&t.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>Un("main"),className:"absolute w-8 h-8 p-1 left-4 hover:bg-white/10",children:t.jsx(ga,{})}),t.jsx("span",{className:"font-medium font-inter text-[18px]",children:_e(jn==="main"?"textarea.advancedControls.title":jn==="models"?"textarea.drawer.selectModel":jn==="templates"?"textarea.drawer.selectTemplate":jn==="mcp-tools"?"textarea.drawer.selectMcpTools":"textarea.drawer.customAgents")}),t.jsx("button",{type:"button",title:_e("textarea.drawer.close"),onClick:()=>{En(!1)},className:"absolute p-1 rounded-full top-4 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Pt,{className:"w-4 h-4"})})]}),jn==="main"&&t.jsxs("div",{className:"p-4 space-y-4 text-white",children:[t.jsxs("div",{title:"Ultra Mode",className:A("transition-colors duration-200 w-full hover:opacity-80 min-h-[40px] text-[16px] font-medium flex items-center gap-[6px] p-4 rounded-[8px] justify-between cursor-pointer",ve?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:ie=>{ie.preventDefault(),Ae?we?.(!ve):(En(!1),Vn({triggerLocation:"ultraThinkingModal"}))},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qo,{size:24,color:ve?"#FF8C66":"#E6E6E6"}),t.jsxs("div",{className:A("flex items-center font-inter font-medium gap-[2px]",ve?"text-[#FF8C66]":""),children:["Ultra thinking ",t.jsx(jr,{color:"#FF8C66",size:20})]})]}),t.jsx(gp,{checked:ve,onCheckedChange:ie=>{Ae?we?.(ie):(En(!1),Vn({triggerLocation:"ultraThinkingModal"}))},onClick:ie=>ie.stopPropagation(),className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),se&&me.length>0&&t.jsx("div",{className:"flex w-full",onClick:()=>Un("models"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:"Select Model"}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] w-full flex items-center justify-between gap-3",children:[(()=>{const ie=FN(me,oe);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Modal Icon",src:ie.icon,className:"w-5 h-5"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:ie.name||"Select model"}),ie.model?.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})})(),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:_e("textarea.advancedControls.mcp.selectMcpTools")}),t.jsx("span",{className:"font-medium px-2 py-[2px] bg-[#FFBD66] text-[#19191A] rounded-[6px]  text-[12px] font-inter",children:_e("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button",onClick:()=>Un("mcp-tools"),className:A("w-full rounded-[12px] p-3 px-4 border border-[#242424] text-[#DDDDE6] hover:border-[#333] transition-colors flex items-center justify-between gap-3",fe&&fe.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center flex-1 gap-3 overflow-hidden",children:[(!fe||fe.length===0)&&t.jsx(Zi,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:fe&&fe.length>0?t.jsxs("div",{className:"flex flex-wrap items-center flex-1 gap-2 overflow-hidden",children:[fe.slice(0,1).map((ie,ze)=>{const Ht=hn?.find(Pe=>Pe.id===ie);return Ht?t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:[Ht.icon?t.jsx("img",{src:Ht.icon,alt:Ht.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(Zi,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:Ht.display_name})]},`${ie}-${ze}`):null}),fe.length>1&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-1 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:_e("textarea.advancedControls.mcp.more",{count:fe.length-1})})})]}):t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:_e("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(ga,{className:"flex-shrink-0 w-4 h-4 rotate-180",color:"#DDDDE6"})]})]}),t.jsx("div",{className:"flex",onClick:()=>h?.(),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:_e("textarea.advancedControls.github.label")}),t.jsxs("div",{className:" rounded-[12px] p-3 px-4 border border-[#242424] flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:g&&b?Hle:Vle,alt:_e("textarea.advancedControls.github.label"),className:"w-6 h-6"}),t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:g?b?b.split("/").pop():_e("textarea.advancedControls.github.selectRepository"):_e("textarea.advancedControls.github.connectToGitHub")})]}),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),t.jsx("div",{className:"flex w-full",onClick:()=>Un("templates"),children:t.jsxs("div",{className:"flex flex-col w-full gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:_e("textarea.advancedControls.template.selectTemplate")}),t.jsxs("div",{className:" w-full rounded-[12px] p-3 px-4 border flex items-center justify-between gap-2 border-[#242424]",children:[t.jsx("span",{className:"font-medium font-inter text-[#FFFFFF]",children:(()=>{if(!Q)return _e("textarea.advancedControls.template.defaultTemplate");const ie=ee?.templates?.find(ze=>ze.env_image===Q);return ie?.name||ie?.env_image||Q})()}),t.jsx(ga,{className:"w-4 h-4 rotate-180",color:"#DDDDE6"})]})]})}),An&&Ae&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:_e("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:"rounded-[12px] p-3 px-4 border border-[#242424] flex items-center gap-3",children:t.jsx(x2,{privacy:_t})})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"font-medium text-[#898F99] text-[14px] font-inter",children:_e("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:" rounded-[12px] border border-[#242424] relative",children:[t.jsx("button",{type:"button",title:_e("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const ie=parseInt(dn);if(ie>1){const ze=(ie-1).toString();ae?.(ze)}},className:"absolute left-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(e8,{className:"h-4 w-4 text-[#DDDDE6]"})}),t.jsxs("div",{className:"flex items-center justify-center p-3 px-4",children:[t.jsx("img",{alt:_e("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5 mr-2",src:Ole}),t.jsx("input",{type:"number",min:"1",step:"1",value:dn,onChange:ie=>{ie.target.value!=="0"&&ae?.(ie.target.value)},placeholder:_e("textarea.advancedControls.budget.defaultPlaceholder"),className:"w-16 bg-transparent text-center focus:outline-none text-[#FFFFFF] font-inter text-lg font-semibold [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button",title:_e("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const ze=(parseInt(dn)+1).toString();ae?.(ze)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 z-10 w-[32px] h-[32px] flex items-center justify-center text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(_a,{className:"h-4 w-4 text-[#DDDDE6]"})})]})]})]}),jn==="models"&&t.jsx("div",{className:"p-4 space-y-3",children:me.map(ie=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{if(!$le(ie,De,ue())){En(!1),Vn({triggerLocation:"default"}),Un("main");return}pe?.(ie.id),Un("main")},children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("img",{alt:"Logo",className:"w-6 h-6 mt-1",src:FN([ie],ie.id).icon}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:A("font-medium font-inter text-[#E6E6E6]",oe===ie.id&&"text-[#5CD2E5]"),children:ie.name}),ie.user_tier=="pro_mode"&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]}),ie.description&&t.jsx("div",{className:"text-[14px] font-inter text-white/50",children:ie.description})]})]}),oe===ie.id&&t.jsx(Mn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ie.id))}),jn==="templates"&&t.jsx("div",{className:"p-4 space-y-3",children:ee?.templates?.map(ie=>t.jsx("div",{className:"p-4 rounded-[12px] cursor-pointer transition-colors bg-[#FFFFFF05]",onClick:()=>{V?.(ie.env_image),Un("main")},children:t.jsxs("div",{className:A("flex items-start justify-between"),children:[t.jsx("div",{children:t.jsx("div",{className:A("font-medium text-white",Q==ie.env_image&&"text-[#5CD2E5]"),children:ie.name||ie.env_image})}),Q===ie.env_image&&t.jsx(Mn,{className:"h-6 w-6 text-[#5CD2E5]"})]})},ie.env_image))}),jn==="mcp-tools"&&t.jsx("div",{className:"p-4 space-y-3",children:hn&&Array.isArray(hn)&&hn.length>0?[...hn].sort((ie,ze)=>new Date(ze.created_at).getTime()-new Date(ie.created_at).getTime()).map(ie=>{const ze=fe?.includes(ie.id)||!1;return t.jsx("div",{className:"p-4 rounded-[12px] relative transition-colors bg-[#FFFFFF05] hover:bg-[#FFFFFF08]",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start flex-1 min-w-0 gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-[12px]",children:ie.icon?t.jsx("img",{src:ie.icon,alt:ie.display_name,className:"flex-shrink-0 w-6 h-6 rounded-sm"}):t.jsx(Zi,{size:24})}),t.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[t.jsx("div",{className:A("font-medium font-inter text-[#E6E6E6]"),children:ie.display_name}),ie.description&&t.jsx("div",{className:"text-[14px] font-inter truncate text-white/50 mb-1",children:ie.description})]})]}),ie.type==="public"&&ie.key_required?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14]",title:"Configure Button",onClick:()=>{lt({title:"Configuration Required",description:"Please open the desktop app to configure this MCP server.",duration:5e3})},children:[t.jsx(mo,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(h2,{checked:ze,onCheckedChange:Ht=>{if(!Ae){En(!1),Vn({triggerLocation:"mcp-tools-modal"});return}if(Ht){const Pe=[...fe||[],ie.id];Me?.(Pe)}else{const Pe=fe?.filter(Mt=>Mt!==ie.id)||[];Me?.(Pe)}},disabled:!1,checkedColor:"#F49B57"})]})},ie.id)}):t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Zi,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("div",{className:"mb-2 font-medium text-white/70",children:"No MCP tools available"}),t.jsx("div",{className:"text-sm text-white/50",children:"Contact your administrator to set up MCP tools"})]})})]})}),An&&t.jsxs(la,{open:Cn,onOpenChange:On,title:_e("textarea.privacy.settings"),showDefaultFooter:!1,maxWidth:"max-w-sm",contentPadding:"p-0",showCancel:!0,onCancel:()=>{On(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:_t,source:"mobile_bottom_sheet",userTier:De}),Kt("public"),On(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:_t==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",_t==="public"&&"text-white"),children:[_e("textarea.privacy.public")," ",t.jsx(Go,{size:14,className:A(_t!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",_t==="public"&&"text-white"),children:_e("textarea.privacy.publicDescription")})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:_t,source:"mobile_bottom_sheet",userTier:De,wasBlocked:Se}),Se?(On(!1),Vn({triggerLocation:"default"})):Kt("private"),On(!1)},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:_t==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",_t==="private"&&"text-white"),children:[_e("textarea.privacy.private")," ",t.jsx(ca,{size:14,opacity:_t==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",_t==="private"&&"text-white"),children:_e("textarea.privacy.privateDescription")})]})})]})]})]}),t.jsxs(la,{open:je,onOpenChange:Le,title:_e("textarea.agents.selectAgent"),showDefaultFooter:!1,maxWidth:"max-w-screen",contentPadding:"p-0",showCancel:!0,onCancel:()=>{Le(!1)},trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"flex flex-col gap-2 p-4 max-h-[60dvh] overflow-y-auto",children:[t.jsx("div",{className:A("h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 bg-[#FFFFFF]/5 rounded-[12px] font-medium cursor-pointer",!S&&!U&&!k&&!D&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),Le(!1),M(!1),I(!1),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.e1")}),t.jsx("span",{className:"text-[14px] text-[#8A8F98] font-inter",children:_e("textarea.agents.descriptions.e1")})]}),!S&&!U&&!k&&!D&&!R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#66EAFF]"})]})}),Zn&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{if(ie.stopPropagation(),!Ot){Le(!1),Vn({triggerLocation:"e2Agent"});return}F?.(null),Le(!1),M(!1),I(!1),P(!0),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.e2")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.e2")})]}),D&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):t.jsx("span",{className:"text-[12px] bg-[#F49B571A] text-[#F49B57] rounded-full px-2 py-[2px]",children:_e("textarea.agents.beta")})]})}),en&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",k&&!S&&!U&&!R&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),Le(!1),M(!1),I(!0),P(!1),B(!1),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.e15")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.e15")})]}),k&&!C?t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"}):null]})}),Jn&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 h-auto rounded-[12px] p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",R&&!S&&!U&&!C&&" text-[#80FFF9]"),onClick:ie=>{ie.stopPropagation(),F?.(null),Le(!1),M(!1),I(!1),P(!1),B(!0),H(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.prototype")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.types.prototype")})]}),R&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4  text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",S&&!C&&" text-[#80FFF9]"),onClick:ie=>{Wn&&Yn(),ss(ie),Le(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.mobile")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.mobile")})]}),S&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),Ae&&t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",U&&!C&&"text-[#80FFF9]"),onClick:ms,children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"flex items-center text-[16px] text-[#E8E8E6]",children:_e("textarea.agents.nextjs")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50 font-inter",children:_e("textarea.agents.descriptions.nextjs")})]}),U&&!C&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9]"})]})}),E&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:" bg-[#242424] my-2"}),_&&t.jsx("div",{className:"px-3 py-2 text-[#8A8F98] text-[12px] md:text-[13px]",children:_e("textarea.agents.loading")}),!_&&j.map(ie=>t.jsx("div",{className:A("bg-[#FFFFFF]/5 rounded-[12px] h-auto  p-4 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",C===ie.id&&" text-[#80FFF9]"),onClick:ze=>{ze.stopPropagation(),F?.(ie.id),Le(!1)},children:t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[16px] truncate max-w-[160px] capitalize",children:ie.prompt_name.replaceAll("_"," ").replaceAll("_user","")}),t.jsx("span",{className:"text-[14px] text-[#FFFFFF]/50",children:Fs(ie.parent_prompt)})]}),C===ie.id&&t.jsx(Mn,{className:"h-4 w-4 text-[#80FFF9] flex-shrink-0"})]})},ie.id)),!_&&j.length>0&&t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-px bg-[#242424] my-2"})}),t.jsxs("div",{className:"px-2 py-[6px] text-[#DDDDE6] group hover:bg-[#F8FF990F] font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ie=>{ie.stopPropagation(),us(),Le(!1)},children:[t.jsx(_a,{className:"w-4 h-4 group-hover:text-[#F8FF99] text-[#E8E8E6]"}),t.jsx("span",{className:"text-[16px] group-hover:text-[#F8FF99] md:text-[13px]",children:_e("textarea.agents.createNew")})]}),t.jsxs("div",{className:"px-2 py-[6px] justify-between text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer rounded-[8px] flex items-center gap-2",onClick:ie=>{ie.stopPropagation(),Xn(),Le(!1)},children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(mo,{size:16,color:"#E8E8E6"}),t.jsxs("span",{className:"text-[16px] md:text-[13px]",children:[" ",_e("textarea.agents.manage")]})]}),t.jsx(bc,{})]})]})]})]})]})})})]})},u8=({height:e="100%",gridHeight:n="500%",top:s="0",gridSizeX:r=20,gridSizeY:i=15,gridLineWidth:a=1,gridOpacity:o=.4,fadeIntensity:l=70,backgroundColor:c="#0F0F10",showFade:u=!0,animate:p=!0,animationDuration:f=15,rotationX:m=45,perspectiveValue:h=450})=>{const x={container:{position:"absolute",inset:0,top:s,width:"100%",height:e,opacity:.8,backgroundColor:c,filter:"backdrop(blur(100px))"},gridContainer:{position:"relative",width:"100%",height:"100%",overflow:"hidden",perspective:`${h}px`},gridFade:{position:"absolute",zIndex:10,width:"100%",height:"100%",background:u?`radial-gradient(ellipse at 50% 50%, rgba(15, 15, 16, 0) 0%, rgba(15, 15, 16, 1) ${l}%)`:"transparent"},gridLines:{width:"100%",height:n,backgroundImage:`
                linear-gradient(to right, rgba(128, 128, 128, ${o}) ${a}px, transparent ${a/2}px),
                linear-gradient(to bottom, rgba(128, 128, 128, ${o}) ${a}px, transparent ${a/2}px)
            `,backgroundSize:`${r}px ${i}px`,transformOrigin:"100% 0 0",...p?{animation:`retro-grid-animation-${m} ${f}s linear infinite`}:{transform:`rotateX(${m}deg) translateY(-25%)`}}},y=p?`
        @keyframes retro-grid-animation-${m} {
            0% {
                transform: rotateX(${m}deg) translateY(-50%);
            }
            100% {
                transform: rotateX(${m}deg) translateY(0);
            }
        }
    `:"";return t.jsxs("div",{style:x.container,className:"pointer-events-none md:overflow-auto",children:[p&&t.jsx("style",{children:y}),t.jsxs("div",{style:x.gridContainer,children:[t.jsx("div",{style:x.gridFade}),t.jsx("div",{style:x.gridLines})]})]})},Wle=W.logo.borderedLogoDark;function XR({triggerElement:e=null,defaultView:n="login",onSuccess:s,open:r,onOpenChange:i,openView:a,enableWelcomeModal:o=!1}){const[l,c]=d.useState(n),u=Na(),p=()=>t.jsxs("div",{className:"flex flex-col items-center w-full p-8 pt-0 space-y-6 text-center",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx("img",{src:Wle,className:"h-12 mb-4 md:h-24 w-fit",alt:"Emergent Logo"})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-[20px] text-nowrap md:text-[40px] font-brockmann font-medium text-white",children:"Continue with Emergent"}),t.jsx("div",{className:"inline-block text-[#898E98]",children:t.jsx("span",{className:" text-[13px] md:text-[16px] text-wrap md:whitespace-nowrap",children:"To use Emergent, Create a new account or log into an existing one."})})]}),t.jsxs("div",{className:"flex flex-col w-full pt-4 space-y-3  md:space-y-4 max-w-[414px] items-center",children:[t.jsx("button",{onClick:()=>u(ma),className:"max-h-[40px] md:max-h-[56px] relative justify-center border-2 border-[#000000] rounded-[28px] text-white bg-[#1A1A1A] hover:bg-[#1D1D1D] w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide transition-colors px-14",children:"Log In"}),t.jsx("button",{onClick:()=>u(ma),className:"max-h-[40px] md:max-h-[56px] relative justify-center w-full flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-[28px] hover:bg-gray-100 px-14",children:"Sign Up"})]})]});return t.jsxs(zn,{open:r,onOpenChange:i,children:[t.jsx(FM,{asChild:!0,children:e}),t.jsxs(dr,{className:"max-w-[90vw] w-[900px] bg-[#131314] border-[#ffffff12] text-white md:max-h-[90vh] md:min-h-[628px] overflow-y-auto p-0",children:[t.jsxs(wl,{className:"absolute top-4 right-4 z-30 opacity-70 hover:opacity-100 transition-opacity",children:[t.jsx(Pt,{className:"h-6 w-6 text-white"}),t.jsx("span",{className:"sr-only",children:"Close"})]}),t.jsx("div",{className:"flex flex-col gap-8 justify-center py-8 md:pb-[66px] md:pt-[56px] relative z-20",children:t.jsx("div",{className:"mt-6 space-y-6 max-w-[568px] mx-auto flex flex-col items-center w-full",children:p()})}),t.jsx(u8,{height:"50%",top:"50%",gridSizeX:70,gridSizeY:30,fadeIntensity:90,gridLineWidth:.3,gridOpacity:.6,backgroundColor:"#131314"})]})]})}const Gle=e=>e.map((n,s)=>({amount:n.credits,price:n.amount,selected:s===1,discount:n.bonus_credits?n.credits-(n.original_credits||n.credits):0,currency:n.currency})),u0=(e,n,s)=>e?window.Paddle?(window.Paddle.Checkout.open({transactionId:e,...s&&{customer:{email:s}}}),!0):(n(qx.PADDLE_NOT_AVAILABLE),!1):(n(qx.PADDLE_MISSING_TRANSACTION_ID),!1);function Vp(){const{toast:e}=ds(),{user:n}=xs(),[s,r]=d.useState(!1),[i,a]=d.useState(null),[o,l]=d.useState(!1),{upgradeDetails:c,subscriptionPlansResponse:u,tier:p}=cs(),f=Qi(),[m,h]=d.useState({isLoading:!1,isSuccess:!1,isError:!1}),[x,y]=d.useState(null),[v,g]=d.useState({showModal:!1,status:"success"}),[b,w]=d.useState(!1),[N,j]=d.useState({showModal:!1}),[_,C]=d.useState({showModal:!1});d.useEffect(()=>{W0(),N_()},[]);const F=u,E=d.useMemo(()=>{if(F?.topup_bundles){const Ne=Gle(F.topup_bundles);return x===null&&Ne.length>1&&y(Ne[1].amount),Ne}const J=[{amount:100,price:20,selected:!1,discount:0,currency:"USD"},{amount:250,price:50,selected:!0,discount:0,currency:"USD"},{amount:500,price:100,selected:!1,discount:0,currency:"USD"},{amount:3e3,price:500,selected:!1,discount:20,currency:"USD"},{amount:6e3,price:1e3,selected:!1,discount:20,currency:"USD"}];return x===null&&y(250),J},[F?.topup_bundles,x]),S=J=>{y(J)},M=()=>E.find(J=>J.amount===x),k=J=>{h({isLoading:!0,isSuccess:!1,isError:!1,...J})},I=(J,Ne,ge,Ee,Ce)=>{h({isLoading:!1,isSuccess:!0,isError:!1,successData:J,paymentType:Ne,amount:ge,currency:Ee,planName:Ce})},D=(J,Ne)=>{h({isLoading:!1,isSuccess:!1,isError:!0,errorMessage:J,paymentType:Ne})},P=()=>{h({isLoading:!1,isSuccess:!1,isError:!1})},R=(J,Ne,ge,Ee,Ce)=>{g({showModal:!0,status:J,planName:Ne,errorMessage:ge,paymentId:Ee,organizationId:Ce})},B=()=>{g({showModal:!1,status:"success"})},U=(J,Ne)=>{j({showModal:!0,bundle:J,organizationId:Ne})},H=()=>{j({showModal:!1})},$=async()=>{N.bundle&&(H(),await re(N.bundle,N.organizationId))},q=J=>{C({showModal:!0,plan:J})},Q=()=>{C({showModal:!1})},V=async J=>{l(!0),k({paymentType:"subscription",planName:J.tier_name,currency:J.currency||"USD"});try{const Ne=oc("subscription",J.amount,J.currency||"USD",J.amount*12);ia("subscription",Ne),Nd("subscription",J.amount,J.currency||"USD");const ge=await yt.quickUpgrade(J.id,J.currency||"USD");ge.status==="succeeded"&&Ne&&(Gx(Ne,ge.payment_id,J.amount,J.currency||"USD"),Ox(Ne,ge.payment_id,J.amount,J.currency||"USD")),ge?.payment_id&&du(ge.payment_id,J.amount,J.currency||"USD","subscription");const Ee=new URLSearchParams;Ee.set("payment_id",ge.payment_id),Ee.set("subscription_status",ge.status==="succeeded"?"success":"failed"),window.location.href=`${window.location.pathname}?${Ee.toString()}`}catch(Ne){const ge=Ne.response?.data?.detail||"Upgrade failed. Please try again.";Fn(Is.PAYMENT.QUICK_UPGRADE,Ne,{plan_id:J.id,plan_name:J.tier_name,fallback_to_stripe:!0});try{const Ee=await yt.createCheckoutSession(0,!0,J.id,void 0,J.currency||"USD");if(Ee?.url){window.location.href=Ee.url;return}}catch(Ee){Fn(Is.PAYMENT.QUICK_UPGRADE_FALLBACK,Ee,{plan_id:J.id})}P(),D(ge,"subscription"),e({title:"Upgrade Failed",description:ge,variant:"destructive"}),l(!1)}},ee=async()=>{_.plan&&(Q(),await V(_.plan))},X=async(J,Ne,ge)=>{try{const Ee=ge?.isSubscription===!0,Ce=ge?.planId,Ie=ge?.planName?.toLowerCase()?.includes("team")?"Team":ge?.planName||"Pro Plan",Ae=Ee?0:J?.price||10,Se=J?.currency||"USD",ht=ge?.eventId;k({paymentType:Ee?"subscription":"credits",amount:J?.amount,currency:Se,planName:Ee?Ie:void 0});let Qe;try{const De=J?.couponCode;Qe=await yt.createCheckoutSession(Ae,Ee,Ce,void 0,Se,ht,De)}catch(De){P(),e({title:"Error",description:De.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"});return}if(Qe?.userType==="ORGANIZATION"&&(Ne=Qe?.userId),Qe?.paymentId&&du(Qe.paymentId,Ae,Se,Ee?Ie?.toLowerCase().includes("team")?"team_subscription":"subscription":"credits"),Qe?.paymentGateway===ad.RAZORPAY){let De;try{De=await yt.checkPaymentStatus(Qe.paymentId)}catch{P(),D("Error checking payment status. Please try again.",Ee?"subscription":"credits");return}if(De.paymentGateway===ad.RAZORPAY&&(De.razorpayOrderId||De.razorpaySubscriptionId)){const de=document.createElement("script");de.src="https://checkout.razorpay.com/v1/checkout.js",de.async=!0,de.id="razorpay-checkout-script",de.onload=()=>{const ue={key:De.keyId,amount:De.razorpayOrderId?De.amount*100:void 0,currency:De.currency||"INR",name:"Emergent",description:Ee?"Subscription":"Credits Top-up",image:"https://emergent-website-migrate.s3.us-west-2.amazonaws.com/website/emergent_square.png",order_id:De.razorpayOrderId,subscription_id:De.razorpaySubscriptionId,handler:async function(st){Ee&&R("pending",Ie,void 0,Qe.paymentId,Ne);try{const mt=await yt.checkPaymentStatus(Qe.paymentId);if(Ee)(mt.status==="success"||mt.status==="succeeded")&&ht&&(Gx(ht,Qe.paymentId,De.amount||Ae,Se),Ox(ht,Qe.paymentId,De.amount||Ae,Se)),R(mt.status,Ie,mt.status==="failed"?"Payment verification failed":void 0,Qe.paymentId,Ne);else if(mt&&(mt.status==="success"||mt.status==="succeeded")){ht&&Wx(ht,Qe.paymentId,De.amount||Ae,Se);const ut=new URLSearchParams;ut.set("payment_id",Qe.paymentId),ut.set("payment_status","success"),Ne&&ut.set("organization_id",Ne),window.location.href=`${window.location.pathname}?${ut.toString()}`}else{const ut=new URLSearchParams;ut.set("payment_id",Qe.paymentId),ut.set("payment_status","failed"),Ne&&ut.set("organization_id",Ne),window.location.href=`${window.location.pathname}?${ut.toString()}`}}catch{if(Ee)R("failed",Ie,"Error verifying payment",Qe.paymentId,Ne);else{const ut=new URLSearchParams;ut.set("payment_id",Qe.paymentId),ut.set("payment_status","failed"),Ne&&ut.set("organization_id",Ne),window.location.href=`${window.location.pathname}?${ut.toString()}`}}},prefill:{email:n?.email||"",name:n?.user_metadata?.name?.split(" ")[0]||n?.user_metadata?.full_name?.split(" ")[0]||n?.email?.split("@")[0]||""},theme:{color:"#ffffff",font:{family:"Inter",size:14}},modal:{ondismiss:function(){if(Ee)R("cancelled",Ie,void 0,Qe.paymentId,Ne);else{const st=new URLSearchParams;st.set("payment_id",Qe.paymentId),st.set("payment_status","cancelled"),Ne&&st.set("organization_id",Ne),window.location.href=`${window.location.pathname}?${st.toString()}`}}}},lt=new window.Razorpay(ue);P(),lt.open()},de.onerror=()=>{P(),D("Failed to load payment gateway",Ee?"subscription":"credits"),Me()},document.body.appendChild(de)}else P(),D("Failed to get Razorpay order details",Ee?"subscription":"credits")}else Qe?.paymentGateway===ad.PADDLE?(P(),u0(Qe.sessionId,De=>D(De,Ee?"subscription":"credits"),n?.email)):window.location.href=Qe.url}catch{P(),D("Error processing payment. Please try again.",ge?.isSubscription?"subscription":"credits")}},ae=d.useMemo(()=>{if(!W0())return!1;const J=F?.current_subscription;return J?J.payment_gateway?.toUpperCase()==="STRIPE"&&J.status==="active"&&!!J.saved_card:!1},[F?.current_subscription]),[me,oe]=d.useState(null),pe=d.useMemo(()=>me&&Object.keys(me).length>0?me:F?.current_subscription?.saved_card||null,[F?.current_subscription?.saved_card,me]),se=async J=>{try{if(!W0()&&!N_())return null;const Ne=await yt.getSavedPaymentMethod(J);return Ne&&Object.keys(Ne).length>0&&Ne.type==="card"?(oe(Ne),Ne):null}catch(Ne){return Fn("check_saved_payment_method_error",Ne,{organization_id:J}),null}},re=async(J,Ne)=>{r(!0),a(J.amount),k({paymentType:"credits",amount:J.amount,currency:J.currency,isQuickTopup:!0});try{const ge=Ed(J.price,J.currency,J.amount);ia("credits",ge),n?.id&&a_(n.id,J.amount,J.price,p||"free",!1,Ne);const Ee=await yt.quickTopup(J.price,J.currency,Ne);Ee?.payment_id&&du(Ee.payment_id,J.price,J.currency,"credits"),Ee.status==="succeeded"&&ge&&Wx(ge,Ee.payment_id,J.price,J.currency);const Ce=new URLSearchParams;Ce.set("payment_id",Ee.payment_id),Ce.set("payment_status",Ee.status==="succeeded"?"success":"failed"),Ne&&Ce.set("organization_id",Ne),window.location.href=`${window.location.pathname}?${Ce.toString()}`}catch(ge){const Ee=ge.response?.data?.detail||"Payment failed. Please try again.";Fn("handle_quick_topup_error",ge,{bundle_amount:J.amount,bundle_price:J.price,bundle_currency:J.currency,organization_id:Ne,fallback_to_stripe:!0});try{const Ce=await yt.createCheckoutSession(J.price,!1,void 0,void 0,J.currency);if(Ce?.url){window.location.href=Ce.url;return}}catch(Ce){Fn("handle_quick_topup_stripe_fallback_error",Ce,{bundle_amount:J.amount,bundle_price:J.price,bundle_currency:J.currency})}P(),D(Ee,"credits"),e({title:"Payment Failed",description:Ee,variant:"destructive"}),r(!1),a(null)}},ve=async(J,Ne,ge=!1,Ee)=>{r(!0),a(J.amount);try{k({paymentType:"credits",amount:J.amount,currency:J.currency}),n?.id&&a_(n.id,J.amount,J.price,p||"free",ge,Ne);const Ce=await yt.createCheckoutSession(J.price,!1,void 0,void 0,J.currency,Ee);Ce?.paymentId&&du(Ce.paymentId,J.price,J.currency,"credits"),Ce?.paymentGateway===ad.PADDLE?(P(),u0(Ce.sessionId,Ie=>D(Ie,"credits"),n?.email)):Ce?.url&&(window.location.href=Ce.url)}catch(Ce){D(Ce.response?.data?.detail||"Failed to create checkout session. Please try again.","credits"),e({title:"Error",description:Ce.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{r(!1),a(null)}},we=async J=>{if(f){const Ne=p!=="free",ge="upgrade-tier",{title:Ee,description:Ce}=Ca(ge);ei("TRIGGER_SUBSCRIPTION",{planId:c?.id,planName:"pro",billingPeriod:"MONTHLY",planType:"personal",price:c?.monthly_price,currency:"USD",organizationId:J,revenuecatOfferingIdentifier:c?.revenuecat_offering_identifier,triggerLocation:ge,currentTier:p,hasActiveSubscription:Ne,title:Ee,description:Ce,...Ne&&{modalType:"proFeature"}});return}l(!0);try{if(!c?.id)throw new Error("No Subscription available at this moment for this account");k({paymentType:"subscription",currency:"USD",planName:"Pro Plan"});let Ne;if(!f){const Ee=c?.monthly_price||0;Ne=oc("subscription",Ee,"USD",Ee*12),Nd("subscription",Ee,"USD"),ia("subscription",Ne)}const ge=await yt.createCheckoutSession(0,!0,c?.id,void 0,"USD",Ne);ge?.paymentId&&du(ge.paymentId,0,"USD","subscription"),ge?.paymentGateway===ad.PADDLE?(P(),u0(ge.sessionId,Ee=>D(Ee,"subscription"),n?.email)):ge?.url&&(window.location.href=ge.url)}catch(Ne){D(Ne.response?.data?.detail||"Failed to create checkout session. Please try again.","subscription"),e({title:"Error",description:Ne.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{l(!1)}},be=async J=>{if(f){const Ne=p!=="free",ge="upgrade-tier",{title:Ee,description:Ce}=Ca(ge);ei("TRIGGER_SUBSCRIPTION",{planName:"pro",billingPeriod:"MONTHLY",planType:"personal",currency:J||"USD",revenuecatOfferingIdentifier:c?.revenuecat_offering_identifier,triggerLocation:ge,currentTier:p,hasActiveSubscription:Ne,title:Ee,description:Ce,...Ne&&{modalType:"proFeature"}});return}l(!0);try{k({paymentType:"subscription",currency:J,planName:"Pro Mode"});let Ne=null;if(u?.plans){const Ce=u.plans.emergent_pro;Ce&&(Ne=Ce.monthly_plans?.[0]||Ce.yearly_plans?.[0])}else{const Ce=u?.available_plans||u?.personal_plans;Ce&&(Ne=Ce.find(Ie=>Ie.tier_name.toLowerCase().includes("pro")))}if(!Ne)throw new Error("Emergent Pro plan is not available for upgrade at this moment");let ge;if(!f){const Ce=Ne.monthly_price||0;ge=oc("subscription",Ce,J||"USD",Ce*12),Nd("subscription",Ce,J||"USD"),ia("subscription",ge)}if(J.toUpperCase()===pn.INR)await X({amount:0,price:0,selected:!1,discount:0,currency:J||"USD"},void 0,{isSubscription:!0,planId:Ne.id,planName:"pro",planType:"personal",eventId:ge});else{const Ce=await yt.createCheckoutSession(0,!0,Ne.id,void 0,J||"USD",ge);Ce?.paymentId&&du(Ce.paymentId,0,J||"USD","subscription"),Ce?.paymentGateway===ad.PADDLE?(P(),u0(Ce.sessionId,Ie=>D(Ie,"subscription"),n?.email)):Ce?.url&&(window.location.href=Ce.url)}}catch(Ne){D(Ne.response?.data?.detail||Ne.message||"An error occurred during upgrade","subscription"),e({title:"Error",description:Ne.response?.data?.detail||"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{l(!1)}},Ue=(J,Ne=3e4)=>Promise.race([J,new Promise((ge,Ee)=>setTimeout(()=>Ee(new Error("Request timeout")),Ne))]),fe=async(J="",Ne,ge,Ee)=>{if(f){ei("OPEN_MANAGE_SUBSCRIPTION",{});return}l(!0);try{let Ce,Ie=!1;if(Ee)Ie=Ee==="razorpay"||Ee==="pagbrasil";else{const Ae=Ne?.toUpperCase();Ie=Ae===pn.INR||Ae===pn.BRL}if(Ie)if(Ce=await Ue(yt.cancelSubscription(J),3e4),Ce?.status==="success")w(!0),e({title:"Subscription Cancelled",description:Ce.message,variant:"default"});else{const Ae=Ce?.detail||Ce?.message||"Failed to cancel subscription";e({title:"Error",description:Ae,variant:"destructive"})}else Ce=await Ue(yt.getManageSubscriptionUrl(void 0),3e4),Ce&&Ce.url?window.location.href=Ce.url:e({title:"Error",description:Ce?.detail||"Failed to get subscription management URL",variant:"destructive"})}catch(Ce){const Ie=Ce instanceof Error&&Ce.message==="Request timeout",Ae=Ce?.response?.data?.detail||Ce?.message;Fn("manage_subscription_error",Ce,{is_timeout:Ie,error_detail:Ae,organization_id:ge}),e({title:"Error",description:Ie?"Request timed out. Please try again.":Ae||"Failed to manage subscription",variant:"destructive"})}finally{l(!1)}},Me=()=>{const J=document.getElementById("razorpay-checkout-script");J&&J.parentNode&&J.parentNode.removeChild(J)};return d.useEffect(()=>()=>{Me()},[]),{isLoading:s,processingBundleAmount:i,isUpgradeLoading:o,bundles:E,selectedBundleAmount:x,handleBundleSelect:S,getSelectedBundle:M,handleBuyCredits:ve,handleRazorpayPayment:X,handleUpgradeToPro:we,handleUpgradeToProMode:be,handleManageSubscription:fe,canUseQuickTopup:ae,savedCard:pe,handleQuickTopup:re,checkForSavedPaymentMethod:se,quickTopupConfirmation:N,showQuickTopupConfirmation:U,hideQuickTopupConfirmation:H,confirmQuickTopup:$,handleQuickUpgrade:V,quickUpgradeConfirmation:_,showQuickUpgradeConfirmation:q,hideQuickUpgradeConfirmation:Q,confirmQuickUpgrade:ee,paymentModalState:m,showPaymentLoading:k,showPaymentSuccess:I,showPaymentError:D,hidePaymentModals:P,subscriptionPaymentResult:v,showSubscriptionPaymentResult:R,hideSubscriptionPaymentResult:B,subscriptionCancelledSuccessfully:b,setSubscriptionCancelledSuccessfully:w,cleanupRazorpayScript:Me}}const Qu=({response:e,planId:n,planName:s,hidePaymentModals:r,toast:i,errorMetadata:a={},onBeforeCheckout:o,email:l})=>{if(e?.paymentGateway===ad.PADDLE){r();const c=e.sessionId;return c?window.Paddle?(o?.(),window.Paddle.Checkout.open({transactionId:c,...l&&{customer:{email:l}}}),!0):(Fn(Is.PADDLE.NOT_INITIALIZED,new Error("Paddle SDK not available"),{plan_id:n,plan_name:s,...a}),i({title:"Error",description:qx.PADDLE_NOT_AVAILABLE,variant:"destructive"}),!0):(Fn(Is.PADDLE.MISSING_TRANSACTION_ID,new Error("Missing Paddle transaction ID"),{plan_id:n,plan_name:s,response_keys:Object.keys(e||{}).join(","),...a}),i({title:"Error",description:qx.PADDLE_MISSING_TRANSACTION_ID,variant:"destructive"}),!0)}else return e?.url?(o?.(),window.location.href=e.url,!0):(r(),!1)},ho=()=>{const e=localStorage.getItem("preferred_currency");if(e)return e;const s=new URLSearchParams(window.location.search).get("currency");return s?s.toUpperCase():pn.USD},nh=e=>e?.payment_provider?e.payment_provider:null,g2=(e,n=pn.USD)=>{const s=nh(e);return s?s==="razorpay":(n||pn.USD).toUpperCase()===pn.INR},b2=(e,n=pn.USD)=>{const s=nh(e);return s?s==="pagbrasil":(n||pn.USD).toUpperCase()===pn.BRL},sh=e=>nh(e)==="paddle",rh=(e,n=pn.USD)=>{const s=nh(e);if(s)return s==="stripe";const r=(n||pn.USD).toUpperCase();return r!==pn.INR&&r!==pn.BRL},QR=(e,n=pn.USD)=>{const s=nh(e);if(s)return s==="pagbrasil"?"pag_brazil":s;const r=(n||pn.USD).toUpperCase();return r===pn.INR?"razorpay":r===pn.BRL?"pag_brazil":"stripe"},qle=["GB","FR","ES"];function ih(){const{personalPlansResponse:e}=cs(),{userDetails:n}=xs(),{showPaymentLoading:s,hidePaymentModals:r,paymentModalState:i}=Vp(),a=d.useRef(ho()),o=qle.includes(n?.country_code||""),l=yee()&&e?.eligible_for_promotional_setup&&o,c=e?.promotional_setup_plan_id,u=d.useCallback(async p=>{if(!(!l||!c)){s({paymentType:"subscription",currency:a.current,planName:"Standard"});try{const f=Z$();z(yl.CHECKOUT_INITIATED,{trigger_location:p,plan_id:c});const{url:m}=await yt.createCheckoutSession(0,!0,c,void 0,a.current,f,void 0,!0);m?(z(yl.CHECKOUT_REDIRECT,{trigger_location:p,plan_id:c}),TM(),window.location.href=m):r()}catch(f){r(),Fn(Is.PROMOTIONAL_SETUP.CHECKOUT,f,{trigger_location:p,plan_id:c})}}},[l,c,s,r]);return{isEligible:l,planId:c,createCheckoutAndRedirect:u,paymentModalState:i}}var Kle="container_f5d1e6",Yle="inner_0ac679",hu="dot_88b245";const xo=({size:e=40,color:n="black",speed:s=1.5})=>t.jsx("div",{className:Kle,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":s+"s"},children:t.jsxs("div",{className:Yle,children:[t.jsx("div",{className:hu}),t.jsx("div",{className:hu}),t.jsx("div",{className:hu}),t.jsx("div",{className:hu}),t.jsx("div",{className:hu}),t.jsx("div",{className:hu})]})});var Zle="container_2e2e0b",Jle="inner_010d1a";const Xle=({size:e=40,color:n="black",speed:s=.9,stroke:r=5})=>t.jsx("div",{className:Zle,style:{"--uib-size":e+"px","--uib-color":n,"--uib-speed":s+"s","--uib-stroke":r+"px"},children:t.jsx("div",{className:Jle})});function Zd({isOpen:e,paymentType:n,amount:s,planName:r,isQuickTopup:i}){const a=()=>n==="credits"?`Processing ${s} credits purchase`:"Setting up your",o=()=>n==="subscription"?r||"Pro":null,l=()=>n==="credits"?i?"Please wait while we verify your payment":"Redirecting to payment gateway, please wait...":"This will just take a moment";return d.useEffect(()=>{e&&z(Tn.MODAL_EVENTS.PAYMENT_LOADING_MODAL_OPENED,{paymentType:n,amount:s,planName:r})},[e,n,s,r]),t.jsx(zn,{open:e,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsxs("div",{className:"fixed inset-0 z-[10002]",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]"}),t.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:t.jsx(xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:c=>c.stopPropagation(),children:t.jsx("div",{className:"relative max-w-[90%] md:max-w-[611px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-[94px] md:px-[120px] rounded-[20px] w-full min-h-[400px] md:min-h-[500px] flex flex-col justify-center",children:t.jsx("div",{className:"flex flex-col items-center justify-center py-6 flex-1",children:t.jsxs(xe.div,{className:"flex flex-col items-center justify-center gap-[48px] font-brockmann",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t.jsx("div",{className:"relative",children:t.jsx(xo,{size:"32",speed:"1.75",color:"#80FFF9"})}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsxs("div",{className:"flex items-center flex-col",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:a()}),o()&&t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:[o()," plan"]})]}),t.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-[16px] leading-[20px] text-[#FFFFFF]/60 text-center",children:l()})]})]})})})})})]})})})})}const Qle=W.modals.freeStandardPlanDesktop,ece=W.modals.freeStandardPlanMobile,tce=W.landingPage.landingBg,nce=W.modals.freeTrialLeftPanel,sce=W.modals.freeTrialTopPanel;function rce({isOpen:e,onOpenChange:n}){const s=Er(),r=()=>{z(yl.MODAL_DISMISSED),n(!1)},i=()=>{z(yl.MODAL_CTA_CLICKED),n(!1),s.open({triggerLocation:"freeStandardPlanModal"})};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(Us,{children:t.jsxs(dr,{className:"w-full max-w-[95dvw] md:max-w-[750px] h-[85dvh] md:h-[650px] max-h-[90dvh] p-0 border-0 bg-[#131314] text-white rounded-2xl overflow-hidden",children:[t.jsxs("picture",{children:[t.jsx("source",{media:"(min-width: 768px)",srcSet:Qle}),t.jsx("img",{src:ece,alt:"Background",className:"absolute inset-0 w-full h-full object-cover z-0"})]}),t.jsx("button",{title:"Close","aria-label":"close",className:"absolute top-4 right-4 md:top-6 md:right-6 z-50 bg-white backdrop-blur-lg p-1.5 rounded-full transition-colors hover:bg-gray-100",onClick:r,children:t.jsx(Pt,{className:"w-5 h-5 text-[#C94B15]/50",strokeWidth:2.4})}),t.jsx("button",{type:"button",onClick:i,title:"Start Free Trial",className:"relative flex items-center justify-center gap-2 h-14 w-[300px] py-2.5 px-5 mx-auto -mt-10 text-black text-xl leading-6 tracking-[-0.5px] font-semibold bg-white bg-cover bg-center shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),0_-4px_0_0_rgba(0,0,0,0.20)_inset,0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40)_inset,0_0_20px_0_rgba(255,255,255,0.40)] hover:-translate-y-0.5 transition-all duration-200 rounded-full",children:t.jsxs("span",{className:"tracking-tight flex items-center gap-2",children:[t.jsx("span",{children:"Start Free Trial"}),t.jsx(Jo,{className:"w-5 h-5",strokeWidth:2.6})]})})]})})})}function ice({isOpen:e,onOpenChange:n}){const s=Er(),{createCheckoutAndRedirect:r,paymentModalState:i}=ih(),{isMobile:a}=ps(),o=()=>{z(yl.FREE_TRIAL_MODAL_CTA_CLICKED),r("freeTrialModal")},l=()=>{z(yl.FREE_TRIAL_MODAL_EXPLORE_PLANS),n(!1),s.open({planType:"personal",triggerLocation:"freeStandardPlanModal"})},c=()=>{z(yl.FREE_TRIAL_MODAL_DISMISSED),n(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(Zd,{isOpen:i.isLoading,onOpenChange:()=>{},paymentType:"subscription",planName:i.planName,currency:i.currency}),t.jsx(zn,{open:e,onOpenChange:u=>!u&&c(),children:t.jsx(Us,{children:t.jsxs(dr,{className:"flex max-md:flex-col max-w-[90dvw] md:max-w-[850px] md:h-[540px] border border-[#333] bg-[#18181a] rounded-2xl",children:[t.jsx("img",{src:a?sce:nce,alt:"Trial Plan",className:"w-full h-full max-w-[400px] object-cover shrink-0",loading:"eager",fetchPriority:"high"}),t.jsx("button",{title:"Close","aria-label":"close",className:"absolute top-4 right-4 md:top-6 md:right-6 z-10 bg-black/30 md:bg-white/5 p-1.5 rounded-full transition-colors hover:bg-white/10",onClick:c,children:t.jsx(Pt,{className:"w-5 h-5 text-white/70",strokeWidth:2.4})}),t.jsx("div",{className:"flex flex-col items-center justify-center px-6 py-10 md:px-12 bg-cover bg-center bg-no-repeat",style:a?void 0:{backgroundImage:`url(${tce})`},children:t.jsxs("div",{className:"flex flex-col gap-10 md:gap-20 md:min-w-[350px]",children:[t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex flex-col text-[28px] leading-9 tracking-[-0.56px] font-medium",children:[t.jsx("span",{className:"text-white [text-shadow:0_0_20px_rgba(255,255,255,0.3)]",children:"Ready to build?"}),t.jsx("span",{className:"bg-gradient-to-b from-[#E5CBB8] to-[#F49B57] bg-clip-text text-transparent",children:"Start your free trial."})]}),t.jsx("p",{className:"text-base leading-7 text-white/70 font-medium",children:"Activate your free 1-month Standard trial to run this task and explore the platform with 50 included credits."})]}),t.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[t.jsxs("button",{onClick:o,disabled:i.isLoading,className:"flex items-center justify-center gap-2 h-12 w-full bg-white rounded-xl shadow-[0px_0px_40px_0px_rgba(255,255,255,0.2)] hover:-translate-y-0.5 transition-transform text-[#0f0f10] text-base font-semibold tracking-[-0.4px] disabled:opacity-50 disabled:cursor-not-allowed",children:["Start Free Trial Now",t.jsx(Jo,{size:18,strokeWidth:2.6})]}),t.jsx("button",{onClick:l,disabled:i.isLoading,className:"flex items-center justify-center h-12 w-full border border-white/10 rounded-xl hover:bg-white/5 transition-colors text-white/50 text-base font-medium",children:"Explore Other Plans"})]})]})})]})})})]})}const ace=W.chips.surprise;function oce({config:e,showChips:n,onChipClick:s,hideRefreshButton:r=!1}){const{t:i}=Jt("home"),[a,o]=d.useState({}),[l,c]=d.useState([]),[u,p]=d.useState(new Set),[f,m]=d.useState(0),{isTrulyFreeUser:h}=ni(),{tier:x}=cs();d.useEffect(()=>{if(e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)){const j=e.prompt_suggestions.reduce((_,C)=>(_[C.category]||(_[C.category]=[]),_[C.category].push(C),_),{});o(j)}},[e]);const y=(j=!1)=>Object.keys(a).map(F=>{const E=a[F];if(j&&u.size>0){const S=E.filter(I=>!u.has(`${I.category}-${I.label}`)),M=S.length>0?S:E,k=Math.floor(Math.random()*M.length);return M[k]}else{const S=Math.floor(Math.random()*E.length);return E[S]}}),v=j=>{const _=new Set(u);j.forEach(F=>{_.add(`${F.category}-${F.label}`)});const C=Object.values(a).flat().length;if(_.size>C*.8){const F=new Set(j.map(E=>`${E.category}-${E.label}`));p(F)}else p(_)};d.useEffect(()=>{if(l.length===0&&Object.keys(a).length>0){const j=y(!1);c(j),v(j)}},[a]);const g=async()=>{z(ac.REFRESH_CLICKED,{tier:x}),m(_=>_+180);const j=y(!0);c(j),v(j)},b=j=>{z(ac.CHIP_CLICKED,{chip_label:j.label,chip_category:j.category,tier:x}),s(j.prompt)},w=()=>{const j=Object.values(a).flat(),_=j[Math.floor(Math.random()*j.length)];z(ac.CHIP_CLICKED,{chip_label:"Surprise Me",chip_category:"Surprise Me",tier:x}),s(_.prompt)},N=e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return t.jsx(Xa,{mode:"wait",children:n&&N&&l.length>0&&t.jsx(qn.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:"easeInOut",height:{duration:.3,ease:"easeInOut"}},className:"space-y-4",children:t.jsxs(qn.div,{className:"flex  relative items-center pt-4 flex-wrap gap-[6px]  justify-between w-full   md:gap-[16px]",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.4}},exit:{opacity:0,transition:{staggerChildren:.03,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",children:[t.jsxs("div",{className:"flex flex-wrap gap-[6px] md:gap-3 justify-center  w-full",children:[l.map((j,_)=>t.jsxs(qn.button,{"data-testid":yr.suggestionChip,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>b(j),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:`group relative flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#131314] hover:bg-[#18181A] border border-transparent  hover:border-[#323232] rounded-[8px] transition-colors duration-200 cursor-pointer ${h()?"border-opacity-0":""}`,children:[t.jsx("img",{src:j.icon_url,alt:"Surprise",className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:j.label}),j.isNew&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-white bg-[#E03E3E] rounded-full",children:"New"})]},`${j.category}-${j.label}-${_}`)),t.jsxs(qn.button,{"data-testid":yr.surpriseMeButton,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:w,whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:`group flex items-center gap-2 p-[6px] text-[14px]  md:p-[10px] pr-[12px] bg-[#131314] font-medium text-[#FFFFFF80] hover:text-[#FFFFFF] border border-[#232324] border-opacity-0 hover:bg-[#18181A] hover:border-[#323232] rounded-[8px] font-brockmann ${h()?"border-opacity-0":""}`,children:[t.jsx("img",{src:ace,alt:i("suggestionChips.surprise"),className:"w-4 h-4"}),t.jsx("span",{className:"leading-4 group-hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:i("suggestionChips.surpriseMe")})]})]}),!r&&t.jsx(qn.button,{"data-testid":yr.refreshSuggestionsButton,variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:g,whileTap:{scale:.95,transition:{duration:.1}},className:"group hidden md:absolute right-0 md:flex items-center gap-2 p-[6px]  md:p-[10px] text-[#7B7B80] hover:text-white hover:bg-[#18181A] rounded-[8px]  transition-colors duration-200",title:i("suggestionChips.refreshSuggestions"),children:t.jsx(qn.div,{animate:{rotate:f},transition:{duration:.5,ease:"easeInOut"},children:t.jsx(xm,{className:"w-4 h-4"})})})]})},"chips-container")})}function lce({showChips:e,onChipClick:n,activeTab:s="fullstack",applyGrayscale:r=!1,botSuggestion:i}){const{t:a}=Jt("home"),{tier:o}=cs(),{isTrulyFreeUser:l}=ni(),[c,u]=d.useState(null),p=x=>{const y=x.translationKey?a(`${x.translationKey}.label`):x.label||"",v=x.translationKey?a(`${x.translationKey}.prompt`):x.prompt||"";z(ac.CHIP_CLICKED,{chip_label:y,chip_category:x.category,tier:o}),n(v)},f=x=>{z(ac.CHIP_CLICKED,{chip_label:x.label,chip_category:x.category,tier:o}),n(x.prompt)},m=Mle[s]||[],h=m.length>0||!!i;return t.jsx(Xa,{mode:"wait",children:e&&h&&t.jsx(qn.div,{initial:{opacity:0,y:10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3,ease:"easeInOut",height:{duration:.3,ease:"easeInOut"}},className:"space-y-4",children:t.jsx(qn.div,{className:"flex relative items-center pt-4 flex-wrap gap-[6px] justify-between w-full md:gap-[16px]",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.4}},exit:{opacity:0,transition:{staggerChildren:.03,staggerDirection:-1}}},initial:"hidden",animate:"visible",exit:"exit",children:t.jsxs("div",{className:"flex flex-wrap gap-[6px] md:gap-3 justify-center w-full",children:[i&&t.jsxs(qn.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>f(i),onMouseEnter:()=>u(-1),onMouseLeave:()=>u(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:A("relative opacity-100 hover:opacity-100 flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#181819] hover:bg-[#18181A] border border-transparent hover:border-[#323232] rounded-[8px] transition-all duration-200 cursor-pointer",l()&&"border-opacity-0"),children:[t.jsx("span",{style:{color:c===-1?"#FFFFFF":"#666666",transition:"color 0.2s ease"},children:t.jsx("img",{src:i.icon_url,alt:i.label,className:"w-4 h-4"})}),t.jsx("span",{className:A("text-sm leading-4 font-medium font-brockmann transition-all duration-200",c===-1&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:i.label}),i.isNew&&t.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold text-white bg-[#E03E3E] rounded-full leading-none",children:"New"})]},`bot-${i.label}`),m.map((x,y)=>t.jsxs(qn.button,{variants:{hidden:{opacity:0,scale:1,y:4},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeInOut"}},exit:{opacity:0,scale:1,y:-4,transition:{duration:.5,ease:"easeInOut"}}},onClick:()=>p(x),onMouseEnter:()=>u(y),onMouseLeave:()=>u(null),whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.95,transition:{duration:.1}},className:A("relative opacity-70 hover:opacity-100 flex text-[#FFFFFF80] hover:text-[#FFFFFF] items-center gap-[6px] p-[6px] md:p-[10px] pr-[12px] bg-[#181819] hover:bg-[#18181A] border border-transparent hover:border-[#323232] rounded-[8px] transition-all duration-200 cursor-pointer",l()&&"border-opacity-0",r&&!x.noGrayscale&&"grayscale",x.noGrayscale&&"opacity-100"),children:[t.jsx("span",{style:{color:c===y?x.iconColor:"#666666",transition:"color 0.2s ease"},children:x.icon}),t.jsx("span",{className:A("text-sm leading-4 font-medium font-brockmann transition-all duration-200",c===y&&"drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]"),children:x.translationKey?a(`${x.translationKey}.label`):x.label}),x.isNew&&t.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold text-white bg-[#E03E3E] rounded-full leading-none",children:"New"})]},`${x.category}-${x.translationKey||x.label}-${y}`))]})})},"chips-container")})}function Jd(){const e=Xi(),n=wi(),{toast:s}=ds(),r=Vr(MX),i=Vr(LX),a=Vr(RX),o=d.useRef(null),l=d9(n.pathname),{user:c}=xs();d.useEffect(()=>()=>{o.current&&(clearInterval(o.current),o.current=null)},[]);const{data:u,error:p,isLoading:f,refetch:m}=Ri(void 0,{skip:!a||l||!c,pollingInterval:300*1e3}),{data:h=[],isLoading:x}=ID(void 0,{skip:!i}),y=d.useCallback(async(N=!1)=>{try{N||e(d3(!0));const j=await m();if(j.data){const _=j.data.github.authorized,C=j.data.github.account_name;return N||(e(c3(_)),e(h_(C))),_&&C&&e(x_([{installation_id:C,account_login:C,account_type:"User",user_github_login:C,app_slug:"emergent-ai",isPrimary:!0,account:{login:C,id:0,type:"User"},target_type:"User"}])),_}throw new Error("Failed to fetch user details")}catch(j){const _=j.message||"Failed to check GitHub connection";return N||e(y1(_)),!1}},[e,m]),v=d.useCallback(async()=>{try{e(d3(!0)),g()}catch(N){e(y1(N.message||"Authentication failed"))}},[e]),g=d.useCallback(N=>{const{isPopup:j=!1,onSuccess:_,pollingEnabled:C=!0}=N||{};try{const F=Hf.appUrl;if(j){e(u3(!0));const E=window.open(F,"github-auth","width=600,height=700");C&&E&&(o.current&&clearInterval(o.current),o.current=setInterval(()=>{try{E.closed&&(o.current&&(clearInterval(o.current),o.current=null),e(u3(!1)),setTimeout(()=>{y().then(S=>{S&&_&&_()})},1e3))}catch{}},1e3))}else window.open(F,"_blank")}catch(F){e(y1(F.message||"Failed to open GitHub installation")),e(u3(!1))}},[e,y]),[b]=AD(),w=d.useCallback(async(N,j)=>{try{const _=await b({installationId:N,code:j}).unwrap();if(_.success)return s({title:"GitHub Connected",description:"Successfully connected to GitHub!"}),await y(),!0;throw new Error(_.error||"Failed to save installation")}catch(_){const C=_.message||"Failed to save GitHub installation";return e(y1(C)),s({title:"GitHub Connection Failed",description:C,variant:"destructive"}),!1}},[b,s,e,y]);return d.useEffect(()=>{h.length>0&&e(x_(h))},[h,e]),d.useEffect(()=>{u&&(e(c3(u.github.authorized)),e(h_(u.github.account_name)))},[u,e]),d.useEffect(()=>{p&&e(y1("Failed to fetch user details"))},[p,e]),{isConnected:r.isConnected,isConnecting:r.isConnecting,primaryAccount:r.primaryAccount,installations:r.installations,connectionError:r.connectionError,authWindowOpen:r.authWindowOpen,isLoadingUserDetails:f,isLoadingInstallations:x,checkGitHubConnection:y,authenticate:v,redirectToGitHubInstallation:g,saveInstallation:w,setIsConnected:N=>e(c3(N)),setIsConnecting:N=>e(d3(N))}}const y2=(e,n=!1)=>{if(!e)return"";const s={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return n&&(s.second="2-digit",s.hour12=!1),new Date(e).toLocaleString("en-US",s)},cce=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"",bm=e=>e?new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",EN=W.panelIcons.panelTesting,dce=W.panelIcons.panelEdit,$3=W.panelIcons.panelVision,SN=W.panelIcons.panelIntegration,z3=[{key:"testing",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Testing Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:EN,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"replace",color:"#4D320F",bgColor:"#F8CC55",icon:"code",iconColor:"#4D320F",text:"Edit Agent",runningText:"is Running",beforeBorder:"before:border-[#4D320F20]",panelLottie:dce,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(248, 204, 85, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"vision",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Image Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:$3,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"support",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Support Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:$3,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"troubleshoot",color:"#661F3D",bgColor:"#E5A8A1",icon:"vision",iconColor:"#661F3D",text:"Triage Agent",runningText:"is Running",beforeBorder:"before:border-[#E5A8A120]",panelLottie:$3,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(229, 168, 161, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"integration",color:"#243045",bgColor:"#A1BFE5",icon:"integration",iconColor:"#243045",text:"Integration Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:SN,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"design",color:"#243045",bgColor:"#A1BFE5",icon:"design",iconColor:"#243045",text:"Design Agent",runningText:"is Running",beforeBorder:"before:border-[#A1BFE520]",panelLottie:SN,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(161, 191, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}},{key:"deployment",color:"#4D320F",bgColor:"#BBA1E5",icon:"code",iconColor:"#4D320F",text:"Reviewer Agent",runningText:"is Running",beforeBorder:"before:border-[#BBA1E520]",panelLottie:EN,gradients:{running:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.3) 100%)",waiting:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(187, 161, 229, 0.2) 100%)",stopping:"linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 0%, rgba(244, 155, 87, 0.2) 100%)"}}],uce=e=>{if(!e)return"Subagent";const n=e.includes("testing"),s=e.includes("integration"),r=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),o=e.includes("replace"),l=e.includes("design"),c=e.includes("deployment");return n?"testing":s?"integration":r?"vision":i?"troubleshoot":a?"support":o?"replace":l?"design":c?"deployment":e?.replaceAll("_"," ")},ym=e=>{if(!e)return"Subagent";const n=e.includes("testing"),s=e.includes("integration"),r=e.includes("vision"),i=e.includes("troubleshoot"),a=e.includes("support"),o=e.includes("replace"),l=e.includes("design"),c=e.includes("deployment");return n?"Testing Agent":s?"Memory Agent":r?"Image Agent":i?"Triage Agent":a?"Support Agent":o?"Edit Agent":l?"Design Agent":c?"Reviewer Agent":e?.replaceAll("_"," ")},ep=e=>{if(!e)return z3[0];const n=uce(e);return z3.find(s=>s.key===n)||z3[0]},pce=(e,n,s="bottom")=>ep(e).gradients[n].replace("to bottom",`to ${s}`),eP=(e,n,s)=>{const r={running:"#67CB65",waiting:"#5FD3F3",stopped:"#7B7B80",stopping:"#F49B57",subagent_stopping:"#F49B57",exit_cost:"#7B7B80",forking:"#80FFF9"},i=e==="running"||e==="subagent_running"||e==="subagent_waiting";return s&&n&&i?ep(n).bgColor:e.startsWith("subagent_")&&i?"#DD99FF":r[e]||r.stopped},gy=.2,tP=17,nP=1.2,sP=300,fce=(e,n="USD")=>{const s=n.toUpperCase();return s==="USD"?e*gy:s==="INR"?e*tP:s==="BRL"?e*nP:s==="KRW"?e*sP:e*gy};function mce(e,n="USD"){const s=typeof e=="string"?parseFloat(e):e;if(isNaN(s))return"0";let r="en-US",i={minimumFractionDigits:0,maximumFractionDigits:2};switch(n.toUpperCase()){case"INR":r="en-IN";break;case"BRL":r="pt-BR";break;case"KRW":default:r="en-US";break}return new Intl.NumberFormat(r,i).format(s)}function rP(e){const n=(e||"USD").toString().toUpperCase();return G6[n]||G6[pn.USD]}function Tr(e,n="USD"){const s=mce(e,n),r=(n||"USD").toString().toUpperCase();return`${G6[r]||r}${s}`}let W3=null;function hce(){if(!W3)try{const{SyncRedactor:e}=require("redact-pii");W3=new e({builtInRedactors:{names:!1,emailAddress:!1,phoneNumber:!1,creditCardNumber:!0,credentials:!0,ipAddress:!1,password:!0}})}catch{return null}return W3}function kN(e,n=200){if(!e)return e;try{const s=hce();return s?s.redact(e).substring(0,n):e.substring(0,n)}catch{return e.substring(0,n)}}const TN=(e,n=50)=>e?e.length<=n?e:`${e.substring(0,n)}...`:"",xce=e=>e?e.filter(n=>!!(n&&n.type&&n.value)):[],iP=d.createContext(null),Wa={SUCCESS:"success",ERROR:"error",INFO:"info"},ha={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"},gce=({color:e="#5FE55C"})=>t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 19C8.755 19 7.585 18.7638 6.49 18.2913C5.395 17.8188 4.4425 17.1775 3.6325 16.3675C2.8225 15.5575 2.18125 14.605 1.70875 13.51C1.23625 12.415 1 11.245 1 10C1 8.755 1.23625 7.585 1.70875 6.49C2.18125 5.395 2.8225 4.4425 3.6325 3.6325C4.4425 2.8225 5.395 2.18125 6.49 1.70875C7.585 1.23625 8.755 1 10 1C11.245 1 12.415 1.23625 13.51 1.70875C14.605 2.18125 15.5575 2.8225 16.3675 3.6325C17.1775 4.4425 17.8188 5.395 18.2913 6.49C18.7638 7.585 19 8.755 19 10C19 11.245 18.7638 12.415 18.2913 13.51C17.8188 14.605 17.1775 15.5575 16.3675 16.3675C15.5575 17.1775 14.605 17.8188 13.51 18.2913C12.415 18.7638 11.245 19 10 19Z",fill:e}),t.jsx("path",{d:"M13.7155 7C13.8953 7 14.0623 7.03135 14.2164 7.09406C14.3706 7.15677 14.5076 7.24666 14.6275 7.36371C14.7474 7.48077 14.8373 7.61246 14.8972 7.75878C14.9572 7.9051 14.9914 8.07023 15 8.25418C15 8.4214 14.9679 8.58236 14.9037 8.73704C14.8394 8.89172 14.7474 9.02759 14.6275 9.14465L9.52794 14.13C9.40805 14.2471 9.26889 14.337 9.11047 14.3997C8.95204 14.4624 8.7872 14.4958 8.61593 14.5C8.44466 14.5 8.27981 14.4686 8.12139 14.4059C7.96296 14.3432 7.82381 14.2513 7.70392 14.13L5.37893 11.8599C5.25905 11.7429 5.16699 11.607 5.10276 11.4523C5.03854 11.2977 5.00428 11.1367 5 10.9695C5 10.7939 5.03425 10.6309 5.10276 10.4804C5.17127 10.3298 5.26333 10.1961 5.37893 10.079C5.49454 9.96196 5.62942 9.87416 5.78356 9.81564C5.9377 9.75711 6.10683 9.72366 6.29094 9.7153C6.46221 9.7153 6.62706 9.74666 6.78548 9.80936C6.94391 9.87207 7.08307 9.96196 7.20295 10.079L8.61593 11.4586L12.8035 7.36371C12.9234 7.24666 13.0625 7.15677 13.2209 7.09406C13.3794 7.03135 13.5442 7 13.7155 7Z",fill:"#172218"})]}),bce=({color:e="#5FE55C"})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.42462 4.42462C4.76684 4.08242 5.32167 4.08242 5.66389 4.42462L10.0013 8.76204L14.3387 4.42462C14.6809 4.08242 15.2357 4.08242 15.578 4.42462C15.9202 4.76684 15.9202 5.32167 15.578 5.66388L11.2405 10.0013L15.578 14.3386C15.9202 14.6809 15.9202 15.2357 15.578 15.578C15.2357 15.9202 14.6809 15.9202 14.3387 15.578L10.0013 11.2405L5.66389 15.578C5.32167 15.9202 4.76684 15.9202 4.42462 15.578C4.08242 15.2357 4.08242 14.6809 4.42462 14.3386L8.76205 10.0013L4.42462 5.66388C4.08242 5.32167 4.08242 4.76684 4.42462 4.42462Z",fill:e})}),yce=({toast:e,onRemove:n,position:s})=>{const[r,i]=d.useState(!0),a=()=>{switch(e.type){case Wa.SUCCESS:return t.jsx(gce,{});case Wa.ERROR:return null;default:return null}},o=()=>{switch(e.type){case Wa.SUCCESS:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"};case Wa.ERROR:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 128, 128, 0.15) 0%, rgba(255, 128, 128, 0.08) 100%)",backdropFilter:"blur(25px)"};default:return{background:"radial-gradient(50% 50% at 50% 50%, rgba(95, 229, 92, 0.15) 0%, rgba(95, 229, 92, 0.08) 100%)",backdropFilter:"blur(25px)"}}},l=()=>{switch(e.type){case Wa.SUCCESS:return"#5FE55C";case Wa.ERROR:return"#FF8080";default:return"#5FE55C"}},c=()=>{switch(e.type){case Wa.SUCCESS:return"0 0 20px rgba(95, 229, 92, 0.20)";case Wa.ERROR:return"0 0 20px rgba(239, 68, 68, 0.20)";default:return"0 0 20px rgba(95, 229, 92, 0.20)"}},u=()=>{const f="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-80 duration-300";switch(s){case ha.TOP_LEFT:case ha.BOTTOM_LEFT:return`${f} data-[state=open]:slide-in-from-left-full data-[state=closed]:slide-out-to-left-full data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]`;case ha.TOP_RIGHT:case ha.BOTTOM_RIGHT:return`${f} data-[state=open]:slide-in-from-right-full data-[state=closed]:slide-out-to-right-full data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)]`;case ha.TOP_CENTER:return`${f} data-[state=open]:slide-in-from-top-full data-[state=closed]:slide-out-to-top-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`;case ha.BOTTOM_CENTER:return`${f} data-[state=open]:slide-in-from-bottom-full data-[state=closed]:slide-out-to-bottom-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`;default:return`${f} data-[state=open]:slide-in-from-bottom-full data-[state=closed]:slide-out-to-bottom-full data-[swipe=end]:translate-y-[var(--radix-toast-swipe-end-y)]`}},p=f=>{i(f),f||setTimeout(()=>n(e.id),300)};return t.jsxs(fv,{open:r,onOpenChange:p,duration:Math.min(e.duration||2e3,2e3),className:`flex items-center p-4 rounded-xl min-w-fit pointer-events-auto ${u()}`,style:o(),children:[a(),t.jsx(mv,{className:"ml-2 text-[16px] flex-1 font-medium leading-5 whitespace-pre-line break-words",style:{color:l(),textShadow:c(),fontFamily:'Brockmann, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",fontWeight:"500",lineHeight:"20px",letterSpacing:"-0.2px"},children:e.message}),t.jsx(hv,{title:"Close","aria-label":"Close",className:"flex-shrink-0 ml-6 transition-opacity cursor-pointer pointer-events-auto opacity-60 hover:opacity-80",children:t.jsx(bce,{color:l()})})]})},vce=e=>{const n="fixed z-[99999] flex flex-col gap-3 outline-none max-md:left-2 max-md:right-2";switch(e){case ha.TOP_LEFT:return`${n} top-4 left-4 max-md:w-auto`;case ha.TOP_CENTER:return`${n} top-4 left-1/2 -translate-x-1/2 max-md:transform-none max-md:translate-x-0`;case ha.TOP_RIGHT:return`${n} top-4 right-4`;case ha.BOTTOM_LEFT:return`${n} bottom-4 left-4 flex-col-reverse max-md:w-auto`;case ha.BOTTOM_CENTER:return`${n} bottom-4 left-1/2 -translate-x-1/2 flex-col-reverse max-md:transform-none max-md:translate-x-0`;case ha.BOTTOM_RIGHT:return`${n} bottom-4 right-4 flex-col-reverse`;default:return`${n} bottom-4 left-1/2 -translate-x-1/2 flex-col-reverse max-md:transform-none max-md:translate-x-0`}},wce=e=>e.startsWith("top")?"up":"down",Cce=({toasts:e,removeToast:n,position:s})=>t.jsxs(wT,{swipeDirection:wce(s),duration:2e3,children:[e.map(r=>t.jsx(yce,{toast:r,onRemove:n,position:s},r.id)),t.jsx(pv,{className:vce(s)})]}),_ce=({children:e})=>{const[n,s]=d.useState([]),[r,i]=d.useState(ha.BOTTOM_CENTER),a=(p,f=Wa.SUCCESS,m=2e3,h)=>{const x=Date.now()+Math.random(),y=Math.min(m,2e3),v={id:x,message:p,type:f,duration:y,uniqueId:h};return s(g=>{if(h){const b=g.findIndex(w=>w.uniqueId===h);if(b!==-1){const w=[...g];return w[b]=v,w}}return[...g,v]}),x},o=p=>{s(f=>f.filter(m=>m.id!==p))},u={addToast:a,removeToast:o,removeAllToasts:()=>{s([])},toasts:n,position:r,changePosition:p=>{i(p)}};return t.jsxs(iP.Provider,{value:u,children:[e,t.jsx(Cce,{toasts:n,removeToast:o,position:r})]})},Fa=()=>{const e=d.useContext(iP);if(!e)throw new Error("useNewToast must be used within a ToastProvider");const{addToast:n,removeToast:s,removeAllToasts:r,changePosition:i}=e;return{newToast:{success:(a,o,l)=>n(a,Wa.SUCCESS,o,l),error:(a,o,l)=>n(a,Wa.ERROR,o,l),info:(a,o,l)=>n(a,Wa.INFO,o,l)},removeToast:s,removeAllToasts:r,changePosition:i}};function aP(e){if(!e||typeof e!="object")return!1;const n=e;return!(!("modals"in n)||!Array.isArray(n.modals))}function oP(e,n){if(!e||typeof e!="object")return!1;const s=e;if(typeof s.id!="string"||typeof s.key!="string"||s.type!=="promotional"||typeof s.shouldBeVisible!="boolean")return!1;if(s.background){const r=s.background;if(typeof r.desktop!="string"||r.mobile!==void 0&&typeof r.mobile!="string")return!1}if(s.cta)if(Array.isArray(s.cta)){for(const r of s.cta)if(!r||typeof r!="object"||!r.action)return!1}else if(typeof s.cta=="object"){if(!s.cta.action)return!1}else return!1;if(s.animations){const r=s.animations;if(r.entry&&!["fade","scale","slide-up","slide-down","none"].includes(r.entry))return!1}return!0}function p8(e=!0){const{tier:n,loading:s}=cs(),{user:r}=xs(),{data:i}=Ri(void 0,{skip:!r}),[a,o]=d.useState(null);return d.useEffect(()=>{if(!rn||s)return;const l=rn.onFeatureFlags(()=>{if(!rn.getFeatureFlag("promotional_modals")){o(null);return}if(i?.country_code==="IN"&&i?.payment_provider==="stripe"){o(null);return}const u=rn.getFeatureFlagPayload("promotional_modals");if(!u){o(null);return}try{let p;if(typeof u=="string"?p=JSON.parse(u):p=u,!aP(p))return;const f=p,m=[];if(f.modals.forEach(x=>{if(!(!x||!oP(x,x.id))&&x.shouldBeVisible&&!(x.targeting?.countries&&x.targeting.countries.length>0&&(!i?.country_code||!x.targeting.countries.includes(i.country_code)))&&!(x.targeting?.notAllowedCountries&&x.targeting.notAllowedCountries.length>0&&i?.country_code&&x.targeting.notAllowedCountries.includes(i.country_code))&&!(x.targeting?.tiers&&x.targeting.tiers.length>0&&!x.targeting.tiers.includes(n))&&!(e&&x.targeting?.showOnce&&x.key&&uK(x.key))){if(x.targeting?.startDate||x.targeting?.endDate){const y=new Date;if(x.targeting.startDate&&new Date(x.targeting.startDate)>y||x.targeting.endDate&&new Date(x.targeting.endDate)<y)return}m.push(x)}}),m.length===0){o(null);return}const h=m[0];o(x=>x?.id===h.id?x:h)}catch{o(null)}});return()=>{l&&l()}},[rn,n,s,i?.country_code,i?.payment_provider,e]),d.useMemo(()=>a,[a?.id])}function jce(){const{tier:e,loading:n}=cs(),{user:s}=xs(),{data:r}=Ri(void 0,{skip:!s}),[i,a]=d.useState(new Map);return d.useEffect(()=>{n||t2(()=>{if(!rn.getFeatureFlag("promotional_modals")){a(new Map);return}if(r?.country_code==="IN"&&r?.payment_provider==="stripe"){a(new Map);return}const l=rn.getFeatureFlagPayload("promotional_modals");if(!l){a(new Map);return}try{let c;if(typeof l=="string"?c=JSON.parse(l):c=l,!aP(c))return;const u=new Map;c.modals.forEach(p=>{!p||!oP(p,p.id)||p.shouldBeVisible&&p.key&&u.set(p.key,p)}),a(u)}catch{a(new Map)}})},[e,n,r?.country_code,r?.payment_provider]),i}function f8(){const e=p8(!1);return d.useMemo(()=>!e||!e.banner||!e.banner.show?null:{config:e.banner,showPromoCode:e.showPromoCode!==!1},[e?.id,e?.banner?.show,e?.showPromoCode])}function Nce(){const e=p8(!1);return d.useMemo(()=>!e||!e.creditsBanner||!e.creditsBanner.show?null:{config:e.creditsBanner,showPromoCode:e.showPromoCode!==!1},[e?.id,e?.creditsBanner?.show,e?.showPromoCode])}const Sl=({width:e=40,height:n=40,className:s="",onClick:r,role:i="button",tabIndex:a=0,...o})=>{const l=c=>{r&&(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),r())};return t.jsxs("svg",{width:e,height:n,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,onClick:r,onKeyDown:l,role:r?i:void 0,tabIndex:r?a:void 0,style:{cursor:"pointer",outline:"none"},...o,children:[t.jsx("rect",{width:"40",height:"40",rx:"10",fill:"white",fillOpacity:"0.06"}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.308 13.308C13.7186 12.8973 14.3844 12.8973 14.7951 13.308L20 18.5129L25.2048 13.308C25.6156 12.8973 26.2813 12.8973 26.692 13.308C27.1027 13.7186 27.1027 14.3844 26.692 14.7951L21.4871 20L26.692 25.2048C27.1027 25.6156 27.1027 26.2813 26.692 26.692C26.2813 27.1026 25.6156 27.1026 25.2048 26.692L20 21.4871L14.7951 26.692C14.3844 27.1026 13.7186 27.1026 13.308 26.692C12.8973 26.2813 12.8973 25.6156 13.308 25.2048L18.5129 20L13.308 14.7951C12.8973 14.3844 12.8973 13.7186 13.308 13.308Z",fill:"currentColor"})]})},lP=({totalSteps:e,currentStep:n,onStepClick:s,className:r="",activeColor:i="#80FFF9",inactiveColor:a="#333333",completedColor:o="#80FFF9",stepWidth:l,stepHeight:c})=>{const u=l??48,p=l??16;return t.jsx("div",{className:`flex items-center gap-2 ${r}`,children:Array.from({length:e},(f,m)=>t.jsx(xe.button,{type:"button",onClick:()=>s?.(m),className:"relative rounded-full overflow-hidden",animate:{width:m===n?u:p,height:c??8,backgroundColor:m===n?i:a},transition:{duration:.3,ease:"easeInOut"},"aria-label":`Step ${m+1}`,disabled:!s,children:m===n&&t.jsx(xe.div,{className:"absolute inset-0 origin-left rounded-full",style:{backgroundColor:i},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,ease:"easeOut"}})},m))})},Fce=[{id:"coding_familiarity",question:"How familiar are you with code?",options:["No experience","Tried AI tools","Can understand code","Can write code"]},{id:"use_case",question:"What do you want to use Emergent for?",options:["Personal project","Startup idea","Internal tool","Build for clients","Learn/explore"]},{id:"build_type",question:"What do you want to build or create?",options:["Web app","Mobile app","Landing page","Internal tool","Not sure yet"]}];function Ece(){const{data:e,isLoading:n,error:s}=a9("first_subscription");return d.useEffect(()=>{s&&Fn(mD.ONBOARDING_FETCH,s)},[s]),{questions:d.useMemo(()=>n?[]:e?.form?.questions&&Array.isArray(e.form.questions)?e.form.questions.map((i,a)=>({id:`question_${a+1}`,question:i.question,options:i.options})):[...Fce],[e,s]),isLoading:n,error:s,formName:e?.form?.form_name,offer:e?.offer}}const Sce=W.icons.landingLight;function kce({isOpen:e,onClose:n,onOpenChange:s,tier:r}){const[i,a]=d.useState(0),[o,l]=d.useState({}),{isMobile:c}=ps(),{questions:u,isLoading:p}=Ece(),[f,{isLoading:m}]=PQ(),h=c?W.landingPage.landingBgMobile:W.landingPage.landingBg,x=u[i],v=!u.every(N=>o[N.id])||m,g=d.useCallback(ng(()=>{a(N=>N<u.length-1?N+1:N)},300),[u.length]),b=N=>{l(j=>({...j,[x.id]:N})),g()},w=N=>{s?.(!1);const j=N==="submit",_=u.map(C=>o[C.id]||"");f({answers:_,source:r==="top-up"?"topup":"subscription"}),z(j?es.ONBOARDING_SURVEY_EVENTS.SUBMITTED:es.ONBOARDING_SURVEY_EVENTS.CLOSED,{tier:r,answers:_,current_step:i,submitted_via:j?"submit_button":"close_button"}),n()};return t.jsx(zn,{open:e,children:t.jsx(Us,{children:t.jsx(dr,{className:"z-[10000] w-full h-full rounded-none overflow-y-auto bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${h})`},children:t.jsxs("div",{className:"relative flex flex-col justify-center min-h-full h-max px-6 py-8",children:[t.jsx(xe.div,{className:"absolute inset-0 pointer-events-none transform -scale-x-100 mix-blend-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${Sce})`},initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),p?t.jsx("div",{className:"flex items-center justify-center w-full min-h-[400px]",children:t.jsx(xo,{size:"32",speed:"1.75",color:"#80FFF9"})}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>w("close"),className:"absolute max-sm:top-4 top-8 max-sm:right-4 right-8 text-gray-400 hover:text-white focus:text-white transition-colors z-10 outline-none","aria-label":"Close modal",children:t.jsx(Sl,{className:"w-8 h-8 rounded-full outline-none"})}),t.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-10 md:gap-12 w-full my-auto shrink-0",children:[t.jsxs("div",{className:"flex flex-col items-center gap-6 text-center",children:[t.jsxs("h1",{className:"text-4xl font-medium tracking-[-0.36px] [text-shadow:0_0_60px_rgba(69,229,187,0.4)]",children:[r!=="top-up"?"Welcome to":"Help us match"," ",t.jsx("br",{}),t.jsx("span",{className:"bg-gradient-to-b from-[#00FF66] to-[#62ECFE] bg-clip-text text-transparent",children:r!=="top-up"?`Emergent ${r.charAt(0).toUpperCase()+r.slice(1)} Plan`:"Emergent to your goals"})]}),t.jsx("p",{className:"text-white/60 text-lg font-medium",children:"Tell us a bit about yourself so we can help you ship faster."})]}),t.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[560px] p-6 pb-0 bg-white/5 rounded-3xl backdrop-blur-sm border border-[#242424]",children:[t.jsx("h3",{className:"text-white text-xl font-semibold leading-8 tracking-[-0.36px] mb-2",children:x?.question}),t.jsx("div",{className:"flex flex-wrap gap-4",children:x?.options.map(N=>t.jsx("button",{type:"button",onClick:()=>b(N),className:`max-w-max px-[19px] py-[5px] rounded-full text-base font-medium transition-all duration-200 border ${o[x.id]===N?"bg-[#80FFF91A] text-[#80FFF9] border-[#80FFF93D]":"bg-white/5 hover:bg-white/10 text-white/80 border-transparent"}`,children:N},N))}),t.jsx(lP,{totalSteps:u.length,currentStep:i,activeColor:"#80FFF9CC",inactiveColor:"#333333",stepWidth:40,stepHeight:4,className:"p-6 pb-4 justify-center"})]}),t.jsx("div",{className:"p-[5px] max-sm:w-full rounded-full border-2 border-white/10",children:t.jsxs("button",{type:"button",onClick:()=>w("submit"),disabled:v,className:`flex justify-center px-12 py-3 gap-2 max-sm:w-full bg-white rounded-full text-base font-semibold tracking-[-0.32px] transition-colors duration-200 items-center text-black [box-shadow:0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),_0_-1.455px_0_0_rgba(0,0,0,0.20)_inset,_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40)_inset,_0_0_20px_0_rgba(255,255,255,0.40)] ${v?"opacity-40 cursor-not-allowed":"cursor-pointer"}`,children:["Start using Emergent",t.jsx(Jo,{size:22,strokeWidth:2.5})]})})]})]})]})})})})}const Tce=3e4,Ice=3e3;function Ace({paymentId:e,initialStatus:n,organizationId:s,enabled:r=!0}){const[i,a]=d.useState(null),[o,l]=d.useState(!1),c=d.useRef(null),u=d.useMemo(()=>r&&(n==="success"||n==="pending"),[r,n]),{data:p,error:f,isLoading:m,isFetching:h}=aQ({paymentId:e},{skip:!u,pollingInterval:u&&!o?Ice:0,refetchOnMountOrArgChange:!0});d.useEffect(()=>{if(!u||o)return;if(c.current===null&&(c.current=Date.now()),p?.status==="success"||p?.status==="failed"||p?.status==="cancelled"){c.current=null;return}const v=setInterval(()=>{if(c.current===null)return;Date.now()-c.current>=Tce&&(l(!0),clearInterval(v))},1e3);return()=>{clearInterval(v)}},[u,p?.status,o]),d.useEffect(()=>{l(!1),c.current=null},[e]);const x=d.useMemo(()=>{if(n==="cancelled"||n==="failed"||n==="expired")return"error";if(!u)return n==="success"?"loading":"error";if(o){if(f)return"error";if(p)switch(p.status){case"success":return"success";case"failed":case"cancelled":return"error";default:return"pending"}return"pending"}if(m&&!p)return"loading";if(f)return"error";if(p)switch(p.status){case"success":return"success";case"pending":return"loading";case"failed":case"cancelled":return"error";default:return"loading"}return"loading"},[n,u,m,p,f,o]);d.useEffect(()=>{n==="cancelled"?a("Payment was cancelled."):n==="failed"?a("Payment failed to process."):n==="expired"?a("Checkout session expired. Please try again."):f?a("Failed to verify payment status. Please contact support."):p?.error?a(p.error):p?.status==="failed"?a(p.message||"Payment verification failed."):a(null)},[n,f,p]);const y=d.useMemo(()=>p?{status:p.status,message:p.message,plan_name:p.plan_name,error:p.error,ecu_amount:p.ecu_amount,amount:p.amount,currency:p.currency,show_subscription_form:p.show_subscription_form,show_topup_form:p.show_topup_form}:null,[p]);return{status:x,data:y,error:i,isPolling:h&&u}}const cP="payment_tracked_";function to(e,n){return n?.enabled===!1?!1:n?.providers?n.providers.includes(e):!0}function Dce(e,n){return!!e}function Mce(e){const n=`${cP}${e}`;return sessionStorage.getItem(n)==="1"}function Lce(e){const n=`${cP}${e}`;sessionStorage.setItem(n,"1")}function Rce({status:e,paymentType:n,paymentId:s,data:r,organizationId:i,planName:a,isTeamPayment:o=!1,userId:l,tier:c,tracking:u}){const{user:p}=xs(),{tier:f,currentSubscriptionDetail:m}=cs(),h=l||p?.id,x=c||f,y=d.useRef(!1);d.useEffect(()=>{if(e!=="success"||Mce(s)||y.current||u?.enabled===!1||(Dce(r)||Fn(dp.INCOMPLETE_TRACKING_DATA,null,{paymentId:s,paymentType:n,hasData:!!r}),!h))return;let v=!0;const g=async()=>{if(v)try{n==="subscription"?await b():n==="topup"?await w():n==="gift"&&N(),Lce(s),y.current=!0}catch(j){Fn(dp.TRACKING_ERROR,j,{paymentId:s,paymentType:n})}},b=async()=>{const j=r?.ecu_amount||m?.ecu_credits||0,_=r?.amount||m?.amount||0,C=r?.currency||"USD",F=a||r?.plan_name||"Unknown";if(to("posthog",u)&&z(Tn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i,planName:F,monthlyCredits:j,isTeamSubscription:o,source:"unified_modal"}),to("gtm",u)&&nX({userId:h,planName:F,tierName:x||"free",credits:j,isOrganization:o,organizationId:i||void 0,paymentId:s,amount:_,currency:C}),to("meta",u)){let E=id("subscription",s);E||(E=id("subscription")),E&&(Gx(E,s,_,C),s0("subscription",s),s0("subscription"))}if(to("tiktok",u)){let E=id("subscription",s);E||(E=id("subscription")),E&&Ox(E,s,_,C)}if(to("cj",u)){const E=o_(s);if(E){const S=r?.amount||E.amount,M=r?.currency||E.currency;c_(h,s,S,M,E.category),l_(s)}}},w=async()=>{const j=r?.ecu_amount||0,_=r?.amount||0,C=r?.currency||"USD";if(to("posthog",u)&&z(Tn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i,creditAmount:j,paymentType:"credit_topup"}),to("gtm",u)&&tX(h,j,_,C),to("meta",u)){let F=id("credits",s);F||(F=id("credits")),F&&(Wx(F,s,_,C),s0("credits",s),s0("credits"))}if(to("cj",u)){const F=o_(s);if(F){const E=r?.amount||F.amount,S=r?.currency||F.currency;c_(h,s,E,S,F.category),l_(s)}}},N=()=>{to("posthog",u)&&z(Tn.GIFT_EVENTS.PAYMENT_SUCCESS,{paymentId:s,organizationId:i})};return g(),()=>{v=!1}},[e,n,s,r,i,a,o,h,x,u,m]),d.useEffect(()=>{e==="error"&&u?.enabled!==!1&&to("posthog",u)&&(n==="subscription"?z(Tn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i,planName:a,isTeamSubscription:o,source:"unified_modal"}):n==="topup"?z(Tn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i,paymentType:"credit_topup"}):n==="gift"&&z(Tn.GIFT_EVENTS.PAYMENT_FAILED,{paymentId:s,organizationId:i}))},[e,n,s,i,a,o,u])}function Pce({paymentType:e,isTeamPayment:n=!1,planName:s}){const{t:r}=Jt("billing"),i=()=>r(e==="subscription"?n?"credits.paymentResultModal.loading.processingTeamSubscription":"credits.paymentResultModal.loading.processingSubscription":e==="topup"?"credits.paymentResultModal.loading.processingPayment":e==="gift"?"credits.paymentResultModal.loading.processingGiftPayment":"credits.paymentResultModal.loading.processingPayment"),a=()=>r(e==="subscription"?n?"credits.paymentResultModal.loading.verifyingTeamSubscription":"credits.paymentResultModal.loading.verifyingSubscription":"credits.paymentResultModal.loading.verifyingPayment");return t.jsxs("div",{className:"flex flex-col items-center min-h-[200px] md:h-[250px] justify-center gap-4 md:gap-6 font-['Brockmann'] w-full",children:[t.jsx("div",{className:"relative",children:t.jsx(xo,{size:"32",speed:"1.75",color:"#80FFF9"})}),t.jsxs("div",{className:"flex flex-col items-center w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-center",children:i()}),t.jsx("span",{className:"font-['Brockmann'] md:mt-2 font-medium text-normal text-[#737780] text-center",children:a()})]})]})}const v2=({children:e,onClick:n,variant:s="dark",size:r="md",glowing:i=!1,animated:a=!1,elevationEffect:o=!1,fullWidthOnMobile:l=!1,className:c="",disabled:u,type:p="button",...f})=>{const[m,h]=d.useState(!1),[x,y]=d.useState(.15);d.useEffect(()=>{if(!i||!a)return;const j=setInterval(()=>{y(_=>{const C=_+(Math.random()*.05-.025);return Math.max(.1,Math.min(.3,C))})},100);return()=>clearInterval(j)},[i,a]);const v={sm:"py-2 px-6 text-sm",md:"py-4 px-14 text-base",lg:"py-5 px-16 text-lg"},g={dark:"border-2 border-black rounded-full text-white bg-[#1A1A1A] hover:bg-[#1D1D1D]",light:"border-2 border-black rounded-full text-black bg-white hover:bg-gray-100"},b=i?{position:"relative",zIndex:0}:{},w=o?`transform transition-all duration-800 hover:-translate-y-2 
       hover:shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.15),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]
       shadow-[0px_19px_41px_0px_hsla(0,0%,100%,0.1),0px_75px_75px_0px_hsla(0,0%,100%,0.1),0px_169px_101px_0px_hsla(0,0%,100%,0.1),0px_300px_120px_0px_hsla(0,0%,100%,0.03),0px_469px_131px_0px_hsla(0,0%,100%,0)]`:"",N=o?{transition:"all 800ms cubic-bezier(0.34, 1.56, 0.64, 1)"}:{};return t.jsxs("div",{className:`relative inline-block w-full ${l?"":"max-md:w-[85%]"}`,children:[i&&t.jsx("div",{className:`absolute inset-0 rounded-full blur-xl transition-opacity ${a?"duration-500":""}`,style:{background:s==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(26, 26, 26, 0.2)",opacity:m?x*2:x,transform:"scale(1.2)",zIndex:-1}}),t.jsx("button",{type:p,disabled:u,onClick:n,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),className:`relative justify-center font-semibold leading-6 tracking-wide flex items-center gap-3 ${v[r]} ${g[s]} ${w} ${c} before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10 disabled:bg-[#999999] disabled:cursor-not-allowed max-md:h-[40px]`,style:{...b,...N},...f,children:e})]})},Oce=W.common.subscriptionSuccess,Bce=W.common.newCoin,Uce=W.common.rightArrow;function Vce({paymentType:e,planName:n,credits:s,isTeamPayment:r=!1,organizationName:i,wasPromotionalSetup:a=!1,onContinue:o,onInviteTeam:l}){const{t:c}=Jt("billing"),u=()=>e==="topup"?t.jsx("img",{src:Bce,alt:"Coin",className:"w-12 h-12 md:w-16 md:h-16"}):t.jsx("img",{src:Oce,alt:"Success",className:"w-12 h-12 md:w-16 md:h-16"}),p=()=>{if(e==="topup")return c("credits.paymentResultModal.success.youHaveReceived");if(e==="gift")return c("credits.paymentResultModal.success.giftPaymentSuccessful");if(a)return c("credits.paymentResultModal.success.freeMonthUnlocked");const x=i||(r?"Team":""),y=n||"Subscription";return r&&x?c("credits.paymentResultModal.success.teamActivated",{team:x,plan:y}):c("credits.paymentResultModal.success.activated",{plan:y})},f=()=>{if(e==="topup")return null;if(e==="gift")return c("credits.paymentResultModal.success.giftSentSuccessfully");if(a&&s)return c("credits.paymentResultModal.success.creditsAddedToAccount",{credits:s});if(s){if(r){const x=i||"Your team";return t.jsx($w,{i18nKey:"credits.paymentResultModal.success.teamCreditsAccess",ns:"billing",values:{teamName:x,credits:s},components:{1:t.jsx("span",{className:"text-white"})}})}return t.jsx($w,{i18nKey:"credits.paymentResultModal.success.creditsAccess",ns:"billing",values:{credits:s},components:{1:t.jsx("span",{className:"text-white"})}})}return n?c("credits.paymentResultModal.success.subscriptionActiveWithPlan",{plan:n}):c("credits.paymentResultModal.success.subscriptionActive")},m=()=>c(e==="topup"?"credits.paymentResultModal.success.continueBuilding":r&&l?"credits.paymentResultModal.success.keepBuilding":a?"credits.paymentResultModal.success.startVibing":"credits.paymentResultModal.success.keepVibing"),h=()=>{r&&l?l():o()};return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full",children:[t.jsx(u8,{height:"70%",top:"50%",gridSizeX:50,gridSizeY:30,gridLineWidth:.3,gridOpacity:.25,animate:!0,showFade:!1,backgroundColor:"transparent",rotationX:60,perspectiveValue:500}),u(),t.jsx("div",{className:"flex flex-col items-center w-full gap-2 px-4 mb-2",children:e==="topup"?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-[18px] md:text-[32px] md:leading-[36px] font-medium text-white text-center",children:p()}),t.jsx("span",{className:"text-center text-[28px] md:text-[32px] md:leading-[36px] font-medium text-[#F3CA5F]",children:c("credits.paymentResultModal.success.addOnCredits",{credits:s})}),t.jsx("span",{className:"font-['Inter'] mt-2 font-medium text-normal text-[#737780] text-center",children:c("credits.paymentResultModal.success.topUpComplete")})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-[#F3CA5F] drop-shadow-[0px_0px_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]",children:p()}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:f()})]})}),t.jsx("div",{className:"flex flex-col items-center justify-center w-full gap-3",children:t.jsx(xe.div,{className:"flex justify-center w-full",whileHover:{y:-3},transition:{duration:.2,ease:"easeOut"},children:t.jsx(v2,{onClick:h,variant:"light",className:"w-full !h-[55px] md:h-[55px] !max-w-[260px] md:max-w-[260px] mx-auto text-center flex rounded-[30px] p-2 gap-2 bg-white drop-shadow-[0px_0px_20px_rgba(255,255,255,0.4)] [box-shadow:inset_0px_2.18px_3.64px_1.45px_rgba(255,255,255,0.4)]",type:"button",children:t.jsxs("span",{className:"px-4 py-3 font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.02em] text-[#0E0E0F] whitespace-nowrap flex items-center gap-2",children:[m(),e==="subscription"&&t.jsx("img",{src:Uce,alt:"Arrow",className:"w-6 h-6"})]})})})})]})}function Hce({paymentType:e,isTeamPayment:n=!1,onContinue:s}){const{t:r}=Jt("billing"),i=()=>r(e==="subscription"?n?"credits.paymentResultModal.pending.teamSubscriptionPending":"credits.paymentResultModal.pending.subscriptionPending":"credits.paymentResultModal.pending.paymentPending"),a=()=>r(e==="subscription"?n?"credits.paymentResultModal.pending.teamSubscriptionProcessing":"credits.paymentResultModal.pending.subscriptionProcessing":"credits.paymentResultModal.pending.paymentProcessing");return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full max-w-full",children:[t.jsx(jr,{color:"#F3CA5F",className:"w-12 h-12 md:w-16 md:h-16"}),t.jsxs("div",{className:"flex flex-col items-center max-w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:i()}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:a()})]}),t.jsx(v2,{onClick:s,variant:"light",className:"w-full h-[45px] md:h-full max-w-[200px] text-nowrap md:max-w-[250px] mx-auto",type:"button",children:r("credits.paymentResultModal.pending.continue")})]})}const $ce=W.icons.paymentFailed;function zce({errorMessage:e,isCancelled:n=!1,onClose:s,onRetry:r}){const{t:i}=Jt("billing"),a=i(n?"credits.paymentResultModal.error.paymentCancelled":"credits.paymentResultModal.error.paymentFailed"),o=()=>n?t.jsx(t.Fragment,{children:i("credits.paymentResultModal.error.cancelledMessage")}):i("credits.paymentResultModal.error.failedMessage"),l=()=>i(n&&r?"credits.paymentResultModal.error.retryPayment":"credits.paymentResultModal.error.close"),c=()=>{n&&r?r():s()};return t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6 font-['Brockmann'] w-full max-w-full",children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:$ce,alt:"Failed",className:"w-12 h-12 md:w-16 md:h-16"})}),t.jsxs("div",{className:"flex flex-col items-center max-w-full gap-2 px-4 mb-2",children:[t.jsx("p",{className:"font-['Brockmann'] font-medium text-[24px] md:text-[32px] leading-[32px] md:leading-[40px] tracking-[-0.02em] text-center text-white",children:a}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[24px] tracking-normal text-center text-[#666666]",children:e||o()})]}),t.jsx(v2,{onClick:c,variant:"light",className:"w-full h-[45px] md:h-full max-w-[200px] text-nowrap md:max-w-[250px] mx-auto",type:"button",children:l()})]})}function w2({isOpen:e,onOpenChange:n,paymentId:s,initialStatus:r,paymentType:i,organizationId:a,planName:o,onSuccess:l,onError:c,onClose:u,onSurveyNeeded:p,onInviteTeam:f,onGiftSuccess:m,navigationStrategy:h="workspace",tracking:x,renderSuccess:y}){const v=Na(),g=Xi(),{refreshCredits:b,tier:w,currentSubscriptionDetail:N,loading:j}=cs(),{switchWorkspace:_}=ys(),{data:C,isLoading:F}=Ri(void 0,{skip:!a}),E=a?C?.organizations?.find(be=>be.organization_id===a):null,S=!!a,M=S&&F,k=Ete(),[I,D]=d.useState(!1),[P,R]=d.useState(()=>O_()),[B,U]=d.useState(()=>B_());d.useEffect(()=>{if(e){const be=O_(),Ue=B_();R(be),U(Ue)}},[e]);const{status:H,data:$,error:q,isPolling:Q}=Ace({paymentId:s,initialStatus:r,organizationId:a,enabled:e});Rce({status:H,paymentType:i,paymentId:s,data:$,organizationId:a,planName:o,isTeamPayment:S,tier:w,tracking:x}),d.useEffect(()=>{e&&r==="cancelled"&&z(i==="subscription"?Tn.MODAL_EVENTS.SUBSCRIPTION_PAYMENT_RESULT_MODAL_EVENTS.PAYMENT_CANCELLED:Tn.CREDIT_EVENTS.PAYMENT_STATUS_MODAL_EVENTS.PAYMENT_CANCELLED,{paymentId:s,organizationId:a,isTeamPayment:S,source:"unified_modal"})},[e,r,s,a,S,i]);const V=d.useMemo(()=>{if(j)return null;const be=N?.ecu_credits||0,Ue=$?.plan_name?.toLowerCase()||"";return $?.plan_name?Ue.includes("pro")?{name:"Emergent Pro",credits:be||750}:Ue.includes("standard")?{name:"Standard Tier",credits:Sd(be||100,P,B||void 0)}:Ue.includes("starter")?{name:"Starter Tier",credits:be||50}:{name:"Teams Subscription",credits:be||1250}:null},[j,N,$,P,B]),ee=d.useMemo(()=>i==="topup"?"top-up":V?V.name.replace("Emergent ","").replace(" Tier","").replace(" Subscription",""):"",[V,i]),X=d.useMemo(()=>H!=="success"||!fee()||S||k?!1:i==="topup"?!!$?.show_topup_form:!!$?.show_subscription_form&&!!ee,[H,S,k,i,$?.show_topup_form,$?.show_subscription_form,ee]);d.useEffect(()=>{if(H==="success"&&$?.status==="success"){const be=setTimeout(async()=>{try{g(up.util.invalidateTags(["SubscriptionPlans","Credits",{type:"SubscriptionStatus",id:s},"GitHubUserDetails"])),await b()}catch(Ue){Fn(dp.CREDITS_REFRESH_AFTER_PAYMENT,Ue,{payment_id:s,payment_type:i})}},1e3);return()=>clearTimeout(be)}},[H,$?.status,b,g,s,i]),d.useEffect(()=>{H==="success"&&$&&l&&l($)},[H,$,l]),d.useEffect(()=>{H==="error"&&q&&c&&c(q)},[H,q,c]),d.useEffect(()=>{H==="success"&&i==="gift"&&m&&(n(!1),m())},[H,i,m,n]);const ae=()=>{if(X&&!I){localStorage.removeItem("promoCouponCode"),localStorage.removeItem("promoCouponError"),p?(n(!1),p(ee)):D(!0);return}if(n(!1),U_(),V_(),H==="success"&&(localStorage.removeItem("promoCouponCode"),localStorage.removeItem("promoCouponError")),(H==="success"||H==="pending")&&(g(up.util.invalidateTags(["SubscriptionPlans","Credits",{type:"SubscriptionStatus",id:s},"GitHubUserDetails"])),b().catch(be=>{Fn(dp.CREDITS_REFRESH_ON_MODAL_CLOSE,be,{payment_id:s,payment_type:i})})),h==="none"){u?.();return}h==="workspace"&&a&&(H==="success"||H==="pending")?(_(a),v(`/workspace/${a}`)):h==="reload"&&window.location.reload(),u?.()},me=()=>{f?(f(),n(!1)):ae()},oe=()=>{D(!1),n(!1),U_(),V_(),u?.()},pe=be=>{be||D(!1)},se=be=>{if(!(H==="loading"||Q)){if(!be){ae();return}n(be)}};if(I)return t.jsx(kce,{isOpen:!0,onClose:oe,onOpenChange:pe,tier:ee});const re=H==="loading"||H==="success"&&i==="subscription"&&!V||H==="success"&&M,ve=()=>{if(re)return t.jsx(Pce,{paymentType:i,isTeamPayment:S,planName:o});if(H==="success"){const be=$||{status:"success",ecu_amount:V?.credits,plan_name:V?.name||o},Ue=t.jsx(Vce,{paymentType:i,planName:V?.name||o||$?.plan_name,credits:$?.ecu_amount||V?.credits,isTeamPayment:S,organizationName:E?.organization_name,wasPromotionalSetup:k,onContinue:ae,onInviteTeam:S?me:void 0});return y?t.jsx(t.Fragment,{children:y(be,Ue)}):Ue}return H==="pending"?t.jsx(Hce,{paymentType:i,isTeamPayment:S,onContinue:ae}):t.jsx(zce,{errorMessage:q||void 0,isCancelled:r==="cancelled"||r==="expired",onClose:ae})},we=H!=="loading"&&!re;return t.jsx(zn,{open:e,onOpenChange:se,children:t.jsxs(Bm,{children:[t.jsx(Fp,{className:"fixed inset-0 z-[10000] bg-[#0e0e0f50] backdrop-blur-[5px]"}),t.jsxs(Ep,{className:"fixed left-1/2 top-1/2 z-[10001] -translate-x-1/2 -translate-y-1/2 overflow-hidden grid w-full max-w-[95%] md:max-w-[600px] bg-[#1C1C1F] text-white border border-[#2E2F34] rounded-2xl p-6 md:p-12 shadow-lg duration-200 focus:outline-none",onOpenAutoFocus:be=>be.preventDefault(),children:[we&&t.jsx("button",{type:"button",title:"Close",onClick:ae,className:"absolute top-4 right-4 md:top-6 md:right-6 text-gray-400 hover:text-white transition-colors",children:t.jsx(Sl,{width:32,height:32,className:"rounded-full md:w-8 md:h-8"})}),t.jsx("div",{className:"flex flex-col items-center justify-center py-6",children:ve()})]})]})})}function dP({isOpen:e,onClose:n,onConfirmCancel:s,planName:r="Standard",endDate:i="few days"}){return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(Us,{children:[t.jsx(Lp,{className:"z-[10000] bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs(dr,{className:"z-[10000] flex justify-between flex-col p-6  w-[min(600px,calc(100%-48px))] max-md:h-[280px] h-[240px] bg-[#1C1C1F] rounded-2xl overflow-hidden",children:[t.jsxs("div",{className:"flex max-md:mb-2 mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl max-md:text-xl font-medium leading-8 max-md:mb-2 mb-4 mr-2",children:"Are you sure you want to cancel?"}),t.jsxs("p",{className:"max-md:text-sm text-white/60 leading-6 font-medium font-inter",children:["Your ",r," subscription ends on ",t.jsx("span",{className:"whitespace-nowrap",children:i}),". After that, you'll lose access to all the exclusive features."]})]}),t.jsx("button",{type:"button",onClick:n,className:"flex text-gray-400 hover:text-white focus:text-white transition-colors outline-none","aria-label":"Close modal",children:t.jsx(Sl,{className:"w-8 h-8 rounded-full"})})]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-3 max-md:self-auto self-end",children:[t.jsx("button",{type:"button",onClick:n,className:"px-5 py-[10px] rounded-[10px] max-md:w-full bg-[#FFFFFF0A] hover:bg-[#FFFFFF1A] focus:bg-[#FFFFFF1A] outline-none text-white text-[15px] font-medium leading-5 tracking-[-0.2px] transition-colors duration-300 cursor-pointer",children:"Keep subscription"}),t.jsx("button",{type:"button",onClick:s,className:"px-5 py-[10px] rounded-[10px] max-md:w-full bg-[#CC5252] hover:bg-[#FF5252] focus:bg-[#FF5252] outline-none text-white text-[15px] font-semibold leading-5 tracking-[-0.2px] transition-colors duration-300 cursor-pointer",children:"Yes, Cancel subscription"})]})]})]})})}function uP({isOpen:e,onClose:n,onProceedToCancel:s,question:r,reasons:i}){const[a,o]=d.useState(""),[l,c]=d.useState(""),u=25,p=l.trim().length,f=p>0&&p<u,m="Help us learn from your experience",h=!a&&p<u,x=()=>{o(""),c("")},y=()=>{s(a,l),x()},v=()=>{x(),n()};return t.jsx(zn,{open:e,onOpenChange:v,children:t.jsxs(Us,{children:[t.jsx(Lp,{className:"z-[10000] bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs(dr,{className:"z-[10000] flex flex-col justify-center w-[min(600px,calc(100%-48px))] bg-[#1C1C1F] rounded-[20px] p-6",children:[t.jsx("button",{onClick:v,className:"absolute top-6 right-6 text-gray-400 hover:text-white focus:text-white transition-colors z-10 outline-none","aria-label":"Close modal",children:t.jsx(Sl,{className:"w-8 h-8 rounded-full outline-none"})}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-2xl font-medium leading-8 text-white mb-4",children:m}),t.jsx("p",{className:"text-white/60 font-inter leading-6",children:"We'd love for you to stay. Tell us what didn't work, and we'll improve it as quickly as we can."})]}),t.jsx("textarea",{value:l,onChange:g=>c(g.target.value),placeholder:"Tell us more",className:A("w-full h-[120px] bg-[#131314] border border-white/10 rounded-2xl p-4 text-[14px] text-white placeholder:text-white/30 outline-none flex-shrink-0 resize-none",f?"border-[#CC5252]/60 mb-2":"focus:border-white/20 mb-11")}),f&&t.jsxs("p",{className:"text-sm font-inter mb-4 text-[#CC5252]",children:["Please enter at least ",u," characters"]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-3 max-md:self-auto self-end flex-shrink-0",children:[t.jsx("button",{type:"button",onClick:v,className:"px-5 py-[10px] rounded-[10px] max-md:w-full bg-[#FFFFFF0A] hover:bg-[#FFFFFF1A] focus:bg-[#FFFFFF1A] text-white text-[15px] font-medium leading-5 tracking-[-0.2px] transition-colors duration-300 cursor-pointer outline-none",children:"Keep subscription"}),t.jsx("button",{type:"button",onClick:y,disabled:h,className:A("px-5 py-[10px] rounded-[10px] max-md:w-full text-[15px] font-semibold leading-5 tracking-[-0.2px] transition-colors duration-300 outline-none",h?"bg-[#CC5252]/50 text-white/40 cursor-not-allowed":"text-white bg-[#CC5252] hover:bg-[#FF5252] focus:bg-[#FF5252] cursor-pointer"),children:"Proceed to cancel"})]})]})]})})}const Wce=({size:e=24,className:n})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("g",{clipPath:"url(#clip0_4245_38878)",children:t.jsx("path",{d:"M10.9692 1.25732C12.6461 -0.419304 15.3657 -0.419302 17.0425 1.25732C18.0189 2.23378 18.4238 3.56387 18.2632 4.83545C19.5351 4.67437 20.8656 5.08142 21.8423 6.05811C23.5189 7.73499 23.5189 10.4535 21.8423 12.1304L13.4849 20.4888C13.368 20.6059 13.368 20.7955 13.4849 20.9126L15.0356 22.4644C15.387 22.8158 15.3871 23.3854 15.0356 23.7368C14.6842 24.0879 14.1146 24.088 13.7632 23.7368L12.2114 22.1851C11.3919 21.365 11.3917 20.0353 12.2114 19.2153L20.5698 10.8579C21.5435 9.88401 21.5436 8.30454 20.5698 7.33057C19.596 6.35675 18.0164 6.35684 17.0425 7.33057L9.63623 14.7368C9.28484 15.0882 8.71526 15.088 8.36377 14.7368C8.01231 14.3853 8.01231 13.8158 8.36377 13.4644L15.77 6.05811C16.7436 5.08418 16.7435 3.50472 15.77 2.53076C14.7962 1.55694 13.2166 1.55703 12.2427 2.53076L2.43604 12.3364C2.08456 12.6879 1.51504 12.6879 1.16357 12.3364C0.812144 11.985 0.812128 11.4154 1.16357 11.064L10.9692 1.25732ZM13.1636 3.86279C13.5149 3.51155 14.0846 3.5117 14.436 3.86279C14.7875 4.21427 14.7875 4.78476 14.436 5.13623L7.02979 12.5425C6.05651 13.5164 6.05603 15.096 7.02979 16.0698C8.0035 17.0435 9.58317 17.0431 10.5571 16.0698L17.9634 8.66357C18.3148 8.3121 18.8853 8.3121 19.2368 8.66357C19.5877 9.01505 19.588 9.58472 19.2368 9.93604L11.8296 17.3423C10.1527 19.0185 7.434 19.0189 5.75732 17.3423C4.0806 15.6654 4.08074 12.946 5.75732 11.269L13.1636 3.86279Z",fill:"url(#paint0_linear_4245_38878)"})}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_4245_38878",x1:"2.84238",y1:"-4.19942",x2:"18.8258",y2:"24.7904",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#FFF4DF"}),t.jsx("stop",{offset:"1",stopColor:"#F49B57"})]}),t.jsx("clipPath",{id:"clip0_4245_38878",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),Gce=W.modals.giftBG,qce=W.modals.giftBGMobile;function pP({isOpen:e,onClose:n,onClaimOffer:s,onCancelAnyway:r,message:i}){const{isMobile:a}=ps(),[o,l]=d.useState(!1),c=a?qce:Gce,u=i||"Stay subscribed and get 20 extra credits instantly";return d.useEffect(()=>{if(e){const p=new Image;p.src=c,p.onload=()=>l(!0),p.onerror=()=>l(!0)}else l(!1)},[e,c]),t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(Us,{children:[t.jsx(Lp,{className:"z-[10000] bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs(dr,{className:"z-[10000] flex items-center max-md:flex-col-reverse w-[min(736px,calc(100%-48px))] max-md:h-[372px] h-[272px] bg-[#1C1C1F] rounded-2xl overflow-hidden",children:[t.jsx("button",{type:"button",onClick:n,className:"absolute top-6 right-6 p-2 bg-black/30 hover:bg-transparent focus:bg-transparent outline-none rounded-full transition-colors duration-300 z-10","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{className:"flex flex-1 flex-col p-10 max-md:px-5 max-md:py-6 gap-6",children:[t.jsx(Wce,{size:44,className:"max-md:hidden p-[6px] bg-[#222224] rounded-full border-4 border-zinc-900"}),t.jsx("h2",{className:"font-semibold text-[26px] leading-8 bg-gradient-to-r from-[#FFF4DF] to-[#F49B57] bg-clip-text text-transparent max-w-80",children:u}),t.jsxs("div",{className:"flex gap-[10px]",children:[t.jsx("button",{type:"button",onClick:r,className:"px-5 py-[10px] rounded-[10px] max-md:w-full bg-[#FFFFFF0A] hover:bg-[#FFFFFF1A] focus:bg-[#FFFFFF1A] outline-none text-white text-[15px] font-medium leading-5 tracking-[-0.2px] transition-colors duration-300 cursor-pointer",children:"Cancel anyway"}),t.jsx("button",{type:"button",onClick:s,className:"px-5 py-[10px] rounded-[10px] max-md:w-full bg-white hover:opacity-90 focus:opacity-90 outline-none text-black text-[15px] font-semibold leading-5 tracking-[-0.2px] transition-opacity duration-200 cursor-pointer",children:"Claim offer"})]})]}),t.jsx("img",{src:c,alt:"",className:"w-[275px] h-[272px] max-md:w-full max-md:h-auto bg-gradient-to-r from-[#FFF4DF] to-[#F49B57]"})]})]})})}const fP=({size:e=24,color:n="#4D4D4D",className:s="",...r})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:[t.jsx("path",{d:"M2.5 3.875V10C2.5 16.125 10 18.75 10 18.75C10 18.75 17.5 16.125 17.5 10V3.875L10 1.25L2.5 3.875Z",stroke:"white",strokeOpacity:"0.25",strokeWidth:"1.66667",strokeLinecap:"square"}),t.jsx("path",{d:"M6.81152 9.31062L9.16736 11.6673L13.8815 6.95312",stroke:"white",strokeOpacity:"0.25",strokeWidth:"1.66667",strokeLinecap:"square"})]}),T1=W.payments.cardBrands,IN=e=>{const n=e.toLowerCase();return{visa:T1.visa,mastercard:T1.mastercard,amex:T1.amex,american_express:T1.amex,jcb:T1.jcb}[n]||null};function mP({showModal:e,plan:n,savedCard:s,isLoading:r,onClose:i,onConfirm:a,onChangePaymentMethod:o}){const{t:l}=Jt("billing"),[c,u]=d.useState(!1),p=n?.billing_period==="YEARLY"?l("credits.upgradeTierModal.perYear"):l("credits.upgradeTierModal.perMonth");return t.jsx(zn,{open:e,onOpenChange:f=>!f&&i(),children:t.jsxs(Us,{children:[t.jsx(Lp,{className:"z-[9999] bg-black/80 backdrop-blur-sm"}),t.jsxs(dr,{className:"z-[9999] bg-[#1C1C1F] rounded-2xl p-6 max-md:p-4 max-w-[600px] w-[calc(100%-32px)] max-h-[96dvh] overflow-y-auto md:max-h-none md:overflow-visible hide-scrollbar border-none",children:[t.jsx("div",{className:"absolute top-4 right-4 z-10",children:t.jsx("button",{type:"button",onClick:i,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#ffffff1e] flex justify-center items-center rounded-full cursor-pointer transition-colors","aria-label":"Close modal",children:t.jsx(Sl,{className:"w-8 h-8 rounded-full text-white/50"})})}),t.jsx("h3",{className:"text-2xl font-medium text-white mb-6 pr-10",children:l("credits.quickUpgradeModal.confirmUpgradeTo",{tier:n?.tier_name})}),t.jsxs("div",{className:"space-y-2 border border-[#333333] rounded-xl px-5 py-4 mb-5",children:[t.jsxs("div",{className:"flex justify-between items-center h-8",children:[t.jsx("span",{className:"text-white/50 text-base font-[Inter]",children:l("credits.quickUpgradeModal.planName",{tier:n?.tier_name})}),t.jsxs("span",{className:"text-white font-semibold text-lg font-[Inter]",children:[Tr(n?.amount||0,n?.currency||"USD"),p]})]}),n?.ecu_credits&&t.jsxs("div",{className:"flex justify-between items-center h-8",children:[t.jsx("span",{className:"text-white/50 text-base font-[Inter]",children:l("credits.monthlyCredits")}),t.jsx("span",{className:"text-white/60 font-semibold text-lg font-[Inter]",children:l("credits.quickUpgradeModal.creditsCount",{count:n.ecu_credits})})]})]}),t.jsxs("div",{className:"space-y-2 border border-[#333333] rounded-xl px-5 py-4 mb-5",children:[t.jsxs("div",{className:"",children:[t.jsx("p",{className:"text-[#FFFFFFB2] font-semibold text-base",children:l("credits.buyCreditsModal.payVia")}),t.jsx("p",{className:"text-[#FFFFFF66] text-sm mb-5 font-medium",children:l("credits.quickUpgradeModal.useSavedPaymentMethod")})]}),s&&t.jsxs("div",{className:"flex items-center justify-between bg-[#FFFFFF14] px-4 py-3 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[IN(s.brand||"")?t.jsxs("div",{className:"relative h-8 w-12",children:[!c&&t.jsx("div",{className:"absolute inset-0 bg-[#FFFFFF20] rounded animate-pulse"}),t.jsx("img",{src:IN(s.brand||""),alt:s.brand,className:A("h-8 w-auto object-contain transition-opacity duration-200",c?"opacity-100":"opacity-0"),onLoad:()=>u(!0)})]}):t.jsx("span",{className:"text-white font-semibold uppercase text-sm bg-[#1C1C1F] px-2 py-1 rounded",children:s.brand}),t.jsx("div",{className:"h-11 flex justify-center items-center",children:t.jsxs("p",{className:"text-white text-sm font-medium",children:[(s.brand||"").charAt(0).toUpperCase()+(s.brand||"").slice(1)," ",t.jsx("span",{className:"ml-1 tracking-[0.15em]",children:""}),s.last4]})})]}),t.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:t.jsx(Mn,{className:"w-4 h-4 text-black"})})]})]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-4 mb-4",children:[t.jsx("button",{type:"button",onClick:o,disabled:r,className:"flex-1 py-3 px-4 border border-[#FFFFFF1F] hover:bg-[#3E3F44] text-[#FFFFFFCC] text-[15px] font-medium rounded-[10px] transition-all duration-150 disabled:opacity-50",children:l("credits.buyCreditsModal.changePaymentMethod")}),t.jsx("button",{type:"button",onClick:a,disabled:r,className:"flex-1 py-3 px-4 bg-[#F3CA5F] hover:bg-[#E7A93C] text-black font-semibold text-[15px] rounded-[10px] transition-all disabled:opacity-50 duration-150",children:r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:l("credits.buyCreditsModal.processing")})]}):l("credits.quickUpgradeModal.upgradeFor",{amount:Tr(n?.amount||0,n?.currency||"USD")})})]}),t.jsxs("div",{className:"flex items-center py-1.5 justify-center gap-1 text-[#FFFFFF40] text-sm",children:[t.jsx(fP,{color:"#FFFFFF40",size:20}),t.jsx("p",{children:l("credits.buyCreditsModal.securePaymentsViaStripe")})]})]})]})})}const hP=({config:e,isMobile:n,showPromoCode:s=!0,onCodeCopy:r})=>{const[i,a]=d.useState(null);if(!e||!e.text)return null;const o=!s&&e.alternativeText?e.alternativeText:e.text,l=m=>{navigator.clipboard.writeText(m),a(m),setTimeout(()=>a(null),2e3),r?.(m)},c=()=>o.split(/(\{(?:highlight|code):[^}]+\})/).map((h,x)=>{const y=h.match(/^\{highlight:([^}]+)\}$/);if(y){const g=y[1],b=e.highlightFontWeight==="semibold"?"font-semibold":e.highlightFontWeight==="medium"?"font-medium":"font-bold";return t.jsx("span",{className:b,style:{color:"#15331D",WebkitTextFillColor:"#15331D"},children:g},x)}const v=h.match(/^\{code:([^}]+)\}$/);if(v){const g=v[1],b=e.codeChipBgColor||"#0A171A",w=e.codeChipTextColor||"#FEFDF9";return t.jsxs("span",{className:"flex items-center gap-2 py-[2px] px-2 text-[16px] rounded-[8px] cursor-pointer hover:opacity-80 transition-opacity whitespace-nowrap font-['Brockmann'] font-semibold",style:{backgroundColor:b,color:w,background:b,WebkitTextFillColor:w},onClick:()=>l(g),children:[i===g?"Copied!":g,t.jsx(bo,{size:16})]},x)}return t.jsx("span",{children:h},x)}),u=e.backgroundImage||e.mobileBackgroundImage,p=n&&e.mobileBackgroundImage||e.backgroundImage,f={color:e.textColor,...u?{backgroundImage:`url(${p})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(180deg, rgba(0, 255, 73, 0.10) 0%, rgba(0, 240, 255, 0.10) 100%)",backdropFilter:"blur(25px)"}};return t.jsx("div",{className:"flex max-lg:flex-col items-center sticky z-[999] h-fit top-0 left-0 right-0 mb-2 justify-center w-full px-4 py-2 max-sm:pr-11 gap-2",style:f,children:t.jsx("div",{className:"flex flex-wrap items-center justify-center gap-x-2 text-center font-['Brockmann'] text-[16px] font-semibold leading-[24px] tracking-[-0.2px] text-[#15331D]",children:c()})})},xP=d.createContext(void 0),Kce=({children:e,initialConfig:n})=>{const[s,r]=d.useState({show:!1,level:"info",content:"",dismissible:!0,...n}),[i,a]=d.useState(0),[o,l]=d.useState(new Map),c=d.useCallback(N=>{r({...N,show:!0})},[]),u=d.useCallback(()=>{r(N=>({...N,show:!1}))},[]),p=d.useCallback(N=>{r(j=>({...j,...N}))},[]),f=d.useCallback(N=>{a(N)},[]),m=d.useCallback((N,j)=>{l(_=>{const C=new Map(_);return C.set(N,j),C})},[]),h=d.useCallback(N=>{l(j=>{const _=new Map(j);return _.delete(N),_})},[]);d.useEffect(()=>{s.show||a(0)},[s.show]);const x=d.useCallback((N,j=!0)=>{c({level:"info",content:N,dismissible:j})},[c]),y=d.useCallback((N,j=!0)=>{c({level:"warning",content:N,dismissible:j})},[c]),v=d.useCallback((N,j=!0)=>{c({level:"error",content:N,dismissible:j})},[c]),g=d.useCallback((N,j=!0)=>{c({level:"success",content:N,dismissible:j})},[c]),b=Array.from(o.values()).reduce((N,j)=>N+j,0),w={bannerConfig:s,bannerHeight:i,totalBannerHeight:i+b,externalBannersHeight:b,showBanner:c,hideBanner:u,updateBanner:p,setBannerHeight:f,registerBannerHeight:m,unregisterBannerHeight:h,showInfo:x,showWarning:y,showError:v,showSuccess:g};return t.jsx(xP.Provider,{value:w,children:e})},Ea=()=>{const e=d.useContext(xP);if(e===void 0)throw new Error("useAlert must be used within an AlertProvider");return e},m8=d.memo(({isOpen:e,onOpenChange:n,desktopImageUrl:s,mobileImageUrl:r,couponCode:i,triggerLocation:a="default"})=>{const{user:o}=xs(),{totalBannerHeight:l}=Ea(),{isMobile:c}=ps(),u=Er(),{newToast:p}=Fa(),f=d.useMemo(()=>l+56,[l]),m=d.useCallback(v=>{!v&&o&&z(Tn.MODAL_CLOSED,{modalType:"pix_launch",triggerLocation:a,userId:o.id}),n(v)},[n,o,a]),h=d.useCallback(()=>{o&&z(Tn.MODAL_CTA_CLICKED,{modalType:"pix_launch",triggerLocation:a,userId:o.id,action:"claim_offer",couponCode:i}),m(!1),u.open({planType:"personal",triggerLocation:"pix_launch"})},[m,u,o,a,i]),x=d.useCallback(()=>{navigator.clipboard.writeText(i),p.success("Coupon code copied!"),o&&z(Tn.MODAL_CTA_CLICKED,{modalType:"pix_launch",triggerLocation:a,userId:o.id,action:"copy_coupon",couponCode:i})},[i,p,o,a]);if(d.useMemo(()=>{e&&o&&z(Tn.MODAL_OPENED,{modalType:"pix_launch",triggerLocation:a,userId:o.id})},[e,o,a]),!e)return null;const y=c?r:s;return t.jsx(ns,{children:e&&t.jsx(xe.div,{style:{top:`${f}px`},className:A("fixed inset-0 w-full z-50 flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>m(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:t.jsxs(xe.div,{className:"relative max-md:max-w-[95dvw] w-full max-w-[800px] border border-[#333333] mx-auto max-md:h-[80dvh] md:h-[650px] rounded-[16px] overflow-hidden",onClick:v=>v.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:[t.jsx("img",{src:y,alt:"Pix Launch Background",className:"absolute inset-0 w-full h-full object-cover",loading:"eager",style:{backgroundColor:"#1a1a1a"}}),t.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),m(!1)},className:"absolute top-6 right-6 w-10 h-10 bg-[rgba(255,255,255,0.08)] rounded-full flex items-center justify-center text-white backdrop-blur-[25px] hover:bg-[rgba(255,255,255,0.12)] transition-colors z-10","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 max-md:pb-8 md:pb-[50px] flex flex-col items-center gap-4",children:[t.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center gap-[16px] max-md:pb-4 md:pb-[20px]",children:[t.jsxs("div",{className:"flex items-center justify-between pl-5 pr-2 py-2 min-w-[280px] w-full border border-solid rounded-[14px]",style:{backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)",backgroundColor:"rgba(255, 255, 255, 0.04)",borderColor:"rgba(255, 255, 255, 0.2)"},children:[t.jsx("span",{className:"font-brockmann font-semibold text-[20px] leading-[24px] text-white",children:i}),t.jsxs("button",{onClick:x,className:"flex items-center gap-[6px] px-2 py-[6px] bg-white hover:bg-white/90 text-black rounded-[8px] transition-all",children:[t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_8408_85050)",children:[t.jsx("path",{d:"M13.3334 10.7502V14.2502C13.3334 14.6922 13.1578 15.1161 12.8453 15.4287C12.5327 15.7412 12.1088 15.9168 11.6667 15.9168H5.75004C5.30801 15.9168 4.88409 15.7412 4.57153 15.4287C4.25897 15.1161 4.08337 14.6922 4.08337 14.2502V8.3335C4.08337 7.89148 4.25897 7.46756 4.57153 7.155C4.88409 6.84244 5.30801 6.66683 5.75004 6.66683H9.25004",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.0834 4.08317H14.25C14.692 4.08317 15.116 4.25877 15.4285 4.57133C15.7411 4.88389 15.9167 5.30781 15.9167 5.74984V8.91651C15.9167 9.35853 15.7411 9.78245 15.4285 10.095C15.116 10.4076 14.692 10.5832 14.25 10.5832H11.0834C10.6413 10.5832 10.2174 10.4076 9.90486 10.095C9.5923 9.78245 9.41671 9.35853 9.41671 8.91651V5.74984C9.41671 5.30781 9.5923 4.88389 9.90486 4.57133C10.2174 4.25877 10.6413 4.08317 11.0834 4.08317Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_8408_85050",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})})]}),t.jsx("span",{className:"font-brockmann font-semibold text-[16px] leading-[24px] tracking-[-0.32px] text-black",children:"Copy Code"})]})]}),t.jsx("p",{className:"text-[14px] font-medium leading-[24px] text-white opacity-60 text-center",children:"Paste this code in the checkout session to redeem the offer"})]}),t.jsxs(xe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"flex items-center justify-center max-md:gap-[6px] md:gap-[8px] max-md:px-6 md:px-8 py-[8px] h-[48px] max-md:w-[280px] md:w-[300px] rounded-[30px] bg-[#66FFEA]",style:{boxShadow:"0px 0px 40px 0px #66FFEA66"},children:[t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotateY(180deg)"},className:"shrink-0",children:t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"#1C1C1D"})}),t.jsx("p",{className:"font-brockmann font-semibold max-md:text-[18px] md:text-[20px] leading-[32px] tracking-[-0.4px] text-[#272728] whitespace-nowrap",style:{textShadow:"0 0 20px rgba(255, 255, 255, 0.6)"},children:"Claim 90% Off"}),t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"shrink-0",children:t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"#1C1C1D"})})]})]})]})})})});m8.displayName="PixModal";const Yce=Object.freeze(Object.defineProperty({__proto__:null,PixModal:m8},Symbol.toStringTag,{value:"Module"}));function gP({couponCode:e,onBannerClick:n}){const[s,r]=d.useState(!1),{newToast:i}=Fa(),a=()=>{r(!0),n?.()},o=l=>{l.stopPropagation(),e&&(navigator.clipboard.writeText(e),i.success("Code Copied"))};return e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-center sticky z-[999] top-0 left-0 right-0 mb-2 w-full px-5 py-2 gap-[30px] max-md:px-3 max-md:py-3 cursor-pointer hover:bg-[rgba(102,255,234,0.15)] transition-colors",style:{background:"rgba(102, 255, 234, 0.1)",backdropFilter:"blur(25px)",WebkitBackdropFilter:"blur(25px)"},onClick:a,children:[t.jsxs("div",{className:"hidden md:flex items-center gap-[10px]",children:[t.jsx("div",{className:"flex items-center justify-center shrink-0",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotateY(180deg)"},children:[t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"url(#gift-gradient-pix)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gift-gradient-pix",x1:"12",y1:"2",x2:"12",y2:"21",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#66FFEA"}),t.jsx("stop",{offset:"1",stopColor:"#66FFEA"})]})})]})}),t.jsxs("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] tracking-[-0.2px] text-[#66FFEA] whitespace-nowrap",children:["Pix payments on Stripe ",t.jsx("span",{className:"font-semibold text-white font-brockmann",children:"Flat 90% off"})," on all our subscriptions. Use code"]}),t.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-[8px] px-3 py-1 cursor-pointer hover:opacity-80 transition-opacity shrink-0",onClick:o,children:[t.jsx("p",{className:"font-brockmann font-semibold text-[16px] leading-[24px] text-black whitespace-nowrap",style:{textShadow:"rgba(255, 255, 255, 0.6) 0px 0px 28.736px"},children:e}),t.jsx(bo,{size:20,className:"text-black"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] tracking-[-0.2px] text-[#66FFEA] whitespace-nowrap",children:"in the checkout session to redeem the offer"}),t.jsx("div",{className:"shrink-0",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M18.4958 10.2605L19.4231 10.012L21.4108 17.4303C21.5426 17.9222 21.4736 18.4463 21.219 18.8872C20.9644 19.3282 20.545 19.65 20.0531 19.7818L15.4167 21.0242L12.932 11.7513L18.4958 10.2605ZM6.44101 13.4905L11.0775 12.2482L13.5621 21.5211L8.92567 22.7634C8.43381 22.8952 7.90974 22.8262 7.46874 22.5716C7.02775 22.317 6.70596 21.8976 6.57416 21.4058L4.58643 13.9875L6.44101 13.4905ZM4.4652 9.05063C4.20947 8.63565 4.01844 8.18413 3.89869 7.71162C3.41915 5.92196 4.4849 4.07602 6.27457 3.59648C7.77863 3.19347 9.15111 4.29862 10.1976 5.61139C10.4601 4.03535 11.1252 2.29676 12.7656 1.85722C14.5553 1.37768 16.4012 2.44343 16.8807 4.2331C17.0288 4.78576 17.0781 5.26254 17.0596 5.67596L20.0353 4.87863L21.0292 8.58779L12.6836 10.824L12.1866 8.9694L10.3321 9.46634L10.829 11.3209L2.48339 13.5571L1.48953 9.84796L4.4652 9.05063ZM15.0262 4.73003C14.8207 3.96316 14.0294 3.50631 13.2625 3.7118C12.4391 3.93243 12.0521 5.55178 11.9697 7.03979L14.4716 6.36943C14.8184 6.2765 15.3989 6.12096 15.0262 4.73003ZM6.7715 5.45106C6.00464 5.65654 5.54779 6.44782 5.75327 7.21469C6.12597 8.60562 6.70645 8.45009 7.05326 8.35716L9.35015 7.74171C8.48565 6.40702 7.44472 5.27067 6.7715 5.45106Z",fill:"url(#gift-gradient-pix-2)"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gift-gradient-pix-2",x1:"12",y1:"2",x2:"12",y2:"21",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#66FFEA"}),t.jsx("stop",{offset:"1",stopColor:"#66FFEA"})]})})]})})]}),t.jsxs("div",{className:"flex md:hidden flex-col gap-[2px] items-center text-center",children:[t.jsxs("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:[t.jsx("span",{className:"font-semibold text-white font-brockmann",children:"Flat 90% off"})," on all our subscriptions."]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"Use code"}),t.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-[8px] px-3 py-[2px] cursor-pointer hover:opacity-80 transition-opacity",onClick:o,children:[t.jsx("p",{className:"font-brockmann font-semibold text-[14px] leading-[20px] text-black whitespace-nowrap",style:{textShadow:"rgba(255, 255, 255, 0.6) 0px 0px 28.736px"},children:e}),t.jsx(bo,{size:20,className:"text-black"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"in the checkout"})]}),t.jsx("p",{className:"font-brockmann font-medium text-[16px] leading-[24px] text-[#66FFEA]",children:"session to redeem the offer"})]})]}),t.jsx(m8,{isOpen:s,onOpenChange:r,desktopImageUrl:W.modals.pixDesktop,mobileImageUrl:W.modals.pixMobile,couponCode:e,triggerLocation:"banner"})]}):null}const ra=({size:e=24,width:n,height:s,color:r="#4D4D4D",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12.5107 7.7373C12.1812 6.92076 11.9035 6.64719 11.5078 7.62207C10.6422 9.69969 9.60868 10.6895 7.57422 11.5469C7.36996 11.6412 7.00239 11.8057 7 12C7.00264 12.1942 7.36761 12.3578 7.57422 12.4521C9.60626 13.3071 10.6422 14.3002 11.5078 16.3779C11.9082 17.37 12.1869 17.0582 12.5107 16.2627C13.3788 14.2545 14.3482 13.3223 16.3955 12.4521C16.61 12.3499 16.9637 12.2143 17 12.0107V11.9873C16.9641 11.785 16.6125 11.6473 16.3955 11.5449V11.5469C14.3485 10.6768 13.3787 9.74605 12.5107 7.7373Z",fill:f})})},G3=({size:e=24,width:n,height:s,color:r="#4D4D4D",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M18.72 14.7602C19.07 13.9102 19.26 13.0002 19.26 12.0002C19.26 11.2802 19.15 10.5902 18.96 9.95019C18.31 10.1002 17.63 10.1802 16.92 10.1802C15.466 10.1818 14.0329 9.83371 12.7415 9.16541C11.4502 8.49711 10.3384 7.52815 9.5 6.34019C8.60396 8.51093 6.91172 10.2568 4.77 11.2202C4.73 11.4702 4.73 11.7402 4.73 12.0002C4.73 12.9549 4.91804 13.9003 5.2834 14.7823C5.64875 15.6643 6.18425 16.4658 6.85933 17.1409C8.22272 18.5042 10.0719 19.2702 12 19.2702C13.05 19.2702 14.06 19.0402 14.97 18.6302C15.54 19.7202 15.8 20.2602 15.78 20.2602C14.14 20.8102 12.87 21.0802 12 21.0802C9.58 21.0802 7.27 20.1302 5.57 18.4202C4.53505 17.3901 3.76627 16.1237 3.33 14.7302H2V10.1802H3.09C3.42024 8.5727 4.17949 7.0846 5.28719 5.87378C6.39489 4.66296 7.80971 3.7746 9.38153 3.30295C10.9534 2.8313 12.6235 2.79396 14.2149 3.1949C15.8062 3.59583 17.2593 4.42008 18.42 5.58019C19.6798 6.83577 20.5393 8.43648 20.89 10.1802H22V14.7302H21.94L18.38 18.0002L13.08 17.4002V15.7302H17.91L18.72 14.7602ZM9.27 11.7702C9.57 11.7702 9.86 11.8902 10.07 12.1102C10.281 12.323 10.3995 12.6105 10.3995 12.9102C10.3995 13.2099 10.281 13.4974 10.07 13.7102C9.86 13.9202 9.57 14.0402 9.27 14.0402C8.64 14.0402 8.13 13.5402 8.13 12.9102C8.13 12.2802 8.64 11.7702 9.27 11.7702ZM14.72 11.7702C15.35 11.7702 15.85 12.2802 15.85 12.9102C15.85 13.5402 15.35 14.0402 14.72 14.0402C14.09 14.0402 13.58 13.5402 13.58 12.9102C13.58 12.6078 13.7001 12.3179 13.9139 12.1041C14.1277 11.8903 14.4177 11.7702 14.72 11.7702Z",fill:f})})},by=({size:e=24,width:n,height:s,className:r="",fill:i,gradientColors:a={start:"#FFF4DF",end:"#FFD702"}})=>{const o=n||e,l=s||e,c=`team-people-gradient-${Math.random().toString(36).substring(2,11)}`;return t.jsxs("svg",{width:o,height:l,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M12 4.28906C11.6627 4.28906 11.3286 4.35551 11.0169 4.48461C10.7053 4.6137 10.4221 4.80292 10.1835 5.04146C9.945 5.28 9.75578 5.56319 9.62669 5.87486C9.49759 6.18653 9.43114 6.52057 9.43114 6.85792C9.43114 7.19527 9.49759 7.52931 9.62669 7.84098C9.75578 8.15265 9.945 8.43584 10.1835 8.67438C10.4221 8.91292 10.7053 9.10214 11.0169 9.23123C11.3286 9.36033 11.6627 9.42678 12 9.42678C12.6813 9.42678 13.3347 9.15613 13.8165 8.67438C14.2982 8.19262 14.5689 7.53922 14.5689 6.85792C14.5689 6.17662 14.2982 5.52322 13.8165 5.04146C13.3347 4.55971 12.6813 4.28906 12 4.28906ZM17.7857 5.57221C17.2742 5.57221 16.7837 5.77539 16.422 6.13707C16.0603 6.49875 15.8571 6.98929 15.8571 7.50078C15.8571 8.01227 16.0603 8.50281 16.422 8.86448C16.7837 9.22616 17.2742 9.42935 17.7857 9.42935C18.2972 9.42935 18.7877 9.22616 19.1494 8.86448C19.5111 8.50281 19.7143 8.01227 19.7143 7.50078C19.7143 6.98929 19.5111 6.49875 19.1494 6.13707C18.7877 5.77539 18.2972 5.57221 17.7857 5.57221ZM6.21429 5.57221C5.7028 5.57221 5.21226 5.77539 4.85058 6.13707C4.4889 6.49875 4.28571 6.98929 4.28571 7.50078C4.28571 8.01227 4.4889 8.50281 4.85058 8.86448C5.21226 9.22616 5.7028 9.42935 6.21429 9.42935C6.72578 9.42935 7.21631 9.22616 7.57799 8.86448C7.93967 8.50281 8.14286 8.01227 8.14286 7.50078C8.14286 6.98929 7.93967 6.49875 7.57799 6.13707C7.21631 5.77539 6.72578 5.57221 6.21429 5.57221ZM8.14286 11.9918C8.14523 11.6523 8.28174 11.3276 8.5226 11.0885C8.76346 10.8493 9.08913 10.7151 9.42857 10.7151H14.5714C14.9124 10.7151 15.2394 10.8505 15.4806 11.0916C15.7217 11.3328 15.8571 11.6598 15.8571 12.0008V15.8579C15.8575 16.2626 15.7941 16.6648 15.6694 17.0498C15.3847 17.9224 14.7983 18.6649 14.0154 19.1441C13.2325 19.6232 12.3044 19.8075 11.3978 19.664C10.4912 19.5204 9.6655 19.0584 9.06893 18.3608C8.47236 17.6632 8.14402 16.7758 8.14286 15.8579V11.9918ZM6.85714 12.0008C6.85714 11.5315 6.98186 11.0931 7.20171 10.7151H4.28571C3.94472 10.7151 3.6177 10.8505 3.37658 11.0916C3.13546 11.3328 3 11.6598 3 12.0008V15.2151C2.99983 15.7413 3.12886 16.2596 3.37578 16.7243C3.6227 17.189 3.97994 17.586 4.41614 17.8804C4.85234 18.1748 5.35415 18.3576 5.8775 18.4127C6.40085 18.4679 6.92974 18.3937 7.41771 18.1966C7.04845 17.4719 6.85633 16.67 6.85714 15.8566V12.0008ZM17.1429 12.0008V15.8579C17.1429 16.7001 16.941 17.4946 16.5823 18.1966C17.0703 18.3937 17.5991 18.4679 18.1225 18.4127C18.6459 18.3576 19.1477 18.1748 19.5839 17.8804C20.0201 17.586 20.3773 17.189 20.6242 16.7243C20.8711 16.2596 21.0002 15.7413 21 15.2151V12.0008C21 11.6598 20.8645 11.3328 20.6234 11.0916C20.3823 10.8505 20.0553 10.7151 19.7143 10.7151H16.7983C17.0169 11.0931 17.1429 11.5315 17.1429 12.0008Z",fill:i||`url(#${c})`}),!i&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:c,x1:"4.575",y1:"1.59014",x2:"13.4881",y2:"21.9877",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:a.start}),t.jsx("stop",{offset:"1",stopColor:a.end})]})})]})},Zce=({size:e=24,color:n="#B3F8FF",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M20.1818 18.3619H22V20.18H2V18.3619H3.81818V4.7255C3.81818 4.48439 3.91396 4.25316 4.08445 4.08267C4.25494 3.91219 4.48617 3.81641 4.72727 3.81641H13.8182C14.0593 3.81641 14.2905 3.91219 14.461 4.08267C14.6315 4.25316 14.7273 4.48439 14.7273 4.7255V18.3619H18.3636V11.0891H16.5455V9.27095H19.2727C19.5138 9.27095 19.7451 9.36673 19.9156 9.53722C20.086 9.70771 20.1818 9.93894 20.1818 10.18V18.3619ZM5.63636 5.63459V18.3619H12.9091V5.63459H5.63636ZM7.45455 11.0891H11.0909V12.9073H7.45455V11.0891ZM7.45455 7.45277H11.0909V9.27095H7.45455V7.45277Z",fill:n})}),h8=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{opacity:"0.5",d:"M22.6518 9.13063C22.634 8.85133 22.3245 8.7023 22.0884 8.85255L16.8328 12.197C15.5325 13.025 14.6836 13.5655 13.7507 13.7807C12.9279 13.9705 12.0727 13.9705 11.2498 13.7807C10.3169 13.5655 9.46808 13.025 8.16776 12.197L2.9122 8.85255C2.6761 8.7023 2.36654 8.85132 2.34878 9.13061C2.30018 9.89445 2.30023 10.7967 2.3003 11.8818L2.3003 12.041C2.30029 13.3049 2.30029 14.3101 2.36655 15.1211C2.4344 15.9515 2.57633 16.6597 2.9067 17.3081C3.44011 18.3549 4.29123 19.2061 5.3381 19.7395C5.98649 20.0698 6.69462 20.2118 7.52509 20.2796C8.33605 20.3459 9.3412 20.3459 10.6051 20.3459H14.3954C15.6593 20.3459 16.6645 20.3459 17.4755 20.2796C18.306 20.2118 19.0141 20.0698 19.6625 19.7395C20.7094 19.2061 21.5605 18.3549 22.0939 17.3081C22.4243 16.6597 22.5662 15.9515 22.634 15.1211C22.7003 14.3101 22.7003 13.305 22.7003 12.0411L22.7003 11.8818C22.7004 10.7967 22.7004 9.89446 22.6518 9.13063Z",fill:n}),t.jsx("path",{d:"M14.3951 3.65625H10.6048C9.34094 3.65624 8.33573 3.65624 7.52475 3.7225C6.69429 3.79035 5.98616 3.93228 5.33776 4.26265C4.42781 4.72629 3.66575 5.42999 3.13168 6.29362C3.00542 6.49781 3.07782 6.76123 3.28036 6.89012L9.01514 10.5395C10.517 11.4952 11.083 11.8404 11.6663 11.9749C12.2149 12.1014 12.785 12.1014 13.3336 11.9749C13.9169 11.8404 14.4829 11.4952 15.9848 10.5395L21.7196 6.8901C21.9221 6.76122 21.9945 6.49779 21.8682 6.29361C21.3342 5.42998 20.5721 4.72629 19.6622 4.26265C19.0138 3.93228 18.3056 3.79035 17.4752 3.7225C16.6642 3.65624 15.659 3.65624 14.3951 3.65625Z",fill:n})]}),Jce=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M8.4 15.6L14 14L15.6 8.4L10 10L8.4 15.6ZM12 13.2C11.6667 13.2 11.3833 13.0833 11.15 12.85C10.9167 12.6167 10.8 12.3333 10.8 12C10.8 11.6667 10.9167 11.3833 11.15 11.15C11.3833 10.9167 11.6667 10.8 12 10.8C12.3333 10.8 12.6167 10.9167 12.85 11.15C13.0833 11.3833 13.2 11.6667 13.2 12C13.2 12.3333 13.0833 12.6167 12.85 12.85C12.6167 13.0833 12.3333 13.2 12 13.2ZM12 20C10.8933 20 9.85333 19.79 8.88 19.37C7.90667 18.95 7.06 18.38 6.34 17.66C5.62 16.94 5.05 16.0933 4.63 15.12C4.21 14.1467 4 13.1067 4 12C4 10.8933 4.21 9.85333 4.63 8.88C5.05 7.90667 5.62 7.06 6.34 6.34C7.06 5.62 7.90667 5.05 8.88 4.63C9.85333 4.21 10.8933 4 12 4C13.1067 4 14.1467 4.21 15.12 4.63C16.0933 5.05 16.94 5.62 17.66 6.34C18.38 7.06 18.95 7.90667 19.37 8.88C19.79 9.85333 20 10.8933 20 12C20 13.1067 19.79 14.1467 19.37 15.12C18.95 16.0933 18.38 16.94 17.66 17.66C16.94 18.38 16.0933 18.95 15.12 19.37C14.1467 19.79 13.1067 20 12 20ZM12 18.4C13.7733 18.4 15.2833 17.7767 16.53 16.53C17.7767 15.2833 18.4 13.7733 18.4 12C18.4 10.2267 17.7767 8.71667 16.53 7.47C15.2833 6.22333 13.7733 5.6 12 5.6C10.2267 5.6 8.71667 6.22333 7.47 7.47C6.22333 8.71667 5.6 10.2267 5.6 12C5.6 13.7733 6.22333 15.2833 7.47 16.53C8.71667 17.7767 10.2267 18.4 12 18.4Z",fill:r})})},Df=({size:e=24,width:n,height:s,color:r="currentColor",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1913 9.52867C15.5818 9.13815 16.2149 9.13815 16.6055 9.52867L22.4721 15.3953C22.8627 15.7858 22.8627 16.419 22.4721 16.8095L16.6055 22.6761C16.2149 23.0667 15.5818 23.0667 15.1913 22.6761C14.8007 22.2856 14.8007 21.6524 15.1913 21.2619L19.6508 16.8024L10.1327 16.8024C9.5804 16.8024 9.13269 16.3547 9.13269 15.8024C9.13269 15.2501 9.5804 14.8024 10.1327 14.8024L19.6508 14.8024L15.1913 10.3429C14.8007 9.95234 14.8007 9.31918 15.1913 9.52867Z",fill:r})})},AN={card:{titleColor:"#001A09",descriptionColor:"#003714",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#BEFFE2",ctaBgColor:"#000000",ctaTextColor:"#BEFFE2",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#BEFFE2",arrowColor:"#000000"},banner:{mobileTitleColor:"#001A09",mobileDescriptionColor:"#004E1A",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#1B5E20",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011",desktopCouponTextColor:"#FFFFFF",desktopCopyButtonColor:"#FFFFFF"}};function C2({variant:e="banner",inline:n=!1,content:s,images:r,styles:i={},useCouponHook:a,allowedTiers:o=["free"],autoApplied:l=!1,hidePromoIconOnDesktop:c=!1}){const{tier:u}=cs(),{totalBannerHeight:p}=Ea(),{couponCode:f,isLoading:m,error:h,generateCoupon:x}=a(),[y,v]=d.useState(!1),g=Er(),b={...AN.card,...i.card},w={...AN.banner,...i.banner},N=async()=>{await x()},j=()=>{g.open({planType:"personal",triggerLocation:"default"})},_=()=>{g.isOpen||g.open({planType:"personal",triggerLocation:"default"})},C=()=>{f&&(navigator.clipboard.writeText(f),v(!0),setTimeout(()=>v(!1),1e3))};return o.includes(u)?e==="card"?t.jsx("div",{className:"w-full mb-4 rounded-2xl overflow-hidden relative px-5 py-5 bg-cover bg-center",style:{backgroundImage:`url(${r.cardBackground})`},children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h3",{className:"font-brockmann text-xl font-bold leading-6 tracking-[-0.3px]",style:{color:b.titleColor},children:s.cardTitle}),t.jsx("p",{className:"font-inter text-sm font-semibold leading-5 tracking-[-0.2px]",style:{color:b.descriptionColor},children:h?s.cardErrorDescription:s.cardDescription}),f?t.jsxs("div",{className:A("w-full flex items-center rounded-xl px-4 py-3 mt-2",l&&!h?"justify-center gap-3":"justify-between"),style:{backgroundColor:b.couponBgColor},children:[t.jsx("span",{className:"font-brockmann text-lg font-semibold leading-6",style:{color:b.couponTextColor},children:l&&!h?"Auto applied":f}),l&&!h?t.jsx(jr,{size:20,color:w.desktopCouponTextColor}):t.jsxs("button",{type:"button",onClick:C,className:"gap-2 font-semibold flex items-center font-inter text-sm",style:{color:b.copyButtonColor},children:[t.jsx(bo,{size:16,style:{color:b.copyButtonColor}}),y?"Copied!":"Copy"]})]}):t.jsx("button",{type:"button",className:"w-full py-3.5 mt-2 rounded-xl font-brockmann text-base font-semibold leading-6 tracking-tight flex items-center justify-center gap-2 disabled:cursor-not-allowed cursor-pointer",style:{backgroundColor:b.ctaBgColor,color:b.ctaTextColor,boxShadow:b.ctaShadow},disabled:m,onClick:N,children:m?t.jsx(ln,{className:"w-5 h-5 animate-spin",style:{color:b.ctaTextColor}}):t.jsxs(t.Fragment,{children:[s.ctaText,t.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:b.arrowBgColor},children:t.jsx(Df,{size:20,color:b.arrowColor})})]})})]})}):t.jsx("div",{className:A("flex items-center justify-center w-full md:pt-2.5 max-md:mt-1 max-md:px-4",n?"mb-6":"fixed z-[999]"),style:n?void 0:{top:`${56+p}px`},children:t.jsxs("div",{className:A("relative flex items-center max-md:h-[69px] h-12 max-md:p-1.5 md:p-2 md:pl-5 max-md:w-full max-md:rounded-2xl overflow-hidden",n?"md:rounded-xl":"md:rounded-full",n?"md:w-fit mx-auto max-md:justify-between":"max-md:justify-between md:justify-center w-fit"),children:[t.jsx("img",{src:r.mobileBanner,alt:r.bannerAlt||"Promotional banner",className:"absolute inset-0 w-full h-full object-cover md:hidden"}),t.jsx("img",{src:r.desktopBanner,alt:r.bannerAlt||"Promotional banner",className:"absolute inset-0 w-full h-full object-cover hidden md:block"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-2 md:hidden flex-1 min-w-0",children:[r.promoIcon&&t.jsx("img",{src:r.promoIcon,alt:r.promoIconAlt||"Promotional offer",className:"w-[54px] h-[54px] rounded-xl object-cover shrink-0"}),t.jsxs("div",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[t.jsx("span",{className:"font-brockmann text-base font-bold leading-[18px] tracking-[-0.2px]",style:{color:w.mobileTitleColor},children:s.bannerTitle}),t.jsx("span",{className:"font-inter text-[13px] font-semibold leading-4 tracking-[-0.2px] line-clamp-2",style:{color:w.mobileDescriptionColor},children:h?s.bannerErrorDescription:s.bannerDescription})]})]}),t.jsxs("div",{className:"relative z-10 hidden md:flex items-center gap-2",children:[!c&&r.promoIcon&&t.jsx("img",{src:r.promoIcon,alt:r.promoIconAlt||"Promotional offer",className:"w-10 h-10 rounded-xl object-cover shrink-0 -ml-4"}),t.jsx("span",{className:"font-brockmann text-base font-semibold leading-6 tracking-[-0.5px] whitespace-nowrap",style:{color:w.desktopTextColor},children:h?s.desktopErrorText:s.desktopText})]}),t.jsx("button",{type:"button",className:"relative z-10 md:hidden w-11 h-11 rounded-[50%] flex items-center justify-center shrink-0 cursor-pointer",style:{backgroundColor:w.mobileButtonBgColor,boxShadow:w.mobileButtonShadow},onClick:j,children:t.jsx(Df,{size:28,color:w.mobileArrowColor})}),f?t.jsx(t.Fragment,{children:t.jsxs("div",{className:A("relative z-10 hidden md:flex md:ml-3 h-10 py-2 -mr-[3px] items-center shrink-0",n?"rounded-[10px]":"rounded-full",l&&!h?"px-3 gap-2 cursor-pointer":"pl-5 pr-3 gap-4"),style:{backgroundColor:w.mobileCouponBgColor},onClick:l&&!h?_:void 0,children:[t.jsx("span",{className:"font-brockmann font-semibold text-[14px] leading-4 tracking-[-0.25px]",style:{color:w.desktopCouponTextColor},children:l&&!h?"Auto applied":f}),l&&!h?t.jsx(jr,{size:20,color:w.desktopCouponTextColor}):t.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1.5 hover:opacity-80 transition-opacity font-brockmann font-semibold text-[14px] leading-4 tracking-[-0.25px]",style:{color:w.desktopCopyButtonColor},children:[t.jsx(bo,{size:16,color:w.desktopCopyButtonColor}),y?"Copied!":"Copy"]})]})}):t.jsx(t.Fragment,{children:t.jsx("button",{type:"button",className:A("relative z-10 hidden md:flex items-center justify-center gap-2 h-10 py-2 text-[15px] md:ml-8 text-white font-semibold border-none disabled:cursor-not-allowed cursor-pointer",n?"md:rounded-[10px]":"rounded-full",m?"px-5":"pl-5 pr-3"),style:{backgroundColor:w.desktopButtonBgColor,boxShadow:w.desktopButtonShadow},onClick:N,disabled:m,children:m?t.jsx(ln,{className:"w-4 h-4 animate-spin text-white"}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-clamp-2 max-w-[150px]",children:s.ctaText}),t.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center shrink-0",style:{backgroundColor:w.desktopArrowBgColor},children:t.jsx(Df,{size:20,color:w.desktopArrowColor})})]})})})]})}):null}const yy="promoCouponCode_",vy="promoCouponError_";let x8=!1;if(typeof window<"u"){const e="promoCouponCode",n="promoCouponError";(localStorage.getItem(e)||localStorage.getItem(n))&&(localStorage.removeItem(e),localStorage.removeItem(n))}const Mf=new Map;function Xce(e){return Mf.has(e)||Mf.set(e,new Set),Mf.get(e)}function Qce(e){return n=>{const s=Xce(e);return s.add(n),()=>s.delete(n)}}function ede(e){const n=Mf.get(e);n&&n.forEach(s=>s())}function tde(){return x8}function DN(e){x8=e,Mf.forEach(n=>{n.forEach(s=>s())})}function nde(e){return()=>typeof window>"u"?null:localStorage.getItem(yy+e)}function sde(e){return()=>typeof window>"u"?null:localStorage.getItem(vy+e)}function bP(e,n,s){const r=d.useMemo(()=>Qce(s),[s]),i=d.useMemo(()=>nde(s),[s]),a=d.useMemo(()=>sde(s),[s]),o=d.useSyncExternalStore(r,i,()=>null),l=d.useSyncExternalStore(r,a,()=>null),c=d.useSyncExternalStore(r,tde,()=>!1),u=d.useCallback((f,m=null)=>{f?localStorage.setItem(yy+s,f):localStorage.removeItem(yy+s),m?localStorage.setItem(vy+s,m):localStorage.removeItem(vy+s),ede(s)},[s]),p=d.useCallback(async()=>{if(x8)return{coupon:null,error:null};DN(!0);try{const f=await yt.getPromoCoupon(iM()||"",e);return f?(u(f,null),{coupon:f,error:null}):(u(n,null),{coupon:n,error:null})}catch(f){const m=f?.response?.data?.detail||f?.response?.data?.message||"Unable to generate coupon code";return u(n,m),{coupon:n,error:m}}finally{DN(!1)}},[e,n,u]);return{couponCode:o,isLoading:c,error:l,setCouponCode:u,generateCoupon:p}}const rde="4e7f6f21-6b1c-4dd9-8daf-713c52adf93d",ide="GOOGLE20";function ig(){return bP(rde,ide,"one_dollar")}const ade={cardTitle:"95% Off for the First Month",cardDescription:"Celebrating Emergent's series B funding round, enjoy a flat 95% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 95% off coupon.
Here's another great deal you can use.`,bannerTitle:"95% Off",bannerDescription:"Celebrating our Series B milestone",bannerErrorDescription:"You've already redeemed the 95% off coupon.",desktopText:"Celebrating Emergent's series B funding , FLAT 95% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 95% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},ode={mobileBanner:W.modals.pagbrasilOfferStripBgMobile,desktopBanner:W.modals.pagbrasilOfferStripBgWeb,cardBackground:W.modals.pagbrasilOfferStripBgCard,promoIcon:W.modals.pagbrasilGiftIcon,bannerAlt:"Series B 95% Off promotional banner",promoIconAlt:"Gift icon for 95% discount offer"},lde={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function vm({inline:e=!1,variant:n="banner"}){const{tier:s}=cs(),{userDetails:r}=xs(),i=d.useRef(!1),a=ho(),o=rh(r,a),{couponCode:l,generateCoupon:c,isLoading:u}=ig(),p=s==="free"&&o;return d.useEffect(()=>{p&&!l&&!i.current&&!u&&(i.current=!0,c())},[p,l,c,u]),t.jsx(C2,{variant:n,inline:e,content:ade,images:ode,styles:lde,useCouponHook:ig,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:!0})}const cde="f47ac10b-58cc-4372-a567-0e02b2c3d479",dde="GOOGLE20";function ag(){return bP(cde,dde,"gff")}function ude(){return{couponCode:"AUTO_APPLIED",isLoading:!1,error:null,generateCoupon:async()=>({coupon:"AUTO_APPLIED",error:null})}}const pde={cardTitle:"75% Off for the First Month",cardDescription:"Celebrating Emergent's series B funding round, enjoy a flat 75% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 75% off coupon.
Here's another great deal you can use.`,bannerTitle:"75% Off",bannerDescription:"Celebrating our Series B milestone",bannerErrorDescription:"You've already redeemed the 75% off coupon.",desktopText:"Celebrating Emergent's series B funding  , FLAT 75% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 75% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},fde={mobileBanner:W.modals.pagbrasilOfferStripBgMobile,desktopBanner:W.modals.pagbrasilOfferStripBgWeb,cardBackground:W.modals.pagbrasilOfferStripBgCard,promoIcon:W.modals.pagbrasilGiftIcon,bannerAlt:"Google Future Funds 75% Off promotional banner",promoIconAlt:"Gift icon for 75% discount offer"},mde={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function wm({inline:e=!1,variant:n="banner"}){const{tier:s}=cs(),{userDetails:r}=xs(),i=d.useRef(!1),a=ho(),o=rh(r,a),l=sh(r),c=r?.country_code==="IN",u=r?.country_code==="BR",{couponCode:p,generateCoupon:f,isLoading:m}=ag(),h=s==="free"&&o&&!c&&!u;return d.useEffect(()=>{h&&!p&&!i.current&&!m&&(i.current=!0,f())},[h,p,f,m]),s!=="free"||!o&&!l||c||u?null:t.jsx(C2,{variant:n,inline:e,content:pde,images:fde,styles:mde,useCouponHook:l?ude:ag,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:l||!!p})}const MN="SPECIAL90";function hde(){const[e]=d.useState(MN),[n]=d.useState(!1),[s]=d.useState(null),r=d.useCallback(async()=>({coupon:MN,error:null}),[]);return{couponCode:e,isLoading:n,error:s,generateCoupon:r}}const xde={cardTitle:"90% Off for the First Month",cardDescription:"Celebrating Emergent's series B funding round, enjoy a flat 90% off our Starter monthly plan.",cardErrorDescription:`You've already redeemed the 90% off coupon.
Here's another great deal you can use.`,bannerTitle:"90% Off",bannerDescription:"Flat 90% off our Starter plan",bannerErrorDescription:"You've already redeemed the 90% off coupon.",desktopText:"Celebrating Emergent's series B funding , FLAT 90% off on Starter monthly plan.",desktopErrorText:"You've already redeemed the 90% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},gde={mobileBanner:W.modals.pagbrasilOfferStripBgMobile,desktopBanner:W.modals.pagbrasilOfferStripBgWeb,cardBackground:W.modals.pagbrasilOfferStripBgCard,promoIcon:W.modals.pagbrasilGiftIcon,bannerAlt:"90% Off Standard Plan promotional banner",promoIconAlt:"Gift icon for 90% discount offer"},bde={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#141517",couponTextColor:"#FFFFFF",copyButtonColor:"rgba(204,255,247,1)",ctaBgColor:"#000000",ctaTextColor:"#5EEAD4",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#5EEAD4",arrowColor:"#000000"},banner:{mobileTitleColor:"#0D3D3D",mobileDescriptionColor:"#FFFFFF",mobileCouponBgColor:"#141517",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(45,212,191,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#141517",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011",desktopCouponTextColor:"#FFF",desktopCopyButtonColor:"rgba(255,255,255,0.60)"}};function og({inline:e=!1,maxWidth:n,variant:s="banner"}){const{tier:r}=cs(),{userDetails:i}=xs(),a=ho(),o=b2(i,a);return r!=="free"||!o?null:t.jsx(C2,{variant:s,inline:e,maxWidth:n,content:xde,images:gde,styles:bde,useCouponHook:hde,allowedTiers:["free"],autoApplied:!0})}function yde(){return{couponCode:"AUTO_APPLIED",isLoading:!1,error:null,generateCoupon:async()=>({coupon:"AUTO_APPLIED",error:null})}}const vde={cardTitle:"75% Off for the First Month",cardDescription:"Celebrating Emergent's series B funding round, enjoy a flat 75% off on our Standard monthly plan.",cardErrorDescription:`You've already redeemed the 75% off coupon.
Here's another great deal you can use.`,bannerTitle:"75% Off",bannerDescription:"Celebrating our Series B milestone",bannerErrorDescription:"You've already redeemed the 75% off coupon.",desktopText:"Celebrating Emergent's series B funding  , FLAT 75% off on Standard monthly plan.",desktopErrorText:"You've already redeemed the 75% off coupon. Here's another great deal.",ctaText:"Get Discount Code"},wde={mobileBanner:W.modals.pagbrasilOfferStripBgMobile,desktopBanner:W.modals.pagbrasilOfferStripBgWeb,cardBackground:W.modals.pagbrasilOfferStripBgCard,promoIcon:W.modals.pagbrasilGiftIcon,bannerAlt:"Google Future Funds India 75% Off promotional banner",promoIconAlt:"Gift icon for 75% discount offer"},Cde={card:{titleColor:"#FFFFFF",descriptionColor:"#FFFFFFCC",couponBgColor:"#0F1011",couponTextColor:"#FFFFFF",copyButtonColor:"#FFFFFF",ctaBgColor:"#000000",ctaTextColor:"#FFFFFF",ctaShadow:"inset 0 2px 4px 2px rgba(255,255,255,0.30)",arrowBgColor:"#FFFFFF",arrowColor:"#000000"},banner:{mobileTitleColor:"#FFFFFF",mobileDescriptionColor:"#FFFFFFCC",mobileCouponBgColor:"#0F1011",mobileButtonBgColor:"#0F0F10",mobileButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(251,200,70,0.40)",mobileArrowColor:"#FFFFFF",desktopTextColor:"#FFFFFF",desktopButtonBgColor:"#06171A",desktopButtonShadow:"0 0.727px 0.727px 0.727px rgba(0,0,0,0.10), inset 0 -1.455px 0 0 rgba(0,0,0,0.20), inset 0 2.182px 3.636px 1.455px rgba(255,255,255,0.40), 0 0 20px 0 rgba(255,255,255,0.40)",desktopArrowBgColor:"#FFFFFF",desktopArrowColor:"#0F1011"}};function Cm({inline:e=!1,maxWidth:n,variant:s="banner"}){const{tier:r}=cs(),{userDetails:i}=xs(),a=ho(),o=g2(i,a),l=i?.country_code==="IN";return r!=="free"||!o||!l?null:t.jsx(C2,{variant:s,inline:e,maxWidth:n,content:vde,images:wde,styles:Cde,useCouponHook:yde,allowedTiers:["free"],hidePromoIconOnDesktop:!0,autoApplied:!0})}const ja=({size:e=20,color:n="#80FFF9",className:s,style:r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,style:r,children:t.jsx("path",{d:"M4.4 10H3.6L3.6 16.4C3.6 16.8243 3.76857 17.2313 4.06863 17.5314C4.36869 17.8314 4.77565 18 5.2 18H9.2V10H4.4ZM14.8 10H10.8V18H14.8C15.2243 18 15.6313 17.8314 15.9314 17.5314C16.2314 17.2313 16.4 16.8243 16.4 16.4V10H14.8ZM15.4328 6C15.5491 5.61081 15.6055 5.20617 15.6 4.8C15.6 3.256 14.344 2 12.8 2C11.5024 2 10.636 3.1856 10.0768 4.468C9.5256 3.256 8.6152 2 7.2 2C5.656 2 4.4 3.256 4.4 4.8C4.4 5.2768 4.4632 5.6712 4.5672 6H2L2 9.2H9.2V7.6H10.8V9.2H18V6H15.4328ZM6 4.8C6 4.1384 6.5384 3.6 7.2 3.6C7.9104 3.6 8.5712 4.82 8.9584 6H6.8C6.5008 6 6 6 6 4.8ZM12.8 3.6C13.4616 3.6 14 4.1384 14 4.8C14 6 13.4992 6 13.2 6H11.2184C11.6264 4.7392 12.2192 3.6 12.8 3.6Z",fill:n})}),il={FREE:"free",PRO:"Pro",STANDARD:"Standard",STARTER:"Starter"},_de={MONTHLY_DIVISOR:12},q3={STANDARD_STARTER:1,PRO:2,OTHER:3},jde={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},Nde={background:"#fff",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},Fde={background:"#FFC599",boxShadow:"0px 0px 40px 0px rgba(255, 197, 153, 0.2)"};function Ede({isOpen:e,onOpenChange:n,organizationId:s,organizationName:r,planType:i="personal",triggerLocation:a="default",shouldShowModelSelectorTooltipAfterClose:o=!1,onReturnFlow:l}){const{toast:c}=ds(),{newToast:u}=Fa(),{t:p}=Jt("billing"),[f,m]=d.useState(null),[h,x]=d.useState({}),[y,v]=d.useState(null),[g,b]=d.useState(new Set),w=d.useRef({}),[N,j]=d.useState(!1),[_,C]=d.useState(!1),[F,E]=d.useState(!1),[S,M]=d.useState(!1),[k,I]=d.useState(!1),D=Xi(),{hasCreatedWorkspace:P}=ys(),{user:R,userDetails:B}=xs();m2();const[U,H]=d.useState(!1);B?.is_sso_user;const $=Qi(),{subscriptionPlansResponse:q,personalPlansResponse:Q,tier:V,personalTier:ee,creditResponse:X,loading:ae}=cs(),{isEligible:me,planId:oe}=ih();if(d.useEffect(()=>{if(e&&$){try{const K=i||"personal",L=K==="team"?V:ee,T=L!=="free",O=a||"upgrade-tier",G=lc(O,T),{title:ce,description:We}=Ca(O);ei("TRIGGER_SUBSCRIPTION",{planType:K,organizationId:K==="team"?s:void 0,triggerLocation:O,currentTier:L,hasActiveSubscription:T,title:ce,description:We,...G&&{modalType:G}})}catch{}z("upgrade_tier_modal_mobile_redirect",{planType:i,triggerLocation:a,organizationId:s}),n(!1)}},[e,$,i,s,a,n,V,ee]),$)return null;const pe=B?.organizations?.find(K=>K.created_by===R?.id&&K.status!=="PENDING"),se=B?.organizations?.some(K=>K.created_by===R?.id&&K.status==="PENDING"),{data:re,refetch:ve}=pp(void 0,{skip:!R}),{data:we,isLoading:be}=tm(s?{organization_id:s}:void 0,{skip:!s}),{data:Ue}=pp(s?{organization_id:s}:void 0,{skip:!0}),{data:fe,isLoading:Me}=qm(void 0,{skip:!B}),{data:J}=a9(),[Ne,{isLoading:ge}]=QD(),[Ee,{isLoading:Ce}]=eM(),[Ie]=GD(),Ae=f8(),Se=i==="personal"?Q:s&&we?we:q,ht=i==="personal"?ae:s?be:ae,Qe=K=>{if(!K?.plans)return[];const L=[];return Object.values(K.plans).forEach(T=>{T.monthly_plans&&L.push(...T.monthly_plans),T.yearly_plans&&L.push(...T.yearly_plans)}),L},De=(K,L)=>{const T=Qe(Se);return L?T.filter(O=>O.billing_period===L):T},de=Q?.current_subscription,ue=X,{handleManageSubscription:lt,isUpgradeLoading:st,handleRazorpayPayment:mt,paymentModalState:ut,showPaymentLoading:wn,hidePaymentModals:Oe,subscriptionPaymentResult:_e,hideSubscriptionPaymentResult:Et,subscriptionCancelledSuccessfully:dt,savedCard:vt,checkForSavedPaymentMethod:Ct,quickUpgradeConfirmation:St,showQuickUpgradeConfirmation:ct,hideQuickUpgradeConfirmation:Ft,confirmQuickUpgrade:Fe}=Vp(),[He,Ve]=d.useState("monthly"),Ke=d.useRef(ho()),Ye=(K,L=!1)=>()=>{kM(Se?.is_first_time_offer||!1,K),L&&TM()},At=(()=>{const K=_e.status;return K==="pending"?"pending":K==="success"?"success":K==="cancelled"?"cancelled":"failed"})(),mn=()=>{Et(),n(!1),_e.paymentId,_e.organizationId,_e.status},Dt=g2(B,Ke.current),Yt=b2(B,Ke.current),fn=rh(B,Ke.current),qt=sh(B),_n=QR(B,Ke.current),In=Yt||B?.country_code==="BR"||B?.country_code==="KR"||ee!=="free",[je,Le]=d.useState(null),[xt,Rt]=d.useState(!1),[qe,it]=d.useState(""),[_t,Kt]=d.useState(!1),[Cn,On]=d.useState(""),{couponCode:rs,generateCoupon:Vn,isLoading:Bn}=hM(),En=d.useRef(!1),{couponCode:jn,generateCoupon:Un,isLoading:fs}=ag(),cn=d.useRef(!1),{couponCode:hn,generateCoupon:dn,isLoading:Wn}=ig(),Ln=d.useRef(!1),{isMobile:Cs}=ps(),Vs=Qg(),zt=lM(),is=i==="team"&&!!s,$e=fe?.cancellation_flow_enabled&&!is&&J?.offer&&!J.offer.claimed&&J.offer.offer_name,Be={plan_type:i,plan_name:de?.tier_name,...is?{organization_id:s}:{},billing_period:de?.billing_period,payment_provider:_n},Te=()=>{if(!s)return!0;const K=B?.organizations?.find(L=>L.organization_id===s);return K?.role==="OWNER"&&K?.status==="ACTIVE"},pt=async()=>{if(Mt()){z(es.CANCELLATION_FLOW_EVENTS.RESUME_CLICKED,Be),M(!0),I(!0);const K=de?.payment_provider||B?.payment_provider;try{await lt(ue?.subscription?.id,Ke.current,void 0,K)}catch(L){throw Fn(Is.PAYMENT.RESUME_SUBSCRIPTION,L,{subscription_id:ue?.subscription?.id,currency:Ke.current,payment_provider:K}),L}finally{I(!1),M(!1)}return}z(es.CANCELLATION_FLOW_EVENTS.SURVEY_INITIATED,Be),C(!0)},Xt=async K=>{const L=K==="retention"?es.CANCELLATION_FLOW_EVENTS.RETENTION_CANCEL_CONFIRMED:es.CANCELLATION_FLOW_EVENTS.WARNING_CANCEL_CONFIRMED;z(L,{...Be,...K==="retention"&&{offer_name:J?.offer?.offer_name}}),j(!1),E(!1),M(!0),I(!0);const T=de?.payment_provider||B?.payment_provider;try{await lt(ue?.subscription?.id,Ke.current,void 0,T)}finally{setTimeout(()=>{M(!1),I(!1)},Dt||Yt?0:1e4)}},Hn=async(K,L)=>{z(es.CANCELLATION_FLOW_EVENTS.SURVEY_SUBMITTED,{...Be,selected_reason:K,additional_info:L}),C(!1);try{await Ne({selectedReason:K,additionalInfo:L}).unwrap()}catch{}$e?(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_SHOWN,{...Be,offer_name:J?.offer?.offer_name}),E(!0)):(z(es.CANCELLATION_FLOW_EVENTS.WARNING_SHOWN,{...Be,from_survey:!0}),j(!0))},An=async()=>{const K=J?.offer?.offer_name;if(!K){u.error("Offer not available");return}E(!1);try{const L=await Ee(K).unwrap();L.success?(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_SUCCESS,{...Be,offer_name:K,credits_added:L.credits_added}),u.success(L.message),ve(),n(!1)):(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_FAILURE,{...Be,offer_name:K,error:L.message}),u.error(L.message))}catch(L){const T=L?.response?.data?.message||"Failed to claim offer";z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_API_ERROR,{...Be,offer_name:K,error:T}),u.error(T)}},en=d.useRef(!1);d.useEffect(()=>{if(!e){en.current=!1;return}e&&!en.current&&!ae&&(en.current=!0,l9("pricing",R?.id),V==="free"&&ND("pricing"))},[e,V,ae]),d.useEffect(()=>{if(e){if(de){Ve(de.billing_period==="YEARLY"?"annually":"monthly");const K=at(de.tier_name);x(L=>({...L,[K]:de.id}))}v(null)}},[e,de]),d.useEffect(()=>{e&&Se?.is_first_time_offer&&!rs&&!En.current&&!Bn&&(En.current=!0,Vn()),e||(En.current=!1)},[e,Se?.is_first_time_offer,rs,Bn,Vn]),d.useEffect(()=>{const K=B?.country_code==="IN",L=B?.country_code==="BR",T=pd()&&!Dt&&!qt&&!K&&!L;e&&T&&!jn&&!cn.current&&!fs&&(cn.current=!0,Un()),e||(cn.current=!1)},[e,B?.country_code,Dt,qt,jn,fs,Un]),d.useEffect(()=>{const K=fe?.promo_code_enabled&&!Dt&&!qt;e&&K&&!hn&&!Ln.current&&!Wn&&(Ln.current=!0,dn()),e||(Ln.current=!1)},[e,fe?.promo_code_enabled,Dt,qt,hn,Wn,dn]),d.useEffect(()=>{const K=L=>{if(y){const T=w.current[y];T&&!T.contains(L.target)&&v(null)}};return y&&document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[y]);const Zn=K=>{n(K),z(es.UPGRADE_TIER_MODAL_EVENTS.MODAL_CLOSED,{plan_type:i,current_plan:de?.tier_name||"free",trigger_location:a,has_applied_coupon:!!je,selected_billing_mode:He}),o&&setTimeout(()=>{Jf(),D(Ka(!0))},300),l&&setTimeout(()=>{l()},300)},Ot=K=>{Ve(K),z(es.UPGRADE_TIER_MODAL_EVENTS.BILLING_MODE_SWITCHED,{previous_mode:He,new_mode:K,plan_type:i,currency:Ke.current})},Jn=K=>{if(!de)return;const L=De(i,"YEARLY");let T;if(K&&K.ecu_credits?T=L?.find(O=>O.tier_name.toLowerCase()===K.tier_name.toLowerCase()&&O.ecu_credits===K.ecu_credits):T=L?.find(O=>O.tier_name.toLowerCase()===de.tier_name.toLowerCase()),T){if(R?.id){const O=de.tier_name;_d(R.id,O,O,"yearly",i==="team"||!!s,s,a,T?.currency,T?.amount)}vs(T)}},Pn=K=>{if(R?.id){const L=de?.tier_name||"free";_d(R.id,L,he(K.tier_name),"yearly",!0,pe?.id,a,Ke?.current,K?.amount)}pe?Gn(K,pe.id):vs(K)},Gs=()=>{u.info("Please contact support to downgrade your team subscription")},Gn=async(K,L)=>{m(K.id);try{z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,price:K.amount,currency:Ke.current,payment_provider:Dt?"razorpay":"stripe",has_coupon:!!Fs(K),coupon_code:Fs(K),organization_id:L,trigger_location:a,is_promotional_setup:!1});const T=oc("subscription",K.amount,Ke.current||"USD",K.amount*12);if(ia("subscription",T),Nd("subscription",K.amount,Ke.current||"USD"),Dt){const O={amount:0,price:0,selected:!1,discount:0,currency:Ke.current||"USD",couponCode:Fs(K)};await mt(O,void 0,{isSubscription:!0,planId:K.id,planName:K.tier_name,planType:i,eventId:T})}else{wn({paymentType:"subscription",currency:Ke.current,planName:K.tier_name});try{const O=await yt.createCheckoutSession(0,!0,K.id,void 0,Ke.current,T,Fs(K),!1);Qu({response:O,planId:K.id,planName:K.tier_name,hidePaymentModals:Oe,toast:c,errorMetadata:{organization_id:L},onBeforeCheckout:Ye(K.billing_period),email:R?.email})}catch(O){throw Oe(),Fn(Is.PAYMENT.CHECKOUT_SESSION_API,O,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,currency:Ke.current,organization_id:L,coupon_code:Fs(K)}),O}}}catch(T){Fn(Is.PAYMENT.CHECKOUT_SESSION_CREATION,T,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,price:K.amount,currency:Ke.current,payment_provider:_n,error_message:T?.response?.data?.detail||T?.message||"Unknown error",organization_id:L,trigger_location:a}),z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,price:K.amount,currency:Ke.current,payment_provider:Dt?"razorpay":"stripe",error_message:T?.response?.data?.detail||T?.message||"Unknown error",organization_id:L,trigger_location:a,is_promotional_setup:!1}),c({title:"Error",description:T.response.data.detail,variant:"destructive"})}finally{m(null)}},Bs=K=>{const L=K?()=>t.jsx(jr,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs(t.Fragment,{children:[Vs&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.githubIntegration")})})]}),Vs&&t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.forkTasks")})})]})]})},vs=async K=>{if(K.id==="free-tier"){c({title:"Downgrade to Free",description:"Please contact support to downgrade to the free tier.",variant:"default"});return}m(K.id);try{const L=ms(K)==="upgrade",T=i==="personal"&&!s,O=!ss(K.tier_name);if(L&&T&&O&&fn&&await Ct()){ct(K),m(null);return}if(R?.id){const ce=de?.tier_name||"free",We=he(K.tier_name),gt=K.billing_period==="YEARLY"?"yearly":"monthly",Nt=i==="team"||!!s;_d(R.id,ce,We,gt,Nt,s,a,K?.currency,K?.amount)}z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,price:K.amount,currency:Ke.current,payment_provider:_n,has_coupon:!!Fs(K),coupon_code:Fs(K),trigger_location:a,is_promotional_setup:qs(K)});const G=oc("subscription",K.amount,Ke.current||"USD",K.amount*12);if(ia("subscription",G),Nd("subscription",K.amount,Ke.current||"USD"),Dt){const ce={amount:0,price:0,selected:!1,discount:0,currency:Ke.current||"USD",couponCode:Fs(K)};await mt(ce,void 0,{isSubscription:!0,planId:K.id,planName:K.tier_name,planType:i,eventId:G})}else{wn({paymentType:"subscription",currency:Ke.current,planName:K.tier_name});try{const ce=await yt.createCheckoutSession(0,!0,K.id,void 0,Ke.current,G,Fs(K),qs(K));Qu({response:ce,planId:K.id,planName:K.tier_name,hidePaymentModals:Oe,toast:c,errorMetadata:{billing_period:K.billing_period},onBeforeCheckout:Ye(K.billing_period,qs(K)),email:R?.email})}catch(ce){throw Oe(),Fn(Is.PAYMENT.CHECKOUT_SESSION_API,ce,{plan_id:K.id,plan_name:K.tier_name,billing_period:K.billing_period,currency:Ke.current}),ce}}}catch(L){z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:K.id,plan_name:K.tier_name,plan_type:i,billing_period:K.billing_period,price:K.amount,currency:Ke.current,payment_provider:_n,error_message:L?.response?.data?.detail||L?.message||"Unknown error",trigger_location:a,is_promotional_setup:qs(K)}),c({title:"Error",description:L.response.data.detail,variant:"destructive"})}finally{m(null)}},sr=()=>{if(Ft(),St.plan){const K=St.plan;wn({paymentType:"subscription",currency:Ke.current,planName:K.tier_name}),yt.createCheckoutSession(0,!0,K.id,void 0,Ke.current,void 0,Fs(K),qs(K)).then(L=>{Qu({response:L,planId:K.id,planName:K.tier_name,hidePaymentModals:Oe,toast:c,errorMetadata:{currency:K.currency||Ke.current},onBeforeCheckout:Ye(K.billing_period,qs(K)),email:R?.email})}).catch(L=>{Oe(),u.error("Failed to create checkout session. Please try again."),Fn(Is.PAYMENT.CHANGE_PAYMENT_METHOD,L,{plan_id:K.id,plan_name:K.tier_name,currency:K.currency||Ke.current})})}},he=K=>{const L=at(K);return L.includes("teams")?"Team":L.includes("standard")?il.STANDARD:L.includes("starter")?il.STARTER:L.includes("pro")?il.PRO:K},et=K=>he(K)===il.PRO,jt=K=>{const L=he(K);return L===il.STANDARD||L===il.STARTER},tn=K=>he(K)===il.STARTER,ls=Yt&&nm(),us=(K,L)=>{const O=Qe(Se).filter(G=>he(G.tier_name)===he(K)&&G.billing_period===L);return O.length===0?100:Math.min(...O.map(G=>G.ecu_credits))},Xn=K=>{if(!ls)return!1;const L=$n(),T=tn(K.tier_name),O=K.billing_period==="MONTHLY",G=us(K.tier_name,K.billing_period),ce=K.ecu_credits===G;return L&&T&&O&&ce},Yn=K=>{const L=jt(K.tier_name),T=K.billing_period==="MONTHLY",O=us(K.tier_name,K.billing_period),G=K.ecu_credits===O;return L&&T&&G},ss=K=>he(K)==="Team",ms=K=>{if(!de||i==="team"&&!de.tier_name.toLowerCase().includes("team"))return"upgrade";if(i==="personal"&&de.tier_name.toLowerCase().includes("team"))return"downgrade";const L=G=>{const ce=G.toLowerCase().replace(/\s+/g,"");return ce.includes("free")?0:ce.includes("standard")||ce.includes("starter")?1:ce.includes("pro")?2:ce.includes("teams")?3:4},T=L(de.tier_name),O=L(K.tier_name);return O>T?"upgrade":O<T?"downgrade":K.amount>de.amount?"upgrade":"downgrade"},ar=K=>K.billing_period==="YEARLY"?Math.ceil(Math.round(K.amount/_de.MONTHLY_DIVISOR*100)/100):K.amount,Fs=K=>{if(Se?.is_first_time_offer&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&K.ecu_credits===100&&rs)return rs;if(fe?.promo_code_enabled&&!Dt&&!qt&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&hn)return hn;const O=B?.country_code==="IN",G=B?.country_code==="BR";return pd()&&!Dt&&!qt&&!O&&!G&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&jn?jn:je?.code},Ge=K=>!!Se?.is_first_time_offer&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&K.ecu_credits===100&&(Bn||!rs&&!En.current),te=K=>{const L=B?.country_code==="IN",T=B?.country_code==="BR";return pd()&&!Dt&&!qt&&!L&&!T&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&(fs||!jn&&!cn.current)},ie=K=>!!fe?.promo_code_enabled&&!Dt&&!qt&&K.billing_period==="MONTHLY"&&jt(K.tier_name)&&(Wn||!hn&&!Ln.current),ze=K=>{const L=ar(K),T=K.billing_period==="MONTHLY"&&jt(K.tier_name);return qs(K)?0:me?L:Se?.is_first_time_offer&&T&&K.ecu_credits===100?1:Xn(K)?Math.ceil(L*.1):Dt?Math.max(T?Math.floor(L*.25):0,L-1e3):fe?.promo_code_enabled?T?Math.max(Math.floor(L*.05),L-19):L:Math.max(T?Math.floor(L*.25):0,L-15)},Ht=()=>{if(ue?.subscription){if(Mt()){const K=ue.subscription.expires_at;return typeof K=="string"?K:void 0}return ue.monthly_credits_refresh_date||void 0}},Pe=()=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:p("credits.upgradeTierModal.processing")})]}),Mt=()=>ue?.subscription?.status==="initiated_cancellation",Tt=()=>de?.payment_gateway==="REVENUECAT",ft=(K,L)=>{if(!Tt())return!1;if(!Mt())return!0;if(!de?.tier_name||!K)return!1;const T=at(K),O=at(de.tier_name);return!(!(T.includes(O)||O.includes(T))||L&&de.id&&L!==de.id)},$n=()=>i==="personal"?!de:V===il.FREE,Ns=()=>!!(i==="team"&&de&&de.tier_name.toLowerCase().includes("team")),si=()=>me?p("credits.upgradeTierModal.claimYourFreeTrial"):a==="e2Agent"?p("credits.upgradeTierModal.unlockE2Agent"):i==="team"?Ns()?p("credits.upgradeTierModal.managePlanFor",{organizationName:r}):p("credits.upgradeTierModal.choosePlanFor",{organizationName:r}):$n()?p("credits.upgradeTierModal.chooseYourPlan"):p("credits.upgradeTierModal.manageYourPlan"),Ms=(K,L,T)=>ft(K,T)?{background:"#4A4A4D",opacity:.6,cursor:"not-allowed"}:me&&oe&&T===oe?Fde:L?jde:Nde,ui=K=>K?"hover:!shadow-[0_0_30px_5px_rgba(243,202,95,0.25)] transition-shadow duration-200":"hover:shadow-[0_0_30px_5px_rgba(255,255,255,0.2)] transition-shadow duration-200",an=(K,L,T,O)=>{const G="w-full px-[12px] h-[48px] pr-[16px] text-[16px] leading-5 font-semibold rounded-[10px] items-center flex justify-center",ce=ui(T);return ft(K.tier_name,O)?A(G,"opacity-60 cursor-not-allowed text-gray-400"):A(G,"font-brockmann text-black tracking-[-0.2px] gap-1",ce)},Pi=(K,L)=>{const T="gap-1 mb-1 font-semibold flex items-center font-inter";return ss(K)?A(T,"text-transparent bg-clip-text"):A(T,L?"text-[#F3CA5F]":"text-[#fff]")},wr=(K,L)=>{const T="rounded-full py-[8px] px-3 font-inter font-medium",O="bg-[#252529]";return L==="monthly"?A(T,"max-md:w-1/2",K==="monthly"&&O):A(T,"flex-1 text-nowrap flex items-center justify-center gap-1",K==="annually"&&O)},ye=()=>Mt()?p("credits.upgradeTierModal.resume"):p("credits.upgradeTierModal.cancel"),at=K=>K.toLowerCase().replace(/\s+/g,""),Qn=K=>{if(!$n()&&de&&de.billing_period==="MONTHLY"&&He==="annually"&&at(K.tier_name)===at(de.tier_name)&&K.billing_period==="YEARLY")return!0;if(i==="personal"&&ss(K.tier_name)&&P){const L=q?.current_subscription;if(L&&L.billing_period==="MONTHLY"&&He==="annually"&&at(K.tier_name)===at(L.tier_name)&&K.billing_period==="YEARLY")return!0}return!1},Nn=K=>{if(!$n()&&de&&de.billing_period==="YEARLY"&&He==="monthly"&&at(K.tier_name)===at(de.tier_name)&&K.billing_period==="MONTHLY")return!0;if(i==="personal"&&ss(K.tier_name)&&P){const L=q?.current_subscription;if(L&&L.billing_period==="YEARLY"&&He==="monthly"&&at(K.tier_name)===at(L.tier_name)&&K.billing_period==="MONTHLY")return!0}return!1},ks=(K,L)=>ss(K.tier_name)?t.jsx(Ut,{credits:K.ecu_credits||1250}):et(K.tier_name)?t.jsx(rt,{isHighlighted:L}):jt(K.tier_name)?t.jsx(Wt,{isHighlighted:L}):null,qs=K=>!!(me&&oe&&K.id===oe&&K.billing_period==="MONTHLY"),ur=(K,L)=>{const T=de&&at(K.tier_name)===at(de.tier_name);if(T&&de){if(de.billing_period==="MONTHLY"&&K.billing_period==="YEARLY")return p("credits.upgradeTierModal.upgradeToAnnual");if(de.billing_period==="YEARLY"&&K.billing_period==="MONTHLY")return p("credits.upgradeTierModal.downgradeToMonthly");if(de.billing_period===K.billing_period){if(de.id===K.id)return p("credits.upgradeTierModal.currentPlan");if(K.ecu_credits&&de.ecu_credits){if(K.ecu_credits>de.ecu_credits)return p("credits.upgradeTierModal.upgradeCurrentPlan");if(K.ecu_credits<de.ecu_credits)return p("credits.upgradeTierModal.downgradeCurrentPlan")}return K.amount>de.amount?p("credits.upgradeTierModal.upgradeCurrentPlan"):K.amount<de.amount?p("credits.upgradeTierModal.downgradeCurrentPlan"):p("credits.upgradeTierModal.currentPlan")}}return K.id==="free-tier"?p("credits.upgradeTierModal.downgradeTo",{tier:he(K.tier_name)}):de&&de.billing_period==="MONTHLY"&&K.billing_period==="YEARLY"&&!T?p("credits.upgradeTierModal.upgradeTo",{tier:he(K.tier_name)}):!!!s&&ss(K.tier_name)?se?p("credits.upgradeTierModal.paymentPending"):p("credits.upgradeTierModal.upgradeTo",{tier:he(K.tier_name)}):qs(K)?p("credits.upgradeTierModal.startFreeTrialNow"):Se?.is_first_time_offer&&jt(K.tier_name)&&K.ecu_credits===100&&K.billing_period==="MONTHLY"?p("credits.upgradeTierModal.startStandardTrial"):ms(K)==="upgrade"?p("credits.upgradeTierModal.upgradeTo",{tier:he(K.tier_name)}):p("credits.upgradeTierModal.downgradeTo",{tier:he(K.tier_name)})},pi=K=>17,ne=K=>K.billing_period!=="YEARLY"?null:De(i,"MONTHLY")?.find(O=>at(O.tier_name)===at(K.tier_name)&&O.ecu_credits===K.ecu_credits)?.amount||null,Re=d.useMemo(()=>Qe(Se).some(L=>L.billing_period==="YEARLY"),[Se,i,s]),bt=d.useMemo(()=>$n()&&!Cs&&i==="personal",[$n,Cs,i,V,de]),Bt=K=>{const L=zt?1:0;return K.length+L},Ze=K=>K===1?"md:grid-cols-1 md:max-w-md md:mx-auto":K===2?"md:grid-cols-2 md:max-w-3xl md:mx-auto":K===3?"md:grid-cols-3 md:max-w-[1200px] md:mx-auto":"md:grid-cols-4 md:max-w-7xl md:mx-auto",as=(K,{isMobile:L,isOnFreeTier:T})=>{if(K.length<2)return K;const O=G=>K.findIndex(ce=>G(ce.tier_name.toLowerCase()));if(L){const G=O(T?ce=>ce.includes("standard")||ce.includes("starter"):ce=>ce.includes("pro"));if(G>0){const[ce]=K.splice(G,1);K.unshift(ce)}}else T&&([K[0],K[1]]=[K[1],K[0]]);return K},hr=d.useMemo(()=>{const K={};if(!Se?.plans)return[];Object.entries(Se.plans).forEach(([ce,We])=>{const gt=He==="annually"?We.yearly_plans:We.monthly_plans;if(gt&&gt.length>0){Ke.current=gt[0]?.currency?.toUpperCase()||"USD";const Nt=gt[0].tier_name;if(at(Nt).includes("team"))return;const _s=[...gt].sort((Sr,Si)=>(Sr.ecu_credits||0)-(Si.ecu_credits||0)),Ks=_s[0];K[Nt]||(K[Nt]=[]),K[Nt].push({...Ks,variants:_s})}});const L=[];Object.values(K).forEach(ce=>{ce.length>0&&(Ke.current=ce[0]?.currency?.toUpperCase()||"USD"),L.push(...ce)});const T=ce=>{const We=at(ce);return We.includes("standard")||We.includes("starter")?q3.STANDARD_STARTER:We.includes("pro")?q3.PRO:We.includes("teams")||We.includes("team")?4:q3.OTHER},O=L.sort((ce,We)=>T(ce.tier_name)-T(We.tier_name)),G=i==="personal"?!de:V===il.FREE;return as(O,{isMobile:Cs,isOnFreeTier:G})},[Se,i,de,He,s,pe,V,Cs]),Oi=K=>K.includes("md:max-w-md")?"md:max-w-md":K.includes("md:max-w-3xl")?"md:max-w-3xl":K.includes("md:max-w-5xl")?"md:max-w-5xl":(K.includes("md:max-w-7xl"),"md:max-w-7xl"),Qs=d.useMemo(()=>{const K=hr.filter(O=>!ss(O.tier_name)),L=zt?Bt(K)-1:Bt(K),T=Ze(L);return{totalCards:L,gridColumns:T,maxWidth:Oi(T)}},[hr,i,bt,Cs,zt]);d.useMemo(()=>Qs.totalCards<=2?"md:max-w-[1200px]":Qs.maxWidth,[Qs.totalCards,Qs.maxWidth]);const Sa=async K=>{if(!K.trim()){u.error(p("credits.upgradeTierModal.pleaseEnterCoupon")),On(p("credits.upgradeTierModal.pleaseEnterCoupon"));return}Kt(!0),On("");try{const L=K.toUpperCase(),T=B?.payment_provider?.toUpperCase()||"STRIPE",O=await Ie({coupon_name:L,payment_mode:"subscription",payment_gateway:T}).unwrap();if(!O.valid){const G=O.message||p("credits.upgradeTierModal.invalidCoupon");u.error(G),On(G),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:L,error_message:G,plan_type:i,currency:Ke.current});return}Le({code:L,discount:0}),u.success(p("credits.upgradeTierModal.couponApplied")),Rt(!1),it(""),On(""),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLIED,{coupon_code:L,plan_type:i,currency:Ke.current})}catch(L){const T=L?.data?.message||L?.message||p("credits.upgradeTierModal.failedToValidateCoupon");On(T),u.error(T),Fn(Is.COUPON.VERIFY,L,{coupon_code:K,error_message:T,plan_type:i,currency:Ke.current}),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:K,error_message:T,plan_type:i,currency:Ke.current})}finally{Kt(!1)}},Va=()=>{Sa(qe)},ke=()=>{je&&z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_REMOVED,{coupon_code:je.code,plan_type:i,currency:Ke.current}),Le(null),it(""),On(""),Rt(!1)},rt=({isHighlighted:K})=>{const L=K?()=>t.jsx(jr,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.e2Agent")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.contextWindow")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.ultraThinking")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.systemPromptEdit")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-white font-inter",children:p("credits.upgradeTierModal.customAgents")})})]})]})},Ut=({credits:K})=>t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.collaborativeWorkspace")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.centralBilling")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.sharedTeamPool",{credits:K})})})]})]}),Wt=({isHighlighted:K})=>{const L=K?()=>t.jsx(jr,{color:"#FFF",className:"w-5 h-5 mr-3 mt-0.5"}):()=>t.jsx(Mn,{className:"w-5 h-5 text-white mr-3 mt-0.5"});return t.jsxs("div",{className:"flex-grow space-y-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.mobileAppDevelopment")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.privateProjectHosting")})})]}),Bs(K),t.jsxs("div",{className:"flex items-start",children:[t.jsx(L,{}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-white font-inter",children:p("credits.upgradeTierModal.buyAdditionalCredits")})})]})]})};return e?ht?t.jsx(zn,{open:!0,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[9999] bg-black/50 flex items-center justify-center",children:t.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-[#1C1C1F] border border-[#2E2F34] rounded-[20px] p-8 max-w-md mx-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-[#F3CA5F] border-t-transparent rounded-full animate-spin"}),t.jsx("div",{className:"font-medium text-white",children:"Loading latest plans..."}),t.jsx("div",{className:"text-sm text-gray-400",children:"Please wait while we fetch the most up-to-date pricing"})]})})})})})}):t.jsxs(t.Fragment,{children:[t.jsx(zn,{open:!0,onOpenChange:n,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsxs("div",{"data-testid":Rr.upgradeTier.modal,className:"fixed inset-0 z-[9999]",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]",onClick:()=>Zn(!1)}),t.jsxs("div",{className:"flex flex-col w-full h-full",children:[Ae&&!fe?.promo_code_enabled&&t.jsx(hP,{config:Ae.config,showPromoCode:Ae.showPromoCode,isMobile:Cs,onCodeCopy:K=>{u.success("Code Copied"),z("promotional_banner_code_copied",{code:K,banner_text:Ae.config?.text,trigger_location:a})}}),fe?.pix_modal&&V==="free"&&t.jsx(gP,{couponCode:"PIX90"}),t.jsx("div",{className:"relative w-full h-full overflow-y-auto",children:t.jsxs(xe.div,{className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:K=>K.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:()=>Zn(!1),disabled:f!==null,className:A("fixed top-4 right-4 md:right-6 z-[1000] p-2 bg-[#0000003c] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",f!==null&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-[#FFFFFF]"})}),t.jsxs("div",{className:"flex flex-col w-full mx-auto max-w-8xl md:items-center",children:[t.jsx("div",{className:"flex items-start justify-start w-full mb-8 md:justify-center md:items-center",children:t.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 md:items-center",children:[t.jsx("h2",{className:"text-[22px] md:text-[28px] font-medium text-[#E6E6E6]",children:si()}),ft()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start font-inter font-medium whitespace-pre-line",children:p("credits.upgradeTierModal.revenueCatSubscriptionMessage")}):$n()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:i==="team"?p("credits.upgradeTierModal.selectTeamPlanFor",{organizationName:r}):p("credits.upgradeTierModal.pickPlanDescription")}):t.jsxs("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:[Mt()?p("credits.upgradeTierModal.planCancelsOn"):p("credits.upgradeTierModal.monthlyCreditsRefreshesOn"),t.jsx("span",{className:"text-[#FFFFFF] font-inter font-medium ml-1",children:bm(Ht())})]})]})}),Re&&t.jsxs("div",{className:"bg-[#151517] rounded-full flex items-center text-[14px] border-[#FFFFFF1F] border p-1 mb-4",children:[t.jsx("button",{type:"button",onClick:()=>Ot("monthly"),className:wr(He,"monthly"),children:p("credits.upgradeTierModal.monthly")}),t.jsxs("button",{type:"button",onClick:()=>Ot("annually"),className:wr(He,"annually"),children:[p("credits.upgradeTierModal.annually")," ",t.jsx("div",{className:" text-[#47B24D] font-inter text-[14px] font-semibold rounded-full",children:p("credits.upgradeTierModal.save",{percentage:pi()})})]})]}),(Dt||Yt)&&i==="personal"&&!$&&t.jsx("div",{className:"mb-6",children:je?t.jsxs("div",{className:"flex items-center justify-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:[t.jsxs("div",{className:"flex",children:[t.jsxs("svg",{className:"self-center",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 18C8.89333 18 7.85333 17.79 6.88 17.37C5.90667 16.95 5.06 16.38 4.34 15.66C3.62 14.94 3.05 14.0933 2.63 13.12C2.21 12.1467 2 11.1067 2 10C2 8.89333 2.21 7.85333 2.63 6.88C3.05 5.90667 3.62 5.06 4.34 4.34C5.06 3.62 5.90667 3.05 6.88 2.63C7.85333 2.21 8.89333 2 10 2C11.1067 2 12.1467 2.21 13.12 2.63C14.0933 3.05 14.94 3.62 15.66 4.34C16.38 5.06 16.95 5.90667 17.37 6.88C17.79 7.85333 18 8.89333 18 10C18 11.1067 17.79 12.1467 17.37 13.12C16.95 14.0933 16.38 14.94 15.66 15.66C14.94 16.38 14.0933 16.95 13.12 17.37C12.1467 17.79 11.1067 18 10 18Z",fill:"#5FE55C"}),t.jsx("path",{d:"M13.1332 7C13.285 7 13.426 7.02648 13.5562 7.07943C13.6864 7.13239 13.8021 7.20829 13.9033 7.30713C14.0046 7.40598 14.0805 7.51719 14.1311 7.64075C14.1817 7.76431 14.2107 7.90375 14.2179 8.05909C14.2179 8.2003 14.1908 8.33621 14.1365 8.46683C14.0823 8.59745 14.0046 8.71219 13.9033 8.81104L9.59703 13.0209C9.49579 13.1198 9.37828 13.1957 9.2445 13.2486C9.11072 13.3016 8.97152 13.3298 8.82689 13.3333C8.68226 13.3333 8.54306 13.3069 8.40928 13.2539C8.2755 13.2009 8.15799 13.1233 8.05675 13.0209L6.09343 11.104C5.99219 11.0051 5.91445 10.8904 5.86021 10.7598C5.80598 10.6291 5.77705 10.4932 5.77344 10.352C5.77344 10.2037 5.80236 10.0661 5.86021 9.93896C5.91807 9.81187 5.9958 9.6989 6.09343 9.60006C6.19105 9.50121 6.30494 9.42707 6.43511 9.37765C6.56527 9.32822 6.70809 9.29998 6.86357 9.29292C7.0082 9.29292 7.1474 9.3194 7.28118 9.37235C7.41496 9.42531 7.53247 9.50121 7.63371 9.60006L8.82689 10.765L12.363 7.30713C12.4643 7.20829 12.5818 7.13239 12.7156 7.07943C12.8493 7.02648 12.9885 7 13.1332 7Z",fill:"#172218"})]}),t.jsx("span",{className:"ml-1 text-[#5FE55C] font-inter text-[14px] font-medium leading-[20px] uppercaseRetry",children:je.code})]}),t.jsx("button",{onClick:ke,className:"ml-2 text-white/50 font-inter text-[16px] font-medium leading-[20px]",children:p("credits.upgradeTierModal.remove")})]}):xt?t.jsx("div",{className:"relative min-w-[300px] animate-in fade-in-0 slide-in-from-top-2 duration-300",children:t.jsxs("div",{className:A("relative w-full flex items-center rounded-[12px] pl-4 pr-2 py-2 transition-colors",Cn?"border border-[rgba(255,128,128,0.30)]":"border border-white/10 focus-within:border-[rgba(255,255,255,0.20)]"),children:[t.jsx("input",{type:"text",value:qe,onChange:K=>it(K.target.value.toUpperCase()),onKeyDown:K=>{K.key==="Enter"&&qe.trim()&&!_t&&(K.preventDefault(),Va())},placeholder:p("credits.upgradeTierModal.enterCode"),className:"bg-transparent flex-1  text-white placeholder-[#FFF]/30 focus:outline-none text-[14px] font-medium",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{Rt(!1),it(""),On("")},className:"flex items-center justify-center transition-colors rounded-full w-7 h-7 bg-white/10",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.60"})})}),t.jsx("button",{onClick:Va,disabled:_t||!qe.trim(),className:A("w-7 h-7 rounded-full flex items-center justify-center transition-colors bg-white",qe?"cursor-pointer":"bg-opacity-20"),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M15.2803 5.73438C15.505 5.7344 15.7279 5.77923 15.9355 5.86523C16.143 5.95126 16.3324 6.07652 16.4912 6.23535C16.812 6.55627 16.9921 6.99252 16.9922 7.44629C16.9921 7.89995 16.8119 8.33539 16.4912 8.65625L9.49219 15.6562C9.32753 15.8209 9.13115 15.9509 8.91602 16.04C8.70088 16.1291 8.47016 16.1758 8.2373 16.1758C8.00442 16.1758 7.77376 16.1291 7.55859 16.04C7.34344 15.9509 7.14711 15.8209 6.98242 15.6562L3.50488 12.1787L3.50586 12.1777C3.34717 12.0219 3.21871 11.8372 3.13086 11.6328C3.04131 11.4243 2.99426 11.1996 2.99219 10.9727C2.99021 10.7454 3.03406 10.5189 3.12012 10.3086C3.20611 10.0986 3.33273 9.9076 3.49316 9.74707C3.65383 9.58641 3.84538 9.45911 4.05566 9.37305C4.26593 9.28703 4.49157 9.24317 4.71875 9.24512C4.94571 9.24712 5.17033 9.29429 5.37891 9.38379C5.58311 9.47151 5.76809 9.59938 5.92383 9.75781H5.9248L8.23633 12.0693L14.0693 6.23535C14.2281 6.07648 14.4175 5.95128 14.625 5.86523C14.8326 5.77923 15.0556 5.73442 15.2803 5.73438ZM7.53223 15.1064C7.6247 15.1989 7.73564 15.2722 7.85645 15.3223C7.94697 15.3597 8.04252 15.3829 8.13965 15.3926L8.04297 15.3779C7.97906 15.3652 7.91596 15.3463 7.85547 15.3213C7.73474 15.2712 7.62464 15.1979 7.53223 15.1055L5.5957 13.1689L7.53223 15.1064ZM8.61816 15.3213C8.59576 15.3306 8.57276 15.3381 8.5498 15.3457C8.57263 15.3381 8.59588 15.3315 8.61816 15.3223C8.64819 15.3098 8.6774 15.2955 8.70605 15.2803C8.67763 15.2954 8.64804 15.3089 8.61816 15.3213ZM16.0029 8.03711C15.9836 8.06074 15.9632 8.08366 15.9414 8.10547L8.94141 15.1055C8.89525 15.1516 8.84502 15.1934 8.79102 15.2295L8.86914 15.1719C8.89447 15.1512 8.91921 15.1296 8.94238 15.1064L15.9414 8.10645C15.9852 8.06266 16.0238 8.01464 16.0576 7.96387L16.0029 8.03711ZM3.83984 10.6035C3.82804 10.6324 3.81746 10.6617 3.80859 10.6914C3.79983 10.721 3.7929 10.751 3.78711 10.7812V10.7803C3.79875 10.7197 3.81639 10.6599 3.83984 10.6025C3.85147 10.5742 3.8646 10.5465 3.87891 10.5195L3.83984 10.6035Z",fill:"black"})})})]})]})}):t.jsx("div",{className:"text-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:t.jsx("button",{onClick:K=>{K.preventDefault(),K.stopPropagation(),Rt(!0),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_INPUT_SHOWN,{plan_type:i,currency:Ke.current})},className:"text-white/50 hover:text-white/40 font-inter text-[14px] font-medium leading-[20px]",children:p("credits.upgradeTierModal.havePromoCode")})})}),me||Me?null:fe?.promo_code_enabled?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(vm,{inline:!0,maxWidth:Qs.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(vm,{variant:"card"})})]}):pd()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(wm,{inline:!0})}),t.jsx("div",{className:"md:hidden",children:t.jsx(wm,{variant:"card"})})]}):nm()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(og,{inline:!0,maxWidth:Qs.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(og,{variant:"card"})})]}):zx()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Cm,{inline:!0,maxWidth:Qs.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Cm,{variant:"card"})})]}):null,t.jsxs("div",{className:A("flex flex-col gap-3 w-full","md:grid md:gap-3 md:justify-center",Qs.gridColumns,me&&"md:mt-4"),children:[hr.map(K=>{if(ss(K.tier_name))return null;const L=K.variants,T=at(K.tier_name),O=h[T],G=L&&O?L.find(Sr=>Sr.id===O)||L[0]:L?.[0]||K,ce=de&&G.id===de.id&&G.billing_period===de.billing_period,We=Qn(G);Nn(G);const gt=!ss(K.tier_name)&&et(K.tier_name),Nt=jt(K.tier_name),Qt=$n()?Nt:gt,Dn=qs(G),_s=Dn?Math.floor(G.ecu_credits/2):null,Ks=t.jsxs("div",{className:A("rounded-[16px] max-md:w-full pb-6 p-6 flex flex-col relative transition-colors duration-200 md:max-w-[410px] w-full min-h-[550px] md:min-h-[550px]","bg-[#212124]",Qt&&!Dn&&"bg-[#F3CA5F0D]",!Qt&&!Dn&&"md:scale-95"),children:[ss(K.tier_name)?t.jsxs("div",{children:[t.jsxs("h3",{className:"text-white gap-1 mb-1 font-semibold flex items-center font-inter",children:[he(K.tier_name)," ",t.jsx(by,{size:24,fill:"white",className:"ml-1"})]}),t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.designedForTeams")})]}):t.jsxs("div",{children:[t.jsxs("h3",{className:Pi(K.tier_name,Qt&&!Dn),children:[he(K.tier_name)," ",et(K.tier_name)?t.jsx(jr,{color:Qt&&!Dn?"#F3CA5F":"#FFF",size:24,height:24,width:24}):t.jsx(Jce,{color:Qt&&!Dn?"#F3CA5F":"#FFF",size:24,height:24,width:24})]}),et(K.tier_name)?t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.builtForCreators")}):Dn?t.jsx("p",{className:"text-white/60 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.freeTrialSubtitle",{price:Tr(G.amount,Ke.current)})}):Se?.is_first_time_offer&&jt(K.tier_name)&&G.ecu_credits===100&&G.billing_period==="MONTHLY"?t.jsxs("div",{children:[t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.firstMonthPrice")}),t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.thenRegularPrice")})]}):t.jsx("p",{className:"text-white/50 text-[14px] font-medium font-inter",children:p("credits.upgradeTierModal.perfectForBuilders")})]}),t.jsxs("div",{className:"flex items-center justify-between my-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline leading-[32px] h-[32px]",children:[t.jsxs("span",{className:A("font-semibold text-[28px] tracking-[-0.2px]",Dn&&"bg-[linear-gradient(149deg,#E5CBB8_-0.46%,#F49B57_95.37%)] bg-clip-text text-transparent"),children:[Dn?p("credits.upgradeTierModal.firstMonthFree"):Se?.is_first_time_offer&&jt(K.tier_name)&&G.ecu_credits===100&&G.billing_period==="MONTHLY"?Tr(1,Ke.current):Tr((!Se?.is_first_time_offer&&!qt||Yn(G))&&(Ju()&&G.billing_period==="MONTHLY"&&!In&&(!fe?.promo_code_enabled||jt(G.tier_name))||Xn(G))?ze(G):ar(G),Ke.current)," "]}),!Dn&&t.jsx("span",{className:"ml-2 font-medium text-white/50 text-[18px]",children:p("credits.upgradeTierModal.perMonth")})]}),Dn&&t.jsx("div",{className:"font-semibold w-fit text-2xl tracking-[-0.48px] text-white/30 line-through",children:Tr(ar(G),Ke.current)}),!me&&(!Se?.is_first_time_offer&&!qt||Yn(G))&&(Ju()&&G.billing_period==="MONTHLY"&&!In&&(!fe?.promo_code_enabled||jt(G.tier_name))||Xn(G))&&t.jsxs("div",{className:"font-semibold w-fit h-[32px] text-[20px] tracking-[-0.2px] text-[#646466] relative",children:[Tr(ar(G),Ke.current)," ",t.jsx("div",{className:"absolute inset-0 transform -translate-y-1/2 h-[1.5px] w-full bg-[#969699] top-[50%]"})]})]}),Dn&&t.jsx("div",{children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:p("credits.upgradeTierModal.saveAmount",{amount:Tr(ar(G),Ke.current)})})}),!me&&(!Se?.is_first_time_offer&&!qt||Yn(G))&&(Ju()&&G.billing_period==="MONTHLY"&&!In&&(!fe?.promo_code_enabled||jt(G.tier_name))||Xn(G))&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:p("credits.upgradeTierModal.saveAmount",{amount:Tr(ar(G)-ze(G),Ke.current)})})}),G.billing_period==="YEARLY"&&ne(G)&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex flex-col items-center justify-center px-[12px] py-[8px] min-h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:p("credits.upgradeTierModal.saveAmount",{amount:Tr(ne(G)*12-G.amount,Ke.current)}).split(`
`).map(Sr=>t.jsx("span",{children:Sr},Sr))})})]}),(!L||L.length<=1)&&t.jsx("div",{className:"relative mt-2",children:t.jsx("button",{type:"button",className:"w-full px-3 h-[48px] bg-[rgba(255,255,255,0.02)] mb-4 rounded-[10px] border border-white/20 flex items-center justify-between transition-colors cursor-default",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ra,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[_s??Sd(G.ecu_credits,Se?.is_first_time_offer,G.billing_period)," ",p("credits.credits")," ",t.jsx("span",{className:"text-white/50",children:p("credits.upgradeTierModal.perMonth")})]})]})})}),L&&L.length>1&&(()=>{const Sr=y===T,Si=g.has(T);return t.jsxs("div",{className:"relative mt-2",ref:lr=>{w.current[T]=lr},children:[t.jsxs("button",{type:"button",onClick:()=>{v(Sr?null:T),Si||b(lr=>new Set(lr).add(T))},className:A("w-full px-3 h-[48px] bg-[rgba(255,255,255,0.02)] mb-4 rounded-[10px] border border-white/20 flex items-center justify-between hover:bg-[rgba(255,255,255,0.04)] transition-colors hover:border-[#FFFFFF4D]",Sr&&"border-[#FFFFFF4D] bg-[rgba(255,255,255,0.04)]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ra,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[!Dn&&Se?.is_first_time_offer&&G.ecu_credits===100&&G.billing_period==="MONTHLY"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"line-through text-white/50",children:G.ecu_credits})," "]}),_s??Sd(G.ecu_credits,Se?.is_first_time_offer,G.billing_period)," ",p("credits.credits")," ",t.jsx("span",{className:"text-white/50",children:p("credits.upgradeTierModal.perMonth")})]})]}),t.jsxs("div",{className:"flex justify-center items-center gap-[12px]",children:[Qt&&!Sr&&!Si&&t.jsxs("div",{className:"relative flex items-center justify-center",children:[t.jsx("span",{className:"absolute inline-flex h-[10px] w-[10px] rounded-full bg-[#ff6666] opacity-75 animate-ping"}),t.jsx("span",{className:"relative inline-flex h-[10px] w-[10px] rounded-full bg-[#ff6666]"})]}),t.jsx(Dr,{className:A("w-6 h-6 text-[#FFFFFF]/30 transition-transform",Sr&&"rotate-180")})]})]}),Sr&&t.jsx("div",{className:"absolute top-full -translate-y-3  left-0 gap-2  flex flex-col right-0 mt-1 p-2 bg-[#1A1A1C] border border-[#3A3A3B] rounded-lg overflow-hidden z-10",children:L.map(lr=>t.jsxs("button",{type:"button",onClick:()=>{x(pr=>({...pr,[T]:lr.id})),v(null),z(es.UPGRADE_TIER_MODAL_EVENTS.PLAN_VARIANT_SELECTED,{plan_name:lr.tier_name,plan_id:lr.id,credits:lr.ecu_credits,billing_period:lr.billing_period,price:lr.amount,plan_type:i,currency:Ke.current})},className:A("w-full  rounded-[8px] text-left p-2 hover:bg-[#FFFFFF0F] transition-colors flex items-center text-white/60 justify-between",G.id===lr.id&&"bg-[#80FFF90F] text-[#80FFF9]"),children:[t.jsxs("span",{className:"text-[14px] font-medium font-inter",children:[qs(lr)?Math.floor(lr.ecu_credits/2):Sd(lr.ecu_credits,Se?.is_first_time_offer,lr.billing_period)," ",p("credits.upgradeTierModal.creditsPerMonth"),qs(lr)&&t.jsxs("span",{className:"text-[#66FF6F] ml-1",children:["(",p("credits.upgradeTierModal.firstMonthFree"),")"]})]}),G.id===lr.id&&t.jsx(Mn,{color:"#80FFF9",size:20})]},lr.id))})]})})(),ce?t.jsx(xe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",className:"bg-[#FFFFFF29] text-[#FFFFFF] rounded-[10px] flex text-[16px] gap-2 font-semibold w-full px-[12px] h-[48px] pr-[16px] items-center justify-center",children:[p("credits.upgradeTierModal.currentActivePlan"),(et(K.tier_name)||ss(K.tier_name))&&t.jsx(jr,{color:"#ffffff",size:24,height:24,width:24})]})}):We?t.jsx(xe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",style:Ms(K.tier_name,Qt,G.id),className:an(K,!1,Qt,G.id),onClick:()=>{i==="personal"&&ss(G.tier_name)?Pn(G):Jn(G),z(Tn.MODAL_EVENTS.UPDATE_TIER_CLICKED,{planType:i,plan:K,selectedVariant:G,currency:Ke.current})},disabled:f!==null||ft(K.tier_name,G.id),children:[f!==null?Pe():p("credits.upgradeTierModal.upgradeToAnnual"),Qt&&t.jsx(jr,{color:"#0F0F10",size:24,height:24,width:24})]})}):t.jsx(xe.div,{className:"inline-block",whileHover:{y:-4},transition:{duration:.25,ease:"easeOut"},children:t.jsxs("button",{type:"button",style:Ms(K.tier_name,Qt,G.id),className:an(K,!1,Qt,G.id),onClick:()=>{i==="personal"&&ss(G.tier_name)&&Nn(G)?Gs():vs(G),z(Tn.CREDIT_EVENTS.PLAN_UPGRADE_BUTTON_CLICKED,{planType:i,plan:K,selectedVariant:G,currency:Ke.current})},disabled:f===G.id||ft(K.tier_name,G.id)||Ge(G)||te(G)||ie(G),children:[f===G.id||Ge(G)||te(G)||ie(G)?Pe():ur(G),Dn?t.jsx(Jo,{size:20,strokeWidth:2.6}):Qt&&t.jsx(jr,{color:"#0F0F10",size:24,height:24,width:24})]})}),t.jsx("div",{className:"mb-6"}),ss(K.tier_name)?t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.everythingInProPlus")}):et(K.tier_name)?t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.everythingInStandardPlus")}):t.jsx("div",{className:"text-white/50 text-[14px] font-medium font-inter mb-4",children:p("credits.upgradeTierModal.includes")}),ks(G,Qt)]},K.id);return Dn?t.jsxs("div",{className:"relative rounded-[24px] overflow-hidden p-[6px] bg-[linear-gradient(136.985deg,_rgb(229,_203,_184)_0.46%,_rgb(244,_155,_87)_95.37%)]",children:[t.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${W.modals.pixelatedOrangeGradientBgCard})`}}),t.jsxs("div",{className:"relative flex items-center justify-center gap-3 pt-1.5 pb-2.5",children:[t.jsx(ja,{size:24,color:"#CC5214",style:{transform:"rotate(-15deg)"}}),t.jsx("span",{className:"font-semibold text-lg leading-6 tracking-[-0.5px] text-[#CC5214]",children:p("credits.upgradeTierModal.freeFor1stMonth")}),t.jsx(ja,{size:24,color:"#CC5214",style:{transform:"rotate(15deg)"}})]}),t.jsx("div",{className:"relative bg-[#212124] rounded-[20px]",children:Ks})]},K.id):Qt?t.jsxs("div",{className:"relative border border-[#F3CA5F66] p-[6px] rounded-[24px]",children:[t.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 h-[32px] px-2 z-10 rounded-bl-[10px] rounded-br-[10px] flex items-center text-[12px] font-bold",style:{border:"1px solid transparent",background:"linear-gradient(0deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05)), radial-gradient(163.12% 55.77% at 50% 55.77%, rgba(243, 202, 95, 0.6) 0%, rgba(243, 202, 95, 0) 100%)",mask:`
                                  linear-gradient(#000 0 0) padding-box,
                                  linear-gradient(#000 0 0)
                                `,maskComposite:"exclude"},children:t.jsx("span",{className:"invisible",children:p("credits.upgradeTierModal.bestValue")})}),t.jsx("div",{className:"absolute top-[1.1px] left-1/2 -translate-x-1/2 z-20 h-[30px] px-2 bg-[#F3CA5F1A] backdrop-blur-sm text-[12px] font-bold text-[#F3CA5F] flex justify-center items-center rounded-bl-[9px] rounded-br-[9px]",children:t.jsx("div",{children:p("credits.upgradeTierModal.bestValue")})}),Ks]},K.id):Ks}),!1]}),$n()&&t.jsx("div",{className:"flex items-center justify-center w-full mt-6 flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[p("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:Li.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",children:[p("credits.upgradeTierModal.contactUs")," ",t.jsx(bc,{color:"#FFFFFF"})]})]})}),!$n()&&t.jsxs("div",{className:A("flex flex-col-reverse items-center justify-between w-full gap-4 max-md:pt-6 md:flex-row md:pt-4 mx-auto",Qs.maxWidth),children:[t.jsx("div",{className:"flex justify-center flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[p("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:Li.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",onClick:()=>z(Tn.CREDIT_EVENTS.CONTACT_US_BUTTON_CLICKED,{currency:Ke.current}),children:[p("credits.upgradeTierModal.contactUs")," ",t.jsx(bc,{color:"#FFFFFF"})]})]})}),!$n()&&!Tt()&&!((Dt||Yt)&&Mt())&&!dt&&Te()?t.jsx("button",{type:"button",onClick:pt,disabled:st,className:A("text-[#FFFFFF66] max-md:w-full max-md:min-h-[48px] justify-center text-[14px] py-2 px-4 rounded-full flex items-center gap-1",st&&"opacity-50 cursor-not-allowed"),children:st?Pe():t.jsxs(t.Fragment,{children:[ye()," ",p("credits.upgradeTierModal.subscription"),t.jsx(ga,{className:"rotate-180",color:"#FFFFFF66",size:16})]})}):null]})]})]})})]})]})})})}),t.jsx(Zd,{isOpen:ut.isLoading,onOpenChange:Oe,paymentType:ut.paymentType||"subscription",amount:ut.amount,currency:ut.currency,planName:ut.planName}),t.jsx(mP,{showModal:St.showModal,plan:St.plan,savedCard:vt,isLoading:st,onClose:Ft,onConfirm:Fe,onChangePaymentMethod:sr}),_e.paymentId&&t.jsx(w2,{isOpen:_e.showModal,onOpenChange:Et,paymentId:_e.paymentId,initialStatus:At,paymentType:"subscription",planName:_e.planName,organizationId:_e.organizationId,navigationStrategy:"none",onClose:mn}),t.jsx(uP,{isOpen:_,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.SURVEY_CLOSED,Be),C(!1)},onProceedToCancel:Hn,planName:de?.tier_name||"Pro",question:J?.form?.question,reasons:J?.form?.reasons}),t.jsx(dP,{isOpen:N&&!F,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.WARNING_CLOSED,Be),j(!1)},onConfirmCancel:()=>Xt("warning"),planName:he(de?.tier_name||"Standard"),endDate:bm(de?.end_date)}),t.jsx(pP,{isOpen:F,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLOSED,Be),E(!1)},onClaimOffer:An,onCancelAnyway:()=>Xt("retention"),message:J?.offer?.message}),t.jsx(zn,{open:S||ge||Ce,children:t.jsx(Us,{children:t.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-8 h-8 mb-6 text-gray-200 border-2 rounded-full border-white/20 border-t-white animate-spin"}),k&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"mt-2 font-medium text-white",children:"Your subscription is being cancelled."}),t.jsx("p",{className:"text-sm text-gray-400",children:" This may take a few seconds"})]})]})]})})})]}):null}const Sde=({size:e=24,color:n="#4D4D4D",className:s="",...r})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:[t.jsx("path",{d:"M8.92217 10.6793C8.92217 10.404 9.14532 10.0213 9.42058 10.0213H15.4016C15.6769 10.0213 15.9 10.404 15.9 10.6793C15.9 10.9546 15.6769 11.3373 15.4016 11.3373H9.42058C9.14532 11.3373 8.92217 10.9546 8.92217 10.6793Z",fill:n}),t.jsx("path",{d:"M8.92217 13.6703C8.92217 13.395 9.14532 13.0123 9.42058 13.0123H14.4048C14.68 13.0123 14.9032 13.395 14.9032 13.6703C14.9032 13.9456 14.68 14.3283 14.4048 14.3283H9.42058C9.14532 14.3283 8.92217 13.9456 8.92217 13.6703Z",fill:n}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9158 6.93867C10.9158 6.74035 10.9946 6.55016 11.1348 6.40993C11.275 6.2697 11.4652 6.19092 11.6635 6.19092H16.8969C17.69 6.19092 18.4506 6.50604 19.0115 7.06696C19.5723 7.62788 19.8874 8.38865 19.8874 9.18191V15.1639C19.8874 15.9571 19.5723 16.7179 19.0115 17.2788C18.4506 17.8398 17.69 18.1549 16.8969 18.1549H7.98813L5.21394 20.9265C5.10938 21.031 4.97623 21.1021 4.83129 21.1309C4.68635 21.1597 4.53613 21.1449 4.3996 21.0883C4.26307 21.0318 4.14635 20.936 4.0642 20.8132C3.98204 20.6904 3.93812 20.5459 3.93799 20.3981L3.93799 11.9236C3.93799 11.7253 4.01676 11.5351 4.15696 11.3949C4.29717 11.2547 4.48733 11.1759 4.68561 11.1759C4.8839 11.1759 5.07406 11.2547 5.21427 11.3949C5.35447 11.5351 5.43324 11.7253 5.43324 11.9236V18.5936L7.37009 16.6594H16.8969C17.2934 16.6594 17.6737 16.5018 17.9542 16.2214C18.2346 15.9409 18.3921 15.5605 18.3921 15.1639V9.18191C18.3921 8.78528 18.2346 8.40489 17.9542 8.12443C17.6737 7.84397 17.2934 7.68641 16.8969 7.68641H11.6635C11.4652 7.68641 11.275 7.60763 11.1348 7.4674C10.9946 7.32717 10.9158 7.13698 10.9158 6.93867Z",fill:n}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.24564 2.5311C4.30119 2.37566 4.40342 2.24119 4.53835 2.14611C4.67327 2.05103 4.83429 2 4.99933 2C5.16438 2 5.32539 2.05103 5.46032 2.14611C5.59524 2.24119 5.69748 2.37566 5.75303 2.5311L6.33597 4.17616C6.37578 4.28846 6.44015 4.39045 6.52438 4.4747C6.60862 4.55895 6.71059 4.62333 6.82287 4.66314L8.46899 5.24618C8.62441 5.30174 8.75885 5.40399 8.85392 5.53894C8.94898 5.67389 9 5.83493 9 6C9 6.16508 8.94898 6.32612 8.85392 6.46106C8.75885 6.59601 8.62441 6.69826 8.46899 6.75382L6.82287 7.33686C6.71059 7.37668 6.60862 7.44106 6.52438 7.52531C6.44015 7.60955 6.37578 7.71155 6.33597 7.82384L5.75303 9.4689C5.69748 9.62435 5.59524 9.75882 5.46032 9.85389C5.32539 9.94897 5.16438 10 4.99933 10C4.83429 10 4.67327 9.94897 4.53835 9.85389C4.40342 9.75882 4.30119 9.62435 4.24564 9.4689L3.6627 7.82251C3.62289 7.71021 3.55852 7.60822 3.47428 7.52397C3.39005 7.43972 3.28808 7.37534 3.1758 7.33553L1.53102 6.75382C1.37559 6.69826 1.24115 6.59601 1.14609 6.46106C1.05102 6.32612 1 6.16508 1 6C1 5.83493 1.05102 5.67389 1.14609 5.53894C1.24115 5.40399 1.37559 5.30174 1.53102 5.24618L3.17713 4.66314C3.28941 4.62333 3.39138 4.55895 3.47562 4.4747C3.55985 4.39045 3.62422 4.28846 3.66403 4.17616L4.24564 2.5311Z",fill:n})]}),LN=({size:e=24,color:n="#4D4D4D",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M7.125 2C5.74609 2 4.625 3.12109 4.625 4.5V19.5C4.625 20.8789 5.74609 22 7.125 22H15.875C17.2539 22 18.375 20.8789 18.375 19.5V4.5C18.375 3.12109 17.2539 2 15.875 2H7.125ZM10.25 18.875H12.75C13.0938 18.875 13.375 19.1562 13.375 19.5C13.375 19.8438 13.0938 20.125 12.75 20.125H10.25C9.90625 20.125 9.625 19.8438 9.625 19.5C9.625 19.1562 9.90625 18.875 10.25 18.875Z",fill:n})}),kde=({size:e=24,width:n,height:s,color:r="#4D4D4D",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M20.1846 13.5137C20.1662 14.4446 20.1332 15.2279 20.0996 15.833C20.0751 16.2761 20.0434 16.719 20.0059 17.1611L20.0039 17.1826L20 17.2314C19.9903 17.8612 19.6891 18.4137 19.248 18.8652C18.8017 19.3212 18.1851 19.7039 17.4707 20.0127C16.0399 20.6315 14.1052 21 12 21C9.89486 21 7.96008 20.632 6.5293 20.0137C5.8149 19.7045 5.19835 19.3216 4.75195 18.8652C4.31086 18.4141 4.0096 17.861 4 17.2314L3.99316 17.1611L3.9707 16.8848C3.94378 16.5345 3.91987 16.1838 3.90039 15.833C3.85827 15.0605 3.83036 14.2872 3.81543 13.5137C4.29536 13.9275 4.88626 14.2829 5.5293 14.5752C7.21607 15.3419 9.50412 15.7998 12 15.7998C14.4959 15.7998 16.7839 15.3419 18.4707 14.5752C19.1137 14.2829 19.7046 13.9271 20.1846 13.5137ZM9.2002 17.2998C8.98815 17.2998 8.78477 17.3843 8.63477 17.5342C8.48482 17.6841 8.40048 17.8876 8.40039 18.0996C8.40039 18.3118 8.48474 18.516 8.63477 18.666C8.78476 18.8158 8.98821 18.9004 9.2002 18.9004C9.4122 18.9003 9.61566 18.8159 9.76562 18.666C9.91565 18.516 10 18.3118 10 18.0996C9.99991 17.8876 9.91557 17.6841 9.76562 17.5342C9.61565 17.3842 9.41226 17.2999 9.2002 17.2998ZM6.59961 16.5996C6.38762 16.5997 6.1841 16.6841 6.03418 16.834C5.88415 16.984 5.7998 17.1882 5.7998 17.4004C5.79992 17.6124 5.88425 17.8159 6.03418 17.9658C6.18411 18.1157 6.38759 18.2001 6.59961 18.2002C6.81178 18.2002 7.01599 18.1158 7.16602 17.9658C7.3159 17.8159 7.40028 17.6124 7.40039 17.4004C7.40039 17.1882 7.31604 16.984 7.16602 16.834C7.01599 16.684 6.81178 16.5996 6.59961 16.5996ZM4 5.59961C4 6.24218 4.30382 6.80594 4.75195 7.26465C5.19835 7.72065 5.8149 8.10429 6.5293 8.41309C7.96009 9.03187 9.89443 9.40039 12 9.40039C14.1056 9.40039 16.0399 9.03148 17.4707 8.41309C18.1851 8.1039 18.8011 7.72102 19.2471 7.26465C19.6957 6.80589 20 6.22667 20 5.58398L20.0303 6.11816C20.0491 6.47015 20.0744 6.97252 20.0996 7.5752C20.1424 8.60158 20.1847 9.92137 20.1963 11.2861C20.145 11.9916 19.465 12.804 17.9746 13.4814C16.4762 14.163 14.364 14.5996 12 14.5996C9.63601 14.5996 7.52378 14.1632 6.02539 13.4824C4.5347 12.8044 3.85491 11.9913 3.80371 11.2861C3.81571 9.92103 3.85759 8.60153 3.90039 7.5752C3.92794 6.91655 3.96097 6.25773 3.99902 5.59961L4 5.58203V5.59961ZM9.2002 11.0996C8.98819 11.0996 8.78476 11.1842 8.63477 11.334C8.48474 11.484 8.40039 11.6882 8.40039 11.9004C8.40052 12.1124 8.48485 12.3159 8.63477 12.4658C8.78476 12.6156 8.98818 12.7002 9.2002 12.7002C9.41223 12.7001 9.61565 12.6157 9.76562 12.4658C9.91554 12.3159 9.99987 12.1124 10 11.9004C10 11.6882 9.91565 11.484 9.76562 11.334C9.61566 11.1841 9.41223 11.0997 9.2002 11.0996ZM6.59961 10.4004C6.38765 10.4005 6.1841 10.4839 6.03418 10.6338C5.88415 10.7838 5.7998 10.988 5.7998 11.2002C5.79988 11.4122 5.88426 11.6157 6.03418 11.7656C6.18411 11.9156 6.38758 11.9999 6.59961 12C6.81178 12 7.01599 11.9157 7.16602 11.7656C7.31589 11.6157 7.40032 11.4122 7.40039 11.2002C7.40039 10.988 7.31604 10.7838 7.16602 10.6338C7.01599 10.4838 6.81175 10.4004 6.59961 10.4004ZM12 3C13.9814 3 15.7466 3.34777 16.9941 3.8877C17.6189 4.15769 18.0869 4.46482 18.3896 4.77441C18.9037 5.3003 18.9038 5.8999 18.3896 6.42578C18.0864 6.73538 17.6189 7.04152 16.9941 7.31152C15.7465 7.85111 13.9816 8.20019 12 8.2002C10.0184 8.2002 8.25345 7.85151 7.00586 7.31152C6.38106 7.04152 5.91315 6.73538 5.61035 6.42578C5.09617 5.8999 5.09625 5.3003 5.61035 4.77441C5.91355 4.46482 6.38106 4.15769 7.00586 3.8877C8.25344 3.34818 10.0186 3 12 3Z",fill:f})})},yP=({width:e=20,height:n=20,fill:s="white",className:r,style:i,...a})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,style:i,...a,children:t.jsx("path",{d:"M5.66504 11.9571C6.06881 11.9574 6.39941 12.2879 6.39941 12.6915C6.3992 13.0949 6.06867 13.4247 5.66504 13.4249H4.59277C5.19315 14.3275 6.00712 15.068 6.96289 15.5802C7.91877 16.0924 8.98667 16.3612 10.0713 16.3614C12.7448 16.3614 15.044 14.7683 16.0869 12.4855C16.2265 12.17 16.5788 12.0157 16.9092 12.089C17.015 12.1142 17.1141 12.1629 17.1992 12.2306C17.2842 12.2982 17.354 12.3833 17.4023 12.4806C17.4506 12.5778 17.477 12.6846 17.4795 12.7931C17.482 12.9017 17.4599 13.01 17.416 13.1095C16.1454 15.8914 13.3397 17.8292 10.0713 17.8292C7.33177 17.8292 4.92251 16.4636 3.46094 14.379V15.6271C3.46094 16.0308 3.13052 16.3614 2.72656 16.3614C2.32268 16.3613 1.99219 16.0307 1.99219 15.6271V12.6915C1.99219 12.2879 2.32268 11.9572 2.72656 11.9571H5.66504ZM10.0713 6.6007C10.1417 6.60074 10.2103 6.62124 10.2695 6.65929C10.3288 6.69738 10.3761 6.75149 10.4053 6.81554L11.2129 8.60656L13.0049 9.42101C13.069 9.4502 13.124 9.49753 13.1621 9.55675C13.2001 9.61588 13.2207 9.68472 13.2207 9.75499C13.2207 9.82524 13.2001 9.89411 13.1621 9.95324C13.124 10.0125 13.069 10.0598 13.0049 10.089L11.2129 10.8966L10.3975 12.6876C10.3683 12.7515 10.3217 12.8058 10.2627 12.8439C10.2034 12.882 10.1339 12.9025 10.0635 12.9025C9.99313 12.9024 9.92441 12.8819 9.86523 12.8439C9.80601 12.8058 9.75871 12.7516 9.72949 12.6876L8.92188 10.9034L7.12988 10.089C6.84344 9.95685 6.84344 9.5463 7.12988 9.41417L8.92188 8.60656L9.7373 6.81554C9.76645 6.75162 9.81301 6.69737 9.87207 6.65929C9.93132 6.6212 10.0008 6.6007 10.0713 6.6007ZM3.87891 4.98058C3.98712 4.97005 4.09691 4.98385 4.19922 5.02062C4.30136 5.0574 4.39409 5.11659 4.4707 5.19347C4.7056 5.4357 4.75681 5.81695 4.57324 6.09581C4.10325 6.80037 3.75782 7.60043 3.58887 8.4591C3.52277 8.78938 3.21479 9.01766 2.87695 9.01769C2.76803 9.01771 2.65994 8.99305 2.56152 8.9464C2.46336 8.89979 2.37639 8.83227 2.30762 8.74816C2.23874 8.66387 2.19014 8.56475 2.16406 8.4591C2.138 8.35347 2.13549 8.24342 2.15723 8.13683C2.36107 7.12385 2.76303 6.16035 3.33984 5.30285C3.40022 5.21268 3.48009 5.13689 3.57324 5.08117C3.66643 5.02546 3.77083 4.99112 3.87891 4.98058ZM15.6641 5.19347C15.9871 4.86328 16.5377 4.92151 16.7949 5.30285C17.3605 6.15431 17.7645 7.10921 17.9775 8.13683C17.9993 8.24342 17.9968 8.35347 17.9707 8.4591C17.9446 8.56475 17.896 8.66387 17.8271 8.74816C17.7583 8.8324 17.6706 8.89978 17.5723 8.9464C17.4739 8.99295 17.3666 9.01771 17.2578 9.01769C16.92 9.01767 16.611 8.78939 16.5449 8.4591C16.3686 7.6005 16.0315 6.80032 15.5615 6.09581C15.3706 5.8096 15.4218 5.4357 15.6641 5.19347ZM10.8018 2.56554C10.8018 2.09577 11.2282 1.7509 11.6836 1.83898C12.7117 2.05187 13.674 2.4555 14.5186 3.02062C14.9076 3.2776 14.9589 3.82808 14.6211 4.15831C14.3787 4.4005 14.0042 4.45168 13.7178 4.26085C13.0201 3.79114 12.2196 3.4463 11.3604 3.27745C11.0299 3.2114 10.8018 2.90313 10.8018 2.56554ZM8.45117 1.83898C8.90654 1.7509 9.33301 2.09577 9.33301 2.56554C9.33294 2.90304 9.10523 3.2108 8.76758 3.26964C7.9083 3.4458 7.11521 3.78429 6.41016 4.25402C6.12371 4.44486 5.74823 4.39273 5.50586 4.1505C5.18321 3.82755 5.23466 3.27749 5.61621 3.02062C6.46074 2.4555 7.42306 2.05187 8.45117 1.83898Z",fill:s})}),Tde=({size:e=20,width:n,height:s,fill:r="#E6E6E6",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:t.jsx("path",{d:"M14.6377 3C16.4946 3.00001 18 4.50536 18 6.3623V12.8555C17.9998 14.7122 16.4945 16.2178 14.6377 16.2178H5.3623C3.50549 16.2178 2.00021 14.7122 2 12.8555V6.3623C2.00001 4.50536 3.50536 3.00001 5.3623 3H14.6377ZM3.15918 7.87012V12.8555C3.15939 14.0719 4.14582 15.0576 5.3623 15.0576H14.6377C15.8542 15.0576 16.8406 14.0719 16.8408 12.8555V7.87012H3.15918ZM8.2168 10.3086C8.56715 10.3446 8.84072 10.6402 8.84082 11C8.84082 11.3599 8.56724 11.6564 8.2168 11.6924L8.14453 11.6963H5.3623C4.97811 11.6963 4.66699 11.3842 4.66699 11C4.6671 10.6159 4.97818 10.3047 5.3623 10.3047H8.14453L8.2168 10.3086ZM5.3623 4.15918C4.14569 4.15919 3.15919 5.14569 3.15918 6.3623V6.71094H16.8408V6.3623C16.8408 5.14569 15.8543 4.15919 14.6377 4.15918H5.3623Z",fill:r})})},Ide=({size:e=32,width:n,height:s,className:r="",onClick:i,style:a,fillStart:o="white",fillEnd:l="white"})=>{const c=n||e,u=s||e,p=`paint0_linear_collab_${Math.random().toString(36).substr(2,9)}`;return t.jsxs("svg",{width:c,height:u,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,onClick:i,style:a,children:[t.jsx("path",{d:"M13.3291 16.959C13.6453 17.9178 14.1369 18.8099 14.7793 19.5889C13.7779 20.3746 12.5718 20.8562 11.3047 20.9766V27.999H4.11523V20.0273C4.11523 19.4739 4.33528 18.9431 4.72656 18.5518C5.11793 18.1604 5.64868 17.9404 6.20215 17.9404H10.6787C11.1738 17.9496 11.6657 17.8544 12.1221 17.6621C12.5784 17.4698 12.9898 17.1839 13.3291 16.8232V16.959ZM15.1543 11.8252C15.5241 11.7771 15.8996 11.8621 16.2129 12.0645C16.5263 12.267 16.7581 12.5745 16.8662 12.9316L17.7217 15.4883C17.9554 16.2028 18.4094 16.8251 19.0186 17.2656C19.6277 17.706 20.3607 17.9423 21.1123 17.9404H25.5996C26.1531 17.9404 26.6838 18.1604 27.0752 18.5518C27.4664 18.9431 27.6865 19.474 27.6865 20.0273V27.999H20.4863V20.9766C19.2121 20.85 18.0018 20.3565 17.002 19.5566C16.0021 18.7567 15.2556 17.6842 14.8525 16.4688L13.9756 13.8291C13.9027 13.6202 13.8758 13.3979 13.8975 13.1777C13.9191 12.9576 13.9884 12.7444 14.1006 12.5537C14.2128 12.3631 14.3659 12.2 14.5479 12.0742C14.7297 11.9485 14.9364 11.8629 15.1543 11.8252ZM7.72559 11.3037C8.0613 11.3037 8.39394 11.3706 8.7041 11.499C9.01411 11.6275 9.29591 11.8155 9.5332 12.0527C9.77056 12.2901 9.95942 12.5717 10.0879 12.8818C10.2163 13.192 10.2822 13.5247 10.2822 13.8604C10.2822 14.196 10.2163 14.5287 10.0879 14.8389C9.95943 15.149 9.77057 15.4306 9.5332 15.668C9.29583 15.9053 9.01425 16.0942 8.7041 16.2227C8.39394 16.3511 8.0613 16.417 7.72559 16.417C7.38988 16.417 7.05722 16.3511 6.74707 16.2227C6.43694 16.0942 6.15534 15.9053 5.91797 15.668C5.68068 15.4307 5.49272 15.1489 5.36426 14.8389C5.23579 14.5287 5.16895 14.1961 5.16895 13.8604C5.16896 13.5247 5.2358 13.192 5.36426 12.8818C5.49273 12.5719 5.6807 12.29 5.91797 12.0527C6.15526 11.8155 6.43706 11.6275 6.74707 11.499C7.05722 11.3706 7.38988 11.3037 7.72559 11.3037ZM24.0654 11.3037C24.4011 11.3037 24.7338 11.3706 25.0439 11.499C25.354 11.6275 25.6357 11.8155 25.873 12.0527C26.1104 12.2901 26.2993 12.5718 26.4277 12.8818C26.5562 13.192 26.6221 13.5247 26.6221 13.8604C26.6221 14.5384 26.3525 15.1885 25.873 15.668C25.3936 16.1473 24.7434 16.417 24.0654 16.417C23.3876 16.4169 22.7372 16.1473 22.2578 15.668C21.7785 15.1886 21.5098 14.5382 21.5098 13.8604C21.5098 13.5247 21.5756 13.192 21.7041 12.8818C21.8325 12.5719 22.0206 12.29 22.2578 12.0527C22.4952 11.8153 22.7777 11.6275 23.0879 11.499C23.3979 11.3707 23.7299 11.3038 24.0654 11.3037ZM20.7637 6.17969C21.0392 6.17978 21.3036 6.28914 21.499 6.4834C21.6933 6.67884 21.8027 6.94321 21.8027 7.21875C21.8027 7.49441 21.6934 7.75958 21.499 7.95508L20.0273 9.43652C19.9304 9.53414 19.8154 9.61212 19.6885 9.66504C19.5614 9.71798 19.4248 9.74508 19.2871 9.74512C19.1495 9.74512 19.0128 9.71794 18.8857 9.66504C18.7586 9.61208 18.6429 9.53429 18.5459 9.43652C18.4481 9.33952 18.3704 9.22383 18.3174 9.09668C18.2644 8.96956 18.2373 8.83301 18.2373 8.69531C18.2373 8.55761 18.2644 8.42105 18.3174 8.29395C18.3703 8.16696 18.4483 8.05199 18.5459 7.95508L20.0273 6.4834C20.2228 6.28906 20.488 6.17969 20.7637 6.17969ZM9.99023 6.31543C10.2323 6.28952 10.4759 6.34872 10.6787 6.4834L12.2021 7.95508C12.2998 8.05199 12.3778 8.16697 12.4307 8.29395C12.4836 8.42105 12.5107 8.55761 12.5107 8.69531C12.5107 8.833 12.4836 8.96957 12.4307 9.09668C12.3777 9.22383 12.2999 9.33952 12.2021 9.43652C12.1047 9.53323 11.9885 9.60921 11.8613 9.66113C11.7343 9.71301 11.5982 9.74005 11.4609 9.73926C11.3167 9.7457 11.1727 9.72196 11.0381 9.66992C10.9035 9.61787 10.7811 9.53827 10.6787 9.43652L9.24902 7.95508C9.10859 7.75628 9.04164 7.51414 9.06055 7.27148C9.07952 7.02874 9.18287 6.79963 9.35254 6.625C9.5222 6.45041 9.74817 6.34137 9.99023 6.31543ZM15.374 4C15.6506 4.00001 15.9157 4.11012 16.1113 4.30566C16.3069 4.50124 16.4169 4.7664 16.417 5.04297V7.12988C16.417 7.40662 16.307 7.67248 16.1113 7.86816C15.9157 8.06368 15.6506 8.17381 15.374 8.17383C15.0973 8.17383 14.8314 8.06385 14.6357 7.86816C14.4402 7.6725 14.3301 7.40653 14.3301 7.12988V5.04297C14.3302 4.76651 14.4403 4.50121 14.6357 4.30566C14.8314 4.10998 15.0973 4 15.374 4Z",fill:`url(#${p})`}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:p,x1:"15.9009",y1:"4",x2:"15.9009",y2:"27.999",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:o}),t.jsx("stop",{offset:"1",stopColor:l,stopOpacity:"0.6"})]})})]})},Ade=({size:e=20,color:n="#CCCCCC",className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M3.33398 16.6654V14.332C3.33398 13.8598 3.45551 13.4258 3.69857 13.0299C3.94162 12.6341 4.26454 12.332 4.66732 12.1237C5.52843 11.6931 6.40343 11.3702 7.29232 11.1549C8.18121 10.9397 9.08398 10.832 10.0007 10.832H10.2923C10.1395 11.082 10.025 11.3494 9.94857 11.6341C9.87218 11.9188 9.83398 12.207 9.83398 12.4987C9.08398 12.5126 8.33746 12.6133 7.5944 12.8008C6.85135 12.9883 6.12565 13.2626 5.41732 13.6237C5.29232 13.6931 5.19162 13.7904 5.11523 13.9154C5.03885 14.0404 5.00065 14.1793 5.00065 14.332V14.9987H10.8965L12.5632 16.6654H3.33398ZM10.0007 9.9987C9.08398 9.9987 8.29926 9.67231 7.64648 9.01953C6.99371 8.36675 6.66732 7.58203 6.66732 6.66536C6.66732 5.7487 6.99371 4.96398 7.64648 4.3112C8.29926 3.65842 9.08398 3.33203 10.0007 3.33203C10.9173 3.33203 11.702 3.65842 12.3548 4.3112C13.0076 4.96398 13.334 5.7487 13.334 6.66536C13.334 7.58203 13.0076 8.36675 12.3548 9.01953C11.702 9.67231 10.9173 9.9987 10.0007 9.9987ZM10.0007 8.33203C10.459 8.33203 10.8513 8.16884 11.1777 7.84245C11.5041 7.51606 11.6673 7.1237 11.6673 6.66536C11.6673 6.20703 11.5041 5.81467 11.1777 5.48828C10.8513 5.16189 10.459 4.9987 10.0007 4.9987C9.54232 4.9987 9.14996 5.16189 8.82357 5.48828C8.49718 5.81467 8.33398 6.20703 8.33398 6.66536C8.33398 7.1237 8.49718 7.51606 8.82357 7.84245C9.14996 8.16884 9.54232 8.33203 10.0007 8.33203ZM14.9173 16.6654L12.0007 13.7487C11.8201 13.5681 11.6916 13.3737 11.6152 13.1654C11.5388 12.957 11.5007 12.7487 11.5007 12.5404C11.5007 12.0959 11.6604 11.7001 11.9798 11.3529C12.2993 11.0056 12.709 10.832 13.209 10.832C13.5979 10.832 13.9034 10.9223 14.1257 11.1029C14.3479 11.2834 14.6118 11.5265 14.9173 11.832C15.1951 11.5543 15.4486 11.3181 15.6777 11.1237C15.9069 10.9293 16.2229 10.832 16.6257 10.832C17.1395 10.832 17.5527 11.0091 17.8652 11.3633C18.1777 11.7174 18.334 12.1168 18.334 12.5612C18.334 12.7695 18.2923 12.9779 18.209 13.1862C18.1257 13.3945 18.0007 13.582 17.834 13.7487L14.9173 16.6654Z",fill:n})}),Dde=W.fork.fork,Mde=W.github.gitDot,Bl={FREE:"free",PRO:"Pro",STANDARD:"Standard",STARTER:"Starter"},RN={MONTHLY_DIVISOR:12,PRO_CREDITS:750},K3={STANDARD_STARTER:1,PRO:2,OTHER:3},vP={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},wP={background:"#fff",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"};function Ic({isOpen:e,onOpenChange:n,organizationId:s,organizationName:r,planType:i="personal",triggerLocation:a="default",shouldShowModelSelectorTooltipAfterClose:o=!1,onReturnFlow:l}){const{t:c}=Jt("billing"),{toast:u}=ds(),{newToast:p}=Fa(),f=rn.isFeatureEnabled("new_upgrade_tier_modal"),m=Qi(),{tier:h,personalTier:x}=cs();d.useEffect(()=>{if(e&&m){const ne=i||"personal",Re=ne==="team"?h:x,bt=Re!=="free",Bt=a||"upgrade-tier",Ze=lc(Bt,bt),{title:as,description:hr}=Ca(Bt);ei("TRIGGER_SUBSCRIPTION",{planType:ne,organizationId:ne==="team"?s:void 0,triggerLocation:Bt,currentTier:Re,hasActiveSubscription:bt,title:as,description:hr,...Ze&&{modalType:Ze}}),rn.capture("upgrade_tier_modal_mobile_redirect",{planType:i,triggerLocation:a,organizationId:s}),n(!1)}},[e,m,i,s,a,n,h,x]);const[y,v]=d.useState(null),[g,b]=d.useState({}),[w,N]=d.useState(null),j=d.useRef({}),[_,C]=d.useState(!1),[F,E]=d.useState(!1),[S,M]=d.useState(!1),[k,I]=d.useState(!1),[D,P]=d.useState(!1),R=Xi(),{hasCreatedWorkspace:B}=ys(),{user:U,userDetails:H}=xs();m2();const[$,q]=d.useState(!1),Q=H?.is_sso_user,{subscriptionPlansResponse:V,personalPlansResponse:ee,tier:X,personalTier:ae,creditResponse:me,loading:oe}=cs(),pe=H?.organizations?.find(ne=>ne.created_by===U?.id&&ne.status!=="PENDING"),se=H?.organizations?.some(ne=>ne.created_by===U?.id&&ne.status==="PENDING"),{data:re,refetch:ve}=pp(void 0,{skip:!U}),{data:we,isLoading:be}=tm(s?{organization_id:s}:void 0,{skip:!s}),{data:Ue}=pp(s?{organization_id:s}:void 0,{skip:!0}),{data:fe,isLoading:Me}=qm(void 0,{skip:!H}),{data:J}=a9(),[Ne,{isLoading:ge}]=QD(),[Ee,{isLoading:Ce}]=eM(),[Ie]=GD(),Ae=f8(),Se=i==="personal"?ee:s&&we?we:V,ht=i==="personal"?oe:s?be:oe,Qe=ne=>{if(!ne?.plans)return[];const Re=[];return Object.values(ne.plans).forEach(bt=>{bt.monthly_plans&&Re.push(...bt.monthly_plans),bt.yearly_plans&&Re.push(...bt.yearly_plans)}),Re},De=ne=>{const Re=Qe(Se);return ne?Re.filter(bt=>bt.billing_period===ne):Re},de=ee?.current_subscription,ue=me,{handleManageSubscription:lt,isUpgradeLoading:st,handleRazorpayPayment:mt,paymentModalState:ut,showPaymentLoading:wn,hidePaymentModals:Oe,subscriptionPaymentResult:_e,showSubscriptionPaymentResult:Et,hideSubscriptionPaymentResult:dt,subscriptionCancelledSuccessfully:vt,savedCard:Ct,checkForSavedPaymentMethod:St,quickUpgradeConfirmation:ct,showQuickUpgradeConfirmation:Ft,hideQuickUpgradeConfirmation:Fe,confirmQuickUpgrade:He}=Vp(),[Ve,Ke]=d.useState("monthly"),Ye=d.useRef(ho()),At=ne=>()=>{kM(Se?.is_first_time_offer||!1,ne)},mn=(()=>{const ne=_e.status;return ne==="success"?"success":ne==="cancelled"?"cancelled":ne==="failed"?"failed":"pending"})(),Dt=()=>{dt(),n(!1),_e.paymentId,_e.organizationId,_e.status},Yt=g2(H,Ye.current),fn=b2(H,Ye.current),qt=rh(H,Ye.current),_n=sh(H),In=QR(H,Ye.current),je=fn||H?.country_code==="BR"||H?.country_code==="KR"||ae!=="free",[Le,xt]=d.useState(null),[Rt,qe]=d.useState(!1),[it,_t]=d.useState(""),[Kt,Cn]=d.useState(!1),[On,rs]=d.useState(""),Vn=Qg(),Bn=lM(),En=i==="team"&&!!s,jn=fe?.cancellation_flow_enabled&&!En&&J?.offer&&!J.offer.claimed&&J.offer.offer_name,Un={plan_type:i,plan_name:de?.tier_name,...En?{organization_id:s}:{},billing_period:de?.billing_period,payment_provider:In},fs=()=>{if(!s)return!0;const ne=H?.organizations?.find(Re=>Re.organization_id===s);return ne?.role==="OWNER"&&ne?.status==="ACTIVE"},cn=async()=>{if(ls()){z(es.CANCELLATION_FLOW_EVENTS.RESUME_CLICKED,Un),I(!0),P(!0);const ne=de?.payment_provider||H?.payment_provider;try{await lt(ue?.subscription?.id,Ye.current,void 0,ne)}catch(Re){throw Fn(Is.PAYMENT.RESUME_SUBSCRIPTION,Re,{subscription_id:ue?.subscription?.id,currency:Ye.current,payment_provider:ne}),Re}finally{P(!1),I(!1)}return}z(es.CANCELLATION_FLOW_EVENTS.SURVEY_INITIATED,Un),E(!0)},hn=async ne=>{const Re=ne==="retention"?es.CANCELLATION_FLOW_EVENTS.RETENTION_CANCEL_CONFIRMED:es.CANCELLATION_FLOW_EVENTS.WARNING_CANCEL_CONFIRMED;z(Re,{...Un,...ne==="retention"&&{offer_name:J?.offer?.offer_name}}),C(!1),M(!1),I(!0),P(!0);const bt=de?.payment_provider||H?.payment_provider;try{await lt(ue?.subscription?.id,Ye.current,void 0,bt)}finally{setTimeout(()=>{I(!1),P(!1)},Yt||fn?0:1e4)}},dn=async(ne,Re)=>{z(es.CANCELLATION_FLOW_EVENTS.SURVEY_SUBMITTED,{...Un,selected_reason:ne,additional_info:Re}),E(!1);try{await Ne({selectedReason:ne,additionalInfo:Re}).unwrap()}catch{}jn?(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_SHOWN,{...Un,offer_name:J?.offer?.offer_name}),M(!0)):(z(es.CANCELLATION_FLOW_EVENTS.WARNING_SHOWN,{...Un,from_survey:!0}),C(!0))},Wn=async()=>{const ne=J?.offer?.offer_name;if(!ne){p.error("Offer not available");return}M(!1);try{const Re=await Ee(ne).unwrap();Re.success?(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_SUCCESS,{...Un,offer_name:ne,credits_added:Re.credits_added}),p.success(Re.message),ve(),n(!1)):(z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_FAILURE,{...Un,offer_name:ne,error:Re.message}),p.error(Re.message))}catch(Re){const bt=Re?.response?.data?.message||"Failed to claim offer";z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLAIM_API_ERROR,{...Un,offer_name:ne,error:bt}),p.error(bt)}},Ln=d.useRef(!1);d.useEffect(()=>{if(!e){Ln.current=!1;return}e&&!Ln.current&&!oe&&(Ln.current=!0,l9("pricing",U?.id),X==="free"&&ND("pricing"))},[e,X,oe]),d.useEffect(()=>{if(e){if(de){Ke(de.billing_period==="YEARLY"?"annually":"monthly");const ne=ze(de.tier_name);b(Re=>({...Re,[ne]:de.id}))}N(null)}},[e,de]),d.useEffect(()=>{if(!m)return;const ne=Re=>{try{const bt=typeof Re.data=="string"?JSON.parse(Re.data):Re.data;if(bt?.type==="PAYMENT_RESULT"){const{status:Bt,error:Ze}=bt;if(Bt==="PURCHASED"||Bt==="RESTORED")Et("success");else if(Bt==="CANCELLED")Et("cancelled");else if(Bt==="ERROR"){const as=Ze?.message||"Payment failed. Please try again.";Et("failed",void 0,as)}}}catch{}};return window.addEventListener("message",ne),()=>{window.removeEventListener("message",ne)}},[m,Et]),d.useEffect(()=>{const ne=Re=>{if(w){const bt=j.current[w];bt&&!bt.contains(Re.target)&&N(null)}};return w&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[w]);const Cs=ne=>{n(ne),z(es.UPGRADE_TIER_MODAL_EVENTS.MODAL_CLOSED,{plan_type:i,current_plan:de?.tier_name||"free",trigger_location:a,has_applied_coupon:!!Le,selected_billing_mode:Ve}),o&&setTimeout(()=>{Jf(),R(Ka(!0))},300),l&&setTimeout(()=>{l()},300)},Vs=ne=>{Ke(ne),z(es.UPGRADE_TIER_MODAL_EVENTS.BILLING_MODE_SWITCHED,{previous_mode:Ve,new_mode:ne,plan_type:i,currency:Ye.current})},zt=ne=>{if(!de)return;const Re=De("YEARLY");let bt;if(ne&&ne.ecu_credits?bt=Re?.find(Bt=>Bt.tier_name.toLowerCase()===ne.tier_name.toLowerCase()&&Bt.ecu_credits===ne.ecu_credits):bt=Re?.find(Bt=>Bt.tier_name.toLowerCase()===de.tier_name.toLowerCase()),bt){if(U?.id){const Bt=de.tier_name;_d(U.id,Bt,Bt,"yearly",i==="team"||!!s,s,a,bt?.currency,bt?.amount)}Hn(bt)}},is=ne=>{if(U?.id){const Re=de?.tier_name||"free";_d(U.id,Re,en(ne.tier_name),"yearly",!0,pe?.id,a,Ye.current,ne?.amount)}pe?Be(ne,pe.id):Hn(ne)},$e=()=>{p.info("Please contact support to downgrade your team subscription")},Be=async(ne,Re)=>{if(m){const bt=i==="team"?X:ae,Bt=bt!=="free",Ze=a||"upgrade-tier",{title:as,description:hr}=Ca(Ze);ei("TRIGGER_SUBSCRIPTION",{planId:ne.id,planName:ne.tier_name,billingPeriod:ne.billing_period,planType:i||"personal",price:ne.amount,currency:Ye.current||"USD",organizationId:Re,revenuecatOfferingIdentifier:ne.revenuecat_offering_identifier,currentTier:bt,hasActiveSubscription:Bt,triggerLocation:Ze,title:as,description:hr,...Bt&&{modalType:"proFeature"}});return}v(ne.id);try{z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:Ye.current,payment_provider:In,has_coupon:!!Le,coupon_code:Le?.code,organization_id:Re,trigger_location:a});const bt=oc("subscription",ne.amount,Ye.current||"USD",ne.amount*12);if(ia("subscription",bt),Nd("subscription",ne.amount,Ye.current||"USD"),Yt){const Bt={amount:0,price:0,selected:!1,discount:0,currency:Ye.current||"USD",couponCode:Le?.code};await mt(Bt,void 0,{isSubscription:!0,planId:ne.id,planName:ne.tier_name,planType:i,eventId:bt})}else{wn({paymentType:"subscription",currency:Ye.current,planName:ne.tier_name});try{const Bt=await yt.createCheckoutSession(0,!0,ne.id,void 0,Ye.current,bt,Le?.code);Qu({response:Bt,planId:ne.id,planName:ne.tier_name,hidePaymentModals:Oe,toast:u,errorMetadata:{organization_id:Re},onBeforeCheckout:At(ne.billing_period),email:U?.email})}catch(Bt){throw Oe(),Fn(Is.PAYMENT.CHECKOUT_SESSION_API,Bt,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,currency:Ye.current,organization_id:Re,coupon_code:Le?.code}),Bt}}}catch(bt){Fn(Is.PAYMENT.CHECKOUT_SESSION_CREATION,bt,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:Ye.current,payment_provider:In,error_message:bt?.response?.data?.detail||bt?.message||"Unknown error",organization_id:Re,trigger_location:a}),z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:Ye.current,payment_provider:In,error_message:bt?.response?.data?.detail||bt?.message||"Unknown error",organization_id:Re,trigger_location:a}),u({title:"Error",description:bt.response.data.detail,variant:"destructive"})}finally{v(null)}},Te=()=>!!(re?.daily_credits&&re&&re.daily_credit_per_day>0),pt=()=>t.jsx(t.Fragment,{children:Te()?t.jsxs("div",{className:"flex items-start",children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#ccc] font-medium font-inter ",children:re.daily_credit_per_day===re.daily_credit_max_per_window?c("credits.upgradeTierModal.dailyCreditsMonthly",{count:re.daily_credit_max_per_window}):c("credits.upgradeTierModal.dailyCreditsDaily",{count:re.daily_credit_per_day,max:re.daily_credit_max_per_window})})})]}):null}),Xt=d.useMemo(()=>t.jsxs(t.Fragment,{children:[Vn&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("img",{title:"Github",src:Mde,className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.saveToGithub")})})]}),Vn&&t.jsxs("div",{className:"flex items-start",children:[t.jsx("img",{title:"Fork",src:Dde,className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.fork")})})]})]}),[Vn,c]),Hn=async ne=>{if(ne.id==="free-tier"){u({title:"Downgrade to Free",description:"Please contact support to downgrade to the free tier.",variant:"default"});return}if(m){const Re=i==="team"?X:ae,bt=Re!=="free",Bt=a||"upgrade-tier",{title:Ze,description:as}=Ca(Bt);ei("TRIGGER_SUBSCRIPTION",{planId:ne.id,planName:ne.tier_name,billingPeriod:ne.billing_period,planType:i||"personal",price:ne.amount,currency:Ye.current||"USD",organizationId:i==="team"?s:void 0,revenuecatOfferingIdentifier:ne.revenuecat_offering_identifier,currentTier:Re,hasActiveSubscription:bt,triggerLocation:Bt,title:Ze,description:as,...bt&&{modalType:"proFeature"}});return}v(ne.id);try{const Re=sr(ne)==="upgrade",bt=i==="personal"&&!s,Bt=!vs(ne.tier_name);if(Re&&bt&&Bt&&qt&&await St()){Ft(ne),v(null);return}if(U?.id){const as=de?.tier_name||"free",hr=en(ne.tier_name),Oi=ne.billing_period==="YEARLY"?"yearly":"monthly",Qs=i==="team"||!!s;_d(U.id,as,hr,Oi,Qs,s,a,ne?.currency,ne?.amount)}z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_INITIATED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:Ye.current,payment_provider:In,has_coupon:!!Le,coupon_code:Le?.code,trigger_location:a});const Ze=oc("subscription",ne.amount,Ye.current||"USD",ne.amount*12);if(ia("subscription",Ze),Nd("subscription",ne.amount,Ye.current||"USD"),Yt){const as={amount:0,price:0,selected:!1,discount:0,currency:Ye.current||"USD",couponCode:Le?.code};await mt(as,void 0,{isSubscription:!0,planId:ne.id,planName:ne.tier_name,planType:i,eventId:Ze})}else{wn({paymentType:"subscription",currency:Ye.current,planName:ne.tier_name});try{const as=await yt.createCheckoutSession(0,!0,ne.id,void 0,Ye.current,Ze,Le?.code);Qu({response:as,planId:ne.id,planName:ne.tier_name,hidePaymentModals:Oe,toast:u,errorMetadata:{billing_period:ne.billing_period},onBeforeCheckout:At(ne.billing_period),email:U?.email})}catch(as){throw Oe(),Fn(Is.PAYMENT.CHECKOUT_SESSION_API,as,{plan_id:ne.id,plan_name:ne.tier_name,billing_period:ne.billing_period,currency:Ye.current}),as}}}catch(Re){z(es.UPGRADE_TIER_MODAL_EVENTS.CHECKOUT_FAILED,{plan_id:ne.id,plan_name:ne.tier_name,plan_type:i,billing_period:ne.billing_period,price:ne.amount,currency:Ye.current,payment_provider:In,error_message:Re?.response?.data?.detail||Re?.message||"Unknown error",trigger_location:a}),u({title:"Error",description:Re.response.data.detail,variant:"destructive"})}finally{v(null)}},An=async()=>{if(Fe(),ct.plan){const ne=ct.plan;v(ne.id),wn({paymentType:"subscription",currency:ne.currency||Ye.current,planName:ne.tier_name});try{const Re=oc("subscription",ne.amount,ne.currency||Ye.current||"USD",ne.amount*12);ia("subscription",Re);const bt=await yt.createCheckoutSession(0,!0,ne.id,void 0,ne.currency||Ye.current,Re);Qu({response:bt,planId:ne.id,planName:ne.tier_name,hidePaymentModals:Oe,toast:u,errorMetadata:{currency:ne.currency||Ye.current},email:U?.email})}catch(Re){Oe(),Fn(Is.PAYMENT.CHANGE_PAYMENT_METHOD,Re,{plan_id:ne.id,plan_name:ne.tier_name,currency:ne.currency||Ye.current}),u({title:"Error",description:"Failed to create checkout session. Please try again.",variant:"destructive"})}finally{v(null)}}},en=ne=>{const Re=ze(ne);return Re.includes("teams")?"Team":Re.includes("standard")?Bl.STANDARD:Re.includes("starter")?Bl.STARTER:Re.includes("pro")?Bl.PRO:ne},Zn=ne=>en(ne)===Bl.PRO,Ot=ne=>{const Re=en(ne);return Re===Bl.STANDARD||Re===Bl.STARTER},Jn=ne=>en(ne)===Bl.STARTER,Pn=fn&&nm(),Gs=(ne,Re)=>{const Bt=Qe(Se).filter(Ze=>en(Ze.tier_name)===en(ne)&&Ze.billing_period===Re);return Bt.length===0?100:Math.min(...Bt.map(Ze=>Ze.ecu_credits))},Gn=ne=>{if(!Pn)return!1;const Re=Yn(),bt=Jn(ne.tier_name),Bt=ne.billing_period==="MONTHLY",Ze=Gs(ne.tier_name,ne.billing_period),as=ne.ecu_credits===Ze;return Re&&bt&&Bt&&as},Bs=ne=>{const Re=Ot(ne.tier_name),bt=ne.billing_period==="MONTHLY",Bt=Gs(ne.tier_name,ne.billing_period),Ze=ne.ecu_credits===Bt;return Re&&bt&&Ze},vs=ne=>en(ne)==="Team",sr=ne=>{if(!de||i==="team"&&!de.tier_name.toLowerCase().includes("team"))return"upgrade";if(i==="personal"&&de.tier_name.toLowerCase().includes("team"))return"downgrade";const Re=Ze=>{const as=Ze.toLowerCase().replace(/\s+/g,"");return as.includes("free")?0:as.includes("standard")||as.includes("starter")?1:as.includes("pro")?2:as.includes("teams")?3:4},bt=Re(de.tier_name),Bt=Re(ne.tier_name);return Bt>bt?"upgrade":Bt<bt?"downgrade":ne.amount>de.amount?"upgrade":"downgrade"},he=ne=>ne.billing_period==="YEARLY"?Math.ceil(Math.round(ne.amount/RN.MONTHLY_DIVISOR*100)/100):ne.amount,et=ne=>{const Re=he(ne),bt=ne.billing_period==="MONTHLY"&&Ot(ne.tier_name);return Se?.is_first_time_offer&&bt&&ne.ecu_credits===100?1:Gn(ne)?Math.ceil(Re*.1):Yt?Math.max(bt?Math.floor(Re*.25):0,Re-1e3):fe?.promo_code_enabled?bt?Math.max(Math.floor(Re*.05),Re-19):Re:Math.max(bt?Math.floor(Re*.25):0,Re-15)},jt=()=>{if(ue?.subscription){if(ls()){const ne=ue.subscription.expires_at;return typeof ne=="string"?ne:void 0}return ue.monthly_credits_refresh_date||void 0}},tn=()=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:c("credits.upgradeTierModal.processing")})]}),ls=()=>ue?.subscription?.status==="initiated_cancellation",us=()=>de?.payment_gateway==="REVENUECAT",Xn=(ne,Re)=>{if(!us())return!1;if(!ls())return!0;if(!de?.tier_name||!ne)return!1;const bt=ze(ne),Bt=ze(de.tier_name);return!(!(bt.includes(Bt)||Bt.includes(bt))||Re&&de.id&&Re!==de.id)},Yn=()=>i==="personal"?!de:X===Bl.FREE,ss=()=>!!(i==="team"&&de&&de.tier_name.toLowerCase().includes("team")),ms=()=>a==="e2Agent"?"Unlock E2 Agent with Pro":i==="team"?ss()?c("credits.upgradeTierModal.managePlanFor",{organizationName:r}):c("credits.upgradeTierModal.choosePlanFor",{organizationName:r}):Yn()?c("credits.upgradeTierModal.chooseYourPlan"):c("credits.upgradeTierModal.manageYourPlan"),ar=(ne,Re)=>Xn(ne,Re)?{background:"#4A4A4D",opacity:.6,cursor:"not-allowed"}:Zn(ne)||vs(ne)?vP:wP,Fs=(ne,Re,bt)=>{const Bt="w-full p-[10px] max-h-[40px] pr-[16px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center";return Xn(ne.tier_name,bt)?A(Bt,"opacity-60 cursor-not-allowed text-gray-400"):A(Bt,"font-brockmann text-black tracking-[-0.2px] gap-1")},Ge=ne=>{const Re="gap-1 mb-4 font-semibold flex items-center font-['Inter']";return vs(ne)?A(Re,"text-transparent bg-clip-text"):A(Re,Zn(ne)?"text-[#F3CA5F]":"text-[#fff]")},te=(ne,Re)=>{const bt="rounded-full py-[8px] px-3 font-inter font-medium",Bt="bg-[#252529]";return Re==="monthly"?A(bt,"max-md:w-1/2",ne==="monthly"&&Bt):A(bt,"flex-1 text-nowrap flex items-center justify-center gap-1",ne==="annually"&&Bt)},ie=()=>ls()?c("credits.upgradeTierModal.resume"):c("credits.upgradeTierModal.cancel"),ze=ne=>ne.toLowerCase().replace(/\s+/g,""),Ht=ne=>{if(!Yn()&&de&&de.billing_period==="MONTHLY"&&Ve==="annually"&&ze(ne.tier_name)===ze(de.tier_name)&&ne.billing_period==="YEARLY")return!0;if(i==="personal"&&vs(ne.tier_name)&&B){const Re=V?.current_subscription;if(Re&&Re.billing_period==="MONTHLY"&&Ve==="annually"&&ze(ne.tier_name)===ze(Re.tier_name)&&ne.billing_period==="YEARLY")return!0}return!1},Pe=ne=>{if(!Yn()&&de&&de.billing_period==="YEARLY"&&Ve==="monthly"&&ze(ne.tier_name)===ze(de.tier_name)&&ne.billing_period==="MONTHLY")return!0;if(i==="personal"&&vs(ne.tier_name)&&B){const Re=V?.current_subscription;if(Re&&Re.billing_period==="YEARLY"&&Ve==="monthly"&&ze(ne.tier_name)===ze(Re.tier_name)&&ne.billing_period==="MONTHLY")return!0}return!1},Mt=ne=>vs(ne.tier_name)?t.jsx(ks,{credits:ne.ecu_credits||1250}):Zn(ne.tier_name)?t.jsx(Nn,{credits:ne.ecu_credits||RN.PRO_CREDITS}):Ot(ne.tier_name)?t.jsx(ur,{}):null,Tt=ne=>{const Re=de&&ze(ne.tier_name)===ze(de.tier_name);if(Re&&de){if(de.billing_period==="MONTHLY"&&ne.billing_period==="YEARLY")return c("credits.upgradeTierModal.upgradeToAnnual");if(de.billing_period==="YEARLY"&&ne.billing_period==="MONTHLY")return c("credits.upgradeTierModal.downgradeToMonthly");if(de.billing_period===ne.billing_period){if(de.id===ne.id)return c("credits.upgradeTierModal.currentPlan");if(ne.ecu_credits&&de.ecu_credits){if(ne.ecu_credits>de.ecu_credits)return c("credits.upgradeTierModal.upgradeCurrentPlan");if(ne.ecu_credits<de.ecu_credits)return c("credits.upgradeTierModal.downgradeCurrentPlan")}return ne.amount>de.amount?c("credits.upgradeTierModal.upgradeCurrentPlan"):ne.amount<de.amount?c("credits.upgradeTierModal.downgradeCurrentPlan"):c("credits.upgradeTierModal.currentPlan")}}return ne.id==="free-tier"?c("credits.upgradeTierModal.downgradeTo",{tier:en(ne.tier_name)}):vs(ne.tier_name)&&se?c("credits.upgradeTierModal.paymentPending"):de&&de.billing_period==="MONTHLY"&&ne.billing_period==="YEARLY"&&!Re?c("credits.upgradeTierModal.upgradeTo",{tier:en(ne.tier_name)}):!!!s&&vs(ne.tier_name)?se?c("credits.upgradeTierModal.paymentPending"):c("credits.upgradeTierModal.upgradeTo",{tier:en(ne.tier_name)}):sr(ne)==="upgrade"?c("credits.upgradeTierModal.upgradeTo",{tier:en(ne.tier_name)}):c("credits.upgradeTierModal.downgradeTo",{tier:en(ne.tier_name)})},ft=()=>17,$n=ne=>ne.billing_period!=="YEARLY"?null:De("MONTHLY")?.find(Bt=>ze(Bt.tier_name)===ze(ne.tier_name)&&Bt.ecu_credits===ne.ecu_credits)?.amount||null,Ns=d.useMemo(()=>Qe(Se).some(Re=>Re.billing_period==="YEARLY"),[Se,i,s]),si=d.useMemo(()=>Yn()&&!m&&i==="personal",[Yn,m,i,X,de]),Ms=ne=>{const Re=Bn?1:0;return ne.length+Re},ui=ne=>ne===1?"md:grid-cols-1 md:max-w-md md:mx-auto":ne===2?"md:grid-cols-2 md:max-w-3xl md:mx-auto":ne===3?"md:grid-cols-3 md:max-w-[1200px] md:mx-auto":"md:grid-cols-4 md:max-w-7xl md:mx-auto",an=d.useMemo(()=>{const ne={};if(!Se?.plans)return[];Object.entries(Se.plans).forEach(([,Bt])=>{const Ze=Ve==="annually"?Bt.yearly_plans:Bt.monthly_plans;if(Ze&&Ze.length>0){const as=Ze[0]?.currency?.toUpperCase()||"USD";Ye.current=as,as==="BRL"&&localStorage.setItem("preferred_currency","BRL");const hr=Ze[0].tier_name;if(ze(hr).includes("team"))return;const Sa=[...Ze].sort((ke,rt)=>(ke.ecu_credits||0)-(rt.ecu_credits||0)),Va=Sa[0];ne[hr]||(ne[hr]=[]),ne[hr].push({...Va,variants:Sa})}});const Re=[];Object.values(ne).forEach(Bt=>{if(Bt.length>0){const Ze=Bt[0]?.currency?.toUpperCase()||"USD";Ye.current=Ze,Ze==="BRL"&&localStorage.setItem("preferred_currency","BRL")}Re.push(...Bt)});const bt=Bt=>{const Ze=ze(Bt);return Ze.includes("standard")||Ze.includes("starter")?K3.STANDARD_STARTER:Ze.includes("pro")?K3.PRO:Ze.includes("teams")||Ze.includes("team")?4:K3.OTHER};return Re.sort((Bt,Ze)=>bt(Bt.tier_name)-bt(Ze.tier_name))},[Se,i,de,Ve,s,pe]),Pi=ne=>ne.includes("md:max-w-md")?"md:max-w-md":ne.includes("md:max-w-3xl")?"md:max-w-3xl":ne.includes("md:max-w-5xl")?"md:max-w-5xl":(ne.includes("md:max-w-7xl"),"md:max-w-7xl"),wr=d.useMemo(()=>{const ne=an.filter(Bt=>!vs(Bt.tier_name)),Re=Ms(ne),bt=ui(Re);return{totalCards:Re,gridColumns:bt,maxWidth:Pi(bt)}},[an,i,si,m,Bn]);if(d.useMemo(()=>wr.totalCards<=2?"md:max-w-[1200px]":wr.maxWidth,[wr.totalCards,wr.maxWidth]),m)return null;if(f)return t.jsx(Ede,{isOpen:e,onOpenChange:n,organizationId:s,organizationName:r,planType:i,triggerLocation:a,shouldShowModelSelectorTooltipAfterClose:o,onReturnFlow:l});const ye=async ne=>{if(!ne.trim()){p.error(c("credits.upgradeTierModal.pleaseEnterCoupon")),rs(c("credits.upgradeTierModal.pleaseEnterCoupon"));return}Cn(!0),rs("");try{const Re=ne.toUpperCase(),bt=H?.payment_provider?.toUpperCase()||"STRIPE",Bt=await Ie({coupon_name:Re,payment_mode:"subscription",payment_gateway:bt}).unwrap();if(!Bt.valid){const Ze=Bt.message||c("credits.upgradeTierModal.invalidCoupon");p.error(Ze),rs(Ze),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:Re,error_message:Ze,plan_type:i,currency:Ye.current});return}xt({code:Re,discount:0}),p.success(c("credits.upgradeTierModal.couponApplied")),qe(!1),_t(""),rs(""),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLIED,{coupon_code:Re,plan_type:i,currency:Ye.current})}catch(Re){const bt=Re?.data?.message||Re?.message||c("credits.upgradeTierModal.failedToValidateCoupon");rs(bt),p.error(bt),Fn(Is.COUPON.VERIFY,Re,{coupon_code:ne,error_message:bt,plan_type:i,currency:Ye.current}),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_APPLY_FAILED,{coupon_code:ne,error_message:bt,plan_type:i,currency:Ye.current})}finally{Cn(!1)}},at=()=>{ye(it)},Qn=()=>{Le&&z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_REMOVED,{coupon_code:Le.code,plan_type:i,currency:Ye.current}),xt(null),_t(""),rs(""),qe(!1)},Nn=({credits:ne})=>t.jsxs("div",{className:"flex-grow space-y-2",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(jr,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-medium font-inter",children:c("credits.upgradeTierModal.everythingInStandard")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(jr,{color:"#66F0FF",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#66F0FF] font-medium font-inter",children:"E2 Agent"})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Tf,{fill:"#FF8C66",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#FF8C66] font-medium font-inter",children:c("credits.upgradeTierModal.contextWindow")})}),t.jsx(jr,{color:"#FF8C66",className:"ml-1 mt-0.5",size:20})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(qo,{color:"#FF8C66",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#FF8C66] font-medium font-inter",children:c("credits.upgradeTierModal.ultraThinking")})}),t.jsx(jr,{color:"#FF8C66",className:"ml-1 mt-0.5",size:20})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Sde,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium text-[#CCC] font-inter",children:c("credits.upgradeTierModal.systemPromptEdit")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Bd,{primaryColor:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.customAgents")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(LN,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.mobileAppDevelopment")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(kde,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.biggerMachine")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.monthlyCredits",{count:ne})})})]}),Te()?pt():null,t.jsxs("div",{className:"flex items-start",children:[t.jsx(G3,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.prioritySupport")})})]})]}),ks=({credits:ne})=>t.jsxs("div",{className:"flex-grow space-y-2",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(jr,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium font-inter text-[#CCC]",children:c("credits.upgradeTierModal.everythingInPro")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.sharedTeamPool",{credits:ne})})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Tde,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.centralBilling")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ide,{fillStart:"#ccc",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.collaborativeWorkspace")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ade,{className:"w-5 h-5 mr-2 mt-0.5 text-[#ccc]"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.teamMembers")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(G3,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.additionalMembers")})})]})]}),qs=()=>t.jsxs("div",{className:"flex-grow space-y-2",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(by,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"font-medium font-inter text-[#CCC]",children:c("credits.upgradeTierModal.everythingInTeams")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Mn,{className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.singleSignOn")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(G3,{fill:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC] font-inter",children:c("credits.upgradeTierModal.enterpriseSupport")})})]})]}),ur=()=>t.jsxs("div",{className:"flex-grow space-y-2",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(LN,{color:"#CCC",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC]  font-inter",children:c("credits.upgradeTierModal.mobileAppDevelopment")})})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(ca,{color:"#CCC",opacity:1,className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#CCC]  font-inter",children:c("credits.upgradeTierModal.privateApps")})})]}),Te()?pt():null,t.jsxs("div",{className:"flex items-start",children:[t.jsx(yP,{fill:"#ccc",className:"w-5 h-5 mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-[#ccc] font-inter",children:c("credits.upgradeTierModal.buyAdditionalCredits")})})]}),Xt]}),pi=()=>t.jsxs("div",{className:"flex-grow space-y-2 md:space-y-2",children:[Te()?pt():null,t.jsxs("div",{className:"flex items-start",children:[t.jsx(Mn,{className:"w-5 h-5 text-white mr-2 mt-0.5"}),t.jsx("span",{className:"text-[14px] leading-5",children:t.jsx("span",{className:"text-gray-400 font-inter",children:c("credits.upgradeTierModal.basicAccess")})})]})]});return e?ht?t.jsx(zn,{open:!0,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[9999] bg-black/50 flex items-center justify-center",children:t.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-[#1C1C1F] border border-[#2E2F34] rounded-[20px] p-8 max-w-md mx-4 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-[#F3CA5F] border-t-transparent rounded-full animate-spin"}),t.jsx("div",{className:"font-medium text-white",children:c("credits.upgradeTierModal.loadingPlans")}),t.jsx("div",{className:"text-sm text-gray-400",children:c("credits.upgradeTierModal.loadingPlansDescription")})]})})})})})}):t.jsxs(t.Fragment,{children:[t.jsx(zn,{open:!0,onOpenChange:n,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsxs("div",{"data-testid":Rr.upgradeTier.modal,className:"fixed inset-0 z-[9999]",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-[#18181A]",onClick:()=>Cs(!1)}),t.jsxs("div",{className:"flex flex-col w-full h-full",children:[Ae&&!fe?.promo_code_enabled&&t.jsx(hP,{config:Ae.config,showPromoCode:Ae.showPromoCode,isMobile:m,onCodeCopy:ne=>{p.success("Code Copied"),z("promotional_banner_code_copied",{code:ne,banner_text:Ae.config?.text,trigger_location:a})}}),fe?.pix_modal&&X==="free"&&t.jsx(gP,{couponCode:"PIX90"}),t.jsx("div",{className:"relative flex-1 w-full overflow-y-auto",children:t.jsxs(xe.div,{className:"min-h-full w-full flex items-center justify-center bg-[#18181A] px-4 py-8",onClick:ne=>ne.stopPropagation(),children:[t.jsx("button",{type:"button","data-testid":Rr.upgradeTier.closeButton,onClick:()=>Cs(!1),disabled:y!==null,className:A("fixed top-4 right-4 md:right-6 z-[1000] p-2 bg-[#0000003c] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",y!==null&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-[#FFFFFF]"})}),t.jsxs("div",{className:"flex flex-col w-full mx-auto max-w-8xl md:items-center",children:[t.jsx("div",{className:"flex items-start justify-start w-full mb-8 md:justify-center md:items-center",children:t.jsxs("div",{className:"flex flex-col items-start justify-center gap-1 md:items-center",children:[t.jsx("h2",{className:"text-[22px] md:text-[28px] font-medium text-[#E6E6E6]",children:ms()}),Xn()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start font-inter font-medium whitespace-pre-line",children:c("credits.upgradeTierModal.revenueCatSubscriptionMessage")}):Yn()?t.jsx("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:i==="team"?c("credits.upgradeTierModal.selectTeamPlanFor",{organizationName:r}):c("credits.upgradeTierModal.pickPlanDescription")}):t.jsxs("span",{className:"text-[#FFFFFF]/40 md:text-center max-md:text-[16px] text-start md:text-nowrap font-inter font-medium",children:[ls()?c("credits.upgradeTierModal.planCancelsOn"):c("credits.upgradeTierModal.monthlyCreditsRefreshesOn"),t.jsx("span",{className:"text-[#FFFFFF] font-inter font-medium ml-1",children:bm(jt())})]})]})}),Ns&&t.jsxs("div",{className:"bg-[#151517] rounded-full flex items-center text-[14px] border-[#FFFFFF1F] border p-1 mb-4",children:[t.jsx("button",{type:"button",onClick:()=>Vs("monthly"),className:te(Ve,"monthly"),children:c("credits.upgradeTierModal.monthly")}),t.jsxs("button",{type:"button",onClick:()=>Vs("annually"),className:te(Ve,"annually"),children:[c("credits.upgradeTierModal.annually")," ",t.jsx("div",{className:" text-[#47B24D] font-inter text-[14px] font-semibold rounded-full",children:c("credits.upgradeTierModal.save",{percentage:ft()})})]})]}),(Yt||fn)&&i==="personal"&&!m&&t.jsx("div",{className:"mb-6",children:Le?t.jsxs("div",{className:"flex items-center justify-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:[t.jsxs("div",{className:"flex",children:[t.jsxs("svg",{className:"self-center",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M10 18C8.89333 18 7.85333 17.79 6.88 17.37C5.90667 16.95 5.06 16.38 4.34 15.66C3.62 14.94 3.05 14.0933 2.63 13.12C2.21 12.1467 2 11.1067 2 10C2 8.89333 2.21 7.85333 2.63 6.88C3.05 5.90667 3.62 5.06 4.34 4.34C5.06 3.62 5.90667 3.05 6.88 2.63C7.85333 2.21 8.89333 2 10 2C11.1067 2 12.1467 2.21 13.12 2.63C14.0933 3.05 14.94 3.62 15.66 4.34C16.38 5.06 16.95 5.90667 17.37 6.88C17.79 7.85333 18 8.89333 18 10C18 11.1067 17.79 12.1467 17.37 13.12C16.95 14.0933 16.38 14.94 15.66 15.66C14.94 16.38 14.0933 16.95 13.12 17.37C12.1467 17.79 11.1067 18 10 18Z",fill:"#5FE55C"}),t.jsx("path",{d:"M13.1332 7C13.285 7 13.426 7.02648 13.5562 7.07943C13.6864 7.13239 13.8021 7.20829 13.9033 7.30713C14.0046 7.40598 14.0805 7.51719 14.1311 7.64075C14.1817 7.76431 14.2107 7.90375 14.2179 8.05909C14.2179 8.2003 14.1908 8.33621 14.1365 8.46683C14.0823 8.59745 14.0046 8.71219 13.9033 8.81104L9.59703 13.0209C9.49579 13.1198 9.37828 13.1957 9.2445 13.2486C9.11072 13.3016 8.97152 13.3298 8.82689 13.3333C8.68226 13.3333 8.54306 13.3069 8.40928 13.2539C8.2755 13.2009 8.15799 13.1233 8.05675 13.0209L6.09343 11.104C5.99219 11.0051 5.91445 10.8904 5.86021 10.7598C5.80598 10.6291 5.77705 10.4932 5.77344 10.352C5.77344 10.2037 5.80236 10.0661 5.86021 9.93896C5.91807 9.81187 5.9958 9.6989 6.09343 9.60006C6.19105 9.50121 6.30494 9.42707 6.43511 9.37765C6.56527 9.32822 6.70809 9.29998 6.86357 9.29292C7.0082 9.29292 7.1474 9.3194 7.28118 9.37235C7.41496 9.42531 7.53247 9.50121 7.63371 9.60006L8.82689 10.765L12.363 7.30713C12.4643 7.20829 12.5818 7.13239 12.7156 7.07943C12.8493 7.02648 12.9885 7 13.1332 7Z",fill:"#172218"})]}),t.jsx("span",{className:"ml-1 text-[#5FE55C] font-inter text-[14px] font-medium leading-[20px] uppercaseRetry",children:Le.code})]}),t.jsx("button",{onClick:Qn,className:"ml-2 text-white/50 font-inter text-[16px] font-medium leading-[20px]",children:c("credits.upgradeTierModal.remove")})]}):Rt?t.jsx("div",{className:"relative min-w-[300px] animate-in fade-in-0 slide-in-from-top-2 duration-300",children:t.jsxs("div",{className:A("relative w-full flex items-center rounded-[12px] pl-4 pr-2 py-2 transition-colors",On?"border border-[rgba(255,128,128,0.30)]":"border border-white/10 focus-within:border-[rgba(255,255,255,0.20)]"),children:[t.jsx("input",{type:"text",value:it,onChange:ne=>_t(ne.target.value.toUpperCase()),onKeyDown:ne=>{ne.key==="Enter"&&it.trim()&&!Kt&&(ne.preventDefault(),at())},placeholder:c("credits.upgradeTierModal.enterCode"),className:"bg-transparent flex-1  text-white placeholder-[#FFF]/30 focus:outline-none text-[14px] font-medium",autoFocus:!0}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{qe(!1),_t(""),rs("")},className:"flex items-center justify-center transition-colors rounded-full w-7 h-7 bg-white/10",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{d:"M12 4L4 12M4 4L12 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.60"})})}),t.jsx("button",{onClick:at,disabled:Kt||!it.trim(),className:A("w-7 h-7 rounded-full flex items-center justify-center transition-colors bg-white",it?"cursor-pointer":"bg-opacity-20"),children:t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M15.2803 5.73438C15.505 5.7344 15.7279 5.77923 15.9355 5.86523C16.143 5.95126 16.3324 6.07652 16.4912 6.23535C16.812 6.55627 16.9921 6.99252 16.9922 7.44629C16.9921 7.89995 16.8119 8.33539 16.4912 8.65625L9.49219 15.6562C9.32753 15.8209 9.13115 15.9509 8.91602 16.04C8.70088 16.1291 8.47016 16.1758 8.2373 16.1758C8.00442 16.1758 7.77376 16.1291 7.55859 16.04C7.34344 15.9509 7.14711 15.8209 6.98242 15.6562L3.50488 12.1787L3.50586 12.1777C3.34717 12.0219 3.21871 11.8372 3.13086 11.6328C3.04131 11.4243 2.99426 11.1996 2.99219 10.9727C2.99021 10.7454 3.03406 10.5189 3.12012 10.3086C3.20611 10.0986 3.33273 9.9076 3.49316 9.74707C3.65383 9.58641 3.84538 9.45911 4.05566 9.37305C4.26593 9.28703 4.49157 9.24317 4.71875 9.24512C4.94571 9.24712 5.17033 9.29429 5.37891 9.38379C5.58311 9.47151 5.76809 9.59938 5.92383 9.75781H5.9248L8.23633 12.0693L14.0693 6.23535C14.2281 6.07648 14.4175 5.95128 14.625 5.86523C14.8326 5.77923 15.0556 5.73442 15.2803 5.73438ZM7.53223 15.1064C7.6247 15.1989 7.73564 15.2722 7.85645 15.3223C7.94697 15.3597 8.04252 15.3829 8.13965 15.3926L8.04297 15.3779C7.97906 15.3652 7.91596 15.3463 7.85547 15.3213C7.73474 15.2712 7.62464 15.1979 7.53223 15.1055L5.5957 13.1689L7.53223 15.1064ZM8.61816 15.3213C8.59576 15.3306 8.57276 15.3381 8.5498 15.3457C8.57263 15.3381 8.59588 15.3315 8.61816 15.3223C8.64819 15.3098 8.6774 15.2955 8.70605 15.2803C8.67763 15.2954 8.64804 15.3089 8.61816 15.3213ZM16.0029 8.03711C15.9836 8.06074 15.9632 8.08366 15.9414 8.10547L8.94141 15.1055C8.89525 15.1516 8.84502 15.1934 8.79102 15.2295L8.86914 15.1719C8.89447 15.1512 8.91921 15.1296 8.94238 15.1064L15.9414 8.10645C15.9852 8.06266 16.0238 8.01464 16.0576 7.96387L16.0029 8.03711ZM3.83984 10.6035C3.82804 10.6324 3.81746 10.6617 3.80859 10.6914C3.79983 10.721 3.7929 10.751 3.78711 10.7812V10.7803C3.79875 10.7197 3.81639 10.6599 3.83984 10.6025C3.85147 10.5742 3.8646 10.5465 3.87891 10.5195L3.83984 10.6035Z",fill:"black"})})})]})]})}):t.jsx("div",{className:"text-center duration-300 animate-in fade-in-0 slide-in-from-top-2",children:t.jsx("button",{onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),qe(!0),z(es.UPGRADE_TIER_MODAL_EVENTS.COUPON_INPUT_SHOWN,{plan_type:i,currency:Ye.current})},className:"text-white/50 hover:text-white/40 font-inter text-[14px] font-medium leading-[20px]",children:c("credits.upgradeTierModal.havePromoCode")})})}),Me?null:fe?.promo_code_enabled?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(vm,{inline:!0,maxWidth:wr.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(vm,{variant:"card"})})]}):pd()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(wm,{inline:!0})}),t.jsx("div",{className:"md:hidden",children:t.jsx(wm,{variant:"card"})})]}):nm()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(og,{inline:!0,maxWidth:wr.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(og,{variant:"card"})})]}):zx()?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block",children:t.jsx(Cm,{inline:!0,maxWidth:wr.maxWidth})}),t.jsx("div",{className:"md:hidden",children:t.jsx(Cm,{variant:"card"})})]}):null,t.jsxs("div",{className:A("flex flex-col gap-4 w-full","md:grid md:gap-6 md:justify-center",wr.gridColumns),children:[an.map(ne=>{if(vs(ne.tier_name))return null;const Re=ne.variants,bt=ze(ne.tier_name),Bt=g[bt],Ze=Re&&Bt?Re.find(Oi=>Oi.id===Bt)||Re[0]:Re?.[0]||ne,as=de&&Ze.id===de.id&&Ze.billing_period===de.billing_period,hr=Ht(Ze);return t.jsxs("div",{className:A("rounded-[16px] pb-6 p-6 flex flex-col relative transition-colors duration-200 w-full min-h-[300px] md:min-h-[400px]","bg-[#262629]"),children:[vs(ne.tier_name)?t.jsx("div",{children:t.jsxs("h3",{className:Ge(ne.tier_name),style:{background:"linear-gradient(152.98deg, #FFF4DF -8.63%, #FFD702 95.68%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(255, 215, 2, 0.4)"},children:[en(ne.tier_name)," ",t.jsx(by,{size:24,className:"ml-1"})]})}):t.jsxs("h3",{className:Ge(ne.tier_name),children:[en(ne.tier_name)," ",Zn(ne.tier_name)&&t.jsx(jr,{color:"#F3CA5F",size:24,height:24,width:24})]}),t.jsxs("div",{className:"flex items-start justify-between my-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline leading-[32px] h-[32px]",children:[t.jsxs("span",{className:"font-semibold text-[28px] tracking-[-0.2px]",children:[Tr((!Se?.is_first_time_offer&&!_n||Bs(Ze))&&(Ju()&&Ze.billing_period==="MONTHLY"&&!je&&(!fe?.promo_code_enabled||Ot(Ze.tier_name))||Gn(Ze))?et(Ze):he(Ze),Ye.current)," "]}),t.jsx("span",{className:"ml-2 font-medium text-white/50 text-[18px]",children:"/ mo"})]}),(!Se?.is_first_time_offer&&!_n||Bs(Ze))&&(Ju()&&Ze.billing_period==="MONTHLY"&&!je&&(!fe?.promo_code_enabled||Ot(Ze.tier_name))||Gn(Ze))&&t.jsxs("div",{className:"font-semibold w-fit h-[32px] text-[20px] tracking-[-0.2px] text-[#646466] relative",children:[Tr(he(Ze),Ye.current)," ",t.jsx("div",{className:"absolute inset-0 transform -translate-y-1/2 h-[1.5px] w-full bg-[#969699] top-[50%]"})]})]}),(!Se?.is_first_time_offer&&!_n||Bs(Ze))&&(Ju()&&Ze.billing_period==="MONTHLY"&&!je&&(!fe?.promo_code_enabled||Ot(Ze.tier_name))||Gn(Ze))&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:c("credits.upgradeTierModal.saveAmount",{amount:Tr(he(Ze)-et(Ze),Ye.current)})})}),Ze.billing_period==="YEARLY"&&$n(Ze)&&t.jsx("div",{className:"",children:t.jsx("span",{className:"inline-flex items-center px-[12px] py-[8px] h-[32px] rounded-full text-[14px] font-semibold bg-[#66FF6F1A] text-[#66FF6F]",children:c("credits.upgradeTierModal.saveAmount",{amount:Tr($n(Ze)*12-Ze.amount,Ye.current)})})})]}),as?t.jsxs("button",{type:"button",disabled:!0,className:"bg-[#FFFFFF29] text-[#FFFFFF] rounded-full flex text-[14px] gap-2 font-semibold w-full p-[10px] max-h-[40px] pr-[16px] items-center justify-center",children:[c("credits.upgradeTierModal.currentActivePlan"),(Zn(ne.tier_name)||vs(ne.tier_name))&&t.jsx(jr,{color:"#ffffff",size:24,height:24,width:24})]}):hr?t.jsxs("button",{type:"button",style:ar(ne.tier_name,Ze.id),className:Fs(ne,!1,Ze.id),onClick:()=>{i==="personal"&&vs(Ze.tier_name)?is(Ze):zt(Ze),z(Tn.MODAL_EVENTS.UPDATE_TIER_CLICKED,{planType:i,plan:ne,selectedVariant:Ze,currency:Ye.current})},disabled:y!==null||Xn(ne.tier_name,Ze.id),children:[y!==null?tn():c("credits.upgradeTierModal.upgradeToAnnual"),(Zn(ne.tier_name)||vs(ne.tier_name))&&t.jsx(jr,{color:"#0F0F10",size:24,height:24,width:24})]}):t.jsxs("button",{type:"button",style:ar(ne.tier_name,Ze.id),className:Fs(ne,!1,Ze.id),onClick:()=>{i==="personal"&&vs(Ze.tier_name)&&Pe(Ze)?$e():Hn(Ze),z(Tn.CREDIT_EVENTS.PLAN_UPGRADE_BUTTON_CLICKED,{planType:i,plan:ne,selectedVariant:Ze,currency:Ye.current})},disabled:y===Ze.id||Xn(ne.tier_name,Ze.id),children:[y===Ze.id?tn():Tt(Ze),(Zn(ne.tier_name)||vs(ne.tier_name))&&t.jsx(jr,{color:"#0F0F10",size:24,height:24,width:24})]}),(!Re||Re.length<=1)&&t.jsx("div",{className:"relative mt-2",children:t.jsx("button",{type:"button",className:A("w-full px-3 py-2 bg-[#262629] rounded-full border border-[#FFFFFF1F] flex items-center justify-between transition-colors cursor-default"),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ra,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[Sd(Ze.ecu_credits,Se?.is_first_time_offer,Ze.billing_period)," ",c("credits.upgradeTierModal.creditsPerMonth")]})]})})}),Re&&Re.length>1&&(()=>{const Oi=w===bt;return t.jsxs("div",{className:"relative mt-2",ref:Qs=>{j.current[bt]=Qs},children:[t.jsxs("button",{type:"button",onClick:()=>{N(Oi?null:bt)},className:A("w-full px-3 py-2 bg-[#262629] rounded-full border border-[#FFFFFF1F] flex items-center justify-between hover:bg-[#313134] transition-colors hover:border-[#FFFFFF4D]",Oi&&"border-[#FFFFFF4D] bg-[#313134] "),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ra,{color:"#FFFFFF",size:20}),t.jsxs("span",{className:"text-[14px] font-inter font-medium text-white",children:[Sd(Ze.ecu_credits,Se?.is_first_time_offer,Ze.billing_period)," ",c("credits.upgradeTierModal.creditsPerMonth")]})]}),t.jsx(Dr,{className:A("w-6 h-6 text-[#FFFFFF]/30 transition-transform",Oi&&"rotate-180")})]}),Oi&&t.jsx("div",{className:"absolute top-full left-0 gap-2  flex flex-col right-0 mt-1 p-2 bg-[#1A1A1C] border border-[#3A3A3B] rounded-lg overflow-hidden z-10",children:Re.map(Qs=>t.jsxs("button",{type:"button",onClick:()=>{b(Sa=>({...Sa,[bt]:Qs.id})),N(null),z(es.UPGRADE_TIER_MODAL_EVENTS.PLAN_VARIANT_SELECTED,{plan_name:Qs.tier_name,plan_id:Qs.id,credits:Qs.ecu_credits,billing_period:Qs.billing_period,price:Qs.amount,plan_type:i,currency:Ye.current})},className:A("w-full  rounded-[8px] text-left p-2 hover:bg-[#FFFFFF0F] transition-colors flex items-center text-white/60 justify-between",Ze.id===Qs.id&&"bg-[#80FFF90F] text-[#80FFF9]"),children:[t.jsxs("span",{className:"text-[14px] font-medium font-inter",children:[Sd(Qs.ecu_credits,Se?.is_first_time_offer,Qs.billing_period)," ",c("credits.upgradeTierModal.creditsPerMonth")]}),Ze.id===Qs.id&&t.jsx(Mn,{color:"#80FFF9",size:20})]},Qs.id))})]})})(),t.jsx("div",{className:"mb-6"}),Mt(Ze)]},ne.id)}),Bn&&!Q&&t.jsxs("div",{className:"bg-[#66F0FF1A] rounded-[16px] pb-6 p-6 flex flex-col transition-colors duration-200 w-full",children:[t.jsxs("h3",{className:"mb-2 text-[16px] flex items-center gap-1 font-semibold text-[#B2F8FF] font-['Inter']",children:[c("credits.upgradeTierModal.enterprise")," ",t.jsx(Zce,{})]}),t.jsx("span",{className:"text-[#B2F8FF]/50 text-[14px] font-inter font-medium mb-6 md:mb-9 ",children:c("credits.upgradeTierModal.enterpriseFeatures")}),t.jsxs("button",{type:"button",className:"w-full mb-6 p-[10px] max-h-[40px] pr-[16px] gap-[10px] text-[14px] font-semibold rounded-full items-center flex justify-center bg-[#66F0FF] text-[#293333] border-[#66F0FF1F]",onClick:()=>{z("enterprise_demo_clicked",{userId:U?.id||"",userEmail:U?.email||"",userName:H?.name||U?.email||"",currentTier:de?.tier_name||"free",source:"upgrade_tier_modal",timestamp:new Date().toISOString(),currency:Ye.current}),z(es.UPGRADE_TIER_MODAL_EVENTS.CONTACT_SALES_CLICKED,{plan_type:i,current_plan:de?.tier_name||"free",currency:Ye.current}),window.open(Li.enterpriseDemo,"_blank","noopener,noreferrer")},children:[c("credits.upgradeTierModal.bookDemo")," ",t.jsx(h8,{color:"#293333"})]}),t.jsx(qs,{})]}),Yn()&&m&&i==="personal"&&t.jsxs("div",{className:"bg-[#262629] rounded-[16px] pb-6 p-6 flex flex-col transition-colors duration-200 w-full min-h-[350px]",children:[t.jsx("h3",{className:"mb-2 text-[16px] font-semibold text-[#E6E6E6] font-['Inter']",children:c("credits.upgradeTierModal.free")}),t.jsxs("div",{className:"flex items-baseline mb-6",children:[t.jsxs("span",{className:"font-semibold text-[32px] tracking-[-0.2px]",children:[Tr(0,Ye.current)," "]}),t.jsx("span",{className:"ml-2 text-[#E6E6E6] font-medium font-inter",children:c("credits.upgradeTierModal.perMonth")})]}),t.jsx("button",{type:"button",className:"w-full mb-6 md:mb-10 p-[10px] min-h-[48px] pr-[16px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center bg-white/15 text-white border-[#3A3A3B] hover:bg-[#3A3A3B]",children:c("credits.upgradeTierModal.currentActivePlan")}),t.jsx(pi,{})]})]}),si&&t.jsxs("div",{className:A("bg-[#262629] rounded-[16px] pb-6 p-6 transition-colors duration-200 w-full flex justify-between mt-5 mx-auto",wr.maxWidth),children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:"mb-2 text-[16px] font-semibold text-[#E6E6E6] font-['Inter']",children:c("credits.upgradeTierModal.free")}),t.jsxs("div",{className:"flex items-baseline mb-6",children:[t.jsxs("span",{className:"font-semibold text-[32px] tracking-[-0.2px]",children:[Tr(0,Ye.current)," "]}),t.jsx("span",{className:"ml-2 text-[#E6E6E6] font-medium font-inter",children:c("credits.upgradeTierModal.perMonth")})]}),t.jsx(pi,{})]}),t.jsx("button",{type:"button",className:" mb-6 md:mb-10 p-[10px] max-h-[40px] px-[24px] text-[14px] leading-5 font-semibold rounded-full items-center flex justify-center bg-white/15 text-white border-[#FFFFFF1F] hover:bg-[#3A3A3B]",onClick:()=>{Cs(!1),setTimeout(()=>{const ne=document.getElementById("mainTaskInput");ne&&ne.focus()},300)},children:c("credits.upgradeTierModal.startBuilding")})]}),Yn()&&t.jsx("div",{className:"flex items-center justify-center w-full mt-6 flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[c("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:Li.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",children:[c("credits.upgradeTierModal.contactUs")," ",t.jsx(bc,{color:"#FFFFFF"})]})]})}),!Yn()&&t.jsxs("div",{className:A("flex flex-col-reverse items-center justify-between w-full gap-4 max-md:pt-6 md:flex-row md:pt-4 mx-auto",wr.maxWidth),children:[t.jsx("div",{className:"flex justify-center flex-nowrap",children:t.jsxs("span",{className:"text-[#FFFFFF66] font-inter text-[14px] flex gap-2 text-center text-nowrap",children:[c("credits.upgradeTierModal.needHelp")," ",t.jsxs("a",{href:Li.support,target:"_blank",rel:"noopener noreferrer",className:"text-[#FFFFFF] font-inter flex items-center gap-2",onClick:()=>z(Tn.CREDIT_EVENTS.CONTACT_US_BUTTON_CLICKED,{currency:Ye.current}),children:[c("credits.upgradeTierModal.contactUs")," ",t.jsx(bc,{color:"#FFFFFF"})]})]})}),!Yn()&&!us()&&!((Yt||fn)&&ls())&&!vt&&fs()?t.jsx("button",{type:"button",onClick:cn,disabled:st,className:A("text-[#FFFFFF66] max-md:w-full max-md:min-h-[48px] justify-center text-[14px] py-2 px-4 rounded-full flex items-center gap-1",st&&"opacity-50 cursor-not-allowed"),children:st?tn():t.jsxs(t.Fragment,{children:[ie()," ",c("credits.upgradeTierModal.subscription"),t.jsx(ga,{className:"rotate-180",color:"#FFFFFF66",size:16})]})}):null]})]})]})})]})]})})})}),t.jsx(Zd,{isOpen:ut.isLoading,onOpenChange:Oe,paymentType:ut.paymentType||"subscription",amount:ut.amount,currency:ut.currency,planName:ut.planName}),t.jsx(mP,{showModal:ct.showModal,plan:ct.plan||null,savedCard:Ct,isLoading:st,onClose:Fe,onConfirm:He,onChangePaymentMethod:An}),_e.paymentId&&t.jsx(w2,{isOpen:_e.showModal,onOpenChange:dt,paymentId:_e.paymentId,initialStatus:mn,paymentType:"subscription",planName:_e.planName,organizationId:_e.organizationId,onClose:Dt}),t.jsx(uP,{isOpen:F,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.SURVEY_CLOSED,Un),E(!1)},onProceedToCancel:dn,planName:de?.tier_name||"Pro",question:J?.form?.question,reasons:J?.form?.reasons}),t.jsx(dP,{isOpen:_&&!S,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.WARNING_CLOSED,Un),C(!1)},onConfirmCancel:()=>hn("warning"),planName:en(de?.tier_name||"Standard"),endDate:bm(de?.end_date)}),t.jsx(pP,{isOpen:S,onClose:()=>{z(es.CANCELLATION_FLOW_EVENTS.RETENTION_CLOSED,Un),M(!1)},onClaimOffer:Wn,onCancelAnyway:()=>hn("retention"),message:J?.offer?.message}),t.jsx(zn,{open:D||k||ge||Ce,children:t.jsx(Us,{children:t.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-[#0F0F10]/80 backdrop-blur-[6px]"}),t.jsxs("div",{className:"relative flex flex-col items-center justify-center",children:[t.jsx("div",{className:"w-8 h-8 mb-6 text-gray-200 border-2 rounded-full border-white/20 border-t-white animate-spin"}),D&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"mt-2 font-medium text-white",children:"Your subscription is being cancelled."}),t.jsx("p",{className:"text-sm text-gray-400",children:" This may take a few seconds"})]})]})]})})})]}):null}const Lde=Object.freeze(Object.defineProperty({__proto__:null,UpgradeTierModal:Ic,buttonStyle:vP,plainButtonStyle:wP},Symbol.toStringTag,{value:"Module"})),Rde=W.common.bot,Pde=W.pro.secondBanner,Ode=W.feature.arrowDark,Bde=[{number:"1",title:"Define Your Agent's Personality & Role",description:"Describe who your agent is and what they're great at."},{number:"2",title:"Map Out the Workflow & Logic",description:"Break down how they should approach tasks step by step."},{number:"3",title:"Add Guardrails for Better Decisions",description:"Establish do's and don'ts so your agent makes the right decisions."}],Ude=({isOpen:e,onOpenChange:n})=>{const{user:s}=xs(),{currentWorkspace:r}=ys(),{isMobile:i}=ps(),{setTabs:a,setActiveTab:o}=qr(),l=()=>{const c=`create-agent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;a(u=>[...u,{id:c,title:"Create New Agent",path:"/create-agent",level:r&&r!=="personal"?"organization":"user",organization_id:r&&r!=="personal"?r:void 0,created_by:s?.id,state:{tabId:c,fromModal:!0}}]),o(c),n(!1)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"md:w-[900px] max-h-[80vh] max-w-[90vw] md:h-[650px] p-0 bg-[#18181A] rounded-2xl overflow-hidden",children:[t.jsx(wl,{className:"absolute z-10 flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",children:t.jsx(Pt,{className:"w-6 h-6 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative flex w-[inherit] h-full max-md:flex-col-reverse",children:[t.jsxs("div",{className:"flex flex-col justify-center flex-1 gap-4 md:px-[40px] md:py-12",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-8 max-md:px-5 max-md:pt-6",children:[t.jsx("img",{src:Rde,alt:"Custom Agents",className:"w-12 h-12 max-md:hidden"}),t.jsx(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[20px] md:text-[28px] leading-[32px] font-semibold tracking-[-2%] text-white",children:"Introducing Custom Agents"})]}),t.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-[#737780] max-md:px-5 text-[14px] font-['Inter'] md:text-[15px] text-wrap whitespace-pre-wrap break-words leading-[20px] md:leading-[24px]",children:"Create and monetize expert-level AI agents tailored to custom use cases."})]}),t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col gap-[16px] max-md:px-5",children:Bde.map((c,u)=>t.jsx("div",{className:"flex items-start gap-4 bg-[#80FFF908] p-4 rounded-[8px]",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"text-[16px] text-[#80FFF9] font-medium",children:c.title}),t.jsx("p",{className:"text-[14px] font-[500] text-[#80FFF966] font-['Inter']",children:c.description})]})},u))}),t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},className:"sticky max-md:px-5 bottom-4 max-md:pb-6",children:t.jsxs("button",{type:"button",onClick:l,className:"flex items-center max-md:max-h-[48px] mt-4 md:mt-[36px] justify-center w-full gap-4 text-[16px] font-semibold text-black transition-all duration-200 transform bg-white shadow-lg h-14 rounded-xl hover:bg-gray-100 hover:shadow-xl hover:-translate-y-1",children:["Create Your First Agent",t.jsx("img",{src:Ode,alt:"Arrow",className:"w-5 h-5"})]})})]}),t.jsx("div",{className:"relative max-md:max-h-[200px] flex-1 overflow-hidden bg-gradient-to-br from-[#DD99FF20] to-[#BB77DD20]",children:t.jsx("img",{src:Pde,alt:"Right Banner",className:"object-cover w-full h-full md:object-fill "})})]})]})})},Vde=({size:e=24,color:n="#4D4D4D",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C7.0293 3 3 7.0293 3 12C3 16.9707 7.0293 21 12 21C16.9707 21 21 16.9707 21 12C21 7.0293 16.9707 3 12 3ZM12 8.4C11.0452 8.4 10.1295 8.77928 9.45442 9.45442C8.77928 10.1295 8.4 11.0452 8.4 12C8.4 12.9548 8.77928 13.8705 9.45442 14.5456C10.1295 15.2207 11.0452 15.6 12 15.6C12.9548 15.6 13.8705 15.2207 14.5456 14.5456C15.2207 13.8705 15.6 12.9548 15.6 12C15.6 11.0452 15.2207 10.1295 14.5456 9.45442C13.8705 8.77928 12.9548 8.4 12 8.4Z",fill:n})}),I1=W.payments.cardBrands,PN=e=>{const n=e.toLowerCase();return{visa:I1.visa,mastercard:I1.mastercard,amex:I1.amex,american_express:I1.amex,jcb:I1.jcb}[n]||null};function CP({showModal:e,bundle:n,savedCard:s,isLoading:r,onClose:i,onConfirm:a,onChangePaymentMethod:o}){const{t:l}=Jt("billing"),[c,u]=d.useState(!1);return t.jsx(zn,{open:e,onOpenChange:p=>!p&&i(),children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsxs("div",{className:"fixed inset-0 z-[10002] flex items-center justify-center",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:i}),t.jsxs(xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative bg-[#1C1C1F] rounded-2xl p-6 max-md:p-[16px] max-w-[600px] w-full m-4 shadow-2xl max-h-[96dvh] overflow-y-auto md:max-h-none md:overflow-visible hide-scrollbar",onClick:p=>p.stopPropagation(),children:[t.jsx("div",{className:"float-right sticky top-0 z-10",children:t.jsx("button",{type:"button",onClick:i,className:"w-[32px] h-[32px] bg-[#FFFFFF0A] hover:bg-[#ffffff1e] flex justify-center items-center rounded-full cursor-pointer transition-colors","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-[22px] h-[22px] text-white/50"})})}),t.jsx("h3",{className:"text-[24px] font-medium text-white mb-[24px] pr-10",children:l("credits.buyCreditsModal.confirmCreditPurchase")}),t.jsx("div",{className:"w-full md:w-[266px] border border-[#F3CA5F33] rounded-[12px] p-4 mb-5 bg-[#F3CA5F0D]",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("div",{children:[t.jsx("div",{className:"mb-[12px]",children:t.jsx(Vde,{color:"#F3CA5F"})}),t.jsxs("p",{className:"text-white font-semibold text-lg h-[24px]",children:[n?.amount||0," ",l("credits.buyCreditsModal.creditsLabel")]}),t.jsx("p",{className:"text-[#FFFFFF]/80 text-sm font-medium h-[24px]",children:Tr(n?.price||0,n?.currency||"USD")})]})})}),t.jsxs("div",{className:"space-y-[8px] border border-[#333333] rounded-[12px] px-[20px] py-[16px] mb-[20px]",children:[t.jsxs("div",{className:"flex justify-between items-center h-[32px]",children:[t.jsx("span",{className:"text-white/50 text-[16px] font-[Inter]",children:l("credits.buyCreditsModal.totalCredits")}),t.jsxs("span",{className:"text-white font-semibold text-[18px] font-[Inter]",children:[n?.amount||0," ",l("credits.buyCreditsModal.creditsLabel")]})]}),t.jsxs("div",{className:"flex justify-between items-center h-[32px]",children:[t.jsx("span",{className:"text-white/50 text-[16px] font-[Inter]",children:l("credits.buyCreditsModal.creditPack")}),t.jsx("span",{className:"text-white/60 font-semibold text-[18px] font-[Inter]",children:Tr(n?.price||0,n?.currency||"USD")})]}),t.jsxs("div",{className:"border-t border-[#333333] pt-[8px] flex justify-between items-center",children:[t.jsx("span",{className:"text-white font-medium text-[20px]",children:l("credits.buyCreditsModal.totalPrice")}),t.jsx("span",{className:"text-white font-semibold text-[20px]",children:Tr(n?.price||0,n?.currency||"USD")})]})]}),t.jsxs("div",{className:"space-y-[8px] border border-[#333333] rounded-[12px] px-[20px] py-[16px] mb-[20px]",children:[t.jsxs("div",{className:"",children:[t.jsx("p",{className:"text-[#FFFFFFB2] font-semibold text-[16px]",children:l("credits.buyCreditsModal.payVia")}),t.jsx("p",{className:"text-[#FFFFFF66] text-sm mb-[20px] font-medium",children:l("credits.buyCreditsModal.useLastPaymentMethod")})]}),s&&t.jsxs("div",{className:"flex items-center justify-between bg-[#FFFFFF14] px-4 py-[12px] rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[PN(s.brand||"")?t.jsxs("div",{className:"relative h-8 w-12",children:[!c&&t.jsx("div",{className:"absolute inset-0 bg-[#FFFFFF20] rounded animate-pulse"}),t.jsx("img",{src:PN(s.brand||""),alt:s.brand,className:A("h-8 w-auto object-contain transition-opacity duration-200",c?"opacity-100":"opacity-0"),onLoad:()=>u(!0)})]}):t.jsx("span",{className:"text-white font-semibold uppercase text-sm bg-[#1C1C1F] px-2 py-1 rounded",children:s.brand}),t.jsx("div",{className:"h-[44px] flex justify-center items-center",children:t.jsxs("p",{className:"text-white text-[14px] font-medium",children:[(s.brand||"").charAt(0).toUpperCase()+(s.brand||"").slice(1)," ",t.jsx("span",{className:"ml-1 tracking-[0.15em]",children:""}),s.last4]})})]}),t.jsx("div",{className:"w-[20px] h-[20px] bg-white rounded-full flex items-center justify-center",children:t.jsx(Mn,{className:"w-4 h-4 text-black"})})]})]}),t.jsxs("div",{className:"flex max-md:flex-col-reverse gap-4 mb-4",children:[t.jsx("button",{type:"button",onClick:o,disabled:r,className:"flex-1 py-3 px-4 border border-[#FFFFFF1F] hover:bg-[#3E3F44] text-[#FFFFFFCC] text-[15px] font-medium rounded-[10px] transition-all duration-150 disabled:opacity-50",children:l("credits.buyCreditsModal.changePaymentMethod")}),t.jsx("button",{type:"button",onClick:a,disabled:r,className:"flex-1 py-3 px-4 bg-[#F3CA5F] hover:bg-[#E7A93C] text-black font-semibold text-[15px] rounded-[10px] transition-all disabled:opacity-50 duration-150",children:r?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:l("credits.buyCreditsModal.processing")})]}):l("credits.buyCreditsModal.confirmAndPay",{amount:Tr(n?.price||0,n?.currency||"USD")})})]}),t.jsxs("div",{className:"flex items-center py-[6px] justify-center gap-1 text-[#FFFFFF40] text-sm",children:[t.jsx(fP,{color:"#FFFFFF40",size:20}),t.jsx("p",{children:l("credits.buyCreditsModal.securePaymentsViaStripe")})]})]})]})})})})}const Y3=1.2;function Hde({bundles:e}){const[n,s]=d.useState(""),[r,i]=d.useState(""),[a,o]=d.useState(null),[l,c]=d.useState(!1),u=()=>e.length>0?e[0].currency:pn.USD,p=u(),f=u().toUpperCase()===pn.INR,m=y=>{const v=y.toUpperCase(),g=M_[v]??M_[pn.USD],b=L_[v]??L_[pn.USD],w=e.map(j=>j.price);return{minimum:w.length>0?Math.min(...w,g):g,maximum:b}},h=y=>{const v=parseInt(y,10);if(isNaN(v))return 0;if(p===pn.INR){let g=v/tP;return v>=42500&&(g=g*Y3),Math.floor(g)}if(p===pn.BRL){let g=v/nP;return v>=3e3&&(g=g*Y3),Math.floor(g)}if(p===pn.KRW){let g=v/sP;return v>=75e4&&(g=g*Y3),Math.floor(g)}return v>=500?Math.floor(v/500*3e3):Math.floor(v/gy)},x=d.useMemo(()=>{if(a?.type==="bundle"&&a.bundleIndex!==void 0)return e[a.bundleIndex];if(a?.type==="custom"&&n){const y=parseInt(n,10),v=m(p);if(!isNaN(y)&&y>=v.minimum&&y<=v.maximum&&!r)return{amount:h(n),price:y,currency:p,discount:0,selected:!0}}return null},[a,e,n,p,r]);return{customAmount:n,setCustomAmount:s,customAmountError:r,setCustomAmountError:i,selectedOption:a,setSelectedOption:o,isProcessing:l,setIsProcessing:c,customAmountCurrency:p,isRazorpayFlowEnabled:f,selectedBundle:x,getDetectedCurrency:u,getCurrencyLimits:m,calculateCredits:h}}function $de({customAmount:e,customAmountCurrency:n,selectedOption:s,selectedBundle:r,isRazorpayFlowEnabled:i,setCustomAmount:a,setCustomAmountError:o,setSelectedOption:l,setIsProcessing:c,getCurrencyLimits:u,calculateCredits:p,getDetectedCurrency:f,tier:m,currentWorkspace:h,userId:x,location:y,handleBuyCredits:v,handleRazorpayPayment:g,checkForSavedPaymentMethod:b,showQuickTopupConfirmation:w,hideQuickTopupConfirmation:N,quickTopupConfirmation:j,onOpenChange:_}){const{t:C}=Jt("billing"),[F,E]=d.useState(!1),[S,M]=d.useState(null),k=d.useCallback(V=>{const ee=u(n);if(V<ee.minimum){const X=C("credits.buyCreditsModal.minimumAmount",{amount:Tr(ee.minimum,n)});o(X),z(Ia.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"below_minimum",amount:V,minimum_required:ee.minimum,currency:n,workspace:h,tier:m})}else if(V>ee.maximum){const X=C("credits.buyCreditsModal.maximumAmount",{amount:Tr(ee.maximum,n)});o(X),z(Ia.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_VALIDATION_ERROR,{error_type:"above_maximum",amount:V,maximum_allowed:ee.maximum,currency:n,workspace:h,tier:m})}else o("")},[n,u,o,C,h,m]),I=d.useCallback(V=>{V||(z(Ia.BUY_CREDITS_MODAL_EVENTS.MODAL_CLOSED,{tier:m,workspace:h,custom_amount_entered:!!e,custom_amount_value:e?parseInt(e):null}),o("")),_(V)},[m,h,e,_,o]),D=d.useCallback(()=>I(!1),[I]),P=d.useCallback(V=>{const ee=V.target.value;if(ee===""){a(""),o("");return}if(!/^\d+$/.test(ee))return;const X=parseInt(ee,10);if(isNaN(X)||X>3e6)return;a(ee);const ae=u(n);z(Ia.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_INPUT_CHANGED,{amount:X,currency:n,calculated_credits:p(ee),is_within_limits:X>=ae.minimum&&X<=ae.maximum}),k(X)},[n,u,p,k,a,o]),R=()=>{z(Ia.BUY_CREDITS_MODAL_EVENTS.PRICING_INFO_LEARN_MORE_CLICKED,{tier:m,workspace:h,currency:f(),custom_amount_entered:!!e}),window.open(Li.creditsAndPricing,"_blank")},B=d.useCallback(()=>{const V=j.bundle,ee=j.organizationId;if(N(),V){const X=Ed(V.price,V.currency,V.amount);ia("credits",X),v(V,ee,!1,X)}},[j,N,v]),U=d.useCallback(()=>{const ee=(parseInt(e,10)||0)+1,X=u(n);ee<=X.maximum&&(a(ee.toString()),k(ee))},[e,n,u,a,k]),H=d.useCallback(()=>{const V=parseInt(e,10)||0,ee=Math.max(0,V-1);ee>0?(a(ee.toString()),k(ee)):(a(""),o(""))},[e,a,o,k]),$=d.useCallback(V=>{l({type:"bundle",bundleIndex:V}),o("")},[l,o]),q=d.useCallback(()=>{l({type:"custom"});const V=parseInt(e,10);isNaN(V)||k(V)},[e,l,k]),Q=d.useCallback(async V=>{const ee=V.mode==="inline",X=ee?V.bundle:r;if(!X)return;const ae=ee?V.isCustom:s?.type==="custom",me=void 0;z(Ia.BUY_CREDITS_MODAL_EVENTS.BUNDLE_PURCHASE_CLICKED,{bundle_amount:X.amount,bundle_price:X.price,bundle_currency:X.currency,bundle_discount:X.discount||0,is_premium_bundle:(X.discount||0)>0,is_custom:ae,workspace:h,is_razorpay_flow:i}),ee?(E(!0),M(X.amount)):c(!0);try{if(i){const pe=Ed(X.price,X.currency,X.amount);ia("credits",pe),await g(X,me,{eventId:pe}),z(Ia.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:X.amount,price:X.price,discount:X.discount||0,tier:m||"free",isCustomAmount:ae,bundleType:ae?"custom":"preset",organizationId:me||"personal",triggerLocation:y,is_razorpay_flow:!0});return}if(await b(me))z(Ia.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:X.amount,price:X.price,discount:X.discount||0,tier:m||"free",isCustomAmount:ae,bundleType:ae?"custom":"preset",organizationId:me||"personal",triggerLocation:y,is_quick_topup:!0}),w(X,me);else{const pe=Ed(X.price,X.currency,X.amount);ia("credits",pe),z(Ia.BUY_CREDITS_MODAL_EVENTS.BUY_CREDITS_CLICKED,{userId:x,credits:X.amount,price:X.price,discount:X.discount||0,tier:m||"free",isCustomAmount:ae,bundleType:ae?"custom":"preset",organizationId:me||"personal",triggerLocation:y,is_razorpay_flow:!1}),await v(X,me,ae,pe)}}catch(oe){Fn(dp.CREDITS_PURCHASE,oe,{credits_amount:X.amount,price:X.price,currency:X.currency,is_custom:ae,is_razorpay_flow:i})}finally{ee?(E(!1),M(null)):c(!1)}},[r,s,i,h,x,m,y,g,v,b,w,c]);return{handleOpenChange:I,closeModal:D,handleCustomAmountChange:P,handleLearnMoreClick:R,handleChangePaymentMethod:B,handleIncrement:U,handleDecrement:H,handleBundleSelect:$,handleCustomAmountSelect:q,handlePurchase:Q,isCheckingSavedCard:F,checkingSavedCardBundleAmount:S}}const zde=W.payments.infoRed;function _P({error:e,className:n}){return t.jsx(ns,{mode:"wait",children:e&&t.jsxs(xe.div,{initial:{opacity:0,x:20,height:0},animate:{opacity:1,x:0,height:"auto"},exit:{opacity:0,x:20,height:0},transition:{duration:.2,ease:"easeOut",height:{duration:.15}},className:A("text-[14px] font-medium text-[#E57373] flex items-center gap-[6px] overflow-hidden",n),children:[t.jsx("img",{src:zde,alt:"Info",className:"flex-shrink-0 w-5 h-5"}),t.jsx("span",{children:e})]})})}function jP({size:e=24,color:n="#33E3FF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C13.5759 24 15.1363 23.6896 16.5922 23.0866C18.0481 22.4835 19.371 21.5996 20.4853 20.4853C21.5996 19.371 22.4835 18.0481 23.0866 16.5922C23.6896 15.1363 24 13.5759 24 12C24 10.4241 23.6896 8.86371 23.0866 7.4078C22.4835 5.95189 21.5996 4.62902 20.4853 3.51472C19.371 2.40042 18.0481 1.5165 16.5922 0.913445C15.1363 0.310389 13.5759 -2.34822e-08 12 0C8.8174 4.74244e-08 5.76516 1.26428 3.51472 3.51472C1.26428 5.76515 0 8.8174 0 12C0 15.1826 1.26428 18.2348 3.51472 20.4853C5.76516 22.7357 8.8174 24 12 24ZM11.6907 16.8533L18.3573 8.85333L16.3093 7.14667L10.576 14.0253L7.60933 11.0573L5.724 12.9427L9.724 16.9427L10.756 17.9747L11.6907 16.8533Z",fill:n})})}function Z3({bundle:e,isSelected:n,onSelect:s}){const{t:r}=Jt("billing"),i=e.discount>0,a=Math.floor(e.amount*5/6);return t.jsx("button",{type:"button",onClick:s,className:A("relative p-1 rounded-2xl transition-all text-left w-full",n?"border border-white":"border border-[#FFFFFF1F] hover:border-white/50"),children:t.jsxs("div",{className:A("w-full h-full rounded-xl px-3 pt-3 md:px-3 md:pt-3 pb-6 md:pb-6 overflow-hidden border border-[#FFFFFF1F]",n?"bg-[#252528]":"bg-[#1f1f21]"),children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-[16px] font-semibold",children:i?t.jsxs("div",{className:"flex gap-1 items-center flex-wrap",children:[t.jsx("span",{className:"line-through opacity-20 text-white font-inter-tight",children:a.toLocaleString()}),t.jsxs("span",{className:"text-[#FFD566] font-inter-tight",children:[e.amount.toLocaleString()," ",r("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("span",{className:"text-[#E6E6E6] font-inter-tight",children:[e.amount.toLocaleString()," ",r("credits.buyCreditsModal.creditsLabel")]})}),t.jsx("p",{className:A("text-[15px] font-inter font-medium",n?"text-[#29CC83]":"text-white/50"),style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},children:Tr(e.price,e.currency)})]}),n&&t.jsx("div",{className:"absolute bottom-[11px] right-[11px]",children:t.jsx(jP,{size:20,color:"#FFFFFF"})})]})})}const Wde=({size:e=24,color:n="#C54800",className:s})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:s,children:t.jsx("path",{d:"M5.28234 12.0004H4.32234V19.6804C4.32234 20.1896 4.52463 20.678 4.8847 21.038C5.24477 21.3981 5.73313 21.6004 6.24234 21.6004H11.0423V12.0004H5.28234ZM17.7623 12.0004H12.9623V21.6004H17.7623C18.2716 21.6004 18.7599 21.3981 19.12 21.038C19.4801 20.678 19.6823 20.1896 19.6823 19.6804V12.0004H17.7623ZM18.5217 7.20039C18.6613 6.73336 18.729 6.24779 18.7223 5.76039C18.7223 3.90759 17.2151 2.40039 15.3623 2.40039C13.8052 2.40039 12.7655 3.82311 12.0945 5.36199C11.4331 3.90759 10.3406 2.40039 8.64234 2.40039C6.78954 2.40039 5.28234 3.90759 5.28234 5.76039C5.28234 6.33255 5.35818 6.80583 5.48298 7.20039H2.40234L2.40234 11.0404H11.0423V9.12039H12.9623V11.0404H21.6023V7.20039H18.5217ZM7.20234 5.76039C7.20234 4.96647 7.84842 4.32039 8.64234 4.32039C9.49482 4.32039 10.2878 5.78439 10.7524 7.20039H8.16234C7.8033 7.20039 7.20234 7.20039 7.20234 5.76039ZM15.3623 4.32039C16.1563 4.32039 16.8023 4.96647 16.8023 5.76039C16.8023 7.20039 16.2014 7.20039 15.8423 7.20039H13.4644C13.954 5.68743 14.6654 4.32039 15.3623 4.32039Z",fill:n})}),Gde=2e3,qde=e=>e.split(/(\{(?:highlight|code):[^}]+\})/),Kde=e=>e.match(/^\{highlight:([^}]+)\}$/)?.[1],J3=e=>e.match(/^\{code:([^}]+)\}$/)?.[1]?.trim(),g8=({config:e,showPromoCode:n=!0,onCodeCopy:s})=>{const[r,i]=d.useState(null);if(!e||!e.text)return null;const a=f=>{navigator.clipboard.writeText(f),i(f),setTimeout(()=>i(null),Gde),s?.(f)},o=!n&&e.alternativeText?e.alternativeText:e.text,l=qde(o),c=l.find(f=>J3(f)),u=c?J3(c):null,p=e.backgroundImage?{backgroundImage:`url(${e.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(90deg, #FFE4C4 0%, #FFD4A8 50%, #FFCC99 100%)"};return t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between w-full px-4 py-3 md:rounded-xl gap-2 md:gap-3",style:p,children:[t.jsxs("div",{className:"flex items-center gap-1",children:[e.showGiftIcon!==!1&&t.jsx(Wde,{color:e.giftIconColor||"#C54800",className:"flex-shrink-0"}),t.jsx("div",{className:"flex flex-wrap items-center gap-x-1 text-[14px] font-semibold",children:l.map((f,m)=>{const h=Kde(f);return h?t.jsx("span",{className:e.highlightFontWeight==="medium"?"font-medium":e.highlightFontWeight==="semibold"?"font-semibold":"font-bold",style:{color:e.highlightTextColor||"#E25C3A"},children:h},m):J3(f)?null:f?t.jsx("span",{style:{color:e.textColor||"#4A3728"},children:f},m):null})})]}),u&&t.jsxs("span",{className:"inline-flex items-center justify-between md:justify-start gap-2 py-2 md:py-1 px-3 text-[14px] rounded-lg cursor-pointer hover:opacity-80 transition-opacity whitespace-nowrap font-semibold w-full md:w-auto",style:{backgroundColor:e.codeChipBgColor||"#1A1A1C",color:e.codeChipTextColor||"#FEFDF9"},onClick:()=>a(u),children:[r===u?"Copied!":u,t.jsx(bo,{size:14})]})]})},Yde=({color:e="white",size:n=16,className:s="",opacity:r=.6})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 16 16",fill:"none",className:s,children:t.jsx("path",{opacity:r,d:"M7.99994 4.58594L3.2926 9.2926L4.70727 10.7073L7.99994 7.41394L11.2926 10.7073L12.7073 9.2926L7.99994 4.58594Z",fill:e})}),Zde=({color:e="white",size:n=16,className:s="",opacity:r=.6})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 16 16",fill:"none",className:s,children:t.jsx("path",{opacity:r,d:"M7.99994 10.7075L3.2926 6.00085L4.70727 4.58619L7.99994 7.87952L11.2926 4.58619L12.7073 6.00085L7.99994 10.7075Z",fill:e})});function ON({value:e,onChange:n,onSelect:s,isSelected:r,currency:i,error:a,onIncrement:o,onDecrement:l,isMobile:c=!1,calculatedCredits:u}){const{t:p}=Jt("billing"),f=d.useRef(null),m=rP(i),h=()=>{s(),f.current?.focus()},x=v=>{v.stopPropagation(),s(),o()},y=v=>{v.stopPropagation(),s(),l()};return t.jsxs("div",{className:"space-y-2",children:[!c&&t.jsx("p",{className:"text-[14px] text-white/60 font-inter font-medium leading-5",children:p("credits.buyCreditsModal.customAmountLabel")}),t.jsx("div",{onClick:h,className:A("border rounded-lg md:rounded-lg transition-all cursor-text",r?"border-[#FFFFFF33]":"border-[#FFFFFF1F]",c?"rounded-xl p-4":"px-3 pr-2 py-2"),children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[t.jsx("span",{className:A("font-medium shrink-0",r?"text-white/50":"text-white/40"),children:m}),t.jsx("input",{ref:f,type:"text",value:e,onChange:n,onFocus:s,placeholder:p("credits.buyCreditsModal.customAmountPlaceholder"),className:A("bg-transparent outline-none font-inter-tight font-medium caret-white flex-1 min-w-0 text-[16px] placeholder:text-white/20",e&&!r?"text-white/30":"text-white"),style:{fontFeatureSettings:"'lnum' 1, 'tnum' 1"},inputMode:"numeric",pattern:"[0-9]*"})]}),t.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[e&&u>0&&t.jsxs("span",{className:"text-[16px] font-inter font-semibold text-[#E6E6E6] opacity-50 whitespace-nowrap",children:[u.toLocaleString()," ",p("credits.buyCreditsModal.creditsLabel")]}),!c&&t.jsxs("div",{className:"flex flex-col",children:[t.jsx("button",{type:"button",onClick:x,className:"px-0.5 bg-[#1C1C1F] border border-[#292929] rounded-t hover:bg-[#252528] transition-colors",children:t.jsx(Yde,{})}),t.jsx("button",{type:"button",onClick:y,className:"px-0.5 bg-[#1C1C1F] border border-[#292929] border-t-0 rounded-b hover:bg-[#252528] transition-colors",children:t.jsx(Zde,{})})]})]})]})}),t.jsx(_P,{error:a})]})}const Jde=W.payments.externalFilled;function Xde({onCancel:e,onConfirm:n,onLearnMore:s,creditsAmount:r,isLoading:i,disabled:a}){const{t:o}=Jt("billing");return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"hidden md:flex items-center justify-between border-t border-[#242424] pt-6 mt-10 -mx-6 px-6",children:[t.jsxs("button",{type:"button",onClick:s,className:"flex items-center gap-1 text-white opacity-40 hover:opacity-100 transition-opacity",children:[t.jsx("span",{className:"font-inter font-medium text-[16px]",children:o("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx("img",{src:Jde,alt:"External",className:"w-5 h-5"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{type:"button",onClick:e,className:"px-5 h-12 bg-[#272729] text-[#DCDCE5] rounded-xl font-medium text-[16px] hover:bg-[#323235] transition-colors",children:o("credits.buyCreditsModal.cancel")}),t.jsx("button",{type:"button",onClick:()=>n({mode:"selection"}),disabled:a||i,className:A("px-5 h-12 rounded-xl font-semibold text-[16px] tracking-[-0.2px] transition-colors",a||i?"bg-[#FFD566]/50 text-[#0f0f10]/50 cursor-not-allowed":"bg-[#FFD566] hover:bg-[#E7A93C] text-[#0f0f10]"),children:i?t.jsx(ln,{className:"w-5 h-5 animate-spin"}):o("credits.buyCreditsModal.buyCredits",{count:r})})]})]}),t.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 p-5 pb-8 bg-[#18181A] border-t border-[#FFFFFF1F] z-10",children:t.jsx("button",{type:"button",onClick:()=>n({mode:"selection"}),disabled:a||i,className:A("w-full h-12 rounded-xl font-semibold text-[16px] tracking-[-0.32px] transition-colors",a||i?"bg-[#FFD566]/50 text-[#111112]/50 cursor-not-allowed":"bg-[#FFD566] hover:bg-[#E7A93C] text-[#111112]"),children:i?t.jsx(ln,{className:"w-5 h-5 animate-spin mx-auto"}):o("credits.buyCreditsModal.buyCredits",{count:r})})})]})}const Qde=W.common.whiteCopperCoin;function eue({bundle:e,onPurchase:n,isLoading:s,isCheckingCard:r,isDisabled:i}){const{t:a}=Jt("billing"),o=e.discount>0,l=Math.floor(e.amount*5/6);return t.jsxs("div",{className:A("bg-[#212124] min-w-[190px] items-center group md:min-h-[208px] pt-4 md:pt-8 pb-4 px-4 transition-all ease-in-out duration-100 border rounded-xl relative",o?"border-none":"border-[#FFFFFF1F] hover:border-[#FFFFFF4D]"),children:[o&&t.jsx(gm,{duration:5,size:100,className:"opacity-50",colorFrom:"#F3CA5F",colorTo:"#F3CA5F"}),t.jsxs("div",{className:"flex items-center justify-between gap-3 md:gap-0 md:flex-col",children:[t.jsxs("div",{className:"flex items-center gap-2 md:mb-2 md:flex-col",children:[t.jsx("div",{children:t.jsx("img",{src:Qde,alt:"Credits",className:A("w-8 h-8",!o&&"grayscale group-hover:grayscale-0")})}),t.jsx("div",{className:"md:mb-1 text-sm md:text-[24px] font-semibold",children:o?t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"text-[#E6E6E6]/40 line-through text-xs md:text-sm",children:[l," ",a("credits.buyCreditsModal.creditsLabel")]}),t.jsxs("span",{className:"tracking-[-0.5px] text-[#F3CA5F] text-nowrap text-sm md:text-[24px]",children:[e.amount," ",a("credits.buyCreditsModal.creditsLabel")]})]}):t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"text-xs text-transparent max-md:hidden md:text-sm",children:""}),t.jsxs("span",{className:"text-[#E6E6E6] leading-[-0.5px] text-sm md:text-[24px]",children:[e.amount," ",a("credits.buyCreditsModal.creditsLabel")]})]})})]}),t.jsx("div",{className:"md:mb-6 text-sm md:text-[20px] text-[#E6E6E6]/80 group-hover:text-[#29CC83] transition-colors duration-200 ease-in-out",children:Tr(e.price,e.currency)}),t.jsx("button",{type:"button",onClick:n,disabled:i,className:A("min-w-[100px] w-auto px-4 h-[40px] md:w-full whitespace-nowrap duration-200 ease-in-out text-black font-semibold rounded-full tracking-[-0.2px] transition-colors text-center text-xs sm:text-sm",o?"bg-[#F3CA5F] hover:bg-[#E7A93C] shadow-md":"bg-[#cacacc] group-hover:bg-[#FFD566]"),children:s||r?t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"})}):a("credits.buyCreditsModal.buyNow")})]})]})}function tue({value:e,onChange:n,onPurchase:s,currency:r,error:i,isLoading:a,calculatedCredits:o,getCurrencyLimits:l}){const{t:c}=Jt("billing"),u=rP(r),p=l(r),f=parseInt(e,10),m=!isNaN(f)&&f>=p.minimum&&f<=p.maximum&&!i;return t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"bg-[#212124] border border-[#FFFFFF1F] rounded-xl p-[14px] py-[10px] pr-[10px] px-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative flex items-center flex-1 gap-1",children:[e&&parseInt(e)>=0&&t.jsx("span",{className:"text-[#E6E6E6] font-semibold text-lg",children:u}),t.jsx("input",{type:"text",value:e,onChange:n,placeholder:c("credits.buyCreditsModal.enterCustomAmount",{symbol:u}),className:"w-full text-lg pl-0 text-[#E6E6E6] font-['Inter'] text-[18px] font-semibold bg-transparent border-none outline-none placeholder:text-[#E6E6E6]/20 placeholder:p-0 placeholder:font-medium",inputMode:"numeric",pattern:"[0-9]*"})]}),t.jsx("button",{type:"button",onClick:s,disabled:!m||a,className:A("px-5 py-[6px] rounded-[8px] font-semibold transition-all duration-200 ease-out",m?"bg-[#F3CA5F] hover:bg-[#E7A93C] text-black":"bg-[#FFFFFF20] text-[#18181A] cursor-not-allowed"),children:a?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:c("credits.buyCreditsModal.processing")})]}):m?c("credits.buyCreditsModal.buyCredits",{count:o}):c("credits.buyCreditsModal.buy")})]})}),t.jsx(_P,{error:i})]})}const nue=W.common.joinedBuy;function sue({bundles:e,isLoading:n,isProcessing:s,location:r,closeModal:i,creditsBannerData:a,customAmount:o,customAmountError:l,selectedOption:c,customAmountCurrency:u,selectedBundle:p,handleCustomAmountChange:f,handleIncrement:m,handleDecrement:h,handleBundleSelect:x,handleCustomAmountSelect:y,handlePurchase:v,handleLearnMoreClick:g,calculateCredits:b}){const{t:w}=Jt("billing"),N=d.useMemo(()=>e.length<=6?3:4,[e.length]);return t.jsxs("div",{className:"w-full max-w-[870px] mx-auto",children:[t.jsx("button",{type:"button",onClick:i,disabled:n||s,className:A("absolute right-4 md:right-6 p-[6.4px] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors z-10",a?"top-[120px] md:top-6":"top-4 md:top-6",(n||s)&&"opacity-50 cursor-not-allowed"),"aria-label":w("credits.buyCreditsModal.closeModal"),children:t.jsx(Pt,{className:"w-[19.2px] h-[19.2px] text-[#737780]"})}),t.jsxs("div",{className:"flex flex-col gap-4 md:gap-5 p-6 pb-0 md:p-6 md:pb-0",children:[a&&t.jsx("div",{className:"hidden md:block",children:t.jsx(g8,{config:a.config,showPromoCode:a.showPromoCode})}),t.jsx("img",{src:nue,alt:"Credits",className:"w-fit h-8 md:h-8"}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h2",{className:"text-[24px] md:text-[22px] font-medium tracking-[-0.48px] md:tracking-[-0.44px] leading-8 md:leading-[30px] md:text-[#E6E6E6] bg-gradient-to-r from-[#F7E7D9] to-[#FFD566] bg-clip-text text-transparent md:bg-none md:[background:none] md:[color:#E6E6E6] md:[-webkit-text-fill-color:unset]",children:w(r==="low-credit"?"credits.buyCreditsModal.runningLowOnCredits":"credits.buyCreditsModal.purchaseCredits")}),t.jsx("p",{className:"font-inter text-[14px] text-white/50 font-medium leading-5",children:w("credits.buyCreditsModal.subtitle")})]})]}),t.jsxs("div",{className:"p-6 pt-5 md:pt-6 md:pb-6 pb-[200px]",children:[t.jsxs("div",{className:"hidden md:flex flex-col gap-3",children:[Array.from({length:Math.ceil(e.length/N)},(j,_)=>t.jsx("div",{className:A("grid gap-3",N===3?"grid-cols-3":"grid-cols-4"),children:e.slice(_*N,_*N+N).map((C,F)=>{const E=_*N+F;return t.jsx(Z3,{bundle:C,isSelected:c?.type==="bundle"&&c.bundleIndex===E,onSelect:()=>x(E)},C.amount)})},_)),t.jsx("div",{className:"mt-3",children:t.jsx(ON,{value:o,onChange:f,onSelect:y,isSelected:c?.type==="custom",currency:u,error:l,onIncrement:m,onDecrement:h,calculatedCredits:b(o)})})]}),t.jsxs("div",{className:"md:hidden space-y-3",children:[t.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.slice(0,4).map((j,_)=>t.jsx(Z3,{bundle:j,isSelected:c?.type==="bundle"&&c.bundleIndex===_,onSelect:()=>x(_)},j.amount))}),e.slice(4).map((j,_)=>t.jsx(Z3,{bundle:j,isSelected:c?.type==="bundle"&&c.bundleIndex===_+4,onSelect:()=>x(_+4)},j.amount)),t.jsx(ON,{value:o,onChange:f,onSelect:y,isSelected:c?.type==="custom",currency:u,error:l,onIncrement:m,onDecrement:h,isMobile:!0,calculatedCredits:b(o)}),t.jsxs("button",{type:"button",onClick:g,className:"w-full py-4 bg-[#1F1F1F] rounded-2xl flex items-center justify-center gap-[6px]",children:[t.jsx("span",{className:"text-white/60 font-semibold text-[16px] leading-5",children:w("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx(gc,{className:"w-5 h-5 text-white/60"})]})]}),t.jsx(Xde,{onCancel:i,onConfirm:v,onLearnMore:g,creditsAmount:p?.amount||0,isLoading:n||s,disabled:!p})]})]})}const rue=W.common.joinedBuy,iue=W.payments.externalFilled;function aue({bundles:e,isLoading:n,processingBundleAmount:s,location:r,creditsBannerData:i,customAmount:a,customAmountError:o,customAmountCurrency:l,isCheckingSavedCard:c,checkingSavedCardBundleAmount:u,isAnyLoading:p,handleModalClose:f,handleCustomAmountChange:m,handlePurchase:h,handleLearnMoreClick:x,calculateCredits:y,getCurrencyLimits:v,tier:g,getUpgradeTierName:b}){const{t:w}=Jt("billing"),{currentWorkspace:N}=ys(),j=()=>{const _=parseInt(a,10),C=v(l);if(isNaN(_)||_<C.minimum||_>C.maximum)return;z(Ia.BUY_CREDITS_MODAL_EVENTS.CUSTOM_AMOUNT_PURCHASE_CLICKED,{amount:_,currency:l,calculated_credits:y(a),workspace:N});const F={amount:y(a),price:_,selected:!1,discount:0,currency:l};h({mode:"inline",bundle:F,isCustom:!0})};return t.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-start justify-start w-full p-4 pb-2 md:p-8 md:pb-2",children:[t.jsxs("div",{className:"flex flex-col items-start justify-center gap-1",children:[t.jsx("img",{src:rue,alt:"Add Credits",className:"w-[60px] h-[60px] mb-2"}),t.jsx("h2",{className:"text-[20px] md:text-[26px] font-medium text-[#E6E6E6]",children:r==="low-credit"?w("credits.buyCreditsModal.runningLowOnCredits"):g==="free"?w("credits.buyCreditsModal.upgradeTo",{tier:b()}):w("credits.buyCreditsModal.buyMoreCredits")})]}),t.jsx("button",{type:"button",onClick:()=>f(!1),disabled:p,className:A("p-2 bg-[#FFFFFF05] absolute right-6 backdrop-blur-lg hover:bg-[#242424] rounded-full transition-colors",i?"top-[120px] md:top-6":"top-6",p&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-[#737780]"})})]}),t.jsx("div",{className:"flex items-center justify-center p-4 md:p-8 md:pt-0",children:t.jsxs("div",{className:"w-full space-y-4 md:max-h-[calc(90dvh-200px)] md:overflow-y-auto",children:[i&&t.jsx("div",{className:"hidden md:block",children:t.jsx(g8,{config:i.config,showPromoCode:i.showPromoCode})}),t.jsx("div",{className:"max-md:hidden",children:t.jsxs("p",{className:"text-sm text-white/50 md:text-[16px]",children:[t.jsx("span",{className:"font-medium",children:w("credits.buyCreditsModal.get")}),t.jsxs("span",{className:"text-[#F3CA5F] font-medium",children:[e[0]?.currency==="BRL"?"10 ":"5 ",w("credits.buyCreditsModal.credits")]}),t.jsx("span",{className:"font-medium",children:w("credits.buyCreditsModal.forJust")}),t.jsx("span",{className:"text-[#29CC83]",children:Tr(fce(e[0]?.currency==="BRL"?10:5,e[0]?.currency||"USD"),e[0]?.currency||"USD")}),t.jsx("span",{className:"font-medium",children:w("credits.buyCreditsModal.getBestValueBundle")}),t.jsx("span",{className:"text-[#F3CA5F] font-medium",children:w("credits.buyCreditsModal.percentOff")}),t.jsx("span",{className:"font-medium",children:w("credits.buyCreditsModal.orEnterCustomAmount")})]})}),t.jsx("div",{className:"grid gap-4 md:grid-cols-5",children:e.map(_=>t.jsx(eue,{bundle:_,onPurchase:()=>h({mode:"inline",bundle:_,isCustom:!1}),isLoading:n&&s===_.amount,isCheckingCard:c&&u===_.amount,isDisabled:p},_.amount))}),t.jsx(tue,{value:a,onChange:m,onPurchase:j,currency:l,error:o,isLoading:c,calculatedCredits:y(a),getCurrencyLimits:v}),t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"button",className:"flex items-center text-sm text-white opacity-50 hover:text-white",onClick:x,children:[t.jsx("span",{className:"font-['Inter'] text-[16px] font-medium",children:w("credits.buyCreditsModal.howDoCreditsWork")}),t.jsx("img",{src:iue,alt:"External",className:"w-5 h-5 ml-1"})]})})]})})]})}function _2({isOpen:e,onOpenChange:n,location:s="default"}){const{tier:r,getUpgradeTierName:i}=cs(),{currentWorkspace:a}=ys(),{user:o}=xs(),{isLoading:l,processingBundleAmount:c,bundles:u,handleBuyCredits:p,handleRazorpayPayment:f,savedCard:m,quickTopupConfirmation:h,showQuickTopupConfirmation:x,hideQuickTopupConfirmation:y,confirmQuickTopup:v,paymentModalState:g,hidePaymentModals:b,checkForSavedPaymentMethod:w}=Vp(),N=Nce(),j=u.length===5,{customAmount:_,setCustomAmount:C,customAmountError:F,setCustomAmountError:E,selectedOption:S,setSelectedOption:M,isProcessing:k,setIsProcessing:I,customAmountCurrency:D,isRazorpayFlowEnabled:P,selectedBundle:R,getDetectedCurrency:B,getCurrencyLimits:U,calculateCredits:H}=Hde({bundles:u}),$=$de({customAmount:_,customAmountCurrency:D,selectedOption:S,selectedBundle:R,isRazorpayFlowEnabled:P,setCustomAmount:C,setCustomAmountError:E,setSelectedOption:M,setIsProcessing:I,getCurrencyLimits:U,calculateCredits:H,getDetectedCurrency:B,tier:r,currentWorkspace:a,userId:o?.id,location:s,handleBuyCredits:p,handleRazorpayPayment:f,checkForSavedPaymentMethod:w,showQuickTopupConfirmation:x,hideQuickTopupConfirmation:y,quickTopupConfirmation:h,onOpenChange:n});return d.useEffect(()=>{!j&&u.length>0&&!S&&M({type:"bundle",bundleIndex:0})},[u,j]),d.useEffect(()=>{e&&(E(""),z(Ia.BUY_CREDITS_MODAL_EVENTS.MODAL_OPENED,{tier:r,workspace:a,bundle_count:u.length,currency:B(),is_razorpay_flow:P,design_type:j?"classic":"new"}),l9(r==="free"?"upgrade_prompt":"credits_topup",o?.id))},[e]),d.useEffect(()=>{g.isLoading&&z(Ia.BUY_CREDITS_MODAL_EVENTS.PAYMENT_LOADING_MODAL_OPENED,{payment_type:g.paymentType||"credits",amount:g.amount,currency:g.currency,workspace:a,tier:r})},[g.isLoading]),t.jsxs(t.Fragment,{children:[t.jsx(zn,{open:e,onOpenChange:$.handleOpenChange,children:t.jsx(Us,{children:t.jsx(ns,{children:e&&t.jsxs("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:$.closeModal}),t.jsxs(xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:A("relative flex flex-col max-h-dvh md:max-h-[90dvh] w-full md:w-auto h-full md:h-auto bg-[#18181A] rounded-none md:rounded-2xl shadow-2xl overflow-y-auto",j?"items-center md:pb-[40px] md:overflow-hidden":"border border-[#1f1f1f]"),onClick:q=>q.stopPropagation(),children:[N&&t.jsx("div",{className:"w-full md:hidden",children:t.jsx(g8,{config:N.config,showPromoCode:N.showPromoCode})}),j?t.jsx(aue,{bundles:u,isLoading:l,processingBundleAmount:c,location:s,creditsBannerData:N,customAmount:_,customAmountError:F,customAmountCurrency:D,isCheckingSavedCard:$.isCheckingSavedCard,checkingSavedCardBundleAmount:$.checkingSavedCardBundleAmount,isAnyLoading:l||$.isCheckingSavedCard,handleModalClose:$.handleOpenChange,handleCustomAmountChange:$.handleCustomAmountChange,handlePurchase:$.handlePurchase,handleLearnMoreClick:$.handleLearnMoreClick,calculateCredits:H,getCurrencyLimits:U,tier:r,getUpgradeTierName:i}):t.jsx(sue,{bundles:u,isLoading:l,isProcessing:k,location:s,closeModal:$.closeModal,creditsBannerData:N,customAmount:_,customAmountError:F,selectedOption:S,customAmountCurrency:D,selectedBundle:R,handleCustomAmountChange:$.handleCustomAmountChange,handleIncrement:$.handleIncrement,handleDecrement:$.handleDecrement,handleBundleSelect:$.handleBundleSelect,handleCustomAmountSelect:$.handleCustomAmountSelect,handlePurchase:$.handlePurchase,handleLearnMoreClick:$.handleLearnMoreClick,calculateCredits:H})]})]})})})}),t.jsx(Zd,{isOpen:g.isLoading,onOpenChange:b,paymentType:g.paymentType||"credits",amount:g.amount,currency:g.currency,isQuickTopup:g.isQuickTopup}),t.jsx(CP,{showModal:h.showModal,bundle:h.bundle||null,savedCard:m,isLoading:l,onClose:y,onConfirm:v,onChangePaymentMethod:$.handleChangePaymentMethod})]})}const oue=Object.freeze(Object.defineProperty({__proto__:null,BuyCreditsModal:_2},Symbol.toStringTag,{value:"Module"})),yc=()=>{const[e,n]=d.useState(!1),{user:s}=xs(),r=Xo(),{getCurrentOrganizationId:i}=ys(),a=i(),{data:o,isLoading:l,error:c,refetch:u}=uQ(a?{organization_id:a}:void 0,{pollingInterval:300*1e3}),p=()=>{o&&n(lue(o,s||void 0,r))};return d.useEffect(()=>{p()},[o,s,r]),{config:o,loading:l,error:c?new Error("Failed to fetch config"):null,refetch:u,universalKeyEnabled:e}},lue=(e,n,s)=>{if(s||e?.feature_flags?.universal_key===!0)return!0;if(Array.isArray(e?.feature_flags?.universal_key)&&n?.id){const r=n.id.slice(-1).toLowerCase();return e.feature_flags.universal_key.includes(r)}return!1},X3=({width:e=20,height:n=20,fill:s="white",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:r,children:t.jsx("path",{d:"M8.13671 7.82399V6.30398C8.13671 6.17596 8.18431 6.07991 8.29527 6.01598L11.3241 4.256C11.7364 4.01602 12.228 3.90406 12.7353 3.90406C14.6382 3.90406 15.8434 5.3921 15.8434 6.97604C15.8434 7.088 15.8434 7.21602 15.8274 7.34404L12.6877 5.488C12.4975 5.37605 12.3071 5.37605 12.1169 5.488L8.13671 7.82399ZM15.209 13.7441V10.112C15.209 9.88789 15.1138 9.7279 14.9236 9.61594L10.9434 7.27995L12.2437 6.5279C12.3547 6.46397 12.4499 6.46397 12.5609 6.5279L15.5896 8.28789C16.4619 8.79996 17.0484 9.88789 17.0484 10.9438C17.0484 12.1598 16.335 13.2798 15.209 13.7439V13.7441ZM7.20114 10.544L5.90086 9.77608C5.78989 9.71215 5.7423 9.6161 5.7423 9.48808V5.96811C5.7423 4.25615 7.04259 2.96006 8.80278 2.96006C9.46883 2.96006 10.0871 3.18413 10.6106 3.58409L7.48672 5.40816C7.29649 5.52012 7.20129 5.68011 7.20129 5.90418V10.5442L7.20114 10.544ZM9.99999 12.176L8.13671 11.12V8.8801L9.99999 7.82414L11.8631 8.8801V11.12L9.99999 12.176ZM11.1972 17.0401C10.5311 17.0401 9.91282 16.816 9.3894 16.4161L12.5132 14.5919C12.7034 14.48 12.7987 14.3201 12.7987 14.096V9.45596L14.1149 10.2239C14.2258 10.2878 14.2734 10.3839 14.2734 10.5119V14.0319C14.2734 15.7438 12.9572 17.0401 11.1972 17.0401ZM7.43898 13.4721L4.41018 11.7121C3.53797 11.2 2.95134 10.1121 2.95134 9.05615C2.95134 7.82414 3.68077 6.72015 4.80657 6.25611V9.9041C4.80657 10.1282 4.90177 10.2882 5.092 10.4001L9.05638 12.72L7.75609 13.4721C7.64513 13.5361 7.54993 13.5361 7.43898 13.4721ZM7.26465 16.0961C5.47278 16.0961 4.15658 14.736 4.15658 13.056C4.15658 12.928 4.17249 12.8 4.18826 12.672L7.3121 14.4961C7.50234 14.608 7.69273 14.608 7.88297 14.4961L11.8631 12.1762V13.6962C11.8631 13.8242 11.8155 13.9202 11.7045 13.9841L8.67574 15.7441C8.26344 15.9841 7.77185 16.0961 7.26451 16.0961H7.26465ZM11.1972 18C13.1159 18 14.7174 16.624 15.0823 14.8C16.8582 14.3359 18 12.6559 18 10.944C18 9.82396 17.5243 8.73603 16.668 7.95201C16.7473 7.61598 16.7949 7.27995 16.7949 6.94407C16.7949 4.65612 14.9554 2.944 12.8305 2.944C12.4025 2.944 11.9901 3.00794 11.5778 3.15201C10.8642 2.44799 9.88099 2 8.80278 2C6.88403 2 5.28254 3.37593 4.91768 5.19999C3.14173 5.66404 2 7.34404 2 9.056C2 10.176 2.47567 11.264 3.33197 12.048C3.25269 12.384 3.20509 12.72 3.20509 13.0559C3.20509 15.3438 5.04456 17.0559 7.16946 17.0559C7.59753 17.0559 8.00984 16.9921 8.42215 16.848C9.13565 17.552 10.1188 18 11.1972 18Z",fill:s})}),cue=W.chips.surprise;function due({config:e,showChips:n,onChipClick:s}){const{t:r}=Jt("home"),[i,a]=d.useState({}),[o,l]=d.useState([]),[c,u]=d.useState(new Set),[p,f]=d.useState(0),{isTrulyFreeUser:m}=ni();d.useEffect(()=>{if(e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)){const w=e.prompt_suggestions.reduce((N,j)=>(N[j.category]||(N[j.category]=[]),N[j.category].push(j),N),{});a(w)}},[e]);const h=(w=!1)=>Object.keys(i).map(_=>{const C=i[_];if(w&&c.size>0){const F=C.filter(M=>!c.has(`${M.category}-${M.label}`)),E=F.length>0?F:C,S=Math.floor(Math.random()*E.length);return E[S]}else{const F=Math.floor(Math.random()*C.length);return C[F]}}),x=w=>{const N=new Set(c);w.forEach(_=>{N.add(`${_.category}-${_.label}`)});const j=Object.values(i).flat().length;if(N.size>j*.8){const _=new Set(w.map(C=>`${C.category}-${C.label}`));u(_)}else u(N)};d.useEffect(()=>{if(o.length===0&&Object.keys(i).length>0){const w=h(!1);l(w),x(w)}},[i]);const y=async()=>{z(ac.REFRESH_CLICKED,{platform:"mobile"}),f(N=>N+180);const w=h(!0);l(w),x(w)},v=w=>{z(ac.CHIP_CLICKED,{chip_label:w.label,chip_category:w.category,platform:"mobile"}),s(w.prompt)},g=()=>{const w=Object.values(i).flat(),N=w[Math.floor(Math.random()*w.length)];z(ac.CHIP_CLICKED,{chip_label:"Surprise Me",chip_category:"Surprise Me",platform:"mobile"}),s(N.prompt)},b=e?.prompt_suggestions&&Array.isArray(e.prompt_suggestions)&&e.prompt_suggestions.length>0;return t.jsx(Xa,{mode:"wait",children:n&&b&&o.length>0&&t.jsxs("div",{className:"flex gap-3 p-2 px-3 pb-3 overflow-x-auto overflow-clip hide-scrollbars",children:[o.map((w,N)=>t.jsxs(qn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:N*.05},onClick:()=>v(w),whileTap:{scale:.95,transition:{duration:.1}},className:`group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#202021] rounded-[12px] transition-colors duration-200 cursor-pointer ${m()?"border-opacity-0":""}`,children:[t.jsx("img",{src:w.icon_url,alt:"Chip icon",className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:w.label}),w.isNew&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-white bg-[#E03E3E] rounded-full",children:"New"})]},`${w.category}-${w.label}-${N}`)),t.jsxs(qn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:o.length*.05},onClick:g,whileTap:{scale:.95,transition:{duration:.1}},className:`group relative min-w-fit pl-3 py-4 pr-4 flex text-[#FFFFFF] hover:text-[#FFFFFF] items-center gap-[6px] bg-[#202021] rounded-[12px] transition-colors duration-200 cursor-pointer ${m()?"border-opacity-0":""}`,children:[t.jsx("img",{src:cue,alt:r("suggestionChips.surprise"),className:"w-4 h-4"}),t.jsx("span",{className:"text-sm leading-4 font-medium font-brockmann drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-200",children:r("suggestionChips.surpriseMe")})]}),t.jsx(qn.button,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.3,ease:"easeInOut",delay:(o.length+1)*.05},onClick:y,whileTap:{scale:.95,transition:{duration:.1}},className:"group relative min-w-fit p-4 flex text-[#7B7B80] hover:text-white items-center gap-[6px] bg-[#202021] hover:bg-[#202022] rounded-[12px] transition-colors duration-200 cursor-pointer",title:"Refresh suggestions",children:t.jsx(qn.div,{animate:{rotate:p},transition:{duration:.5,ease:"easeInOut"},children:t.jsx(xm,{className:"w-4 h-4"})})})]})})}const BN=W.common.attachmentCross,UN=W.common.attach,uue=W.common.close,pue=W.common.copperCoin;function fue({tabId:e,onClearTabId:n,isCustomAgentsModalOpen:s,setIsCustomAgentsModalOpen:r,showMobileAgentIntro:i,onMobileAgentIntroShown:a,jobsLength:o}){const{toast:l}=ds(),{t:c}=Jt("home"),{config:u,loading:p}=yc(),[f,{isLoading:m}]=WD(),{getTabState:h,updateTabState:x,setTabs:y,setActiveTab:v}=qr(),{session:g,user:b}=xs(),{credits:w}=cs(),{isOrganizationWorkspace:N,isTrulyFreeUser:j,tier:_,pro:C,restrictedFree:F,defaultPrivacy:E,isEmergentUser:S,canAccessModel:M,ownerHasProAccess:k,isCurrentWorkspaceOwner:I}=ni(),{isEligible:D}=ih(),{getCurrentOrganizationId:P}=ys(),R=d.useMemo(()=>N()?k:!1,[N,k]),{isConnected:B}=Jd(),U=$x(),H=Km()&&C,$=tee(),[q,Q]=d.useState([]),[V,ee]=d.useState(!1),{compressImage:X}=p2(hoe),ae=P(),me=ae?{organization_id:ae}:{},{data:oe,isLoading:pe}=AQ(me,{skip:F}),{data:se}=Xg(ae?{organization_id:ae}:void 0,{skip:!1}),[re,ve]=d.useState({taskInput:"",selectedImage:"",selectedAgent:"",selectedModel:"",perInstanceCostLimit:"25",selectedSkills:[],selectedImages:[],loadingImages:!1,githubUrl:"",branchName:"",projectType:"new_app",selectedCustomAgent:null,privacy:E,ultraMode:!1,testMode:C,selectedMcpTools:[]}),[we,be]=d.useState(!1),[Ue,fe]=d.useState(!0),[Me,J]=d.useState("fullstack"),[Ne,ge]=d.useState(!1),[Ee,Ce]=d.useState(!1),[Ie,Ae]=d.useState(!1),[Se,ht]=d.useState(!1),[Qe,De]=d.useState("default"),[de,ue]=d.useState(!1),[lt,st]=d.useState(!1),[mt,ut]=d.useState(!1),[wn,Oe]=d.useState(null),_e=m,Et=d.useRef(null),dt=d.useRef(null),vt=()=>"none",Ct=jR(),St=Er(),ct=Poe(),[Ft,Fe]=d.useState(!1),[He,Ve]=d.useState(!1),Ke=(he,et,jt=!1)=>jt?!0:he.user_tier?et===he.user_tier:he.unavailable_tier?et!==he.unavailable_tier:!0,Ye=()=>u?.model_list&&u.model_list.find(et=>Ke(et,_,N()))?.name||"",[At,mn]=d.useState(!1),[Dt,Yt]=d.useState(!1),[fn,qt]=d.useState(!1),[_n,In]=d.useState([]),{isMobile:je}=ps(),Le=d.useRef(!1),xt=d.useRef(new Set),Rt=d.useRef(null);d.useEffect(()=>()=>{Et.current&&(window.removeEventListener("message",Et.current),Et.current=null),dt.current&&(clearTimeout(dt.current),dt.current=null)},[]);const qe=he=>{ve(et=>({...et,...he}))},it=()=>{Fe(!1),mn(!1),Yt(!1),qt(!1),qe({selectedCustomAgent:null})};d.useEffect(()=>{if(!e||!u||xt.current.has(e))return;const he=h(e),jt=u.form_layouts?.new_app?.cloud?.defaults||{},tn=Ye(),ls=qa("userInput"),us=localStorage.getItem("landingPageTask");let Xn="";ls?(Xn=ls,$0("userInput","/",".emergent.sh")):us?(Xn=us,localStorage.removeItem("landingPageTask")):Xn=he.task||jt.taskDescription||"",qe({taskInput:Xn,selectedImage:he.selectedImage||jt.dockerImage||"",selectedAgent:he.selectedAgent||jt.agent||"",selectedModel:he.model_name||tn||jt.baseModel||"",perInstanceCostLimit:he.per_instance_cost_limit||jt.budget?.toString()||"25",selectedSkills:he.agentic_skills||jt.skills||[],selectedImages:he.selectedImages||[],githubUrl:he.repository||"",branchName:he.branch||"",projectType:he.projectType||"new_app",selectedCustomAgent:he.selectedCustomAgent||null,selectedMcpTools:he.selectedMcpServerIds||[]}),xt.current.add(e)},[u,h,e,_]),d.useEffect(()=>{if(!u?.model_list||!re.selectedModel)return;const he=u.model_list.find(et=>et.name===re.selectedModel);if(he&&!M(he?.user_tier)){const et=Ye();et&&qe({selectedModel:et})}},[_,re.selectedModel,u,M]),d.useEffect(()=>{qe({testMode:C})},[C]),d.useEffect(()=>{if(!e||xt.current.size===0)return;const et=h(e).selectedMcpServerIds||[];JSON.stringify(et)!==JSON.stringify(Rt.current)&&(Rt.current=et,qe({selectedMcpTools:et}))},[e,h]),d.useEffect(()=>{if(!e||xt.current.size===0)return;const he={task:re.taskInput,selectedImage:re.selectedImage,image:re.selectedImage,selectedAgent:re.selectedAgent,model_name:re.selectedModel,per_instance_cost_limit:re.perInstanceCostLimit,agentic_skills:re.selectedSkills,selectedImages:re.selectedImages,repository:re.githubUrl,branch:re.branchName,projectType:re.projectType,selectedCustomAgent:re.selectedCustomAgent,privacy:re.privacy,ultraMode:re.ultraMode,testMode:re.testMode,selectedMcpServerIds:re.selectedMcpTools,isCloudFlow:!0};x(e,he)},[re,e,x]),d.useEffect(()=>{u?.skills&&In(u.skills)},[u]),d.useEffect(()=>{if(re.selectedAgent&&u){const he=u.agent_names?.find(et=>et.name===re.selectedAgent);if(he?.sub_agents){const et=he.sub_agents.filter(jt=>_n.some(tn=>tn.name===jt));qe({selectedSkills:et})}else qe({selectedSkills:[]})}},[re.selectedAgent,_n,u]),d.useEffect(()=>{if(!u)return;const et=u.form_layouts?.new_app?.cloud?.defaults||{};fn&&u.prototype_agent_experimental?qe({selectedAgent:u.prototype_agent_experimental.agent||et.agent||"",selectedImage:u.prototype_agent_experimental.dockerImage||et.dockerImage||"",perInstanceCostLimit:u.prototype_agent_experimental.budget?.toString()||et.budget?.toString()||"25",selectedModel:u.prototype_agent_experimental.baseModel||et.baseModel||""}):At&&u.e15_experimental?qe({selectedAgent:u.e15_experimental.agent||et.agent||"",selectedImage:u.e15_experimental.dockerImage||et.dockerImage||"",perInstanceCostLimit:u.e15_experimental.budget?.toString()||et.budget?.toString()||"25",selectedModel:u.e15_experimental.baseModel||et.baseModel||""}):Dt&&u.e2_experimental?qe({selectedAgent:u.e2_experimental.agent||et.agent||"",selectedImage:u.e2_experimental.dockerImage||et.dockerImage||"",perInstanceCostLimit:u.e2_experimental.budget?.toString()||et.budget?.toString()||"25",selectedModel:u.e2_experimental.baseModel||et.baseModel||""}):qe(Ft?{selectedAgent:u.agent_names?.find(jt=>jt.name==="expo_fullstack_v0")?.name||"",selectedImage:u.templates?.find(jt=>jt.id==="expo")?.env_image||""}:He?{selectedAgent:u.agent_names?.find(jt=>jt.name==="full_stack_app_builder_nextjs")?.name||"full_stack_app_builder_nextjs",selectedImage:u.templates?.find(jt=>jt.id==="nextjs")?.env_image||""}:{selectedAgent:et.agent||"",selectedImage:et.dockerImage||"",perInstanceCostLimit:et.budget?.toString()||"25"})},[At,Dt,fn,u,Ft,He]),d.useEffect(()=>{re.taskInput===""&&!Ue&&fe(!0)},[re.taskInput,Ue]),d.useEffect(()=>{Me==="mobile"?(it(),Fe(!0)):Ft&&Fe(!1)},[Me]),d.useEffect(()=>{const he=P();y(et=>et.some(tn=>tn.id===e)?et:[...et,{id:e,title:"Setting up Task",path:"/not-defined",state:{tabId:e,sourceTabId:e,isCloudFlow:!0},status:!1,isCloudFlow:!0,...he&&{organization_id:he,level:"organization"}}]),x(e,{isCloudFlow:!0,...he&&{organization_id:he,level:"organization"}})},[e,P]);const _t=xR({maxImages:5,maxSizeInMB:5,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:he=>qe({selectedImages:he})});d.useEffect(()=>{qe({loadingImages:_t.isProcessing})},[_t.isProcessing]);const Kt=he=>{},Cn=he=>{qe({taskInput:he}),Me!=="mobile"&&Fe(!1)},On=he=>{mn(he)},rs=he=>{Yt(he)},Vn=he=>{qt(he)},Bn=he=>{Fe(he),he&&J("mobile")},En=he=>{Ve(he)},jn=()=>{qe({githubUrl:"",branchName:""})},Un=he=>{if(!he||he.length===0)return;const et=Array.from(he);if(q.length+et.length>5){l({title:"Too many attachments",description:"Maximum 5 attachments allowed",variant:"destructive"});return}const jt=200*1024*1024,tn=et.filter(Xn=>Xn.size>jt);if(tn.length>0){l({title:"File too large",description:`Files must be smaller than 200MB. ${tn.length} file(s) exceed this limit.`,variant:"destructive"});return}const ls=[...q,...et];Q(ls);const us=h(e);x(e,{...us,selectedFiles:ls}),l({title:"Files selected",description:`${et.length} file(s) selected for upload`}),z(Tn.HOME_PAGE_EVENTS.FILE_UPLOAD_SUCCESS,{file_count:et.length,file_types:et.map(Xn=>Xn.type),total_size_bytes:et.reduce((Xn,Yn)=>Xn+Yn.size,0)})},fs=()=>{{const he=document.createElement("input");he.type="file",he.multiple=!0,he.style.display="none",he.onchange=et=>{const jt=et.target;jt.files&&jt.files.length>0&&Un(jt.files),document.body.removeChild(he)},he.oncancel=()=>{z(Tn.HOME_PAGE_EVENTS.FILE_UPLOAD_CANCELLED),document.body.removeChild(he)},document.body.appendChild(he),he.click()}},cn=()=>{if(z(Tn.HOME_PAGE_EVENTS.ATTACH_FILE_CLICKED),window?.ReactNativeWebView){Et.current&&(window.removeEventListener("message",Et.current),Et.current=null),dt.current&&(clearTimeout(dt.current),dt.current=null);const he=et=>{try{const jt=typeof et.data=="string"?JSON.parse(et.data):et.data;jt?.type==="CAMERA_PERMISSION_RESPONSE"&&(window.removeEventListener("message",he),Et.current=null,dt.current&&(clearTimeout(dt.current),dt.current=null),jt.status==="granted"||jt.granted?fs():l({title:"Permission Required",description:"Please enable photo library access to attach files",variant:"destructive"}))}catch{}};Et.current=he,window.addEventListener("message",he),dt.current=setTimeout(()=>{Et.current&&(window.removeEventListener("message",Et.current),Et.current=null),dt.current=null},3e4),ei("CAMERA_PERMISSION_REQUEST",{});return}fs()},hn=he=>{const et=q.filter((tn,ls)=>ls!==he);Q(et);const jt=h(e);x(e,{...jt,selectedFiles:et}),z(Tn.HOME_PAGE_EVENTS.ATTACHMENT_REMOVED)},dn=async()=>{try{const he=await navigator.mediaDevices.getUserMedia({audio:!0}),et=new MediaRecorder(he),jt=[];et.ondataavailable=tn=>{jt.push(tn.data)},et.onstop=async()=>{const tn=new Blob(jt,{type:"audio/mp3"});await Ln(tn),he.getTracks().forEach(ls=>ls.stop())},et.start(),Oe(et),ut(!0)}catch{l({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},Wn=()=>{wn&&mt&&(wn.stop(),ut(!1),Oe(null))},Ln=async he=>{try{Lo("transcription_started",{component:"ChatInput",audioSize:he.size});const et=new File([he],"recording.mp3",{type:"audio/mp3"}),jt=await f({audio_file:et,language_code:"en"}).unwrap();if(jt.text){const tn=re.taskInput,ls=tn?`${tn} ${jt.text}`:jt.text;qe({taskInput:ls}),Lo("transcription_completed",{component:"ChatInput",textLength:jt.text.length})}else throw new Error("No transcription data received")}catch(et){Lo("transcription_failed",{component:"ChatInput",error:et instanceof Error?et.message:"Unknown error"}),l({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},Cs=()=>{if(mt){Wn();return}try{if(window?.ReactNativeWebView){const he=et=>{try{const jt=typeof et.data=="string"?JSON.parse(et.data):et.data;jt?.type==="MICROPHONE_PERMISSION_RESPONSE"&&(window.removeEventListener("message",he),jt.status==="granted"||jt.granted?dn():l({title:"Permission Required",description:"Please enable microphone access to record audio",variant:"destructive"}))}catch{}};window.addEventListener("message",he),ei("MICROPHONE_PERMISSION_REQUEST",{});return}dn()}catch{l({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},Vs=he=>u?.form_layouts?.[re.projectType]?.cloud?.fields?.find(tn=>tn.id===he)?.show!==!1,zt=he=>{qe({taskInput:he.target.value}),he.target.value.length%50===0&&t0("started",{userId:b?.id,taskInputLength:he.target.value.length,isTyping:!0,tabId:e})},is=he=>qe({ultraMode:he}),$e=he=>qe({testMode:he}),Be=he=>{const et=he.clipboardData?.items;if(et){const jt=Array.from(et).filter(ls=>ls.kind==="file");if(jt.length===0)return;he.preventDefault();const tn=jt.map(ls=>ls.getAsFile()).filter(Boolean);tn.length>0&&Un(tn)}},Te=()=>{ct.isOpen&&ct.close(),be(!we)},pt=he=>ge(he),Xt=()=>{if(z(Tn.HOME_PAGE_EVENTS.GITHUB_EVENTS.CONNECT_TO_GITHUB_ICON_CLICKED),!g){Ae(!0);return}we&&be(!1),ct.open({githubUrl:re.githubUrl,branchName:re.branchName,onGithubUrlChange:he=>qe({githubUrl:he}),onBranchNameChange:he=>qe({branchName:he})})},Hn=he=>{z(Tn.HOME_PAGE_EVENTS.CUSTOM_AGENT_SELECTED,{agentId:he,userId:b?.id,projectType:re.projectType,isCloudFlow:!0,tabId:e}),qe({selectedCustomAgent:he})},An=u?.model_list?.map(he=>({id:he.name,name:he.display_name,description:he.description,icon:he.provider==="openai"?X3:Tf,showNew:he.provider==="openai",user_tier:he.user_tier,unavailable_tier:he.unavailable_tier}))||[],en=he=>{qe({selectedModel:he}),z(Tn.HOME_PAGE_EVENTS.MODEL_VALUE_UPDATED,{selectedModel:he})},Zn=he=>qe({selectedImage:he}),Ot=he=>qe({perInstanceCostLimit:he}),Jn=he=>{he!==re.privacy&&qe({privacy:he})},Pn=he=>qe({selectedMcpTools:he}),Gs=ng(async()=>{try{if(Le.current)return;if(Le.current=!0,Ce(!0),t0("submitted",{userId:b?.id,projectType:re.projectType,isCloudFlow:!0,taskInputLength:re.taskInput.length,taskInput:re.taskInput.substring(0,100),hasImages:re.selectedImages.length>0,imageCount:re.selectedImages.length,selectedModel:re.selectedModel,selectedAgent:re.selectedAgent,budget:re.perInstanceCostLimit,tabId:e}),!re.selectedImage||!re.taskInput){l({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(re.githubUrl&&!re.branchName){l({title:"Branch Required",description:"Please select a branch for the GitHub repository",variant:"destructive"});return}let he=[],et=[];if(q&&q.length>0){ee(!0);try{const ms=await yoe(q,X);he=ms.base64Images,et=ms.filesToUploadAsArtifacts}finally{ee(!1)}}const jt=[...re.selectedImages||[],...he],tn=P(),us={...{task:re.taskInput,selectedImage:re.selectedImage,image:re.selectedImage,selectedAgent:re.selectedAgent,model_name:re.selectedModel,per_instance_cost_limit:re.perInstanceCostLimit,agentic_skills:re.selectedSkills,selectedImages:jt,repository:re.githubUrl,branch:re.branchName||"",projectType:re.projectType,selectedCustomAgent:re.selectedCustomAgent,privacy:re.privacy,ultraMode:re.ultraMode,testMode:re.testMode,test_mode_on:re.testMode,selectedMcpTools:re?.selectedMcpTools?.flatMap(ms=>ms?.mcpServers?Object.keys(ms.mcpServers):[])||[],selectedMcpServers:re.selectedMcpTools,...tn&&{organization_id:tn,level:"organization"},fromCreateTask:!0,tabId:e,parentTabId:e,isCloudFlow:!0,client_ref_id:null,needsApiCall:!0,pending_client_ref_id:crypto.randomUUID(),id:e,title:"Setting up Task",path:"/chat",e15Enabled:At,e2Enabled:Dt,selectedFiles:et,base64_image_list:jt.length>0?jt:void 0,newJob:!0,state:{tabId:e,sourceTabId:e}},...re.selectedCustomAgent?{user_prompt_id:re.selectedCustomAgent}:{prompt_name:fn&&u?.prototype_agent_experimental?.agent?u.prototype_agent_experimental.agent:At&&u?.e15_experimental?.agent?u.e15_experimental.agent:Dt&&u?.e2_experimental?.agent?u.e2_experimental.agent:"auto_prompt_selector_dev"}};_t.clearImages(),Fe(!1),Ve(!1),U&&Q([]);const Yn=u?.form_layouts?.new_app?.cloud?.defaults||{},ss=Ye();qe({taskInput:"",selectedImage:Yn.dockerImage||"",selectedAgent:Yn.agent||"",selectedModel:ss||Yn.baseModel||"",perInstanceCostLimit:Yn.budget?.toString()||"25",selectedSkills:[],selectedImages:[],loadingImages:!1,githubUrl:"",branchName:"",projectType:"new_app",selectedCustomAgent:null,privacy:E,ultraMode:!1,testMode:C,selectedMcpTools:[]}),mn(!1),Yt(!1),qt(!1),J("fullstack"),x(e,us),y(ms=>ms.some(Fs=>Fs.id===e)?ms.map(Fs=>Fs.id===e?{...Fs,path:"/chat",title:"Setting up Task",state:us,...tn&&{organization_id:tn,level:"organization"}}:Fs):[...ms,{id:e,title:"Setting up Task",path:"/chat",state:us,...tn&&{organization_id:tn,level:"organization"}}]),v(e),jn(),n()}catch(he){l({title:"Error",description:"Failed to create task. Please try again.",variant:"destructive"}),t0("abandoned",{userId:b?.id,reason:"submission_error",error:String(he),tabId:e})}finally{Le.current=!1,Ce(!1)}},700),Gn=async()=>{if(!R&&D&&!N()){St.open({planType:"personal",triggerLocation:"freeStandardPlanModal"});return}if(w<=0){if(N()&&!I){l({title:"Insufficient Credits",description:"Please ask the owner of this project to add more credits to continue.",variant:"destructive"});return}F?St.open({planType:"personal",triggerLocation:"default"}):ue(!0);return}if(g&&b){const he=h(e),et=[];if(q&&q.length>0){for(const us of q)if(us.type.startsWith("image/"))try{const Xn=await new Promise((Yn,ss)=>{const ms=new FileReader;ms.onload=()=>{const Fs=ms.result.split(",")[1];Yn(Fs)},ms.onerror=ss,ms.readAsDataURL(us)});et.push({mime_type:us.type,img_base64:Xn})}catch{}}const jt=[...re.selectedImages||[],...et],tn=P(),ls={...he,selectedImages:jt,base64_image_list:jt.length>0?jt:void 0,selectedMcpTools:re?.selectedMcpTools?.flatMap(us=>us?.mcpServers?Object.keys(us.mcpServers):[])||[],selectedMcpServers:re.selectedMcpTools,jobsLength:o,needsApiCall:!0,...tn&&{organization_id:tn,level:"organization"}};x(e,ls),setTimeout(()=>{Gs()},100)}else Ae(!0)},Bs=()=>t.jsxs("div",{children:[q.length>0&&je&&t.jsx("div",{className:"max-w-[94%] mx-auto bg-[#18181A] border border-[#222] border-b-0 rounded-[18px] p-3",children:t.jsxs("div",{className:"flex flex-wrap gap-3",children:[(re.loadingImages||V)&&t.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[t.jsx(ln,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999]",children:V?"Processing and compressing files...":"Processing files..."})]}),!re.loadingImages&&!V&&q.map((he,et)=>{const jt=he.type.startsWith("image/"),tn=jt?URL.createObjectURL(he):null;return t.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group","data-testid":zs.mainTask.attachmentChip,children:[jt&&tn?t.jsx("img",{src:tn,alt:he.name,className:"w-full h-full object-cover z-[1] rounded-md"}):t.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:t.jsx("span",{className:"text-[#999] text-xs font-mono",children:he.name.split(".").pop()?.toUpperCase()||"FILE"})}),t.jsx("button",{type:"button",onClick:()=>hn(et),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file","data-testid":zs.mainTask.removeAttachmentButton,children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:BN,alt:"Remove file",className:"w-3 h-3"})})})]},`${he.name}-${et}`)})]})}),t.jsx("div",{className:"relative w-full ",children:_!=="free"||!$&&je?t.jsx(Ile,{value:re.taskInput,onChange:he=>{qe({taskInput:he.target.value}),he.target.value.length%50===0&&t0("started",{userId:b?.id,taskInputLength:he.target.value.length,isTyping:!0,tabId:e})},e15Enabled:At,onE15Enabled:On,e2Enabled:Dt,onE2Enabled:rs,prototypeEnabled:fn,onPrototypeEnabled:Vn,ultraMode:re.ultraMode,onUltraModeChange:he=>qe({ultraMode:he}),testMode:re.testMode,onTestModeChange:he=>qe({testMode:he}),className:`relative bg-[#202021] w-full rounded-[24px] md:rounded-b-[12px] text-[#DDDDE6]
                    placeholder:text-[#666] md:text-base focus-visible:ring-1 focus:ring-1 z-10`,onAttachClick:cn,attachIcon:UN,attachTooltip:c("textarea.assets.attachTooltip.filesAndImages"),isUploadAssetEnabled:U,onPaste:he=>{const et=he.clipboardData?.items;if(et){const jt=Array.from(et).filter(ls=>ls.kind==="file");if(jt.length===0)return;he.preventDefault();const tn=jt.map(ls=>ls.getAsFile()).filter(Boolean);tn.length>0&&Un(tn)}},handleSettingsClick:()=>{ct.isOpen&&ct.close(),be(!we)},showControls:we,onFocusChange:he=>ge(he),onSubmit:Gn,disabled:Ee||!re.taskInput?.trim()||V6(),isSubmitting:Ee,showGithubSettings:ct.isOpen,handleGithubSettings:Xt,hasUserConnectedGithub:B,githubUrl:re.githubUrl,onClearGithubUrl:jn,userPrompts:oe?.user_prompts||[],isLoadingUserPrompts:pe,selectedCustomAgent:re.selectedCustomAgent,onCustomAgentChange:he=>{z(Tn.HOME_PAGE_EVENTS.CUSTOM_AGENT_SELECTED,{agentId:he,userId:b?.id,projectType:re.projectType,isCloudFlow:!0,tabId:e}),qe({selectedCustomAgent:he})},shouldShowUserPrompts:C,mobileEnabled:Ft,onMobileEnabled:Fe,nextJSEnabled:He,onNextJSEnabled:En,showMobileAgentIntro:i,onMobileAgentIntroShown:a,showModelSelector:!0,availableModels:u?.model_list?.map(he=>({id:he.name,name:he.display_name,description:he.description,icon:he.provider==="openai"?X3:Tf,showNew:he.provider==="openai",user_tier:he.user_tier,unavailable_tier:he.unavailable_tier}))||[],selectedModelId:re.selectedModel,onModelChange:he=>{qe({selectedModel:he}),z(Tn.HOME_PAGE_EVENTS.MODEL_VALUE_UPDATED,{selectedModel:he})},selectedImage:re.selectedImage,setSelectedImage:he=>qe({selectedImage:he}),globalConfig:u,perInstanceCostLimit:re.perInstanceCostLimit,setPerInstanceCostLimit:he=>qe({perInstanceCostLimit:he}),onPrivacyChange:he=>{he!==re.privacy&&qe({privacy:he})},selectedMcpTools:re.selectedMcpTools,onMcpToolsChange:he=>qe({selectedMcpTools:he}),isRecording:mt,isTranscribing:_e,onVoiceClick:Cs}):t.jsx(zle,{value:re.taskInput,onChange:zt,e15Enabled:At,onE15Enabled:On,e2Enabled:Dt,onE2Enabled:rs,prototypeEnabled:fn,onPrototypeEnabled:Vn,ultraMode:re.ultraMode,onUltraModeChange:is,testMode:re.testMode,onTestModeChange:$e,className:`relative bg-[#202021] w-full rounded-[24px] md:rounded-b-[12px] text-[#DDDDE6]
                    placeholder:text-[#666] md:text-base focus-visible:ring-1 focus:ring-1 z-10`,onAttachClick:cn,attachIcon:UN,attachTooltip:c("textarea.assets.attachTooltip.filesAndImages"),isUploadAssetEnabled:U,onPaste:Be,handleSettingsClick:Te,showControls:we,onFocusChange:pt,onSubmit:Gn,disabled:Ee||!re.taskInput?.trim()||V6(),isSubmitting:Ee,showGithubSettings:ct.isOpen,handleGithubSettings:Xt,hasUserConnectedGithub:B,githubUrl:re.githubUrl,onClearGithubUrl:jn,userPrompts:oe?.user_prompts||[],isLoadingUserPrompts:pe,selectedCustomAgent:re.selectedCustomAgent,onCustomAgentChange:Hn,shouldShowUserPrompts:C,mobileEnabled:Ft,onMobileEnabled:Bn,nextJSEnabled:He,onNextJSEnabled:En,showMobileAgentIntro:i,onMobileAgentIntroShown:a,showModelSelector:!0,availableModels:An,selectedModelId:re.selectedModel,onModelChange:en,selectedImage:re.selectedImage,setSelectedImage:Zn,globalConfig:u,perInstanceCostLimit:re.perInstanceCostLimit,setPerInstanceCostLimit:Ot,onPrivacyChange:Jn,selectedMcpTools:re.selectedMcpTools,onMcpToolsChange:Pn,isRecording:mt,isTranscribing:_e,onVoiceClick:Cs,activeTab:Me,onTabChange:J})}),q.length>0&&!je&&t.jsx("div",{className:"mt-[-20px] max-w-[94%] mx-auto bg-[#1D1D1F] border border-[#222] rounded-lg p-3",children:t.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[(re.loadingImages||V)&&t.jsxs("div",{className:"flex items-center justify-center w-full py-4",children:[t.jsx(ln,{className:"h-6 w-6 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999]",children:V?"Processing and compressing files...":"Processing files..."})]}),!re.loadingImages&&!V&&q.map((he,et)=>{const jt=he.type.startsWith("image/"),tn=jt?URL.createObjectURL(he):null;return t.jsxs("div",{className:"relative w-12 h-12 rounded-md border border-[#333] group","data-testid":zs.mainTask.attachmentChip,children:[jt&&tn?t.jsx("img",{src:tn,alt:he.name,className:"w-full h-full object-cover z-[1] rounded-md"}):t.jsx("div",{className:"w-full h-full bg-[#2A2A2C] rounded-md flex items-center justify-center z-[1]",children:t.jsx("span",{className:"text-[#999] text-xs font-mono",children:he.name.split(".").pop()?.toUpperCase()||"FILE"})}),t.jsx("button",{type:"button",onClick:()=>hn(et),className:"absolute top-[-8px] right-[-8px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file","data-testid":zs.mainTask.removeAttachmentButton,children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:BN,alt:"Remove file",className:"w-3 h-3"})})})]},`${he.name}-${et}`)})]})})]}),vs=he=>{z(Tn.HOME_PAGE_EVENTS.BUDGET_VALUE_UPDATED,{updatedValue:he})},sr=()=>t.jsxs("div",{"data-testid":zs.mainTask.advancedControlsPanel,className:"w-full bg-[#0F181A] border border-[#66EAFF1F] rounded-[16px] transition-colors mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between w-full gap-4 px-5 pt-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xp,{color:"#66eaff",size:20}),t.jsx("span",{className:"text-[#66EAFF] font-brockmann font-medium",children:c("textarea.advancedControls.title")})]}),t.jsx("img",{alt:c("textarea.advancedControls.close"),src:uue,"data-testid":zs.mainTask.advancedControlsClose,className:"w-5 h-5 cursor-pointer",onClick:()=>be(!1)})]}),t.jsxs("div",{className:"flex flex-col px-5 pt-5 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter font-medium text-[14px]",children:c("textarea.advancedControls.mcp.selectMcpsToUse")}),t.jsx("span",{className:"text-[#131314] px-2 py-[2px] font-semibold font-inter text-[12px] rounded-full bg-[#F49B57]",children:c("textarea.advancedControls.mcp.new")})]}),t.jsxs("button",{type:"button","data-testid":zs.mainTask.mcpToolsSelector,onClick:()=>Ct.open({formState:re,updateFormState:qe,organizationId:P()}),className:A("w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors px-4 flex items-center justify-between",re.selectedMcpTools.length>0&&"pl-3"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[re.selectedMcpTools.length<=0&&t.jsx(Zi,{size:20}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:re.selectedMcpTools.length>0?t.jsxs(t.Fragment,{children:[re.selectedMcpTools.slice(0,3).map((he,et)=>{const jt=se?.find(tn=>tn.id===he);return t.jsxs("div",{className:"group relative flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full hover:bg-[#FFFFFF]/15 cursor-pointer transition-all duration-200 ease-out",children:[jt?.icon?t.jsx("img",{src:jt.icon,alt:jt.display_name,className:"flex-shrink-0 w-4 h-4 rounded-sm"}):t.jsx(Zi,{size:16}),t.jsx("span",{className:"text-sm text-[#DDDDE6] flex-shrink-0",children:jt?.display_name||he}),t.jsx("button",{title:c("textarea.advancedControls.close"),type:"button",onClick:tn=>{tn.stopPropagation();const ls=re.selectedMcpTools.filter((us,Xn)=>Xn!==et);qe({selectedMcpTools:ls})},className:"flex items-center justify-center w-4 h-4 transition-all duration-150 rounded-full opacity-50 right-2 hover:opacity-80",children:t.jsx(Pt,{size:16})})]},`${he}-${et}`)}),re.selectedMcpTools.length>3&&t.jsx("div",{className:"flex items-center gap-2 bg-[#FFFFFF]/10 px-2 py-2 rounded-full",children:t.jsx("span",{className:"text-sm text-[#DDDDE6]",children:c("textarea.advancedControls.mcp.more",{count:re.selectedMcpTools.length-3})})})]}):t.jsx("span",{children:c("textarea.advancedControls.mcp.selectMcpTools")})})]}),t.jsx(Dr,{size:20})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5 md:grid-cols-2",children:[Vs("dockerImage")&&t.jsx(Zae,{selectedImage:re.selectedImage,setSelectedImage:he=>qe({selectedImage:he}),globalConfig:u,label:c("textarea.advancedControls.template.selectTemplate"),isCloudFlow:!0}),Vs("budget")&&t.jsxs("div",{className:"flex flex-col justify-between h-full",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.budget.label")}),t.jsxs("div",{className:"relative flex items-center",children:[t.jsx("button",{type:"button","data-testid":zs.mainTask.budgetDecrement,title:c("textarea.advancedControls.budget.decreaseBudget"),onClick:()=>{const he=parseInt(re.perInstanceCostLimit);he>1&&(qe({perInstanceCostLimit:(he-1).toString()}),vs(he-1))},className:"w-[40px] h-[40px] flex items-center justify-center absolute left-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(e8,{className:"h-6 w-6 text-[#DDDDE6]"})}),t.jsxs("div",{className:"w-full h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 flex items-center justify-center hover:border-[#333]",children:[t.jsx("img",{alt:c("textarea.advancedControls.budget.label"),className:"text-[#B4A456] w-5 h-5",src:pue}),t.jsx("input",{type:"number","data-testid":zs.mainTask.budgetInput,min:"1",step:"1",value:re.perInstanceCostLimit,onChange:he=>{he.target.value!=="0"&&(qe({perInstanceCostLimit:he.target.value}),vs(he.target.value))},disabled:p,placeholder:c(p?"textarea.advancedControls.budget.loading":"textarea.advancedControls.budget.placeholder"),className:"w-20 bg-transparent text-left focus:outline-none text-[#DDDDE6] font-inter text-xl font-semibold leading-[120%] tracking-[-0.4px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]}),t.jsx("button",{type:"button","data-testid":zs.mainTask.budgetIncrement,title:c("textarea.advancedControls.budget.increaseBudget"),onClick:()=>{const he=parseInt(re.perInstanceCostLimit);qe({perInstanceCostLimit:(he+1).toString()}),vs(he+1)},className:"w-[40px] h-[40px] flex items-center justify-center absolute right-1 text-[#666] hover:text-[#999] transition-colors hover:bg-[#0F181A] rounded-sm",children:t.jsx(_a,{className:"h-6 w-6 text-[#DDDDE6]"})})]})]}),H&&t.jsxs("div",{className:"flex flex-col justify-between h-full col-span-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm mb-2",children:c("textarea.advancedControls.privacy.label")}),t.jsx("div",{className:" h-[56px] bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] px-4 w-full flex items-center gap-3 hover:border-[#333]",children:t.jsx(x2,{privacy:re.privacy})})]})]}),F&&t.jsxs("div",{className:"flex flex-col w-full px-5 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.model.label")}),t.jsx(d8,{models:u?.model_list?.map(he=>({id:he.name,name:he.display_name,description:he.description,icon:he.provider==="openai"?X3:Tf,showNew:he.provider==="openai",user_tier:he.user_tier,unavailable_tier:he.unavailable_tier}))||[],selectedModelId:re.selectedModel,onModelChange:he=>{qe({selectedModel:he}),z(Tn.HOME_PAGE_EVENTS.MODEL_VALUE_UPDATED,{selectedModel:he})},currentUserTier:_,isEmergentUser:S,onUpgradeRequired:he=>{if(z(Tn.CREDIT_EVENTS.TIER_UPGRADE_BUTTON_CLICKED,{source:"model_selector_advanced_controls",currentTier:_,projectType:re.projectType,tabId:e}),N()&&!I){l({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}const et=he?.user_tier==="pro_mode";De(et?"ultraThinkingModal":"default"),ht(!0)},disabled:p,placeholder:c(p?"textarea.advancedControls.model.loadingModels":"textarea.advancedControls.model.selectModel")})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-5 px-5 py-5",children:[Vs("agent")&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF50] font-inter text-sm",children:c("textarea.advancedControls.agent.label")}),t.jsxs(Op,{value:re.selectedAgent,onValueChange:he=>qe({selectedAgent:he}),disabled:p,children:[t.jsx(Kd,{className:"w-full h-14 bg-[#FFFFFF0A] border border-[#ffffff12] rounded-lg text-[#DDDDE6] hover:border-[#333] transition-colors data-[state=open]:border-[#333]",children:p?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:c("textarea.advancedControls.agent.loadingAgents")})]}):t.jsx(Bp,{placeholder:c("textarea.advancedControls.agent.selectAgent")})}),t.jsx(Yd,{className:"bg-[#131314] border border-[#222]",children:u?.agent_names?.map((he,et)=>t.jsx(fo,{value:he.name,className:"text-[#DDDDE6] hover:bg-[#222] focus:bg-[#222]",children:he.display_name},`${he.name}-${et}`))})]})]}),Vs("skills")&&t.jsx(loe,{selectedSkills:re.selectedSkills,setSelectedSkills:he=>qe({selectedSkills:he}),skills:_n,loadingSkills:!1,label:c("textarea.advancedControls.skills.label")})]})]});return u?t.jsxs(t.Fragment,{children:[t.jsx(XR,{enableWelcomeModal:!0,open:Ie,onOpenChange:Ae,defaultView:"signup",onSuccess:Kt}),t.jsx(Ude,{isOpen:s,onOpenChange:r}),t.jsx(Ic,{isOpen:Se,onOpenChange:ht,triggerLocation:Qe,planType:"personal"}),t.jsx(_2,{isOpen:de,onOpenChange:ue,location:"default"}),t.jsx(ice,{isOpen:lt,onOpenChange:st}),t.jsx(Wu,{delayDuration:200,children:t.jsx("div",{className:"relative w-full",children:t.jsxs("div",{className:"w-full max-w-4xl mx-auto max-md:pt-0 md:p-6",children:[t.jsx(qn.div,{initial:{opacity:je?1:0,y:0},animate:{opacity:1,y:0},transition:{duration:je?0:.3,ease:"easeOut"},className:A(je&&"contents"),children:t.jsxs("div",{className:A("max-md:fixed max-md:bottom-4 max-md:left-0 max-md:right-0 max-md:z-[100]","max-md:will-change-transform max-md:backface-hidden"),children:[(!$||_!=="free")&&je&&q.length===0&&t.jsx(due,{config:u,showChips:Ue&&!we&&!Ne,taskInput:re.taskInput,onChipClick:Cn}),t.jsx("div",{className:A("md:bg-[#FFFFFF0D]  max-md:rounded-[18px] md:rounded-[18px] max-md:mx-[14px] ","p-[0px]"),style:{background:je||j()?"transparent":vt()},children:Bs()})]})}),q.length===0&&!je&&t.jsx("div",{children:_==="free"&&$?t.jsx(lce,{showChips:Ue&&!we,onChipClick:Cn,activeTab:Me,applyGrayscale:j(),botSuggestion:u?.prompt_suggestions?.find(he=>he.category==="Bots")}):t.jsx(oce,{config:u,showChips:Ue&&!we,taskInput:re.taskInput,onChipClick:Cn})}),t.jsx(Xa,{children:we&&!ct.isOpen&&t.jsx(qn.div,{initial:{opacity:0,height:0,scale:.8},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.8},transition:{duration:.3,ease:"easeInOut"},children:sr()})})]})})})]}):t.jsx("div",{className:"flex items-center min-h-[300px] justify-center w-full h-full",children:t.jsx(ln,{className:"w-8 h-8 text-white opacity-25 animate-spin"})})}const mue=({size:e=28,className:n=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:t.jsx("path",{d:"M9.41282 11.2345V21.2842H6.06614V11.2345H9.41282ZM9.62578 8.13087C9.6326 8.62458 9.46185 9.03707 9.11353 9.36835C8.76521 9.69962 8.30711 9.8653 7.7392 9.8653H7.71875C7.16447 9.8653 6.71828 9.69962 6.38019 9.36835C6.0421 9.03707 5.87305 8.62458 5.87305 8.13087C5.87305 7.63074 6.04721 7.21655 6.39553 6.88829C6.74384 6.56004 7.19855 6.39611 7.75964 6.39649C8.32073 6.39686 8.77032 6.5608 9.10842 6.88829C9.44651 7.21578 9.61897 7.62998 9.62578 8.13087ZM21.4508 15.5239V21.2842H18.1143V15.9095C18.1143 15.1996 17.9774 14.6434 17.7037 14.241C17.43 13.8385 17.0023 13.6373 16.4208 13.6373C15.9949 13.6373 15.6383 13.7539 15.3508 13.9872C15.0635 14.2204 14.8489 14.5094 14.7068 14.8543C14.6327 15.0573 14.5955 15.331 14.5955 15.6755V21.2836H11.2591C11.2727 18.586 11.2795 16.3989 11.2795 14.722C11.2795 13.0451 11.2761 12.0446 11.2693 11.7201L11.2591 11.2333H14.5955V12.6935H14.5751C14.7103 12.4773 14.8489 12.288 14.9908 12.1256C15.1328 11.9631 15.3238 11.7873 15.5638 11.5979C15.8038 11.4087 16.098 11.2615 16.4464 11.1567C16.7947 11.0518 17.1818 10.9994 17.6077 10.9994C18.764 10.9994 19.6936 11.3831 20.3967 12.1505C21.0998 12.918 21.4513 14.042 21.4513 15.5227L21.4508 15.5239Z",fill:"currentColor"})}),hue=({size:e=28,className:n=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("mask",{id:"mask0_x_social",maskUnits:"userSpaceOnUse",x:"6",y:"7",width:"17",height:"15",children:t.jsx("path",{d:"M22.2802 7.24146H6.22852V21.6035H22.2802V7.24146Z",fill:"white"})}),t.jsx("g",{mask:"url(#mask0_x_social)",children:t.jsx("path",{d:"M18.8636 7.24146H21.3133L15.9626 13.3373L22.2802 21.6035H17.3165L13.4485 16.5928L9.0005 21.6035H6.55083L12.2882 15.0928L6.22852 7.24146H11.3212L14.8345 11.8373L18.8636 7.24146ZM17.9933 20.1354H19.3471L10.5799 8.61383H9.09719L17.9933 20.1354Z",fill:"currentColor"})})]}),xue=({size:e=28,className:n=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 28 28",fill:"none",className:n,children:[t.jsx("mask",{id:"mask0_youtube",maskUnits:"userSpaceOnUse",x:"4",y:"7",width:"20",height:"14",children:t.jsx("path",{d:"M23.4631 7.21118H4.53906V20.4982H23.4631V7.21118Z",fill:"white"})}),t.jsxs("g",{mask:"url(#mask0_youtube)",children:[t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5982 9.67754L21.5985 9.6785C21.7502 10.2462 21.8453 11.2415 21.895 12.2039C21.9186 12.6623 21.9305 13.078 21.9365 13.379C21.9395 13.5293 21.9409 13.6502 21.9416 13.7325C21.942 13.7737 21.9422 13.8053 21.9423 13.8261L21.9424 13.849V13.854V13.8605L21.9423 13.8833C21.9422 13.9041 21.942 13.9357 21.9416 13.9769C21.9409 14.0593 21.9395 14.1801 21.9365 14.3304C21.9305 14.6314 21.9186 15.0471 21.895 15.5055C21.8453 16.4679 21.7502 17.4632 21.5985 18.0311C21.5205 18.3238 21.2879 18.5559 21.0006 18.6329C20.7901 18.6894 20.2799 18.7576 19.5058 18.8143C18.7746 18.8678 17.9209 18.9042 17.0991 18.9286C16.2797 18.9531 15.504 18.9653 14.9325 18.9714C14.6469 18.9745 14.4131 18.976 14.2511 18.9768C14.1701 18.9772 14.107 18.9774 14.0645 18.9775H13.9376C13.8951 18.9774 13.8321 18.9772 13.751 18.9768C13.589 18.976 13.3552 18.9745 13.0697 18.9714C12.4981 18.9653 11.7224 18.9531 10.9031 18.9286C10.0812 18.9042 9.22757 18.8678 8.49636 18.8143C7.7223 18.7576 7.21272 18.6897 7.00223 18.6331C6.71493 18.556 6.48189 18.3246 6.40392 18.032C6.25224 17.4641 6.15685 16.4679 6.10716 15.5056C6.08348 15.0471 6.07158 14.6314 6.06563 14.3304C6.06267 14.1801 6.06119 14.0593 6.06047 13.9769C6.0601 13.9357 6.05993 13.9041 6.05983 13.8833L6.05976 13.8605L6.05975 13.8554L6.05976 13.849L6.05983 13.8261C6.05993 13.8053 6.0601 13.7737 6.06047 13.7325C6.06119 13.6502 6.06267 13.5293 6.06563 13.379C6.07158 13.078 6.08348 12.6623 6.10716 12.2039C6.15685 11.2415 6.252 10.2462 6.40367 9.6785L6.40393 9.67754C6.48192 9.38478 6.71423 9.15366 7.00134 9.07669L7.00231 9.07643C7.21277 9.01986 7.72232 8.95181 8.49639 8.89517C9.22759 8.84166 10.0812 8.80527 10.9031 8.78077C11.7224 8.75636 12.4981 8.74411 13.0697 8.73798C13.3552 8.73492 13.589 8.73339 13.751 8.73262C13.8321 8.73225 13.8951 8.73205 13.9376 8.73196H14.0645C14.107 8.73205 14.1701 8.73225 14.2511 8.73262C14.4131 8.73339 14.6469 8.73492 14.9325 8.73798C15.504 8.74411 16.2797 8.75636 17.0991 8.78077C17.9209 8.80527 18.7745 8.84166 19.5057 8.89517C20.2798 8.95181 20.7894 9.01986 20.9998 9.07643L21.0008 9.0767C21.2879 9.15365 21.5202 9.38471 21.5982 9.67754ZM14.0011 7.21118C14.0011 7.21118 8.08337 7.21118 6.60758 7.60786C5.79338 7.82614 5.15211 8.46927 4.9345 9.286C4.53906 10.7663 4.53906 13.8548 4.53906 13.8548C4.53906 13.8548 4.53906 16.9432 4.9345 18.4235C5.15211 19.2401 5.79338 19.8832 6.60758 20.1016C8.08337 20.4983 14.0011 20.4983 14.0011 20.4983C14.0011 20.4983 19.9188 20.4983 21.3946 20.1016C22.2088 19.8832 22.85 19.2401 23.0676 18.4235C23.4631 16.9432 23.4631 13.8548 23.4631 13.8548C23.4631 13.8548 23.4631 10.7663 23.0676 9.286C22.85 8.46927 22.2088 7.82614 21.3946 7.60786C19.9188 7.21118 14.0011 7.21118 14.0011 7.21118Z",fill:"currentColor"}),t.jsx("path",{d:"M12.0664 16.6548L17.0125 13.8509L12.0664 11.0466V16.6548Z",fill:"currentColor"})]})]}),gue=({size:e=28,className:n=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 28 28",fill:"none",className:n,children:t.jsx("path",{d:"M14.005 5.55176C11.7092 5.55176 11.4211 5.56179 10.5194 5.60279C9.61939 5.64397 9.0051 5.78635 8.46759 5.99525C7.9116 6.21099 7.43996 6.49961 6.97009 6.96931C6.49987 7.43884 6.21103 7.91012 5.99442 8.46553C5.78483 9.00282 5.64218 9.61682 5.60167 10.5158C5.56134 11.4168 5.55078 11.7049 5.55078 13.999C5.55078 16.2931 5.561 16.5802 5.60185 17.4812C5.64324 18.3805 5.78572 18.9944 5.99458 19.5314C6.21068 20.087 6.49951 20.5583 6.96956 21.0278C7.43927 21.4977 7.91089 21.787 8.46654 22.0028C9.00439 22.2117 9.61886 22.3541 10.5186 22.3952C11.4203 22.4362 11.7083 22.4463 14.0039 22.4463C16.2999 22.4463 16.5872 22.4362 17.4889 22.3952C18.3888 22.3541 19.0039 22.2117 19.5418 22.0027C20.0975 21.787 20.5685 21.4977 21.0382 21.0278C21.5084 20.5583 21.7972 20.087 22.0139 19.5316C22.2216 18.9944 22.3643 18.3803 22.4065 17.4814C22.4471 16.5804 22.4576 16.2931 22.4576 13.999C22.4576 11.7049 22.4471 11.417 22.4065 10.516C22.3643 9.61664 22.2216 9.00282 22.0139 8.46571C21.7972 7.91012 21.5084 7.43883 21.0382 6.96931C20.5679 6.49943 20.0977 6.21082 19.5412 5.99524C19.0022 5.78635 18.3877 5.64397 17.4877 5.60279C16.586 5.56179 16.2989 5.55176 14.0024 5.55176H14.005ZM13.2467 7.07402C13.4717 7.07367 13.7229 7.07402 14.005 7.07402C16.2621 7.07402 16.5296 7.08212 17.4209 7.1226C18.2452 7.16026 18.6925 7.29787 18.9904 7.4135C19.385 7.5666 19.6662 7.74962 19.9619 8.04527C20.2578 8.34093 20.4409 8.62251 20.5946 9.01671C20.7102 9.31412 20.8481 9.76112 20.8857 10.5847C20.9261 11.4752 20.935 11.7428 20.935 13.997C20.935 16.2514 20.9261 16.519 20.8857 17.4094C20.8479 18.2331 20.7102 18.68 20.5946 18.9775C20.4413 19.3716 20.2578 19.6524 19.9619 19.9478C19.666 20.2435 19.3851 20.4265 18.9904 20.5796C18.6929 20.6957 18.2452 20.833 17.4209 20.8707C16.5298 20.9111 16.2621 20.9199 14.005 20.9199C11.7477 20.9199 11.4803 20.9111 10.5891 20.8707C9.76483 20.8326 9.31753 20.695 9.01936 20.5795C8.62486 20.4263 8.34308 20.2433 8.04721 19.9476C7.75134 19.652 7.56818 19.3711 7.41461 18.9767C7.2989 18.6793 7.16099 18.2323 7.12349 17.4087C7.08298 16.5182 7.07488 16.2508 7.07488 13.9949C7.07488 11.7392 7.08298 11.4731 7.12349 10.5826C7.16118 9.759 7.2989 9.31201 7.41461 9.01425C7.56782 8.62005 7.75134 8.33847 8.04721 8.04282C8.34308 7.74716 8.62486 7.56414 9.01936 7.41069C9.31735 7.29453 9.76483 7.15727 10.5891 7.11942C11.3689 7.08423 11.6711 7.07367 13.2467 7.07191V7.07402ZM18.5174 8.47662C17.9573 8.47662 17.503 8.93013 17.503 9.48993C17.503 10.0495 17.9573 10.5036 18.5174 10.5036C19.0774 10.5036 19.5318 10.0495 19.5318 9.48993C19.5318 8.93031 19.0774 8.47662 18.5174 8.47662ZM14.005 9.661C11.6075 9.661 9.66374 11.6033 9.66374 13.999C9.66374 16.3947 11.6075 18.3362 14.005 18.3362C16.4025 18.3362 18.3456 16.3947 18.3456 13.999C18.3456 11.6033 16.4025 9.661 14.005 9.661ZM14.005 11.1832C15.5611 11.1832 16.8229 12.4438 16.8229 13.999C16.8229 15.554 15.5611 16.8147 14.005 16.8147C12.4487 16.8147 11.1871 15.554 11.1871 13.999C11.1871 12.4438 12.4487 11.1832 14.005 11.1832Z",fill:"currentColor"})}),bue=({size:e=18,color:n="#FFFFFF66",className:s=""})=>t.jsx("div",{className:`w-[${e}px] h-[${e}px] rounded-full border border-white/40 flex items-center justify-center ${s}`,children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 18 18",fill:"none",children:t.jsx("path",{d:"M7.66332 11.9413H10.5433C10.7473 11.9413 10.9183 11.8723 11.0563 11.7343C11.1943 11.5963 11.2633 11.4253 11.2633 11.2213V9.78133H9.82332V10.5013H8.38332V7.62133H9.82332V8.34133H11.2633V6.90133C11.2633 6.69733 11.1943 6.52633 11.0563 6.38833C10.9183 6.25033 10.7473 6.18133 10.5433 6.18133H7.66332C7.45932 6.18133 7.28832 6.25033 7.15032 6.38833C7.01232 6.52633 6.94332 6.69733 6.94332 6.90133V11.2213C6.94332 11.4253 7.01232 11.5963 7.15032 11.7343C7.28832 11.8723 7.45932 11.9413 7.66332 11.9413ZM9.10332 16.2613C8.10732 16.2613 7.17132 16.0723 6.29532 15.6943C5.41932 15.3163 4.65732 14.8033 4.00932 14.1553C3.36132 13.5073 2.84832 12.7453 2.47032 11.8693C2.09232 10.9933 1.90332 10.0573 1.90332 9.06133C1.90332 8.06533 2.09232 7.12933 2.47032 6.25333C2.84832 5.37733 3.36132 4.61533 4.00932 3.96733C4.65732 3.31933 5.41932 2.80633 6.29532 2.42833C7.17132 2.05033 8.10732 1.86133 9.10332 1.86133C10.0993 1.86133 11.0353 2.05033 11.9113 2.42833C12.7873 2.80633 13.5493 3.31933 14.1973 3.96733C14.8453 4.61533 15.3583 5.37733 15.7363 6.25333C16.1143 7.12933 16.3033 8.06533 16.3033 9.06133C16.3033 10.0573 16.1143 10.9933 15.7363 11.8693C15.3583 12.7453 14.8453 13.5073 14.1973 14.1553C13.5493 14.8033 12.7873 15.3163 11.9113 15.6943C11.0353 16.0723 10.0993 16.2613 9.10332 16.2613ZM9.10332 14.8213C10.7113 14.8213 12.0733 14.2633 13.1893 13.1473C14.3053 12.0313 14.8633 10.6693 14.8633 9.06133C14.8633 7.45333 14.3053 6.09133 13.1893 4.97533C12.0733 3.85933 10.7113 3.30133 9.10332 3.30133C7.49532 3.30133 6.13332 3.85933 5.01732 4.97533C3.90132 6.09133 3.34332 7.45333 3.34332 9.06133C3.34332 10.6693 3.90132 12.0313 5.01732 13.1473C6.13332 14.2633 7.49532 14.8213 9.10332 14.8213Z",fill:n})})}),yue=W.icons.emergentLogoNew,Q3="text-white opacity-50 font-inter text-[15px] font-medium leading-[24px] hover:opacity-100 transition-colors duration-200",vue=()=>{const{t:e}=Jt("common"),n=Er(),{user:s,session:r}=xs(),i=wi(),a=!!(s&&r),o=i.pathname===Pd,l=[{titleKey:"footer.product",links:[{labelKey:"footer.build",href:"https://emergent.sh/build",isExternal:!0},{labelKey:"footer.pricing",onClick:()=>n.open({})},{labelKey:"footer.integrations",href:"https://emergent.sh/integrations",isExternal:!0}]},{titleKey:"footer.solutions",links:[{labelKey:"footer.enterprise",href:"https://emergent.sh/enterprise",isExternal:!0},{labelKey:"footer.smbOwners",href:"https://emergent.sh/solutions/smb-owners",isExternal:!0},{labelKey:"footer.itAgencies",href:"https://emergent.sh/solutions/it-agencies",isExternal:!0},{labelKey:"footer.productManagers",href:"https://emergent.sh/solutions/product-managers",isExternal:!0},{labelKey:"footer.operationsTeam",href:"https://emergent.sh/solutions/operations-team",isExternal:!0}]},{titleKey:"footer.resources",links:[{labelKey:"footer.docs",href:"https://help.emergent.sh/",isExternal:!0},{labelKey:"footer.tutorials",href:"https://emergent.sh/tutorial",isExternal:!0},{labelKey:"footer.caseStudies",href:"https://emergent.sh/case-studies",isExternal:!0},{labelKey:"footer.blog",href:"https://emergent.sh/learn",isExternal:!0}]},{titleKey:"footer.company",links:[{labelKey:"footer.affiliates",href:"https://emergent.sh/affiliates",isExternal:!0},{labelKey:"footer.careers",href:"https://emergent.sh/careers",isExternal:!0},{labelKey:"footer.termsOfService",href:"/terms-of-service",isExternal:!0},{labelKey:"footer.privacyPolicy",href:"/privacy-policy",isExternal:!0}]}],c=[{href:"https://www.linkedin.com/company/emergentlabs",icon:t.jsx(mue,{}),label:"LinkedIn"},{href:"https://x.com/emergentlabs",icon:t.jsx(hue,{}),label:"X"},{href:"https://www.youtube.com/@emergentlabs",icon:t.jsx(xue,{}),label:"YouTube"},{href:"https://www.instagram.com/emergentlabs",icon:t.jsx(gue,{}),label:"Instagram"}],u=(p,f)=>{if(p.onClick){if(p.labelKey==="footer.pricing"&&!o){const m=e(a?"footer.pricingTooltipAuth":"footer.pricingTooltipUnauth");return t.jsx("li",{children:t.jsx(Wu,{delayDuration:0,children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsx("button",{className:`${Q3} cursor-not-allowed opacity-30`,disabled:!0,children:e(p.labelKey)})}),t.jsx(Ho,{children:t.jsxs(oi,{className:"bg-[#1A1A1A] text-[#DDDDE6] text-sm px-3 py-2 rounded-lg shadow-lg z-[9999]",sideOffset:5,children:[m,t.jsx(Pa,{className:"fill-[#1A1A1A]"})]})})]})})},f)}return t.jsx("li",{children:t.jsx("button",{onClick:p.onClick,className:Q3,children:e(p.labelKey)})},f)}return t.jsx("li",{children:t.jsx("a",{href:p.href,target:p.isExternal?"_blank":void 0,rel:p.isExternal?"noopener noreferrer":void 0,className:Q3,children:e(p.labelKey)})},f)};return t.jsxs("footer",{className:"flex max-md:hidden min-h-[200px] flex-col w-full max-lg:pt-10 lg:pt-[120px] pb-6 max-lg:px-6 lg:px-20 max-lg:pb-20",children:[t.jsxs("div",{className:"flex justify-between lg:border-b max-lg:flex-col-reverse lg:border-[rgba(255,255,255,0.08)] lg:py-20",children:[t.jsxs("div",{className:"max-w-[470px] max-lg:mt-20",children:[t.jsx("img",{src:yue,alt:"Emergent Logo",className:"h-8"}),t.jsx("p",{className:"max-lg:mt-4 lg:mt-6 text-white opacity-50 font-inter text-[15px] font-medium leading-[24px] whitespace-pre-line",children:e("footer.tagline")})]}),t.jsx("div",{className:"flex flex-wrap gap-y-10 max-lg:gap-x-20 lg:gap-x-16",children:l.map((p,f)=>t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-brockmann text-[16] font-medium leading-6 mb-2",children:e(p.titleKey)}),t.jsx("ul",{className:"space-y-2",children:p.links.map((m,h)=>u(m,h))})]},f))})]}),t.jsxs("div",{className:"relative flex flex-col justify-center w-full mx-auto max-lg:pt-10 lg:pt-6 lg:flex-row",children:[t.jsxs("div",{className:"flex flex-col max-lg:flex-col-reverse",children:[t.jsxs("div",{className:"flex gap-2 max-lg:mt-10 lg:absolute lg:left-0",children:[t.jsx("p",{className:"text-white/40 font-ndot text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:e("footer.copyright")}),t.jsx(bue,{}),t.jsx("p",{className:"text-white/40 font-ndot text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:e("footer.companyName")})]}),t.jsx("div",{className:"text-center max-lg:ml-0 lg:mx-auto",children:t.jsxs("div",{className:"text-white/40 font-ndot text-left lg:text-center text-[12px] font-normal leading-5 tracking-[1.2px] uppercase",children:[e("footer.designedBy"),t.jsx("br",{}),e("footer.awesomePeople")," ",t.jsx("span",{className:"text-white",children:""})]})})]}),t.jsx("div",{className:"flex gap-4 max-lg:mx-auto max-lg:mb-5 max-lg:hidden lg:absolute lg:right-0",children:c.map((p,f)=>t.jsx("a",{href:p.href,target:"_blank",rel:"noopener noreferrer",className:"object-contain cursor-pointer w-7 h-7 text-white/40 hover:text-white transition-colors duration-200","aria-label":p.label,children:p.icon},f))})]})]})},wue=()=>{const{t:e}=Jt("common"),{user:n,session:s}=xs(),[r,i]=d.useState(!1),[a,o]=d.useState("login"),l=()=>{window.requestAnimationFrame(()=>{const u=document.getElementById("mainTaskInput");u&&(u.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{u.focus()},500))})},c=u=>{u.preventDefault(),n&&s?(z(u_.KEEP_BUILDING_CLICKED,{section:"download_section",isLoggedIn:!0}),l()):(z(u_.GET_STARTED_CLICKED,{section:"download_section",isLoggedIn:!1}),i(!0))};return t.jsxs("div",{className:"relative mb-14",children:[t.jsx(XR,{enableWelcomeModal:!0,open:r,onOpenChange:i,defaultView:"login",openView:a,onSuccess:()=>{o("login"),i(!1)}}),t.jsxs("section",{className:"hidden md:block overflow-hidden md:py-20 pb-[15rem] md:pb-[20rem] mt-[10rem] relative",children:[t.jsx(u8,{height:"70%",top:"30%",gridSizeX:50,gridSizeY:30,gridLineWidth:.3,gridOpacity:.6}),t.jsx("div",{className:"relative z-20 flex flex-col items-center justify-center w-full h-full",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"flex flex-col items-center md:gap-4",children:[t.jsx("h2",{"data-testid":yr.downloadSection.title,className:"text-[40px] md:text-[80px] md:leading-[80px] font-medium text-white",children:e("downloadSection.startBuilding")}),t.jsx("h2",{className:"text-[#00FF66] font-ndot text-[34px]  md:text-[72px] md:leading-[72px] uppercase",children:e("downloadSection.emergentToday")})]}),t.jsx("button",{"data-testid":yr.downloadSection.getStartedButton,onClick:c,className:"relative flex items-center gap-3 py-4 text-base font-semibold leading-6 tracking-wide text-black transition-colors bg-white rounded-full mt-14 px-14 hover:bg-gray-100 get-started-button before:absolute before:inset-0 before:-m-1 before:rounded-full before:border before:border-[#FFFFFF26] before:-z-10",children:e(n&&s?"downloadSection.keepBuilding":"downloadSection.getStarted")})]})})]}),t.jsx(vue,{})]})},NP=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:A("w-full caption-bottom text-sm",e),...n})}));NP.displayName="Table";const FP=d.forwardRef(({className:e,...n},s)=>t.jsx("thead",{ref:s,className:A("[&_tr]:border-b",e),...n}));FP.displayName="TableHeader";const EP=d.forwardRef(({className:e,...n},s)=>t.jsx("tbody",{ref:s,className:A("[&_tr:last-child]:border-0",e),...n}));EP.displayName="TableBody";const Cue=d.forwardRef(({className:e,...n},s)=>t.jsx("tfoot",{ref:s,className:A("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));Cue.displayName="TableFooter";const lf=d.forwardRef(({className:e,...n},s)=>t.jsx("tr",{ref:s,className:A("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...n}));lf.displayName="TableRow";const wy=d.forwardRef(({className:e,...n},s)=>t.jsx("th",{ref:s,className:A("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));wy.displayName="TableHead";const ao=d.forwardRef(({className:e,...n},s)=>t.jsx("td",{ref:s,className:A("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));ao.displayName="TableCell";const _ue=d.forwardRef(({className:e,...n},s)=>t.jsx("caption",{ref:s,className:A("mt-4 text-sm text-muted-foreground",e),...n}));_ue.displayName="TableCaption";const Uu=({className:e="",width:n=16,height:s=16,color:r="#80FFF9",opacity:i=1,backgroundColor:a,onClick:o})=>t.jsxs("svg",{width:n,height:s,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,style:{opacity:i},onClick:o,role:o?"button":void 0,tabIndex:o?0:void 0,children:[a&&t.jsx("rect",{width:"16",height:"16",fill:a}),t.jsx("path",{d:"M7 16V8.4L2 3.4V6H0V0H6V2H3.4L9 7.6V16H7ZM10.85 6.6L9.4 5.15L12.6 2H10V0H16V6H14V3.4L10.85 6.6Z",fill:r})]}),jue=({size:e=16,color:n="white",opacity:s=1,className:r="",onClick:i,...a})=>{const o=e/4;return t.jsx("svg",{width:e,height:o,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,onClick:i,style:{cursor:"pointer"},...a,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55556 2.00043C3.55556 2.47193 3.36825 2.92411 3.03486 3.25751C2.70146 3.59091 2.24927 3.77821 1.77778 3.77821C1.30628 3.77821 0.854097 3.59091 0.520699 3.25751C0.187301 2.92411 0 2.47193 0 2.00043C0 1.52894 0.187301 1.07675 0.520699 0.743356C0.854097 0.409958 1.30628 0.222656 1.77778 0.222656C2.24927 0.222656 2.70146 0.409958 3.03486 0.743356C3.36825 1.07675 3.55556 1.52894 3.55556 2.00043ZM8 0.222656C8.4715 0.222656 8.92368 0.409958 9.25708 0.743356C9.59048 1.07675 9.77778 1.52894 9.77778 2.00043C9.77778 2.47193 9.59048 2.92411 9.25708 3.25751C8.92368 3.59091 8.4715 3.77821 8 3.77821C7.5285 3.77821 7.07632 3.59091 6.74292 3.25751C6.40952 2.92411 6.22222 2.47193 6.22222 2.00043C6.22222 1.52894 6.40952 1.07675 6.74292 0.743356C7.07632 0.409958 7.5285 0.222656 8 0.222656ZM14.2222 0.222656C14.6937 0.222656 15.1459 0.409958 15.4793 0.743356C15.8127 1.07675 16 1.52894 16 2.00043C16 2.47193 15.8127 2.92411 15.4793 3.25751C15.1459 3.59091 14.6937 3.77821 14.2222 3.77821C13.7507 3.77821 13.2985 3.59091 12.9651 3.25751C12.6317 2.92411 12.4444 2.47193 12.4444 2.00043C12.4444 1.52894 12.6317 1.07675 12.9651 0.743356C13.2985 0.409958 13.7507 0.222656 14.2222 0.222656Z",fill:n,fillOpacity:s})})},Lf=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("rounded-2xl border bg-card text-card-foreground shadow-sm",e),...n}));Lf.displayName="Card";const lg=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("flex flex-col space-y-1.5 p-6",e),...n}));lg.displayName="CardHeader";const SP=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("text-2xl font-semibold leading-none tracking-tight",e),...n}));SP.displayName="CardTitle";const kP=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("text-sm text-muted-foreground",e),...n}));kP.displayName="CardDescription";const Cy=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("p-6 pt-0",e),...n}));Cy.displayName="CardContent";const Nue=d.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:A("flex items-center p-6 pt-0",e),...n}));Nue.displayName="CardFooter";function vc({color:e="#2EE572",size:n=16,innerSize:s=8,animate:r=!1,className:i}){const a=`${e}20`;return t.jsxs("div",{className:A("rounded-full flex items-center justify-center",r&&"relative",i),style:{width:`${n}px`,height:`${n}px`,backgroundColor:a},children:[t.jsx("div",{className:A("rounded-full",r&&"animate-pulse"),style:{width:`${s}px`,height:`${s}px`,backgroundColor:e}}),r&&t.jsx("div",{className:"absolute inset-0 rounded-full opacity-75 animate-ping",style:{backgroundColor:a}})]})}const Fue=W.common.captivePortal,Eue=W.icons.animatedSpinner,Sue=W.deployment.replace,kue=W.deployment.timeGreyDeployed,Tue=W.deployment.goBack,Iue=(e,n)=>e==="running"?{bgColor:"#1588FC20",color:"#33DDFF",text:n?n("deployedApps.card.status.deploying"):"Deploying",animate:!0}:e==="success"?{bgColor:"#2EE57220",color:"#2EE572",text:n?n("deployedApps.card.status.live"):"Live",animate:!0}:e==="failed"?{bgColor:"#ffffff10",color:"#ED5B5B",text:n?n("deployedApps.card.status.failed"):"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:n?n("deployedApps.card.status.unknown"):"Unknown",animate:!1},TP=(e,n)=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);if(r<60)return n?n(r!==1?"deployedApps.card.time.secsAgo_plural":"deployedApps.card.time.secsAgo",{count:r}):`${r} sec${r!==1?"s":""} ago`;const i=Math.floor(r/60);if(i<60)return n?n(i!==1?"deployedApps.card.time.minsAgo_plural":"deployedApps.card.time.minsAgo",{count:i}):`${i} min${i!==1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return n?n(a!==1?"deployedApps.card.time.hrsAgo_plural":"deployedApps.card.time.hrsAgo",{count:a}):`${a} hr${a!==1?"s":""} ago`;const o=Math.floor(a/24);if(o<30)return n?n(o!==1?"deployedApps.card.time.daysAgo_plural":"deployedApps.card.time.daysAgo",{count:o}):`${o} day${o!==1?"s":""} ago`;const l=Math.floor(o/30);if(l<12)return n?n(l!==1?"deployedApps.card.time.monthsAgo_plural":"deployedApps.card.time.monthsAgo",{count:l}):`${l} month${l!==1?"s":""} ago`;const c=Math.floor(l/12);return n?n(c!==1?"deployedApps.card.time.yearsAgo_plural":"deployedApps.card.time.yearsAgo",{count:c}):`${c} year${c!==1?"s":""} ago`};function IP({status:e,deployment:n,deployUrl:s}){if(e==="running")return"";if(n.template_name?.includes("expo"))return`${window.location.origin}/share?app=${encodeURIComponent(n.app_name)}`;const i=n?.custom_domain;return i&&i!==""&&i.trim()!==""?i.includes("http")?i:`https://${i}`:s||""}function AP({deployment:e,index:n,hoveredCard:s,onHoverStart:r,onHoverEnd:i,onClick:a,fromRedeployModal:o=!1,onReplaceClick:l,allowHover:c=!0}){const{t:u}=Jt("home"),p=e.deployStatus,f=Iue(p,u),m=e.deployUrl,h=e.id.substring(0,6),x=e.latest_run.updated_at?u("deployedApps.card.time.deployed",{time:TP(new Date(e.latest_run.updated_at),u)}):u("deployedApps.card.time.unknown");return t.jsx(xe.div,{"data-testid":`deployed-app-card-${e.id}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:c?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:n*.1},onHoverStart:()=>r(e.id),onHoverEnd:i,onClick:()=>{o&&z(cr.REPLACE_MODAL_VIEW_TASK_CLICKED,{deploymentId:e.id,appName:e.app_name}),a(e)},children:t.jsxs("div",{className:A("rounded-[16px] overflow-clip bg-[#2626291A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[t.jsxs("div",{className:"px-4 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:A("text-[12px] md:text-[14px] font-['Inter'] font-medium transition-colors duration-200",s===e.id?"text-[#ffffff80]":"text-[#ffffff50]"),children:["# EMT-",h]}),t.jsxs("div",{className:A("flex items-center gap-[6px] px-[10px] py-[6px] rounded-[8px] transition-all duration-200"),style:{backgroundColor:s===e.id?f.bgColor.replace("20","30"):f.bgColor},children:[p!="running"&&t.jsx(vc,{color:p!="failed"?f.color:"#ffffff60",size:16,innerSize:8,animate:f.animate}),p==="running"&&t.jsx("img",{src:Eue,alt:u("deployedApps.card.alt.loading"),className:"w-6 h-6"}),t.jsx("span",{className:A("text-[15px] font-medium transition-colors duration-200"),style:{color:p!="failed"?f.color:"#ffffff60",opacity:s===e.id?1:.9},children:f.text})]})]}),t.jsx("div",{className:A("mt-5 text-[20px]  md:text-[24px] font-medium font-brockmann transition-colors duration-200 capitalize line-clamp-1",s===e.id?"text-white/95":"text-white/80"),children:e.title||u("deployedApps.untitled")}),t.jsx("div",{className:A("mt-2 text-[14px] md:text-[16px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description||u("deployedApps.noTaskAvailable")}),t.jsxs("div",{className:"flex gap-4",children:[p!="failed"&&t.jsxs("a",{href:IP({status:p,deployment:e,deployUrl:m}),target:"_blank",rel:"noopener noreferrer",className:A("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 md:min-h-[44px] rounded-[10px] transition-all duration-200",s===e.id&&p!=="running"?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&p!=="running"?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]",p==="running"&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:y=>{y.stopPropagation(),o&&z(cr.REPLACE_MODAL_VISIT_CLICKED,{deploymentId:e.id,appName:e.app_name})},children:[t.jsx("span",{className:A("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:u("deployedApps.card.visit")}),t.jsx("img",{src:Fue,alt:u("deployedApps.card.alt.visit"),className:"w-4 h-4"})]}),o&&t.jsxs("div",{className:A("flex mt-5 w-full items-center justify-center gap-2 px-4 py-2 rounded-[10px] md:min-h-[44px] cursor-pointer transition-all duration-200 bg-[#80FFF914] hover:bg-[#80FFF920]",e.deployStatus==="running"?"opacity-30 cursor-not-allowed":"opacity-100 cursor-pointer"),onClick:y=>{y.stopPropagation(),l&&e.deployStatus!=="running"&&(z(cr.REPLACE_MODAL_REPLACE_CLICKED,{deploymentId:e.id,appName:e.app_name}),l(e))},children:[t.jsx("span",{className:A("transition-colors duration-200",(s===e.id,"text-[#80FFF9]")),children:u("deployedApps.card.replace")}),t.jsx("img",{src:Sue,alt:u("deployedApps.card.replace"),className:"w-6 h-6"})]})]})]}),p!="failed"&&t.jsxs("div",{className:A("flex items-center px-4 justify-between py-3 bg-[#FFFFFF05] min-h-[44px] text-[14px] transition-colors duration-200",s===e.id?"text-[#FFFFFF80]":"text-[#FFFFFF33]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:kue,alt:u("deployedApps.card.alt.deployTime"),className:A("w-5 h-5 opacity-20 ",s===e.id?"opacity-30":"opacity-20")}),t.jsx("span",{className:"text-[12px] md:text-[14px]",children:x})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:A("text-[12px] md:text-[14px]",s===e.id?"text-[#FFFFFF80] block":" hidden"),children:u("deployedApps.card.viewTask")}),t.jsx("img",{src:Tue,alt:u("deployedApps.card.viewTask"),className:"w-4 h-4 rotate-180"})]})]})]})},e.id)}const Aue=W.common.copperCoin,Due=W.common.webImage;function DP({handleJobClick:e,organizationId:n}){const{t:s}=Jt("home"),[r,i]=d.useState(null),[a,o]=d.useState([]),[l,c]=d.useState(!0),[u]=Gm(),p=d.useRef(!1),f=d.useCallback(async()=>{try{c(!0);const x=await yt.getDeployments(n);if("error"in x)o([]);else{const v=x.map(g=>({id:g.job_id,app_name:g.app_name||"",deployStatus:g.status,deployUrl:g.deployed_url||"",custom_domain:g.custom_domain||"",latest_run:{status:g.status,updated_at:g.deployed_at||null},description:g.task||"",deployment_id:g.deployment_id,title:g.title||"",template_name:g.template_name})).sort((g,b)=>{const w=new Date(g.latest_run.updated_at).getTime();return new Date(b.latest_run.updated_at).getTime()-w});o(v)}}catch{o([])}finally{c(!1)}},[n]);d.useEffect(()=>{f()},[f]);const m=async x=>{if(!p.current){p.current=!0;try{const y=await u(x.id);if("error"in y)return;const v=y.data;z(dX.DEPLOYED_APP_CLICKED,{jobId:v?.id,appName:x.app_name}),v&&e(v)}catch{}finally{p.current=!1}}},h=Array(6-Math.min(a.length,6)).fill(null);return l?t.jsx("div",{className:"flex flex-col mt-2 mb-8 space-y-5 min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border md:p-6 rounded-[16px]",children:t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Array(6).fill(null).map((x,y)=>t.jsxs(Lf,{className:"bg-[#111112] border-[#FFFFFF0F] h-[300px] animate-pulse",children:[t.jsx(lg,{className:"p-5",children:t.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),t.jsxs(Cy,{className:"p-5 pt-0",children:[t.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),t.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`loading-${y}`))})}):t.jsx("div",{className:"flex flex-col relative mt-2 mb-8 space-y-5 md:max-h-[650px] overflow-y-scroll min-h-[546px] bg-[#0F0F10] md:border-[#252629] md:border md:p-6 rounded-[16px]",children:a.length===0?t.jsxs("div",{className:"md:flex flex-col space-y-5 md:border-[#252629] md:border rounded-[16px]",children:[t.jsx("div",{className:"hidden grid-cols-1 gap-6 md:grid md:grid-cols-3",children:Array(6).fill(null).map((x,y)=>t.jsxs(Lf,{className:"bg-[#111112] border-[#FFFFFF0F] hidden md:h-[300px]",children:[t.jsx(lg,{className:"p-5",children:t.jsx("div",{className:"h-4 w-24 bg-[#FFFFFF14] rounded"})}),t.jsxs(Cy,{className:"p-5 pt-0",children:[t.jsx("div",{className:"h-4 w-full bg-[#FFFFFF14] rounded mb-4"}),t.jsx("div",{className:"h-4 w-3/4 bg-[#FFFFFF14] rounded"})]})]},`empty-grid-${y}`))}),t.jsxs("div",{"data-testid":$a.deployedAppsEmptyState,className:"absolute  rounded-[16px] backdrop-blur-[2px] left-0 right-0 bottom-0 top-0 h-full md:border md:border-[#242424]/60 flex flex-col items-center justify-center text-center",children:[t.jsx("div",{className:"mb-4",children:t.jsx("img",{src:Due,alt:s("deployedApps.alt.globe"),className:"w-[56px] h-[56px] mx-auto"})}),t.jsx("h3",{className:"mb-2 text-[24px] font-medium text-white/80",children:s("deployedApps.emptyState.title")}),t.jsx("p",{className:"max-w-md text-white/30 font-medium text-[16px]",children:s("deployedApps.emptyState.description")}),t.jsxs("div",{className:"mt-7 bg-[#242119] rounded-[12px] p-[14px] flex items-center gap-2",children:[t.jsx("img",{src:Aue,alt:s("deployedApps.alt.credits"),className:"w-5 h-5"}),t.jsxs("span",{className:"text-[#F3CA5F] text-[15px] font-medium font-['Inter']",children:[t.jsx("span",{className:"text-[#E6D9B8]",children:s("deployedApps.emptyState.deploymentCosts")})," ",s("deployedApps.emptyState.creditsPerMonth")]})]})]})]}):t.jsxs("div",{className:"grid h-full grid-cols-1 gap-6 md:grid-cols-3",children:[a.map((x,y)=>t.jsx(AP,{deployment:x,index:y,hoveredCard:r,onHoverStart:i,onHoverEnd:()=>i(null),onClick:m},x.id)),h.map((x,y)=>t.jsx(Lf,{className:"bg-[#101011] hidden md:block border-[#282829] h-[290px] md:border-dotted"},`empty-${y}`))]})})}const Hp=({width:e=16,height:n=16,className:s,fill:r="white",fillOpacity:i=.6})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M2.3999 13.5999V9.77324L9.27546 2.92879C9.46212 2.74212 9.66953 2.60731 9.89768 2.52435C10.1258 2.44138 10.354 2.3999 10.5821 2.3999C10.831 2.3999 11.0695 2.44657 11.2977 2.5399C11.5258 2.63324 11.7332 2.77324 11.9199 2.9599L13.071 4.11101C13.2369 4.29768 13.3666 4.50509 13.4599 4.73324C13.5532 4.96138 13.5999 5.18953 13.5999 5.41768C13.5999 5.64583 13.5584 5.87916 13.4755 6.11768C13.3925 6.3562 13.2577 6.56879 13.071 6.75546L6.22657 13.5999H2.3999ZM4.26657 11.7332H5.44879L9.21324 7.93768L8.65324 7.34657L8.06212 6.78657L4.26657 10.551V11.7332ZM8.65324 7.34657L8.06212 6.78657L9.21324 7.93768L8.65324 7.34657Z",fill:r,fillOpacity:i})}),MP=({width:e=16,height:n=16,className:s,fill:r="#CCCCCC"})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.19913 3.2C7.06585 3.1998 6.9363 3.24398 6.83092 3.32557C6.72553 3.40716 6.65031 3.52152 6.61713 3.6506L6.44193 4.3346H9.69453L9.51873 3.6506C9.48557 3.52162 9.41044 3.40734 9.30518 3.32576C9.19991 3.24418 9.0705 3.19993 8.93733 3.2H7.19913ZM10.9335 4.3352L10.6809 3.3518C10.5815 2.96496 10.3562 2.62219 10.0405 2.37745C9.72485 2.13272 9.33675 1.99993 8.93733 2H7.19913C6.79971 1.99993 6.41161 2.13272 6.09595 2.37745C5.78028 2.62219 5.55498 2.96496 5.45553 3.3518L5.20293 4.3352H3.26553C3.1064 4.3352 2.95379 4.39841 2.84126 4.51094C2.72874 4.62346 2.66553 4.77607 2.66553 4.9352C2.66553 5.09433 2.72874 5.24694 2.84126 5.35946C2.95379 5.47199 3.1064 5.5352 3.26553 5.5352H3.32553L4.05453 12.3902C4.10151 12.8324 4.31049 13.2415 4.64118 13.5387C4.97188 13.8359 5.40088 14.0003 5.84553 14H10.2855C10.7301 14.0001 11.1589 13.8357 11.4895 13.5385C11.8201 13.2413 12.029 12.8323 12.0759 12.3902L12.8043 5.5352H12.8655C13.0247 5.5352 13.1773 5.47199 13.2898 5.35946C13.4023 5.24694 13.4655 5.09433 13.4655 4.9352C13.4655 4.77607 13.4023 4.62346 13.2898 4.51094C13.1773 4.39841 13.0247 4.3352 12.8655 4.3352H10.9335ZM11.5983 5.5352H4.53273L5.24793 12.2636C5.26365 12.4111 5.33341 12.5475 5.44376 12.6465C5.55412 12.7456 5.69724 12.8002 5.84553 12.8H10.2855C10.4337 12.8001 10.5767 12.7453 10.6869 12.6463C10.7971 12.5473 10.8668 12.4109 10.8825 12.2636L11.5977 5.5352H11.5983ZM6.86553 6.8C7.02466 6.8 7.17727 6.86321 7.28979 6.97574C7.40231 7.08826 7.46553 7.24087 7.46553 7.4V10.4C7.46553 10.5591 7.40231 10.7117 7.28979 10.8243C7.17727 10.9368 7.02466 11 6.86553 11C6.7064 11 6.55379 10.9368 6.44126 10.8243C6.32874 10.7117 6.26553 10.5591 6.26553 10.4V7.4C6.26553 7.24087 6.32874 7.08826 6.44126 6.97574C6.55379 6.86321 6.7064 6.8 6.86553 6.8ZM9.26553 6.8C9.42466 6.8 9.57727 6.86321 9.68979 6.97574C9.80231 7.08826 9.86553 7.24087 9.86553 7.4V10.4C9.86553 10.5591 9.80231 10.7117 9.68979 10.8243C9.57727 10.9368 9.42466 11 9.26553 11C9.1064 11 8.95379 10.9368 8.84126 10.8243C8.72874 10.7117 8.66553 10.5591 8.66553 10.4V7.4C8.66553 7.24087 8.72874 7.08826 8.84126 6.97574C8.95379 6.86321 9.1064 6.8 9.26553 6.8Z",fill:r})}),LP=({width:e=16,height:n=13,className:s})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M14.4 1.48148H7.2L5.6 0H1.6C0.72 0 0 0.666667 0 1.48148V4.44444H16V2.96296C16 2.14815 15.28 1.48148 14.4 1.48148Z",fill:"#999999"}),t.jsx("path",{d:"M14.4 2.66797H1.6C0.72 2.66797 0 3.29654 0 4.06479V11.0489C0 11.8172 0.72 12.4457 1.6 12.4457H14.4C15.28 12.4457 16 11.8172 16 11.0489V4.06479C16 3.29654 15.28 2.66797 14.4 2.66797Z",fill:"white"})]}),Mue=({width:e=17,height:n=13,className:s})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 17 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M1.5814 12.5263C1.14651 12.5263 0.774225 12.373 0.464535 12.0664C0.154845 11.7597 0 11.3911 0 10.9605V1.56579C0 1.1352 0.154845 0.766584 0.464535 0.459951C0.774225 0.153317 1.14651 0 1.5814 0H6.32558L7.90698 1.56579H14.2326C14.6674 1.56579 15.0397 1.71911 15.3494 2.02574C15.6591 2.33237 15.814 2.70099 15.814 3.13158H7.25465L5.67326 1.56579H1.5814V10.9605L3.47907 4.69737H14.5873C15.7883 4.69737 16.6483 5.85694 16.2998 7.0062L14.964 11.4107C14.8585 11.7499 14.6641 12.0207 14.3808 12.2229C14.0975 12.4252 13.7845 12.5263 13.4419 12.5263H1.5814ZM3.24186 10.9605H13.4419L14.8651 6.26316H4.66512L3.24186 10.9605Z",fill:"#999999"}),t.jsx("path",{d:"M15.8431 4.47266H3.99875C3.60455 4.47266 3.25679 4.73065 3.14246 5.10791L1.24454 11.3711C1.07042 11.9457 1.50044 12.5253 2.10082 12.5253H14.2158C14.6232 12.5253 14.9793 12.25 15.0817 11.8556L16.7091 5.5924C16.8563 5.02572 16.4286 4.47266 15.8431 4.47266Z",fill:"white"})]}),Lue=({isOpen:e,onClose:n,onAction:s,position:r,showMoveToProject:i=!0,showDelete:a=!0})=>{const o=d.useRef(null),[l,c]=d.useState(null);if(d.useEffect(()=>{const f=m=>{o.current&&!o.current.contains(m.target)&&n()};if(e)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[e,n]),!e)return null;const p=[{id:"rename",label:"Rename",icon:t.jsx(Hp,{width:20,height:20})},{id:"moveToProject",label:"Move to project",icon:t.jsx(LP,{width:20,height:16}),hoverIcon:t.jsx(Mue,{width:20,height:16})},{id:"delete",label:"Delete",icon:t.jsx(MP,{width:20,height:20})}].filter(f=>!(f.id==="moveToProject"&&!i||f.id==="delete"&&!a));return t.jsx("div",{className:"fixed inset-0 z-[10001]",style:{backgroundColor:"transparent"},children:t.jsx("div",{"data-testid":Rr.threeDotMenu,ref:o,className:"shadow-lg p-1.5 flex flex-col top-10 -left-[120px] rounded-xl border bg-[#18181A] border-[#242424] absolute",style:{top:r.top,left:r.left,transform:"translateX(-50%)"},children:p.map(f=>t.jsxs("button",{"data-testid":`menu-item-${f.id}`,onClick:()=>{s(f.id),n()},onMouseEnter:()=>c(f.id),onMouseLeave:()=>c(null),className:"text-left hover:bg-[#2C2C2E] transition-colors flex items-center gap-3 text-sm text-[#FFFFFF] justify-between w-[175px] h-9 rounded-lg py-2 px-1.5",children:[t.jsx("span",{className:"flex-shrink-0 relative w-5 h-4",children:f.hoverIcon?t.jsxs(t.Fragment,{children:[t.jsx(xe.span,{initial:!1,animate:{opacity:l===f.id?0:1},transition:{duration:.2,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center",children:f.icon}),t.jsx(xe.span,{initial:!1,animate:{opacity:l===f.id?1:0},transition:{duration:.2,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center",children:f.hoverIcon})]}):f.icon}),t.jsx("span",{className:"flex-1 font-medium",children:f.label}),f.hasExternalIcon&&f.externalIcon]},f.id))})})},RP=({isOpen:e,onClose:n,onSave:s,currentName:r})=>{const[i,a]=d.useState(r),{isMobile:o}=ps(),l=d.useRef(null);d.useEffect(()=>{e&&(a(r),setTimeout(()=>{l.current&&l.current.focus()},100))},[e,r]),d.useEffect(()=>{const f=h=>{h.key==="Escape"&&n()},m=h=>{h.key==="Enter"&&i.trim()&&c()};if(e)return document.addEventListener("keydown",f),document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keydown",m)}},[e,i,n]);const c=()=>{i.trim()&&i!==r&&s(i.trim()),n()},u=()=>{a(r),n()},p=f=>{f.target===f.currentTarget&&u()};return e?o?t.jsx(th,{open:e,onOpenChange:f=>!f&&n(),children:t.jsx(l8,{children:t.jsx("div",{className:"mx-auto w-full bg-[#1D1D1E] border border-[#333333] rounded-t-[24px]",children:t.jsxs("div",{className:"px-4 pt-6 pb-8",children:[t.jsx(sg,{className:"px-0 pt-0 pb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(c8,{className:"text-white font-['Brockmann'] font-medium text-[20px] leading-[28px]",children:"Rename task"}),t.jsx(o8,{asChild:!0,children:t.jsx("button",{onClick:u,className:"transition-colors rounded-lg p-1",children:t.jsx(Sl,{})})})]})}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{ref:l,type:"text",value:i,onChange:f=>a(f.target.value),className:"font-inter flex w-full h-14 rounded-xl border border-[#313133] p-4 gap-4 bg-[#313133] border-white/20 text-white placeholder:text-gray-500",placeholder:"Enter task name",maxLength:100})}),t.jsxs(rg,{className:"px-0 pb-0 flex-row gap-3 justify-end",children:[t.jsx("button",{onClick:u,className:"flex items-center justify-center h-12 rounded-[28px] bg-[#323233] cursor-pointer hover:bg-[#3a3a3b] transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-base leading-6 tracking-[0px] text-[#DCDCE5]",children:"Cancel"})}),t.jsx("button",{onClick:c,className:"flex items-center justify-center h-12 rounded-[28px] bg-white text-black cursor-pointer hover:bg-gray-100 transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-base leading-6 tracking-[-0.2px] text-[#0E0E0F]",children:"Save"})})]})]})})})}):t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10001] p-4",onClick:p,children:t.jsxs("div",{"data-testid":Rr.rename.modal,className:"flex flex-col w-full max-w-[644px] rounded-[20px] p-6 bg-[#262628]",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-white font-['Brockmann'] font-medium text-[23px] leading-[32px] tracking-[0%]",children:"Rename task"}),t.jsx("button",{onClick:u,className:"transition-colors rounded-lg",children:t.jsx(Sl,{})})]}),t.jsx("div",{className:"mb-6",children:t.jsx("input",{"data-testid":Rr.rename.input,ref:l,type:"text",value:i,onChange:f=>a(f.target.value),className:"font-inter flex w-full h-14 rounded-xl border border-[#313133] p-4 gap-4 bg-[#313133] border-white/20",placeholder:"Enter task name",maxLength:100})}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{"data-testid":Rr.rename.cancelButton,onClick:u,className:"flex items-center justify-center h-12 rounded-[28px] bg-[#323233] cursor-pointer hover:bg-[#3a3a3b] transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-base leading-6 tracking-[0px] text-[#DCDCE5]",children:"Cancel"})}),t.jsx("button",{"data-testid":Rr.rename.saveButton,onClick:c,className:"flex items-center justify-center h-12 rounded-[28px] bg-white text-black cursor-pointer hover:bg-gray-100 transition-colors duration-300 ease-out px-6 py-3",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-base leading-6 tracking-[-0.2px] text-[#0E0E0F]",children:"Save"})})]})]})}):null},VN=e=>{switch(e){case"gold":return"text-[#F3CA5F] drop-shadow-[0_0_20px_rgba(243,202,95,0.4)] [text-shadow:0px_0.73px_0.73px_rgba(0,0,0,0.1)]";case"red":return"text-[#CC5252]";case"warning":return"text-[#F59E0B]";default:return"text-white"}},p0=(e,n=!0)=>{const s="rounded-[10px] px-5 py-2.5 gap-1.5 text-[15px] font-medium leading-5 tracking-[-0.2px] font-['Brockmann'] transition-all duration-200";return e==="danger"?`${s} bg-[#CC5252] hover:bg-[#B73E3E] text-white ${n?"font-semibold":"font-medium"}`:e==="warning"?`${s} bg-[#F59E0B] hover:bg-[#D97706] text-white ${n?"font-semibold":"font-medium"}`:e==="secondary"?`${s} bg-white/[0.04] hover:bg-white/[0.08] text-white`:`${s} bg-[#F3CA5F] hover:bg-[#E7A93C] text-black ${n?"font-semibold":"font-medium"}`},Rue=e=>{switch(e){case"sm":return"w-full max-w-[400px] sm:w-[80%] md:w-[35%]";case"lg":return"w-full max-w-[800px] sm:w-[90%] md:w-[60%]";default:return"w-full max-w-[600px] sm:w-[85%] md:w-[45%]"}};function PP({isOpen:e,onClose:n,onConfirm:s,onCancel:r,title:i,description:a,headerContent:o,bodyContent:l,footerContent:c,primaryButton:u,secondaryButton:p,titleColor:f="white",showCloseIcon:m=!0,allowBackdropClose:h=!0,className:x,containerClassName:y,size:v="md",children:g}){const{isMobile:b}=ps();if(!e)return null;const w=j=>{h&&j.target===j.currentTarget&&n()},N=()=>{r?.()||n()};return b?t.jsx(th,{open:e,onOpenChange:j=>!j&&n(),children:t.jsx(l8,{children:t.jsx("div",{className:"mx-auto w-full bg-[#1C1C1F] border border-[#333333] rounded-t-[24px]",children:t.jsxs("div",{className:"px-4 pt-6 pb-8",children:[o?t.jsx(sg,{className:"px-0 pt-0 pb-4",children:o}):t.jsx(sg,{className:"px-0 pt-0 pb-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsx(c8,{className:`text-xl font-['Brockmann'] font-medium leading-6 ${VN(f)} flex-1 mr-4`,children:i}),m&&t.jsx(o8,{asChild:!0,children:t.jsx("button",{onClick:n,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:t.jsx(Sl,{width:24,height:24,className:"rounded-full"})})})]})}),l?t.jsx("div",{className:"mb-6",children:l}):g?t.jsx("div",{className:"mb-6",children:g}):a?t.jsx("div",{className:"mb-6",children:t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-white opacity-60 break-words",children:a})}):null,c?t.jsx(rg,{className:"px-0 pb-0",children:c}):u||p?t.jsxs(rg,{className:"px-0 pb-0 flex-row gap-3 justify-end",children:[p&&t.jsx("button",{onClick:N,disabled:p.disabled||p.loading,className:`${p0(p.variant||"secondary",!1)} ${p.disabled?"opacity-50 cursor-not-allowed":""} flex-1 sm:flex-none bg-transparent border border-white/20 hover:bg-white/10 transition-colors`,children:p.loading?"Loading...":p.text}),u&&t.jsx("button",{onClick:s,disabled:u.disabled||u.loading,className:`${p0(u.variant||"primary",!0)} ${u.disabled?"opacity-50 cursor-not-allowed":""} flex-1 sm:flex-none bg-[#CC5252] hover:bg-[#CC5252]-600 transition-colors gap-1.5`,children:u.loading?"Loading...":u.text})]}):null]})})})}):t.jsx(zn,{open:e,onOpenChange:j=>{j||n()},children:t.jsx(Us,{children:t.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 ${y||""}`,onClick:w,children:t.jsx("div",{"data-testid":Rr.confirmation.modal,className:`bg-[#1C1C1F] rounded-[20px] ${Rue(v)} relative max-h-[90vh] overflow-y-auto ${x||""}`,children:t.jsxs("div",{className:"flex flex-col p-5 md:p-6",children:[o?t.jsx("div",{className:"mb-5 md:mb-4",children:o}):t.jsxs("div",{className:"flex justify-between items-start mb-5 md:mb-4",children:[t.jsx("h1",{className:`text-xl md:text-2xl font-['Brockmann'] font-medium leading-6 md:leading-8 ${VN(f)} flex-1 mr-4`,children:i}),m&&t.jsx("button",{onClick:n,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors",children:t.jsx(Sl,{width:24,height:24,className:"rounded-full md:w-8 md:h-8"})})]}),l?t.jsx("div",{className:"mb-[50px] md:mb-14",children:l}):g?t.jsx("div",{className:"mb-[50px] md:mb-14",children:g}):a?t.jsx("div",{className:"mb-[50px] md:mb-14",children:t.jsx("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 text-white opacity-60 break-words",children:a})}):null,c?t.jsx("div",{className:"mt-auto",children:c}):u||p?t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-end mt-auto",children:[p&&t.jsx("button",{"data-testid":Rr.confirmation.cancelButton,onClick:N,disabled:p.disabled||p.loading,className:`${p0(p.variant||"secondary",!1)} ${p.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-transparent border border-white/20 hover:bg-white/10 transition-colors`,children:p.loading?"Loading...":p.text}),u&&t.jsx("button",{"data-testid":Rr.confirmation.confirmButton,onClick:s,disabled:u.disabled||u.loading,className:`${p0(u.variant||"primary",!0)} ${u.disabled?"opacity-50 cursor-not-allowed":""} w-full sm:w-auto bg-[#CC5252] hover:bg-[#CC5252]-600 transition-colors gap-1.5`,children:u.loading?"Loading...":u.text})]}):null]})})})})})}const $p=e=>{let n=0;for(let s=0;s<e.length;s++){const r=e.charCodeAt(s);n=(n<<5)-n+r,n=n&n}return Math.abs(n)},OP=(e,n)=>Math.floor(e/Math.pow(10,n)%10),_y=(e,n)=>!(OP(e,n)%2),Gi=(e,n,s)=>{const r=e%n;return s&&OP(e,s)%2===0?-r:r},Ud=(e,n,s)=>n[e%s],Pue=e=>{e.slice(0,1)==="#"&&(e=e.slice(1));const n=parseInt(e.substr(0,2),16),s=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16);return(n*299+s*587+r*114)/1e3>=128?"#000000":"#FFFFFF"},Oue=4,_r=80;function Bue(e,n){const s=$p(e),r=n&&n.length;return Array.from({length:Oue},(i,a)=>({color:Ud(s+a,n,r),translateX:Gi(s*(a+1),_r/2-(a+17),1),translateY:Gi(s*(a+1),_r/2-(a+17),2),rotate:Gi(s*(a+1),360),isSquare:_y(s,2)}))}const HN=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=Bue(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+_r+" "+_r,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:_r,height:_r,children:t.jsx("rect",{width:_r,height:_r,rx:r?void 0:_r*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:_r,height:_r,fill:o[0].color}),t.jsx("rect",{x:(_r-60)/2,y:(_r-20)/2,width:_r,height:o[1].isSquare?_r:_r/8,fill:o[1].color,transform:"translate("+o[1].translateX+" "+o[1].translateY+") rotate("+o[1].rotate+" "+_r/2+" "+_r/2+")"}),t.jsx("circle",{cx:_r/2,cy:_r/2,fill:o[2].color,r:_r/5,transform:"translate("+o[2].translateX+" "+o[2].translateY+")"}),t.jsx("line",{x1:0,y1:_r/2,x2:_r,y2:_r/2,strokeWidth:2,stroke:o[3].color,transform:"translate("+o[3].translateX+" "+o[3].translateY+") rotate("+o[3].rotate+" "+_r/2+" "+_r/2+")"})]})]})},Kc=90,Uue=5;function Vue(e,n){const s=$p(e),r=n&&n.length,i=Array.from({length:Uue},(o,l)=>Ud(s+l,n,r)),a=[];return a[0]=i[0],a[1]=i[1],a[2]=i[1],a[3]=i[2],a[4]=i[2],a[5]=i[3],a[6]=i[3],a[7]=i[0],a[8]=i[4],a}const Hue=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=Vue(e,n),l=tt.useId();return t.jsxs("svg",{viewBox:"0 0 "+Kc+" "+Kc,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:Kc,height:Kc,children:t.jsx("rect",{width:Kc,height:Kc,rx:r?void 0:Kc*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("path",{d:"M0 0h90v45H0z",fill:o[0]}),t.jsx("path",{d:"M0 45h90v45H0z",fill:o[1]}),t.jsx("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:o[2]}),t.jsx("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:o[3]}),t.jsx("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:o[4]}),t.jsx("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:o[5]}),t.jsx("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:o[6]}),t.jsx("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:o[7]}),t.jsx("circle",{cx:45,cy:45,r:23,fill:o[8]})]})]})},$ue=64,Yc=80;function zue(e,n){const s=$p(e),r=n&&n.length;return Array.from({length:$ue},(i,a)=>Ud(s%(a+1),n,r))}const Wue=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=zue(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+Yc+" "+Yc,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:Yc,height:Yc,children:t.jsx("rect",{width:Yc,height:Yc,rx:r?void 0:Yc*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:10,height:10,fill:o[0]}),t.jsx("rect",{x:20,width:10,height:10,fill:o[1]}),t.jsx("rect",{x:40,width:10,height:10,fill:o[2]}),t.jsx("rect",{x:60,width:10,height:10,fill:o[3]}),t.jsx("rect",{x:10,width:10,height:10,fill:o[4]}),t.jsx("rect",{x:30,width:10,height:10,fill:o[5]}),t.jsx("rect",{x:50,width:10,height:10,fill:o[6]}),t.jsx("rect",{x:70,width:10,height:10,fill:o[7]}),t.jsx("rect",{y:10,width:10,height:10,fill:o[8]}),t.jsx("rect",{y:20,width:10,height:10,fill:o[9]}),t.jsx("rect",{y:30,width:10,height:10,fill:o[10]}),t.jsx("rect",{y:40,width:10,height:10,fill:o[11]}),t.jsx("rect",{y:50,width:10,height:10,fill:o[12]}),t.jsx("rect",{y:60,width:10,height:10,fill:o[13]}),t.jsx("rect",{y:70,width:10,height:10,fill:o[14]}),t.jsx("rect",{x:20,y:10,width:10,height:10,fill:o[15]}),t.jsx("rect",{x:20,y:20,width:10,height:10,fill:o[16]}),t.jsx("rect",{x:20,y:30,width:10,height:10,fill:o[17]}),t.jsx("rect",{x:20,y:40,width:10,height:10,fill:o[18]}),t.jsx("rect",{x:20,y:50,width:10,height:10,fill:o[19]}),t.jsx("rect",{x:20,y:60,width:10,height:10,fill:o[20]}),t.jsx("rect",{x:20,y:70,width:10,height:10,fill:o[21]}),t.jsx("rect",{x:40,y:10,width:10,height:10,fill:o[22]}),t.jsx("rect",{x:40,y:20,width:10,height:10,fill:o[23]}),t.jsx("rect",{x:40,y:30,width:10,height:10,fill:o[24]}),t.jsx("rect",{x:40,y:40,width:10,height:10,fill:o[25]}),t.jsx("rect",{x:40,y:50,width:10,height:10,fill:o[26]}),t.jsx("rect",{x:40,y:60,width:10,height:10,fill:o[27]}),t.jsx("rect",{x:40,y:70,width:10,height:10,fill:o[28]}),t.jsx("rect",{x:60,y:10,width:10,height:10,fill:o[29]}),t.jsx("rect",{x:60,y:20,width:10,height:10,fill:o[30]}),t.jsx("rect",{x:60,y:30,width:10,height:10,fill:o[31]}),t.jsx("rect",{x:60,y:40,width:10,height:10,fill:o[32]}),t.jsx("rect",{x:60,y:50,width:10,height:10,fill:o[33]}),t.jsx("rect",{x:60,y:60,width:10,height:10,fill:o[34]}),t.jsx("rect",{x:60,y:70,width:10,height:10,fill:o[35]}),t.jsx("rect",{x:10,y:10,width:10,height:10,fill:o[36]}),t.jsx("rect",{x:10,y:20,width:10,height:10,fill:o[37]}),t.jsx("rect",{x:10,y:30,width:10,height:10,fill:o[38]}),t.jsx("rect",{x:10,y:40,width:10,height:10,fill:o[39]}),t.jsx("rect",{x:10,y:50,width:10,height:10,fill:o[40]}),t.jsx("rect",{x:10,y:60,width:10,height:10,fill:o[41]}),t.jsx("rect",{x:10,y:70,width:10,height:10,fill:o[42]}),t.jsx("rect",{x:30,y:10,width:10,height:10,fill:o[43]}),t.jsx("rect",{x:30,y:20,width:10,height:10,fill:o[44]}),t.jsx("rect",{x:30,y:30,width:10,height:10,fill:o[45]}),t.jsx("rect",{x:30,y:40,width:10,height:10,fill:o[46]}),t.jsx("rect",{x:30,y:50,width:10,height:10,fill:o[47]}),t.jsx("rect",{x:30,y:60,width:10,height:10,fill:o[48]}),t.jsx("rect",{x:30,y:70,width:10,height:10,fill:o[49]}),t.jsx("rect",{x:50,y:10,width:10,height:10,fill:o[50]}),t.jsx("rect",{x:50,y:20,width:10,height:10,fill:o[51]}),t.jsx("rect",{x:50,y:30,width:10,height:10,fill:o[52]}),t.jsx("rect",{x:50,y:40,width:10,height:10,fill:o[53]}),t.jsx("rect",{x:50,y:50,width:10,height:10,fill:o[54]}),t.jsx("rect",{x:50,y:60,width:10,height:10,fill:o[55]}),t.jsx("rect",{x:50,y:70,width:10,height:10,fill:o[56]}),t.jsx("rect",{x:70,y:10,width:10,height:10,fill:o[57]}),t.jsx("rect",{x:70,y:20,width:10,height:10,fill:o[58]}),t.jsx("rect",{x:70,y:30,width:10,height:10,fill:o[59]}),t.jsx("rect",{x:70,y:40,width:10,height:10,fill:o[60]}),t.jsx("rect",{x:70,y:50,width:10,height:10,fill:o[61]}),t.jsx("rect",{x:70,y:60,width:10,height:10,fill:o[62]}),t.jsx("rect",{x:70,y:70,width:10,height:10,fill:o[63]})]})]})},zr=36;function Gue(e,n){const s=$p(e),r=n&&n.length,i=Ud(s,n,r),a=Gi(s,10,1),o=a<5?a+zr/9:a,l=Gi(s,10,2),c=l<5?l+zr/9:l;return{wrapperColor:i,faceColor:Pue(i),backgroundColor:Ud(s+13,n,r),wrapperTranslateX:o,wrapperTranslateY:c,wrapperRotate:Gi(s,360),wrapperScale:1+Gi(s,zr/12)/10,isMouthOpen:_y(s,2),isCircle:_y(s,1),eyeSpread:Gi(s,5),mouthSpread:Gi(s,3),faceRotate:Gi(s,10,3),faceTranslateX:o>zr/6?o/2:Gi(s,8,1),faceTranslateY:c>zr/6?c/2:Gi(s,7,2)}}const $N=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=Gue(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+zr+" "+zr,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:zr,height:zr,children:t.jsx("rect",{width:zr,height:zr,rx:r?void 0:zr*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:zr,height:zr,fill:o.backgroundColor}),t.jsx("rect",{x:"0",y:"0",width:zr,height:zr,transform:"translate("+o.wrapperTranslateX+" "+o.wrapperTranslateY+") rotate("+o.wrapperRotate+" "+zr/2+" "+zr/2+") scale("+o.wrapperScale+")",fill:o.wrapperColor,rx:o.isCircle?zr:zr/6}),t.jsxs("g",{transform:"translate("+o.faceTranslateX+" "+o.faceTranslateY+") rotate("+o.faceRotate+" "+zr/2+" "+zr/2+")",children:[o.isMouthOpen?t.jsx("path",{d:"M15 "+(19+o.mouthSpread)+"c2 1 4 1 6 0",stroke:o.faceColor,fill:"none",strokeLinecap:"round"}):t.jsx("path",{d:"M13,"+(19+o.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:o.faceColor}),t.jsx("rect",{x:14-o.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:o.faceColor}),t.jsx("rect",{x:20+o.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:o.faceColor})]})]})]})},que=4,ua=80;function Kue(e,n){const s=$p(e),r=n&&n.length;return Array.from({length:que},(i,a)=>Ud(s+a,n,r))}const Yue=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=Kue(e,n),l=e.replace(/\s/g,""),c=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+ua+" "+ua,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:c,maskUnits:"userSpaceOnUse",x:0,y:0,width:ua,height:ua,children:t.jsx("rect",{width:ua,height:ua,rx:r?void 0:ua*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${c})`,children:[t.jsx("path",{fill:"url(#gradient_paint0_linear_"+l+")",d:"M0 0h80v40H0z"}),t.jsx("path",{fill:"url(#gradient_paint1_linear_"+l+")",d:"M0 40h80v40H0z"})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"gradient_paint0_linear_"+l,x1:ua/2,y1:0,x2:ua/2,y2:ua/2,gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:o[0]}),t.jsx("stop",{offset:1,stopColor:o[1]})]}),t.jsxs("linearGradient",{id:"gradient_paint1_linear_"+l,x1:ua/2,y1:ua/2,x2:ua/2,y2:ua,gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:o[2]}),t.jsx("stop",{offset:1,stopColor:o[3]})]})]})]})},Zue=3,zi=80;function Jue(e,n){const s=$p(e),r=n&&n.length;return Array.from({length:Zue},(i,a)=>({color:Ud(s+a,n,r),translateX:Gi(s*(a+1),zi/10,1),translateY:Gi(s*(a+1),zi/10,2),scale:1.2+Gi(s*(a+1),zi/20)/10,rotate:Gi(s*(a+1),360,1)}))}const BP=({name:e,colors:n,title:s,square:r,size:i,...a})=>{const o=Jue(e,n),l=d.useId();return t.jsxs("svg",{viewBox:"0 0 "+zi+" "+zi,fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:i,height:i,...a,children:[s&&t.jsx("title",{children:e}),t.jsx("mask",{id:l,maskUnits:"userSpaceOnUse",x:0,y:0,width:zi,height:zi,children:t.jsx("rect",{width:zi,height:zi,rx:r?void 0:zi*2,fill:"#FFFFFF"})}),t.jsxs("g",{mask:`url(#${l})`,children:[t.jsx("rect",{width:zi,height:zi,fill:o[0].color}),t.jsx("path",{filter:`url(#filter_${l})`,d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:o[1].color,transform:"translate("+o[1].translateX+" "+o[1].translateY+") rotate("+o[1].rotate+" "+zi/2+" "+zi/2+") scale("+o[2].scale+")"}),t.jsx("path",{filter:`url(#filter_${l})`,style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:o[2].color,transform:"translate("+o[2].translateX+" "+o[2].translateY+") rotate("+o[2].rotate+" "+zi/2+" "+zi/2+") scale("+o[2].scale+")"})]}),t.jsx("defs",{children:t.jsxs("filter",{id:`filter_${l}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),t.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"})]})})]})},Xue={pixel:Wue,bauhaus:HN,ring:Hue,beam:$N,sunset:Yue,marble:BP,geometric:$N,abstract:HN},cc=({variant:e="marble",colors:n=["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"],name:s="Clara Barton",title:r=!1,size:i="40px",square:a=!1,...o})=>{const l=Xue[e]||BP;return t.jsx(l,{colors:n,name:s,title:r,size:i,square:a,...o})},tp=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"],Di=(e,n)=>{if(e?.id==="personal"){const r=(n?.user_metadata?.name||n?.user_metadata?.full_name||n?.email?.split("@")[0]||"Personal").split(" ")[0];return r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()+"'s Project"}return e?.name||"Project"},_m=(e,n)=>{if(e?.id==="personal")return n("workspaceSelector.owner");const s=e?.role?.toLowerCase();return n(s==="owner"?"workspaceSelector.owner":s==="admin"?"workspaceSelector.admin":"workspaceSelector.memberRole")},jm=e=>{if(e?.id==="personal")return!0;const n=e?.role?.toUpperCase();return n==="ADMIN"||n==="OWNER"},Bo=e=>e?.id==="personal"?1:e?.members||1,Que=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"];function b8({isOpen:e,onOpenChange:n,onWorkspaceCreated:s,onCloseMenu:r,customSubmitText:i,customLoadingText:a}){const{t:o}=Jt("teams"),{newToast:l}=Fa(),{workspaces:c}=ys(),[u,p]=d.useState(""),[f,m]=d.useState("New Project"),[h,{isLoading:x}]=VD(),y=d.useRef(!1),v=()=>{const C=Math.random().toString(36).substring(2,15)+Date.now().toString(36);m(C)},g=c.some(C=>C.name.toLowerCase().trim()===u.toLowerCase().trim()),b=u.trim().length>0&&!g;d.useEffect(()=>{e?(y.current||(z(ii.CREATE_PROJECT_MODAL_OPENED),y.current=!0),r?.()):y.current=!1},[e,r]);const w=!Pv(),N=async()=>{if(b){z(ii.CREATE_PROJECT_SUBMIT_CLICKED,{workspaceName:u.trim()});try{const C=await h({name:u,description:""}).unwrap();l.success(o("teams.createWorkspace.workspaceCreated")),z(ii.WORKSPACE_CREATED_SUCCESSFULLY,{workspaceId:C.id,workspaceName:C.name}),w&&!Yu()&&Bv(),w&&_A(),n(!1),p(""),m("New Project"),s?.(C.id,C.name)}catch(C){l.error(C?.error||o("teams.createWorkspace.failedToCreate"))}}},j=C=>{C.preventDefault(),N()},_=()=>{n(!1),p(""),m("New Project")};return e?t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(Us,{children:t.jsx(ns,{children:t.jsxs("div",{className:"fixed inset-0 z-[999]",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:_}),t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative w-full max-w-[600px] bg-[#1A1A1C] rounded-2xl overflow-hidden",onClick:C=>C.stopPropagation(),children:[t.jsx("div",{className:"p-6 pb-0",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-[#E6E6E6] font-brockmann text-[20px] font-medium leading-7 tracking-[-0.5px]",children:o("teams.createWorkspace.title")}),t.jsxs("p",{className:"mt-2 text-[#E6E6E6] font-inter text-[14px] font-medium leading-5 opacity-40",children:[o("teams.createWorkspace.description")," ",t.jsx("a",{href:"https://help.emergent.sh/articles/205415-getting-started-with-projects",target:"_blank",rel:"noopener noreferrer",className:"text-[#80FFF9] hover:underline",children:o("teams.createWorkspace.learnMore")})]})]}),t.jsx("button",{type:"button",onClick:_,disabled:x,className:A("p-1.5 hover:bg-white/10 rounded-lg transition-colors",x&&"opacity-50 cursor-not-allowed"),"aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-white/60"})})]})}),t.jsx("div",{className:"flex justify-center py-8",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-[56px] h-[56px] rounded-full overflow-hidden",children:t.jsx(cc,{size:56,name:f,variant:"marble",colors:Que})}),t.jsx("button",{type:"button",onClick:v,disabled:x,className:A("absolute -right-2 -bottom-1 w-7 h-7 flex items-center justify-center rounded-full bg-[#303030] hover:bg-[#404040] border border-[#404040] transition-all duration-200",x&&"opacity-50 cursor-not-allowed"),"aria-label":"Randomize avatar gradient",title:"Randomize gradient",children:t.jsx(dR,{className:"w-3.5 h-3.5 text-white/80"})})]})}),t.jsx("div",{className:"px-6 pb-6",children:t.jsx("form",{onSubmit:j,children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"project-name",className:"block text-[15px] font-medium text-white font-inter",children:o("teams.createWorkspace.projectName")}),t.jsx(Ni,{type:"text",id:"project-name",value:u,onChange:C=>p(C.target.value),placeholder:o("teams.createWorkspace.placeholder"),className:A("w-full h-12 px-4 bg-transparent border rounded-lg text-white placeholder-white/40 focus-visible:ring-0 focus-visible:ring-offset-0",g?"border-red-500 focus:border-red-500":"border-[#404040] focus:border-[#606060]"),maxLength:100,disabled:x,autoFocus:!0}),g&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:o("teams.createWorkspace.duplicateName")})]})})}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-[#303030]",children:[t.jsx("button",{type:"button",onClick:_,disabled:x,className:"flex py-3 px-5 justify-center items-center gap-1 rounded-[12px] bg-[#303030] hover:bg-[#404040] text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o("teams.createWorkspace.cancel")}),t.jsx("button",{type:"button",onClick:N,disabled:!b||x,className:A("flex py-3 px-5 justify-center items-center gap-1 rounded-[12px] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] transition-all duration-200",b&&!x?"bg-white text-[#18181A] hover:bg-white/90":"bg-white/20 text-white/60 cursor-not-allowed"),children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),a||o("teams.createWorkspace.creating")]}):i||o("teams.createWorkspace.createProject")})]})]})})]})})})}):null}const epe=Object.freeze(Object.defineProperty({__proto__:null,CreateWorkspaceModal:b8},Symbol.toStringTag,{value:"Module"}));function UP({isOpen:e,onClose:n,onSave:s,jobId:r,jobName:i,currentProjectId:a,jobOrganizationId:o}){const{t:l}=Jt("home"),{t:c}=Jt("teams"),{user:u}=xs(),{workspaces:p,currentWorkspace:f}=ys(),{newToast:m}=Fa(),[h,x]=d.useState(""),[y,v]=d.useState(a||f),[g,b]=d.useState(!1),[w,{isLoading:N}]=SQ(),[j,{isLoading:_}]=kQ(),C=N||_,F=d.useMemo(()=>p?p.filter(P=>P.id==="personal"||P.role?.toLowerCase()==="owner"?Di(P,u).toLowerCase().includes(h.toLowerCase()):!1):[],[p,h,u]),E=d.useMemo(()=>o||"personal",[o]),S=P=>P===E,M=async()=>{if(!(!y||S(y))&&r){z(uu.TRANSFER_INITIATED,{jobId:r,fromLocation:E,toLocation:y});try{if(y==="personal"){if(!u?.id){m.error(l("recentTasks.moveToProject.errors.noUser","User not found"));return}await j({jobId:r,userId:u.id}).unwrap()}else await w({jobId:r,organizationId:y}).unwrap();z(uu.TRANSFER_SUCCESS,{jobId:r,fromLocation:E,toLocation:y}),s(y),n()}catch(P){z(uu.TRANSFER_FAILED,{jobId:r,fromLocation:E,toLocation:y,error:P?.data?.detail||P?.error||"Unknown error"});const R=P?.data?.detail||P?.error||l("recentTasks.moveToProject.errors.generic","Failed to move task. Please try again");m.error(R)}}},k=()=>{x(""),v(a||f),n()},I=()=>{C||(z(ii.CREATE_NEW_PROJECT_CLICKED,{source:"move_to_project_modal",jobId:r}),b(!0))},D=async(P,R)=>{if(b(!1),v(P),!!r){z(uu.TRANSFER_INITIATED,{jobId:r,fromLocation:E,toLocation:P,isNewProject:!0});try{await w({jobId:r,organizationId:P}).unwrap(),z(uu.TRANSFER_SUCCESS,{jobId:r,fromLocation:E,toLocation:P,isNewProject:!0}),s(P),n()}catch(B){z(uu.TRANSFER_FAILED,{jobId:r,fromLocation:E,toLocation:P,isNewProject:!0,error:B?.data?.detail||B?.error||"Unknown error"});const U=B?.data?.detail||B?.error||l("recentTasks.moveToProject.errors.generic","Failed to move task. Please try again");m.error(U)}}};return e?Gu.createPortal(t.jsxs(t.Fragment,{children:[t.jsx(ns,{children:t.jsxs("div",{className:"fixed inset-0 z-[999]",children:[t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:C?void 0:k}),t.jsx("div",{className:"flex items-center justify-center w-full h-full p-6",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"},className:"relative w-full max-w-[600px] bg-[#18181A] rounded-2xl overflow-hidden",onClick:P=>P.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 pb-2",children:[t.jsx("h2",{className:"text-white text-xl font-semibold font-brockmann",children:l("recentTasks.moveToProject.title","Move to project")}),t.jsx("button",{type:"button",onClick:k,disabled:C,className:"p-1 rounded-lg hover:bg-white/10 transition-colors disabled:opacity-50",children:t.jsx(Pt,{className:"w-5 h-5 text-white/60"})})]}),t.jsx("div",{className:"px-6 pb-4",children:t.jsxs("p",{className:"text-[#E6E6E6]/40 text-sm font-medium font-inter leading-5",children:[l("recentTasks.moveToProject.subtitle","Select a project to move the")," ",t.jsx("span",{className:"text-[#E6E6E6]/80",children:i})," ",l("recentTasks.moveToProject.subtitleEnd","into.")]})}),t.jsxs("div",{className:"mx-6 mb-4 bg-[#18181A] rounded-xl border border-[#242424] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-[#303033]",children:[t.jsx(vo,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:l("recentTasks.moveToProject.searchPlaceholder","Search projects"),value:h,onChange:P=>x(P.target.value),disabled:C,className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none disabled:opacity-50"})]}),t.jsxs("div",{className:"min-h-[280px] max-h-[280px] overflow-y-auto p-2 flex flex-col gap-2",children:[F.map(P=>{const R=y===P.id,B=S(P.id);return t.jsxs("button",{type:"button",onClick:()=>!C&&v(P.id),disabled:C,className:A("w-full flex items-center gap-3 px-4 py-3 transition-colors rounded-[12px] disabled:opacity-50",R?"bg-white/[0.08]":"hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:32,name:Di(P,u),variant:"marble",colors:tp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:"text-white text-sm font-medium truncate",children:Di(P,u)}),t.jsxs("p",{className:"text-white/50 text-xs",children:[_m(P,c),"  ",Bo(P)," ",Bo(P)===1?c("workspaceSelector.member","member"):c("workspaceSelector.members","members")]})]}),B&&t.jsx("span",{className:"px-2 py-0.5 text-sm font-medium text-white opacity-80 bg-white/[0.04] rounded-[6px] font-inter leading-5",children:l("recentTasks.moveToProject.current","Current")}),t.jsx("div",{className:A("w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-colors",R?"border-white":"border-white/30"),children:R&&t.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})]},P.id)}),F.length===0&&t.jsx("div",{className:"px-4 py-8 text-center",children:t.jsx("p",{className:"text-white/40 text-sm",children:l("recentTasks.moveToProject.noProjectsFound","No projects found")})})]}),t.jsx("div",{className:"border-t border-white/[0.08] p-[6px]",children:t.jsxs("button",{type:"button",onClick:I,disabled:C,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group disabled:opacity-50",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(_a,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:l("recentTasks.moveToProject.createNewProject","Create new project")})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-[#303033]",children:[t.jsx("button",{type:"button",onClick:k,disabled:C,className:"px-6 py-2.5 rounded-xl text-white text-sm font-medium bg-white/[0.08] hover:bg-white/[0.12] transition-colors disabled:opacity-50",children:l("recentTasks.moveToProject.cancel","Cancel")}),t.jsxs("button",{type:"button",onClick:M,disabled:!y||S(y||"")||C,className:A("px-6 py-2.5 rounded-xl text-sm font-medium transition-colors flex items-center gap-2",y&&!S(y)&&!C?"bg-white text-black hover:bg-white/90":"bg-white/[0.08] text-white/40 cursor-not-allowed"),children:[C&&t.jsx(ln,{className:"w-4 h-4 animate-spin"}),C?l("recentTasks.moveToProject.moving","Moving..."):l("recentTasks.moveToProject.saveChanges","Save Changes")]})]})]})})]})}),t.jsx(b8,{isOpen:g,onOpenChange:b,onWorkspaceCreated:D,customSubmitText:l("recentTasks.moveToProject.createAndMove","Create project and move job"),customLoadingText:l("recentTasks.moveToProject.creatingAndMoving","Creating...")})]}),document.body):null}const tpe=W.common.globeWhite,npe=W.common.globeActive,spe=W.icons.task,e4=(e,n=100)=>e.length>n?e.slice(0,n)+"...":e,f0=e=>{if(e?.state!=="ENV_INITIATED"||!e?.created_at)return!1;const n=new Date(e.created_at).getTime();return(Date.now()-n)/(1e3*60)<10};function rpe({jobs:e,handleJobClick:n,handleReload:s,reloading:r,setIsJobIdDialogOpen:i,loading:a=!1,refetchJobs:o,hasMore:l=!1,isLoadingMore:c=!1,onLoadMore:u}){const{t:p}=Jt("home"),f=Xo(),{currentWorkspace:m,isPersonalWorkspace:h}=ys(),{isCurrentWorkspaceOwner:x}=ni(),[y]=$D(),{newToast:v}=Fa(),{setTabs:g,getTabByJobId:b}=qr(),{user:w}=xs(),N=d.useRef(!1),j=d.useRef(null);d.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const _=J=>{N.current||(N.current=!0,n(J),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{N.current=!1,j.current=null},300))},[C,F]=d.useState("recent");d.useEffect(()=>{z(C==="recent"?s3.RECENT_TASKS_VIEWED:s3.DEPLOYED_TASKS_VIEWED,{userId:w?.id||"",section:C})},[C]);const E=d.useMemo(()=>typeof m=="object"?m?.id:m,[m]),S=d.useMemo(()=>{if(!e?.length)return[];const J=h();return e.filter(Ne=>{const ge=Ne.organization_id||Ne.payload?.organization_id;return J?!ge:ge===E})},[e,E,h]),M=J=>{const Ne=!!J.payload.forked_from;if(!!J.payload.remixed_from){const Ee=S.find(Se=>Se.id===J.payload.remixed_from),Ce=Ee?Ee.payload.original_task||Ee.payload.task:J.payload.remixed_from,Ae=S.filter(Se=>Se.payload.remixed_from===J.payload.remixed_from).sort((Se,ht)=>new Date(Se.created_at).getTime()-new Date(ht.created_at).getTime()).findIndex(Se=>Se.id===J.id)+1;return t.jsxs(ao,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:J.title?J.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsxs("span",{className:"text-[#80FFF9] text-[14px] font-medium font-inter",children:[p("recentTasks.remixed")," ",t.jsx("span",{className:"font-inter font-medium px-[6px] leading-[20px] rounded-[5px] bg-[#80FFF915]",children:Ae})," ",p("recentTasks.from")," "]}),"-"," ",t.jsx("span",{className:"font-inter text-opacity-50 text-[13px] lineheight-5 font-medium text-white",children:e4(Ce)})]})}else if(Ne){const Ee=S.find(Se=>Se.id===J.payload.forked_from),Ce=Ee?Ee.payload.original_task||Ee.payload.task:J.payload.forked_from,Ae=S.filter(Se=>Se.payload.forked_from===J.payload.forked_from).sort((Se,ht)=>new Date(Se.created_at).getTime()-new Date(ht.created_at).getTime()).findIndex(Se=>Se.id===J.id)+1;return t.jsxs(ao,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:J.title?J.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsxs("span",{className:"text-[#80FFF9] text-[14px] font-medium font-inter",children:[p("recentTasks.fork")," ",t.jsx("span",{className:"font-inter font-medium px-[6px] leading-[20px] rounded-[5px] bg-[#80FFF915]",children:Ae})," ",p("recentTasks.from")," "]}),"-"," ",t.jsx("span",{className:"font-inter text-opacity-50 text-[13px] lineheight-5 font-medium text-white",children:e4(Ce)})]})}else return t.jsxs(ao,{className:"text-[#FFFFFFCC] text-[13px] px-6 w-[45%]",children:[t.jsx("div",{className:"text-sm font-medium leading-6 tracking-normal text-white font-inter text-opacity-80 line-clamp-1",children:J.title?J.title:t.jsx("span",{className:"opacity-60",children:p("recentTasks.untitled")})}),t.jsx("span",{className:"font-inter font-medium text-[13px] lineheight-5 tracking-normal text-white align-middle text-opacity-50 line-clamp-2",children:e4(JSON.stringify(J.payload.task).replace(/"/g,""))||""})]})},[k,I]=d.useState({currentPage:1,tasksPerPage:50,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}},renameModalState:{isOpen:!1,jobId:null,currentName:""},deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1},moveToProjectModalState:{isOpen:!1,jobId:null,jobName:""}}),D=S.length,P=Math.ceil(D/k.tasksPerPage)||1,R=(k.currentPage-1)*k.tasksPerPage+1,B=Math.min(k.currentPage*k.tasksPerPage,D),U=J=>{J*k.tasksPerPage>S.length&&l&&u&&!c&&u(),J>=1&&(J<=P||l)&&I(ge=>({...ge,currentPage:Math.min(J,P)}))},H=J=>{I(Ne=>({...Ne,tasksPerPage:J,currentPage:1})),J>S.length&&l&&u&&!c&&u()},$=(J,Ne)=>{J.stopPropagation();const ge=J.currentTarget.getBoundingClientRect();I(Ee=>({...Ee,menuState:{isOpen:!0,jobId:Ne,position:{top:ge.bottom+2,left:ge.right-80}}}))},q=()=>{I(J=>({...J,menuState:{isOpen:!1,jobId:null,position:{top:0,left:0}}}))},Q=J=>{const Ne=e.find(ge=>ge.id===k.menuState.jobId);switch(J){case"rename":Ne&&I(Ee=>({...Ee,renameModalState:{isOpen:!0,jobId:Ne.id,currentName:Ne.title}}));break;case"moveToProject":Ne&&I(Ee=>({...Ee,moveToProjectModalState:{isOpen:!0,jobId:Ne.id,jobName:Ne.title||Ne.payload?.original_task||Ne.payload?.task||p("recentTasks.thisTask")},menuState:{...Ee.menuState,isOpen:!1}}));break;case"preview":_(Ne);break;case"share":break;case"delete":const ge=e.find(Ee=>Ee.id===k.menuState.jobId);ge&&I(Ee=>({...Ee,deleteModalState:{isOpen:!0,jobId:ge.id,jobName:ge.title||p("recentTasks.thisTask"),isDeleting:!1},menuState:{...Ee.menuState,isOpen:!1}}));break}},V=()=>{I(J=>({...J,renameModalState:{isOpen:!1,jobId:null,currentName:""}}))},ee=()=>{k.deleteModalState.isDeleting||I(J=>({...J,deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1}}))},[X]=zD(),ae=async()=>{if(k.deleteModalState.jobId){I(J=>({...J,deleteModalState:{...J.deleteModalState,isDeleting:!0}}));try{const J=await X({jobId:k.deleteModalState.jobId,deletedBy:w?.id||""}).unwrap();if(J?.success){v.success(J?.message||p("recentTasks.toast.deleteSuccess"));const Ne=b(k.deleteModalState.jobId);Ne?.id&&g(ge=>ge.filter(Ee=>Ee.id!==Ne.id)),o(),z(Du.JOB_REMOVED,{jobId:k.deleteModalState.jobId,deletedBy:w?.id||""})}else v.error(J?.message||p("recentTasks.toast.deleteFailed"))}catch(J){v.error(J?.data?.message||J?.message||p("recentTasks.toast.deleteError"))}finally{I(J=>({...J,deleteModalState:{isOpen:!1,jobId:null,jobName:"",isDeleting:!1}}))}}},me=()=>{I(J=>({...J,moveToProjectModalState:{isOpen:!1,jobId:null,jobName:""}}))},oe=async J=>{k.moveToProjectModalState.jobId&&(v.success(p("recentTasks.moveToProject.success","Task moved successfully")),me(),o())},pe=J=>{if(!J)return null;const Ne=e.find(ge=>ge.id===J);return Ne?.organization_id||Ne?.payload?.organization_id||null},se=()=>{const J=[];if(P<=5){for(let Ce=1;Ce<=P;Ce++)J.push(Ce);return J}let ge,Ee;k.currentPage<=3?(ge=1,Ee=5):k.currentPage>=P-2?(ge=P-5+1,Ee=P):(ge=k.currentPage-2,Ee=k.currentPage+2);for(let Ce=ge;Ce<=Ee;Ce++)J.push(Ce);return J},re=d.useMemo(()=>se(),[k.currentPage,P]),ve=J=>`flex items-center justify-center font-[Inter] text-[12px] hover:rounded-[8px] w-8 h-8 text-sm transition-colors ${J?"bg-[#2d2d2d] text-white bg-[#FFF]/5 border border-white/[6%] rounded-[8px]":"hover:bg-[#2d2d2d] text-[#8f8f98]"}`,we=d.useMemo(()=>{const J=(k.currentPage-1)*k.tasksPerPage,Ne=k.currentPage*k.tasksPerPage;return S.slice(J,Ne)},[S,k.currentPage,k.tasksPerPage]),be=async J=>{if(k.renameModalState.jobId)try{await y({job_id:k.renameModalState.jobId,title:J}).unwrap(),await o(),z(Du.JOB_NAME_UPDATED,{jobId:k.renameModalState.jobId,newName:J});const Ne=b(k.renameModalState.jobId);g(ge=>ge.map(Ee=>Ee.id===Ne?.id?{...Ee,tabHeading:J}:Ee)),v.success(p("recentTasks.toast.renameSuccess"))}catch{v.error(p("recentTasks.toast.renameFailed"))}},Ue=J=>{const Ne=J.updated_at||J.created_at,ge=Date.now()-new Date(Ne).getTime(),Ee=Math.floor(ge/(1e3*60));if(Ee<60)return Ee<1?p("recentTasks.time.fewSecondsAgo"):p("recentTasks.time.minAgo",{count:Ee});const Ce=Math.floor(Ee/60);if(Ce<24)return p("recentTasks.time.hrsAgo",{count:Ce<0?0:Ce});const Ie=Math.floor(Ce/24);return Ie>1?p("recentTasks.time.daysAgo",{count:Ie}):p("recentTasks.time.dayAgo",{count:Ie})},fe=()=>t.jsxs(lf,{className:"w-full hover:bg-transparent",children:[t.jsx(ao,{className:"rounded-l-lg w-[15%]",children:t.jsx("div",{className:"h-4 w-16 bg-[#252629] rounded animate-pulse"})}),t.jsx(ao,{className:"w-[45%]",children:t.jsx("div",{className:"h-4 w-full bg-[#252629] rounded animate-pulse "})}),t.jsx(ao,{className:"rounded-r-lg w-[20%]",children:t.jsx("div",{className:"h-4 bg-[#252629] rounded animate-pulse"})})]}),Me=()=>{const J=k.deleteModalState.jobId,Ne=!!J&&e?.some(ht=>ht?.payload?.forked_from===J),ge=!!J&&e?.some(ht=>ht?.payload?.remixed_from===J),Ee=e?.find(ht=>ht.id===J),Ce=Ee?.payload?.forked_from,Ie=Ee?.payload?.remixed_from;let Ae=null;Ce?Ae=e?.find(ht=>ht.id===Ce):Ie&&(Ae=e?.find(ht=>ht.id===Ie));const Se=!!((Ce||Ie)&&Ae);return t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[t.jsxs("span",{className:"text-white opacity-60 font-['Inter']",children:[p("recentTasks.deleteTask.confirmMessage")," "]}),t.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',k.deleteModalState.jobName,'"']}),t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:p("recentTasks.deleteTask.cannotUndo")})]}),Ne&&!Se&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:p("recentTasks.deleteTask.forkWarning")})]}),ge&&!Se&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:p("recentTasks.deleteTask.remixWarning")})]}),Se&&Ce&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:[p("recentTasks.deleteTask.forkedFromWarning")," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',Ae.title||Ae.payload?.original_task||Ae.payload?.task,'"']}),". ",p("recentTasks.deleteTask.parentUnaffected")]})]}),Se&&Ie&&t.jsxs("div",{className:"flex flex-col w-full h-24 rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:[p("recentTasks.deleteTask.remixedFromWarning")," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',Ae.title||Ae.payload?.original_task||Ae.payload?.task,'"']}),". ",p("recentTasks.deleteTask.originalUnaffected")]})]})]})};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex-col hidden px-4 space-y-5 md:flex",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[t.jsxs("div",{onClick:()=>F("recent"),className:"flex items-center space-x-1 cursor-pointer","data-testid":$a.recentTasksTab,children:[t.jsx("img",{alt:p("recentTasks.accessibility.recentTasksIcon"),src:spe,className:A("h-5 md:h-6 w-fit opacity-30",C==="recent"&&"opacity-100")}),t.jsx("h2",{className:A("text-[12px] md:text-lg text-white/30",C==="recent"&&"text-white"),children:p("recentTasks.title")})]}),t.jsx("div",{className:"w-[2px] h-[18px] bg-white/20"}),t.jsxs("div",{"data-testid":$a.deployedAppsTab,onClick:()=>F("deployed"),className:"flex items-center space-x-1 cursor-pointer",children:[t.jsx("img",{alt:p("recentTasks.accessibility.deployedAppsIcon"),src:C==="deployed"?npe:tpe,className:A("h-5 md:h-6  opacity-50 w-5 md:w-6",C==="deployed"&&"opacity-100")}),t.jsx("h2",{className:A("text-[12px] md:text-lg text-[#898E98]",C==="deployed"&&"bg-gradient-to-r from-[#80fff9] to-[#1588fc] text-transparent bg-clip-text"),children:p("recentTasks.deployedApps")})]})]}),t.jsxs("div",{className:"flex gap-2",children:[f&&t.jsx(Vt,{variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:()=>i(!0),children:t.jsx(_a,{className:"w-4 h-4"})}),C==="recent"&&t.jsx(Vt,{"data-testid":$a.reloadButton,variant:"ghost",size:"icon",className:"w-8 h-8 text-muted-foreground hover:bg-transparent",onClick:()=>{z(s3.RELOAD_CLICKED),s()},disabled:r||a,children:t.jsx(lN,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})]}),C==="recent"&&t.jsxs("div",{"data-testid":$a.list,className:"relative rounded-2xl border border-[#252629] bg-[rgba(15,15,16,0.01)] backdrop-blur-[2.5px] overflow-clip",children:[t.jsx("div",{className:"sticky top-0 z-10 mb-4",children:t.jsx("table",{className:"w-full border-separate border-spacing-0",children:t.jsx("thead",{children:t.jsxs("tr",{className:"bg-[#18181A]",children:[t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 rounded-tl-lg text-[12px] tracking-[1px] w-[15%] text-left",children:p("recentTasks.tableHeaders.id")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[45%] text-left",children:p("recentTasks.tableHeaders.task")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[20%] text-left",children:p("recentTasks.tableHeaders.lastModified")}),t.jsx("th",{className:"text-white/40 font-[Inter] font-normal px-6 py-3 text-[12px] tracking-[1px] w-[5%] text-left"})]})})})}),t.jsx("div",{className:"min-h-[500px] max-h-[500px] overflow-y-auto relative text-[12px]",children:t.jsxs(NP,{className:"relative w-full border-separate border-spacing-0",children:[t.jsx(FP,{className:"hidden",children:t.jsxs(lf,{className:"bg-[#18181A] hover:bg-[#18181A]",children:[t.jsx(wy,{className:"text-[#8F8F98] font-normal px-6 rounded-tl-lg text-sm font-jetbrains w-[15%]",children:p("recentTasks.tableHeaders.id")}),t.jsx(wy,{className:"text-[#8F8F98] font-normal px-6 text-sm font-jetbrains w-[45%]",children:p("recentTasks.tableHeaders.task")})]})}),t.jsx(EP,{className:"w-full",children:a?Array(5).fill(0).map((J,Ne)=>t.jsx(fe,{},`shimmer-${Ne}`)):S.length==0?t.jsx(lf,{className:"hover:bg-transparent",children:t.jsx(ao,{colSpan:3,className:"py-8 text-center hover:bg-transparent",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"text-[#8F8F98] text-sm",children:p("recentTasks.noTasks")}),t.jsx("div",{className:"text-[#92929A] text-xs max-w-lg",children:p("recentTasks.noTasksDescription")})]})})}):we.map(J=>t.jsxs(lf,{"data-testid":$a.taskRow(J.id),className:"hover:bg-[#1C1C1E] transition-colors cursor-pointer max-h-[68px]",onClick:()=>_(J),children:[t.jsx(ao,{className:"text-[#92929A] text-[12px] md:text-[14px] px-6 py-4 w-[15%] font-inter align-top leading-6",children:`EMT - ${J.id.slice(0,6)}`}),M(J),t.jsx(ao,{className:"text-[#C2C2CC] text-[12px] md:text-[14px] pl-8 pr-6 py-4 w-[20%] font-inter opacity-50 align-top leading-6",children:Ue(J)}),t.jsx(ao,{className:"pl-2 pr-0 py-4 w-[5%] text-right align-top",children:t.jsx("div",{className:"flex items-center justify-end gap-2 mr-6",children:t.jsx("button",{"data-testid":$a.taskOptionsButton(J.id),title:p("recentTasks.accessibility.options"),className:`pb-1.5 rounded transition-colors inline-flex items-center justify-center ${f0(J)?"opacity-50 cursor-not-allowed":""}`,onClick:Ne=>{Ne.stopPropagation(),f0(J)||$(Ne,J.id)},disabled:f0(J),children:t.jsx(jue,{className:`flex w-8 h-8 rounded-md p-1.5 gap-[11.43px] bg-white/[0.15] ${f0(J)?"opacity-40":"opacity-40 hover:opacity-80"}`,size:32})})})})]},J.id))})]})}),t.jsxs("div",{className:"flex items-center justify-between px-6 py-3 bg-[#18181a] text-[#8f8f98]",children:[t.jsx("p",{"data-testid":$a.count,className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40 w-[200px]",children:p("recentTasks.pagination.showing",{start:R,end:B,total:l?`${D}+`:D})}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{"data-testid":$a.paginationPrev,title:p("recentTasks.accessibility.previousPage"),onClick:()=>U(k.currentPage-1),disabled:k.currentPage===1,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(J9,{className:"object-contain w-6 h-6"})}),re.map(J=>t.jsx("button",{onClick:()=>U(J),className:ve(J===k.currentPage),children:J},J)),k.currentPage===P&&l&&t.jsx("button",{"data-testid":$a.paginationLoadMore,onClick:()=>u?.(),disabled:c,className:"flex items-center justify-center px-2 h-8 rounded-[8px] hover:bg-[#2d2d2d] text-[#80FFF9] text-[12px] font-[Inter] disabled:opacity-50 transition-colors",children:c?t.jsx(lN,{className:"w-4 h-4 animate-spin"}):"..."}),t.jsx("button",{"data-testid":$a.paginationNext,title:p("recentTasks.accessibility.nextPage"),onClick:()=>U(k.currentPage+1),disabled:k.currentPage===P&&!l,className:"flex items-center justify-center w-8 h-8 rounded-[8px] hover:bg-[#2d2d2d] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t.jsx(El,{className:"object-contain w-6 h-6"})})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx("p",{className:"text-[14px] font-[Inter] font-medium leading-4 text-white/40",children:p("recentTasks.pagination.tasksPerPage")}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{"data-testid":$a.perPageSelect,"aria-label":p("recentTasks.accessibility.selectTasksPerPage"),value:k.tasksPerPage,onChange:J=>H(Number(J.target.value)),className:"appearance-none bg-[#1A1A1A] font-[Inter] border px-3 py-1 pr-8 text-[#FFF] text-sm focus:outline-none focus:border-[#FFF] border-opacity-[12px] cursor-pointer rounded-[8px]",children:[t.jsx("option",{value:10,children:"10"}),t.jsx("option",{value:25,children:"25"}),t.jsx("option",{value:50,children:"50"})]}),t.jsx(Dr,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-3 h-3 pointer-events-none text-[#8f8f98]"})]})]})]})]}),C==="deployed"&&t.jsx(DP,{handleJobClick:_,organizationId:h()?void 0:m})]}),t.jsx(Lue,{isOpen:k.menuState.isOpen,onClose:q,onAction:Q,position:k.menuState.position,showMoveToProject:x,showDelete:x}),t.jsx(RP,{isOpen:k.renameModalState.isOpen,onClose:V,onSave:be,currentName:k.renameModalState.currentName}),k.deleteModalState.isOpen&&t.jsx(PP,{isOpen:k.deleteModalState.isOpen,onClose:ee,onConfirm:ae,title:p("recentTasks.deleteTask.title"),bodyContent:Me(),primaryButton:{text:p("recentTasks.deleteTask.confirm"),variant:"danger",loading:k.deleteModalState.isDeleting,disabled:k.deleteModalState.isDeleting},secondaryButton:{text:p("recentTasks.deleteTask.nevermind"),variant:"secondary",disabled:k.deleteModalState.isDeleting}}),t.jsx(UP,{isOpen:k.moveToProjectModalState.isOpen,onClose:me,onSave:oe,jobId:k.moveToProjectModalState.jobId||"",jobName:k.moveToProjectModalState.jobName,currentProjectId:m,jobOrganizationId:pe(k.moveToProjectModalState.jobId)})]})}const t4=()=>crypto.randomUUID(),ipe=({size:e=24,color:n="#22C55E",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M20 6L9 17L4 12",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),VP=({size:e=24,color:n="#EF4444",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});function HP({invitation:e,onAcceptInvitation:n,onDeclineInvitation:s,isAcceptingInvitation:r,variant:i="selector"}){const a=i==="switcher";return t.jsxs("div",{className:A("flex items-center gap-3 rounded-[8px] transition-colors  hover:bg-[#FFFFFF0D] cursor-pointer mb-2 p-2"),children:[t.jsx("div",{className:`rounded-full ${a?"w-8 h-8 p-2":"p-2"}`,style:{background:"linear-gradient(180deg, #364D36 0%, rgba(47, 66, 46, 0.593809) 40.62%, rgba(36, 51, 36, 0) 100%)"},children:t.jsx(h8,{size:a?16:24,color:"#37FF33"})}),t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsx("div",{className:"text-sm font-medium capitalize text-[#E6E6E6]",children:e.organization_name}),t.jsx("div",{className:A("text-[12px] font-medium font-inter text-[#CCCCCC] capitalize",a?"text-[12px] font-inter text-white/50":""),children:e?.role?.toLowerCase()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[s&&t.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),s(e.id,e.organization_name)},disabled:r,className:" transition-colors duration-200 rounded-full bg-[#FFFFFF1A]  disabled:opacity-50 disabled:cursor-not-allowed",title:"Decline Invitation",children:t.jsx(VP,{size:28,color:"#FFFFFF99",className:" bg-[#FFFFFF1A] rounded-full p-1"})}),t.jsx("button",{type:"button",onClick:o=>{o.stopPropagation(),n(e.id,e.organization_name)},disabled:r,className:"transition-colors duration-200 rounded-full bg-[#7BFF78] hover:bg-green-600/30 disabled:opacity-50 disabled:cursor-not-allowed",title:"Accept Invitation",children:r?t.jsx("div",{className:"w-4 h-4 text-green-400 border-2 border-current rounded-full border-t-transparent animate-spin"}):t.jsx(ipe,{size:28,color:"#000000",className:"bg-[#7BFF78] rounded-full p-1"})})]})]})}const y8=({size:e=16,color:n="#E8E8E6",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M8.43865 1.6001C9.07985 1.6001 9.59961 2.11988 9.59961 2.76103C9.59961 2.91653 9.70969 3.08344 9.90745 3.16182C9.96233 3.18356 10.0168 3.20625 10.0707 3.22979L10.1434 3.25557C10.3127 3.30343 10.4748 3.26076 10.5714 3.16416C11.0255 2.71063 11.7614 2.71115 12.2152 3.16494L12.8347 3.78447L12.9145 3.87275C13.2869 4.32919 13.2605 5.00287 12.8347 5.42823C12.7245 5.53847 12.6851 5.73408 12.7699 5.92823L12.8379 6.09228L12.8714 6.16182C12.9581 6.31554 13.1026 6.40008 13.2386 6.4001C13.8798 6.4001 14.3996 6.91988 14.3996 7.56103V8.43914C14.3996 9.08034 13.8798 9.6001 13.2386 9.6001C13.1026 9.6001 12.9582 9.68466 12.8714 9.83842L12.8379 9.90794C12.8161 9.96274 12.7934 10.0174 12.7699 10.0712C12.685 10.2655 12.7243 10.4615 12.8347 10.5719C13.2886 11.0259 13.2886 11.7618 12.8347 12.2157L12.2152 12.8352C11.7613 13.2891 11.0254 13.2891 10.5714 12.8352C10.4749 12.7387 10.3127 12.6961 10.1434 12.7439L10.0707 12.7704C10.0171 12.7938 9.96273 12.8159 9.90817 12.8376C9.71041 12.916 9.59977 13.0828 9.59961 13.2384C9.59961 13.8798 9.07929 14.4001 8.43793 14.4001H7.56133C6.91993 14.4001 6.39961 13.8798 6.39961 13.2384C6.39946 13.1022 6.31496 12.9576 6.16133 12.8712L6.09179 12.8376C6.03681 12.8159 5.98177 12.7932 5.92774 12.7696C5.73338 12.685 5.53792 12.7251 5.42774 12.8352C5.00238 13.261 4.32871 13.2874 3.87227 12.915L3.78399 12.8352L3.16445 12.2157C2.71067 11.7619 2.71015 11.026 3.16367 10.5719L3.20195 10.5267C3.27081 10.4288 3.29609 10.289 3.25508 10.1439L3.2293 10.0712C3.20576 10.0173 3.18307 9.96282 3.16133 9.90794C3.08295 9.71018 2.91604 9.6001 2.76055 9.6001C2.11939 9.6001 1.59961 9.08034 1.59961 8.43914V7.56103C1.59961 6.91988 2.11939 6.4001 2.76055 6.4001C2.91602 6.40008 3.0823 6.28987 3.16055 6.09228L3.2293 5.92823L3.25508 5.85557C3.29607 5.71039 3.27089 5.5705 3.20195 5.47275L3.16367 5.42823C2.70998 4.97453 2.70998 4.23817 3.16367 3.78447L3.78399 3.16416L3.87227 3.08447C4.32858 2.71224 5.00237 2.7388 5.42774 3.16416C5.53798 3.27438 5.73335 3.31456 5.92774 3.22979C5.98196 3.20613 6.03661 3.18288 6.09179 3.16103C6.28938 3.08279 6.39959 2.91651 6.39961 2.76103C6.39961 2.11988 6.91939 1.6001 7.56055 1.6001H8.43865ZM7.56055 2.4001C7.36123 2.4001 7.19961 2.56171 7.19961 2.76103C7.19959 3.29991 6.83431 3.72823 6.38633 3.90557C6.33973 3.92402 6.2931 3.94261 6.24727 3.96259C5.80447 4.15569 5.24263 4.11185 4.86133 3.73057C4.7377 3.60693 4.54707 3.59094 4.40664 3.68369L4.35039 3.73057L3.73008 4.35088C3.5888 4.49215 3.5888 4.72054 3.73008 4.86182C4.0875 5.21926 4.14847 5.73546 3.99571 6.16338L3.96211 6.24775C3.94212 6.29359 3.92353 6.34022 3.90508 6.38682C3.72775 6.8348 3.29942 7.20008 2.76055 7.2001C2.56123 7.2001 2.39961 7.36171 2.39961 7.56103V8.43914C2.39961 8.6385 2.56123 8.8001 2.76055 8.8001C3.29942 8.8001 3.7276 9.16562 3.90508 9.61338C3.92339 9.65954 3.94228 9.70546 3.96211 9.7509C4.15545 10.1938 4.11127 10.756 3.73008 11.1376C3.58863 11.2791 3.58858 11.5086 3.73008 11.6501L4.34961 12.2696L4.40664 12.3165C4.54705 12.4091 4.73779 12.3932 4.86133 12.2696C5.24267 11.888 5.80509 11.8436 6.24805 12.0368C6.29363 12.0567 6.33998 12.0755 6.38633 12.0939L6.46914 12.1306C6.87835 12.3258 7.19946 12.7333 7.19961 13.2384C7.19961 13.4379 7.36175 13.6001 7.56133 13.6001H8.43793C8.63745 13.6001 8.79961 13.4379 8.79961 13.2384C8.79977 12.6995 9.16505 12.2714 9.61289 12.0939C9.65905 12.0755 9.70497 12.0567 9.75041 12.0368L9.83473 12.0032C10.263 11.8502 10.7794 11.9119 11.1371 12.2696C11.2786 12.4111 11.5081 12.4111 11.6496 12.2696L12.2691 11.6501C12.4106 11.5086 12.4106 11.2791 12.2691 11.1376C11.8876 10.7561 11.8433 10.194 12.0371 9.7509C12.057 9.7053 12.0758 9.6589 12.0942 9.61258L12.1309 9.52978C12.3263 9.12114 12.7336 8.8001 13.2386 8.8001C13.438 8.8001 13.5996 8.6385 13.5996 8.43914V7.56103C13.5996 7.36171 13.438 7.2001 13.2386 7.2001C12.7334 7.20008 12.3261 6.8787 12.1309 6.46963L12.0942 6.38682L12.0363 6.24854C11.8426 5.8055 11.8875 5.24315 12.2691 4.86182C12.3927 4.73827 12.4086 4.54754 12.316 4.40713L12.2691 4.3501L11.6496 3.73057C11.5259 3.60685 11.3348 3.59112 11.1942 3.68369L11.1371 3.73057C10.7555 4.11176 10.1933 4.15594 9.75041 3.96259L9.61289 3.90557C9.16513 3.72809 8.79961 3.29991 8.79961 2.76103C8.79961 2.56171 8.63801 2.4001 8.43865 2.4001H7.56055ZM7.99961 5.6001C9.32513 5.6001 10.3996 6.67462 10.3996 8.0001C10.3996 9.32562 9.32513 10.4001 7.99961 10.4001C6.67413 10.4001 5.59961 9.32562 5.59961 8.0001C5.59961 6.67462 6.67413 5.6001 7.99961 5.6001ZM7.99961 6.4001C7.11595 6.4001 6.39961 7.11644 6.39961 8.0001C6.39961 8.88378 7.11595 9.6001 7.99961 9.6001C8.88329 9.6001 9.59961 8.88378 9.59961 8.0001C9.59961 7.11644 8.88329 6.4001 7.99961 6.4001Z",fill:n})});y8.propTypes={size:Xe.oneOfType([Xe.number,Xe.string]),color:Xe.string,className:Xe.string,onClick:Xe.func,onMouseEnter:Xe.func,onMouseLeave:Xe.func,style:Xe.object,"aria-label":Xe.string,"aria-hidden":Xe.bool,role:Xe.string,id:Xe.string,"data-testid":Xe.string};const $P=({size:e=20,width:n,height:s,fill:r="#17171A",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:[t.jsx("mask",{id:"mask0_2058_52086",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_2058_52086)",children:t.jsx("path",{d:"M10.4167 9.95703C10.8194 9.51259 11.1285 9.00564 11.3438 8.4362C11.559 7.86675 11.6667 7.27648 11.6667 6.66536C11.6667 6.05425 11.559 5.46398 11.3438 4.89453C11.1285 4.32509 10.8194 3.81814 10.4167 3.3737C11.25 3.48481 11.9444 3.85286 12.5 4.47786C13.0556 5.10286 13.3333 5.83203 13.3333 6.66536C13.3333 7.4987 13.0556 8.22786 12.5 8.85286C11.9444 9.47786 11.25 9.84592 10.4167 9.95703ZM15 16.6654V14.1654C15 13.6654 14.8889 13.1897 14.6667 12.7383C14.4444 12.2869 14.1528 11.8876 13.7917 11.5404C14.5 11.7904 15.1562 12.1133 15.7604 12.5091C16.3646 12.9049 16.6667 13.457 16.6667 14.1654V16.6654H15ZM16.6667 10.832V9.16536H15V7.4987H16.6667V5.83203H18.3333V7.4987H20V9.16536H18.3333V10.832H16.6667ZM6.66667 9.9987C5.75 9.9987 4.96528 9.67231 4.3125 9.01953C3.65972 8.36675 3.33333 7.58203 3.33333 6.66536C3.33333 5.7487 3.65972 4.96398 4.3125 4.3112C4.96528 3.65842 5.75 3.33203 6.66667 3.33203C7.58333 3.33203 8.36806 3.65842 9.02083 4.3112C9.67361 4.96398 10 5.7487 10 6.66536C10 7.58203 9.67361 8.36675 9.02083 9.01953C8.36806 9.67231 7.58333 9.9987 6.66667 9.9987ZM0 16.6654V14.332C0 13.8598 0.121528 13.4258 0.364583 13.0299C0.607639 12.6341 0.930556 12.332 1.33333 12.1237C2.19444 11.6931 3.06944 11.3702 3.95833 11.1549C4.84722 10.9397 5.75 10.832 6.66667 10.832C7.58333 10.832 8.48611 10.9397 9.375 11.1549C10.2639 11.3702 11.1389 11.6931 12 12.1237C12.4028 12.332 12.7257 12.6341 12.9688 13.0299C13.2118 13.4258 13.3333 13.8598 13.3333 14.332V16.6654H0ZM6.66667 8.33203C7.125 8.33203 7.51736 8.16884 7.84375 7.84245C8.17014 7.51606 8.33333 7.1237 8.33333 6.66536C8.33333 6.20703 8.17014 5.81467 7.84375 5.48828C7.51736 5.16189 7.125 4.9987 6.66667 4.9987C6.20833 4.9987 5.81597 5.16189 5.48958 5.48828C5.16319 5.81467 5 6.20703 5 6.66536C5 7.1237 5.16319 7.51606 5.48958 7.84245C5.81597 8.16884 6.20833 8.33203 6.66667 8.33203ZM1.66667 14.9987H11.6667V14.332C11.6667 14.1793 11.6285 14.0404 11.5521 13.9154C11.4757 13.7904 11.375 13.6931 11.25 13.6237C10.5 13.2487 9.74306 12.9674 8.97917 12.7799C8.21528 12.5924 7.44444 12.4987 6.66667 12.4987C5.88889 12.4987 5.11806 12.5924 4.35417 12.7799C3.59028 12.9674 2.83333 13.2487 2.08333 13.6237C1.95833 13.6931 1.85764 13.7904 1.78125 13.9154C1.70486 14.0404 1.66667 14.1793 1.66667 14.332V14.9987Z",fill:r})})]})},zP=({size:e,width:n=14,height:s=12,className:r=""})=>{const i=`gradient_tick_${tt.useId().replace(/:/g,"_")}`,a=e||n,o=e?e*12/14:s;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:o,viewBox:"0 0 14 12",fill:"none",className:r,children:[t.jsx("path",{d:"M4.59514 11.4989L0 6.90381L2.09408 4.80973L4.59514 7.31818L11.9059 0L14 2.09408L4.59514 11.4989Z",fill:`url(#${i})`}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:i,x1:"7",y1:"0",x2:"7",y2:"11.4989",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#00FF66"}),t.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]})},ape=()=>{const{t:e}=Jt("teams"),{user:n}=xs(),{currentWorkspace:s,workspaces:r,getCurrentWorkspaceData:i}=ys(),{toast:a}=ds(),o=Up(),l=i8(),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(""),[x,y]=d.useState(!1);d.useEffect(()=>{const P=()=>{x||u(!1)},R=()=>u(!0),B=()=>y(!0),U=()=>y(!1);return window.addEventListener("close-workspace-switcher",P),window.addEventListener("open-workspace-switcher",R),window.addEventListener("tour-started",B),window.addEventListener("tour-ended",U),()=>{window.removeEventListener("close-workspace-switcher",P),window.removeEventListener("open-workspace-switcher",R),window.removeEventListener("tour-started",B),window.removeEventListener("tour-ended",U)}},[x]),d.useEffect(()=>{c||h("")},[c]);const{data:v,isLoading:g,refetch:b}=Ri(void 0,{skip:!n}),[w,{isLoading:N}]=Zg(),[j,{isLoading:_}]=Jg(),C=P=>{if(s===P){u(!1);return}u(!1);const R=r.find($=>$.id===P),B=Di(R,n);z(ii.PROJECT_SWITCH_CLICKED,{fromWorkspace:s,toWorkspace:P,toWorkspaceName:B});const H=`${P==="personal"?Pd:sm(P)}?switching=${encodeURIComponent(B)}`;window.location.href=H},F=()=>{u(!1),f(!0),z(ii.CREATE_NEW_PROJECT_CLICKED,{source:"workspace_switcher",currentWorkspace:s})},E=(P,R)=>{C(P)},S=async(P,R)=>{try{await w({invitation_id:P}).unwrap(),a({title:e("workspaceSelector.toast.invitationAccepted"),description:e("workspaceSelector.toast.successfullyJoined",{name:R}),variant:"default"}),localStorage.removeItem("pending_invitation")}catch(B){a({title:e("workspaceSelector.toast.error"),description:B?.error||e("workspaceSelector.toast.failedToAccept"),variant:"destructive"})}},M=async(P,R)=>{try{await j({invitation_id:P}).unwrap(),a({title:e("workspaceSelector.toast.invitationDeclined"),description:e("workspaceSelector.toast.successfullyDeclined",{name:R}),variant:"default"})}catch(B){a({title:e("workspaceSelector.toast.error"),description:B?.data?.detail||e("workspaceSelector.toast.failedToDecline"),variant:"destructive"})}},k=()=>{z(ii.PROJECT_SETTINGS_CLICKED,{currentWorkspace:s}),o.open({initialTab:"general"})},I=()=>{z(ii.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:s,source:"project_switcher"}),l.open({organizationId:s})},D=i();return t.jsxs("div",{className:`relative flex justify-center ${x?"z-[10001]":""}`,"data-tour":"workspace-switcher",children:[t.jsxs("button",{type:"button","data-testid":yr.workspace.switcherButton,onClick:()=>{c||z(ii.PROJECT_SWITCHER_CLICKED,{currentWorkspace:s}),u(!c),b()},className:A("flex items-center gap-2 p-[10px] rounded-[31.689px] transition-all duration-200","bg-[#222224] hover:bg-[#2C2C2E] border-[1px] border-[#303033]"),children:[t.jsx("div",{className:"h-5 w-5 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:20,name:Di(D,n),variant:"marble",colors:tp})}),t.jsx("span",{"data-testid":yr.workspace.name,className:"text-white text-sm font-medium max-w-[150px] truncate",children:g?e("teams.loading"):Di(D,n)}),t.jsx(c2,{className:A("w-5 h-5 text-[#808080] transition-transform duration-200",!c&&"rotate-180")})]}),c&&t.jsxs("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-[320px] bg-[#222224] rounded-[16px] border border-[#303033] shadow-2xl overflow-hidden ${x?"z-[10001]":"z-50"}`,children:[r.length>2&&t.jsx("div",{className:"px-5 py-[10px] border-b border-[#303033]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vo,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:e("workspaceSelector.searchProjects")||"Search projects",value:m,onChange:P=>h(P.target.value),onBlur:()=>{m.trim()&&z(ii.PROJECT_SEARCH_USED,{searchTerm:m.trim(),source:"project_switcher"})},className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none font-brockmann"})]})}),t.jsxs("div",{className:"p-4 pb-[10px]",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:32,name:Di(D,n),variant:"marble",colors:tp})}),t.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[t.jsx("h3",{className:"text-white text-sm font-semibold truncate",children:Di(D,n)}),t.jsxs("p",{className:"text-[#808080] text-sm",children:[_m(D,e),"  ",Bo(D)," ",Bo(D)===1?e("workspaceSelector.member"):e("workspaceSelector.members")]})]}),t.jsx("div",{className:"flex-shrink-0 self-center",children:t.jsx(zP,{})})]}),s!=="personal"&&t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(Vt,{variant:"secondary",size:"sm",onClick:k,centerContent:!jm(D),className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(y8,{size:16,color:"#E8E8E6",className:"mr-2"}),e("workspaceSelector.settings")]}),jm(D)&&t.jsxs(Vt,{variant:"secondary",size:"sm",onClick:I,"data-tour":"invite-members-button",className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx($P,{size:16,fill:"#E8E8E6",className:"mr-2"}),e("workspaceSelector.inviteMembers")]})]})]}),r.length>1&&t.jsx("div",{children:t.jsx("div",{className:"px-[6px] pb-[6px] max-h-[240px] overflow-y-auto",children:r.filter(P=>P.id!==s).filter(P=>m===""||Di(P,n).toLowerCase().includes(m.toLowerCase())).map(P=>t.jsxs("div",{onClick:()=>C(P.id),className:"w-full flex items-center gap-3 p-[10px] rounded-[10px] hover:bg-[#2C2C2E] transition-all duration-200 group cursor-pointer",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:32,name:Di(P,n),variant:"marble",colors:tp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0 overflow-hidden",children:[t.jsx("p",{className:"text-white/80 group-hover:text-white text-sm font-medium truncate transition-colors duration-200",children:Di(P,n)}),t.jsxs("p",{className:"text-[#808080] text-xs font-inter font-medium",children:[_m(P,e),"  ",Bo(P)," ",Bo(P)===1?e("workspaceSelector.member"):e("workspaceSelector.members")]})]}),t.jsxs("button",{type:"button",onClick:R=>{R.stopPropagation(),C(P.id)},className:"opacity-0 group-hover:opacity-100 flex items-center gap-1.5 px-2.5 py-1.5 rounded-[8px] text-white/60 hover:text-white hover:bg-white/[0.04] transition-all duration-200 font-brockmann text-[14px] font-medium leading-4 tracking-[-0.2px]",children:[t.jsx(lR,{className:"w-4 h-4"}),t.jsx("span",{children:"Switch"})]})]},P.id))})}),!g&&v?.pending_invitations&&v.pending_invitations.length>0&&t.jsx("div",{className:"border-t border-[#303033] p-2",children:v.pending_invitations.map(P=>t.jsx(HP,{invitation:P,onAcceptInvitation:S,onDeclineInvitation:M,isAcceptingInvitation:N||_,variant:"switcher"},P.id))}),t.jsx("div",{className:"border-t border-white/[0.08] rounded-b-[10px] p-[6px]",children:t.jsxs("button",{type:"button",onClick:F,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(_a,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:e("workspaceSelector.createNewProject")})]})})]}),c&&!x&&t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),t.jsx(b8,{isOpen:p,onOpenChange:f,onWorkspaceCreated:E})]})},ope=W.discountModal.bg,lpe=W.discountModal.text,cpe=W.discountModal.assetOff,dpe=W.common.stars;function upe({isOpen:e,onOpenChange:n,onClaimDiscount:s,onClose:r}){const i=()=>{r?.(),n(!1)},a=()=>{s?.()};return e?t.jsx(ns,{children:t.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 w-full h-full z-[10001] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"max-w-[95vw] md:max-w-[900px] md:h-[700px] w-full max-h-[90dvh] relative bg-[#131314] text-white border border-[#1A1A1A] rounded-2xl overflow-hidden",children:[t.jsx("img",{src:ope,alt:"Background",className:"absolute inset-0 w-full h-full object-cover z-[0]"}),t.jsx("button",{title:"Close",className:"absolute top-4 right-4 md:top-6 md:right-6 z-[99] bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12] p-2 rounded-full transition-colors",onClick:i,children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative z-[10] flex flex-col items-center justify-center gap-[48px] h-full",children:[t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"flex justify-center",children:t.jsx("img",{src:lpe,alt:"Discount Text",className:"w-[320px] mt-[56px] max-w-full h-auto"})}),t.jsxs(xe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},onClick:a,className:"flex justify-center items-center gap-2 w-[300px] h-12 px-2 py-2 rounded-[30px] bg-gradient-to-b from-[#0F6] to-[#62ECFE] hover:opacity-90 transition-opacity",style:{boxShadow:"0 0 32.572px 0 rgba(98, 236, 254, 0.20), 0 0 32.572px 0 rgba(0, 255, 102, 0.50)"},children:[t.jsx("span",{className:"text-black font-semibold",children:"Subscribe Now"}),t.jsx("span",{children:t.jsx("img",{src:dpe,alt:"Stars",className:"w-6 h-6"})})]}),t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.2},className:"flex justify-center",children:t.jsx("img",{src:cpe,alt:"Discount Asset",className:"w-[320px] max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:a})})]})]})})}):null}const ppe=d.memo(({isOpen:e,onOpenChange:n})=>{const{isMobile:s}=ps(),{showPaymentLoading:r,hidePaymentModals:i,paymentModalState:a}=Vp(),{getCurrentOrganizationId:o}=ys(),l=d.useRef(ho()),c=d.useCallback(()=>{n(!1)},[n]),u=d.useCallback(async()=>{r("credits",4e4,l.current);try{const{url:p}=await yt.createCheckoutSession(5e3,!1,void 0,void 0,l.current,void 0,void 0);p?window.location.href=p:i()}catch(p){throw i(),Fn("checkout_session_api_error",p,{plan_type:"payment",currency:l.current}),p}},[c,r,i,yt,l]);return e?t.jsxs(t.Fragment,{children:[t.jsx(ns,{children:e&&t.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm",onClick:c,children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative w-full flex flex-col overflow-hidden rounded-2xl",style:{maxWidth:s?"95dvw":"800px",height:s?"85dvh":"640px",maxHeight:s?"90dvh":"95dvh",backgroundColor:"#151517"},onClick:p=>p.stopPropagation(),role:"dialog",children:[t.jsx("button",{type:"button",onClick:c,className:"absolute z-10 flex items-center justify-center w-8 h-8 transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-6 md:top-6 hover:bg-white/10",style:{color:"rgba(255, 255, 255, 0.8)",backgroundColor:"rgba(255, 255, 255, 0.05)"},"aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})}),t.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[t.jsx("img",{src:s?"https://assets.emergent.sh/assets/free_credits_mobile.png":"https://assets.emergent.sh/assets/free_credits.png",alt:"Free Credits",className:"absolute inset-0 w-full h-full object-cover pointer-events-none"}),t.jsx("div",{className:"absolute inset-x-0 flex items-center justify-center px-4",style:{bottom:s?"40px":"60px"},children:t.jsxs(xe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},whileHover:{scale:1.05,y:-4},whileTap:{scale:.98},onClick:u,className:"flex items-center justify-center gap-2 px-6 md:px-8 py-2 h-12 rounded-full cursor-pointer max-w-full",style:{width:s?"280px":"332px",background:"linear-gradient(90deg, #ffffff30, #00000050), #F3CA5F",boxShadow:`0px 0px 20px 0px #F3CA5F66,
                                    0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
                                    0px -1.45px 0px 0px #00000033 inset,
                                    0px 0.73px 0.73px 0.73px #0000001A`,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"shrink-0",children:[t.jsxs("g",{clipPath:"url(#clip0_739_14111_left)",children:[t.jsx("circle",{opacity:.1,cx:"12",cy:"12",r:"12",fill:"black"}),t.jsx("path",{d:"M12 2.40039C17.3019 2.40039 21.5996 6.69807 21.5996 12C21.5996 17.3019 17.3019 21.5996 12 21.5996C6.69807 21.5996 2.40039 17.3019 2.40039 12C2.40039 6.69807 6.69807 2.40039 12 2.40039ZM12.4902 7.90723C12.174 7.12368 11.9071 6.86135 11.5273 7.79688C10.6963 9.79141 9.70407 10.7423 7.75098 11.5654C7.55481 11.6561 7.20249 11.8136 7.2002 12C7.20273 12.1864 7.55262 12.344 7.75098 12.4346C9.70163 13.2553 10.6964 14.2077 11.5273 16.2021C11.9118 17.1549 12.1793 16.8557 12.4902 16.0918C13.3235 14.1641 14.2544 13.2699 16.2197 12.4346C16.4258 12.3363 16.7654 12.2055 16.7998 12.0098V11.9873C16.765 11.7934 16.428 11.6617 16.2197 11.5635V11.5654C14.2545 10.7301 13.3235 9.83574 12.4902 7.90723Z",fill:"black"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_739_14111_left",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),t.jsx("p",{className:"font-brockmann font-semibold text-lg md:text-xl leading-8 tracking-tight text-[#272728] whitespace-nowrap",style:{textShadow:"0 0 20px rgba(255, 255, 255, 0.6)"},children:"Claim 15k Free Credits"}),t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"shrink-0",children:[t.jsxs("g",{clipPath:"url(#clip0_739_14111_right)",children:[t.jsx("circle",{opacity:.1,cx:"12",cy:"12",r:"12",fill:"black"}),t.jsx("path",{d:"M12 2.40039C17.3019 2.40039 21.5996 6.69807 21.5996 12C21.5996 17.3019 17.3019 21.5996 12 21.5996C6.69807 21.5996 2.40039 17.3019 2.40039 12C2.40039 6.69807 6.69807 2.40039 12 2.40039ZM12.4902 7.90723C12.174 7.12368 11.9071 6.86135 11.5273 7.79688C10.6963 9.79141 9.70407 10.7423 7.75098 11.5654C7.55481 11.6561 7.20249 11.8136 7.2002 12C7.20273 12.1864 7.55262 12.344 7.75098 12.4346C9.70163 13.2553 10.6964 14.2077 11.5273 16.2021C11.9118 17.1549 12.1793 16.8557 12.4902 16.0918C13.3235 14.1641 14.2544 13.2699 16.2197 12.4346C16.4258 12.3363 16.7654 12.2055 16.7998 12.0098V11.9873C16.765 11.7934 16.428 11.6617 16.2197 11.5635V11.5654C14.2545 10.7301 13.3235 9.83574 12.4902 7.90723Z",fill:"black"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_739_14111_right",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})]})})]})]})})})}),a.isLoading&&t.jsx(Zd,{isOpen:a.isLoading,onOpenChange:i,paymentType:a.paymentType||"credits",amount:a.amount,currency:a.currency})]}):null}),fpe="pk_X807fuc0nfNQX8tFKDm3PatW0ZZNyDUd",mpe=["emergentlabsinc.partnerlinks.io","get.emergent.sh","trialcoig7l2s8gsenk14emergent.partnerlinks.io"];function hpe(e){const n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return n?n[2]:null}function WP(){return!!hpe("ps_partner_key")}function GP(e){return!!localStorage.getItem(`ps_signup_tracked_${e}`)}function xpe(e){localStorage.setItem(`ps_signup_tracked_${e}`,"true")}function gpe(){return new Promise((e,n)=>{if(window.growsumo?.createSignup){e();return}const s=document.createElement("script");s.src="https://js.partnerstack.com/v1/",s.type="text/javascript",s.async=!0,s.onload=()=>{try{window.growsumo?._initialize(fpe,mpe),setTimeout(e,500)}catch(r){n(r)}},s.onerror=n,document.head.appendChild(s)})}async function bpe(e,n,s){if(GP(e)||!WP())return!1;try{return await gpe(),window.growsumo?.createSignup?(window.growsumo.data.email=n,window.growsumo.data.customer_key=e,window.growsumo.data.name=s||"",new Promise(r=>{window.growsumo.createSignup(i=>{xpe(e),r(!0)})})):!1}catch{return!1}}const ype=W.common.foregroundImage,qP=d.memo(({isFreeUser:e})=>e?t.jsx(qn.img,{src:ype,alt:"Overlay",className:"fixed w-full top-0 right-0 bottom-0 left-0 h-full object-cover pointer-events-none z-[100]",initial:{opacity:0},animate:{opacity:.2},transition:{duration:1,ease:"easeOut"}}):null);qP.displayName="FreeUserBackground";const KP=d.memo(({isFreeUser:e,session:n,userName:s})=>{const{t:r}=Jt("home"),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},{isMobile:o}=ps();return t.jsx(Lf,{className:"flex bg-transparent border-0 max-md:items-center max-md:h-full max-md:flex md:space-y-1",children:t.jsx(lg,{className:"max-md:absolute max-md:w-full max-md:transform max-md:-translate-x-1/2 max-md:-translate-y-1/2 max-md:top-1/2 max-md:left-1/2 max-md:pb-[200px]",children:t.jsxs(qn.div,{variants:i,initial:"hidden",animate:"visible",className:"w-full",children:[o&&t.jsx(kP,{className:"flex items-center justify-center w-full h-6 md:py-1 mb-[10px] max-md:text-[14px] text-[16px]",children:t.jsx(qn.span,{variants:a,style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 22.43px rgba(98, 236, 254, 0.20), 0 0 22.43px rgba(0, 255, 102, 0.50)",fontWeight:400,lineHeight:"24px",letterSpacing:"1.6px",textTransform:"uppercase",textAlign:"center"},children:t.jsx("span",{className:"font-ndot",children:n?r("welcome.greetingWithName",{name:s}):r("welcome.greeting")})})}),t.jsx(SP,{className:"flex items-center justify-center w-full font-medium font-brockmann",children:t.jsx(qn.span,{"data-testid":EM.welcomeText,variants:a,transition:{duration:.8,ease:"easeOut",delay:.4},className:`animate-text bg-gradient-to-r text-center text-[6.7vw] md:text-[40px] max-text-[40px] from-[#80FFF9] to-[#F7E7D9] text-transparent bg-clip-text leading-[1.2] py-1 ${e?"[text-shadow:0_0_40px_rgba(232,232,230,0.40)]":""}`,children:t.jsx("span",{className:"",children:r(e?"welcome.taglineFree":"welcome.taglinePaid")})})}),e&&t.jsx(qn.p,{variants:a,transition:{duration:.8,ease:"easeOut",delay:.8},className:"flex items-center justify-center mt-4",children:t.jsx("p",{className:"text-center text-[#595959] max-md:text-[16px] md:text-[18px] font-medium leading-6 tracking-[-0.18px]",children:r("welcome.descriptionFree")})})]})})})});KP.displayName="WelcomeContent";const vpe=W.common.eLogo,YP=d.memo(({isFreeUser:e,jobs:n,showBottomPage:s,setShowBottomPage:r})=>{const{t:i}=Jt("home");return e?t.jsxs(t.Fragment,{children:[t.jsx(Xa,{children:n.length==0&&!s&&t.jsx(qn.div,{className:"max-md:hidden fixed -bottom-[60px] left-1/2 -translate-x-1/2 pointer-events-none z-[-1] w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,ease:"easeOut",opacity:{duration:.8,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.3,ease:"easeOut"}},children:t.jsx("img",{src:vpe,alt:i("bottomPageElements.emergentLogo"),className:"w-auto h-[400px] md:w-[350px] md:h-[350px] object-cover mx-auto"})})}),n.length==0&&!s&&t.jsxs(qn.div,{onClick:()=>r(!0),className:"max-md:hidden fixed bottom-5 inset-x-0 w-fit mx-auto flex justify-center items-center px-4 py-2 h-9 min-w-[42px] min-h-9 cursor-pointer bg-white/10 backdrop-blur-xl hover:backdrop-blur-xl rounded-[8px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.6,ease:"easeOut",opacity:{duration:.5,ease:"easeInOut"}},whileHover:{y:-4,transition:{duration:.2,ease:"easeOut"}},children:[t.jsx("p",{className:"text-[var(--text-tertiary)] select-none text-[16px] text-white leading-[18px]",children:i("bottomPageElements.exploreShowcases")}),t.jsx("div",{className:"ml-2",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[t.jsx("path",{d:"M4 13L8 9L12 13",stroke:"#858481",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 9L8 5L12 9",stroke:"#B9B9B7",strokeWidth:"0.886667",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}):null});YP.displayName="BottomPageElements";const wpe=W.seriesB.robot,Cpe=W.seriesB.eyes,_pe=W.seriesB.bannerBg,zN="series_b_celebration_closed",jpe=d.memo(()=>{const[e,n]=d.useState(()=>localStorage.getItem(zN)!=="true"),[s,r]=d.useState(!1),i=d.useRef(null),a=()=>{i.current&&i.current.play()},o=()=>{localStorage.setItem(zN,"true"),n(!1)};return t.jsx(Xa,{children:e&&t.jsxs(qn.div,{className:"fixed bottom-0 right-6 z-[50] hidden md:block",initial:{y:200,opacity:0},animate:{y:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:50,damping:15,delay:.8},onAnimationComplete:a,children:[t.jsx("button",{onClick:o,className:"absolute -top-2 -right-2 z-30 p-1 bg-white/40 hover:bg-white/60 rounded-full backdrop-blur-sm transition-colors",children:t.jsx(Pt,{size:16,className:"text-white"})}),t.jsxs("div",{className:"relative flex flex-col items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.jsx(qn.div,{className:"absolute -top-5  w-[250px] h-[200px] rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse, rgba(255, 255, 255, 1) 0%, transparent 70%)",filter:"blur(25px)"},initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3}}),t.jsx(qn.div,{className:"relative z-10 overflow-hidden cursor-pointer",animate:{rotate:s?-2:0,y:s?-2:0},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>window.open("https://x.com/emergentlabs/status/2013644671541748113","_blank"),children:t.jsx("video",{ref:i,muted:!0,playsInline:!0,className:"w-[180px] h-auto rounded-lg",children:t.jsx("source",{src:_pe,type:"video/webm"})})}),t.jsxs("div",{className:"relative -mt-2 z-20",children:[t.jsx("img",{src:wpe,alt:"Robot mascot",className:"w-[128px] h-auto"}),t.jsx("img",{src:Cpe,alt:"",className:"absolute top-7 left-[45%] transform -translate-x-1/2 w-[28px] h-auto pointer-events-none"})]})]})]})})});jpe.displayName="SeriesBCelebration";function v8({size:e=24,color:n="#FFD464",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_5965_64275",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_5965_64275)",children:t.jsx("path",{d:"M12 14.3C12.85 13.5167 13.5375 12.8708 14.0625 12.3625C14.5875 11.8542 14.9917 11.4167 15.275 11.05C15.5583 10.6833 15.75 10.3625 15.85 10.0875C15.95 9.8125 16 9.51667 16 9.2C16 8.6 15.7833 8.08333 15.35 7.65C14.9167 7.21667 14.4 7 13.8 7C13.45 7 13.1125 7.07083 12.7875 7.2125C12.4625 7.35417 12.2 7.55 12 7.8C11.8 7.55 11.5417 7.35417 11.225 7.2125C10.9083 7.07083 10.5667 7 10.2 7C9.6 7 9.08333 7.21667 8.65 7.65C8.21667 8.08333 8 8.6 8 9.2C8 9.51667 8.04583 9.80833 8.1375 10.075C8.22917 10.3417 8.41667 10.6583 8.7 11.025C8.98333 11.3917 9.38333 11.8292 9.9 12.3375C10.4167 12.8458 11.1167 13.5 12 14.3ZM5 21V5C5 4.45 5.19583 3.97917 5.5875 3.5875C5.97917 3.19583 6.45 3 7 3H17C17.55 3 18.0208 3.19583 18.4125 3.5875C18.8042 3.97917 19 4.45 19 5V21L12 18L5 21Z",fill:n})})]})}function n4({size:e=16,color:n="#0F0F10",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M4.466 1.5C3.906 1.5 3.43533 1.5 3.062 1.55C2.666 1.60333 2.304 1.72133 2.01267 2.01267C1.72133 2.304 1.60333 2.666 1.55 3.062C1.5 3.43533 1.5 3.906 1.5 4.466V4.53333C1.5 5.09333 1.5 5.564 1.55 5.93733C1.60333 6.33333 1.72133 6.69533 2.01267 6.98667C2.304 7.278 2.666 7.396 3.062 7.44933C3.43533 7.49933 3.906 7.49933 4.466 7.49933H4.53333C5.09333 7.49933 5.564 7.49933 5.93733 7.44933C6.33333 7.396 6.69533 7.278 6.98667 6.98667C7.278 6.69533 7.396 6.33333 7.44933 5.93733C7.49933 5.564 7.49933 5.09333 7.49933 4.53333V4.46667C7.49933 3.90667 7.49933 3.436 7.44933 3.06267C7.396 2.66667 7.278 2.30467 6.98667 2.01333C6.69533 1.722 6.33333 1.604 5.93733 1.55067C5.564 1.50067 5.09333 1.50067 4.53333 1.50067L4.466 1.5ZM11.466 1.5C10.906 1.5 10.4353 1.5 10.062 1.55C9.666 1.60333 9.304 1.72133 9.01267 2.01267C8.72133 2.304 8.60333 2.666 8.55 3.062C8.5 3.43533 8.5 3.906 8.5 4.466V4.53333C8.5 5.09333 8.5 5.564 8.55 5.93733C8.60333 6.33333 8.72133 6.69533 9.01267 6.98667C9.304 7.278 9.666 7.396 10.062 7.44933C10.4353 7.49933 10.906 7.49933 11.466 7.49933H11.534C12.094 7.49933 12.5647 7.49933 12.938 7.44933C13.334 7.396 13.696 7.278 13.9873 6.98667C14.2787 6.69533 14.3967 6.33333 14.45 5.93733C14.5 5.564 14.5 5.09333 14.5 4.53333V4.46667C14.5 3.90667 14.5 3.436 14.45 3.06267C14.3967 2.66667 14.2787 2.30467 13.9873 2.01333C13.696 1.722 13.334 1.604 12.938 1.55067C12.5647 1.50067 12.0947 1.50067 11.5347 1.50067L11.466 1.5ZM4.466 8.50467C3.906 8.50467 3.43533 8.50467 3.062 8.55467C2.666 8.608 2.304 8.726 2.01267 9.01733C1.72133 9.30867 1.60333 9.67067 1.55 10.0667C1.5 10.44 1.5 10.9107 1.5 11.4707V11.5387C1.5 12.0987 1.5 12.5693 1.55 12.9427C1.60333 13.3387 1.72133 13.7007 2.01267 13.992C2.304 14.2833 2.666 14.4013 3.062 14.4547C3.43533 14.5047 3.906 14.5047 4.466 14.5047H4.53333C5.09333 14.5047 5.564 14.5047 5.93733 14.4547C6.33333 14.4013 6.69533 14.2833 6.98667 13.992C7.278 13.7007 7.396 13.3387 7.44933 12.9427C7.49933 12.5693 7.49933 12.0987 7.49933 11.5387V11.4707C7.49933 10.9107 7.49933 10.4407 7.44933 10.0667C7.396 9.67067 7.278 9.30867 6.98667 9.01733C6.69533 8.726 6.33333 8.608 5.93733 8.55467C5.564 8.50467 5.09333 8.50467 4.53333 8.50467H4.466ZM11.466 8.50467C10.906 8.50467 10.4353 8.50467 10.062 8.55467C9.666 8.608 9.304 8.726 9.01267 9.01733C8.72133 9.30867 8.60333 9.67067 8.55 10.0667C8.5 10.44 8.5 10.9107 8.5 11.4707V11.5387C8.5 12.0987 8.5 12.5693 8.55 12.9427C8.60333 13.3387 8.72133 13.7007 9.01267 13.992C9.304 14.2833 9.666 14.4013 10.062 14.4547C10.4353 14.5047 10.906 14.5047 11.466 14.5047H11.534C12.094 14.5047 12.5647 14.5047 12.938 14.4547C13.334 14.4013 13.696 14.2833 13.9873 13.992C14.2787 13.7007 14.3967 13.3387 14.45 12.9427C14.5 12.5693 14.5 12.0987 14.5 11.5387V11.4707C14.5 10.9107 14.5 10.4407 14.45 10.0667C14.3967 9.67067 14.2787 9.30867 13.9873 9.01733C13.696 8.726 13.334 8.608 12.938 8.55467C12.5647 8.50467 12.094 8.50467 11.5347 8.50467H11.466Z",fill:n})})}function Npe({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_5965_65142",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("rect",{width:"16",height:"16",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_5965_65142)",children:t.jsx("path",{d:"M4.40281 13.7577V5.82403C4.40281 5.42825 4.54673 5.09243 4.83457 4.81658C5.12242 4.54074 5.46423 4.40281 5.86001 4.40281H13.7577C14.1534 4.40281 14.4923 4.54373 14.7741 4.82558C15.056 5.10742 15.1969 5.44624 15.1969 5.84202V11.5989L11.5989 15.1969H5.84202C5.44624 15.1969 5.10742 15.056 4.82558 14.7741C4.54373 14.4923 4.40281 14.1534 4.40281 13.7577ZM0.822781 3.86311C0.75082 3.46733 0.828777 3.11052 1.05665 2.7927C1.28453 2.47487 1.59636 2.27998 1.99214 2.20802L9.79984 0.822781C10.1956 0.75082 10.5524 0.828777 10.8703 1.05665C11.1881 1.28453 11.383 1.59636 11.4549 1.99214L11.6348 2.9636H10.1596L10.0337 2.244L2.244 3.62924L2.9636 7.695V12.7142C2.77171 12.6063 2.6068 12.4624 2.46888 12.2825C2.33095 12.1026 2.244 11.8987 2.20802 11.6708L0.822781 3.86311ZM5.84202 5.84202V13.7577H10.8792V10.8792H13.7577V5.84202H5.84202Z",fill:n})})]})}function Fpe({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M4.86338 1.68852C4.86338 1.30827 4.55513 1 4.17486 1C3.7946 1 3.48634 1.30827 3.48634 1.68852H4.86338ZM3.48634 6.6612C3.48634 7.04146 3.7946 7.34973 4.17486 7.34973C4.55513 7.34973 4.86338 7.04146 4.86338 6.6612H3.48634ZM1.68852 3.48634C1.30827 3.48634 1 3.7946 1 4.17486C1 4.55513 1.30827 4.86338 1.68852 4.86338V3.48634ZM6.6612 4.86338C7.04146 4.86338 7.34973 4.55513 7.34973 4.17486C7.34973 3.7946 7.04146 3.48634 6.6612 3.48634V4.86338ZM14.0701 10.5539C14.339 10.285 14.339 9.8491 14.0701 9.58021C13.8012 9.31132 13.3653 9.31132 13.0964 9.58021L14.0701 10.5539ZM9.58021 13.0964C9.31132 13.3653 9.31132 13.8012 9.58021 14.0701C9.84901 14.339 10.285 14.339 10.5539 14.0701L9.58021 13.0964ZM10.5539 9.58021C10.285 9.31132 9.84901 9.31132 9.58021 9.58021C9.31132 9.8491 9.31132 10.285 9.58021 10.5539L10.5539 9.58021ZM13.0964 14.0701C13.3653 14.339 13.8012 14.339 14.0701 14.0701C14.339 13.8012 14.339 13.3653 14.0701 13.0964L13.0964 14.0701ZM11.8252 5.97268C10.8322 5.97268 10.0273 5.16777 10.0273 4.17486H8.65024C8.65024 5.92829 10.0717 7.34973 11.8252 7.34973V5.97268ZM13.623 4.17486C13.623 5.16777 12.818 5.97268 11.8252 5.97268V7.34973C13.5786 7.34973 15 5.92829 15 4.17486H13.623ZM11.8252 2.37705C12.818 2.37705 13.623 3.18196 13.623 4.17486H15C15 2.42144 13.5786 1 11.8252 1V2.37705ZM11.8252 1C10.0717 1 8.65024 2.42144 8.65024 4.17486H10.0273C10.0273 3.18196 10.8322 2.37705 11.8252 2.37705V1ZM3.48634 1.68852V4.17486H4.86338V1.68852H3.48634ZM3.48634 4.17486V6.6612H4.86338V4.17486H3.48634ZM1.68852 4.86338H4.17486V3.48634H1.68852V4.86338ZM4.17486 4.86338H6.6612V3.48634H4.17486V4.86338ZM13.0964 9.58021L11.3382 11.3382L12.312 12.312L14.0701 10.5539L13.0964 9.58021ZM11.3382 11.3382L9.58021 13.0964L10.5539 14.0701L12.312 12.312L11.3382 11.3382ZM9.58021 10.5539L11.3382 12.312L12.312 11.3382L10.5539 9.58021L9.58021 10.5539ZM11.3382 12.312L13.0964 14.0701L14.0701 13.0964L12.312 11.3382L11.3382 12.312ZM3.21858 10.0273H5.13115V8.65024H3.21858V10.0273ZM5.97268 10.8689V12.7814H7.34973V10.8689H5.97268ZM5.13115 13.623H3.21858V15H5.13115V13.623ZM2.37705 12.7814V10.8689H1V12.7814H2.37705ZM3.21858 13.623C2.75382 13.623 2.37705 13.2462 2.37705 12.7814H1C1 14.0067 1.99329 15 3.21858 15V13.623ZM5.97268 12.7814C5.97268 13.2462 5.59591 13.623 5.13115 13.623V15C6.35644 15 7.34973 14.0067 7.34973 12.7814H5.97268ZM5.13115 10.0273C5.59591 10.0273 5.97268 10.4041 5.97268 10.8689H7.34973C7.34973 9.64355 6.35644 8.65024 5.13115 8.65024V10.0273ZM3.21858 8.65024C1.99329 8.65024 1 9.64355 1 10.8689H2.37705C2.37705 10.4041 2.75382 10.0273 3.21858 10.0273V8.65024Z",fill:n})})}function Epe({size:e=16,color:n="#FFFFFF",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsxs("g",{children:[t.jsx("rect",{x:"2.5",y:"2.5",width:"4",height:"7",rx:"0.5",stroke:n}),t.jsx("rect",{x:"13.5",y:"13.5",width:"4",height:"7",rx:"0.5",transform:"rotate(-180 13.5 13.5)",stroke:n}),t.jsx("rect",{x:"9.5",y:"2.5",width:"4",height:"1",rx:"0.5",fill:n,stroke:n}),t.jsx("rect",{x:"6.5",y:"13.5",width:"4",height:"1",rx:"0.5",transform:"rotate(-180 6.5 13.5)",fill:n,stroke:n})]})})}function cg({children:e,icon:n,iconPosition:s="left",bgColor:r="#FFFFFF",textColor:i="#000000",className:a="",disabled:o=!1,type:l="button",...c}){return t.jsxs("button",{type:l,disabled:o,className:A("flex rounded-[10px] py-2 items-center font-semibold text-[14px] gap-1 px-6 w-fit",a),style:{backgroundColor:r,color:i,boxShadow:"0px 0px 20px 0px #FFFFFF66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},...c,children:[n&&s==="left"&&n,e,n&&s==="right"&&n]})}function Spe({size:e=20,color:n="#0F0F10",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M10.499 4.12891C12.2374 4.19435 13.9188 4.7679 15.335 5.77832C16.751 6.78879 17.8405 8.19186 18.4678 9.81445C18.5101 9.93164 18.5101 10.0605 18.4678 10.1777C17.8405 11.8003 16.751 13.2034 15.335 14.2139C13.9188 15.2243 12.2374 15.7978 10.499 15.8633C8.7606 15.7979 7.07924 15.2242 5.66309 14.2139C4.24699 13.2035 3.15763 11.8003 2.53027 10.1777C2.48791 10.0605 2.48791 9.93164 2.53027 9.81445C3.15763 8.19186 4.24696 6.78876 5.66309 5.77832C7.07925 4.76792 8.76058 4.19428 10.499 4.12891ZM11.8252 6.79297C11.1917 6.53063 10.4947 6.46194 9.82227 6.5957C9.14975 6.72948 8.53173 7.06006 8.04688 7.54492C7.56228 8.02964 7.23243 8.64712 7.09863 9.31934C6.96486 9.99186 7.03349 10.6897 7.2959 11.3232C7.55832 11.9565 8.00232 12.4981 8.57227 12.8789C9.1424 13.2599 9.81333 13.4629 10.499 13.4629C11.4178 13.4614 12.2985 13.0959 12.9482 12.4463C13.5981 11.7964 13.9644 10.9151 13.9658 9.99609C13.9658 9.31042 13.7618 8.64043 13.3809 8.07031C12.9999 7.50018 12.4587 7.05537 11.8252 6.79297ZM10.5 7.86328C11.6783 7.86328 12.6338 8.81877 12.6338 9.99707C12.6336 11.1752 11.6782 12.1299 10.5 12.1299C9.32186 12.1298 8.36636 11.1752 8.36621 9.99707C8.36621 8.81882 9.32176 7.86336 10.5 7.86328Z",fill:n})})}function dg({size:e=20,color:n="black",className:s=""}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M18.7883 13.7126C18.8757 13.7997 18.945 13.9032 18.9923 14.0171C19.0397 14.1311 19.064 14.2532 19.064 14.3766C19.064 14.5 19.0397 14.6222 18.9923 14.7361C18.945 14.8501 18.8757 14.9536 18.7883 15.0407L16.9133 16.9157C16.7372 17.0918 16.4983 17.1908 16.2492 17.1908C16.0001 17.1908 15.7613 17.0918 15.5852 16.9157C15.409 16.7396 15.3101 16.5007 15.3101 16.2516C15.3101 16.0026 15.409 15.7637 15.5852 15.5876L15.8594 15.3133H15.6961C14.7511 15.3123 13.8199 15.0862 12.9796 14.6538C12.1394 14.2213 11.4142 13.595 10.8641 12.8266L7.60781 8.26491C7.2315 7.73905 6.73531 7.31042 6.16035 7.01451C5.58539 6.71861 4.9482 6.56395 4.30156 6.56334H2.5C2.25136 6.56334 2.0129 6.46457 1.83709 6.28876C1.66127 6.11294 1.5625 5.87449 1.5625 5.62584C1.5625 5.3772 1.66127 5.13875 1.83709 4.96293C2.0129 4.78712 2.25136 4.68834 2.5 4.68834H4.30156C5.24657 4.68939 6.17775 4.91548 7.01802 5.34791C7.85829 5.78034 8.58349 6.40667 9.13359 7.17506L12.3922 11.7368C12.7685 12.2626 13.2647 12.6913 13.8397 12.9872C14.4146 13.2831 15.0518 13.4377 15.6984 13.4383H15.8594L15.5844 13.1641C15.4083 12.988 15.3093 12.7491 15.3093 12.5001C15.3093 12.251 15.4083 12.0121 15.5844 11.836C15.7605 11.6599 15.9994 11.5609 16.2484 11.5609C16.4975 11.5609 16.7364 11.6599 16.9125 11.836L18.7883 13.7126ZM11.318 8.03913C11.5051 8.20277 11.7495 8.28541 11.9976 8.26885C12.2456 8.2523 12.4769 8.13791 12.6406 7.95084C13.022 7.51498 13.4921 7.16568 14.0195 6.92638C14.5469 6.68708 15.1193 6.5633 15.6984 6.56334H15.8594L15.5844 6.83756C15.4083 7.01368 15.3093 7.25255 15.3093 7.50163C15.3093 7.7507 15.4083 7.98957 15.5844 8.16569C15.7605 8.34181 15.9994 8.44075 16.2484 8.44075C16.4975 8.44075 16.7364 8.34181 16.9125 8.16569L18.7875 6.29069C18.8749 6.20359 18.9442 6.1001 18.9916 5.98614C19.0389 5.87219 19.0632 5.75001 19.0632 5.62663C19.0632 5.50324 19.0389 5.38106 18.9916 5.26711C18.9442 5.15315 18.8749 5.04966 18.7875 4.96256L16.9125 3.08756C16.7364 2.91144 16.4975 2.8125 16.2484 2.8125C15.9994 2.8125 15.7605 2.91144 15.5844 3.08756C15.4083 3.26368 15.3093 3.50255 15.3093 3.75163C15.3093 4.0007 15.4083 4.23957 15.5844 4.41569L15.8594 4.68834H15.6961C14.8495 4.68875 14.0127 4.87021 13.242 5.22054C12.4712 5.57088 11.7843 6.08199 11.2273 6.71959C11.065 6.90685 10.9833 7.15079 11.0003 7.39807C11.0173 7.64534 11.1315 7.87583 11.318 8.03913ZM8.68203 11.9626C8.49491 11.7989 8.25046 11.7163 8.00242 11.7328C7.75439 11.7494 7.52309 11.8638 7.35938 12.0508C6.97804 12.4867 6.50792 12.836 5.98053 13.0753C5.45315 13.3146 4.8807 13.4384 4.30156 13.4383H2.5C2.25136 13.4383 2.0129 13.5371 1.83709 13.7129C1.66127 13.8887 1.5625 14.1272 1.5625 14.3758C1.5625 14.6245 1.66127 14.8629 1.83709 15.0388C2.0129 15.2146 2.25136 15.3133 2.5 15.3133H4.30156C5.14819 15.3129 5.98494 15.1315 6.75568 14.7811C7.52642 14.4308 8.21332 13.9197 8.77031 13.2821C8.93299 13.0951 9.01503 12.8514 8.99848 12.6041C8.98194 12.3568 8.86816 12.1262 8.68203 11.9626Z",fill:n})})}const ZP=({jobId:e,showcaseDetails:n,onRemixSuccess:s})=>{const{toast:r}=ds(),[i,{isLoading:a}]=NQ(),{user:o}=xs();return{handleRemixClick:d.useCallback(async()=>{if(z("showcase_remix_clicked",{showcase_id:n?.id,showcase_title:n?.title,job_id:e,category:n?.category}),!e||!o?.id){z("showcase_remix_failed",{showcase_id:n?.id,showcase_title:n?.title,job_id:e,error:"Missing job ID or user ID"}),r({title:"Error",description:"Unable to remix template. Please try again.",variant:"destructive"});return}if(!n){z("showcase_remix_failed",{job_id:e,error:"Showcase details not available"}),r({title:"Error",description:"Showcase details not available.",variant:"destructive"});return}try{const c=await i({job_id:e,title:n.title,preview_url:n.preview_url,summary:n.details?.description||n.title}).unwrap();c.status==="success"&&(z("showcase_remix_success",{showcase_id:n.id,showcase_title:n.title,original_job_id:e,new_job_id:c.new_job_id,category:n.category}),r({title:"Success",description:c.message||"Template remixed successfully!"}),c.new_job_id&&s&&s(c.new_job_id,n))}catch(c){z("showcase_remix_failed",{showcase_id:n.id,showcase_title:n.title,job_id:e,category:n.category,error:c?.error||c?.data?.detail||c?.data?.error||"Unknown error"}),r({title:"Remix Failed",description:c?.error||c?.data?.detail||c?.data?.error||"Failed to remix template. Please try again.",variant:"destructive"})}},[e,o?.id,n,i,r,s]),isRemixing:a}};function kpe({title:e,category:n,jobId:s,onPreviewClick:r,onRemixClick:i,onRemixSuccess:a,image_url:o,showcaseDetails:l}){const{t:c}=Jt("showcase"),{userDetails:u}=xs(),p=(u?.showcase_remix_enabled??!1)&&!n.toLowerCase().includes("mobile"),{handleRemixClick:f,isRemixing:m}=ZP({jobId:s,showcaseDetails:l,onRemixSuccess:h=>{a?a(h,l):i&&i()}});return t.jsxs("div",{"data-testid":Ss.showcase.card,className:"flex flex-col gap-[10px] group",children:[t.jsxs("div",{onClick:r,className:"relative p-1 border border-[#FFFFFF1F] rounded-[12px] overflow-clip cursor-pointer hover:border-[#FFFFFF33] hover:-translate-y-1 transition-all duration-300",children:[t.jsx("img",{"data-testid":Ss.showcase.cardImage,alt:e,src:o,className:"rounded-[8px] w-full min-h-[200px] object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-[#00000033] rounded-[12px] max-md:hidden opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto transition-opacity flex items-center justify-center gap-2",onClick:h=>h.stopPropagation(),children:[t.jsx(cg,{"data-testid":Ss.showcase.cardPreviewButton,className:"px-4",icon:t.jsx(Spe,{}),onClick:()=>{r?.()},children:c("showcase.preview")}),p&&t.jsx(cg,{"data-testid":Ss.showcase.cardRemixButton,className:"px-4",icon:t.jsx(dg,{}),onClick:()=>{s&&l?f():i?.()},disabled:m,children:c(m?"showcase.remixing":"showcase.remixButton")})]})]}),t.jsxs("div",{className:"flex flex-col cursor-pointer",onClick:r,children:[t.jsx("div",{className:"flex justify-between w-full ",children:t.jsx("span",{"data-testid":Ss.showcase.cardTitle,className:"text-[15px] text-white/80 font-medium tracking-[-0.1px] group-hover:text-[#FFFFFF] transition-colors",children:e})}),t.jsx("span",{"data-testid":Ss.showcase.cardCategory,className:"font-medium text-white/40 font-inter text-[14px] group-hover:text-[#FF8C66] transition-colors",children:n})]})]})}function Tpe(){return t.jsxs("div",{className:"flex flex-col gap-[10px] animate-pulse",children:[t.jsx("div",{className:"p-1 border border-[#FFFFFF1F] rounded-[12px]",children:t.jsx("div",{className:"w-full h-[200px] bg-[#FFFFFF1F] rounded-[8px]"})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex justify-between w-full",children:[t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-2/3"}),t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-20"})]}),t.jsx("div",{className:"h-4 bg-[#FFFFFF1F] rounded w-1/3"})]})]})}const Ipe={landing:If,advanced:Epe,business:Npe,personal:Fpe,mobile:Af};function JP({onModalClose:e}){const{t:n}=Jt("showcase"),[s,r]=d.useState("all"),[i,a]=d.useState(6),[o,l]=d.useState(!1),{setTabs:c,setActiveTab:u,updateTabState:p,getTabByJobId:f}=qr(),m=Na(),{getCurrentOrganizationId:h}=ys(),{config:x}=yc(),y=x?.showcases,v=!x,g=d.useMemo(()=>{if(!y?.categories)return[{label:n("showcase.all"),value:"all",icon:n4}];const E={label:n("showcase.all"),value:"all",icon:n4},S=y.categories.map(M=>({label:M.name,value:M.id,icon:Ipe[M.id]||n4}));return[E,...S]},[y?.categories,n]),b=(E,S)=>{const M=f(E),k=h(),I=k?"organization":"user";if(M&&M.level===I){u(M.id);const U=h(),H=U?`/workspace/${U}/chat`:"/chat";m(`${H}?id=${E}`),e?.();return}const D=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,P=`/root/runs/${E}/trajectory.json`,R=k?`/workspace/${k}/chat`:"/chat",B={containerId:E,jobId:E,title:`${S.title} ${n("showcase.remix")}`,trajPath:P,tabId:D,fromJobList:!1,isCloudFlow:!0,tabHeading:`${S.title} ${n("showcase.remix")}`,isRemix:!0};c(U=>[...U,{id:D,title:`${S.title} ${n("showcase.remix")}`,tabHeading:`${S.title} ${n("showcase.remix")}`,path:R,level:I,organization_id:k}]),p(D,B),u(D),m(`${R}?id=${E}`),z("showcase_remix_success",{showcase_id:S.id,showcase_title:S.title,original_job_id:S.job_id,new_job_id:E,active_filter:s}),e?.()},w=async E=>{const S=g.find(U=>U.value===E.category)?.label||E.category;if(z("showcase_preview_clicked",{showcase_id:E.id,showcase_title:E.title,category:E.category,category_name:S,job_id:E.job_id,active_filter:s}),!E?.job_id)return;const M=f(E.job_id),k=h(),I=k?"organization":"user";if(M&&M.level===I){u(M.id);const U=h(),H=U?`/workspace/${U}/chat`:"/chat";m(`${H}?id=${E.job_id}`),e?.();return}const D=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,P=`/root/runs/${E.job_id}/trajectory.json`,R=k?`/workspace/${k}/chat`:"/chat",B={containerId:E.job_id,jobId:E.job_id,showcaseId:E.id,showcasePreviewUrl:E.preview_url,title:E.title,trajPath:P,tabId:D,fromJobList:!1,isCloudFlow:!0,tabHeading:E.title};c(U=>[...U,{id:D,title:E.title,path:R,level:I,organization_id:k,state:B,tabHeading:E.title,tabType:"ShowCasePreview"}]),p(D,B),u(D),m(`${R}?id=${E.job_id}`),e?.()},N=E=>{r(E),a(9);const S=g.find(M=>M.value===E);z("showcase_category_clicked",{category_id:E,category_name:S?.label||E,previous_category:s})},j=y?.items?.filter(E=>{const S=E.status||"active";return S==="active"||S==="published"})||[],F=[...s==="all"?j:j.filter(E=>E.category===s)].sort((E,S)=>{const M=E.priority??Number.MAX_SAFE_INTEGER,k=S.priority??Number.MAX_SAFE_INTEGER;if(M!==k)return M-k;const I=E.created_at?new Date(E.created_at).getTime():0;return(S.created_at?new Date(S.created_at).getTime():0)-I}).slice(0,s==="all"?6:i);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{"data-testid":Ss.showcase.section,className:"flex flex-col gap-8 md:mt-[100px]",children:[t.jsxs("div",{className:"flex flex-col md:gap-2 max-md:hidden",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(v8,{}),t.jsx("span",{className:"font-medium text-[18px]",children:n("showcase.title")})]}),t.jsx("span",{className:"text-white/30 font-inter text-[14px] leading-5",children:n("showcase.description")})]}),t.jsxs("div",{className:"flex flex-col gap-6 max-md:gap-5 max-md:pb-[50px]",children:[t.jsx("div",{className:"flex items-center justify-between max-md:sticky max-md:top-[0] pb-3 max-md:z-10 max-md:bg-[linear-gradient(to_bottom,_#0E0E0F_0%,_transparent_100%)]",children:t.jsx("div",{className:"flex-1 max-md:mr-0 mr-4 overflow-hidden",children:t.jsx("div",{"data-testid":Ss.showcase.categoryChips,className:"flex items-center max-md:gap-2 gap-3 md:p-1 max-md:px-4 max-md:py-3 max-md:pb-3 max-md:-mb-3 overflow-x-auto",children:g.map(E=>{const S=E.icon;return t.jsxs(xe.div,{"data-testid":Ss.showcase.chip(E.value),"data-selected":s===E.value?"true":"false",onClick:()=>N(E.value),transition:{duration:.2},className:A("flex font-inter cursor-pointer bg-[#0E0E0F] max-h-[32px] max-md:text-[14px] text-[15px] font-medium items-center gap-1 text-[#FFFFFF]/40 px-3 py-2 border border-[#FFFFFF1F] rounded-full flex-shrink-0 hover:border-[#FFFFFF33] transition-colors",s===E.value&&"bg-[#FFFFFF]  text-[#0F0F10] font-inter font-semibold"),children:[t.jsx(S,{color:s===E.value?"#0F0F10":"#6E6E6F",size:16}),t.jsx("span",{className:"font-inter text-nowrap",children:E.label})]},E.value)})})})}),t.jsx("div",{"data-testid":Ss.showcase.cardsGrid,className:"grid grid-cols-1 gap-6 lg:grid-cols-3 max-md:px-4",children:t.jsx(ns,{mode:"wait",children:v?Array.from({length:6}).map((E,S)=>t.jsx(Tpe,{},`skeleton-${S}`)):F.map((E,S)=>{const M=g.find(k=>k.value===E.category)?.label||E.category;return t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:S*.05,ease:"easeOut"},children:t.jsx(kpe,{title:E.title,category:M,jobId:E.job_id,image_url:E.image_url,showcaseDetails:E,onPreviewClick:()=>w(E),onRemixSuccess:k=>b(k,E)})},`${s}-${E.id}`)})})})]})]}),o&&t.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",onClick:()=>l(!1),children:[t.jsx("div",{className:"absolute inset-0 bg-black/50"}),t.jsx(xe.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},onClick:E=>E.stopPropagation(),className:"absolute bottom-0 w-full bg-[#0E0E0F] border-t border-[#FFFFFF1F] rounded-t-[24px]",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"relative flex items-center justify-center mb-2 border-b border-[#242424] p-4",children:[t.jsx("h3",{className:"text-white font-semibold text-[18px] font-inter",children:n("showcase.selectCategory")}),t.jsx("button",{title:n("showcase.selectCategory"),onClick:()=>l(!1),className:"absolute right-4 text-white/40 hover:text-white",children:t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4 px-4 pb-6",children:g.map(E=>{const S=E.icon;return t.jsxs(xe.div,{onClick:()=>{N(E.value),l(!1)},whileTap:{scale:.98},className:A("flex font-inter relative justify-between items-start cursor-pointer bg-[#FFFFFF05] max-h-[170px] font-medium text-[#FFFFFF]/40 p-4  rounded-[12px]",s===E.value&&"bg-[#33E3FF1A] text-[#33E3FF] border-[#33E3FF4D] border font-inter font-semibold"),children:[t.jsxs("div",{className:"flex flex-col h-full gap-2",children:[t.jsx(S,{color:s===E.value?"#33E3FF":"#6E6E6F",size:20}),t.jsx("span",{className:"font-medium font-inter text-nowrap",children:E.label})]}),s==E.value&&t.jsx(jP,{color:"#33E3FF",className:"absolute min-h-6 min-w-6 right-4",size:24})]},E.value)})})]})})]})]})}const Ape=({size:e=8,width:n,height:s,color:r="#35F4B8",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:r,transform:"translate(0.5, 0.5)"})})},Dpe=W.modals.betaImage;function Mpe({modalChange:e}){const{totalBannerHeight:n}=Ea();return t.jsx(t.Fragment,{children:t.jsx(xe.div,{className:"flex items-center justify-center w-full md:p-[10px]  z-[19] fixed",style:{top:`${56+n}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(xe.div,{className:"flex items-center justify-center h-[48px] p-2 max-md:w-full md:pl-5 md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:Dpe,alt:"pro",className:"w-6 h-6 "}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Introducing E2: Smarter App Development, Join Beta Program to get Early Access."}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[12px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Launching E2 Beta Access"}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center  max-md:text-[13px] md:text-[15px] md:ml-8","aria-label":"Join beta",title:"Join beta",onClick:()=>e(!0),style:{height:"32px",borderRadius:"16px",padding:"8px 8px 8px 12px",gap:"6px",background:"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:1},children:[t.jsx("span",{children:"Join Beta"}),t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(Ape,{})})]})]})})})}const Lpe=()=>{const{user:e}=xs(),{tier:n}=cs(),[s,r]=d.useState(!1),[i,a]=d.useState(null),[o,l]=d.useState(null),[c,u]=d.useState(!1),[p,{isLoading:f}]=iQ(),m=d.useCallback(async()=>{if(!e?.email){l("User email not available");return}try{l(null);const h=await p({tag:"pro_mode"}).unwrap();if(h.exists&&h.payment?.payment_status==="paid"){r(!0),a(h?.payment);const x=new Date(h.payment.created_at);u(x<new Date("2025-07-30T18:30:00.000Z"))}else r(!1),a(null),localStorage.removeItem("pro_mode_status")}catch(h){l(h.message||"Failed to verify payment status"),r(!1),a(null)}},[e?.email,p]);return d.useEffect(()=>{e?.email&&m()},[e?.email]),{isProModeUser:s,isLoading:f,error:o,paymentData:i,checkPaymentStatus:m,paidBefore30July:c}},Rpe=W.pro.pro,Ppe=W.pro.proMobile,Ope=({id:e})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:"flex-shrink-0",children:[t.jsx("path",{d:"M18.4958 10.2566L19.4231 10.0081L21.4108 17.4264C21.5426 17.9183 21.4736 18.4423 21.219 18.8833C20.9644 19.3243 20.545 19.6461 20.0531 19.7779L15.4167 21.0203L12.932 11.7474L18.4958 10.2566ZM6.44101 13.4866L11.0775 12.2443L13.5621 21.5172L8.92568 22.7595C8.43381 22.8913 7.90974 22.8223 7.46874 22.5677C7.02775 22.3131 6.70596 21.8937 6.57417 21.4019L4.58643 13.9836L6.44101 13.4866ZM4.4652 9.04672C4.20947 8.63174 4.01844 8.18023 3.89869 7.70772C3.41915 5.91805 4.4849 4.07212 6.27457 3.59258C7.77863 3.18956 9.15111 4.29472 10.1976 5.60748C10.4601 4.03145 11.1252 2.29285 12.7656 1.85331C14.5553 1.37377 16.4012 2.43952 16.8807 4.22919C17.0288 4.78185 17.0781 5.25864 17.0596 5.67205L20.0353 4.87472L21.0292 8.58388L12.6836 10.8201L12.1866 8.9655L10.3321 9.46243L10.829 11.317L2.48339 13.5532L1.48953 9.84405L4.4652 9.04672ZM15.0262 4.72612C14.8207 3.95926 14.0294 3.50241 13.2625 3.70789C12.4391 3.92853 12.0521 5.54788 11.9697 7.03588L14.4716 6.36552C14.8184 6.2726 15.3989 6.11706 15.0262 4.72612ZM6.7715 5.44715C6.00464 5.65264 5.54779 6.44392 5.75327 7.21079C6.12597 8.60172 6.70645 8.44618 7.05326 8.35325L9.35015 7.7378C8.48565 6.40311 7.44472 5.26677 6.7715 5.44715Z",fill:`url(#${e})`}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:e,x1:"9.52008",y1:"2.72294",x2:"14.4894",y2:"21.2687",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#00FF66"}),t.jsx("stop",{offset:"1",stopColor:"#62ECFE"})]})})]});function Bpe({isAlreadyBooked:e,reactivationBanner:n,config:s}){const{isLoading:r}=Lpe(),{tier:i}=cs(),{totalBannerHeight:a}=Ea(),[o,l]=d.useState(!1),{open:c}=f2(),u=()=>{i==="free"||n?l(!0):c({location:"default"})};return i=="free"||n?t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"flex items-center justify-center w-full md:p-[10px] max-md:mt-1 fixed z-[19]",style:{top:`${56+a}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(xe.div,{className:"flex items-center max-md:justify-between md:justify-center h-[48px] p-2 pl-4 max-md:w-full md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"rotate-[15deg] translate-x-2",children:t.jsx(Ope,{id:"gift-icon"})}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[15px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:"Claim 50% Off"})]}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center p-2  md:min-w-[150px] max-md:text-[15px] md:text-[15px] md:ml-8 max-md:rounded-[8px] md:rounded-[16px]",onClick:()=>u(),disabled:r,style:{height:"32px",gap:"6px",background:e?"linear-gradient(180deg, rgba(0, 255, 102, 0.8) 0%, rgba(98, 236, 254, 0.8) 100%)":"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:r?.7:1},children:[s?.homeCtaText,t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:"#35F4B8",transform:"translate(0.5, 0.5)"})})})]})]})}),t.jsx(Ic,{isOpen:o,onOpenChange:l})]}):t.jsx(t.Fragment,{children:t.jsx(xe.div,{className:"flex items-center justify-center w-full md:p-[10px] max-md:mt-1  z-[19] fixed",style:{top:`${56+a}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:t.jsxs(xe.div,{className:"flex items-center justify-center h-[48px] p-2 max-md:w-full md:pl-5 md:rounded-full pro-green backdrop-blur-lg w-fit gap-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:Rpe,alt:"pro",className:" w-6 h-6 scale-[2.5]  md:scale-[3] max-md:hidden"}),t.jsx("img",{src:Ppe,alt:"pro",className:"w-6 h-6 md:hidden"}),t.jsx("span",{className:"inline-block font-medium max-md:hidden",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsx("span",{className:"inline-block font-medium md:hidden text-nowrap text-[12px]",style:{background:"linear-gradient(135deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:`
              0 0 22.43px rgba(0, 255, 102, 0.5),
              0 0 22.43px rgba(98, 236, 254, 0.2)
            `},children:s?.homeText}),t.jsxs("button",{type:"button",className:"relative flex items-center justify-center  max-md:text-[13px] md:text-[15px] md:ml-8",onClick:()=>u(),disabled:r,style:{height:"32px",borderRadius:"16px",padding:"8px 8px 8px 12px",gap:"6px",background:"linear-gradient(180deg, rgba(0, 255, 102, 1) 0%, rgba(98, 236, 254, 1) 100%)",boxShadow:`
              0 0 20px rgba(98, 236, 254, 0.4),
              inset 0 2.18px 3.64px rgba(255, 255, 255, 0.4),
              inset 0 -1.45px 1.45px rgba(255, 255, 255, 0.2)
            `,border:"none",cursor:"pointer",color:"#0F0F10",fontWeight:"600",opacity:r?.7:1},children:[t.jsx("span",{children:s?.homeCtaText}),t.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"10px",backgroundColor:"black",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.775 3.3821C8.075 3.6825 8.075 4.1696 7.775 4.47L4.313 7.9315C4.013 8.2319 3.526 8.2319 3.225 7.9315C2.925 7.6311 2.925 7.1441 3.225 6.8437L5.374 4.6953L-0.231 4.6953C-0.656 4.6953 -1 4.3509 -1 3.926C-1 3.5013 -0.656 3.1568 -0.231 3.1568L5.374 3.1568L3.225 1.0085C2.925 0.7081 2.925 0.221 3.225 -0.0794C3.526 -0.3798 4.013 -0.3798 4.313 -0.0794L7.775 3.3821Z",fill:"#35F4B8",transform:"translate(0.5, 0.5)"})})})]})]})})})}const Upe=W.banners.freeStandardPlanWeb,Vpe=W.banners.freeStandardPlanMobile,Hpe=W.icons.gift;function $pe(){const{tier:e}=cs(),{totalBannerHeight:n}=Ea(),{isEligible:s,createCheckoutAndRedirect:r,paymentModalState:i}=ih(),a=()=>{z(yl.BANNER_CLICKED),r("freeStandardPlanBanner")};return e!=="free"||!s?null:t.jsxs(t.Fragment,{children:[t.jsxs(xe.div,{className:"flex items-center justify-center w-full md:p-2.5 max-md:mt-1 fixed z-[999]",style:{top:`${56+n}px`},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30,duration:.6},children:[t.jsxs(xe.div,{className:"hidden md:flex relative items-center h-12 p-2 pl-5 rounded-full overflow-hidden justify-between w-full max-w-[700px]",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:Upe,alt:"",className:"absolute inset-0 w-full h-full object-cover"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[t.jsx(ja,{size:24,color:"#D63C00"}),t.jsx("span",{className:"-ml-1 whitespace-nowrap text-base text-[#D63C00] font-semibold leading-6 tracking-[-0.5px]",children:"New Year Gift"}),t.jsx("span",{className:"text-[#0F0F10] text-base font-semibold leading-6 tracking-[-0.5px]",children:"1 month of Standard Plan, completely free."})]}),t.jsxs("button",{type:"button",onClick:a,className:"relative z-10 flex items-center justify-center gap-2 h-8 py-2 px-3 ml-8 bg-white text-[#0F0F10] font-semibold text-[15px] leading-5 tracking-[-0.25px] rounded-full shadow-[inset_0px_-1.455px_0px_0px_rgba(0,0,0,0.2),0px_0.727px_0.727px_0.727px_rgba(0,0,0,0.1),0px_0px_20px_0px_rgba(255,255,255,0.4)] cursor-pointer",children:["Start Free Trial",t.jsx(Jo,{className:"w-5 h-5 p-1 bg-black text-white rounded-full",strokeWidth:2.8})]})]}),t.jsxs(xe.div,{className:"md:hidden relative flex items-center w-full h-[68px] rounded-2xl overflow-hidden cursor-pointer mx-4",onClick:a,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:300,damping:25},children:[t.jsx("img",{src:Vpe,alt:"",className:"absolute inset-0 w-full h-full object-cover"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-2.5 pl-1.5",children:[t.jsx("img",{src:Hpe,alt:"Gift Icon",className:"w-14 h-14 p-2 bg-[#261714] rounded-xl"}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-base font-semibold leading-[18px] tracking-[-0.2px] text-[#C94B15]",children:"New Year Gift"}),t.jsx("span",{className:"font-inter text-[13px] font-semibold leading-4 text-[#1A0800]",children:"100% Off on Standard Plan"})]})]}),t.jsx(Jo,{className:"w-9 h-9 p-2 bg-[#0f0f10] text-white rounded-full absolute right-3 z-10 shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),0_-1.455px_0_0_rgba(0,0,0,0.20)_inset,0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40)_inset,0_0_20px_0_rgba(243,202,95,0.40)]",strokeWidth:2.8})]})]}),t.jsx(Zd,{isOpen:i.isLoading,onOpenChange:()=>{},paymentType:"subscription",planName:i.planName,currency:i.currency})]})}function zpe({isOpen:e,onOpenChange:n,onClose:s}){const{couponCode:r,isLoading:i,error:a,generateCoupon:o}=ig(),l=d.useRef(!1),{isSmallMobile:c}=ps(),u=Er(),[p,f]=d.useState(!1);d.useEffect(()=>{e&&!r&&!l.current&&!i&&(l.current=!0,o())},[e,r,o,i]),d.useEffect(()=>{e||(l.current=!1)},[e]);const m=!!r&&!a,h=!!r&&!!a,x=()=>{r&&(navigator.clipboard.writeText(r),f(!0),setTimeout(()=>f(!1),1e3))},y=()=>{s?.(),n(!1)},v=()=>{y(),setTimeout(()=>{u.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(dr,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"},className:"relative w-full flex flex-col overflow-hidden bg-[#131314] text-white rounded-2xl min-h-[580px]",style:{height:`min(${c?"85dvh":"650px"}, calc(90dvh - 32px))`},children:[t.jsx("img",{src:c?W.modals.oneDollarModalMobile:W.modals.oneDollarModalDesktop,alt:"Background",className:"absolute inset-0 w-full h-full object-cover object-[calc(50%+4.5px)_center] z-0"}),t.jsx("button",{type:"button",onClick:y,className:"absolute z-20 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-black"})}),t.jsx("div",{className:"relative z-10 flex items-center justify-center h-full px-1 py-4",children:t.jsx("div",{className:"flex flex-col items-center gap-4 w-full",children:h?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:A("font-['Inter'] font-semibold text-white/70 text-center px-4",c?"text-[16px] mb-2 -mt-12":"text-[20px] mb-8 mt-6"),children:"Use this coupon code to get 20% off"}),t.jsxs("div",{className:A("flex items-center justify-between gap-4 bg-[#0F1011] rounded-full",c?"px-5 py-3 w-[85%]":"px-6 py-4 min-w-[280px]"),children:[t.jsx("span",{className:A("font-brockmann font-semibold text-white",c?"text-[16px]":"text-[18px]"),children:r}),t.jsxs("button",{type:"button",onClick:x,className:"flex items-center gap-2 hover:opacity-80 transition-opacity font-brockmann font-semibold text-[14px] text-white",children:[t.jsx(bo,{size:16,className:"text-white"}),p?"Copied!":"Copy"]})]}),t.jsx(xe.button,{type:"button",onClick:v,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},className:"mt-4",children:t.jsx("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Upgrade Now"})})})]}):m?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:A("font-['Inter'] font-semibold text-white text-center",c?"text-[18px] mb-2 -mt-12":"text-[24px] mb-12 mt-6"),children:"flat 95% off on our Standard Plan"}),t.jsx(xe.button,{type:"button",onClick:v,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(ja,{color:"#0A386D",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Claim 95% Off"}),t.jsx(ja,{color:"#0A386D",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:A("font-['Inter'] font-semibold text-white text-center",c?"text-[18px] mb-2 -mt-12":"text-[24px] mb-12 mt-6"),children:"flat 95% off on our Standard Plan"}),t.jsx("div",{className:A("relative flex items-center justify-center gap-2 font-semibold text-[#0A386D] bg-white bg-cover bg-center","shadow-[0px_0px_20px_0px_#F3CA5F66,inset_0px_2.18px_3.64px_1.45px_#FFFFFF66,inset_0px_-1.45px_0px_0px_#00000033,0px_0.73px_0.73px_0.73px_#0000001A]",c?"min-h-12 w-[85%] rounded-xl py-2.5 px-5 text-base":"min-h-14 min-w-[280px] rounded-full py-3 px-7 -mt-10 text-lg w-auto"),children:t.jsxs("span",{className:"tracking-tight flex items-center gap-2",children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Loading..."})]})})]})})})]})})})})}const Wpe="https://assets.emergent.sh/assets/modals/series_b_web.webp",Gpe="https://assets.emergent.sh/assets/modals/series_b_mobile.webp";function qpe({isOpen:e,onOpenChange:n,onClose:s}){const{userDetails:r}=xs(),i=sh(r),{couponCode:a,isLoading:o,error:l,generateCoupon:c}=ag(),u=d.useRef(!1),p=Er(),{isSmallMobile:f}=ps(),[m,h]=d.useState(!1);d.useEffect(()=>{e&&!i&&!a&&!u.current&&!o&&(u.current=!0,c())},[e,i,a,c,o]),d.useEffect(()=>{e||(u.current=!1)},[e]);const x=i||!!a&&!l,y=!i&&!!a&&!!l,v=()=>{a&&(navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),1e3))},g=()=>{s?.(),n(!1)},b=()=>{g(),setTimeout(()=>{p.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(dr,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${f?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:g,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"GFF Offer Background",src:f?Gpe:Wpe,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),t.jsx("div",{className:A("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",f?"top-[59%]":"top-[60%]"),children:y?t.jsx("p",{className:A("font-[Inter] font-semibold text-white/70",f?"text-[16px]":"text-[20px]"),children:"Use this coupon code to get 20% off"}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:A("font-[Inter] font-semibold text-white/70",f?"text-[16px]":"text-[24px]"),children:"To celebrate this milestone we are giving a"}),t.jsx("p",{className:A("font-[Inter] font-semibold text-white",f?"text-[16px]":"text-[24px]"),children:"flat 75% off on our Standard monthly plan."})]})}),y&&t.jsxs("div",{className:A("absolute left-1/2 -translate-x-1/2 flex flex-col items-center gap-4",f?"bottom-[22%]":"bottom-[16%]"),children:[t.jsxs("div",{className:A("flex items-center justify-between gap-4 bg-[#0F1011] rounded-full",f?"px-5 py-3":"px-6 py-4 min-w-[280px]"),children:[t.jsx("span",{className:A("font-brockmann font-semibold text-white",f?"text-[16px]":"text-[18px]"),children:a}),t.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-2 hover:opacity-80 transition-opacity font-brockmann font-semibold text-[14px] text-white",children:[t.jsx(bo,{size:16,className:"text-white"}),m?"Copied!":"Copy"]})]}),t.jsx(xe.button,{type:"button",onClick:b,whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsx("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Upgrade Now"})})})]}),x&&t.jsxs(t.Fragment,{children:[t.jsx(xe.button,{type:"button",onClick:b,className:A("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",f?"bottom-[18%]":"bottom-[13%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(ja,{color:"#0A386D",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Claim 75% Off"}),t.jsx(ja,{color:"#0A386D",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}const Kpe=W.modals.pagbrasilOfferModalBgWeb,Ype=W.modals.pagbrasilOfferModalBgMobile;function Zpe({isOpen:e,onOpenChange:n,onClose:s}){const{isSmallMobile:r}=ps(),i=Er(),a=()=>{s?.(),n(!1)},o=()=>{a(),setTimeout(()=>{i.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(dr,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${r?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:a,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"GFFIN Offer Background",src:r?Ype:Kpe,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),t.jsxs("div",{children:[t.jsxs("div",{className:A("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",r?"top-[59%]":"top-[60%]"),children:[t.jsx("p",{className:A("font-[Inter] font-semibold text-white/70",r?"text-[16px]":"text-[24px]"),children:"To celebrate this milestone we are giving a"}),t.jsx("p",{className:A("font-[Inter] font-semibold text-white",r?"text-[16px]":"text-[24px]"),children:"flat 75% off on our Standard monthly plan."})]}),t.jsx(xe.button,{type:"button",onClick:o,className:A("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",r?"bottom-[18%]":"bottom-[13%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(ja,{color:"#0A386D",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Claim 75% Off"}),t.jsx(ja,{color:"#0A386D",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}const Jpe=W.modals.pagbrasilOfferModalBgWeb,Xpe=W.modals.pagbrasilOfferModalBgMobile;function Qpe({isOpen:e,onOpenChange:n,onClose:s}){const{isSmallMobile:r}=ps(),i=Er(),a=()=>{s?.(),n(!1)},o=()=>{a(),setTimeout(()=>{i.open({planType:"personal",triggerLocation:"default"})},350)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsx(dr,{className:"p-0 border-none bg-transparent max-w-[900px] w-full !overflow-visible h-auto max-h-[90dvh]",children:t.jsx("div",{className:"w-full overflow-y-auto hide-scrollbar px-4 max-h-[90dvh]",children:t.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full relative overflow-hidden bg-white rounded-2xl min-h-[580px]",style:{height:`min(${r?"640px":"630px"}, calc(90dvh - 32px))`},children:[t.jsx("button",{type:"button",onClick:a,className:"absolute z-10 flex items-center justify-center transition-all duration-200 rounded-full w-8 h-8 backdrop-blur-lg right-6 top-6 bg-white","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 text-black"})}),t.jsxs("div",{className:"relative overflow-hidden rounded-2xl h-full",children:[t.jsx("img",{alt:"PagBrasil Offer Background",src:r?Xpe:Jpe,className:"w-full h-[640px] object-cover pointer-events-none absolute top-0 left-0"}),t.jsxs("div",{children:[t.jsxs("div",{className:A("absolute w-full text-center px-2 left-1/2 -translate-x-1/2",r?"top-[59%]":"top-[60%]"),children:[t.jsx("p",{className:A("font-[Inter] font-semibold text-white/70",r?"text-[16px]":"text-[24px]"),children:"To celebrate this milestone we are giving a"}),t.jsx("p",{className:A("font-[Inter] font-semibold text-white",r?"text-[16px]":"text-[24px]"),children:"flat 90% off on our Starter monthly plan."})]}),t.jsx(xe.button,{type:"button",onClick:o,className:A("absolute z-10 flex items-center justify-center cursor-pointer max-md:px-4 left-1/2",r?"bottom-[18%]":"bottom-[13%]"),initial:{x:"-50%",y:0},animate:{x:"-50%",y:0},whileHover:{scale:1.03,y:-4},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"flex h-[56px] gap-2 md:gap-[10px] py-3 md:py-3 px-6 md:px-8 rounded-[30px] justify-center items-center bg-white shadow-[0px_0px_40px_0px_#FFFFFF99,inset_0px_-4px_0px_0px_#0000001A,0px_0.73px_0.73px_0.73px_#0000001A]",children:[t.jsx(ja,{color:"#0A386D",className:"rotate-[-15deg] w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"text-[16px] md:text-[18px] font-semibold font-['brockmann'] whitespace-nowrap text-[#0A386D]",children:"Claim 90% Off"}),t.jsx(ja,{color:"#0A386D",className:"rotate-[15deg] w-4 h-4 md:w-5 md:h-5"})]})}),t.jsx("div",{className:"absolute w-[220px] h-[45px] rounded-[48px] left-1/2 -translate-x-1/2 bottom-[14%] md:bottom-[8%] bg-black/20 blur-[13px]"})]})]})]})})})})}function e1e({children:e,title:n,buttonText:s,onClose:r,onAction:i,className:a,wrapperClassName:o,titleClassName:l,mediaClassName:c,mediaBackground:u}){return t.jsxs(xe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.5},className:A("hidden md:block fixed bottom-6 right-6 z-[60]",o),children:[t.jsxs("div",{className:A("relative w-[220px] bg-white rounded-[16px] p-2 flex flex-col gap-2 shadow-[0_221px_62px_0_rgba(255,255,255,0.00),0_141px_56px_0_rgba(255,255,255,0.02),0_79px_48px_0_rgba(255,255,255,0.05),0_35px_35px_0_rgba(255,255,255,0.09),0_9px_19px_0_rgba(255,255,255,0.10)]",a),children:[e&&t.jsx("div",{className:A("relative rounded-[10px] overflow-hidden w-full bg-cover bg-center",c),style:u?{backgroundImage:`url(${u})`}:void 0,children:e}),t.jsx("div",{className:"text-center px-1",children:typeof n=="string"?t.jsx("p",{className:A("text-[#0F0F10] text-[13px] font-semibold leading-[18px] tracking-[-0.2px] font-brockmann",l),children:n}):n}),t.jsx("button",{onClick:i,className:A("flex h-9 justify-center items-center gap-2 shrink-0 self-stretch","rounded-[10px] bg-[#0F0F10]","hover:bg-[#1A1A1A] transition-colors duration-200","py-2 pr-2 pl-3","shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),inset_0_-1.455px_0_0_rgba(0,0,0,0.20),inset_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40),0_0_20px_0_rgba(243,202,95,0.40)]"),children:t.jsx("span",{className:"text-white text-[14px] font-semibold leading-5 tracking-[-0.2px] font-brockmann",children:s})})]}),t.jsx("button",{onClick:r,className:"absolute -top-1.5 -right-1.5 z-10 w-6 h-6 flex items-center justify-center bg-[#F5F0EB] hover:bg-[#e2ded9] rounded-full transition-colors duration-200 shadow-md border border-[#E0D8D0]",children:t.jsx(Pt,{className:"w-4 h-4 text-[#4A4A4A]"})})]})}function t1e({children:e,title:n,onClick:s,className:r,titleClassName:i,mediaClassName:a,backgroundImage:o,actionButton:l,actionButtonClassName:c}){return t.jsxs(xe.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",duration:.5},onClick:s,className:A("md:hidden flex items-center fixed top-20 left-4 right-4 z-[60] gap-2 rounded-[16px] overflow-hidden shadow-[0_4px_20px_rgba(0,0,0,0.1)] bg-cover bg-center cursor-pointer active:scale-[0.98] transition-transform",r),style:o?{backgroundImage:`url(${o})`}:void 0,children:[e&&t.jsx("div",{className:A("relative rounded-[10px] overflow-hidden shrink-0",a),children:e}),t.jsx("div",{className:"flex-1 min-w-0",children:typeof n=="string"?t.jsx("p",{className:A("text-[#0F0F10] text-[13px] font-semibold leading-[18px] tracking-[-0.2px] font-brockmann",i),children:n}):n}),t.jsx("div",{className:A("w-[36px] h-[36px] shrink-0 mr-2 flex items-center justify-center rounded-[20px] bg-[#0F0F10] shadow-[0_0.727px_0.727px_0.727px_rgba(0,0,0,0.10),inset_0_-1.455px_0_0_rgba(0,0,0,0.20),inset_0_2.182px_3.636px_1.455px_rgba(255,255,255,0.40),0_0_20px_0_rgba(243,202,95,0.40)]",c),children:l??t.jsx(Jo,{className:"w-5 h-5 text-white"})})]})}const n1e=W.gifting.warmupMail.bannerBg,s1e=W.gifting.warmupMail.gift,r1e=W.gifting.warmupMail.gift_success,A1={before:{title:"You are in for a surprise !!!",titleMobile:"You are in for a surprise !!!",buttonText:"Receive Mail",buttonTextMobile:"Receive Mail ",mediaBackground:s1e},after:{title:"",titleMobile:"We have sent you a surprise on mail, Check it out !",buttonText:"Continue Building",buttonTextMobile:"Okay, got it",mediaBackground:r1e}};function i1e(){const[e,n]=d.useState("before"),[s,r]=d.useState(DK()),[i]=FQ(),a=()=>{z("warmup_mail_dismissed"),r(!0)},o=()=>{e==="before"?(n("after"),MK(),z("warmup_mail_clicked"),i().unwrap().catch(l=>Fn("warmup_mail_notify_error",l))):a()};return s?null:t.jsxs(t.Fragment,{children:[t.jsx(ns,{mode:"wait",children:t.jsx(e1e,{title:A1[e].title,buttonText:A1[e].buttonText,onClose:a,onAction:o,className:"gap-[10px]",titleClassName:"text-sm leading-[18px]",children:t.jsx("img",{src:A1[e].mediaBackground,alt:"",className:"w-full h-full object-contain"})},e)}),t.jsx(t1e,{title:A1[e].titleMobile,onClick:o,backgroundImage:n1e,actionButton:A1[e].buttonTextMobile,className:"rounded-[14px] h-14 p-3",titleClassName:"text-[15px]",actionButtonClassName:"w-fit h-[32px] px-3 rounded-[10px] text-sm leading-5 font-semibold bg-[#331200]"})]})}const a1e=()=>{const e=document.createElement("div"),n=i=>e.style[i]!==void 0?i:null,s=n("transform")||n("MozTransform")||n("webkitTransform")||n("-ms-transform")||n("OTransform"),r=window.requestAnimationFrame?i=>window.requestAnimationFrame(i):null;return{transform:{prop:s},getAnimationFrame:r}},no=(e,n)=>((n===void 0||isNaN(n))&&(n=0),Math.random()*e+n);class o1e{constructor(){$t(this,"flakesMax",30);$t(this,"flakesMaxActive",30);$t(this,"animationInterval",80);$t(this,"useGPU",!0);$t(this,"flakeBottom",null);$t(this,"snowColor","#fff");$t(this,"snowCharacter","&bull;");$t(this,"snowStick",!0);$t(this,"targetElement",null);$t(this,"useMeltEffect",!0);$t(this,"usePositionFixed",!0);$t(this,"usePixelPosition",!1);$t(this,"freezeOnBlur",!1);$t(this,"flakeLeftOffset",0);$t(this,"flakeRightOffset",0);$t(this,"flakeWidth",10);$t(this,"flakeHeight",10);$t(this,"vMaxX",.3);$t(this,"vMaxY",.25);$t(this,"zIndex",9999);$t(this,"timer",null);$t(this,"flakes",[]);$t(this,"disabled",!1);$t(this,"active",!1);$t(this,"meltFrameCount",20);$t(this,"meltFrames",[]);$t(this,"features");$t(this,"screenX",null);$t(this,"screenX2",null);$t(this,"screenY",null);$t(this,"scrollY",null);$t(this,"docHeight",null);$t(this,"vRndX",null);$t(this,"vRndY",null);$t(this,"windOffset",1);$t(this,"flakeTypes",6);$t(this,"fixedForEverything",!1);$t(this,"targetElementIsRelative",!1);$t(this,"opacitySupported");$t(this,"didInit",!1);$t(this,"docFrag");$t(this,"resolvedTargetElement",null);$t(this,"animationFrameId",null);$t(this,"timeoutId",null);$t(this,"originalResizeHandler",null);$t(this,"setXY",(n,s,r)=>{if(!n)return!1;this.usePixelPosition||this.targetElementIsRelative?(n.style.left=s-this.flakeWidth+"px",n.style.top=r-this.flakeHeight+"px"):this.flakeBottom?(n.style.right=100-s/(this.screenX||1)*100+"%",n.style.top=Math.min(r,(this.docHeight||0)-this.flakeHeight)+"px"):(n.style.right=100-s/(this.screenX||1)*100+"%",n.style.bottom=100-r/(this.screenY||1)*100+"%")});$t(this,"randomizeWind",()=>{if(this.vRndX=no(this.vMaxX,.2),this.vRndY=no(this.vMaxY,.2),this.flakes)for(let n=0;n<this.flakes.length;n++)this.flakes[n].active&&this.flakes[n].setVelocities()});$t(this,"scrollHandler",()=>{if(this.scrollY=this.flakeBottom?0:parseInt(String(window.scrollY||document.documentElement.scrollTop||0),10),isNaN(this.scrollY)&&(this.scrollY=0),!this.fixedForEverything&&!this.flakeBottom&&this.flakes)for(let n=0;n<this.flakes.length;n++)this.flakes[n].active===0&&this.flakes[n].stick()});$t(this,"resizeHandler",()=>{window.innerWidth||window.innerHeight?(this.screenX=window.innerWidth-16-this.flakeRightOffset,this.screenY=this.flakeBottom||window.innerHeight):(this.screenX=(document.documentElement.clientWidth||document.body.clientWidth||document.body.scrollWidth)-8-this.flakeRightOffset,this.screenY=this.flakeBottom||document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight),this.docHeight=document.body.offsetHeight,this.screenX2=parseInt(String((this.screenX||0)/2),10)});$t(this,"resizeHandlerAlt",()=>{const n=this.resolvedTargetElement;n&&(this.screenX=n.offsetWidth-this.flakeRightOffset,this.screenY=this.flakeBottom||n.offsetHeight,this.screenX2=parseInt(String((this.screenX||0)/2),10),this.docHeight=document.body.offsetHeight)});$t(this,"freeze",()=>{if(!this.disabled)this.disabled=1;else return!1;this.timer=null});$t(this,"resume",()=>{if(this.disabled)this.disabled=0;else return!1;this.timerInit()});$t(this,"stop",()=>{this.freeze(),this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null);for(let n=0;n<this.flakes.length;n++)this.flakes[n].o.style.display="none";window.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.resizeHandler),this.freezeOnBlur&&(window.removeEventListener("blur",this.freeze),window.removeEventListener("focus",this.resume))});$t(this,"destroy",()=>{this.stop();for(let n=0;n<this.flakes.length;n++){const s=this.flakes[n].o;s.parentNode?.removeChild(s)}this.flakes=[],this.meltFrames=[],this.didInit=!1,this.active=!1,this.disabled=!1,this.timer=null,this.resolvedTargetElement=null,this.docFrag=document.createDocumentFragment(),this.originalResizeHandler&&(this.resizeHandler=this.originalResizeHandler)});$t(this,"createSnowFlake",(n,s,r)=>{const i=this,a=this.screenX||0,o=this.screenY||0,l={type:n,x:s??parseInt(String(no(a-20)),10),y:r!==void 0&&!isNaN(r)?r:no(o),vX:null,vY:null,vAmpTypes:[1,1.2,1.4,1.6,1.8],vAmp:1,melting:!1,meltFrameCount:i.meltFrameCount,meltFrames:i.meltFrames,meltFrame:0,active:1,fontSize:10+n/5*10,o:document.createElement("div"),refresh:()=>{},stick:()=>{},vCheck:()=>{},move:()=>{},animate:()=>{},setVelocities:()=>{},setOpacity:()=>{},melt:()=>{},recycle:()=>{}};l.vAmp=l.vAmpTypes[l.type]||1,l.o.innerHTML=i.snowCharacter,l.o.style.color=i.snowColor,l.o.style.position=i.fixedForEverything?"fixed":"absolute",i.useGPU&&i.features.transform.prop&&(l.o.style[i.features.transform.prop]="translate3d(0px, 0px, 0px)"),l.o.style.width=i.flakeWidth+"px",l.o.style.height=i.flakeHeight+"px",l.o.style.fontFamily="arial,verdana",l.o.style.cursor="default",l.o.style.overflow="hidden",l.o.style.fontWeight="normal",l.o.style.zIndex=String(i.zIndex),l.o.style.pointerEvents="none";const c=.2+Math.random()*.3;l.o.style.opacity=String(c),this.docFrag.appendChild(l.o),l.refresh=()=>{if(isNaN(l.x)||isNaN(l.y))return!1;i.setXY(l.o,l.x,l.y)},l.stick=()=>{const p=i.resolvedTargetElement;p!==document.documentElement&&p!==document.body?l.o.style.top=o+(i.scrollY||0)-i.flakeHeight+"px":i.flakeBottom?l.o.style.top=i.flakeBottom+"px":(l.o.style.display="none",l.o.style.bottom="0%",l.o.style.position="fixed",l.o.style.display="block")},l.vCheck=()=>{l.vX!==null&&(l.vX>=0&&l.vX<.2?l.vX=.2:l.vX<0&&l.vX>-.2&&(l.vX=-.2)),l.vY!==null&&l.vY>=0&&l.vY<.2&&(l.vY=.2)},l.move=()=>{const p=(l.vX||0)*i.windOffset;l.x+=p,l.y+=(l.vY||0)*l.vAmp;const f=i.screenX||0;l.x>=f||f-l.x<i.flakeWidth?l.x=0:p<0&&l.x-i.flakeLeftOffset<-i.flakeWidth&&(l.x=f-i.flakeWidth-1),l.refresh(),(i.screenY||0)+(i.scrollY||0)-l.y+i.flakeHeight<i.flakeHeight?(l.active=0,i.snowStick?l.stick():l.recycle()):i.useMeltEffect&&l.active&&l.type<3&&!l.melting&&Math.random()>.998&&(l.melting=!0,l.melt())},l.animate=()=>{l.move()},l.setVelocities=()=>{l.vX=(i.vRndX||0)+no(i.vMaxX*.12,.1),l.vY=(i.vRndY||0)+no(i.vMaxY*.12,.1)},l.setOpacity=(p,f)=>{if(!i.opacitySupported)return!1;p.style.opacity=String(f)},l.melt=()=>{!i.useMeltEffect||!l.melting?l.recycle():l.meltFrame<l.meltFrameCount?(l.setOpacity(l.o,l.meltFrames[l.meltFrame]),l.o.style.fontSize=l.fontSize-l.fontSize*(l.meltFrame/l.meltFrameCount)+"px",l.o.style.lineHeight=i.flakeHeight+2+i.flakeHeight*.75*(l.meltFrame/l.meltFrameCount)+"px",l.meltFrame++):l.recycle()},l.recycle=()=>{const p=i.screenX||0,f=i.screenY||0;l.o.style.display="none",l.o.style.position=i.fixedForEverything?"fixed":"absolute",l.o.style.bottom="auto",l.setVelocities(),l.vCheck(),l.meltFrame=0,l.melting=!1,l.setOpacity(l.o,.2+Math.random()*.3),l.o.style.padding="0px",l.o.style.margin="0px",l.o.style.fontSize=l.fontSize+"px",l.o.style.lineHeight=i.flakeHeight+2+"px",l.o.style.textAlign="center",l.o.style.verticalAlign="baseline",l.x=parseInt(String(no(p-i.flakeWidth-20)),10),l.y=parseInt(String(no(f)*-1),10)-i.flakeHeight,l.refresh(),l.o.style.display="block",l.active=1},l.recycle();const u=i.screenY||0;return l.y=no(u),l.refresh(),l});$t(this,"snow",()=>{let n=0;for(let s=0,r=this.flakes.length;s<r;s++)this.flakes[s].active===1&&(this.flakes[s].move(),n++),this.flakes[s].melting&&this.flakes[s].melt();if(n<this.flakesMaxActive){const s=this.flakes[parseInt(String(no(this.flakes.length)),10)];s&&s.active===0&&(s.melting=!0)}this.timer&&(this.features.getAnimationFrame?this.animationFrameId=this.features.getAnimationFrame(this.snow):this.timeoutId=setTimeout(this.snow,1e3/(this.animationInterval||20)))});$t(this,"createSnow",(n,s)=>{for(let r=0;r<n;r++)this.flakes[this.flakes.length]=this.createSnowFlake(parseInt(String(no(this.flakeTypes)),10));this.resolvedTargetElement&&this.resolvedTargetElement.appendChild(this.docFrag)});$t(this,"timerInit",()=>{this.timer=!0,this.snow()});$t(this,"init",()=>{for(let n=0;n<this.meltFrameCount;n++)this.meltFrames.push(1-n/this.meltFrameCount);this.randomizeWind(),this.createSnow(this.flakesMax),window.addEventListener("resize",this.resizeHandler),window.addEventListener("scroll",this.scrollHandler),this.freezeOnBlur&&(window.addEventListener("blur",this.freeze),window.addEventListener("focus",this.resume)),this.resizeHandler(),this.scrollHandler(),this.animationInterval=Math.max(20,this.animationInterval),this.timerInit()});$t(this,"start",()=>{if(!this.didInit){if(this.didInit=!0,typeof this.targetElement=="string"){const n=this.targetElement;if(this.resolvedTargetElement=document.getElementById(n),!this.resolvedTargetElement)throw new Error('Snowstorm: Unable to get targetElement "'+n+'"')}if(this.resolvedTargetElement||(this.resolvedTargetElement=document.body||document.documentElement),this.resolvedTargetElement!==document.documentElement&&this.resolvedTargetElement!==document.body&&(this.resizeHandler=this.resizeHandlerAlt,this.usePixelPosition=!0),this.resizeHandler(),this.usePositionFixed=this.usePositionFixed&&!this.flakeBottom,window.getComputedStyle)try{this.targetElementIsRelative=window.getComputedStyle(this.resolvedTargetElement,null).getPropertyValue("position")==="relative"}catch{this.targetElementIsRelative=!1}this.fixedForEverything=this.usePositionFixed,this.screenX&&this.screenY&&!this.disabled&&(this.init(),this.active=!0)}});this.features=a1e(),this.opacitySupported=(()=>{try{document.createElement("div").style.opacity="0.5"}catch{return!1}return!0})(),this.docFrag=document.createDocumentFragment(),this.originalResizeHandler=this.resizeHandler}}const WN=new o1e,XP=d.memo(()=>{const e=wi();return d.useEffect(()=>(rm(e.pathname)&&WN.start(),()=>{WN.destroy()}),[e.pathname]),null});XP.displayName="SnowAnimation";const l1e=W.icons.cloudflare,hd=W.deployment.caddyToCloudflare,c1e=[{text:"Open the Re-deploy panel",img:hd.step1},{text:"Un-link your custom domain",img:hd.step2},{text:"Link the same domain again",img:hd.step3}],d1e=[{text:"Click the  menu to open Quick Actions",img:hd.mobileStep1},{text:"Go to Deployments",img:hd.mobileStep2},{text:"Un-link your custom domain",img:hd.mobileStep3},{text:"Link the same domain again",img:hd.mobileStep4}],GN=({step:e,index:n,imgClass:s})=>t.jsxs("div",{className:"flex flex-col px-3 py-4 bg-[#FFFFFF0A] rounded-[20px]",children:[t.jsx("span",{className:"px-2 text-white text-base font-semibold",children:n+1}),t.jsx("p",{className:"px-2 text-[#F2F5F7] text-sm font-inter font-medium",children:e.text}),t.jsx("img",{src:e.img,alt:e.text,className:A("mt-3 w-full rounded-xl",s)})]}),qN=({app:e,onLinkDomain:n,className:s})=>t.jsxs("div",{className:`flex items-center justify-between py-3 px-4 bg-[#FFFFFF0A] rounded-[20px] border border-[#FFFFFF14] ${s??""}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-white text-base md:text-lg font-medium tracking-[-0.32px]",children:e.name}),t.jsxs("a",{href:`https://${e.domain}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[#809FFF] font-inter text-sm font-medium hover:underline",children:[e.domain,t.jsx(gc,{size:14})]})]}),t.jsx(Vt,{onClick:n,className:"h-8 px-4 rounded-lg bg-white hover:bg-white/90 text-black text-sm font-medium",children:"Go to Task"})]});function u1e({isOpen:e,onOpenChange:n,apps:s=[],onLinkDomain:r}){const i=s.length;return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"md:max-w-[900px] md:max-h-[586px] w-full max-md:h-full bg-[#1C1C1F] md:border md:border-[#FFFFFF1F] max-md:rounded-none rounded-[20px] p-0 gap-0 flex flex-col",children:[t.jsx(wl,{className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-[#FFFFFF14] hover:bg-[#FFFFFF20] transition-colors",children:t.jsx(Pt,{size:24,className:"text-[#C4C4CC]"})}),t.jsxs("div",{className:"flex flex-col p-5 md:px-8 pt-10 pb-8 md:pb-6 gap-2",children:[t.jsx("img",{src:l1e,alt:"Cloudflare",className:"w-16 my-4"}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mm,{size:20,className:"text-[#1B1B1C]",fill:"#FFB042"}),t.jsx("span",{className:"text-[#FFB042] text-sm md:text-[15px] font-medium",children:"Action required by 15 Feb '26"})]}),t.jsxs("h2",{className:"text-white text-xl md:text-2xl font-medium tracking-[-0.4px] md:tracking-[-0.2px] max-md:max-w-96",children:["Unlink and re-link your custom domain for",i===1?t.jsxs(t.Fragment,{children:[" live app ",s[0]?.name]}):t.jsxs(t.Fragment,{children:[" your ",i," live apps"]})]}),t.jsx("p",{className:"font-inter text-[#A4A4A5] text-sm",children:"We're migrating deployments to Cloudflare for better speed and uptime."})]}),t.jsxs("div",{className:"overflow-y-auto",style:{scrollbarWidth:"none"},children:[t.jsxs("div",{className:"max-md:hidden mx-8 p-4 bg-[#242427] rounded-xl",children:[t.jsx("p",{className:"text-[#989EA0] text-xs font-inter leading-6 tracking-[0.72px] mb-3",children:"GO TO YOUR PROJECTS"}),t.jsx("div",{className:"flex gap-4",children:c1e.map((a,o)=>t.jsx(GN,{step:a,index:o,imgClass:"h-[72px] object-cover"},a.text))})]}),t.jsxs("div",{className:"md:hidden m-5 mt-0 p-4 bg-[#242427] rounded-xl",children:[t.jsx("p",{className:"text-[#989EA0] text-xs font-inter leading-6 tracking-[0.72px] mb-3",children:"GO TO YOUR PROJECT"}),t.jsx("div",{className:"flex flex-col gap-3",children:d1e.map((a,o)=>t.jsx(GN,{step:a,index:o},a.text))})]}),t.jsx("div",{className:"max-md:hidden flex flex-col gap-4 px-8 pb-6 mt-6",children:s.map(a=>t.jsx(qN,{app:a,onLinkDomain:()=>r(a)},a.job_id))})]}),t.jsx(Sc,{className:"md:hidden max-h-[152px] p-4 bg-[#242427] border-t border-[#FFFFFF14]",children:t.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto",style:{scrollbarWidth:"none"},children:s.map(a=>t.jsx(qN,{app:a,onLinkDomain:()=>r(a),className:"bg-[#FFFFFF08] rounded-2xl"},a.job_id))})})]})})}function p1e({handleJobClick:e}){const[n,s]=d.useState(!1),[r]=Gm(),{data:i}=EQ(),{totalBannerHeight:a}=Ea(),o=d.useRef(!1),l=async c=>{if(!o.current){o.current=!0;try{const u=await r(c.job_id);if(u.error){Fn(Is.MIGRATION.CADDY_TO_CLOUDFLARE_JOB_FETCH,u.error,{jobId:c.job_id});return}const p=u.data;p&&(s(!1),setTimeout(()=>e(p,{openRedeployPanel:!0}),150))}catch(u){Fn(Is.MIGRATION.CADDY_TO_CLOUDFLARE_JOB_FETCH,u,{jobId:c.job_id})}finally{o.current=!1}}};return t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"fixed left-0 right-0 mx-auto w-full md:w-fit z-10 flex items-center justify-center md:p-[10px]",style:{top:a+56},initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"flex items-center justify-between md:justify-center min-h-12 py-1 px-4 max-md:w-full md:rounded-full gap-2 md:gap-1 border-y md:border border-white/5 backdrop-blur-xl bg-white/5",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-1",children:[t.jsx(mm,{size:22,className:"text-[#1B1B1C] shrink-0",fill:"#FFB042"}),t.jsx("span",{className:"max-md:hidden text-[#FFB042] text-[15px] font-medium leading-5",children:"Action required by 15 Feb '26"}),t.jsx("span",{className:"md:hidden text-[#FFB042] text-sm font-medium",children:"Unlink and re-link your custom domain for improved speed"}),t.jsx("span",{className:"max-md:hidden ml-1 font-inter text-white/80 text-[15px] font-medium leading-5",children:"Unlink and re-link your custom domain for improved speed and uptime"})]}),t.jsx(Vt,{onClick:()=>s(!0),className:"flex items-center justify-center px-3 py-2 h-8 md:ml-3 text-[15px] font-semibold leading-5 tracking-[-0.25px] max-md:rounded-lg md:rounded-full cursor-pointer bg-[linear-gradient(90deg,#FBAD41_41.8%,#F6821F_99.59%)] shadow-[inset_0px_-1.45px_0px_0px_#00000033] hover:opacity-90",children:"Continue"})]})}),t.jsx(u1e,{isOpen:n,onOpenChange:s,apps:i?.apps??[],onLinkDomain:l})]})}const f1e=W.landingPage.landingBgMobile,m1e=W.icons.landingLight,h1e=W.logo.borderedLogoDark,m0="mweb_soft_block_dismissed";function x1e(){const{t:e}=Jt("common"),[n,s]=d.useState(!1),{isTrulyFreeUser:r}=cs(),i=r(),a=d.useMemo(()=>e2(),[]);d.useEffect(()=>{if(!i||!a?.show||sessionStorage.getItem(m0))return;const u=setTimeout(()=>{s(!0),z(Mu.SOFT_BLOCK_SHOWN)},2e3);return()=>clearTimeout(u)},[i,a?.show]);const o=()=>{sessionStorage.setItem(m0,"true"),s(!1),z(Mu.SOFT_BLOCK_DISMISSED)},l=()=>{sessionStorage.setItem(m0,"true"),z(Mu.SOFT_BLOCK_OPEN_APP),window.location.href="/mobile-app?utm_source=mweb_soft_block"},c=()=>{sessionStorage.setItem(m0,"true"),s(!1),z(Mu.SOFT_BLOCK_CONTINUE_WEB)};return t.jsx(ns,{children:n&&t.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[99999] bg-[#0e0e0f] flex flex-col items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${f1e})`},children:[t.jsx(xe.img,{src:m1e,alt:"Overlay",className:"fixed inset-0 w-full h-full pointer-events-none transform -scale-x-100 mix-blend-screen",initial:{opacity:0},animate:{opacity:1},transition:{duration:2,ease:"easeOut"}}),t.jsx("button",{className:"absolute top-4 right-4 p-1.5 rounded-full bg-white/5",onClick:o,children:t.jsx(Pt,{size:20,className:"text-white/60"})}),t.jsxs("div",{className:"flex flex-col items-center gap-8 w-[300px]",children:[t.jsx("img",{src:h1e,alt:"Emergent",className:"w-20 h-20"}),t.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[t.jsx("p",{className:"text-white/90 text-base font-medium",children:e("mobileApp.tryMobileApp")}),t.jsx("p",{className:"text-white/80 text-[13px] leading-[18px]",children:e("mobileApp.previewDescription")})]}),t.jsxs("div",{className:"flex flex-col gap-4 w-full px-6",children:[t.jsx("button",{onClick:l,className:"w-full h-12 bg-white text-[#111112] font-semibold text-base rounded-[42px]",children:e("mobileApp.openInMobileApp")}),t.jsx("button",{onClick:c,className:"w-full h-12 bg-[#18181a] border border-[#292929] text-[#e6e6e6] font-medium text-[15px] rounded-[50px]",children:e("mobileApp.continueWithWeb")})]})]})]})})}const g1e=W.seriesB.robot,b1e=W.seriesB.eyes,y1e=W.moltbot.mascotBanner,KN="moltbot_mascot_closed",QP=d.memo(()=>{const[e,n]=d.useState(()=>localStorage.getItem(KN)!=="true"),[s,r]=d.useState(!1),i=()=>{localStorage.setItem(KN,"true"),n(!1)};return t.jsx(Xa,{children:e&&t.jsxs(qn.div,{className:"fixed bottom-0 right-6 z-[50] hidden md:block",initial:{y:200,opacity:0},animate:{y:0,opacity:1},exit:{x:300,opacity:0},transition:{type:"spring",stiffness:50,damping:15,delay:.8},children:[t.jsx("button",{onClick:i,className:"absolute -top-2 -right-2 z-30 p-1 bg-white/40 hover:bg-white/60 rounded-full backdrop-blur-sm transition-colors",children:t.jsx(Pt,{size:16,className:"text-white"})}),t.jsxs("div",{className:"relative flex flex-col items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t.jsx(qn.div,{className:"absolute -top-5  w-[250px] h-[200px] rounded-full pointer-events-none",style:{background:"radial-gradient(ellipse, rgba(255, 255, 255, 0.5) 0%, transparent 70%)",filter:"blur(25px)"},initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3}}),t.jsx(qn.div,{className:"relative z-10 overflow-hidden cursor-pointer",animate:{rotate:s?-2:0,y:s?-2:0},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>window.open("https://emergent.sh/tutorial/moltbot-on-emergent","_blank"),children:t.jsx("img",{src:y1e,alt:"Moltbot banner",className:"w-[180px] h-auto rounded-lg"})}),t.jsxs("div",{className:"relative -mt-2 z-20",children:[t.jsx("img",{src:g1e,alt:"Robot mascot",className:"w-[128px] h-auto"}),t.jsx("img",{src:b1e,alt:"",className:"absolute top-7 left-[45%] transform -translate-x-1/2 w-[28px] h-auto pointer-events-none"})]})]})]})})});QP.displayName="MoltBotMascot";const v1e=W.common.banner,w1e=W.videos.bgVid,YN=W.icons.bgPatternHome,C1e=W.eLogoGif,al=100;function ZN(){const e=Xi(),{getCurrentOrganizationId:n,getCurrentWorkspaceData:s}=ys(),[r]=DD(),[i,a]=d.useState([]),[o,l]=d.useState(0),[c,u]=d.useState(!0),[p,f]=d.useState(!1),[m,h]=d.useState(!0),x=n(),y=d.useRef(void 0);d.useEffect(()=>{if(y.current===x&&y.current!==void 0)return;y.current=x,(async()=>{h(!0),a([]),l(0),u(!0);try{const pt=await r({organization_id:x,limit:al,offset:0}).unwrap();a(pt||[]),l(al),u((pt||[]).length===al)}catch{a([]),u(!1)}finally{h(!1)}})()},[x,r]);const v=d.useCallback(async()=>{if(!(!c||p)){f(!0);try{const pt=await r({organization_id:x,limit:al,offset:o}).unwrap()||[];a(Xt=>[...Xt,...pt]),l(Xt=>Xt+al),u(pt.length===al)}catch{u(!1)}finally{f(!1)}}},[c,p,x,o,r]),g=d.useRef(!1);d.useEffect(()=>{g.current=i.length>0},[i.length]);const b=d.useCallback(async()=>{g.current||h(!0),l(0),u(!0);try{const Te=await r({organization_id:x,limit:al,offset:0}).unwrap();a(Te||[]),l(al),u((Te||[]).length===al)}catch{a([]),u(!1)}finally{h(!1)}},[x,r]),{config:w}=yc(),[N,j]=d.useState(!1),[_,C]=d.useState(!1),[F,E]=d.useState(""),[S,M]=d.useState(w?.overload_lock?.enabled||!1),[k,I]=d.useState(!1),[D,P]=d.useState(!1),R=Er(),B=Noe(),U=wR(),H=Foe(),$=Ioe(),q=NR(),Q=Moe(),V=Loe(),ee=FR(),{isMobile:X}=ps(),ae=p8(),me=f8(),[oe,pe]=d.useState(!1),se=ER(),re=kR(),ve=IR(),we=AR(),be=DR(),Ue=Ooe(),fe=Qi(),Me=Te=>{Te||(ve.close(),ve.config?.onClose?.())},J=Te=>{Te||(we.close(),we.config?.onClose?.())},Ne=Te=>{Te||(be.close(),be.config?.onClose?.())},ge=Te=>{Te||(mC(),Ue.close(),Ue.config?.onClose?.())},Ee=d.useRef(null),Ce=d.useRef(null),{session:Ie,user:Ae}=xs(),{checkGitHubConnection:Se}=Jd(),[ht,Qe]=Sp(),{isTrulyFreeUser:De,tier:de,loading:ue,personalPlansResponse:lt}=cs(),st=Vr(Te=>Te.menu?.showModelSelectorTooltip),mt=d.useMemo(()=>De()&&!ue,[de,ue]),{isEligible:ut}=ih(),[wn,Oe]=d.useState(!1),{data:_e,isSuccess:Et}=Ri(void 0,{skip:!Ae}),dt=_e?.email_warmup_enabled&&!_e?.has_kubernetes_apps,vt=_e?.has_kubernetes_apps,Ct=joe();_oe();const St=Eoe(),ct=Soe(),[Ft,Fe]=d.useState([]),[He,Ve]=d.useState(null),Ke=d.useRef(null),{data:Ye,isLoading:At}=qm(void 0,{skip:!Et}),mn=()=>ut?t.jsx($pe,{}):Et&&At?null:Ye?.promo_code_enabled?t.jsx(vm,{}):pd()?t.jsx(wm,{}):zx()?t.jsx(Cm,{}):!dt&&me&&me.config?.homeText?t.jsx(Bpe,{modalChange:()=>{},config:{homeText:me.config?.homeText,homeCtaText:me.config?.homeCtaText}}):null,[Dt,Yt]=d.useState(!1),fn=d.useRef(0),qt=d.useRef(null),_n=d.useRef(!1);d.useEffect(()=>{let Te=null;if(mt){const pt=Hn=>{const en=Hn.target.scrollTop;en>0&&Yt(!0),en===0&&Yt(!1),fn.current=en},Xt=qt.current;Xt&&(Xt.addEventListener("scroll",pt,{passive:!0}),Te=()=>Xt.removeEventListener("scroll",pt))}return()=>{Te&&Te()}},[mt,ue]);const[In,je]=d.useState(()=>{const Te=localStorage.getItem("embeddedTaskTabId");if(!Te){const pt=t4();return localStorage.setItem("embeddedTaskTabId",pt),pt}return Te||t4()});d.useEffect(()=>{Ae&&vl.createUser(Ae?.id)},[Ae]);const Le=()=>{const Te=t4();localStorage.setItem("embeddedTaskTabId",Te),je(Te)},xt=()=>{if(!_e?.pending_invitations||Ct.isOpen||He)return;let Te=null;try{const Xt=localStorage.getItem("pending_invitation");Xt&&(Te=JSON.parse(Xt).invitation_id)}catch{}const pt=_e.pending_invitations.find(Xt=>{const Hn=Te===Xt.id,An=!Ft.includes(Xt.id),en=!Uq(Xt.organization_id);return Hn&&An?!0:An&&en});if(pt){const Xt={id:pt.id,organization_id:pt.organization_id,organization_name:pt.organization_name,role:pt.role,invited_by:pt.invited_by,invited_by_email:pt.invited_by,inviter_name:pt.inviter_name,expires_at:pt.expires_at,created_at:pt.created_at};Ve(pt.id);const Hn=()=>{Fe(An=>[...An,pt.id]),Ve(null),vA(pt.organization_id),localStorage.removeItem("pending_invitation")};Ct.open({invitation:Xt,onAccept:Hn,onDecline:Hn})}},Rt=Na(),qe=wi(),{setTabs:it,setActiveTab:_t,updateTabState:Kt,state:Cn,getTabByJobId:On,removeTab:rs,activeTab:Vn}=qr(),{refreshCredits:Bn,credits:En}=cs(),jn=d.useRef(!1);d.useEffect(()=>{if(jn.current||!Ae||_e===void 0||(_e?.show_perceived_msg_experiment&&localStorage.setItem(B6,"true"),!(localStorage.getItem(B6)==="true"))||(jn.current=!0,sessionStorage.getItem("perceivedUXHandled")==="true"))return;sessionStorage.setItem("perceivedUXHandled","true");const pt=`perceived-ux-${Date.now()}`,Xt="/chat";it(Hn=>[...Hn,{id:pt,title:"New Chat",path:Xt,level:"user",state:{isPerceivedUX:!0,tabId:pt,needsApiCall:!1,fromPerceivedUX:!0}}]),Kt(pt,{isPerceivedUX:!0,needsApiCall:!1,fromPerceivedUX:!0}),z(wD.TAB_OPENED,{userId:Ae?.id,tabId:pt}),setTimeout(()=>{_t(pt),Rt(Xt)},0)},[_e,Ae,it,Kt,_t,Rt]),d.useEffect(()=>{if(new URLSearchParams(window.location.search).get("utm_shift")!=="redirect")return;const Xt=navigator.userAgent||navigator.vendor,Hn=/android/i.test(Xt),An=/iPad|iPhone|iPod/.test(Xt),en=new URLSearchParams(window.location.search);en.delete("utm_shift");const Zn="https://app.emergent.sh/home",Ot=en.toString(),Jn=Ot?`${Zn}?${Ot}`:Zn;An?window.location.href=`x-safari-https://${Jn.replace("https://","")}`:Hn&&(window.location.href=`intent://${Jn.replace("https://","")}#Intent;scheme=https;package=com.android.chrome;end`)},[]),d.useEffect(()=>{Ie?(j(!1),Cn.activeTab==="home"&&(Ee.current!==null&&Ee.current!=="home"&&Bn(),Kt("home",{isCloudFlow:!0})),Ee.current=Cn.activeTab):j(!1)},[Ie,Cn.activeTab,qe?.pathname]),d.useEffect(()=>{Vn==="home"&&(b(),qt.current&&(qt.current.scrollTop=0))},[Vn]),d.useEffect(()=>{Ie&&b()},[n(),b,Ie]),d.useEffect(()=>{const Te=()=>{!S&&w?.overload_lock?.enabled&&M(!0)};return document.addEventListener("click",Te),()=>{document.removeEventListener("click",Te)}},[S,w]);const Un=d.useCallback(async()=>{C(!0),await b(),C(!1)},[b]);d.useEffect(()=>{Ie?(Se(),j(!1),gA()):j(!1)},[Ie]);const fs=d.useCallback((Te,pt)=>{const Xt=Te._openedInAdminMode;if(!Te.payload.task||!(Te.payload.container_id||Te.id))return;const An=On(Te.id);if(An){const et=Te.organization_id||Te.payload?.organization_id,jt=An.organization_id;if(et!==jt)rs(An.id);else{pt?.openRedeployPanel&&Kt(An.id,{openRedeployPanel:!0}),_t(An.id);return}}const en=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Zn=`/root/runs/${Te.id}/trajectory.json`;let Ot=null;Te.payload.forked_from?Ot={parent_job_id:Te.payload.forked_from,parent_job_title:null}:Te.payload.forked?.parent_job_id&&(Ot=Te.payload.forked);const Jn=Te.organization_id||Te.payload?.organization_id,Pn={containerId:Te.payload.container_id||Te.id,initial_commit_id:Te.payload.initial_commit_id,task:Te.payload.task,jobId:Te.id,title:Te.payload?.original_task||Te.payload.task,trajPath:Zn,tabId:en,fromJobList:!0,isCloudFlow:Te.payload?.is_cloud,clientRefId:Te.client_ref_id,modelName:Te.payload.model_name,promptName:Te.payload.prompt_name,promptVersion:Te.payload.prompt_version,costLimit:Te.payload.per_instance_cost_limit,agentName:Te.payload.agent_name,portMapping:Te.payload.portMapping,created_by:Te.created_by,forked:Ot,isAdminModeJob:Xt,originalOrganizationId:Xt?Jn:void 0,originalOrganizationName:Xt?Te.organization_name||Te.payload?.organization_name:void 0,tabHeading:Te.payload?.dynamic_preview_subdomain&&Te.title?Te.title:void 0,dynamic_preview_subdomain:Te.payload?.dynamic_preview_subdomain,openRedeployPanel:pt?.openRedeployPanel},Gs=n();let Gn,Bs,vs,sr;if(Xt)Gn="user",Bs=void 0,vs=void 0,sr="/chat";else{Gn=Jn?"organization":"user",Bs=Jn||Gs,vs=Te.organization_name||Te.payload?.organization_name;const et=n();sr=et?`/workspace/${et}/chat`:"/chat"}const he=Te.payload?.dynamic_preview_subdomain&&Te.title?Te.title:Te.payload.task;it(et=>[...et,{id:en,title:`${Te.payload.task}`,path:sr,level:Gn,organization_id:Bs,organization_name:vs,state:Pn,tabHeading:he}]),Kt(en,Pn),_t(en),Rt(`${sr}?id=${Te.id}`),z(Tn.HOME_PAGE_EVENTS.RECENT_TASK_OPENED,Te)},[On,Kt,_t,n,it,Rt,rs]);d.useEffect(()=>{},[]);const cn=()=>{const Te=new Date,Xt=new Date(w?.overload_lock?.locked_until||"").getTime()-Te.getTime(),Hn=Math.floor(Xt/(1e3*60*60*24)),An=Math.floor(Xt%(1e3*60*60*24)/(1e3*60*60)),en=Math.floor(Xt%(1e3*60*60)/(1e3*60)),Zn=Hn<10?`0${Hn}`:`${Hn}`,Ot=An<10?`0${An}`:`${An}`,Jn=en<10?`0${en}`:`${en}`;return{days:Zn,hours:Ot,minutes:Jn}},hn=async()=>{fC();const Te=lt?.available_plans?.find(Xt=>Xt.tier_name.toLowerCase()==="emergent standard"&&Xt.billing_period==="MONTHLY"),{url:pt}=await yt.createCheckoutSession(0,!0,Te?.id,void 0,Te?.currency||"USD");pt&&(window.location.href=pt)};d.useEffect(()=>{!Ct.isOpen&&!He&&xt()},[_e]);const[dn,Wn]=d.useState(Ct.isOpen);d.useEffect(()=>{dn&&!Ct.isOpen&&(He&&(Fe(Te=>[...Te,He]),Ve(null)),Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{Ke.current=null,xt()},500)),Wn(Ct.isOpen)},[Ct.isOpen]),d.useEffect(()=>()=>{Ke.current&&(clearTimeout(Ke.current),Ke.current=null)},[]),d.useEffect(()=>{!st&&D&&P(!1)},[st,D]),d.useEffect(()=>{!R.isOpen&&D&&P(!1)},[R.isOpen,D]),d.useEffect(()=>{D&&ct.isOpen&&($q(),ct.close())},[D,ct]),d.useEffect(()=>{Ae&&Ie&&Ye&&Ye.pix_modal&&!U5()&&!q.isOpen&&!fe&&!D&&de==="free"&&(P(!0),q.open({couponCode:"PIX90",triggerLocation:"home",desktopImageUrl:W.modals.pixDesktop,mobileImageUrl:W.modals.pixMobile}))},[Ae,Ie,Ye,q.isOpen,D,de]),d.useEffect(()=>{!q.isOpen&&U5()&&P(!1)},[q.isOpen]),d.useEffect(()=>{q.isOpen&&!U5()&&oK()},[q.isOpen]),d.useEffect(()=>{Ae&&Ie&&de!=="free"&&!hK()&&i.length>0&&!V.isOpen&&!fe&&!ue&&uee()&&(P(!0),V.open({onGetStarted:()=>{Jf(),e(Ka(!0))},onClose:()=>{Jf(),e(Ka(!0))},onShowUpgradeModal:()=>{R.open({triggerLocation:"default",shouldShowModelSelectorTooltipAfterClose:!0})},onPreventOtherModals:Te=>{P(Te)}}))},[Ae,Ie,de,V.isOpen,ue,i.length,fe]),d.useEffect(()=>{Ae&&Ie&&de==="free"&&!ut&&!vK()&&!re.isOpen&&!ue&&!fe&&!D&&!V.isOpen&&!B.isOpen&&!$.isOpen&&!ve.isOpen&&!we.isOpen&&!be.isOpen&&Ye?.promo_code_enabled&&(P(!0),re.open({onClose:()=>{P(!1)}}),wK())},[Ae,Ie,de,ut,re.isOpen,ue,D,V.isOpen,B.isOpen,$.isOpen,ve.isOpen,we.isOpen,be.isOpen,Ye]),d.useEffect(()=>{const Te=ho(),pt=rh(_e,Te),Xt=sh(_e),Hn=_e?.country_code==="IN",An=_e?.country_code==="BR",en=(pt||Xt)&&!Hn&&!An;Ae&&Ie&&de==="free"&&!ut&&!_K()&&!ve.isOpen&&!ue&&!fe&&!D&&Et&&!V.isOpen&&!B.isOpen&&!$.isOpen&&!re.isOpen&&!we.isOpen&&!be.isOpen&&pd()&&Ye&&!Ye.promo_code_enabled&&en&&(P(!0),ve.open({onClose:()=>{P(!1)}}),jK())},[Ae,Ie,de,ut,ve.isOpen,ue,D,Et,V.isOpen,B.isOpen,$.isOpen,re.isOpen,we.isOpen,be.isOpen,Ye,_e]),d.useEffect(()=>{const Te=ho(),pt=b2(_e,Te);Ae&&Ie&&de==="free"&&pt&&nm()&&!NK()&&!we.isOpen&&!ue&&!fe&&!D&&Et&&!V.isOpen&&!B.isOpen&&!$.isOpen&&!re.isOpen&&!ve.isOpen&&!be.isOpen&&(P(!0),we.open({onClose:()=>{P(!1)}}),FK())},[Ae,Ie,de,_e,Et,we.isOpen,ue,fe,D,V.isOpen,B.isOpen,$.isOpen,re.isOpen,ve.isOpen,be.isOpen]),d.useEffect(()=>{const Te=ho(),pt=g2(_e,Te),Xt=_e?.country_code==="IN";Ae&&Ie&&de==="free"&&!ut&&!EK()&&!be.isOpen&&!ue&&!fe&&!D&&!V.isOpen&&!B.isOpen&&!$.isOpen&&!re.isOpen&&!we.isOpen&&!ve.isOpen&&zx()&&Ye&&!Ye.promo_code_enabled&&pt&&Xt&&(P(!0),be.open({onClose:()=>{P(!1)}}),SK())},[Ae,Ie,de,ut,be.isOpen,ue,D,V.isOpen,B.isOpen,$.isOpen,re.isOpen,we.isOpen,ve.isOpen,Ye,_e]),d.useEffect(()=>{Ae&&Ie&&de==="free"&&ut&&!TK()&&!Ue.isOpen&&!ue&&!fe&&!D&&!V.isOpen&&!B.isOpen&&!$.isOpen&&(P(!0),Ue.open({onClose:()=>P(!1)}),mC())},[Ae,Ie,de,ut,Ue.isOpen,ue,D,V.isOpen,B.isOpen,$.isOpen]),d.useEffect(()=>{Ae&&Ie&&de!=="free"&&!ut&&!gK()&&!se.isOpen&&!ue&&!fe&&!D&&!V.isOpen&&!B.isOpen&&!$.isOpen&&pee()&&(P(!0),se.open({onClose:()=>{P(!1)}}),bK())},[Ae,Ie,de,ut,se.isOpen,ue,D,V.isOpen,B.isOpen,$.isOpen]),d.useEffect(()=>{Ae&&Ie&&i.length>0&&!Vq()&&!B.isOpen&&!ue&&!fe&&!D&&!$.isOpen&&!V.isOpen&&dee()&&B.open({onGetStarted:()=>{},onClose:()=>{},onShowUpgradeModal:()=>{R.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!1})},onPreventOtherModals:Te=>{P(Te)}})},[Ae,Ie,i.length,B.isOpen,ue,D,$.isOpen,V.isOpen]),d.useEffect(()=>{if(Ae&&Ie&&ae&&!ut&&!ee.isOpen&&!fe&&!D&&!$.isOpen&&!B.isOpen&&!V.isOpen&&!Ye?.promo_code_enabled&&!re.isOpen&&!st&&Ce.current!==ae.id){const Te=setTimeout(()=>{Ce.current=ae.id,ee.open({schema:ae})},1e3);return()=>clearTimeout(Te)}},[Ae,Ie,ae,ee,ut,D,$.isOpen,B.isOpen,V.isOpen,re.isOpen,st,Ye?.promo_code_enabled]),d.useEffect(()=>{const Te=ht.get("job_id");if(Te&&i.length>0){const pt=i.find(Xt=>Xt.id===Te);pt&&(fs(pt),ht.delete("job_id"),Qe(ht))}},[i,ht,Qe,fs]),d.useEffect(()=>{i.length===0&&Ae&&!X&&vl.triggerEvent("no-jobs-created",{user_id:Ae?.id,user_email:Ae?.email,tier:de,user_id_ends:Ae?.id?.slice(-1)}),i.length===0&&Ae&&X&&vl.triggerEvent("no-jobs-created-mobile",{user_id:Ae?.id,user_email:Ae?.email,tier:de,user_id_ends:Ae?.id?.slice(-1)})},[i?.length,Ae]);let Ln;Ae?.user_metadata?.name?Ln=Ae.user_metadata.name.split(" ")[0]:Ae?.user_metadata?.full_name?Ln=Ae.user_metadata.full_name.split(" ")[0]:Ln=Ae?.email?.split("@")[0],d.useEffect(()=>{Ae&&(z("home_visited",{userId:Ae?.id,userName:Ln,tier:de}),mt&&pX(Ae?.id))},[]),d.useEffect(()=>{Ae&&WP()&&!GP(Ae.id)&&bpe(Ae.id,Ae.email||"",Ae.user_metadata?.name||Ae.user_metadata?.full_name)},[Ae]),d.useEffect(()=>{!N&&!ue&&Ae&&z("home_loaded",{userId:Ae?.id,userName:Ln,credits:En,tier:de})},[ue,N,Ae?.id]),d.useEffect(()=>{const Te=oee();pe(Te)},[Ae,de]);const Cs=()=>{Ae&&(lee(Ae.id),dK(),cee("accepted",{userId:Ae.id,userEmail:Ae.email,tier:de}),Q.open())},Vs=d.useCallback(Te=>{Te?U.open():U.close()},[U]),zt=d.useCallback(()=>{Oe(!1)},[]),is=d.useCallback(Te=>{Yt(Te)},[]),$e=d.useCallback(Te=>{Te?H.open({jobIdInput:F,setJobIdInput:E,handleJobClick:fs}):H.close()},[H,F,fs]),Be=d.useMemo(()=>i,[i]);return N||ue?t.jsx(Xa,{mode:"wait",children:t.jsx(qn.div,{className:"flex items-center justify-center min-h-screen",initial:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:t.jsx("img",{src:C1e,alt:"Loading",width:64,height:64,style:{width:64,height:64,maxWidth:64,maxHeight:64}})},"loading")}):t.jsxs(t.Fragment,{children:[xee()&&t.jsx(XP,{}),t.jsxs("div",{"data-testid":EM.container,"data-scroll-lock-scrollable":!0,ref:qt,className:`relative flex flex-col items-center h-full overflow-y-scroll md:h-screen justify-between md:block ${mt?"bg-cover bg-center bg-no-repeat":""}`,style:{...mt&&!X?{backgroundImage:`url(${YN})`}:{}},children:[t.jsx("img",{alt:"Background",src:YN,className:"fixed top-0 bottom-0 pointer-events-none left-0 right-0 z-[-1] object-cover h-[100dvh]"}),t.jsx(qP,{isFreeUser:mt||X}),!fe&&mn(),oe&&!cK()&&!mt&&t.jsx(Mpe,{modalChange:Cs}),t.jsx(Xa,{children:S&&t.jsxs(qn.div,{className:"absolute top-0 left-0 z-20 w-full",initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",stiffness:100,damping:20},children:[t.jsxs("div",{className:"relative min-h-[300px] sm:min-h-[450px] lg:min-h-[400px]",children:[t.jsx("img",{alt:"Banner",src:v1e,className:"absolute inset-0 z-20 object-cover w-full h-full"}),t.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",children:t.jsx("div",{className:"flex w-full h-full max-md:hidden",children:[...Array(4)].map((Te,pt)=>t.jsx("video",{src:w1e,autoPlay:!0,loop:!0,muted:!0,className:"flex-shrink-0 object-cover w-full h-full opacity-10",style:{maxWidth:"25%",transform:`rotate(${pt*180}deg)`}},pt))})}),t.jsx("div",{className:"absolute top-0 left-0 z-30 w-full h-full pb-10",children:t.jsx("div",{className:"flex px-4 py-6 w-full min-h-[300px] sm:min-h-[750px] lg:min-h-[400px] sm:px-8 sm:py-8 lg:px-[72px] lg:py-12",children:t.jsxs("div",{className:"flex flex-col items-start justify-between w-full space-y-8",children:[t.jsxs("div",{className:"flex flex-col space-y-2 max-w-full lg:max-w-[600px]",children:[t.jsx("span",{className:"text-[#242F33] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.title}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:w?.overload_lock?.description})]}),t.jsxs("div",{className:"flex flex-col w-full gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:gap-8 lg:gap-16",children:[t.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.capacity}),t.jsx(vc,{color:"#CB6565"})]}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"System Capacity"})]}),t.jsxs("div",{className:"flex flex-col items-start gap-1 lg:gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-[#242F33] text-xl font-semibold leading-6 font-sans sm:text-2xl sm:leading-7 lg:text-[28px] lg:leading-9",children:w?.overload_lock?.concurrent_tasks})}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7",children:"Concurrent running tasks"})]})]}),t.jsxs("div",{className:"flex flex-col gap-1 lg:gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 lg:justify-end",children:[t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[cn().days,t.jsx("span",{className:"text-xs lg:text-sm",children:"d"})]})}),t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[cn().hours,t.jsx("span",{className:"text-xs lg:text-sm",children:"h"})]})}),t.jsx("div",{className:"p-2 bg-white rounded-lg flex items-center justify-center lg:p-[10px] lg:rounded-[12px]",children:t.jsxs("span",{className:"text-[#3D494D] text-lg font-semibold leading-6 font-sans sm:text-xl sm:leading-7 lg:text-[28px] lg:leading-9",children:[cn().minutes,t.jsx("span",{className:"text-xs lg:text-sm",children:"m"})]})})]}),t.jsx("span",{className:"text-[#242F33] text-sm font-normal leading-5 opacity-60 font-sans sm:text-base sm:leading-6 lg:text-[18px] lg:leading-7 lg:text-right",children:"Estimated time to come back"})]})]})]})})})]}),t.jsx("div",{className:"h-12 bg-black/20 backdrop-blur-sm sm:h-16 lg:h-20"})]})}),t.jsx("div",{className:A("flex flex-col items-center w-full",X?"mt-0":"mt-[120px]"),children:t.jsxs("div",{className:"flex flex-col items-center w-full h-full md:max-w-6xl",children:[!X&&Ie&&t.jsx(ape,{}),t.jsx("div",{className:A("w-full flex items-center justify-center",X&&"mt-[80px]"),children:t.jsx(KP,{isFreeUser:mt,session:Ie,userName:Ln})}),t.jsx("div",{"data-component":"embedded-task",className:"w-full h-full",children:t.jsx(fue,{tabId:In,onClearTabId:Le,isReferralModalOpen:U.isOpen,setIsReferralModalOpen:Vs,isCustomAgentsModalOpen:k,setIsCustomAgentsModalOpen:I,showMobileAgentIntro:wn,onMobileAgentIntroShown:zt,jobsLength:Be.length})}),t.jsx("div",{className:A("w-full",X&&"mb-[200px]"),children:t.jsx(YP,{isFreeUser:mt,jobs:Be,showBottomPage:Dt,setShowBottomPage:is})})]})}),t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("div",{className:"w-full max-w-6xl",children:!X&&Be?.length>0&&Ae&&Ie&&t.jsx(qn.div,{initial:_n.current?!1:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10,delay:.6},onAnimationComplete:()=>{_n.current=!0},className:"mt-[100px]",children:t.jsx(rpe,{jobs:Be,handleJobClick:fs,handleReload:Un,reloading:_,setIsJobIdDialogOpen:$e,loading:m,refetchJobs:b,hasMore:c,isLoadingMore:p,onLoadMore:v})})})}),t.jsx(qn.div,{initial:{opacity:0,y:20},animate:{opacity:mt&&!Dt?0:1,y:mt&&!Dt?20:0,marginTop:mt&&Be.length===0?Dt?"100px":"300px":"100px"},transition:{duration:.8,ease:[.33,1,.68,1],opacity:{duration:Dt?.8:.6,ease:Dt?"easeInOut":"easeOut"},marginTop:{duration:Dt?.4:.5,ease:Dt?"easeOut":"easeIn"},y:{duration:Dt?.8:.6,ease:Dt?"easeOut":"easeIn"}},className:"flex items-center justify-center w-full max-md:hidden",children:t.jsx("div",{className:"w-full max-w-6xl px-4",children:t.jsx(JP,{})})}),t.jsx(wue,{}),!X&&_ee()&&t.jsx(QP,{}),t.jsx(upe,{isOpen:St.isOpen,onOpenChange:St.close,onClaimDiscount:hn,onClose:()=>{fC()}}),t.jsx(ppe,{isOpen:se.isOpen,onOpenChange:Te=>{Te||(se.close(),se.config?.onClose?.())}}),t.jsx(zpe,{isOpen:re.isOpen,onOpenChange:Te=>{Te||(re.close(),re.config?.onClose?.())}}),t.jsx(qpe,{isOpen:ve.isOpen,onOpenChange:Me}),t.jsx(Qpe,{isOpen:we.isOpen,onOpenChange:J}),t.jsx(Zpe,{isOpen:be.isOpen,onOpenChange:Ne}),t.jsx(rce,{isOpen:Ue.isOpen,onOpenChange:ge}),dt&&t.jsx(i1e,{}),vt&&t.jsx(p1e,{handleJobClick:fs}),X&&!fe&&t.jsx(x1e,{})]})]})}const ah=()=>Xi(),br=Vr;class s4 extends d.Component{constructor(){super(...arguments);$t(this,"state",{hasError:!1,error:null});$t(this,"handleRetry",()=>{this.setState({hasError:!1,error:null}),window.location.reload()})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){Fd(s,{errorInfo:r.componentStack,context:"error_boundary"})}render(){return this.state.hasError?t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:t.jsxs("div",{className:"max-w-md text-center",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-500 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),t.jsx(Vt,{onClick:this.handleRetry,children:"Try again"})]})}):this.props.children}}var eO="vercel.ai.error",_1e=Symbol.for(eO),tO,j1e=class nO extends Error{constructor({name:n,message:s,cause:r}){super(s),this[tO]=!0,this.name=n,this.cause=r}static isInstance(n){return nO.hasMarker(n,eO)}static hasMarker(n,s){const r=Symbol.for(s);return n!=null&&typeof n=="object"&&r in n&&typeof n[r]=="boolean"&&n[r]===!0}};tO=_1e;var bp=j1e;function sO(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var rO="AI_InvalidArgumentError",iO=`vercel.ai.error.${rO}`,N1e=Symbol.for(iO),aO,F1e=class extends bp{constructor({message:e,cause:n,argument:s}){super({name:rO,message:e,cause:n}),this[aO]=!0,this.argument=s}static isInstance(e){return bp.hasMarker(e,iO)}};aO=N1e;var oO="AI_JSONParseError",lO=`vercel.ai.error.${oO}`,E1e=Symbol.for(lO),cO,JN=class extends bp{constructor({text:e,cause:n}){super({name:oO,message:`JSON parsing failed: Text: ${e}.
Error message: ${sO(n)}`,cause:n}),this[cO]=!0,this.text=e}static isInstance(e){return bp.hasMarker(e,lO)}};cO=E1e;var dO="AI_TypeValidationError",uO=`vercel.ai.error.${dO}`,S1e=Symbol.for(uO),pO,k1e=class jy extends bp{constructor({value:n,cause:s}){super({name:dO,message:`Type validation failed: Value: ${JSON.stringify(n)}.
Error message: ${sO(s)}`,cause:s}),this[pO]=!0,this.value=n}static isInstance(n){return bp.hasMarker(n,uO)}static wrap({value:n,cause:s}){return jy.isInstance(s)&&s.value===n?s:new jy({value:n,cause:s})}};pO=S1e;var XN=k1e;let T1e=(e,n=21)=>(s=n)=>{let r="",i=s|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var Zc={exports:{}},QN;function I1e(){if(QN)return Zc.exports;QN=1;const e=typeof Buffer<"u",n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,s=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(l,c,u){u==null&&c!==null&&typeof c=="object"&&(u=c,c=void 0),e&&Buffer.isBuffer(l)&&(l=l.toString()),l&&l.charCodeAt(0)===65279&&(l=l.slice(1));const p=JSON.parse(l,c);if(p===null||typeof p!="object")return p;const f=u&&u.protoAction||"error",m=u&&u.constructorAction||"error";if(f==="ignore"&&m==="ignore")return p;if(f!=="ignore"&&m!=="ignore"){if(n.test(l)===!1&&s.test(l)===!1)return p}else if(f!=="ignore"&&m==="ignore"){if(n.test(l)===!1)return p}else if(s.test(l)===!1)return p;return i(p,{protoAction:f,constructorAction:m,safe:u&&u.safe})}function i(l,{protoAction:c="error",constructorAction:u="error",safe:p}={}){let f=[l];for(;f.length;){const m=f;f=[];for(const h of m){if(c!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(p===!0)return null;if(c==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(p===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(const x in h){const y=h[x];y&&typeof y=="object"&&f.push(y)}}}return l}function a(l,c,u){const p=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(l,c,u)}finally{Error.stackTraceLimit=p}}function o(l,c){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(l,c,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=u}}return Zc.exports=a,Zc.exports.default=a,Zc.exports.parse=a,Zc.exports.safeParse=o,Zc.exports.scan=i,Zc.exports}var A1e=I1e();const D1e=Ji(A1e);var M1e=({prefix:e,size:n=16,alphabet:s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=T1e(s,n);if(e==null)return i;if(s.includes(r))throw new F1e({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${s}".`});return a=>`${e}${r}${i(a)}`},w8=M1e(),Ny=Symbol.for("vercel.ai.validator");function L1e(e){return{[Ny]:!0,validate:e}}function R1e(e){return typeof e=="object"&&e!==null&&Ny in e&&e[Ny]===!0&&"validate"in e}function P1e(e){return R1e(e)?e:O1e(e)}function O1e(e){return L1e(n=>{const s=e.safeParse(n);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}})}function B1e({value:e,schema:n}){const s=P1e(n);try{if(s.validate==null)return{success:!0,value:e};const r=s.validate(e);return r.success?r:{success:!1,error:XN.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:XN.wrap({value:e,cause:r})}}}function eF({text:e,schema:n}){try{const s=D1e.parse(e);if(n==null)return{success:!0,value:s,rawValue:s};const r=B1e({value:s,schema:n});return r.success?{...r,rawValue:s}:r}catch(s){return{success:!1,error:JN.isInstance(s)?s:new JN({text:e,cause:s})}}}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var Nm={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Fm={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Em={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(n=>n!=null&&typeof n=="object"&&"type"in n&&n.type==="text"&&"text"in n&&n.text!=null&&typeof n.text=="object"&&"value"in n.text&&typeof n.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Sm={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},km={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},U1e=[Nm,Fm,Em,Sm,km];Nm.code+"",Fm.code+"",Em.code+"",Sm.code+"",km.code+"";Nm.name+"",Nm.code,Fm.name+"",Fm.code,Em.name+"",Em.code,Sm.name+"",Sm.code,km.name+"",km.code;U1e.map(e=>e.code);function V1e({promptTokens:e,completionTokens:n}){return{promptTokens:e,completionTokens:n,totalTokens:e+n}}function H1e(e){const n=["ROOT"];let s=-1,r=null;function i(c,u,p){switch(c){case'"':{s=u,n.pop(),n.push(p),n.push("INSIDE_STRING");break}case"f":case"t":case"n":{s=u,r=u,n.pop(),n.push(p),n.push("INSIDE_LITERAL");break}case"-":{n.pop(),n.push(p),n.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=u,n.pop(),n.push(p),n.push("INSIDE_NUMBER");break}case"{":{s=u,n.pop(),n.push(p),n.push("INSIDE_OBJECT_START");break}case"[":{s=u,n.pop(),n.push(p),n.push("INSIDE_ARRAY_START");break}}}function a(c,u){switch(c){case",":{n.pop(),n.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{s=u,n.pop();break}}}function o(c,u){switch(c){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=u,n.pop();break}}}for(let c=0;c<e.length;c++){const u=e[c];switch(n[n.length-1]){case"ROOT":i(u,c,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}case"}":{s=c,n.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{n.pop(),n.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{n.pop(),n.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(u,c,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{a(u,c);break}case"INSIDE_STRING":{switch(u){case'"':{n.pop(),s=c;break}case"\\":{n.push("INSIDE_STRING_ESCAPE");break}default:s=c}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{s=c,n.pop();break}default:{s=c,i(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{n.pop(),n.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{s=c,n.pop();break}default:{s=c;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{n.pop(),s=c;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{s=c;break}case"e":case"E":case"-":case".":break;case",":{n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(u,c);break}case"}":{n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(u,c);break}case"]":{n.pop(),n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c);break}default:{n.pop();break}}break}case"INSIDE_LITERAL":{const f=e.substring(r,c+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(n.pop(),n[n.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?a(u,c):n[n.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(u,c)):s=c;break}}}let l=e.slice(0,s+1);for(let c=n.length-1;c>=0;c--)switch(n[c]){case"INSIDE_STRING":{l+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{l+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{l+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?l+="true".slice(p.length):"false".startsWith(p)?l+="false".slice(p.length):"null".startsWith(p)&&(l+="null".slice(p.length))}}return l}function $1e(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let n=eF({text:e});return n.success?{value:n.value,state:"successful-parse"}:(n=eF({text:H1e(e)}),n.success?{value:n.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var z1e={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},W1e={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},G1e={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},q1e={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},K1e={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Y1e={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Z1e={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},J1e={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},X1e={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const n={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:n}}},Q1e={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const n={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(n.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(n.isContinued=e.isContinued),{type:"finish_step",value:n}}},efe={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},tfe={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},nfe={code:"h",name:"source",parse:e=>{if(e==null||typeof e!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:e}}},sfe={code:"i",name:"redacted_reasoning",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},rfe={code:"j",name:"reasoning_signature",parse:e=>{if(e==null||typeof e!="object"||!("signature"in e)||typeof e.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},ife={code:"k",name:"file",parse:e=>{if(e==null||typeof e!="object"||!("data"in e)||typeof e.data!="string"||!("mimeType"in e)||typeof e.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}},C8=[z1e,W1e,G1e,q1e,K1e,Y1e,Z1e,J1e,X1e,Q1e,efe,tfe,nfe,sfe,rfe,ife],afe=Object.fromEntries(C8.map(e=>[e.code,e]));Object.fromEntries(C8.map(e=>[e.name,e.code]));var ofe=C8.map(e=>e.code),lfe=e=>{const n=e.indexOf(":");if(n===-1)throw new Error("Failed to parse stream string. No separator found.");const s=e.slice(0,n);if(!ofe.includes(s))throw new Error(`Failed to parse stream string. Invalid code ${s}.`);const r=s,i=e.slice(n+1),a=JSON.parse(i);return afe[r].parse(a)},cfe=10;function dfe(e,n){const s=new Uint8Array(n);let r=0;for(const i of e)s.set(i,r),r+=i.length;return e.length=0,s}async function ufe({stream:e,onTextPart:n,onReasoningPart:s,onReasoningSignaturePart:r,onRedactedReasoningPart:i,onSourcePart:a,onFilePart:o,onDataPart:l,onErrorPart:c,onToolCallStreamingStartPart:u,onToolCallDeltaPart:p,onToolCallPart:f,onToolResultPart:m,onMessageAnnotationsPart:h,onFinishMessagePart:x,onFinishStepPart:y,onStartStepPart:v}){const g=e.getReader(),b=new TextDecoder,w=[];let N=0;for(;;){const{value:j}=await g.read();if(j&&(w.push(j),N+=j.length,j[j.length-1]!==cfe))continue;if(w.length===0)break;const _=dfe(w,N);N=0;const C=b.decode(_,{stream:!0}).split(`
`).filter(F=>F!=="").map(lfe);for(const{type:F,value:E}of C)switch(F){case"text":await n?.(E);break;case"reasoning":await s?.(E);break;case"reasoning_signature":await r?.(E);break;case"redacted_reasoning":await i?.(E);break;case"file":await o?.(E);break;case"source":await a?.(E);break;case"data":await l?.(E);break;case"error":await c?.(E);break;case"message_annotations":await h?.(E);break;case"tool_call_streaming_start":await u?.(E);break;case"tool_call_delta":await p?.(E);break;case"tool_call":await f?.(E);break;case"tool_result":await m?.(E);break;case"finish_message":await x?.(E);break;case"finish_step":await y?.(E);break;case"start_step":await v?.(E);break;default:{const S=F;throw new Error(`Unknown stream part type: ${S}`)}}}}async function pfe({stream:e,update:n,onToolCall:s,onFinish:r,generateId:i=w8,getCurrentDate:a=()=>new Date,lastMessage:o}){var l,c;const u=o?.role==="assistant";let p=u?1+((c=(l=o.toolInvocations)==null?void 0:l.reduce((_,C)=>{var F;return Math.max(_,(F=C.step)!=null?F:0)},0))!=null?c:0):0;const f=u?structuredClone(o):{id:i(),createdAt:a(),role:"assistant",content:"",parts:[]};let m,h,x;function y(_,C){const F=f.parts.find(E=>E.type==="tool-invocation"&&E.toolInvocation.toolCallId===_);F!=null?F.toolInvocation=C:f.parts.push({type:"tool-invocation",toolInvocation:C})}const v=[];let g=u?o?.annotations:void 0;const b={};let w={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},N="unknown";function j(){const _=[...v];g?.length&&(f.annotations=g);const C={...structuredClone(f),revisionId:i()};n({message:C,data:_,replaceLastMessage:u})}await ufe({stream:e,onTextPart(_){m==null?(m={type:"text",text:_},f.parts.push(m)):m.text+=_,f.content+=_,j()},onReasoningPart(_){var C;x==null?(x={type:"text",text:_},h?.details.push(x)):x.text+=_,h==null?(h={type:"reasoning",reasoning:_,details:[x]},f.parts.push(h)):h.reasoning+=_,f.reasoning=((C=f.reasoning)!=null?C:"")+_,j()},onReasoningSignaturePart(_){x!=null&&(x.signature=_.signature)},onRedactedReasoningPart(_){h==null&&(h={type:"reasoning",reasoning:"",details:[]},f.parts.push(h)),h.details.push({type:"redacted",data:_.data}),x=void 0,j()},onFilePart(_){f.parts.push({type:"file",mimeType:_.mimeType,data:_.data}),j()},onSourcePart(_){f.parts.push({type:"source",source:_}),j()},onToolCallStreamingStartPart(_){f.toolInvocations==null&&(f.toolInvocations=[]),b[_.toolCallId]={text:"",step:p,toolName:_.toolName,index:f.toolInvocations.length};const C={state:"partial-call",step:p,toolCallId:_.toolCallId,toolName:_.toolName,args:void 0};f.toolInvocations.push(C),y(_.toolCallId,C),j()},onToolCallDeltaPart(_){const C=b[_.toolCallId];C.text+=_.argsTextDelta;const{value:F}=$1e(C.text),E={state:"partial-call",step:C.step,toolCallId:_.toolCallId,toolName:C.toolName,args:F};f.toolInvocations[C.index]=E,y(_.toolCallId,E),j()},async onToolCallPart(_){const C={state:"call",step:p,..._};if(b[_.toolCallId]!=null?f.toolInvocations[b[_.toolCallId].index]=C:(f.toolInvocations==null&&(f.toolInvocations=[]),f.toolInvocations.push(C)),y(_.toolCallId,C),j(),s){const F=await s({toolCall:_});if(F!=null){const E={state:"result",step:p,..._,result:F};f.toolInvocations[f.toolInvocations.length-1]=E,y(_.toolCallId,E),j()}}},onToolResultPart(_){const C=f.toolInvocations;if(C==null)throw new Error("tool_result must be preceded by a tool_call");const F=C.findIndex(S=>S.toolCallId===_.toolCallId);if(F===-1)throw new Error("tool_result must be preceded by a tool_call with the same toolCallId");const E={...C[F],state:"result",..._};C[F]=E,y(_.toolCallId,E),j()},onDataPart(_){v.push(..._),j()},onMessageAnnotationsPart(_){g==null?g=[..._]:g.push(..._),j()},onFinishStepPart(_){p+=1,m=_.isContinued?m:void 0,h=void 0,x=void 0},onStartStepPart(_){u||(f.id=_.messageId),f.parts.push({type:"step-start"}),j()},onFinishMessagePart(_){N=_.finishReason,_.usage!=null&&(w=V1e(_.usage))},onErrorPart(_){throw new Error(_)}}),r?.({message:f,finishReason:N,usage:w})}async function ffe({stream:e,onTextPart:n}){const s=e.pipeThrough(new TextDecoderStream).getReader();for(;;){const{done:r,value:i}=await s.read();if(r)break;await n(i)}}async function mfe({stream:e,update:n,onFinish:s,getCurrentDate:r=()=>new Date,generateId:i=w8}){const a={type:"text",text:""},o={id:i(),createdAt:r(),role:"assistant",content:"",parts:[a]};await ffe({stream:e,onTextPart:l=>{o.content+=l,a.text+=l,n({message:{...o},data:[],replaceLastMessage:!1})}}),s?.(o,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"})}var hfe=()=>fetch;async function xfe({api:e,body:n,streamProtocol:s="data",credentials:r,headers:i,abortController:a,restoreMessagesOnFailure:o,onResponse:l,onUpdate:c,onFinish:u,onToolCall:p,generateId:f,fetch:m=hfe(),lastMessage:h,requestType:x="generate"}){var y,v,g;const w=await(x==="resume"?m(`${e}?chatId=${n.id}`,{method:"GET",headers:{"Content-Type":"application/json",...i},signal:(y=a?.())==null?void 0:y.signal,credentials:r}):m(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",...i},signal:(v=a?.())==null?void 0:v.signal,credentials:r})).catch(N=>{throw o(),N});if(l)try{await l(w)}catch(N){throw N}if(!w.ok)throw o(),new Error((g=await w.text())!=null?g:"Failed to fetch the chat response.");if(!w.body)throw new Error("The response body is empty.");switch(s){case"text":{await mfe({stream:w.body,update:c,onFinish:u,generateId:f});return}case"data":{await pfe({stream:w.body,update:c,lastMessage:h,onToolCall:p,onFinish({message:N,finishReason:j,usage:_}){u&&N!=null&&u(N,{usage:_,finishReason:j})},generateId:f});return}default:{const N=s;throw new Error(`Unknown stream protocol: ${N}`)}}}function Fy(e){return e?.reduce((n,s)=>{var r;return Math.max(n,(r=s.step)!=null?r:0)},0)}function fO(e){var n;return(n=e.parts)!=null?n:[...e.toolInvocations?e.toolInvocations.map(s=>({type:"tool-invocation",toolInvocation:s})):[],...e.reasoning?[{type:"reasoning",reasoning:e.reasoning,details:[{type:"text",text:e.reasoning}]}]:[],...e.content?[{type:"text",text:e.content}]:[]]}function r4(e){return e.map(n=>({...n,parts:fO(n)}))}function Ey(e,n){if(e===n)return!0;if(e==null||n==null)return!1;if(typeof e!="object"&&typeof n!="object")return e===n;if(e.constructor!==n.constructor)return!1;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(Array.isArray(e)){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!Ey(e[i],n[i]))return!1;return!0}const s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(const i of s)if(!r.includes(i)||!Ey(e[i],n[i]))return!1;return!0}async function tF(e){if(!e)return[];if(globalThis.FileList&&e instanceof globalThis.FileList)return Promise.all(Array.from(e).map(async n=>{const{name:s,type:r}=n,i=await new Promise((a,o)=>{const l=new FileReader;l.onload=c=>{var u;a((u=c.target)==null?void 0:u.result)},l.onerror=c=>o(c),l.readAsDataURL(n)});return{name:s,contentType:r,url:i}}));if(Array.isArray(e))return e;throw new Error("Invalid attachments type")}function gfe({originalMaxToolInvocationStep:e,originalMessageCount:n,maxSteps:s,messages:r}){var i;const a=r[r.length-1];return s>1&&a!=null&&(r.length>n||Fy(a.toolInvocations)!==e)&&mO(a)&&((i=Fy(a.toolInvocations))!=null?i:0)<s}function mO(e){if(e.role!=="assistant")return!1;const n=e.parts.reduce((r,i,a)=>i.type==="step-start"?a:r,-1),s=e.parts.slice(n+1).filter(r=>r.type==="tool-invocation");return s.length>0&&s.every(r=>"result"in r.toolInvocation)}function bfe({messages:e,toolCallId:n,toolResult:s}){var r;const i=e[e.length-1],a=i.parts.find(l=>l.type==="tool-invocation"&&l.toolInvocation.toolCallId===n);if(a==null)return;const o={...a.toolInvocation,state:"result",result:s};a.toolInvocation=o,i.toolInvocations=(r=i.toolInvocations)==null?void 0:r.map(l=>l.toolCallId===n?o:l)}const hO=0,xO=1,gO=2,nF=3;var sF=Object.prototype.hasOwnProperty;function Sy(e,n){var s,r;if(e===n)return!0;if(e&&n&&(s=e.constructor)===n.constructor){if(s===Date)return e.getTime()===n.getTime();if(s===RegExp)return e.toString()===n.toString();if(s===Array){if((r=e.length)===n.length)for(;r--&&Sy(e[r],n[r]););return r===-1}if(!s||typeof e=="object"){r=0;for(s in e)if(sF.call(e,s)&&++r&&!sF.call(n,s)||!(s in n)||!Sy(e[s],n[s]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}const hl=new WeakMap,Ql=()=>{},Ki=Ql(),ky=Object,Zs=e=>e===Ki,Ro=e=>typeof e=="function",wc=(e,n)=>({...e,...n}),bO=e=>Ro(e.then),i4={},h0={},_8="undefined",oh=typeof window!=_8,Ty=typeof document!=_8,yfe=oh&&"Deno"in window,vfe=()=>oh&&typeof window.requestAnimationFrame!=_8,yO=(e,n)=>{const s=hl.get(e);return[()=>!Zs(n)&&e.get(n)||i4,r=>{if(!Zs(n)){const i=e.get(n);n in h0||(h0[n]=i),s[5](n,wc(i,r),i||i4)}},s[6],()=>!Zs(n)&&n in h0?h0[n]:!Zs(n)&&e.get(n)||i4]};let Iy=!0;const wfe=()=>Iy,[Ay,Dy]=oh&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ql,Ql],Cfe=()=>{const e=Ty&&document.visibilityState;return Zs(e)||e!=="hidden"},_fe=e=>(Ty&&document.addEventListener("visibilitychange",e),Ay("focus",e),()=>{Ty&&document.removeEventListener("visibilitychange",e),Dy("focus",e)}),jfe=e=>{const n=()=>{Iy=!0,e()},s=()=>{Iy=!1};return Ay("online",n),Ay("offline",s),()=>{Dy("online",n),Dy("offline",s)}},Nfe={isOnline:wfe,isVisible:Cfe},Ffe={initFocus:_fe,initReconnect:jfe},rF=!tt.useId,Tm=!oh||yfe,Efe=e=>vfe()?window.requestAnimationFrame(e):setTimeout(e,1),a4=Tm?d.useEffect:d.useLayoutEffect,o4=typeof navigator<"u"&&navigator.connection,iF=!Tm&&o4&&(["slow-2g","2g"].includes(o4.effectiveType)||o4.saveData),x0=new WeakMap,Sfe=e=>ky.prototype.toString.call(e),l4=(e,n)=>e===`[object ${n}]`;let kfe=0;const My=e=>{const n=typeof e,s=Sfe(e),r=l4(s,"Date"),i=l4(s,"RegExp"),a=l4(s,"Object");let o,l;if(ky(e)===e&&!r&&!i){if(o=x0.get(e),o)return o;if(o=++kfe+"~",x0.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=My(e[l])+",";x0.set(e,o)}if(a){o="#";const c=ky.keys(e).sort();for(;!Zs(l=c.pop());)Zs(e[l])||(o+=l+":"+My(e[l])+",");x0.set(e,o)}}else o=r?e.toJSON():n=="symbol"?e.toString():n=="string"?JSON.stringify(e):""+e;return o},j8=e=>{if(Ro(e))try{e=e()}catch{e=""}const n=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?My(e):"",[e,n]};let Tfe=0;const Ly=()=>++Tfe;async function vO(...e){const[n,s,r,i]=e,a=wc({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=a.populateCache;const l=a.rollbackOnError;let c=a.optimisticData;const u=m=>typeof l=="function"?l(m):l!==!1,p=a.throwOnError;if(Ro(s)){const m=s,h=[],x=n.keys();for(const y of x)!/^\$(inf|sub)\$/.test(y)&&m(n.get(y)._k)&&h.push(y);return Promise.all(h.map(f))}return f(s);async function f(m){const[h]=j8(m);if(!h)return;const[x,y]=yO(n,h),[v,g,b,w]=hl.get(n),N=()=>{const D=v[h];return(Ro(a.revalidate)?a.revalidate(x().data,m):a.revalidate!==!1)&&(delete b[h],delete w[h],D&&D[0])?D[0](gO).then(()=>x().data):x().data};if(e.length<3)return N();let j=r,_,C=!1;const F=Ly();g[h]=[F,0];const E=!Zs(c),S=x(),M=S.data,k=S._c,I=Zs(k)?M:k;if(E&&(c=Ro(c)?c(I,M):c,y({data:c,_c:I})),Ro(j))try{j=j(I)}catch(D){_=D,C=!0}if(j&&bO(j))if(j=await j.catch(D=>{_=D,C=!0}),F!==g[h][0]){if(C)throw _;return j}else C&&E&&u(_)&&(o=!0,y({data:I,_c:Ki}));if(o&&!C)if(Ro(o)){const D=o(j,I);y({data:D,error:Ki,_c:Ki})}else y({data:j,error:Ki,_c:Ki});if(g[h][1]=Ly(),Promise.resolve(N()).then(()=>{y({_c:Ki})}),C){if(p)throw _;return}return j}}const aF=(e,n)=>{for(const s in e)e[s][0]&&e[s][0](n)},Ife=(e,n)=>{if(!hl.has(e)){const s=wc(Ffe,n),r=Object.create(null),i=vO.bind(Ki,e);let a=Ql;const o=Object.create(null),l=(p,f)=>{const m=o[p]||[];return o[p]=m,m.push(f),()=>m.splice(m.indexOf(f),1)},c=(p,f,m)=>{e.set(p,f);const h=o[p];if(h)for(const x of h)x(f,m)},u=()=>{if(!hl.has(e)&&(hl.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,c,l]),!Tm)){const p=s.initFocus(setTimeout.bind(Ki,aF.bind(Ki,r,hO))),f=s.initReconnect(setTimeout.bind(Ki,aF.bind(Ki,r,xO)));a=()=>{p&&p(),f&&f(),hl.delete(e)}}};return u(),[e,i,u,a]}return[e,hl.get(e)[4]]},Afe=(e,n,s,r,i)=>{const a=s.errorRetryCount,o=i.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*s.errorRetryInterval;!Zs(a)&&o>a||setTimeout(r,l,i)},Dfe=Sy,[wO,Mfe]=Ife(new Map),Lfe=wc({onLoadingSlow:Ql,onSuccess:Ql,onError:Ql,onErrorRetry:Afe,onDiscarded:Ql,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:iF?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:iF?5e3:3e3,compare:Dfe,isPaused:()=>!1,cache:wO,mutate:Mfe,fallback:{}},Nfe),Rfe=(e,n)=>{const s=wc(e,n);if(n){const{use:r,fallback:i}=e,{use:a,fallback:o}=n;r&&a&&(s.use=r.concat(a)),i&&o&&(s.fallback=wc(i,o))}return s},Pfe=d.createContext({}),Ofe="$inf$",CO=oh&&window.__SWR_DEVTOOLS_USE__,Bfe=CO?window.__SWR_DEVTOOLS_USE__:[],Ufe=()=>{CO&&(window.__SWR_DEVTOOLS_REACT__=tt)},Vfe=e=>Ro(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Hfe=()=>{const e=d.useContext(Pfe);return d.useMemo(()=>wc(Lfe,e),[e])},$fe=e=>(n,s,r)=>e(n,s&&((...a)=>{const[o]=j8(n),[,,,l]=hl.get(wO);if(o.startsWith(Ofe))return s(...a);const c=l[o];return Zs(c)?s(...a):(delete l[o],c)}),r),zfe=Bfe.concat($fe),Wfe=e=>function(...s){const r=Hfe(),[i,a,o]=Vfe(s),l=Rfe(r,o);let c=e;const{use:u}=l,p=(u||[]).concat(zfe);for(let f=p.length;f--;)c=p[f](c);return c(i,a||l.fetcher||null,l)},Gfe=(e,n,s)=>{const r=n[e]||(n[e]=[]);return r.push(s),()=>{const i=r.indexOf(s);i>=0&&(r[i]=r[r.length-1],r.pop())}};Ufe();const c4=tt.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}),e}}),d4={dedupe:!0},oF=Promise.resolve(Ki),qfe=(e,n,s)=>{const{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:p,refreshWhenOffline:f,keepPreviousData:m}=s,[h,x,y,v]=hl.get(r),[g,b]=j8(e),w=d.useRef(!1),N=d.useRef(!1),j=d.useRef(g),_=d.useRef(n),C=d.useRef(s),F=()=>C.current,E=()=>F().isVisible()&&F().isOnline(),[S,M,k,I]=yO(r,g),D=d.useRef({}).current,P=Zs(o)?Zs(s.fallback)?Ki:s.fallback[g]:o,R=(we,be)=>{for(const Ue in D){const fe=Ue;if(fe==="data"){if(!i(we[fe],be[fe])&&(!Zs(we[fe])||!i(X,be[fe])))return!1}else if(be[fe]!==we[fe])return!1}return!0},B=d.useMemo(()=>{const we=!g||!n?!1:Zs(l)?F().isPaused()||a?!1:c!==!1:l,be=ge=>{const Ee=wc(ge);return delete Ee._k,we?{isValidating:!0,isLoading:!0,...Ee}:Ee},Ue=S(),fe=I(),Me=be(Ue),J=Ue===fe?Me:be(fe);let Ne=Me;return[()=>{const ge=be(S());return R(ge,Ne)?(Ne.data=ge.data,Ne.isLoading=ge.isLoading,Ne.isValidating=ge.isValidating,Ne.error=ge.error,Ne):(Ne=ge,ge)},()=>J]},[r,g]),U=o$.useSyncExternalStore(d.useCallback(we=>k(g,(be,Ue)=>{R(Ue,be)||we()}),[r,g]),B[0],B[1]),H=!w.current,$=h[g]&&h[g].length>0,q=U.data,Q=Zs(q)?P&&bO(P)?c4(P):P:q,V=U.error,ee=d.useRef(Q),X=m?Zs(q)?Zs(ee.current)?Q:ee.current:q:Q,ae=$&&!Zs(V)?!1:H&&!Zs(l)?l:F().isPaused()?!1:a?Zs(Q)?!1:c:Zs(Q)||c,me=!!(g&&n&&H&&ae),oe=Zs(U.isValidating)?me:U.isValidating,pe=Zs(U.isLoading)?me:U.isLoading,se=d.useCallback(async we=>{const be=_.current;if(!g||!be||N.current||F().isPaused())return!1;let Ue,fe,Me=!0;const J=we||{},Ne=!y[g]||!J.dedupe,ge=()=>rF?!N.current&&g===j.current&&w.current:g===j.current,Ee={isValidating:!1,isLoading:!1},Ce=()=>{M(Ee)},Ie=()=>{const Se=y[g];Se&&Se[1]===fe&&delete y[g]},Ae={isValidating:!0};Zs(S().data)&&(Ae.isLoading=!0);try{if(Ne&&(M(Ae),s.loadingTimeout&&Zs(S().data)&&setTimeout(()=>{Me&&ge()&&F().onLoadingSlow(g,s)},s.loadingTimeout),y[g]=[be(b),Ly()]),[Ue,fe]=y[g],Ue=await Ue,Ne&&setTimeout(Ie,s.dedupingInterval),!y[g]||y[g][1]!==fe)return Ne&&ge()&&F().onDiscarded(g),!1;Ee.error=Ki;const Se=x[g];if(!Zs(Se)&&(fe<=Se[0]||fe<=Se[1]||Se[1]===0))return Ce(),Ne&&ge()&&F().onDiscarded(g),!1;const ht=S().data;Ee.data=i(ht,Ue)?ht:Ue,Ne&&ge()&&F().onSuccess(Ue,g,s)}catch(Se){Ie();const ht=F(),{shouldRetryOnError:Qe}=ht;ht.isPaused()||(Ee.error=Se,Ne&&ge()&&(ht.onError(Se,g,ht),(Qe===!0||Ro(Qe)&&Qe(Se))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||E())&&ht.onErrorRetry(Se,g,ht,De=>{const de=h[g];de&&de[0]&&de[0](nF,De)},{retryCount:(J.retryCount||0)+1,dedupe:!0})))}return Me=!1,Ce(),!0},[g,r]),re=d.useCallback((...we)=>vO(r,j.current,...we),[]);if(a4(()=>{_.current=n,C.current=s,Zs(q)||(ee.current=q)}),a4(()=>{if(!g)return;const we=se.bind(Ki,d4);let be=0;F().revalidateOnFocus&&(be=Date.now()+F().focusThrottleInterval);const fe=Gfe(g,h,(Me,J={})=>{if(Me==hO){const Ne=Date.now();F().revalidateOnFocus&&Ne>be&&E()&&(be=Ne+F().focusThrottleInterval,we())}else if(Me==xO)F().revalidateOnReconnect&&E()&&we();else{if(Me==gO)return se();if(Me==nF)return se(J)}});return N.current=!1,j.current=g,w.current=!0,M({_k:b}),ae&&(y[g]||(Zs(Q)||Tm?we():Efe(we))),()=>{N.current=!0,fe()}},[g]),a4(()=>{let we;function be(){const fe=Ro(u)?u(S().data):u;fe&&we!==-1&&(we=setTimeout(Ue,fe))}function Ue(){!S().error&&(p||F().isVisible())&&(f||F().isOnline())?se(d4).then(be):be()}return be(),()=>{we&&(clearTimeout(we),we=-1)}},[u,p,f,g]),d.useDebugValue(X),a){const we=g&&Zs(Q);if(!rF&&Tm&&we)throw new Error("Fallback data is required when using Suspense in SSR.");we&&(_.current=n,C.current=s,N.current=!1);const be=v[g],Ue=!Zs(be)&&we?re(be):oF;if(c4(Ue),!Zs(V)&&we)throw V;const fe=we?se(d4):oF;!Zs(X)&&we&&(fe.status="fulfilled",fe.value=!0),c4(fe)}return{mutate:re,get data(){return D.data=!0,X},get error(){return D.error=!0,V},get isValidating(){return D.isValidating=!0,oe},get isLoading(){return D.isLoading=!0,pe}}},g0=Wfe(qfe);var u4,lF;function Kfe(){if(lF)return u4;lF=1;function e(n,s){if(typeof n!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof n}\`.`);let r,i=0;return function(...o){clearTimeout(r);const l=Date.now(),c=l-i,u=s-c;u<=0?(i=l,n.apply(this,o)):r=setTimeout(()=>{i=Date.now(),n.apply(this,o)},u)}}return u4=e,u4}var Yfe=Kfe();const Zfe=Ji(Yfe);function cF(e,n){return n!=null?Zfe(e,n):e}function Jfe(e){const[n,s]=d.useState(e);return d.useEffect(()=>{Ey(e,n)||s(e)},[e,n]),n}function Xfe({api:e="/api/chat",id:n,initialMessages:s,initialInput:r="",sendExtraMessageFields:i,onToolCall:a,experimental_prepareRequestBody:o,maxSteps:l=1,streamProtocol:c="data",onResponse:u,onFinish:p,onError:f,credentials:m,headers:h,body:x,generateId:y=w8,fetch:v,keepLastMessageOnError:g=!0,experimental_throttle:b}={}){const[w]=d.useState(y),N=n??w,j=typeof e=="string"?[e,N]:N,_=Jfe(s??[]),C=d.useMemo(()=>r4(_),[_]),{data:F,mutate:E}=g0([j,"messages"],null,{fallbackData:C}),S=d.useRef(F||[]);d.useEffect(()=>{S.current=F||[]},[F]);const{data:M,mutate:k}=g0([j,"streamData"],null),I=d.useRef(M);d.useEffect(()=>{I.current=M},[M]);const{data:D="ready",mutate:P}=g0([j,"status"],null),{data:R=void 0,mutate:B}=g0([j,"error"],null),U=d.useRef(null),H=d.useRef({credentials:m,headers:h,body:x});d.useEffect(()=>{H.current={credentials:m,headers:h,body:x}},[m,h,x]);const $=d.useCallback(async(ve,we="generate")=>{var be,Ue;P("submitted"),B(void 0);const fe=r4(ve.messages),Me=fe.length,J=Fy((be=fe[fe.length-1])==null?void 0:be.toolInvocations);try{const ge=new AbortController;U.current=ge;const Ee=cF(E,b),Ce=cF(k,b),Ie=S.current;Ee(fe,!1);const Ae=i?fe:fe.map(({role:ht,content:Qe,experimental_attachments:De,data:de,annotations:ue,toolInvocations:lt,parts:st})=>({role:ht,content:Qe,...De!==void 0&&{experimental_attachments:De},...de!==void 0&&{data:de},...ue!==void 0&&{annotations:ue},...lt!==void 0&&{toolInvocations:lt},...st!==void 0&&{parts:st}})),Se=I.current;await xfe({api:e,body:(Ue=o?.({id:N,messages:fe,requestData:ve.data,requestBody:ve.body}))!=null?Ue:{id:N,messages:Ae,data:ve.data,...H.current.body,...ve.body},streamProtocol:c,credentials:H.current.credentials,headers:{...H.current.headers,...ve.headers},abortController:()=>U.current,restoreMessagesOnFailure(){g||Ee(Ie,!1)},onResponse:u,onUpdate({message:ht,data:Qe,replaceLastMessage:De}){P("streaming"),Ee([...De?fe.slice(0,fe.length-1):fe,ht],!1),Qe?.length&&Ce([...Se??[],...Qe],!1)},onToolCall:a,onFinish:p,generateId:y,fetch:v,lastMessage:fe[fe.length-1],requestType:we}),U.current=null,P("ready")}catch(ge){if(ge.name==="AbortError")return U.current=null,P("ready"),null;f&&ge instanceof Error&&f(ge),B(ge),P("error")}const Ne=S.current;gfe({originalMaxToolInvocationStep:J,originalMessageCount:Me,maxSteps:l,messages:Ne})&&await $({messages:Ne})},[E,P,e,H,u,p,f,B,k,I,c,i,o,a,l,S,U,y,v,g,b,N]),q=d.useCallback(async(ve,{data:we,headers:be,body:Ue,experimental_attachments:fe=ve.experimental_attachments}={})=>{var Me,J;const Ne=await tF(fe),ge=S.current.concat({...ve,id:(Me=ve.id)!=null?Me:y(),createdAt:(J=ve.createdAt)!=null?J:new Date,experimental_attachments:Ne.length>0?Ne:void 0,parts:fO(ve)});return $({messages:ge,headers:be,body:Ue,data:we})},[$,y]),Q=d.useCallback(async({data:ve,headers:we,body:be}={})=>{const Ue=S.current;if(Ue.length===0)return null;const fe=Ue[Ue.length-1];return $({messages:fe.role==="assistant"?Ue.slice(0,-1):Ue,headers:we,body:be,data:ve})},[$]),V=d.useCallback(()=>{U.current&&(U.current.abort(),U.current=null)},[]),ee=d.useCallback(async()=>{const ve=S.current;$({messages:ve},"resume")},[$]),X=d.useCallback(ve=>{typeof ve=="function"&&(ve=ve(S.current));const we=r4(ve);E(we,!1),S.current=we},[E]),ae=d.useCallback(ve=>{typeof ve=="function"&&(ve=ve(I.current)),k(ve,!1),I.current=ve},[k]),[me,oe]=d.useState(r),pe=d.useCallback(async(ve,we={},be)=>{var Ue;if((Ue=ve?.preventDefault)==null||Ue.call(ve),!me&&!we.allowEmptySubmit)return;be&&(H.current={...H.current,...be});const fe=await tF(we.experimental_attachments),J={messages:S.current.concat({id:y(),createdAt:new Date,role:"user",content:me,experimental_attachments:fe.length>0?fe:void 0,parts:[{type:"text",text:me}]}),headers:we.headers,body:we.body,data:we.data};$(J),oe("")},[me,y,$]),se=ve=>{oe(ve.target.value)},re=d.useCallback(({toolCallId:ve,result:we})=>{const be=S.current;if(bfe({messages:be,toolCallId:ve,toolResult:we}),E([...be.slice(0,be.length-1),{...be[be.length-1]}],!1),D==="submitted"||D==="streaming")return;const Ue=be[be.length-1];mO(Ue)&&$({messages:be})},[E,D,$]);return{messages:F??[],id:N,setMessages:X,data:M,setData:ae,error:R,append:q,reload:Q,stop:V,experimental_resume:ee,input:me,setInput:oe,handleInputChange:se,handleSubmit:pe,isLoading:D==="submitted"||D==="streaming",status:D,addToolResult:re}}var Qfe=Xfe;const xd=e=>{if(!e||e.includes("..")||e.endsWith(".")||e.endsWith("/")||e.startsWith("/")||e.includes("//")||e.includes(" ")||e.includes("~")||e.includes("^")||e.includes(":")||e.includes("?")||e.includes("*")||e.includes("[")||e.includes("@{")||e==="@"||e.includes("\\"))return!1;const n=e.split("/");for(const r of n)if(r.startsWith(".")||r.endsWith(".lock"))return!1;return/^[a-zA-Z0-9\-\.\/\_]+$/.test(e)},eme=e=>!e||e.endsWith(".git")?!1:xd(e),p4=e=>e.replace(/\s+/g,"-");function tme(e,n){return!e||!n?e||[]:e.map(r=>({...r,isPrimary:r.account_login===n})).sort((r,i)=>r.isPrimary?-1:i.isPrimary?1:r.account_type==="Organization"&&i.account_type!=="Organization"?-1:r.account_type!=="Organization"&&i.account_type==="Organization"?1:r.account_login.localeCompare(i.account_login))}function nme(e,n){let s=n,r="";const i=JSON.stringify(e);return e?.data?.detail?(s=e.data.detail,r=e.data.detail):e?.data?.message?(s=e.data.message,r=e.data.message):e?.message&&(s=e.message,r=e.message),{errorMessage:s,fullErrorText:r,errorString:i}}function sme(e,n){return["GITHUB PUSH PROTECTION","Push cannot contain secrets","Secret push protection is enabled"].some(r=>e.includes(r)||n.includes(r))}function rme(e){return e.match(/https:\/\/[^\s]+/g)?.find(s=>s.includes("atlas-kb.com")||s.includes("notion.site"))}function ime(e,n){return["Updates were rejected because the remote contains work that you do not have locally","remote contains work that you do not have locally"].some(r=>e.includes(r)||n.includes(r))}function dF(){const e=new Date,n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear().toString().slice(-2),i=e.toTimeString().slice(0,2)+e.toTimeString().slice(3,5);return`conflict_${n}${s}${r}_${i}`}function f4(e,n){const{defaultErrorMessage:s,needsForcePush:r=!1,allowConflictDetection:i=!0}=n,{errorMessage:a,fullErrorText:o,errorString:l}=nme(e,s);if(sme(o,l))return{type:"secret_protection",errorMessage:a,fullErrorText:o,learnMoreUrl:rme(o)};if(ime(o,l)){const c=i&&!r;return{type:"remote_rejection",errorMessage:a,fullErrorText:o,shouldShowConflictUI:c,shouldGenerateProposedBranch:c}}return{type:"generic",errorMessage:a,fullErrorText:o}}function _O(e,n){const{repositories:s,isCreatingNewRepo:r,selectedInstallation:i}=n;return e?eme(e)?r?s.some(o=>o.name.toLowerCase()===e.toLowerCase())?{isValid:!1,errorMessage:`Repository "${e}" already exists.`}:{isValid:!0,successMessage:`New repo "${e}" will be created and your current changes will be pushed to it.`}:{isValid:!0}:{isValid:!1,errorMessage:"Invalid repository name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."}:{isValid:!1,errorMessage:r?"Enter a name for your new repository":"Repository name is required"}}function jO(e,n){const{branches:s,selectedRepository:r,isCreatingNewRepo:i}=n;return e?xd(e)?i?{isValid:!0}:r&&!s.some(o=>o.name===e)?{isValid:!0,successMessage:`New branch "${e}" will be created and your current changes will be pushed to it.`}:{isValid:!0}:{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules: only alphanumeric characters and - . / _ are allowed. Cannot contain spaces, consecutive dots (..), begin/end with /, end with ., or contain special characters."}:{isValid:!1,errorMessage:"Branch name is required"}}function ame(e){return e?xd(e)?{isValid:!0}:{isValid:!1,errorMessage:"Invalid branch name. Names must follow Git naming rules."}:{isValid:!1,errorMessage:"Branch name is required"}}function ome(e){const{jobId:n,selectedInstallation:s,isCreatingNewRepo:r,newRepoName:i,selectedRepository:a,branchName:o,repositories:l,isLoading:c,secretProtectionError:u}=e;if(!n)return{isValid:!1,errorMessage:"Job ID is required"};if(!s)return{isValid:!1,errorMessage:"Please select a GitHub account"};if(r){const f=_O(i,{repositories:l,isCreatingNewRepo:!0,selectedInstallation:s});if(!f.isValid)return f}else if(!a)return{isValid:!1,errorMessage:"Please select a repository"};const p=jO(o,{branches:[],selectedRepository:a,isCreatingNewRepo:r});return p.isValid?c?{isValid:!1,errorMessage:"Please wait for loading to complete"}:u?{isValid:!1,errorMessage:"Please resolve secret protection issues before pushing"}:{isValid:!0}:p}const Cc=({value:e,feedbackType:n="tooltip",defaultText:s="Copy",copiedText:r="Copied!",tooltipText:i="Copy",copiedTooltipText:a="Copied",feedbackDuration:o=1e3,className:l="",buttonClassName:c="",tooltipClassName:u="",children:p,showIcon:f=!0,iconOnly:m=!1,iconProps:h={size:16},copiedClassName:x,onCopy:y,showTooltipOnHover:v=!0,tooltipEnabled:g=!0,tooltipOpen:b,onTooltipOpenChange:w,...N})=>{const[j,_]=d.useState(!1),[C,F]=d.useState(void 0),E=d.useRef(null);d.useEffect(()=>()=>{E.current&&clearTimeout(E.current)},[]);const S=async()=>{try{const U=typeof e=="function"?e():e;await navigator.clipboard.writeText(U),E.current&&clearTimeout(E.current),_(!0),g&&n==="tooltip"&&F(!0),y&&y(U),E.current=setTimeout(()=>{_(!1),g&&n==="tooltip"&&C&&F(!1)},o)}catch{}},M=j?Mn:bo,k=j?Nae:Fae,I=h.clipboard?k:M,D=A("inline-flex items-center justify-center rounded-md font-inter","transition-all duration-200 focus:outline-none",c||"px-3 py-1 text-sm bg-gray-800 text-white hover:bg-gray-700",j&&n==="border"&&"ring-2 ring-green-400 ring-offset-1"),P=()=>p||(m?t.jsx(I,{...h}):f?t.jsxs(t.Fragment,{children:[t.jsx(I,{...h}),s&&t.jsx("span",{className:"ml-1",children:(n==="text"||n==="icon-text")&&j?r:s})]}):(n==="text"||n==="icon-text")&&j?r:s),R=b!==void 0?b:C,B=U=>{w?w(U):F(U)};return!g||n!=="tooltip"?t.jsx("button",{className:A(D,l,(n==="text"||n==="icon-text")&&j&&x),onClick:S,type:"button",...N,children:P()}):t.jsx(Ws,{children:t.jsxs(tr,{open:R,onOpenChange:B,delayDuration:v?0:9999999,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{className:A(D,l,j&&x),onClick:S,type:"button",...N,children:P()})}),t.jsx(Xs,{className:A(u,"bg-[#DDDDE6] text-black border-0"),children:j?a:i})]})})},lme=W.common.repo,uF=W.common.saveCloud,cme=W.common.githubConnect,pF=W.common.line,fF=W.icons.github,dme=W.menuIcons.github,ume=W.icons.branch,b0=W.icons.infoSquare,pme=W.github.arrowGreen,fme=W.github.shieldLock,mF=W.github.emergencyHome,mme=W.github.emergencyHomeRed,hF=W.github.gitBranch,hme=W.github.githubGreenDark,xme=W.github.githubBack,gme=W.github.gitBranchDark,bme=W.github.emergencyHomePurple;function y0({isOpen:e,onClose:n,triggerRef:s,children:r,className:i="",scrollableContainerRef:a}){const[o,l]=d.useState({top:0,left:0,width:0}),c=d.useCallback(()=>{if(e&&s.current){const p=s.current.getBoundingClientRect();if(p.width===0||p.height===0)return;const f=window.innerHeight,m=window.innerWidth,h=300,x=f-p.bottom,y=p.top,v=8,g=120,b=Math.min(h,200);let w=p.bottom+4,N=!1;x<g&&y>b+50&&(w=p.top-b-4,N=!0);const j=m-v*2,_=Math.min(p.width,j);let C=w;if(N)C=Math.max(v,w);else{const E=Math.min(b,x-v);C=Math.min(w,f-E-v)}const F={top:C,left:Math.max(v,Math.min(p.left,m-_-v)),width:_};l(F)}},[e,s]);d.useEffect(()=>{c()},[c]),d.useEffect(()=>{if(!e)return;const p=()=>c(),f=()=>c();window.addEventListener("scroll",p,!0),window.addEventListener("resize",f);const m=a?.current;return m&&m.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",f),m&&m.removeEventListener("scroll",p)}},[e,c,a]);const u=p=>!p&&n?.();return t.jsx(zn,{open:e,onOpenChange:u,children:t.jsx(Us,{children:t.jsx("div",{className:`fixed z-[9999] bg-[#131314] border border-[#242424] rounded-md shadow-lg pointer-events-auto ${i}`,style:{top:o.top,left:o.left,width:o.width,maxHeight:"300px",overflowY:"auto",overflowX:"hidden"},"data-portal-dropdown":i,onMouseDown:p=>{p.stopPropagation()},onClick:p=>{p.stopPropagation()},onFocus:p=>{p.stopPropagation()},onWheel:p=>{p.stopPropagation()},children:r})})})}function NO({podIsPaused:e,isOpen:n,onOpenChange:s,jobId:r,lastGithubUsed:i,onSuccess:a}){const[o,l]=d.useState({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),c=$e=>{l(Be=>({...Be,...$e}))},u=()=>c({showInstallationDropdown:!1}),p=()=>c({showRepositoryDropdown:!1}),f=()=>c({showBranchDropdown:!1}),m=()=>c({showCustomBranchInput:!1}),{user:h}=xs(),[x,y]=d.useState("main"),[v,g]=d.useState(!1),[b,w]=d.useState(""),[N,j]=d.useState(!1),[_,C]=d.useState([]),[F,E]=d.useState(""),[S,M]=d.useState(!1),[k,I]=d.useState(!0),[D,P]=d.useState(""),[R,B]=d.useState(""),[U,H]=d.useState(!1),[$,q]=d.useState(""),[Q,V]=d.useState(null),[ee,X]=d.useState(!1),[ae,me]=d.useState(""),[oe,pe]=d.useState(!1),[se,re]=d.useState(!1),[ve,we]=d.useState(null),[be,Ue]=d.useState(!1),[fe,Me]=d.useState(null),[J,Ne]=d.useState(null),ge=d.useRef(null),Ee=d.useRef(null),Ce=d.useRef(null),Ie=d.useRef(null),Ae=wi(),ht=["/verify","/activate","/reset-password","/login","/register","/oauth"].some($e=>Ae.pathname.startsWith($e)),{data:Qe,refetch:De}=Ri(void 0,{skip:!n||ht||!h}),{data:de,isLoading:ue,refetch:lt}=ID(void 0,{skip:!n||!Qe?.github?.authorized}),st=d.useMemo(()=>!D||!de?"":de.find(Be=>Be.installation_id===D)?.account_login||"",[D,de]),{data:mt,isLoading:ut,refetch:wn}=QX(st,{skip:!D||!st}),Oe=d.useMemo(()=>!R||U||!st?null:{accountLogin:st,repoName:R},[R,U,st]),{data:_e,isFetching:Et,refetch:dt}=eQ(Oe||{accountLogin:"",repoName:""},{skip:!Oe}),vt=()=>st,Ct=()=>U?$:mt?.find(Be=>Be.name===R)?.name||"",[St,{isLoading:ct}]=tQ(),[Ft,{isLoading:Fe}]=nQ(),[He,Ve]=d.useState(!1),[Ke,Ye]=d.useState(!1),At=d.useMemo(()=>tme(de,Qe?.github?.account_name),[de,Qe?.github?.account_name]),mn=mt||[],Dt=Qe?.github?.authorized||!1,{toast:Yt}=ds(),{redirectToGitHubInstallation:fn,isConnecting:qt,setIsConnecting:_n}=Jd(),In=()=>{l({showBranchDropdown:!1,showCustomBranchInput:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1}),j(!1),y("main"),C([]),E(""),M(!1),I(!0),P(""),B(""),H(!1),q(""),w(""),V(null),X(!1),me(""),pe(!1),re(!1),we(null),Ue(!1),Me(null),Ne(null),Ve(!1),Ye(!1)},je=$e=>{if(!$e){if(be&&fe&&a){const Be={branch:fe.branch,repo:fe.repo,owner:fe.owner,provider:"github"};a(Be)}In()}s($e)},Le=d.useCallback(()=>{if(Q&&Q.includes("Conflict Detected")){j(!0),X(!0);const $e=new Date,Be=$e.toISOString().slice(0,10).replace(/-/g,""),Te=$e.toTimeString().slice(0,2)+$e.toTimeString().slice(3,5);me(`conflict_${Be}_${Te}`)}else j(!1),X(!1),me("")},[Q]);d.useEffect(()=>{Le()},[Le]),d.useEffect(()=>{if(!n)return;if(I(!0),j(!1),y("main"),Qe){const Be=setTimeout(()=>{I(!1)},500);return()=>clearTimeout(Be)}const $e=setTimeout(()=>{I(!1)},5e3);return()=>clearTimeout($e)},[n,Qe]);const xt=d.useCallback(()=>{B(""),w(""),C([]),H(!1),q(""),M(!1),y("main"),setTimeout(()=>{const $e=document.querySelector(".repository-input input");$e&&($e.value="")},0)},[]);d.useEffect(()=>{D&&xt()},[D,xt]),d.useEffect(()=>{Dt&&qt&&_n(!1)},[Dt,qt,_n]);const Rt=d.useMemo(()=>{if(!_e||!Array.isArray(_e)||_e.length===0)return"main";if(i){const Be=_e.find(Te=>Te.name===i.branch);if(Be)return Be.name}const $e=_e.find(Be=>Be.name==="main"||Be.name==="master");return $e?$e.name:_e[0].name},[_e,i]);d.useEffect(()=>{_e&&Array.isArray(_e)?(C(_e),y(Rt)):C([])},[_e,Rt,U,R]);const qe=d.useRef(U);d.useEffect(()=>{if(qe.current&&!U&&R&&st&&!Et){const Te=setTimeout(async()=>{try{const pt=await dt()}catch{}},50);return()=>clearTimeout(Te)}qe.current=U},[U,R,st,Et,dt]);const it=async()=>{!D||ut||v||(g(!0),await wn(),g(!1))},_t=async()=>{!R||Et||U||await dt()},Kt=mn.filter($e=>b?$e.name.toLowerCase().includes(b.toLowerCase()):!0),Cn=$e=>{const Be=$e.target.value,Te=p4(Be);y(Te),o.showCustomBranchInput},On=d.useRef(x),rs=d.useRef(R);d.useEffect(()=>{const $e=On.current!==x,Be=rs.current!==R;if(($e||Be)&&(se&&(re(!1),pe(!1),j(!1),me(""),V(null)),ve)){const Te=vt(),pt=Ct();ve.repository===pt&&ve.branch===x&&ve.owner===Te&&!se&&(re(!0),j(!0),me(dF()))}On.current=x,rs.current=R},[x,R,se,ve]),d.useEffect(()=>{se&&Ie.current&&setTimeout(()=>{if(Ie.current){const $e=Ie.current,Be=$e.scrollHeight-$e.clientHeight,Te=$e.scrollTop,pt=Be-Te,Xt=800,Hn=performance.now(),An=Zn=>Zn<.5?4*Zn*Zn*Zn:(Zn-1)*(2*Zn-2)*(2*Zn-2)+1,en=Zn=>{const Ot=Zn-Hn,Jn=Math.min(Ot/Xt,1),Pn=An(Jn);$e.scrollTop=Te+pt*Pn,Jn<1&&requestAnimationFrame(en)};requestAnimationFrame(en)}},150)},[se]);const Vn=()=>Ke?{isValid:!0}:_O($,{repositories:mn,isCreatingNewRepo:U,selectedInstallation:D}),Bn=()=>jO(x,{branches:_,selectedRepository:R,isCreatingNewRepo:U}),En=()=>ame(ae),jn=()=>{const $e=At.find(Be=>Be.installation_id===D);return $e?.account_type==="User"&&!$e?.isPrimary},Un=()=>{if(!ve)return!1;const $e=vt(),Be=Ct();return ve.repository===Be&&ve.branch===x&&ve.owner===$e},fs=async $e=>{$e.preventDefault(),Ve(!0);try{if(!r||!D)return;if(e){Yt({title:"Pod is paused",description:"Please unpause your pod before pushing to GitHub",variant:"destructive"}),s(!1);return}const Be=vt(),Te=Ct();if(!Be||!Te)return;if(Un()){Yt({title:"Conflict detected",description:"This repository and branch combination has a conflict. Please resolve it using the options below.",variant:"destructive"});return}U&&(Ye(!0),await St({installation_id:D,org:At.find(pt=>pt.installation_id===D)?.account_type!=="User"?Be:void 0,name:Te}).unwrap(),await new Promise(pt=>setTimeout(pt,1500))),await Ft({jobId:r,data:{account_login:Be,repo_name:Te,branch_name:x,is_new_repo:U,force:N}}).unwrap(),re(!1),pe(!1),j(!1),V(null),we(null),Me({branch:x,repo:Te,owner:Be,isNewRepo:U,isNewBranch:!1}),Ue(!0),Ye(!1)}catch(Be){const Te=f4(Be,{defaultErrorMessage:"Failed to push to GitHub",needsForcePush:N,allowConflictDetection:!0});switch(Te.type){case"secret_protection":Ne({fullError:Te.fullErrorText,learnMoreUrl:Te.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":if(Te.shouldShowConflictUI){re(!0),j(!0),me(dF()),we({repository:Ct(),branch:x,owner:vt()});return}break}V(Te.errorMessage),Yt({title:"Error",description:Te.errorMessage,variant:"destructive"})}finally{Ve(!1),Ye(!1)}},cn=async()=>{Ve(!0);try{if(!r||!D||!ae)return;const $e=vt(),Be=Ct();if(!$e||!Be)return;await Ft({jobId:r,data:{account_login:$e,repo_name:Be,branch_name:ae,is_new_repo:U,force:!1}}).unwrap(),re(!1),pe(!1),j(!1),V(null),we(null),Me({branch:ae,repo:Be,owner:$e,isNewRepo:U,isNewBranch:!0}),Ue(!0)}catch($e){const Be=f4($e,{defaultErrorMessage:"Failed to create branch and push to GitHub",needsForcePush:!1,allowConflictDetection:!1});switch(Be.type){case"secret_protection":Ne({fullError:Be.fullErrorText,learnMoreUrl:Be.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":case"generic":default:V(Be.errorMessage),Yt({title:"Error",description:Be.errorMessage,variant:"destructive"});break}}finally{Ve(!1)}},hn=async()=>{Ve(!0);try{if(!r||!D)return;const $e=vt(),Be=Ct();if(!$e||!Be)return;await Ft({jobId:r,data:{account_login:$e,repo_name:Be,branch_name:x,is_new_repo:U,force:!0}}).unwrap(),re(!1),pe(!1),j(!1),V(null),we(null),Me({branch:x,repo:Be,owner:$e,isNewRepo:U,isNewBranch:!1}),Ue(!0)}catch($e){const Be=f4($e,{defaultErrorMessage:"Failed to force push to GitHub",needsForcePush:!0,allowConflictDetection:!1});switch(Be.type){case"secret_protection":Ne({fullError:Be.fullErrorText,learnMoreUrl:Be.learnMoreUrl,isExpanded:!1});return;case"remote_rejection":case"generic":default:V(Be.errorMessage),Yt({title:"Error",description:Be.errorMessage,variant:"destructive"});break}}finally{Ve(!1)}},dn=k||ue||ut,Wn=He||Fe||ct,Ln=async()=>{_n(!0);const $e=async()=>{try{const Te=await De();return Te.data&&Te.data.github&&Te.data.github.authorized===!0?(await lt(),Yt({title:"Success",description:"Successfully connected to GitHub"}),!0):!1}catch{return!1}finally{_n(!1)}},Be=()=>{let Te=0;const pt=10,Xt=3e3,Hn=setInterval(async()=>{Te++;const An=await $e();(An||Te>=pt)&&(clearInterval(Hn),!An&&Te>=pt&&_n(!1))},Xt);setTimeout(()=>{clearInterval(Hn),_n(!1)},Xt*pt+1e3)};try{fn({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await $e()}}),Be()}catch{_n(!1),Yt({title:"Error",description:"Failed to connect to GitHub",variant:"destructive"})}},Cs=$e=>{};d.useEffect(()=>{const $e=Te=>{const pt=Te.target;if(o.showInstallationDropdown&&!pt.closest(".installation-dropdown")&&!pt.closest(".installation-input")&&c({showInstallationDropdown:!1}),o.showRepositoryDropdown&&!pt.closest(".repository-dropdown")&&!pt.closest(".repository-input")&&!pt.closest(".repo-toggle-buttons")&&c({showRepositoryDropdown:!1}),o.showBranchDropdown&&!pt.closest(".branch-dropdown")&&!pt.closest(".branch-input")&&!pt.closest("#branch-selector")&&c({showBranchDropdown:!1}),o.showCustomBranchInput&&!pt.closest("[data-portal-dropdown='branch-dropdown custom-branch-input']")&&!pt.closest("#branch-selector")){(pt.closest(".modal-backdrop")||pt.closest("[data-dialog-close]"))&&(c({showCustomBranchInput:!1}),E(""));return}};if((o.showInstallationDropdown||o.showRepositoryDropdown||o.showBranchDropdown||o.showCustomBranchInput)&&!o.showCustomBranchInput)return document.addEventListener("mousedown",$e),()=>document.removeEventListener("mousedown",$e)},[o.showInstallationDropdown,o.showRepositoryDropdown,o.showBranchDropdown,o.showCustomBranchInput]),d.useEffect(()=>{n||c({showInstallationDropdown:!1,showRepositoryDropdown:!1,showBranchDropdown:!1,showCustomBranchInput:!1})},[n]);const Vs=$e=>{const Be=$e.target.value,Te=p4(Be);if(w(Te),Te!==b&&(B(""),C([]),y("main")),U){q(Te),M(!1);return}const pt=mn.find(Xt=>Xt.name.toLowerCase()===Te.toLowerCase());if(pt)B(pt.name),c({showRepositoryDropdown:!1}),M(!1);else if(Te){B(""),c({showRepositoryDropdown:!0});const Xt=mn.some(Hn=>Hn.name.toLowerCase().includes(Te.toLowerCase()));M(!Xt&&Te.length>0),C([])}else B(""),M(!1),C([])},zt=d.useMemo(()=>{if(At.length===0||ue||D)return null;if(i&&i.owner){const Be=At.find(Te=>Te.account_login===i.owner);if(Be)return Be.installation_id}const $e=At.find(Be=>Be.isPrimary);return $e?$e.installation_id:At[0]?.installation_id||null},[i,At,ue,D]);d.useEffect(()=>{zt&&P(zt)},[zt]);const is=d.useMemo(()=>{if(!i||ut||mn.length===0||!D)return{repoName:"",branchName:"main"};const $e=At.find(Be=>Be.installation_id===D);return $e&&$e.account_login===i.owner?{repoName:i.repo,branchName:i.branch||"main"}:{repoName:"",branchName:"main"}},[i,mn,ut,D,At]);return d.useEffect(()=>{is.repoName&&(B(is.repoName),w(is.repoName)),y(is.branchName)},[is]),Dt?t.jsx(t.Fragment,{children:t.jsx(zn,{open:n,onOpenChange:je,children:t.jsxs(dr,{className:A("max-w-[700px] p-0 overflow-visible transition-all duration-300 ease-in-out top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",oe||be&&"overflow-hidden"),hideclosebutton:!0,children:[qt&&t.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[t.jsx(ln,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),t.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),!oe&&!be&&t.jsxs("div",{className:"flex items-center gap-2 px-4  md:px-8 max-h-[98px] py-6 border-b border-[#242424]",children:[t.jsx("div",{className:"flex items-center justify-center bg-[#ffffff05] p-2 rounded-full",children:t.jsx("img",{src:dme,alt:"GitHub",className:"w-6 h-6"})}),t.jsx("h2",{className:"text-[22px] font-medium text-white",children:"Save to Github"}),t.jsx(wl,{className:"ml-auto",children:t.jsx(Pt,{className:"w-5 h-5 text-gray-400 hover:text-white"})})]}),t.jsxs("div",{ref:Ie,className:"relative max-h-[500px] overflow-y-auto",children:[dn&&t.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-[#0F0F10] transition-opacity duration-300 ease-in-out",children:[t.jsx(ln,{className:"h-8 w-8 text-[#00FF85] animate-spin mb-4"}),t.jsx("p",{className:"text-[#DDDDE6]/70 text-sm",children:k?"Connecting to GitHub...":ue?"Loading GitHub accounts...":"Loading repositories..."})]}),be&&fe?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:pF,className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none",alt:"Line"}),t.jsx(wl,{className:"absolute z-20 p-2 rounded-md group backdrop-blur-lg bg-white/5 top-8 right-8",children:t.jsx(Pt,{className:"w-5 h-5 text-gray-400 group-hover:text-white"})}),t.jsx("div",{className:"p-8 pt-[10rem] space-y-6",children:t.jsxs("div",{className:"flex flex-col items-start w-full gap-6",children:[t.jsx("img",{src:hme,alt:"GitHub",className:"w-16 h-16 mb-4"}),t.jsxs("div",{className:"space-y-2 text-start",children:[t.jsx("h2",{className:"text-2xl font-medium text-white",children:"Successfully Saved to GitHub!"}),t.jsxs("p",{className:"text-[#737780] font-medium font-['Inter']",children:["Your changes have been saved to"," ",t.jsxs("span",{className:"text-[#fff] font-medium font-['Inter']",children:[fe.owner,"/",fe.repo,",",t.jsx("br",{})]}),"Continue working on your task or view the codebase on GitHub."]})]}),t.jsxs("div",{onClick:()=>{const $e=`https://github.com/${fe.owner}/${fe.repo}/tree/${fe.branch}`;window.open($e,"_blank")},className:"bg-[#18181A] mb-4 w-full cursor-pointer flex justify-between items-center border border-[#242424] rounded-lg p-4 gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:fF,alt:"GitHub",className:"w-6 h-6"}),t.jsxs("span",{className:"font-medium font-['Inter'] text-white text-nowrap",children:[fe.owner," \\ ",fe.repo]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("img",{src:hF,alt:"Branch",className:"w-5 h-5 opacity-50 grayscale"}),t.jsx("span",{className:"font-medium text-[#626266] truncate",children:fe.branch})]})]}),t.jsx("div",{className:"flex items-center gap-2 cursor-pointer group hover:opacity-80",children:t.jsxs("span",{className:"flex group-hover:text-[#2EE572] items-center text-nowrap gap-2 text-[#626266] font-medium",children:["View on GitHub",t.jsx("img",{src:pme,alt:"Arrow",className:A("w-6 h-6 grayscale opacity-35 group-hover:opacity-100 group-hover:grayscale-0")})]})})]})]})})]}):oe?t.jsxs("div",{className:"p-4 space-y-6 md:p-8",children:[t.jsxs("div",{className:"flex items-start w-full gap-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-2xl font-medium text-white",children:"Confirm force push to"}),t.jsxs("p",{className:"text-[#E38F45] font-medium text-[22px] leading-[28px] tracking-[-2%]",children:['"',x,'"']})]}),t.jsx("div",{onClick:()=>pe(!1),className:"z-20 rounded-sm p-1 group ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:t.jsx(Pt,{className:"z-20 w-5 h-5 text-gray-400 group-hover:text-white top-12 right-12"})})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("p",{className:"text-[#B7BECC] font-['Inter'] font-medium leading-[24px] text-[15px] md:max-w-[80%]",children:["Are you sure you want to force push? ",t.jsx("br",{}),"This will replace everything on ",t.jsxs("span",{className:"font-semibold text-[#FFA04D]",children:["'",x,"'"]})," ","with your current changes  and can't be undone."]})})]}):t.jsxs("form",{onSubmit:fs,className:"p-4 space-y-4 md:space-y-6 md:p-8",onClick:Cs,children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:fF,alt:"GitHub",className:"w-5 h-5 opacity-70"}),t.jsx("span",{className:"text-sm text-gray-400",children:"Connected Organizations"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:Ee,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showInstallationDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white installation-input`,onClick:()=>{c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!o.showInstallationDropdown})},children:[t.jsx("div",{className:"flex items-center w-full",children:t.jsx("div",{className:"relative flex-1",children:D?t.jsxs("div",{className:"flex items-center",children:[At.find($e=>$e.installation_id===D)?.account_login||"Select a GitHub account",At.find($e=>$e.installation_id===D)?.account_type==="User"&&!At.find($e=>$e.installation_id===D)?.isPrimary&&t.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}):t.jsx("span",{className:"text-[#8F8F98]",children:"Select a GitHub account"})})}),t.jsx(Dr,{className:`h-4 w-4 text-[#898F99] transition-transform duration-200 ${o.showInstallationDropdown?"rotate-180":""}`})]}),t.jsx(y0,{isOpen:At.length>0&&o.showInstallationDropdown,onClose:u,triggerRef:Ee,className:"installation-dropdown",scrollableContainerRef:Ie,children:t.jsxs("div",{className:"flex flex-col gap-[6px] p-2",children:[At.map($e=>t.jsx("div",{className:A("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",D===$e.installation_id&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{if($e.installation_id===D){c({showInstallationDropdown:!1});return}B(""),w(""),C([]),H(!1),q(""),M(!1),c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),P($e.installation_id);const Be=document.querySelector(".repository-input input");Be&&(Be.value="")},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:$e.account_login}),$e.account_type==="User"&&!$e.isPrimary&&t.jsx("span",{className:"text-xs text-[#DDDDE6] rounded-full bg-[#FFFFFF0D] ml-1 px-2 py-1 font-['Inter'] font-medium",children:"Collaborator"})]}),D===$e.installation_id&&t.jsx(Mn,{className:"h-4 w-4 text-[#1BB4CC]"})]})},$e.installation_id)),t.jsx("div",{className:"border-t border-[#ffffff12]"}),t.jsx("div",{className:`px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium ${qt?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>{qt||(Ln(),c({showInstallationDropdown:!1}))},children:t.jsxs("div",{className:"flex items-center gap-2",children:[qt?t.jsx(ln,{className:"w-4 h-4 animate-spin"}):t.jsx(_a,{className:"w-4 h-4"}),qt?"Connecting...":"Add New Github Organizations"]})})]})})]}),At.length===0&&!k&&!ue&&t.jsx("p",{className:"text-[#FF4545] text-sm",children:"No GitHub accounts connected. Please connect a GitHub account."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:lme,alt:"Repository",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Selected Repo"})]}),D&&t.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:it,disabled:ut||v,title:"Refresh repositories",children:t.jsx(xm,{className:`h-3.5 w-3.5 text-[#898F99] group-hover:text-white ${v?"animate-spin":""}`})})]})}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:Ce,className:`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showRepositoryDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-white repository-input`,children:[t.jsxs("div",{className:"flex items-center w-full",children:[t.jsx(vo,{className:"h-4 w-4 text-[#8F8F98] mr-2"}),t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ni,{type:"text",value:b,onChange:Vs,onFocus:()=>{U||c({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!0})},placeholder:U?"Enter new repository name":"Search for a repository",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||U&&jn()}),R&&!U&&t.jsx("button",{type:"button",className:"absolute right-0 flex items-center justify-center w-6 mr-1 h-6 transform hover:bg-[#ffffff05] -translate-y-1/2 rounded-full top-1/2",onClick:()=>{B(""),w(""),C([]),y("main"),c({showRepositoryDropdown:!0})},title:"Clear selected repository",children:t.jsx(Pt,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})]}),t.jsxs("div",{className:"flex text-sm text-nowrap bg-[#ffffff15] p-[6px] rounded-full font-semibold cursor-pointer repo-toggle-buttons",children:[t.jsx("span",{className:`px-[10px] py-1 rounded-full transition-colors ${U?"text-white/50 hover:text-white/80 font-medium":"bg-white text-black"}`,onClick:async()=>{if(H(!1),c({showBranchDropdown:!1,showInstallationDropdown:!1,showRepositoryDropdown:!!(D&&mn.length>0)}),b){const $e=mn.find(Be=>Be.name.toLowerCase()===b.toLowerCase());if($e){if(B($e.name),w($e.name),M(!1),st)try{const Be=await dt()}catch{}}else B(""),M(!0),C([]),y("main")}else if(R){const $e=mn.find(Be=>Be.name===R);if($e){if(w($e.name),M(!1),st)try{const Be=await dt()}catch{}}else B(""),C([]),y("main")}else C([]),y("main")},children:"Select Repo"}),t.jsx("span",{className:`px-[10px] py-1 rounded-full transition-colors ${U?"bg-white text-black ":jn()?"text-white/20 cursor-not-allowed":"text-white/50 hover:text-white/80 font-medium"}`,onClick:()=>{if(!jn()){if(H(!0),c({showRepositoryDropdown:!1,showBranchDropdown:!1,showInstallationDropdown:!1}),B(""),M(!1),b)q(b);else{const $e=mn.find(Be=>Be.name===R);$e&&(q($e.name),w($e.name))}C([]),y("main")}},children:"Create New"})]})]}),t.jsx(y0,{isOpen:mn.length>0&&Kt.length>0&&o.showRepositoryDropdown&&!U,onClose:p,triggerRef:Ce,className:"repository-dropdown",scrollableContainerRef:Ie,children:t.jsx("div",{className:"px-2 py-1 flex flex-col gap-[6px]",children:Kt.map($e=>t.jsx("div",{className:A("px-3 min-h-[40px] rounded-[8px]   py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium  cursor-pointer",$e.permissions.push?"":"opacity-20",R===$e.name&&"bg-[#172426] text-[#1BB4CC]"),onClick:Be=>{Be.preventDefault(),Be.stopPropagation(),$e.permissions.push?(B($e.name),w($e.name),H(!1),q(""),c({showRepositoryDropdown:!1}),M(!1)):Yt({title:"You don't have push access to this repository.",description:"Please select a repository you have push access to.",variant:"destructive"})},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:$e.name}),i?.repo===$e.name&&i?.owner===vt()&&t.jsx(mR,{variant:"secondary",className:"bg-green-700",children:"Last used"})]})},$e.id))})}),D&&U&&jn()&&t.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[t.jsx("img",{src:b0,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{children:"You don't have permission to create repositories in an organization where you're a collaborator."})]}),D&&U&&!$&&t.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"Enter a name for your new repository"}),D&&U&&$&&!Vn().isValid&&t.jsx("p",{className:"text-[#FF4545] text-sm mt-2",children:Vn().errorMessage}),D&&U&&$&&Vn().isValid&&t.jsx("span",{className:"text-[#CCC] text-sm mt-2 flex items-center gap-1",children:Vn().successMessage&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:b0,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{className:"text-[#00FF85]",children:Vn().successMessage})]})}),D&&mn.length===0&&t.jsx("p",{className:"text-[#DDDDE6]/50 text-sm mt-2",children:"No repositories found. Enter a name to create a new one."}),D&&!U&&S&&b&&t.jsxs("p",{className:"text-[#FF4545] text-sm mt-2 flex items-center gap-1",children:[t.jsx("img",{src:b0,alt:"Info",className:"w-3 h-3"}),t.jsxs("span",{children:["Repository ",t.jsxs("span",{className:"font-semibold",children:['"',b,'"']}),` doesn't exist. Switch to "Create New" to create it.`]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:ume,alt:"Branch",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#898F99] text-sm font-medium font-[Inter]",children:"Branch"})]}),R&&!U&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{type:"button",className:"flex items-center justify-center w-6 h-6 ml-1 rounded-full hover:bg-blue-400/5 group",onClick:_t,disabled:Et,title:"Refresh branches",children:t.jsx(xm,{className:`h-3.5 w-3.5 text-[#898F99] group-hover:text-white ${v?"animate-spin":""}`})})})]}),Et?t.jsx("div",{className:"flex items-center justify-center h-14 bg-[#131314] border border-[#242424] rounded-md",children:t.jsx(ln,{className:"h-4 w-4 text-[#00FF85] animate-spin"})}):U?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"flex items-center justify-between w-full h-14 bg-[#131314] border border-[#242424] rounded-md p-3 text-white",children:t.jsx("div",{className:"flex items-center w-full branch-input",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ni,{type:"text",value:x,onChange:Cn,placeholder:"Branch name (e.g., main)",className:"w-full p-0 bg-transparent border-0 focus-visible:ring-0 focus-visible:ring-offset-0",disabled:!D||!$&&U}),x&&t.jsx(Vt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 w-6 h-6 transform -translate-y-1/2 rounded-full top-1/2",onClick:()=>{y("main")},title:"Clear branch name",disabled:!D||!$&&U,children:t.jsx(Pt,{className:"h-3.5 w-3.5 text-[#898F99]"})})]})})})}),x&&!Bn().isValid&&t.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:Bn().errorMessage})]}):t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("div",{ref:ge,className:A(`flex items-center justify-between w-full h-14 bg-[#131314] border ${o.showBranchDropdown?"border-white/50":"border-[#242424]"} rounded-md p-3 text-[#C4C4CC] branch-input`,se?"border border-[#E38F4533]":J?"border border-[#A199FF33]":""),onClick:()=>{!D||!R||_.length===0||c({showRepositoryDropdown:!1,showInstallationDropdown:!1,showBranchDropdown:!o.showBranchDropdown})},id:"branch-selector",children:[t.jsx("div",{className:"flex items-center w-full",children:t.jsx("div",{className:"relative flex-1",children:x?t.jsx("div",{className:"flex items-center",children:x}):t.jsx("span",{className:"text-[#8F8F98]",children:"Select a branch"})})}),(se||J)&&t.jsx("img",{src:se?mF:bme,alt:"Branch",className:"w-6 h-6 mr-4"}),t.jsx(Dr,{className:`h-4 w-4 text-[#898F99] transition-transform duration-200 ${o.showBranchDropdown?"rotate-180":""}`})]}),t.jsx(y0,{isOpen:_.length>0&&o.showBranchDropdown,onClose:f,triggerRef:ge,className:"branch-dropdown",scrollableContainerRef:Ie,children:t.jsxs("div",{className:"flex flex-col gap-[6px] p-2 max-h-[210px]",children:[_.map($e=>t.jsx("div",{className:A("px-3 min-h-[40px] rounded-[8px] py-2 text-[#DDDDE6] hover:bg-[#2D2D2F]/40 font-medium cursor-pointer",x===$e.name&&"bg-[#172426] text-[#1BB4CC] hover:bg-[#172426] hover:text-[#1BB4CC]"),onClick:()=>{y($e.name),c({showBranchDropdown:!1,showRepositoryDropdown:!1,showInstallationDropdown:!1})},children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:$e.name}),x===$e.name&&t.jsx(Mn,{className:"h-4 w-4 text-[#1BB4CC]"})]})},$e.name)),t.jsx("div",{className:"border-t border-[#ffffff12] mt-2"}),t.jsx("div",{className:"px-3 min-h-[40px] rounded-[8px] py-2 text-[#4ADE80] hover:bg-[#4ADE80]/10 font-medium cursor-pointer",onClick:$e=>{$e.preventDefault(),$e.stopPropagation(),E(x||"main"),c({showCustomBranchInput:!0,showBranchDropdown:!1})},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_a,{className:"w-4 h-4"}),"Create New Branch"]})})]})})]}),t.jsx(y0,{isOpen:o.showCustomBranchInput,onClose:m,triggerRef:ge,className:"branch-dropdown custom-branch-input",scrollableContainerRef:Ie,children:t.jsxs("div",{className:"p-3 space-y-3",onMouseDown:$e=>$e.stopPropagation(),onClick:$e=>$e.stopPropagation(),children:[t.jsx("div",{className:"text-sm text-[#898F99]",children:"Enter a new branch name:"}),t.jsx("div",{className:"flex items-center w-full branch-input",children:t.jsx("div",{className:"relative flex-1",children:t.jsx(Ni,{type:"text",value:F,onChange:$e=>{const Be=p4($e.target.value);E(Be)},onKeyDown:$e=>{$e.key==="Enter"&&xd(F)&&(y(F),c({showCustomBranchInput:!1})),$e.key==="Escape"&&(c({showCustomBranchInput:!1}),E(""))},placeholder:"Branch name (e.g., feature/my-new-branch)",className:"w-full p-2 bg-[#1A1A1C] border border-[#242424] rounded-md focus-visible:ring-0 focus-visible:border-white/50 focus-visible:ring-offset-0 text-white",autoFocus:!0})})}),F&&!xd(F)&&t.jsx("div",{className:"text-[#FF4545] text-xs",children:"Invalid branch name. Names must follow Git naming rules."}),t.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[t.jsx(Vt,{type:"button",variant:"outline",size:"sm",onClick:()=>{c({showCustomBranchInput:!1}),E("")},className:"border-[#242424] text-gray-300 hover:bg-[#1a1a1c] bg-transparent",children:"Cancel"}),t.jsx(Vt,{type:"button",size:"sm",onClick:()=>{xd(F)&&(y(F),c({showCustomBranchInput:!1}))},disabled:!xd(F),className:"bg-[#00FF85] hover:bg-[#00FF85]/90 text-black font-medium",children:"Use Branch"})]})]})})]}),x&&!Bn().isValid&&t.jsx("div",{className:"text-[#FF4545] text-sm mt-2",children:Bn().errorMessage}),R&&!U&&Et&&t.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[t.jsx(ln,{className:"w-3 h-3 animate-spin"}),t.jsx("span",{children:"Checking branches..."})]}),x&&Bn().isValid&&Bn().successMessage&&R&&!Et&&t.jsxs("div",{className:"text-[#898F99] text-sm font-medium font-[Inter] flex items-center gap-1",children:[t.jsx("img",{src:b0,alt:"Info",className:"w-3 h-3"}),t.jsx("span",{className:"text-[#00FF85]",children:Bn().successMessage})]})]}),se&&!oe?t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"bg-[#1F1B18]  rounded-[10px] p-3 flex items-start gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{alt:"Warning",src:mF,className:"w-5 h-5"}),t.jsx("span",{className:"text-[#E38F45] text-[14px] font-medium font-['Inter']",children:"Changes conflict detected"})]}),t.jsxs("p",{className:"text-[#99897A] text-[13px] font-['Inter'] leading-[20px] font-medium",children:["Your changes conflict with what's already on the"," ",t.jsxs("span",{className:"text-[#FFE4CC] font-semibold font-['Inter']",children:["'",x,"'"]})," branch. You can force push to replace it, but this will permanently erase what's currently there."]})]}),t.jsx("button",{type:"button",onClick:()=>pe(!0),className:"ml-auto bg-[#2E2720]  text-[#CC9666] w-fit text-nowrap font-medium px-[10px] py-[6px] rounded-[6px] tracking-[-0.2px]",children:"Force Push anyway"})]}),t.jsxs("div",{className:"bg-[#00E5731A]  rounded-[10px] p-3 flex flex-col gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"Warning",src:hF,className:"w-5 h-5"}),t.jsx("span",{className:"text-[#00E573] font-medium text-[14px] font-['Inter']",children:"Recommended Solution"})]}),t.jsxs("p",{className:"text-[#FFFFFF60] text-[13px] font-medium font-['Inter']",children:[t.jsx("span",{className:"font-semibold font-['Inter'] text-white",children:"Save your changes to a new branch."})," ","This keeps your work safe and allows for proper conflict resolution on GitHub."]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[#FFFFFF] text-[13px] font-['Inter'] font-medium",children:"Proposed branch name :"}),t.jsx(Ni,{type:"text",value:ae,onChange:$e=>me($e.target.value),className:"w-full px-4 py-3 bg-[#80FFF90D] border border-[#80FFF94D] text-white focus:border-[#80FFF9] focus:ring-[#80FFF94D]",placeholder:"Enter branch name"})]})]})]}):null,J&&t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"bg-[#A199FF0D]  rounded-[10px] p-4",children:t.jsx("div",{className:"flex items-start gap-3",children:t.jsxs("div",{className:"flex-1 space-y-3",children:[t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-start gap-[6px]",children:[t.jsx("img",{src:fme,alt:"Warning",className:"w-5 h-5"}),t.jsx("h4",{className:"text-[#A199FF] font-medium font-['Inter'] text-[16px] mb-1 leading-[20px]",children:"Security Protection Activated"})]}),t.jsx("p",{className:"text-[#A199FF50] font-medium text-[13px] font-['Inter'] leading-[20px]",children:"We detected a secret key in your code and blocked this upload to protect you."})]}),J?.learnMoreUrl&&t.jsx("button",{type:"button",onClick:()=>window.open(J?.learnMoreUrl,"_blank"),className:" text-[#FFFFFF60] flex gap-1 items-center px-3 hover:bg-[#FFFFFF]/10 transition-all duration-150 ease-out hover:text-[#ffffff80] bg-[#FFFFFF0F] w-fit text-nowrap font-medium text-[16px] h-8 rounded-[8px]",children:"Learn how to fix this?"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{type:"button",onClick:()=>Ne($e=>$e?{...$e,isExpanded:!$e.isExpanded}:null),className:A("flex items-center gap-2 font-['Inter'] text-[#ffffff40] hover:text-[#FFFFFF80] text-[13px] font-medium transition-colors",{"text-[#FFFFFF80]":J?.isExpanded}),children:["View error details",t.jsx(Dr,{className:`w-4 h-4 transition-transform ${J?.isExpanded?"rotate-180":""}`})]}),J?.isExpanded&&t.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[t.jsx(Cc,{showIcon:!0,iconOnly:!0,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",value:J?.fullError,tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(J?.fullError)}}),t.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:J?.fullError})]})]})]})})})}),Q&&!J&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:mme,alt:"Error",className:"w-5 h-5"}),t.jsx("h4",{className:"text-red-400 font-medium text-[14px] font-[Inter] leading-[20px]",children:"Error"})]}),t.jsxs("div",{className:"bg-[#FFFFFF08] rounded-[8px] relative backdrop-blur-lg p-3 md:max-w-[600px] mt-2 max-h-[300px]",children:[t.jsx(Cc,{showIcon:!0,iconOnly:!0,value:Q,className:"absolute border-none opacity-45 hover:opacity-100 bg-none right-3 top-3",tooltipText:"Copy",copiedTooltipText:"Copied",buttonClassName:"p-0",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{navigator.clipboard.writeText(Q)}}),t.jsx("pre",{className:"text-[#FFFFFF50] text-[14px] whitespace-pre-wrap break-words w-full leading-[16px] max-h-[200px] font-[400] overflow-y-auto font-jetbrains",children:Q})]})]})]})]})]}),t.jsx(Sc,{className:"flex justify-end p-4  md:p-6 border-t rounded-b-lg border-[#242424] ",children:be?t.jsx(Vt,{type:"button",onClick:()=>{Ue(!1),Me(null),s(!1),a&&a(fe)},className:"bg-[#272729] hover:bg-[#272729]/90 px-5 font-semibold text-[#DCDCE5]",children:"Okay, Got It"}):se&&!oe?t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:"mr-2 text-[#ACACB2] bg-[#222224] hover:bg-[#22222490] px-4 pl-3 py-3 rounded-[28px] ",disabled:Wn,children:"Cancel"}),t.jsx("button",{type:"button",onClick:cn,disabled:Wn||!En().isValid,className:"bg-[#00FF85] font-semibold flex items-center gap-2 rounded-[28px] pl-4 pr-3 py-3  hover:bg-[#00FF85]/90 text-black",children:Wn?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Branch..."]}):t.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:["Create Branch & Push",t.jsx("img",{src:gme,alt:"Branch",className:"w-6 h-6"})]})})]}):oe?t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>pe(!1),className:" text-[#ACACB2] px-4 py-3 pr-3 bg-[#222224] hover:bg-[#22222490] rounded-[28px]",disabled:Wn,children:t.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[t.jsx("img",{src:xme,alt:"Back",className:"w-6 h-6"}),"Go Back"]})}),t.jsx("button",{type:"button",onClick:()=>{hn()},disabled:Wn,className:"bg-[#FFA04D] hover:bg-[#FFA04D]/90 flex items-center gap-2 rounded-[28px] pl-4 pr-3  text-[#111112] font-medium",children:Wn?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),"Force Pushing..."]}):t.jsxs("div",{className:"flex items-center font-semibold tracking-[-0.2px] gap-2 text-[#111112]",children:['Force Push to "',x,'"',t.jsx("img",{src:uF,alt:"Save Cloud",className:"w-6 h-6"})]})})]}):t.jsxs("div",{className:"flex justify-end w-full gap-2",children:[t.jsx("button",{type:"button",onClick:()=>s(!1),className:" bg-[#272729] rounded-full font-medium px-5 py-3 text-gray-300 hover:bg-[#27272990]",disabled:Wn,children:"Cancel"}),t.jsx("button",{type:"submit",onClick:fs,disabled:Wn||!ome({jobId:r,selectedInstallation:D,isCreatingNewRepo:U,newRepoName:$,selectedRepository:R,branchName:x,repositories:mn,isLoading:dn}).isValid,className:A("bg-[#00FF85] rounded-full max-md:max-w-[200px] flex items-center gap-1 px-5 py-3 hover:bg-[#00FF85]/90 text-black font-semibold",Wn&&"opacity-50 cursor-not-allowed","disabled:opacity-50"),children:Wn?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),ct?"Creating Repository...":U?"Creating & Pushing...":"Pushing..."]}):t.jsxs("div",{className:"flex items-center gap-2",children:[U?"Create & Push to Github":"Push to Github",t.jsx("img",{src:uF,alt:"Save Cloud",className:"w-6 h-6"})]})})]})})]})})}):t.jsx(t.Fragment,{children:t.jsx(zn,{open:n,onOpenChange:je,children:t.jsxs(dr,{className:"md:max-w-[620px] md:min-h-[600px] transition-all duration-300 ease-in-out  bg-[#0F0F10] overflow-hidden",hideclosebutton:!0,children:[qt&&t.jsx("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0F0F10]/90 backdrop-blur-sm",children:t.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-lg",children:[t.jsx(ln,{className:"w-12 h-12 text-[#00E573] animate-spin mb-4"}),t.jsx("p",{className:"text-lg font-medium text-white",children:"Connecting to GitHub..."})]})}),t.jsx("img",{src:pF,alt:"Line",className:"absolute top-0 left-0 right-0 z-[-1] w-full pointer-events-none"}),t.jsx(wl,{className:"z-20 ml-auto bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#FFFFFF12]",children:t.jsx(Pt,{className:"absolute z-20 w-5 h-5 text-gray-400 hover:text-white top-12 right-12"})}),t.jsx("div",{className:"flex items-center p-[40px] pt-[80px] gap-1 z-10",children:t.jsx("img",{src:cme,alt:"GitHub"})}),t.jsxs("div",{className:"p-[40px] pt-[0px] flex flex-col items-start gap-4 h-[300px] z-10",children:[t.jsx("span",{className:"text-white text-[24px] font-medium font-brockmann",children:"Connect Github to Emergent"}),t.jsx("span",{className:"text-[18px] text-[#8A8F98]",children:"Connect your GitHub account to effortlessly save, sync, and access your work in all repositories, anytime."})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4 border border-[#242424] p-[20px] bg-[#111112]",children:[t.jsx(Vt,{onClick:()=>s(!1),className:"flex items-center px-[20px] w-fit justify-center bg-[#272729] hover:bg-[#343434] text-white",disabled:qt,children:t.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:"Cancel"})}),t.jsx(Vt,{onClick:Ln,className:"max-w-[200px] w-full bg-[#00E573] hover:bg-[##00E573]/90 text-[#0E0E0F] font-brockmann font-semibold hover:bg-[#00E573]/80",disabled:qt,children:t.jsx("div",{className:"flex items-center justify-center w-full text-[16px]",children:qt?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):"Connect GitHub"})})]})]})})})}const yme=W.common.visualEdit,N8=d.forwardRef(({visualEditMode:e,disabled:n,onClick:s,isVisualEditChangesEnabled:r,variant:i="default",className:a,showTooltip:o=!0,tooltipSide:l="top"},c)=>{const u=t.jsxs("button",{ref:c,type:"button",disabled:n,onClick:s,className:A("flex items-center justify-center gap-1.5 transition-colors duration-200",i==="default"&&"h-8 pl-1 pr-2 rounded-[6px]",i==="chat"&&"rounded-full h-9 p-2",e?"bg-[#0161D1]":i==="default"?"bg-[#FFFFFF0A] hover:bg-[#FFFFFF14]":"bg-[#FFFFFF14] hover:bg-gray-100/10","disabled:opacity-50 disabled:cursor-not-allowed",r&&i==="chat"&&"pl-2 pr-2.5",a),children:[t.jsx("img",{src:yme,alt:"Visual Edit",className:"w-5 h-4"}),r&&t.jsx("span",{className:"text-sm font-medium text-white",children:"Edit"})]});return o?t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:0,children:[t.jsx(bi,{asChild:!0,children:u}),t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] font-medium tracking-[-0.3px] text-sm p-[10px] rounded-lg shadow-lg z-[9999]",side:l,sideOffset:5,asChild:!0,children:t.jsxs(xe.div,{initial:{opacity:0,y:-2,scale:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:1},transition:{type:"tween",ease:"easeOut",duration:.4},className:"flex items-center gap-1",children:[t.jsx("span",{children:e?"Disable Edit Mode":"Enable Edit Mode"}),t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx("div",{className:"flex items-center justify-center h-5 px-1 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:t.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:typeof navigator<"u"&&navigator.platform?.toLowerCase().includes("mac")?"":"ctrl"})}),t.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded bg-[rgba(0,0,0,0.14)] border border-[rgba(0,0,0,0.08)]",children:t.jsx("span",{className:"text-xs font-medium text-[rgba(0,0,0,0.4)] font-brockmann",children:"E"})})]}),t.jsx(Pa,{className:"fill-[#fff]"})]})})]})}):u});N8.displayName="VisualEditButton";function vme({maxFiles:e=10,maxSizeInMB:n=50,allowedTypes:s=[],jobId:r,onUploadComplete:i,onUploadError:a}={}){const[o,l]=d.useState([]),[c,u]=d.useState([]),[p,f]=d.useState(!1),{toast:m}=ds(),h=d.useCallback(C=>{const F=n*1024*1024;return C.size>F?`File size exceeds ${n}MB limit`:s.length>0&&!s.some(S=>S.startsWith(".")?C.name.toLowerCase().endsWith(S.toLowerCase()):C.type.toLowerCase().includes(S.toLowerCase()))?`File type not allowed. Allowed types: ${s.join(", ")}`:null},[n,s]),x=d.useCallback(C=>{if(!C)return;const F=Array.from(C),E=[],S=[];o.length+F.length>e&&S.push(`Cannot add more than ${e} files`),F.forEach(M=>{const k=h(M);k?S.push(`${M.name}: ${k}`):E.push({file:M,name:M.name,size:M.size,type:M.type,lastModified:M.lastModified})}),S.length>0&&m({title:"File Validation Error",description:S.join(`
`),variant:"destructive"}),E.length>0&&l(M=>[...M,...E])},[o.length,e,h,m]),y=d.useCallback(C=>{x(C)},[x]),v=d.useCallback(()=>{const C=document.createElement("input");return C.type="file",C.multiple=!0,C.style.display="none",s.length>0&&(C.accept=s.join(",")),C.onchange=F=>{const E=F.target;y(E.files),document.body.removeChild(C)},C},[s,y]),g=d.useCallback(()=>{const C=v();document.body.appendChild(C),setTimeout(()=>{C.click()},0)},[v]),b=d.useCallback(async C=>{if(!r)throw new Error("Job ID is required for file upload");const F=`${C.name}-${Date.now()}`;u(E=>[...E,{artifactId:F,fileName:C.name,progress:0,status:"uploading"}]);try{const E={file_name:C.name,mime_type:C.type},S=await yt.uploadArtifact(r,E);u(k=>k.map(I=>I.artifactId===F?{...I,progress:33,artifactId:S.artifact_id,file_path:S.file_path}:I)),await yt.uploadFileToUrl(S.upload_url,C.file),u(k=>k.map(I=>I.artifactId===S.artifact_id?{...I,progress:66}:I));const M={entity_id:r,entity_type:"job",visibility:"public",file_name:C.name,description:C.description||void 0,file_path:S.file_path};await yt.finalizeArtifactUpload(S.artifact_id,M),u(k=>k.map(I=>I.artifactId===S.artifact_id?{...I,progress:100,status:"completed"}:I)),i?.(S.artifact_id,C.name),m({title:"Upload Complete",description:`${C.name} uploaded successfully`})}catch(E){u(S=>S.map(M=>M.artifactId===F?{...M,status:"failed",error:E.message}:M)),a?.(C.name,E.message),m({title:"Upload Failed",description:`Failed to upload ${C.name}: ${E.message}`,variant:"destructive"})}},[r,i,a,m]),w=d.useCallback(async C=>{if(C.length===0){m({title:"No Files",description:"Please select files to upload",variant:"destructive"});return}if(!r){m({title:"Error",description:"Job ID is required for file upload",variant:"destructive"});return}f(!0);try{const F=[];for(const E of C){const S=`${E.name}-${Date.now()}`;u(M=>[...M,{artifactId:S,fileName:E.name,progress:0,status:"uploading"}]);try{const M={file_name:E.name,mime_type:E.type},k=await yt.uploadArtifact(r,M);u(I=>I.map(D=>D.artifactId===S?{...D,progress:25,artifactId:k.artifact_id,file_path:k.file_path}:D)),await yt.uploadFileToUrl(k.upload_url,E.file),u(I=>I.map(D=>D.artifactId===k.artifact_id?{...D,progress:50}:D)),F.push({artifact_id:k.artifact_id,entity_id:r,entity_type:"job",visibility:"public",file_name:E.name,description:E.description||void 0,file_path:k.file_path})}catch(M){u(k=>k.map(I=>I.artifactId===S?{...I,status:"failed",error:M.message}:I)),a?.(E.name,M.message),m({title:"Upload Failed",description:`Failed to upload ${E.name}: ${M.message}`,variant:"destructive"})}}if(F.length>0)try{await yt.batchFinalizeArtifactUpload({artifacts:F}),u(E=>E.map(S=>F.find(k=>k.artifact_id===S.artifactId)?{...S,progress:100,status:"completed"}:S)),F.forEach(E=>{i?.(E.artifact_id,E.file_name)}),m({title:"Upload Complete",description:`${F.length} file(s) uploaded successfully`})}catch(E){u(S=>S.map(M=>F.find(I=>I.artifact_id===M.artifactId)?{...M,status:"failed",error:E.message}:M)),m({title:"Finalization Failed",description:`Failed to finalize uploads: ${E.message}`,variant:"destructive"})}l([])}catch{m({title:"Upload Failed",description:"Failed to upload files. Please try again.",variant:"destructive"})}finally{f(!1)}},[o,r,i,a,m]),N=d.useCallback(C=>{l(F=>F.filter((E,S)=>S!==C))},[]),j=d.useCallback(()=>{l([]),u([])},[]),_=d.useCallback(()=>{u(C=>C.filter(F=>F.status!=="completed"))},[]);return{files:o,uploadProgress:c,isProcessing:p,handleFileSelect:y,openFilePicker:g,uploadFile:b,uploadAllFiles:w,removeFile:N,clearFiles:j,clearCompletedUploads:_,hasFiles:o.length>0,hasUploads:c.length>0}}function FO(){const{getCurrentOrganizationId:e,isOrganizationWorkspace:n}=ys(),{restrictedFree:s}=ni(),r=Er(),i=Qi(),{personalTier:a,orgTier:o}=cs();return{handleBuyCredits:d.useCallback((c={})=>{const{source:u="unknown",jobId:p,remainingCredits:f,additionalTrackingData:m={}}=c,h="personal";if(i){try{const x=a,y=x!=="free",v=lc("buy-credits",y),{title:g,description:b}=Ca("buy-credits");window?.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"TRIGGER_SUBSCRIPTION",planType:h,organizationId:void 0,triggerLocation:"buy-credits",currentTier:x,hasActiveSubscription:y,title:g,description:b,...v&&{modalType:v}}))}catch{}z("buy_credits_button_clicked",{source:u,jobId:p,remainingCredits:f,planType:h,isMobileApp:!0,...m});return}z("buy_credits_button_clicked",{source:u,jobId:p,remainingCredits:f,...m}),r.open({planType:h,triggerLocation:"default"})},[i,n,e,r,a,o]),isMobileApp:i,isRestrictedFreeUser:s}}const wme=W.files.pdf,xF=W.files.csv,Cme=W.files.doc,_me=W.files.ppt,jme=W.files.txt,Nme=W.files.video,EO=W.files.svg,gF=W.files.other,SO=W.files.zip,Fme=(e,n)=>n&&["image/jpeg","image/png","image/gif","image/webp"].includes(n)?!0:[".jpg",".jpeg",".png",".gif",".webp"].some(i=>e.toLowerCase().endsWith(i)),Eme=(e,n)=>n==="image/svg+xml"||e.toLowerCase().endsWith(".svg"),Sme=e=>{if(!e)return"";if(e===0)return"0 B";const n=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(1))+" "+s[r]},kme=(e,n=20)=>{if(e.length<=n)return e;const s=e.lastIndexOf(".");if(s===-1)return e.substring(0,n-3)+"...";const r=e.substring(s),i=e.substring(0,s),a=n-r.length-3;return a<=0?"..."+r:i.substring(0,a)+"..."+r},Tme=(e,n)=>{if(!e&&!n)return gF;const s=e?.toLowerCase()||"";return s.endsWith(".pdf")||n==="application/pdf"?wme:s.endsWith(".csv")||n==="text/csv"?xF:s.endsWith(".doc")||s.endsWith(".docx")||n==="application/msword"||n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?Cme:s.endsWith(".ppt")||s.endsWith(".pptx")||n==="application/vnd.ms-powerpoint"||n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?_me:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||n==="text/plain"||n==="text/markdown"?jme:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")?SO:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||n?.startsWith("video/")?Nme:s.endsWith(".svg")||n==="image/svg+xml"?EO:s.endsWith(".xls")||s.endsWith(".xlsx")||n==="application/vnd.ms-excel"||n==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?xF:gF};function Ime({artifact:e}){const n=Fme(e.file_name,e.mime_type),s=Eme(e.file_name,e.mime_type),r=Tme(e.file_name,e.mime_type),i=r===SO,a=e.local_preview_url||e.file_path;return n?t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px]  rounded-[8px] overflow-clip",children:t.jsx("img",{src:a,alt:e.file_name,className:"flex h-[44px] object-cover w-[44px] items-center justify-center"})}):s&&a?t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] max-w-[44px] min-w-[44px] rounded-[8px] overflow-clip",children:t.jsx("img",{src:a,alt:e.file_name,className:"flex h-[44px] object-contain w-[44px] items-center justify-center",onError:o=>{const l=o.target;l.src=EO,l.className="w-8 h-8"}})}):t.jsx("div",{className:"flex items-center gap-2 min-h-[44px] max-h-[44px] min-w-[100px] p-1 pr-4 bg-[#FFFFFF0D] rounded-[8px]",children:t.jsxs("div",{className:"flex items-center flex-1 h-full min-w-0 gap-2",children:[t.jsx("img",{src:r,alt:"File",className:A("w-8 h-8",i&&"p-1")}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-[14px] font-medium font-['Inter'] text-[#FFFFFFCC] truncate text-nowrap",children:kme(e.file_name,20)}),e.file_size&&t.jsx("div",{className:"text-[12px] font-['Inter'] font-medium text-white/40 mt-0.5",children:Sme(e.file_size)})]})]})},e.artifact_id)}const Ame=W.common.whiteGithub,Dme=W.github.gitDot,Mme=W.fork.fork,Lme=W.icons.animatedSpinner,Rme=({isOpen:e,onOpenChange:n,isGitHubConnected:s=!1,onSaveToGitHub:r,isGitHubDisabled:i=!1,onForkClick:a,isForkDisabled:o=!1,forkStatus:l=null,ultraMode:c=!1,onUltraModeChange:u,isUltraDisabled:p=!1,tier:f,onUpgradeRequired:m,getCurrentOrganizationId:h})=>{const x=y=>{f==="pro_mode"||h?.()?(z(y?"ultra_mode_enabled":"ultra_mode_disabled",{source:"mobile_settings_bottom_sheet"}),u?.(y)):(z("ultra_mode_upgrade_required",{source:"mobile_settings_bottom_sheet",currentTier:f}),m?.())};return t.jsxs(la,{open:e,onOpenChange:n,showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>n(!1),title:"Settings",maxWidth:"max-w-full",trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsx("div",{className:"space-y-4 bg-[#111112] px-4 pb-4 rounded-t-2xl",children:t.jsxs("div",{className:"flex flex-col pt-4 space-y-4",children:[t.jsxs("div",{className:A("flex items-center justify-between p-4 rounded-[12px] transition-colors",c?"bg-[#FF8C661A]":"bg-[#FFFFFF0F]"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(qo,{color:c?"#FF8C66":"#ffffff",size:24}),t.jsx("div",{className:"flex flex-col items-start",children:t.jsx("span",{className:A("font-medium transition-colors",c?"text-[#FF8C66]":"text-white"),children:"Ultra thinking"})})]}),t.jsx(gp,{checked:c,onCheckedChange:x,disabled:p,className:"data-[state=unchecked]:bg-[#3B3B3B] data-[state=checked]:bg-[#FF8C66]"})]}),t.jsxs("button",{disabled:i,onClick:()=>{z("github_push_button_clicked",{source:"mobile_settings_bottom_sheet",isGitHubConnected:s}),r?.(),n(!1)},className:A("flex items-center justify-between p-4 rounded-[12px] bg-[#FFFFFF0F] hover:bg-[#FFFFFF14] transition-colors",i&&"opacity-50 cursor-not-allowed"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:s?Dme:Ame,alt:"GitHub",className:A("w-6 h-6",s?"scale-[1.2]":"")}),t.jsx("span",{className:"font-medium text-white",children:"Save to GitHub"})]}),t.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]}),t.jsxs("button",{disabled:o||l==="running",onClick:()=>{z("fork_button_clicked",{source:"mobile_settings_bottom_sheet",forkStatus:l}),a?.(),n(!1)},className:A("flex items-center justify-between p-4 rounded-[12px] transition-colors",l==="running"?"bg-[#80FFF90D] cursor-not-allowed":"bg-[#FFFFFF0F] hover:bg-[#FFFFFF14]",o&&l!=="running"&&"opacity-50 cursor-not-allowed"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:l==="running"?Lme:Mme,alt:"Fork",className:"w-6 h-6"}),t.jsx("span",{className:A("font-medium",l==="running"?"text-[#80FFF9]":"text-white"),children:l==="running"?"Forking...":"Fork"})]}),t.jsx("div",{className:"w-2 h-2 rounded-full bg-white/30"})]})]})})]})},ug=({size:e=20,color:n="currentColor",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M7.58584 4.5374C8.08417 3.07906 10.0992 3.0349 10.69 4.4049L10.74 4.53823L11.4125 6.5049C11.5666 6.95592 11.8157 7.36865 12.1429 7.71525C12.47 8.06184 12.8678 8.33424 13.3092 8.51406L13.49 8.58156L15.4567 9.25323C16.915 9.75156 16.9592 11.7666 15.59 12.3574L15.4567 12.4074L13.49 13.0799C13.0388 13.2339 12.6259 13.4829 12.2792 13.8101C11.9324 14.1373 11.6599 14.5351 11.48 14.9766L11.4125 15.1566L10.7408 17.1241C10.2425 18.5824 8.2275 18.6266 7.6375 17.2574L7.58584 17.1241L6.91417 15.1574C6.76015 14.7062 6.51115 14.2933 6.18395 13.9466C5.85676 13.5998 5.459 13.3273 5.0175 13.1474L4.8375 13.0799L2.87084 12.4082C1.41167 11.9099 1.3675 9.8949 2.7375 9.3049L2.87084 9.25323L4.8375 8.58156C5.28853 8.42744 5.70126 8.17839 6.04786 7.8512C6.39445 7.52402 6.66685 7.12631 6.84667 6.6849L6.91417 6.5049L7.58584 4.5374ZM15.83 1.66406C15.9859 1.66406 16.1387 1.70779 16.271 1.79029C16.4032 1.87278 16.5097 1.99073 16.5783 2.13073L16.6183 2.22823L16.91 3.08323L17.7658 3.3749C17.9221 3.42798 18.059 3.52624 18.1594 3.65724C18.2597 3.78824 18.3189 3.94608 18.3294 4.11075C18.3399 4.27542 18.3013 4.43951 18.2185 4.58222C18.1357 4.72493 18.0124 4.83985 17.8642 4.9124L17.7658 4.9524L16.9108 5.24406L16.6192 6.0999C16.566 6.25609 16.4677 6.39298 16.3366 6.49322C16.2056 6.59347 16.0477 6.65256 15.883 6.663C15.7184 6.67344 15.5543 6.63477 15.4117 6.55188C15.269 6.46899 15.1541 6.34562 15.0817 6.1974L15.0417 6.0999L14.75 5.2449L13.8942 4.95323C13.7379 4.90015 13.601 4.80188 13.5006 4.67088C13.4003 4.53988 13.3411 4.38205 13.3306 4.21738C13.3201 4.05271 13.3587 3.88862 13.4415 3.74591C13.5243 3.60319 13.6476 3.48828 13.7958 3.41573L13.8942 3.37573L14.7492 3.08406L15.0408 2.22823C15.097 2.06358 15.2033 1.92065 15.3449 1.81948C15.4864 1.7183 15.656 1.66396 15.83 1.66406Z",fill:n})}),dc=c$,uc=d$,_c=d.forwardRef(({className:e,align:n="center",sideOffset:s=4,...r},i)=>t.jsx(l$,{children:t.jsx(xv,{ref:i,align:n,sideOffset:s,className:A("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_c.displayName=xv.displayName;const Pme=u$,kO=d.forwardRef(({className:e,align:n="center",sideOffset:s=4,...r},i)=>t.jsx(xv,{ref:i,align:n,sideOffset:s,className:A("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));kO.displayName="PopoverContentNested";const TO=({config:e,qrCodeUrl:n,align:s="center",source:r,children:i})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(!1),u=d.useRef(),p=a||l,f=()=>{clearTimeout(u.current),l||(o(!0),z(Mu.QR_CTA_HOVER,{source:r}))},m=()=>{l||(u.current=setTimeout(()=>o(!1),150))},h=v=>{v.preventDefault(),c(g=>!g),o(!1),z(Mu.QR_CTA_CLICK,{source:r})},x=v=>{v||(c(!1),o(!1))},y=typeof i=="function"?i(p):i;return t.jsxs(dc,{open:p,onOpenChange:x,children:[t.jsx(uc,{asChild:!0,children:t.jsx("div",{onMouseEnter:f,onMouseLeave:m,onClick:h,children:y})}),t.jsxs(_c,{side:"bottom",align:s,sideOffset:24,className:"bg-[#19191a] rounded-2xl p-2 w-[240px] border border-[#242424]",onMouseEnter:f,onMouseLeave:m,children:[t.jsx("div",{className:"flex justify-center px-2 py-3 bg-[#FFFFFF0A] rounded-xl",children:t.jsx("img",{src:`${Z}/${n}`,alt:"QR Code",className:"h-[100px]"})}),t.jsx("p",{className:"mt-2 text-center text-[#F2F5F7] text-base font-medium",children:e.title}),t.jsx("p",{className:"m-1 text-center text-[#f2f5f799] text-sm",children:e.description})]})]})};function Ry(e){return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...e,children:t.jsx("path",{d:"M9 16C9 15.4477 8.5523 15 8 15H6C5.44771 15 5 15.4477 5 16V18C5 18.5523 5.44771 19 6 19H8C8.5523 19 9 18.5523 9 18V16ZM13 20V19.9902C13 19.438 13.4477 18.9902 14 18.9902C14.5523 18.9902 15 19.438 15 19.9902V20C15 20.5523 14.5523 21 14 21C13.4477 21 13 20.5523 13 20ZM17 20V18C17 17.4477 17.4477 17 18 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20ZM13 14C13 13.4477 13.4477 13 14 13C14.5523 13 15 13.4477 15 14V15H16C16.5523 15 17 15.4477 17 16C17 16.5523 16.5523 17 16 17H14C13.4477 17 13 16.5523 13 16V14ZM20 13C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H18C17.4477 15 17 14.5523 17 14C17 13.4477 17.4477 13 18 13H20ZM9 6C9 5.44771 8.55229 5 8 5H6C5.44771 5 5 5.44771 5 6V8C5 8.55229 5.44771 9 6 9H8C8.55229 9 9 8.55229 9 8V6ZM19 6C19 5.44771 18.5523 5 18 5H16C15.4477 5 15 5.44771 15 6V8C15 8.5523 15.4477 9 16 9H18C18.5523 9 19 8.5523 19 8V6ZM11 18C11 19.6569 9.65685 21 8 21H6C4.34315 21 3 19.6569 3 18V16C3 14.3431 4.34315 13 6 13H8C9.65685 13 11 14.3431 11 16V18ZM11 8C11 9.65685 9.65685 11 8 11H6C4.34315 11 3 9.65685 3 8V6C3 4.34315 4.34315 3 6 3H8C9.65685 3 11 4.34315 11 6V8ZM21 8C21 9.65685 19.6569 11 18 11H16C14.3431 11 13 9.65685 13 8V6C13 4.34315 14.3431 3 16 3H18C19.6569 3 21 4.34315 21 6V8Z",fill:"currentColor"})})}const Ome=W.common.attach,Bme=W.common.folderAdd,Ume=W.common.pause,Vme=W.common.send,m4=W.common.attachmentCross,Hme=W.common.whiteGithub,$me=W.common.visualEdit,zme=W.icons.animatedSpinner,Wme=W.github.gitDot,Gme=W.fork.fork,qme=W.upload.close,Kme=W.panels.phone,h4=d.memo(()=>t.jsx("img",{src:$me,alt:"Visual Editing",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(71%) sepia(43%) saturate(424%) hue-rotate(182deg) brightness(102%) contrast(101%)"}})),x4=d.memo(({elementName:e})=>t.jsxs("div",{className:"flex items-center",style:{gap:"4px",padding:"6px 8px",height:"24px",borderRadius:"6px",backgroundColor:"rgba(1, 97, 209, 0.2)",border:"1px solid rgba(83, 169, 255, 0.4)"},children:[t.jsx("div",{className:"flex items-center justify-center",style:{width:"12px",height:"12px",flexShrink:0},children:t.jsx("svg",{width:"10",height:"10",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.93934 1.06066L7 0L8.06066 1.06066L12.9393 5.93934L14 7L12.9393 8.06066L8.06066 12.9393L7 14L5.93934 12.9393L1.06066 8.06066L0 7L1.06066 5.93934L5.93934 1.06066ZM2.12132 7L7 11.8787L11.8787 7L7 2.12132L2.12132 7Z",fill:"#53A9FF"})})}),t.jsx("span",{style:{fontWeight:500,fontSize:"14px",lineHeight:"1em",color:"#53A9FF",textAlign:"center"},children:e})]})),g4=d.memo(({status:e,colors:n})=>{const s=n[e].color||"#5FD3F3";return t.jsx("div",{className:A("w-4 h-4 rounded-lg flex justify-center items-center",e!="stopped"&&e!="exit_cost"&&"animate-status-pulse"),style:{backgroundColor:`${s}20`,"--status-pulse-color":`${s}70`,"--status-pulse-transparent":`${s}00`},children:t.jsx("div",{className:"w-2 h-2 rounded",style:{backgroundColor:s}})})}),b4=d.memo(({status:e,colors:n,statusText:s})=>t.jsx("span",{"data-testid":La.status,className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:n[e].color,whiteSpace:"normal"},children:s[e]})),IO=d.memo(({onSubmit:e,placeholder:n="Message Neo",isDisabled:s,agentState:r,agentStatus:i,setAgentStatus:a,containerId:o,jobDetails:l,newJob:c,acc_cost:u,max_budget:p,isCloudFlow:f,inputValue:m,modelName:h,agentName:x,isSubagentActive:y,hideStatus:v=!1,disableWhenSubagentActive:g=!1,onPause:b,onOpenSubagentPanel:w,showFinishSubagentText:N,pauseWasClicked:j,onImagesChange:_,lastGithubUsed:C,subagentName:F,onGitHubPush:E,modalOpen:S,setModalOpen:M,fromSubagentPanel:k=!1,isPauseLoading:I,buildMode:D,forked_status:P,onOpenUploadAssetsModal:R,ultraMode:B=!1,onUltraModeChange:U,autoMessageEnabled:H=!1,visualEditMode:$=!1,onVisualEditModeChange:q,selectedElementName:Q=null,enableVisualEdit:V,visualEditDisabled:ee,hasUnsavedVisualEditChanges:X=!1,onSaveVisualEditChanges:ae,onDiscardVisualEditChanges:me,isVisualEditChangesEnabled:oe,showUnsavedChangesModal:pe,isRemix:se=!1,isPerceivedUXMode:re=!1,aiMessagesCount:ve=0,salesmanFinished:we=!1})=>{const{toast:be}=ds(),Ue=ah(),fe=br(zg),Me=br(ye=>Rv(ye,fe)),J=br(ye=>k?"":kq(ye,fe)),[Ne]=MD(),[ge,{isLoading:Ee}]=WD(),[Ce]=jQ(),[Ie,Ae]=d.useState(J),[Se,ht]=d.useState(!1),[Qe,De]=d.useState(!1),[de,ue]=d.useState(!1),[lt,st]=d.useState(!1),[mt,ut]=d.useState(!1),[wn,Oe]=d.useState(!1),[_e,Et]=d.useState(!1),[dt,vt]=d.useState(!1),[Ct,St]=d.useState(!1),[ct,Ft]=d.useState(null),Fe=Ee,He=Er(),{handleBuyCredits:Ve}=FO(),Ke=d.useRef(null),Ye=d.useRef(null),At=d.useRef(null),mn=d.useRef(0),[Dt,Yt]=d.useState("normal"),[fn,qt]=d.useState(!1),_n=d.useMemo(()=>e2(),[]),{isMobile:In}=ps(),je=I??!1,{isConnected:Le}=Jd(),{user:xt}=xs(),{getCurrentOrganizationId:Rt}=ys(),{sendMessage:qe,isMobileApp:it}=c9(),{credits:_t,dailyCreditsEnabled:Kt,creditResponse:Cn,refreshCredits:On,personalTier:rs,orgTier:Vn}=cs(),{pro:Bn,restrictedFree:En,isEmergentUser:jn,userDetails:Un,tier:fs,ownerHasProAccess:cn,isOrganizationWorkspace:hn,isCurrentWorkspaceOwner:dn}=ni(),{getPendingMessage:Wn,getActiveTab:Ln,removePendingMessage:Cs}=qr(),[Vs,zt]=d.useState(!1),[is,$e]=d.useState(!1),Be=$x(),{isMobile:Te}=ps(),pt=Qg(),Xt=d.useMemo(()=>hn()?cn:!1,[hn,cn]),Hn=d.useMemo(()=>jn&&Qe,[jn,Qe]),{compressImage:An,getMimeType:en}=p2({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"});d.useEffect(()=>{$e(Be)},[l,$x]),d.useEffect(()=>{if(!Rq()&&!(i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||y)&&!Te){const Qn=setTimeout(()=>{st(!0)},1e3);return()=>clearTimeout(Qn)}},[i,D,y]),d.useEffect(()=>{const ye=at=>{if((at.metaKey||at.ctrlKey)&&at.key==="e"){if(!(V&&!k&&!Te)||(i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||y))return;at.preventDefault(),at.stopPropagation();const ks=!$;if(!ks&&X){pe?.({onConfirm:Ot,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}});return}z(ks?Gt.VISUAL_EDIT_ENABLED:Gt.VISUAL_EDIT_DISABLED,{jobId:l?.job_id,agentStatus:i,enableVisualEdit:V,source:"keyboard_shortcut"}),q?.(ks)}};return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[V,k,Te,i,D,y,$,X,l?.job_id,q,fe]);const Zn=d.useCallback(async()=>{ae&&await ae()},[ae]),Ot=d.useCallback(()=>{me&&me(),$&&q?.(!1),z(Gt.VISUAL_EDIT_DISCARDED,{jobId:l?.job_id,agentStatus:i,source:"chat_input"})},[me,$,q,l?.job_id,i]);d.useEffect(()=>{const ye=at=>{(at.metaKey||at.ctrlKey)&&at.key==="s"&&$&&X&&(at.preventDefault(),at.stopPropagation(),z(Gt.VISUAL_EDIT_SAVED,{jobId:l?.job_id,agentStatus:i,source:"keyboard_shortcut"}),Zn())};return document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[$,X,Zn,l?.job_id,i]);const Jn=d.useCallback(()=>{st(!1),Pq()},[]),Pn=xR({maxImages:5,maxSizeInMB:200,maxPixelDimensions:8e3,maxPixelDimensionsMultiple:2e3,onImagesChange:_}),Gs=vme({maxFiles:5,maxSizeInMB:200,jobId:l?.job_id,onUploadComplete:(ye,at)=>{},onUploadError:(ye,at)=>{}}),Gn=d.useCallback(ye=>{if(!ye||ye.length===0)return;const at=Array.from(ye),Qn=200*1024*1024,Nn=at.filter(ks=>ks.size>Qn);if(Nn.length>0){be({title:"File too large",description:`Files must be smaller than 200MB. ${Nn.length} file(s) exceed this limit.`,variant:"destructive"});return}if(k||!is||re){const ks=at.filter(ne=>ne.type.startsWith("image/")&&["image/jpeg","image/png","image/gif","image/webp"].includes(ne.type)),qs=at.filter(ne=>!ne.type.startsWith("image/")),ur=Pn.images.length+Gs.files.length+Me.length;if(ur+at.length>5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. Currently have ${ur} (${Me.length} uploaded + ${Pn.images.length+Gs.files.length} selected), trying to add ${at.length}.`,variant:"destructive"});return}ks.length>0&&Pn.handleImageSelect(ks),qs.length>0&&l?.job_id&&Gs.handleFileSelect(qs)}else{if(Me.length>=5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${Me.length} uploaded files.`,variant:"destructive"});return}if(Me.length+at.length>5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. You have ${Me.length} uploaded files, trying to add ${at.length} more.`,variant:"destructive"});return}R?.(at)}},[k,is,re,R,Pn,Gs,l?.job_id,Me,be]),Bs=d.useCallback(ye=>{const at=ye.target.files;if(at&&at.length>0)if(k||!is||re)Gn(at);else{const Qn=Array.from(at);R?.(Qn)}At.current&&(At.current.value="")},[k,Gn,is,re,R]),vs=d.useCallback(()=>{if(!$n){if(z("attachment_button_clicked",{jobId:l?.job_id,isUploadAssetEnabled:is,fromSubagentPanel:k}),!k&&Me.length>=5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${Me.length} uploaded files.`,variant:"destructive"});return}if(k||!is||re)sr();else{ut(!mt);return}}},[k,mt,is,re,Me,be,l?.job_id]),sr=d.useCallback(()=>{if(!k&&Me.length>=5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${Me.length} uploaded files.`,variant:"destructive"});return}At.current?At.current.click():Pn.openFilePicker(),ut(!1)},[Pn,k,Me,be]),he=d.useCallback(()=>{if(z("upload_asset_button_clicked",{jobId:l?.job_id,pendingArtifactCount:Me.length}),Me.length>=5){be({title:"Too many attachments",description:`Maximum 5 attachments allowed. You already have ${Me.length} uploaded files.`,variant:"destructive"});return}At.current&&At.current.click(),ut(!1)},[Me,be,l?.job_id]),et=d.useCallback(ye=>{Ue(vq({tabId:fe,artifactId:ye})),be({title:"File removed",description:"Attachment has been removed successfully"})},[Ue,fe,be]);d.useEffect(()=>{m&&Ae(m)},[m]),d.useEffect(()=>{k||Ae(J)},[J,fe,k]),d.useEffect(()=>{if(k)return;const ye=setTimeout(()=>{Ue(wq({tabId:fe,text:Ie}))},300);return()=>clearTimeout(ye)},[Ie,fe,Ue,k]),d.useEffect(()=>{const ye=at=>{Ye.current&&!Ye.current.contains(at.target)&&ut(!1)};return mt&&document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[mt]),d.useEffect(()=>{(i==="running"||i==="subagent_running")&&ve>2&&fs==="free"&&_n?.show&&!fn&&!Te&&!k?Yt("mobile_app_promo"):H&&i==="waiting"&&!k?Yt("auto_message"):!k&&(Kt&&Cn&&En&&Cn.ecu_balance<=5||D==="salesman_agent"&&we&&_t<=0)?Yt("credit_exhausted"):Yt("normal")},[Cn,Kt,H,i,k,En,_n,fn,Te,fs,ve,D,we,_t]);const jt=()=>{if(D==="salesman_agent"&&we&&_t<=0)return In?"Credit Exhausted":"You have exhausted all of your credits.";if(!Cn||!Kt)return null;const ye=Cn.ecu_balance;return ye<=0?In?"Credit Exhausted":"You have exhausted all of your credits.":ye<=5?t.jsxs(t.Fragment,{children:[ye.toFixed(2)," free credit remaining!"]}):null},tn=d.useCallback(async()=>{!l?.job_id||!r?.agent_running||(z("pause_button_clicked",{jobId:l?.job_id,agentStatus:i,fromSubagentPanel:k}),b&&b({origin:k?"SubagentButton":"MainInput"}))},[l?.job_id,r?.agent_running,b,i,k]),ls=d.useCallback(async()=>{if(!(!l?.job_id||_e)){Et(!0);try{await yt.cloneEnvironment(l.job_id),be({title:"Clone Complete",description:"Environment has been successfully cloned."})}catch(ye){be({title:"Clone Failed",description:ye?.message||"Failed to clone environment.",variant:"destructive"})}finally{Et(!1)}}},[l?.job_id,_e,be]),us=d.useCallback(async ye=>{const at=ye||Ie.trim();if(!l?.job_id||!at)return;if(hn()&&!dn&&_t<=0){be({title:"Insufficient Credits",description:"Please ask the owner of this project to add more credits to continue.",variant:"destructive"});return}if(at.length>Xl){be({title:"Message too long",description:`Message cannot exceed ${Xl.toLocaleString()} characters. Current: ${at.length.toLocaleString()}`,variant:"destructive"});return}if(Hn){await yt.handleHimMessage(l.job_id,at),Ae(""),!k&&Me.length>0&&Ue(g6({tabId:fe}));return}const Qn=Pn.images.length>0?Pn.images.map(Re=>({mime_type:Re.mime_type,img_base64:Re.img_base64})):[];let Nn=[];if(!k)try{Nn=await Promise.all(Me.filter(Re=>{if(!Re.readByAgent)return!1;const bt=["image/jpeg","image/png","image/gif","image/webp"],Bt=Re.mime_type&&bt.includes(Re.mime_type),Ze=/\.(jpg|jpeg|png|gif|webp)$/i.test(Re.file_name);return Bt||Ze}).map(async Re=>{try{const bt=Re.local_preview_url||Re.file_path;if(!bt)return null;const Bt=await fetch(bt);if(!Bt.ok)return null;const Ze=await Bt.blob(),as=await An(Ze);return as?{mime_type:en("jpeg"),img_base64:as.base64}:null}catch{return null}}))}catch{Nn=[]}const ks=Nn.filter(Re=>Re!==null),qs=[...Qn,...ks],ur=at,pi=qs;e(ur,qs,k?[]:Me),Ae(""),k||Ue(dC({tabId:fe})),Pn.images.length>0&&Pn.clearImages(),!k&&Me.length>0&&Ue(g6({tabId:fe}));try{const Re=Rt(),bt=xt?.id,Bt={processor_type:"env_only",is_cloud:!0,task:ur,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:h||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:pi,human_timestamp:new Date().toISOString(),is_pro_user:Bn,thinking_level:B?"ultra_mode":"thinking",...Re&&{organization_id:Re},...bt&&{user_id:bt}};let Ze;!k&&Me.length>0&&(Ze={artifacts:Me.map(as=>({artifact_id:as.artifact_id,entity_id:as.entity_id,entity_type:as.entity_type,visibility:as.visibility,file_name:as.file_name,description:as.description,file_path:as.file_path}))}),await Ne({payload:Bt,client_ref_id:l?.job_id,resume:!0,finalize_artifact_upload:Ze}).unwrap();try{z("message_sent_successfully",{jobId:l?.job_id,messageLength:ur.length,message:kN(ur),hasImages:pi.length>0,imageCount:pi.length,hasArtifacts:Me.length>0,artifactCount:Me.length,ultraMode:B})}catch{}}catch(Re){Cs(Ln().id,ur),Ae(ur);const bt=Re?.data?.detail||Re?.response?.data?.detail||Re?.message||"Failed to resume agent";be({title:"Error",description:bt,variant:"destructive"})}},[l?.job_id,o,Ie,f,be,h,Pn,jn,Qe,xt?.id,Hn,_t,hn,dn]),Xn=d.useCallback(async ye=>{if(dt)return;const at=Un?.llm_auto_hitl_enabled;if(z("auto_answer_button_clicked",{location:ye,jobId:l?.job_id,agentStatus:i}),l?.job_id&&at){vt(!0);try{const Qn=await Ce(l.job_id).unwrap();if(Qn?.auto_answer){const Nn=`<auto_response>${Qn.auto_answer}</auto_response>`;us(Nn)}}catch{}finally{vt(!1)}}else vt(!0),us("Assume Default and Proceed"),vt(!1)},[dt,l?.job_id,i,Ce,us]),Yn=d.useCallback(ye=>{if(ye.preventDefault(),ye.stopPropagation(),Bn)z(B?na.ULTRA_MODE_DISABLED:na.ULTRA_MODE_ENABLED,{source:"chat_input_desktop",jobId:l?.job_id,agentStatus:i}),U?.(!B);else{if(z(na.ULTRA_MODE_UPGRADE_REQUIRED,{source:"chat_input_desktop",currentTier:fs,jobId:l?.job_id}),hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(it){const at="personal",Qn=rs,Nn=Qn!=="free",ks="ultraThinkingModal",qs=lc(ks,Nn),{title:ur,description:pi}=Ca(ks);qe("TRIGGER_SUBSCRIPTION",{planType:at,organizationId:void 0,triggerLocation:ks,currentTier:Qn,hasActiveSubscription:Nn,title:ur,description:pi,...qs&&{modalType:qs}})}else He.open({triggerLocation:"ultraThinkingModal"})}},[Bn,B,l?.job_id,i,U,fs,hn,dn,be,it,rs,He]),ss=d.useMemo(()=>{const ye=Qn=>({color:eP(Qn,F,y)});return{running:ye("running"),waiting:ye("waiting"),exit_cost:ye("exit_cost"),stopped:ye("stopped"),stopping:ye("stopping"),subagent_running:ye("subagent_running"),subagent_waiting:ye("subagent_waiting"),subagent_stopping:ye("subagent_stopping"),forking:ye("forking")}},[F,y]),ms=d.useMemo(()=>{const ye=()=>x||"Agent",at=()=>F?ym(F):"Subagent";return{exit_cost:`${ye()} is offline`,running:`${ye()} is running...`,waiting:`${ye()} is waiting...`,stopped:`${ye()} is offline`,stopping:`${ye()} is stopping gracefully. Usually takes a min`,subagent_running:`${at()} is running...`,subagent_waiting:`${at()} is waiting...`,subagent_stopping:`${at()} is gracefully stopping...`,forking:"Forking is in progress..."}},[x,F]),ar=(ye="bottom")=>{const at={running:`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.02) 0%, rgba(103, 203, 101, 0.2) 100%)`,waiting:`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.02) 0%, rgba(95, 211, 243, 0.2) 100%)`,stopped:`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`,stopping:`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.02) 0%, rgba(244, 155, 87, 0.2) 100%)`,exit_cost:`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.02) 0%, rgba(123, 123, 128, 0.2) 100%)`,mobile_app_promo:`linear-gradient(to ${ye}, rgba(128, 255, 249, 0.00) 0%, rgba(128, 255, 249, 0.08) 100%), rgba(255, 255, 255, 0.04)`};if(Dt==="mobile_app_promo")return at.mobile_app_promo;if(k)return at[i]||at.stopped;if(y&&F){const Qn=i.startsWith("subagent_")?i.replace("subagent_",""):"waiting";return pce(F,Qn,ye)}return i.startsWith("subagent_")?`linear-gradient(to ${ye}, rgba(255, 255, 255, 0.2) 0%, rgba(221, 153, 255, 1) 100%)`:at[i]||at.stopped},Fs=d.useMemo(()=>{if(je)return t.jsx(ln,{className:"w-6 h-6 text-gray-500 animate-spin"});switch(i){case"running":case"subagent_running":case"stopping":case"subagent_stopping":return t.jsx("img",{src:Ume,className:"w-6 h-6",alt:"pause"});default:return t.jsx("img",{src:Vme,className:"w-6 h-6",alt:"send"})}},[i,je]),Ge=d.useMemo(()=>je?!1:!["running","subagent_running","stopping","subagent_stopping"].includes(i),[i,je]),te=d.useCallback(()=>{if(z("github_push_button_clicked",{jobId:l?.job_id,agentStatus:i,tier:fs,isPaywallEnabled:pt}),!Xt&&pt&&En){if(hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}He.open({planType:"personal",triggerLocation:"default"});return}ht(!0)},[pt,En,Xt,hn,dn,be,l?.job_id,i]),ie=d.useCallback(()=>{if(z("fork_button_clicked",{jobId:l?.job_id,agentStatus:i,tier:fs,isPaywallEnabled:pt,forked_status:P}),!Xt&&pt&&En){if(hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}He.open({planType:"personal",triggerLocation:"default"});return}P!=="running"&&(lt&&Jn(),S&&M&&M({...S,fork:!S.fork}))},[lt,Jn,S,fs,pt,En,Xt,hn,dn,be,l?.job_id,i,P]),ze=d.useCallback(async()=>{if(!(de||!l?.job_id)){if(Qe){De(!1);return}ue(!0);try{await yt.initializeHimSession(l.job_id),De(!0),be({title:"HIM mode activated",description:"You can now send messages as HIM"})}catch(ye){const at=ye?.data?.detail||ye?.response?.data?.detail||ye?.message||"Failed to initialize HIM session";be({title:"Error",description:at,variant:"destructive"})}finally{ue(!1)}}},[de,l?.job_id,Qe,be]),Ht=d.useCallback(async()=>{try{const ye=await navigator.mediaDevices.getUserMedia({audio:!0}),at=new MediaRecorder(ye),Qn=[];at.ondataavailable=Nn=>{Qn.push(Nn.data)},at.onstop=async()=>{const Nn=new Blob(Qn,{type:"audio/mp3"});await Mt(Nn),ye.getTracks().forEach(ks=>ks.stop())},at.start(),Ft(at),St(!0),Lo("recording_started",{component:"ChatInput"})}catch{be({title:"Recording Error",description:"Could not access microphone. Please check permissions.",variant:"destructive"})}},[be]),Pe=d.useCallback(()=>{ct&&Ct&&(ct.stop(),St(!1),Ft(null),Lo("recording_stopped",{component:"ChatInput"}))},[ct,Ct]),Mt=d.useCallback(async ye=>{try{Lo("transcription_started",{component:"ChatInput",audioSize:ye.size});const at=new File([ye],"recording.mp3",{type:"audio/mp3"}),Qn=await ge({audio_file:at,language_code:"en"}).unwrap();if(Qn.text){const Nn=Ie,ks=Nn?`${Nn} ${Qn.text}`:Qn.text;Ae(ks),Lo("transcription_completed",{component:"ChatInput",textLength:Qn.text.length})}else throw new Error("No transcription data received")}catch(at){Lo("transcription_failed",{component:"ChatInput",error:at instanceof Error?at.message:"Unknown error"}),be({title:"Transcription Error",description:"Failed to transcribe audio. Please try again.",variant:"destructive"})}},[ge,Ie,be]),Tt=d.useCallback(()=>{Ct?Pe():Ht()},[Ct,Pe,Ht]),ft=d.useMemo(()=>D==="salesman_agent"&&Un?.salesman_job_id!=null&&l?.job_id===Un.salesman_job_id&&!we,[D,l?.job_id,Un?.salesman_job_id,we]),$n=d.useMemo(()=>ft?!1:D==="salesman_agent"&&we?_t<=0:jn&&localStorage.getItem("mobile")!=="true"?!1:$||P=="running"||D=="brainstorming_done"&&i==="running"||(y||i==="subagent_waiting")&&!k||Wn(Ln().id)?.content?!0:s,[ft,D,we,_t,s,g,y,Ln,Wn,u,p,jn,i,$]),Ns=d.useCallback(()=>{const ye=Ke.current;ye&&(ye.style.height="auto",ye.style.height=`${Math.min(ye.scrollHeight,200)}px`)},[]),si=d.useCallback(ye=>{Ae(ye.target.value),requestAnimationFrame(Ns);const at=Date.now();if(ye.target.value.length>0&&at-mn.current>5e3){mn.current=at;try{z("chat_input_typing",{jobId:l?.job_id,messageLength:ye.target.value.length,message:kN(ye.target.value)})}catch{}}},[Ns,l?.job_id]);d.useEffect(()=>{Ns()},[Ns]),d.useEffect(()=>{Ns()},[Ie,Ns]);const Ms=d.useCallback(ye=>{if(ye.preventDefault(),Ie.length>Xl){be({title:"Message too long",description:`Message cannot exceed ${Xl.toLocaleString()} characters. Current: ${Ie.length.toLocaleString()}`,variant:"destructive"});return}if(re){if(!Ie.trim())return;const at=Pn.images.map(Nn=>({mime_type:Nn.mime_type,img_base64:Nn.img_base64})),Qn=Pn.images.map(Nn=>Nn.originalFile).filter(Nn=>Nn!==void 0);e(Ie,at,[],Qn),Ae(""),Ue(dC({tabId:fe})),Pn.clearImages();return}if(!($n&&i!=="subagent_running"&&i!=="running")){if(Hn){us();return}if(i==="running"||i==="subagent_running"||i==="stopping"||i==="subagent_stopping")tn();else if(i==="waiting"&&!k||i==="subagent_waiting"&&k){if(!Ie.trim())return;us(),Ae("")}}},[re,e,Ie,s,Pn,i,tn,us,l,$n,jn,Qe,xt?.id,be]),ui=d.useMemo(()=>{if(ft)return!!(Ge&&!Ie.trim());if(re)return!Ie.trim();let ye=!1;return(je||i==="subagent_waiting"||i==="running"&&D==="brainstorming_done"||j||!l?.job_id)&&(ye=!0),i==="subagent_waiting"&&k&&(ye=!1),P=="running"&&(ye=!0),$&&(ye=!0),Ge&&!Ie.trim()&&(ye=!0),ye},[ft,re,je,i,N,j,D,k,y,P,l?.job_id,$,Ge,Ie]),an=d.useMemo(()=>ui?Ge&&!Ie.trim()?"cursor-default":"cursor-not-allowed":"cursor-pointer",[ui,Ge,Ie]),Pi=d.useCallback(()=>$?"Save your changes to continue chatting":P=="running"?"Please wait for forking to finish":n,[n,u,p,P,$]),{ForkDisabled:wr}=d.useMemo(()=>$?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while in visual edit mode"}:ve<10?{ForkDisabled:!0,ForkDisabledReason:"Need at least 10 messages before forking"}:i!=="waiting"&&i!=="subagent_waiting"?{ForkDisabled:!0,ForkDisabledReason:"Please wait for the agent to finish before forking"}:D!=="build"?{ForkDisabled:!0,ForkDisabledReason:"Please wait for agent to write code before forking"}:y?{ForkDisabled:!0,ForkDisabledReason:"Cannot fork while subagent is active"}:_t<=0?{ForkDisabled:!0,ForkDisabledReason:"Insufficient credits to fork"}:{ForkDisabled:!1,ForkDisabledReason:null},[i,D,y,_t,$,ve]);return t.jsx(ns,{children:t.jsxs(xe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:A("flex flex-col md:p-1 p-0 max-w-full sm:max-w-4xl md:pt-1 pt-0 w-full md:rounded-[14px] rounded-b-l-none rounded-b-r-none md:backdrop-blur-[40px] xs:backdrop-blur-[0px] shadow-sm md:bg-[#1A1A1C] rounded-t-l-[14px] rounded-t-r-[14px]",Te&&"border border-b-0 border-[#333333] rounded-[14px] rounded-b-none"),style:{background:Te?"transparent":ar()},children:[Dt=="normal"&&t.jsx("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:t.jsxs("div",{className:A("flex items-center gap-2 ",!k&&Me.length>0?"w-full":""),children:[Pn.images.length>0&&t.jsx("div",{className:"flex items-center gap-2 pt-1",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:Pn.isProcessing?t.jsxs("div",{className:"flex items-center justify-center py-1",children:[t.jsx(ln,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999] text-xs",children:"Processing..."})]}):Pn.images.map((ye,at)=>t.jsxs("div",{className:"relative w-16 h-16 md:w-20 md:h-20 rounded-md border border-[#333] group",children:[t.jsx("img",{src:`data:${ye.mime_type};base64,${ye.img_base64}`,alt:`Selected image ${at+1}`,className:"w-full h-full object-cover z-[1] rounded-md"}),t.jsx("button",{onClick:()=>Pn.removeImage(at),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove image",type:"button",children:t.jsx("div",{className:"bg-white rounded-full p-[2px]",children:t.jsx("img",{src:m4,alt:"Remove image",className:"w-2 h-2"})})})]},at))})}),Gs.hasFiles&&t.jsx("div",{className:"flex items-center gap-2 pt-1",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:Gs.isProcessing?t.jsxs("div",{className:"flex items-center justify-center py-1",children:[t.jsx(ln,{className:"h-4 w-4 text-[#999] animate-spin mr-2"}),t.jsx("span",{className:"text-[#999] text-xs",children:"Uploading..."})]}):Gs.files.map((ye,at)=>t.jsxs("div",{className:"relative w-16 h-16 overflow-hidden rounded-lg md:w-20 md:h-20 group backdrop-blur-md",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full p-2",children:[t.jsx("div",{className:"w-8 h-8 mb-1 flex items-center justify-center rounded bg-[#FFFFFF20]",children:t.jsx("img",{src:Bme,alt:"File",className:"w-5 h-5 invert opacity-70"})}),t.jsx("div",{className:"text-[8px] text-white/90 text-center leading-tight truncate max-w-full",children:ye.name.length>8?`${ye.name.substring(0,8)}...`:ye.name}),t.jsxs("div",{className:"text-[6px] text-white/50 text-center mt-1",children:[(ye.size/1024/1024).toFixed(1),"MB"]})]}),t.jsx("button",{onClick:()=>Gs.removeFile(at),className:"absolute top-[-6px] right-[-6px] bg-transparent z-[2] rounded-full p-1 transition-opacity","aria-label":"Remove file",type:"button",children:t.jsx("div",{className:"bg-white rounded-full p-[2px]",children:t.jsx("img",{src:m4,alt:"Remove file",className:"w-2 h-2"})})})]},at))})}),!k&&Me.length>0&&!c&&t.jsx("div",{className:"w-full",children:t.jsx("div",{className:"flex max-w-full gap-2 pb-1 overflow-x-auto overflow-y-hidden flex-nowrap scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent hover:scrollbar-thumb-white/30",children:Me.map(ye=>t.jsxs("div",{"data-testid":yr.pendingArtifact(ye.file_name),className:"relative flex-shrink-0 group",children:[t.jsx(Ime,{artifact:ye}),t.jsx("button",{type:"button","data-testid":yr.removePendingArtifact(ye.file_name),onClick:()=>et(ye.artifact_id),className:"absolute top-[-5px] right-[-5px] bg-transparent rounded-full p-1 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Remove attachment",children:t.jsx("div",{className:"p-1 bg-white rounded-full",children:t.jsx("img",{src:m4,alt:"Remove attachment",className:"w-2 h-2"})})})]},ye.artifact_id))})}),Pn.images.length===0&&!Gs.hasFiles&&(k||Me.length===0||c)&&!v&&!Te&&t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:$?t.jsxs(t.Fragment,{children:[t.jsx(h4,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:Q?"Editing":"Visual Editing..."}),Q&&t.jsx(x4,{elementName:Q})]}):t.jsxs(t.Fragment,{children:[t.jsx(g4,{status:i,colors:ss}),t.jsx(b4,{status:i,colors:ss,statusText:ms})]})}),i==="subagent_waiting"&&w&&t.jsx("button",{onClick:w,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${ss.subagent_waiting.color}`,color:ep(F||"").color},type:"button",children:"Reply"})]})]})}),Dt=="credit_exhausted"&&t.jsx("div",{className:"max-md:py-1",children:t.jsxs("div",{className:"flex items-center justify-between w-full px-2 md:px-3 md:py-2",children:[t.jsxs("div",{className:A("flex items-center gap-2"),children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:"max-md:text-[14px]",children:jt()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>{if(hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}Ve({source:"chat_input_credit_exhausted_header",jobId:l?.job_id,remainingCredits:Cn?.ecu_balance||0})},className:"text-[14px] text-[#F5CC62] flex gap-1 items-center font-medium p-1 pl-[6px] pr-4 rounded-[8px] bg-[#F5CC621F]",children:[t.jsx("div",{className:"self-center object-contain w-5 h-5",children:t.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("circle",{opacity:"0.16",cx:"10",cy:"10",r:"9",fill:"#F4D475"}),t.jsx("circle",{cx:"10.0001",cy:"9.99961",r:"5.85",stroke:"#0F0F10",strokeWidth:"0.9"}),t.jsx("path",{d:"M9.27981 13.6008H10.7198V10.7208H13.5998V9.28078H10.7198V6.40078H9.27981V9.28078H6.3998V10.7208H9.27981V13.6008ZM9.9998 17.2008C9.00381 17.2008 8.0678 17.0118 7.1918 16.6338C6.3158 16.2558 5.5538 15.7428 4.9058 15.0948C4.2578 14.4468 3.7448 13.6848 3.3668 12.8088C2.9888 11.9328 2.7998 10.9968 2.7998 10.0008C2.7998 9.00478 2.9888 8.06878 3.3668 7.19278C3.7448 6.31678 4.2578 5.55478 4.9058 4.90678C5.5538 4.25878 6.3158 3.74578 7.1918 3.36778C8.0678 2.98978 9.00381 2.80078 9.9998 2.80078C10.9958 2.80078 11.9318 2.98978 12.8078 3.36778C13.6838 3.74578 14.4458 4.25878 15.0938 4.90678C15.7418 5.55478 16.2548 6.31678 16.6328 7.19278C17.0108 8.06878 17.1998 9.00478 17.1998 10.0008C17.1998 10.9968 17.0108 11.9328 16.6328 12.8088C16.2548 13.6848 15.7418 14.4468 15.0938 15.0948C14.4458 15.7428 13.6838 16.2558 12.8078 16.6338C11.9318 17.0118 10.9958 17.2008 9.9998 17.2008Z",fill:"#F4D475"})]})}),t.jsx("p",{children:"Buy Credits"})]}),t.jsx("button",{title:"Close",onClick:()=>{Yt("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",children:t.jsx(Pt,{})})]})]})}),Dt=="auto_message"&&!Te&&t.jsx("div",{className:"px-2 md:px-3 md:py-2",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:$?t.jsxs(t.Fragment,{children:[t.jsx(h4,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:Q?"Editing":"Visual Editing..."}),Q&&t.jsx(x4,{elementName:Q})]}):t.jsxs(t.Fragment,{children:[t.jsx(g4,{status:i,colors:ss}),t.jsx(b4,{status:i,colors:ss,statusText:ms})]})}),i==="subagent_waiting"&&w&&t.jsx("button",{onClick:w,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${ss.subagent_waiting.color}`,color:ep(F||"").color},type:"button",children:"Reply"})]}),!se&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>Xn("desktop"),disabled:dt,className:"px-[6px] flex items-center gap-1 py-1 text-[15px] font-semibold rounded-md transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:dt?t.jsxs(t.Fragment,{children:[t.jsx(ln,{size:20,className:"animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ug,{size:20}),"Auto Answer"]})}),t.jsx("button",{title:"Close",onClick:()=>{Yt("normal")},className:"flex items-center justify-center w-4 h-4 hover:bg-[#FFFFFF0D] rounded-[8px]",type:"button",children:t.jsx(Pt,{})})]})]})}),Dt==="mobile_app_promo"&&_n&&t.jsxs("div",{className:"flex items-center justify-between w-full py-[6px] pl-3 pr-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Kme,alt:"Phone Icon",className:"w-5 h-5 invert"}),t.jsx("span",{className:"text-white text-[15px] font-medium leading-5",children:_n.headerTitle}),t.jsx("span",{className:"text-white/50 text-[15px] font-medium leading-5",children:_n.headerDescription})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(TO,{config:_n,qrCodeUrl:_n.qrHeaderUrl,source:"chatinput",children:t.jsxs("button",{type:"button",className:"flex items-center gap-1 p-[6px] pr-[10px] rounded-lg bg-white/[0.08] hover:bg-white/[0.12] transition-colors duration-200 text-white/90 font-semibold text-[15px] leading-5 tracking-[-0.5px]",children:[t.jsx(Ry,{className:"w-4 h-4"}),_n.headerButtonText]})}),t.jsx("button",{type:"button",title:"Dismiss",onClick:()=>qt(!0),className:"p-[6px] hover:bg-[#FFFFFF0D] rounded-lg",children:t.jsx(Pt,{size:20,className:"text-[#7b7b80]"})})]})]}),t.jsxs("form",{onSubmit:Ms,className:A("flex flex-1 flex-col md:bg-background bg-[#1A1A1C] rounded-none rounded-tl-[14px] rounded-tr-[14px] border border-1 relative md:rounded-xl",Vs?"border-[#5FD3F3]/50 border-2 border-dashed":"border-[#252526]"),onDragOver:ye=>{ye.preventDefault(),ye.stopPropagation()},onDragEnter:ye=>{ye.preventDefault(),ye.stopPropagation(),zt(!0)},onDragLeave:ye=>{ye.preventDefault(),ye.stopPropagation(),!ye.currentTarget.contains(ye.relatedTarget)&&zt(!1)},onDrop:ye=>{ye.preventDefault(),ye.stopPropagation(),zt(!1);const at=ye.dataTransfer.files;at.length>0&&Gn(at)},children:[Vs&&t.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-background/80 rounded-xl",children:t.jsx("div",{className:"text-[#5FD3F3] text-center",children:t.jsx("p",{className:"font-medium",children:"Drop files here"})})}),t.jsx("textarea",{ref:Ke,value:Ie,onChange:si,onFocus:()=>{On()},onPaste:ye=>{const at=ye.clipboardData?.items;if(!at)return;const Qn=Array.from(at).filter(ks=>k||!is||re?ks.type.startsWith("image/"):ks.kind==="file");if(Qn.length===0)return;ye.preventDefault();const Nn=Qn.map(ks=>ks.getAsFile()).filter(Boolean);Nn.length>0&&Gn(Nn)},className:A("w-full resize-none md:bg-background bg-[#1A1A1C] outline-none text-[16px]  px-4 py-3 min-h-[64px] overflow-y-auto placeholder:text-white/50",$n&&"cursor-not-allowed opacity-20",k?"max-h-[120px]":"max-h-[200px]",Te?"rounded-none rounded-tl-[14px] rounded-tr-[14px]":"rounded-xl"),style:{lineHeight:"1.5"},onKeyDown:ye=>{ye.key==="Enter"&&(ye.metaKey||ye.ctrlKey)&&(ye.preventDefault(),Ms(ye))},placeholder:Pi(),rows:2,disabled:$n,"data-testid":zs.input.container}),t.jsxs("div",{className:A("flex items-center justify-between p-2.5 md:bg-background bg-[#1A1A1C]",Te?"rounded-none":"rounded-xl"),children:[t.jsxs("div",{className:"relative flex items-center gap-2",ref:Ye,children:[t.jsx("button",{type:"button","data-testid":zs.input.attachButton,onClick:()=>{k||!is||re?vs():he()},className:A("p-2 transition-colors duration-200 rounded-[30px] bg-[#FFFFFF14] hover:bg-gray-100/10 group/paperclip",{"opacity-50 cursor-not-allowed":$n}),disabled:$n,children:t.jsx("img",{src:mt?qme:Ome,alt:"Attach",className:A("size-5 transition-transform duration-200 transform ",!mt&&"group-hover/paperclip:rotate-45")})}),t.jsx("input",{ref:At,type:"file",accept:k||!is||re?"image/jpeg,image/png,image/gif,image/webp":"*/*",multiple:!0,onChange:Bs,style:{display:"none"},"aria-hidden":"true"}),t.jsxs("button",{disabled:i!=="waiting"&&i!=="subagent_waiting"||D!="build"||y||$,type:"button",onClick:te,"data-testid":zs.input.githubButton,className:A("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10",i!=="waiting"&&i!=="subagent_waiting"||D!="build"||y||$?"opacity-50 cursor-not-allowed":"",k||Te?"hidden":""),children:[t.jsx("img",{src:Le?Wme:Hme,alt:"GitHub",className:A("size-5",Le&&"scale-[1.2] mt-1")}),t.jsx("span",{className:"text-sm font-medium text-[#E6E6E6]",children:oe?"Save":"Save to GitHub"})]}),jn&&l?.createdBy&&t.jsx("button",{type:"button",disabled:D!="build"||de,onClick:ze,className:A("p-2 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",k?"hidden":"",Qe?"bg-blue-500/20 border border-blue-500/50 hover:bg-blue-500/30":"bg-[#FFFFFF14] hover:bg-gray-100/10"),children:de?t.jsx(ln,{className:"text-gray-400 size-5 animate-spin"}):t.jsx("span",{className:A("text-[14px] font-medium mx-0.5",Qe?"text-blue-400":"text-[#E6E6E6]"),children:"HIM"})}),t.jsx("div",{className:A("relative transition-all duration-200",k||Te?"hidden":""),children:t.jsxs("button",{type:"button",disabled:wr,onClick:ie,"data-testid":zs.input.forkButton,className:A("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed",P==="running"?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:[P=="running"?t.jsx("img",{src:zme,alt:"Fork",className:"size-5"}):t.jsx("img",{src:Gme,alt:"Fork",className:"size-[18px] ml-0.5"}),t.jsx("span",{className:A("text-[14px] font-medium text-[#E6E6E6] truncate max-w-[80px]",P=="running"?"text-[#80FFF9]":""),children:hee()?P==="running"?"Summarizing...":"Summarize":P==="running"?"Forking...":"Fork"})]})}),jn&&t.jsx("div",{className:A("relative transition-all duration-200",k||Te?"hidden":""),children:t.jsxs("button",{type:"button",disabled:_e||!l?.job_id,onClick:ls,className:A("p-2 pr-2.5 h-9 transition-colors duration-200 rounded-full flex items-center gap-1 bg-[#FFFFFF14] hover:bg-gray-100/10 disabled:opacity-50 disabled:cursor-not-allowed",_e?"bg-[#80FFF90D] hover:bg-[#80FFF90D] disabled:opacity-100 cursor-not-allowed":""),children:[t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:_e?t.jsx(ln,{className:"w-4 h-4 animate-spin text-[#80FFF9]"}):t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}),t.jsx("span",{className:A("text-[14px] font-medium text-[#E6E6E6]",_e?"text-[#80FFF9]":""),children:_e?"Cloning...":"Clone"})]})}),t.jsxs("button",{type:"button",disabled:i!=="waiting"&&i!=="subagent_waiting"||D!="build"||y||$,"data-testid":zs.input.ultraButton,onClick:Yn,className:A("flex items-center gap-1 p-2 h-9 rounded-full transition-colors duration-200",B?"bg-[#FF8C661A]":"bg-[#FFFFFF14] hover:bg-gray-100/10",k||Te?"hidden":"","disabled:opacity-50 disabled:cursor-not-allowed"),children:[t.jsx(qo,{color:B?"#FF8C66":"#ffffff",size:20}),t.jsx("span",{className:A("text-[14px] font-medium transition-colors",B?"text-[#FF8C66]":"text-[#E6E6E6]"),children:"Ultra"}),t.jsx("div",{className:A("inline-flex h-5 w-9 shrink-0 items-center rounded-full border-2 border-transparent shadow-sm scale-[0.8] pointer-events-none",B?"bg-[#FF8C66]":"bg-[#3B3B3B]"),children:t.jsx("div",{className:A("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg transition-transform",B?"translate-x-4":"translate-x-0")})})]}),V&&!k&&!Te&&t.jsx(N8,{visualEditMode:$,variant:"chat",disabled:ee,isVisualEditChangesEnabled:oe,onClick:ye=>{ye.preventDefault(),ye.stopPropagation();const at=!$;if(!at&&X){pe?.({onConfirm:Ot,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}});return}z(at?Gt.VISUAL_EDIT_ENABLED:Gt.VISUAL_EDIT_DISABLED,{jobId:l?.job_id,agentStatus:i,source:"chat_input",enableVisualEdit:V}),q?.(at)}}),Te&&!k&&t.jsx("button",{title:"Options",type:"button",onClick:()=>{z("mobile_settings_button_clicked",{source:"chat_input",jobId:l?.job_id,agentStatus:i}),Oe(!0)},className:"p-2 transition-colors duration-200 rounded-full bg-[#FFFFFF14] hover:bg-gray-100/10",children:t.jsx(xp,{size:20,className:"md:hidden"})}),In&&B&&t.jsx("button",{title:"Fix",type:"button",className:A("transition-colors duration-200 hover:opacity-80 size-9 flex items-center hover:bg-[#FFFFFF]/10 p-2 rounded-full",B?"bg-[#FF8C661A]":"bg-[#FFFFFF0D]"),onClick:()=>{if(Bn)z(B?na.ULTRA_MODE_DISABLED:na.ULTRA_MODE_ENABLED,{source:"chat_input_mobile_button",jobId:l?.job_id,agentStatus:i}),U?.(!B);else{if(z(na.ULTRA_MODE_UPGRADE_REQUIRED,{source:"chat_input_mobile_button",currentTier:fs,jobId:l?.job_id}),hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(it){const ye="personal",at=rs,Qn=at!=="free",Nn="ultraThinkingModal",ks=lc(Nn,Qn),{title:qs,description:ur}=Ca(Nn);qe("TRIGGER_SUBSCRIPTION",{planType:ye,organizationId:void 0,triggerLocation:Nn,currentTier:at,hasActiveSubscription:Qn,title:qs,description:ur,...ks&&{modalType:ks}})}else He.open({triggerLocation:"ultraThinkingModal"})}},children:t.jsx(qo,{size:20,color:B?"#FF8C66":"#E6E6E6"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[H&&In&&!se&&t.jsx("button",{onClick:()=>Xn("mobile"),disabled:dt,className:" px-[6px] md:hidden flex items-center h-[40px] pr-3 gap-1 py-1 text-[15px] font-semibold rounded-full transition-colors bg-white text-[#000000] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",children:dt?t.jsxs(t.Fragment,{children:[t.jsx(ln,{size:20,className:"animate-spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ug,{size:20}),"Auto Answer"]})}),t.jsx("button",{type:"button",onClick:Tt,className:A("p-2 transition-colors duration-200 rounded-[30px] flex items-center justify-center size-9",Ct?"bg-white text-black hover:bg-white":"bg-[#FFFFFF14] hover:bg-[#FFFFFF14]",Fe&&"opacity-50 cursor-not-allowed",{"opacity-50 cursor-not-allowed":$n}),disabled:$n||Fe,title:Fe?"Transcribing audio...":Ct?"Stop recording":"Start voice recording",children:Fe?t.jsx(ln,{className:"w-5 h-5 animate-spin"}):Ct?t.jsx(xe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},children:t.jsx(r8,{width:18,height:18,fill:"currentColor"})}):t.jsx(s8,{width:18,height:18,fill:"currentColor"})}),t.jsxs("button",{onClick:Ms,className:A(i==="subagent_running"&&N?"w-auto px-3":"w-[48px] px-[12px]","flex py-[6px] justify-center items-center gap-[10px] max-md:h-9 rounded-[38px] bg-[#ECECEC] transition-all duration-300",ui?"opacity-50":"hover:bg-primary/90",an),type:"submit",disabled:ui,"data-testid":zs.input.submitButton,children:[i==="subagent_running"&&N&&t.jsx("span",{className:"text-sm font-medium text-black max-md:hidden",children:"Finish Sub-Agent"}),Fs]})]})]})]}),t.jsx("div",{className:"flex flex-row justify-between items-center w-full md:hidden p-[10px] bg-[#5fd3f3]/10",children:!v&&t.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[t.jsx("div",{className:"flex items-center gap-2 min-w-[58vw] md:min-w-fit md:gap-4",children:$?t.jsxs(t.Fragment,{children:[t.jsx(h4,{}),t.jsx("span",{className:"text-[15px] md:text-[16px] font-medium md:text-nowrap",style:{color:"#95C6FF"},children:Q?"Editing":"Visual Editing..."}),Q&&t.jsx(x4,{elementName:Q})]}):t.jsxs(t.Fragment,{children:[t.jsx(g4,{status:i,colors:ss}),t.jsx(b4,{status:i,colors:ss,statusText:ms})]})}),i==="subagent_waiting"&&w&&t.jsx("button",{onClick:w,className:"ml-2 px-2 py-1 text-xs font-semibold rounded-md transition-colors",style:{backgroundColor:`${ss.subagent_waiting.color}`,color:ep(F||"").color},type:"button",children:"Reply"})]})}),t.jsx(Rme,{isOpen:wn,onOpenChange:Oe,isGitHubConnected:Le,onSaveToGitHub:te,isGitHubDisabled:i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||y,onForkClick:ie,isForkDisabled:wr,forkStatus:P,ultraMode:B,onUltraModeChange:U,isUltraDisabled:i!=="waiting"&&i!=="subagent_waiting"||D!=="build"||y,tier:fs,onUpgradeRequired:()=>{if(hn()&&!dn){be({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(it){const ye="personal",at=rs,Qn=at!=="free",Nn="ultraThinkingModal",ks=lc(Nn,Qn),{title:qs,description:ur}=Ca(Nn);qe("TRIGGER_SUBSCRIPTION",{planType:ye,organizationId:void 0,triggerLocation:Nn,currentTier:at,hasActiveSubscription:Qn,title:qs,description:ur,...ks&&{modalType:ks}})}else He.open({triggerLocation:"ultraThinkingModal"})},getCurrentOrganizationId:Rt}),Se&&t.jsx(NO,{isOpen:Se,onOpenChange:ye=>ht(ye),jobId:l?.job_id||"",onSuccess:ye=>{ye&&E&&E(ye),ht(!1)},lastGithubUsed:C})]})})}),Yme=({searchState:e,updateSearchQuery:n,navigateToPrevMatch:s,navigateToNextMatch:r,toggleSearch:i})=>{const a=(...o)=>o.filter(Boolean).join(" ");return t.jsx(Xa,{children:e.isActive&&t.jsxs(qn.div,{className:"absolute left-0 right-0 z-[999] flex items-center gap-2 p-2 mx-auto border border-white/15 rounded-lg shadow-lg bg-white/5 top-4 w-96 bg-clip-padding backdrop-filter backdrop-blur-xl",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{duration:.2,ease:"easeInOut"},children:[t.jsx(vo,{size:18,className:"text-gray-400"}),t.jsx("input",{autoFocus:!0,type:"text",value:e.query,onChange:o=>n(o.target.value),placeholder:"Search messages...",className:"flex-1 text-sm text-white bg-transparent border-none outline-none placeholder:text-white/30"}),e.matches.length>0&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[t.jsxs("span",{children:[e.currentMatchIndex+1," "]})," of ",t.jsx("span",{children:e.matches.length})]}),t.jsx("button",{onClick:s,disabled:e.matches.length===0,className:a("p-1 hover:bg-white/10 rounded transition-colors",e.matches.length===0?"opacity-50 cursor-not-allowed":""),title:"Previous match (Shift+Enter)",children:t.jsx(bae,{size:18,className:"text-gray-400"})}),t.jsx("button",{onClick:r,disabled:e.matches.length===0,className:a("p-1 hover:bg-white/10 rounded transition-colors",e.matches.length===0?"opacity-50 cursor-not-allowed":""),title:"Next match (Enter)",children:t.jsx(hae,{size:18,className:"text-gray-400"})}),t.jsx("button",{onClick:()=>i(!1),className:"p-1 transition-colors rounded hover:bg-white/10",title:"Close search (Esc)",children:t.jsx(Pt,{size:18,className:"text-gray-400"})})]})})};function Zme(){const[e,n]=d.useState(document.visibilityState==="visible");return d.useEffect(()=>{const s=()=>{n(document.visibilityState==="visible")};return document.addEventListener("visibilitychange",s),()=>{document.removeEventListener("visibilitychange",s)}},[]),e}const Jme=2e3;function Xme({isCloudFlow:e,containerId:n,jobId:s,trajPath:r,isActive:i,onJobDetailsResult:a=()=>{},onTrajectoryResult:o,onAgentStateResult:l,onCurrentChunkResult:c,onBrainStormingResult:u,onLogsResult:p=()=>{},onError:f,onMessage:m=()=>{}}){d.useRef(`polling-${Date.now().toString(36)}`);const h=d.useRef(!1),x=d.useRef({containerId:n,jobId:s,trajPath:r}),[y,v]=d.useState("disconnected"),[g,b]=d.useState(!0),w=d.useRef(!0),N=Zme(),j=d.useRef({jobDetails:null,trajectory:[],agentState:null,logs:null,currentChunk:null,lastRequestId:null}),_=d.useRef(null),C=d.useRef("disconnected"),F=d.useRef(()=>{h.current&&(h.current=!1,_.current&&(clearTimeout(_.current),_.current=null),C.current!=="disconnected"&&(C.current="disconnected",v("disconnected")))});d.useEffect(()=>{x.current={containerId:n,jobId:s,trajPath:r}},[n,s,r]);const E=d.useCallback(D=>{C.current!==D&&(C.current=D,v(D))},[]),S=d.useCallback(async()=>{if(h.current){try{let D={trajectories:{data:[],updated_data:[],agent_status:!1,agent_status_new:"paused",chat_mode:null}};if(x.current.jobId)try{if(D=await yt.fetchTrajectory(x.current.jobId,j.current.lastRequestId||void 0,{onTrajectoryResult:o,onCurrentChunkResult:c,cache:j}),D.trajectories){let P=[...j.current.trajectory];if(D.trajectories.updated_data?.length>0){const H=D.trajectories.updated_data.sort(($,q)=>new Date($.created_at).getTime()-new Date(q.created_at).getTime()).map($=>({...$.traj_payload,id:$.id,request_id:$.request_id,job_id:$.job_id,traj_payload:$.traj_payload,commit_id:$.commit_id,parent_request_id:$.parent_request_id,status:$.status,created_at:$.created_at,updated_at:$.updated_at}));for(const $ of H){const q=P.findIndex(Q=>Q.id===$.id);q!==-1?P[q]={...P[q],...$}:P.push($)}}j.current.trajectory=P,o(P);const R={agent_running:D.trajectories.agent_status,job_running:D.trajectories.agent_status,agent_status_new:D.trajectories.agent_status_new,chat_mode:D.trajectories.chat_mode,pod_state_display:D.trajectories.pod_state_display,pod_state_hitl:D.trajectories.pod_state_hitl,show_upgrade:D.trajectories.show_upgrade},B={chat_mode:D.trajectories.chat_mode||null};u&&u(B),l(R);const U=[...D.trajectories.data||[],...D.trajectories.updated_data||[]];if(U.length>0){const $=U.reduce((q,Q)=>{const V=new Date(Q.created_at).getTime(),ee=new Date(q.created_at).getTime();return V>ee?Q:q},U[0]).request_id;j.current.lastRequestId=$,$!==j.current.lastRequestId&&(j.current.lastRequestId=$)}}}catch(P){Fn(Is.POLLING.AGENT_MESSAGES_FETCH,P,{jobId:x.current.jobId,containerId:x.current.containerId,trajPath:x.current.trajPath,phase:"fetchTrajectory"}),f(P instanceof Error?P.message:String(P)),E("error"),g?E("reconnecting"):F.current();return}E("connected")}catch(D){Fn(Is.POLLING.AGENT_MESSAGES_FETCH,D,{jobId:x.current.jobId,containerId:x.current.containerId,trajPath:x.current.trajPath,phase:"pollingCycle"}),f(D instanceof Error?D.message:String(D)),E("error"),D instanceof Error&&D.message==="Container is not running"&&F.current()}h.current&&(_.current=setTimeout(S,Jme))}},[g,e,E,a,o,l,c,p,f,m]),M=d.useCallback(()=>{h.current||!i||!N||!(x.current.containerId||x.current.jobId||x.current.trajPath)||(h.current=!0,E("connecting"),S())},[i,N,S,E]);d.useEffect(()=>{F.current=()=>{h.current&&(h.current=!1,_.current&&(clearTimeout(_.current),_.current=null),C.current!=="disconnected"&&(C.current="disconnected",v("disconnected")))}},[]);const k=d.useCallback(()=>{F.current()},[]),I=d.useCallback(()=>{j.current.trajectory=[],j.current.lastRequestId=null,h.current&&(F.current(),i&&N&&M())},[i,N,M]);return d.useEffect(()=>{if(w.current){w.current=!1;const D=x.current.containerId||x.current.jobId||x.current.trajPath;i&&N&&D&&!h.current&&setTimeout(()=>{i&&N&&!h.current&&M()},50);return}if(i&&N){if(h.current)return;(x.current.containerId||x.current.jobId||x.current.trajPath)&&M()}else h.current&&F.current()},[i,N,M]),d.useEffect(()=>()=>{h.current&&(_.current&&(clearTimeout(_.current),_.current=null),h.current=!1)},[]),{startPolling:M,stopPolling:k,resetPolling:I,connectionStatus:y,autoReconnect:g,setAutoReconnect:b,isTabVisible:N}}function Qme(e,n={}){const{virtuosoRef:s,containerRef:r,caseSensitive:i=!1}=n,[a,o]=d.useState({isActive:!1,query:"",matches:[],currentMatchIndex:-1});d.useRef(null);const l=d.useCallback(y=>{o(v=>({...v,isActive:y!==void 0?y:!v.isActive,...y===!1?{query:"",matches:[],currentMatchIndex:-1}:{}}))},[]),c=d.useCallback(y=>{o(v=>({...v,query:y}))},[]);d.useEffect(()=>{if(!a.isActive||!a.query.trim()){o(g=>({...g,matches:[],currentMatchIndex:-1}));return}const y=[],v=i?a.query:a.query.toLowerCase();e.forEach((g,b)=>{const w=[];g.content&&typeof g.content=="string"&&w.push({field:"content",text:g.content}),g.observation&&typeof g.observation=="string"&&w.push({field:"observation",text:g.observation}),g.action&&typeof g.action=="string"&&w.push({field:"action",text:g.action}),g.error_message&&typeof g.error_message=="string"&&w.push({field:"error_message",text:g.error_message}),g.subagent_trajectory&&Array.isArray(g.subagent_trajectory)&&g.subagent_trajectory.forEach((N,j)=>{N.content&&typeof N.content=="string"&&w.push({field:`subagent_${j}`,text:N.content})}),w.forEach(({field:N,text:j})=>{const _=j.split(`
`);let C=0;_.forEach((F,E)=>{const S=i?F:F.toLowerCase();let M=0,k;for(;(k=S.indexOf(v,M))!==-1;){const I=C+k,D=I+v.length;y.push({messageIndex:b,messageId:g.id,text:j.substring(I,D),lineIndex:E,startIndex:k,endIndex:k+v.length,globalStartIndex:I,globalEndIndex:D}),M=k+1}C+=F.length+1})})}),o(g=>({...g,matches:y,currentMatchIndex:y.length>0?0:-1})),y.length>0&&setTimeout(()=>{if(y.length>0){const g=y[0];if(s?.current)s.current.scrollToIndex({index:g.messageIndex,behavior:"smooth",align:"center"});else if(r?.current){const b=document.getElementById(g.messageId);b&&b.scrollIntoView({behavior:"smooth",block:"center"})}}},0)},[a.isActive,a.query,e,i,s,r]);const u=d.useCallback(y=>{if(!a.matches.length)return;const v=y<0?a.matches.length-1:y>=a.matches.length?0:y,g=a.matches[v];if(o(b=>({...b,currentMatchIndex:v})),g){if(s?.current)s.current.scrollToIndex({index:g.messageIndex,behavior:"smooth",align:"center"});else if(r?.current){const b=document.getElementById(g.messageId);b&&b.scrollIntoView({behavior:"smooth",block:"center"})}setTimeout(()=>{const b=document.getElementById(g.messageId);b&&(b.classList.add("flash-highlight"),setTimeout(()=>{b.classList.remove("flash-highlight")},1e3))},100)}},[a.matches,s,r]),p=d.useCallback(()=>{u(a.currentMatchIndex+1)},[a.currentMatchIndex,u]),f=d.useCallback(()=>{u(a.currentMatchIndex-1)},[a.currentMatchIndex,u]),m=d.useCallback(y=>!a.isActive||!a.matches.length?[]:a.matches.filter(v=>v.messageId===y).map(v=>({startIndex:v.globalStartIndex,endIndex:v.globalEndIndex})),[a.isActive,a.matches]),h=d.useCallback(y=>!a.isActive||!a.matches.length?!1:a.matches.some(v=>v.messageId===y),[a.isActive,a.matches]),x=d.useCallback(y=>!a.isActive||a.currentMatchIndex===-1?!1:a.matches[a.currentMatchIndex]?.messageId===y,[a.isActive,a.currentMatchIndex,a.matches]);return{searchState:a,toggleSearch:l,updateSearchQuery:c,navigateToMatch:u,navigateToNextMatch:p,navigateToPrevMatch:f,getSearchHighlightsForMessage:m,isMessageContainingMatch:h,isMessageContainingCurrentMatch:x}}const AO=d.forwardRef(({className:e,children:n,...s},r)=>t.jsxs(CT,{ref:r,className:A("relative overflow-hidden",e),...s,children:[t.jsx(p$,{className:"h-full w-full rounded-[inherit]",children:n}),t.jsx(DO,{}),t.jsx(f$,{})]}));AO.displayName=CT.displayName;const DO=d.forwardRef(({className:e,orientation:n="vertical",...s},r)=>t.jsx(_T,{ref:r,orientation:n,className:A("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:t.jsx(m$,{className:"relative flex-1 rounded-full bg-border"})}));DO.displayName=_T.displayName;const ehe=W.common.folder,the=W.common.testFile,nhe=W.common.file,y4=W.common.activeFile,she=W.icons.code,rhe=e=>{e.editor.defineTheme("github-dark",{base:"vs-dark",inherit:!0,rules:[{token:"deleted",foreground:"ff4a4a",fontStyle:"italic"},{token:"inserted",foreground:"4af94a"}],colors:{"editor.background":"#111112","editor.foreground":"#cccccc","editor.lineHighlightBackground":"#1e1e1e","editorLineNumber.foreground":"#6e7681","editorLineNumber.activeForeground":"#cccccc","editorGutter.background":"#111112","diffEditor.insertedTextBackground":"#23863a33","diffEditor.removedTextBackground":"#da363333","diffEditor.insertedLineBackground":"#23863a22","diffEditor.removedLineBackground":"#da363322"}})},ihe=({isOpen:e,onClose:n,onOpenVSCode:s,containerId:r,modifiedFiles:i,initialCommitId:a,isCloudFlow:o,jobId:l})=>{const[c,u]=d.useState("all"),[p,f]=d.useState(""),[m,h]=d.useState(null),[x,y]=d.useState(null),[v,g]=d.useState(!1),[b,w]=d.useState(null),N=d.useMemo(()=>i.map(C=>({...C,parentFolder:C.fileName?C.fileName.split("/").slice(0,-1).join("/"):""})),[i]),j=d.useMemo(()=>{const C={};return N.forEach(F=>{const E=F.parentFolder||"";C[E]||(C[E]=[]),C[E].push(F)}),C},[N]),_=d.useCallback(async C=>{g(!0),w(null),y(null);try{let F;if(o&&l){const k=await yt.getCloudGitDiff(l,C,a);if(!k.data?.data?.data?.diff){w("No changes in this file");return}F=atob(k.data.data.data.diff)}else F=await Dp.getGitDiff(r,C,a);if(!F.trim()){w("No changes in this file");return}if(F.length>1e5){w("Diff is too large to render. Please use VS Code to view this diff.");return}const E=F.split(`
`);let S="",M="";for(const k of E)k.startsWith("--- a/")||k.startsWith("+++ b/")||k.startsWith("@@")||(k.startsWith("-")?S+=k.slice(1)+`
`:k.startsWith("+")?M+=k.slice(1)+`
`:(S+=k+`
`,M+=k+`
`));y({originalContent:S.trim(),modifiedContent:M.trim()})}catch(F){w(F.message)}finally{g(!1)}},[r,a,o,l]);return d.useEffect(()=>{e&&i.length>0&&!m&&h(i[0].fileName)},[e,i]),d.useEffect(()=>{m&&_(m)},[m,_]),e?t.jsx(zn,{open:e,onOpenChange:C=>!C&&n(),children:t.jsxs(dr,{className:"max-w-[90vw] w-[90vw] h-[90vh] max-h-[90vh] p-0 gap-0 bg-[#111112]",hideclosebutton:!0,children:[t.jsx(Al,{className:"border-b border-[#333333] bg-[#111112] p-0",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"w-[30%] p-4 border-r border-[#333333]",children:t.jsxs("div",{className:"relative flex-1",children:[t.jsx(vo,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#666666]"}),t.jsx(Ni,{value:p,onChange:C=>f(C.target.value),className:"pl-8 pr-14 bg-[#1e1e1e] border-[#333333] text-[#cccccc] h-8 text-sm",placeholder:"Search files..."}),t.jsx("span",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs text-[#666666]",children:" K"})]})}),t.jsxs("div",{className:"w-[70%] p-4 flex justify-between items-center space-x-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("img",{alt:"Active file",src:y4,className:"w-4 h-4"}),t.jsx("h2",{className:"text-[#cccccc] text-sm font-medium",children:m||"No file selected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#2A2A2A] rounded hover:bg-[#3A3A3A] transition-colors",onClick:s,children:[t.jsx("img",{src:she,className:"w-4 h-4"}),t.jsx("span",{className:"text-[#CCCCCC] text-sm",children:"Open in VS Code"})]}),t.jsx("button",{className:"p-1.5 hover:bg-[#2A2A2A] rounded transition-colors",onClick:n,children:t.jsx(Pt,{className:"w-4 h-4 text-[#CCCCCC]"})})]})]})]})}),t.jsxs("div",{className:"flex h-[calc(90vh-4rem)]",children:[t.jsxs("div",{className:"w-[30%] min-w-[30%] border-r border-[#333333] h-full",children:[t.jsx("div",{className:"border-b border-[#333333]",children:t.jsxs("div",{className:"flex text-[#cccccc]",children:[t.jsxs("button",{className:A("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="all"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("all"),children:[t.jsx("img",{src:ehe,className:"w-4 h-4"}),"ALL FILES"]}),t.jsxs("button",{className:A("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="test"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("test"),children:[t.jsx("img",{src:the,className:"w-4 h-4"}),"TEST FILES"]}),t.jsxs("button",{className:A("flex-1 flex items-center justify-center gap-2 py-3 transition-colors","text-[#DDDDE6] text-center font-inter text-xs font-semibold leading-4 tracking-[0.48px] uppercase",c==="doc"?"border-b-2 border-[#ff6b6b] opacity-100":"opacity-60 hover:opacity-100"),onClick:()=>u("doc"),children:[t.jsx("img",{src:nhe,className:"w-4 h-4"}),"DOC FILES"]})]})}),t.jsx(AO,{className:"h-[calc(100%-3rem)]",children:t.jsxs("div",{className:"p-2 space-y-2",children:[j[""]&&t.jsx("div",{className:"mb-4",children:j[""].map(C=>t.jsxs("div",{className:A("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===C?.fileName?"bg-[#1A1A1C] text-white":A("hover:bg-[#1A1A1C]",C.status==="M"?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(C?.fileName),children:[t.jsx("img",{src:y4,className:A("w-4 h-4",C.status==="M"&&"opacity-80")}),t.jsx("span",{children:C.fileName?C.fileName.split("/").pop():""}),t.jsx("span",{className:"ml-auto text-xs opacity-60",children:C.status})]},C?.fileName))}),Object.entries(j).filter(([C])=>C!=="").map(([C,F])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"mb-2 text-sm font-medium text-gray-500",children:C}),F.map(E=>t.jsxs("div",{className:A("flex items-center gap-2 p-2 rounded cursor-pointer text-sm",m===E.fileName?"bg-[#1A1A1C] text-white":A("hover:bg-[#1A1A1C]",E.status==="M"?"text-[#CCB252]":"text-[#cccccc]")),onClick:()=>h(E.fileName),children:[t.jsx("img",{src:y4,className:A("w-4 h-4",E.status==="M"&&"opacity-80")}),t.jsx("span",{children:E.fileName?E.fileName.split("/").pop():""}),t.jsx("span",{className:"ml-auto text-xs opacity-60",children:E.status})]},E.fileName))]},C))]})})]}),t.jsx("div",{className:"w-[70%] max-w-[70%] h-full",children:v?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#cccccc]",children:"Loading diff..."})}):b?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#ff6b6b] max-w-md text-center p-4",children:b})}):x?t.jsx(px,{height:"100%",theme:"github-dark",original:x.originalContent,modified:x.modifiedContent,beforeMount:rhe,options:{renderSideBySide:!0,readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,lineNumbers:"on",diffWordWrap:"off",renderOverviewRuler:!1,fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code','SF Mono', Menlo, Monaco, Consolas, 'Courier New', monospace",lineHeight:20,glyphMargin:!1,folding:!1,renderIndicators:!0,renderMarginRevertIcon:!1,ignoreTrimWhitespace:!1,"bracketPairColorization.enabled":!1}}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"text-[#666666]",children:"Select a file to view diff"})})})]})]})}):null},ahe={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",pdf:"application/pdf",mp4:"video/mp4",webm:"video/webm",mp3:"audio/mpeg",wav:"audio/wav"},MO="application/octet-stream",ohe="DOWNLOAD_FILE_REQUEST",LO=()=>!!window?.ReactNativeWebView,lhe=e=>{const n=e.split(".").pop()?.toLowerCase().split("?")[0];return ahe[n||""]||MO},che=e=>{const n=e.match(/^data:([^;]+);/);return n?n[1]:MO},RO=e=>{window.ReactNativeWebView?.postMessage(JSON.stringify({type:ohe,payload:e}))},PO=(e,n)=>{const s=document.createElement("a");s.href=e,s.download=n,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},lh=async(e,n)=>{const s=n||"download";if(LO()){RO({url:e,filename:s,mimeType:lhe(e)});return}try{const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file: ${r.statusText}`);const i=await r.blob(),a=URL.createObjectURL(i);PO(a,s),URL.revokeObjectURL(a)}catch{const i=document.createElement("a");i.href=e,i.target="_blank",i.download=s,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}},dhe=(e,n)=>{if(LO()){RO({url:e,filename:n,mimeType:che(e),isBase64:!0});return}PO(e,n)};function uhe({image:e,isOpen:n,onClose:s}){d.useEffect(()=>{const a=o=>{o.key==="Escape"&&n&&s()};return n&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow=""}},[n,s]);const r=async()=>{if(!e)return;const a=e.mime_type?.split("/")[1]||"png",o=`image-${new Date().getTime()}.${a}`;if(e.img_url&&!e.img_url.startsWith("data:"))await lh(e.img_url,o);else{const l=e.img_url||`data:${e.mime_type};base64,${e.img_base64}`;dhe(l,o)}},i=a=>{a.target===a.currentTarget&&s()};return t.jsx(zn,{open:n&&!!e,onOpenChange:a=>{a||s()},children:t.jsx(Us,{children:t.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:i,"data-testid":Rr.imagePreview.modal,children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[t.jsx("div",{className:"text-sm text-white/70",children:"Image Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:r,"data-testid":Rr.imagePreview.download,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:t.jsx(Da,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:s,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview","data-testid":Rr.imagePreview.close,children:t.jsx(Pt,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:t.jsx("img",{src:e?.img_url||`data:${e?.mime_type};base64,${e?.img_base64}`,alt:"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl",onClick:a=>a.stopPropagation()})})]})})})}function F8({images:e,className:n}){const[s,r]=d.useState(null);return!e||e.length===0?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:A("grid gap-2 relative my-4 rounded-lg w-full",e.length===1?"grid-cols-1":e.length===2?"grid-cols-2":"grid-cols-2 md:grid-cols-3",n),children:e.map((i,a)=>t.jsx("div",{className:"relative rounded-lg max-h-[300px] overflow-hidden bg-white/10 flex items-center justify-center cursor-pointer","data-testid":yr.imageGallery.item,onClick:()=>{z("screenshot_opened",{image_url:i.img_url,image_mime_type:i.mime_type,image_base64:i.img_base64}),r(i)},children:t.jsx("img",{src:i.img_url||`data:${i.mime_type};base64,${i.img_base64}`,alt:`Image ${a+1}`,className:"w-full h-full object-contain rounded-lg max-h-[300px]"})},a))}),t.jsx(uhe,{image:s,isOpen:!!s,onClose:()=>{z("screenshot_closed",{image_url:s?.img_url,image_mime_type:s?.mime_type,image_base64:s?.img_base64}),r(null)}})]})}function OO({imageUrl:e,imageName:n,isOpen:s,onClose:r}){d.useEffect(()=>{const o=l=>{l.key==="Escape"&&s&&r()};return s&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow=""}},[s,r]);const i=async()=>{if(e)try{const o=n||`image-${new Date().getTime()}`,l=e.split(".").pop()?.split("?")[0]||"png",c=o.includes(".")?o:`${o}.${l}`;await lh(e,c)}catch{window.open(e,"_blank")}},a=o=>{o.target===o.currentTarget&&r()};return t.jsx(zn,{open:s&&!!e,onOpenChange:o=>{o||r()},children:t.jsx(Us,{children:t.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:a,children:[t.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[t.jsx("div",{className:"text-sm truncate text-white/70 max-w-[80%]",children:n?`${n} - Image Preview`:"Image Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:i,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Download image",children:t.jsx(Da,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:r,className:"p-2 transition-all duration-200 rounded-lg text-white/70 hover:text-white bg-white/10 hover:bg-white/20",title:"Close preview",children:t.jsx(Pt,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"relative flex items-center justify-center w-full h-full p-8 pt-20",children:t.jsx("img",{src:e||"",alt:n||"Full size preview",className:"object-contain max-w-full max-h-full rounded-lg shadow-2xl min-h-[300px] min-w-[300px]",onClick:o=>o.stopPropagation()})})]})})})}const phe=W.files.pdf,bF=W.files.csv,fhe=W.files.doc,mhe=W.files.ppt,hhe=W.files.txt,xhe=W.files.video,ghe=W.files.svg,yF=W.files.other,BO=W.files.zip,v4=(e,n,s)=>{if(!e&&!n&&!s)return!1;const i=[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(l=>{const c=e?e.toLowerCase().endsWith(l):!1,u=n?n.toLowerCase().includes(l):!1;return c||u});if(s&&s.startsWith("image/"))return!0;const o=n?["image","img","photo","picture","pic",".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(l=>n.toLowerCase().includes(l)):!1;return i||o},bhe=(e,n)=>{if(!n&&!e)return yF;const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?phe:s.endsWith(".csv")||e==="text/csv"?bF:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?fhe:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")||e?.includes("zip")||e?.includes("tar")||e?.includes("rar")||e?.includes("7z")?BO:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?mhe:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?hhe:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?xhe:s.endsWith(".svg")||e==="image/svg+xml"?ghe:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?bF:yF},yhe=(e,n)=>e?.startsWith("image/")?X9:e?.startsWith("video/")?n8:e?.startsWith("text/")||n?.endsWith(".txt")?po:e?.includes("zip")||e?.includes("tar")||e?.includes("rar")?Y9:n?.endsWith(".pdf")||n?.endsWith(".csv")||n?.endsWith(".xlsx")?po:hm,vF=e=>{if(!e)return"Unknown size";if(e===0)return"0 Bytes";const n=1024,s=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+s[r]},wF=(e,n=15)=>{if(e.length<=n)return e;const s=e.split(".").pop()||"",r=e.substring(0,e.lastIndexOf("."));return r.length<=10?e:`${r.substring(0,15)}...${s}`};function vhe({images:e,className:n}){const[s,r]=d.useState(null),[i,a]=d.useState(null);if(!e||e.length===0)return null;const o=async(c,u)=>{u.stopPropagation(),!(c.visibility==="private"&&!c.url)&&await lh(c.url,c.name||"download")},l=c=>{c.visibility==="private"&&!c.url||v4(c.name,c.url,c.mime_type)&&r(c)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:A("flex flex-wrap max-w-4xl overflow-x-auto gap-[10px] relative my-2 mb-0 rounded-lg w-full",n),"data-testid":yr.artifactGallery,children:e.map((c,u)=>{const p=v4(c.name,c.url,c.mime_type),f=bhe(c.mime_type,c.name),m=yhe(c.mime_type,c.name),h=c.visibility==="private"&&!c.url;return t.jsxs("div",{className:`relative rounded-[12px] p-[6px] min-h-[180px] max-h-[180px] min-w-[180px] max-w-[180px] overflow-hidden bg-[#FFFFFF0F] flex flex-col items-center justify-center transition-colors ${h?"":"cursor-pointer hover:bg-[#FFFFFF15]"}`,onClick:()=>l(c),onMouseEnter:()=>!h&&a(u),onMouseLeave:()=>a(null),"data-testid":yr.artifactItem,children:[p&&c.url?t.jsx("img",{src:c.url,alt:c.name||`Image ${u+1}`,className:"object-cover w-full h-full rounded-lg",onError:x=>{const v=x.target.parentElement;v&&(v.innerHTML=`
                        <div class="flex flex-col items-center justify-center h-full p-4">
                          <img src="${f}" alt="File" class="w-12 h-12 mb-2" />
                          <span class="text-[12px] text-white/70 text-center break-words">${wF(c.name)}</span>
                          <span class="text-[10px] text-white/50 mt-1">${vF(c.file_size)}</span>
                        </div>
                      `)}}):t.jsxs("div",{className:"flex flex-col items-start justify-between w-full h-full p-3 bg-[#FFFFFF05] rounded-[8px]",children:[t.jsx("div",{className:"flex items-center w-full ",children:f?t.jsx("img",{src:f,alt:"File",className:A("w-12 h-12 mb-2",f===BO&&"p-1")}):t.jsx(m,{className:"w-12 h-12 mb-2 text-[#FFFFFF60]"})}),t.jsxs("div",{className:"flex flex-col items-start justify-center",children:[t.jsx("span",{className:"text-[12px] text-white/70 text-nowrap text-center break-words mb-1",children:wF(c.name)}),(c.file_size||0)>0&&t.jsx("span",{className:"text-[10px] text-white/50",children:vF(c.file_size)})]})]}),t.jsx("button",{type:"button",onClick:x=>o(c,x),disabled:h,className:`absolute top-2 right-2 p-1.5 bg-black/50 rounded-lg transition-opacity ${h?"opacity-0":`hover:bg-black/70 ${i===u?"opacity-100":"opacity-0"}`}`,title:h?"Private file - Download not available":"Download file",children:t.jsx(Da,{className:"w-4 h-4 text-white"})})]},u)})}),s&&v4(s.name,s.url,s.mime_type)&&t.jsx(OO,{imageUrl:s.url,imageName:s.name,isOpen:!!s,onClose:()=>r(null)})]})}const Rf=e=>{if(!e||!e.name&&!e.mime_type)return!1;const n=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml","image/bmp","image/tiff","image/ico","image/avif","image/heic","image/heif"];if(e.mime_type&&n.includes(e.mime_type))return!0;const s=e.name||e.file_name;return s?[".jpg",".jpeg",".png",".gif",".webp",".svg",".bmp",".tiff",".tif",".ico",".avif",".heic",".heif"].some(i=>s.toLowerCase().endsWith(i)):!1},whe=(e,n)=>{const s=[],r=[];return new Set(e.filter(Rf).map(i=>i.name?.toLowerCase()).filter(i=>i!==void 0)),n.forEach(i=>{e.some(o=>Rf(o)&&!0)||r.push(i)}),e.forEach(i=>{Rf(i)&&s.push(i)}),{matchedArtifacts:s,unmatchedBase64:r}},UO=({base64Images:e,artifacts:n,artifactSharedData:s,className:r,fromMember:i})=>{const a=()=>{const h=n||s?.artifacts||[],x=e||s?.base64_image_list||[],y=h.filter(b=>b.file_name||b.name).map(b=>{let w="";return b.local_preview_base64?w=`data:${b.mime_type||"image/jpeg"};base64,${b.local_preview_base64}`:b.local_preview_url?w=b.local_preview_url:b.file_path?w=b.file_path:b.url&&(w=b.url),{name:b.file_name||b.name||"unnamed",url:w,artifact_type:b.artifact_type,mime_type:b.mime_type,file_size:b.file_size,visibility:b.visibility||(w?"public":"private")}}),v=y.filter(Rf),g=y.filter(b=>!Rf(b));if(y.length>0)if(x.length>0){const{matchedArtifacts:b,unmatchedBase64:w}=whe(v,x);return{imageArtifacts:b,nonImageArtifacts:g,base64Images:w,hasImageArtifacts:b.length>0,hasNonImageArtifacts:g.length>0,hasBase64:w.length>0}}else return{imageArtifacts:v,nonImageArtifacts:g,base64Images:[],hasImageArtifacts:v.length>0,hasNonImageArtifacts:g.length>0,hasBase64:!1};return{imageArtifacts:[],nonImageArtifacts:[],base64Images:x,hasImageArtifacts:!1,hasNonImageArtifacts:!1,hasBase64:x.length>0}},{imageArtifacts:o,nonImageArtifacts:l,base64Images:c,hasImageArtifacts:u,hasNonImageArtifacts:p,hasBase64:f}=a(),m=[...o,...l];return m.length===0&&!f?null:t.jsxs("div",{className:A("enhanced-image-renderer",r),children:[m.length>0&&t.jsx(vhe,{images:m,className:i?"justify-start md:ml-[42px]":"justify-end"}),f&&t.jsx(F8,{images:c,className:i?"justify-start md:ml-[42px]":"justify-end"})]})},VO=h$,E8=d.forwardRef(({className:e,...n},s)=>t.jsx(jT,{ref:s,className:A("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));E8.displayName=jT.displayName;const gd=d.forwardRef(({className:e,...n},s)=>t.jsx(NT,{ref:s,className:A("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));gd.displayName=NT.displayName;const bd=d.forwardRef(({className:e,...n},s)=>t.jsx(FT,{ref:s,className:A("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));bd.displayName=FT.displayName;const Py=({data:e,searchTerm:n,path:s="",isRoot:r=!1,defaultExpanded:i=!1})=>{const[a,o]=d.useState(i||r),l=n?JSON.stringify(e).toLowerCase().includes(n.toLowerCase()):!1,c=f=>{if(!n)return f;const m=new RegExp(`(${n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return f.split(m).map((x,y)=>m.test(x)?t.jsx("span",{className:"text-white bg-yellow-500/30",children:x},y):x)};if(e===null)return t.jsx("span",{className:"text-gray-500",children:"null"});if(e===void 0)return t.jsx("span",{className:"text-gray-500",children:"undefined"});if(typeof e!="object"){const f=String(e);return t.jsxs("span",{className:typeof e=="string"?"text-green-400":"text-blue-400",children:[typeof e=="string"?'"':"",c(f),typeof e=="string"?'"':""]})}if(Array.isArray(e)&&e.length===0)return t.jsx("span",{className:"text-gray-400",children:"[]"});if(Object.keys(e).length===0&&!Array.isArray(e))return t.jsx("span",{className:"text-gray-400",children:"{}"});const u=Array.isArray(e),p=u?e:Object.entries(e);return t.jsxs("div",{className:`${r?"":"ml-4"} ${l&&n?"border-l-2 border-yellow-500 pl-2":""}`,children:[t.jsxs("div",{className:"flex items-center px-1 rounded cursor-pointer hover:bg-gray-800",onClick:()=>o(!a),children:[a?t.jsx(Dr,{className:"w-4 h-4 mr-1 text-gray-400"}):t.jsx(El,{className:"w-4 h-4 mr-1 text-gray-400"}),t.jsx("span",{className:"text-gray-300",children:u?`Array(${p.length})`:`Object{${Object.keys(e).length}}`})]}),a&&t.jsx("div",{className:"ml-2",children:u?p.map((f,m)=>t.jsxs("div",{className:"flex",children:[t.jsxs("span",{className:"mr-2 text-gray-500",children:["[",m,"]:"]}),t.jsx(Py,{data:f,searchTerm:n,path:`${s}[${m}]`,defaultExpanded:l&&n!==""})]},`${s}.${m}`)):Object.entries(e).map(([f,m],h)=>t.jsxs("div",{className:"flex",children:[t.jsxs("span",{className:"mr-2 text-purple-400",children:['"',c(f),'":']}),t.jsx(Py,{data:m,searchTerm:n,path:`${s}.${f}`,defaultExpanded:l&&n!==""})]},`${s}.${f}`))})]})};function Che({isOpen:e,onOpenChange:n,containerId:s,message:r}){const{isMobile:i}=ps(),[a,o]=d.useState(!1),[l,c]=d.useState(null),[u,p]=d.useState(null),[f,m]=d.useState(""),[h,x]=d.useState("formatted");d.useEffect(()=>{const w=r?.request_id||s;e&&w&&y()},[e,s,r?.request_id]);const y=async()=>{const w=r?.request_id||s;if(!w){c("No request ID or container ID available for debugging");return}o(!0),c(null);try{const N=await yt.getDebugInfo(w);p(N)}catch(N){c(N.message||"Failed to fetch debug information")}finally{o(!1)}},v=()=>{n(!1)},g=w=>{if(!w)return null;if(h==="raw"){const N=JSON.stringify(w,null,2);if(!f)return t.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:N});const j=new RegExp(`(${f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),_=N.split(j);return t.jsx("pre",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm",children:_.map((C,F)=>j.test(C)?t.jsx("span",{className:"text-white bg-yellow-500/30",children:C},F):t.jsx("span",{children:C},F))})}return t.jsx("div",{className:"bg-[#1E1E1E] p-4 rounded-md overflow-auto h-full w-full text-sm font-mono",children:t.jsx(Py,{data:w,searchTerm:f,isRoot:!0,defaultExpanded:!0})})},b=()=>t.jsx("div",{className:"flex-1 overflow-auto",children:a?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(ln,{className:"w-8 h-8 animate-spin text-primary"}),t.jsx("span",{className:"ml-2",children:"Loading debug information..."})]}):l?t.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex flex-col gap-4 px-4 mb-4",children:t.jsxs("div",{className:"relative flex items-center",children:[t.jsx(vo,{className:"absolute w-4 h-4 text-gray-400 transform -translate-y-1/2 left-3 top-1/2"}),t.jsx("input",{type:"text",placeholder:"Search in JSON...",className:"w-full pl-10 pr-4 py-2 bg-[#1E1E1E] border border-gray-700 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",value:f,onChange:w=>m(w.target.value)}),t.jsx(Cc,{showIcon:!0,iconOnly:!0,className:"ml-4 border-none bg-none",buttonClassName:Od({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:JSON.stringify(u,null,2),tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{}})]})}),t.jsxs(VO,{defaultValue:"raw",onValueChange:x,children:[t.jsxs(E8,{className:"grid w-full grid-cols-2",children:[t.jsx(gd,{value:"formatted",children:"Formatted"}),t.jsx(gd,{value:"raw",children:"Raw JSON"})]}),t.jsx(bd,{value:"formatted",className:"p-4 overflow-auto",children:g(u)}),t.jsx(bd,{value:"raw",className:"p-4 overflow-auto",children:g(u)})]})]}):t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No debug information available"})});return i?t.jsx(la,{trigger:t.jsx("div",{}),title:`Debug Information for ${r?.request_id||s}`,open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,footer:t.jsx("div",{className:"flex justify-end w-full",children:t.jsx(Vt,{onClick:v,children:"Close"})}),children:t.jsx("div",{className:"h-[80vh] flex flex-col",children:b()})}):t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"sm:max-w-[90vw] h-[90vh] flex flex-col",children:[t.jsx(Al,{children:t.jsxs(uo,{children:["Debug Information for ",r?.request_id||s]})}),b(),t.jsx(Sc,{children:t.jsx(Vt,{onClick:v,children:"Close"})})]})})}const _he=W.icons.history,HO=d.memo(({isHovered:e,handleRollback:n,message:s,isCloudFlow:r,className:i,hideImportantActions:a,forkStatus:o,onCopy:l,agentStatus:c,podIsPaused:u=!1})=>{const p=Xo(),[f,m]=d.useState(!1),{isMobile:h}=ps(),x=()=>{z(Zu.DEBUG_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,functionName:s.function_name}),m(!0)},y=()=>u?"Please wake up the agent before rolling back":c==="subagent_running"?"Please wait for the subagent to finish before rolling back":c==="subagent_stopping"?"Can't rollback at the moment - Subagent is stopping":c==="subagent_waiting"?"Please finish the subagent before rolling back":c==="running"?"Can't rollback at the moment - Agent is running":"";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:A("inline-flex items-center gap-2",e?"opacity-100 pointer-events-auto":"opacity-0 absolute pointer-events-none",i),children:[s.enable_rollback&&!a&&o!=="running"&&t.jsx(Ws,{children:t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:t.jsxs("button",{type:"button",className:`p-[6px] ${h?"":" pr-[10px]"} bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] disabled:opacity-50 hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors`,onClick:()=>{n&&c==="waiting"&&(z(Zu.ROLLBACK_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,agentStatus:c,enableRollback:s.enable_rollback}),n())},disabled:u||c!=="waiting",children:[t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:t.jsx("img",{src:_he,className:"w-4 h-4 text-[#5C5F66]",alt:"Rollback"})}),!h&&t.jsx("span",{className:"text-[15px] leading-[20px] font-['Inter'] font-medium",children:"Rollback"})]})}),t.jsx(Xs,{className:A("bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",y()?"":"hidden"),children:y()})]})}),p&&(s.containerId||s.request_id)&&!h&&t.jsx("button",{type:"button",className:"p-[6px] pr-[10px] bg-[#222224] hover:bg-[#3c3c40] text-[#7B7B80] hover:text-[#ccc] flex items-center space-x-1 rounded-lg transition-colors",onClick:x,children:t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:t.jsx(py,{className:"w-4 h-4 text-[#5C5F66]"})})}),t.jsx(Cc,{value:()=>s.action?[s.content,s.action&&`
Action: ${s.action}`,s.observation&&`
Observation: ${s.observation}`,s.thought&&`
Thought: ${s.thought}`].filter(Boolean).join(""):s.content,feedbackType:"icon-text",defaultText:h?"":"Copy",copiedText:"Copied",showIcon:!0,onCopy:v=>{z(Zu.COPY_CLICKED,{messageId:s.id,containerId:s.containerId,requestId:s.request_id,action:s.action,contentLength:typeof v=="string"?v.length:0,hasAction:!!s.action,hasObservation:!!s.observation,hasThought:!!s.thought}),l&&l()},copiedClassName:"",buttonClassName:"p-[6px] bg-white/5 hover:bg-white/15 text-[15px] font-inter font-medium  text-white/50 hover:text-white flex items-center space-x-1 rounded-lg transition-colors",iconProps:{size:16,className:"text-white/60"},className:"max-h-full bg-none","data-testid":La.messageCopyButton})]}),t.jsx(Che,{isOpen:f,onOpenChange:m,containerId:s.containerId||s.request_id,message:s})]})}),$O=(e,n=80)=>e.split(" ").some(r=>r.length>n),jhe=[{pattern:/\b(API key|api key|API_KEY|apikey)\s+([\w\-\.]{20,})/gi,type:"API_KEY"},{pattern:/\b(secondary key|primary key|access key|secret key)\s+([\w\-\.]{20,})/gi,type:"KEY"},{pattern:/\b(database password|db password)\s+([\w\-\.&@!#%^*()+=]{3,})/gi,type:"PASSWORD"},{pattern:/\b(password|pwd)\s+([a-zA-Z0-9\-_\.&@!#%^*()+=]{6,})/gi,type:"PASSWORD"},{pattern:/(mongodb(\+srv)?:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(postgres:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(mysql:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/(redis:\/\/[^\s]+:[^\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/([a-zA-Z]+:\/\/[^:\s]+:[^@\s]+@[^\s]+)/g,type:"CONNECTION_STRING"},{pattern:/\b([a-fA-F0-9]{40,64})\b/g,type:"HASH"},{pattern:/(eyJ[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,}\.[a-zA-Z0-9_-]{10,})/g,type:"JWT"},{pattern:/\b([a-zA-Z0-9_-]+)?api[_-]?key["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"API_KEY"},{pattern:/\b([a-zA-Z0-9_-]+)?token["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"TOKEN"},{pattern:/\b([a-zA-Z0-9_-]+)?secret["']?\s*[:=]\s*["']?([\w\-\.]{20,})["']?/gi,type:"SECRET"},{pattern:/\b([a-zA-Z0-9_-]+)?password["']?\s*[:=]\s*["']?([\w\-\.]{6,})["']?/gi,type:"PASSWORD"},{pattern:/\bAKIA[0-9A-Z]{16}/g,type:"AWS_KEY"},{pattern:/\bTr0ub4dor&3\b/g,type:"PASSWORD"}],zO=e=>{const n=[];return jhe.forEach(({pattern:s,type:r})=>{let i;const a=new RegExp(s.source,s.flags);for(;(i=a.exec(e))!==null;){const o=i[0],l=i.index,c=l+o.length;let u=o;if(i.length>1){const p=i[i.length-1];if(p&&o.includes(p)){u=p;const f=o.indexOf(p);if(f!==-1){const m=l+f,h=m+p.length;n.push({originalText:p,startIndex:m,endIndex:h,type:r});continue}}}n.push({originalText:u,startIndex:l,endIndex:c,type:r})}}),n.sort((s,r)=>s.startIndex-r.startIndex)},CF=(e,n,s,r="")=>{const i="my-1 overflow-hidden",o=[/^\s*```/,/^(\s{4,}|\t)/,/^[\s]*[{}\[\]()=><;.]/,/^[\s]*\w+\(/,/^[\s]*(const|let|var|function|class|import|export|return|if|else|for|while)\s/,/^[\s]*\/\//,/^[\s]*\/\*/,/^[\s]*\*/,/^[\s]*#/,/[;{}]\s*$/,/^[\s]*<\/?[a-zA-Z]/].some(f=>f.test(e)),c=n||o?"font-mono text-sm":s?"text-[#cfe3e6] font-['Inter'] text-[16px] leading-[28px] font-normal":"text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",p=$O(e)?"break-words":"";return[i,c,p,r].filter(Boolean).join(" ")},_F=e=>$O(e)?{wordBreak:"break-word"}:{},WO=({originalText:e,truncatedText:n,className:s})=>{const r=n||Nhe(e);return t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsx("span",{className:A("cursor-help border-b border-dotted border-gray-500",s),children:r})}),t.jsx(Xs,{children:t.jsx("span",{className:"font-mono text-xs break-all",children:e})})]})})},Nhe=e=>{if(!e||e.length<=8)return e;const n=e.substring(0,3),s=e.substring(e.length-3);return`${n}...${s}`},Fhe=({children:e,className:n,variant:s="default",customComponents:r={}})=>{const i="selection:text-[#66EAFF] text-wrap break-words selection:bg-[#66EAFF] selection:bg-opacity-10 font-['Inter'] max-w-3xl select-text",a={default:"p-0 text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal max-w-4xl",compact:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[24px] font-normal max-w-4xl",minimal:"p-0 text-[#dcdce5] font-['Inter'] text-[14px] leading-[20px] font-normal max-w-4xl"},l={...{p:({...c})=>t.jsx("p",{className:"my-4 font-['Inter']",...c}),h1:({...c})=>t.jsx("h1",{className:"mt-8 mb-4 text-[28px] leading-[36px] font-semibold tracking-tight text-white font-['Inter']",...c}),h2:({...c})=>t.jsx("h2",{className:"mt-6 mb-3 text-2xl font-semibold tracking-tight text-white/90 font-['Inter']",...c}),h3:({...c})=>t.jsx("h3",{className:"mt-5 mb-2 text-xl font-semibold text-white/80 font-['Inter']",...c}),h4:({...c})=>t.jsx("h4",{className:"mt-4 mb-2 text-lg font-semibold text-white/70 font-['Inter']",...c}),h5:({...c})=>t.jsx("h5",{className:"mt-3 mb-1 text-base font-medium text-white/60 font-['Inter']",...c}),h6:({...c})=>t.jsx("h6",{className:"mt-2 mb-1 text-sm font-medium tracking-wider uppercase text-white/50 font-['Inter']",...c}),ul:({...c})=>t.jsx("ul",{className:"pl-4 space-y-1 list-disc font-['Inter']",...c}),ol:({...c})=>t.jsx("ol",{className:"pl-4 space-y-1 list-decimal font-['Inter']",...c}),li:({className:c,...u})=>c==="task-list-item"?t.jsx("li",{className:"pl-1 ml-4 font-['Inter']",...u}):t.jsx("li",{className:A("pl-1 ml-4 font-['Inter']",c),...u}),blockquote:({...c})=>t.jsx("blockquote",{className:"pl-4 my-4 italic border-l-4 border-blue-500/40 text-white/70 font-['Inter']",...c}),code:({inline:c,className:u,children:p,...f})=>{const m=String(p||"");return c===!0||c!==!1&&!u?.startsWith("language-")&&!m.includes(`
`)&&m.length<200?t.jsx("span",{className:" px-1.5 py-0.5 rounded-[6px] text-[12px] font-jetbrains border border-[#80fff920]  bg-[#80fff910] text-[#80fff9] whitespace-nowrap inline",...f,children:p}):t.jsx("span",{className:"block p-4 overflow-x-auto text-sm rounded-lg bg-white/5 text-[#dcdce5] font-jetbrains",...f,children:p})},pre:({...c})=>t.jsx("pre",{className:"p-0 my-4 overflow-hidden bg-transparent rounded-md",...c}),a:({...c})=>t.jsx("a",{className:"text-blue-400 transition-colors duration-200 hover:text-blue-300 hover:underline underline-offset-2 font-['Inter']",...c}),table:({...c})=>t.jsx("table",{className:"w-full my-4 border-collapse font-['Inter']",...c}),thead:({...c})=>t.jsx("thead",{className:"bg-gray-800/40 font-['Inter']",...c}),tbody:({...c})=>t.jsx("tbody",{className:"divide-y divide-gray-800/60 font-['Inter']",...c}),tr:({...c})=>t.jsx("tr",{className:"transition-colors duration-150 hover:bg-gray-800/20 font-['Inter']",...c}),th:({...c})=>t.jsx("th",{className:"px-3 py-2 font-semibold text-left text-white/80 font-['Inter']",...c}),td:({...c})=>t.jsx("td",{className:"px-3 py-2 font-['Inter']",...c}),hr:({...c})=>t.jsx("hr",{className:"my-6 border-t border-white/[0.08] font-['Inter']",...c}),strong:({...c})=>t.jsx("strong",{className:"font-bold text-white font-['Inter']",...c}),em:({...c})=>t.jsx("em",{className:"italic text-white/90 font-['Inter']",...c}),img:({...c})=>t.jsx("img",{className:"h-auto max-w-full my-4 rounded-lg shadow-md shadow-black/20",...c,loading:"lazy"}),dl:({...c})=>t.jsx("dl",{className:"my-4 space-y-2 font-['Inter']",...c}),dt:({...c})=>t.jsx("dt",{className:"font-medium text-white/90 font-['Inter']",...c}),dd:({...c})=>t.jsx("dd",{className:"ml-4 text-white/70 font-['Inter']",...c}),details:({...c})=>t.jsx("details",{className:"my-3 overflow-hidden font-['Inter'] border rounded-md border-gray-700/50",...c}),summary:({...c})=>t.jsx("summary",{className:"px-4 py-2 transition-colors font-['Inter'] duration-200 cursor-pointer bg-gray-800/30 hover:bg-gray-800/50",...c}),sup:({...c})=>t.jsx("sup",{className:"text-xs align-super font-['Inter']",...c}),sub:({...c})=>t.jsx("sub",{className:"text-xs align-sub font-['Inter']",...c}),del:({...c})=>t.jsx("del",{className:"text-gray-400 line-through decoration-1 font-['Inter']",...c})},...r};return t.jsx(HT,{className:A(i,a[s],n,"max-w-[50rem]"),remarkPlugins:[$T],components:l,children:e})},gl=d.memo(Fhe,(e,n)=>e.children===n.children&&e.variant===n.variant&&e.className===n.className),S8=e=>/^\s*```/.test(e),Ehe=e=>/^(\s{4,}|\t)/.test(e)&&e.trim().length>0,GO=e=>S8(e)||Ehe(e)?!0:[/^[\s]*[{}\[\]()=><;.]/,/^[\s]*\w+\(/,/^[\s]*(const|let|var|function|class|import|export|return|if|else|for|while)\s/,/^[\s]*\/\//,/^[\s]*\/\*/,/^[\s]*\*/,/^[\s]*#/,/[;{}]\s*$/,/^[\s]*\w+\s*[:=]\s*/,/^[\s]*<\/?[a-zA-Z]/].some(s=>s.test(e)),She=e=>{const n=[];let s=null;for(let r=0;r<e.length;r++)S8(e[r])&&(s===null?s=r:(n.push({start:s,end:r}),s=null));return n},khe=(e,n)=>{for(const s of n)if(e>=s.start&&e<=s.end)return{inside:!0,isMarker:e===s.start||e===s.end};return{inside:!1,isMarker:!1}},The=e=>{const n=[];let s=null;const r=She(e);let i=0;for(;i<e.length;){const a=e[i],o=khe(i,r);if(o.inside){if(o.isMarker&&S8(a)){const p=r.find(f=>f.start===i||f.end===i);if(p&&p.start===i){s&&(n.push(s),s=null);const f=[];for(let m=p.start;m<=p.end;m++){let h=e[m];(m===p.start||m===p.end)&&(h=h.replace(/^\s*```/,"")),(h.length>0||m!==p.start&&m!==p.end)&&f.push(h)}n.push({type:"code",lines:f,startLineIndex:p.start}),i=p.end+1;continue}}i++;continue}const c=GO(a)?"code":"text",u=a.trim()==="";s?u||s.type===c?s.lines.push(a):(n.push(s),s={type:c,lines:[a],startLineIndex:i}):s={type:u?"text":c,lines:[a],startLineIndex:i},i++}return s&&n.push(s),n},Ihe=(e,n,s,r=!1,i=[],a=0)=>{const o=GO(e),l=r&&i?i.filter(p=>{const f=p.startIndex-a,m=p.endIndex-a;return f<e.length&&m>0}).map(p=>({startIndex:Math.max(0,p.startIndex-a),endIndex:Math.min(e.length,p.endIndex-a)})):[],c=zO(e);if(c.length===0&&(!r||l.length===0))return t.jsx("div",{className:A(CF(e,o,s)),style:_F(e),children:t.jsx(gl,{variant:"default",className:"[&_p]:my-0",children:e})},n);const u=qO([...c.map(p=>({type:"sensitive",content:p.originalText,startIndex:p.startIndex,endIndex:p.endIndex})),...l.map(p=>({type:"highlight",content:e.substring(p.startIndex,p.endIndex),startIndex:p.startIndex,endIndex:p.endIndex}))],e);return t.jsx("p",{className:A(CF(e,o,s)),style:_F(e),children:u.map((p,f)=>p.type==="text"?p.content:p.type==="sensitive"?t.jsx(WO,{originalText:p.content},`sensitive-${n}-${f}`):t.jsx("span",{className:"bg-[#ffff4d] text-black rounded px-0.5",children:p.content},`highlight-${n}-${f}`))},n)},Ahe=(e,n=[])=>{if(!n||n.length===0)return e;const s=[];let r=0;return[...n].sort((a,o)=>a.startIndex-o.startIndex).forEach((a,o)=>{a.startIndex>r&&s.push(e.substring(r,a.startIndex)),s.push(t.jsx("span",{className:"bg-yellow-500/30 rounded px-0.5",children:e.substring(a.startIndex,a.endIndex)},`highlight-${o}`)),r=a.endIndex}),r<e.length&&s.push(e.substring(r)),t.jsx(t.Fragment,{children:s})},qO=(e,n)=>{if(e.length===0)return[{type:"text",content:n,startIndex:0,endIndex:n.length}];const s=[...e].sort((a,o)=>a.startIndex-o.startIndex),r=[];let i=0;for(const a of s)a.startIndex>i&&r.push({type:"text",content:n.substring(i,a.startIndex),startIndex:i,endIndex:a.startIndex}),a.startIndex>=i&&(r.push(a),i=a.endIndex);return i<n.length&&r.push({type:"text",content:n.substring(i),startIndex:i,endIndex:n.length}),r},Dhe=e=>{const n=e.split(`
`),s=[];let r=0;return n.forEach((i,a)=>{s.push(r),r+=i.length+(a<n.length-1?1:0)}),s},Mhe=(e,n,s,r,i)=>{const a=s&&r?r.filter(c=>{const u=c.startIndex-i,p=c.endIndex-i;return u<e.length&&p>0}).map(c=>({startIndex:Math.max(0,c.startIndex-i),endIndex:Math.min(e.length,c.endIndex-i)})):[],o=zO(e);if(o.length===0&&(!s||a.length===0))return e;const l=qO([...o.map(c=>({type:"sensitive",content:c.originalText,startIndex:c.startIndex,endIndex:c.endIndex})),...a.map(c=>({type:"highlight",content:e.substring(c.startIndex,c.endIndex),startIndex:c.startIndex,endIndex:c.endIndex}))],e);return t.jsx(t.Fragment,{children:l.map((c,u)=>c.type==="text"?c.content:c.type==="sensitive"?t.jsx(WO,{originalText:c.content},`sensitive-${n}-${u}`):t.jsx("span",{className:"bg-[#ffff4d] text-black rounded px-0.5",children:c.content},`highlight-${n}-${u}`))})},X0=(e,n,s=!1,r=[])=>{const i=e.split(`
`),a=Dhe(e),o=The(i);return t.jsx(t.Fragment,{children:o.map((l,c)=>l.type==="text"?l.lines.map((u,p)=>{const f=l.startLineIndex+p;return Ihe(u,f,n,s,r,a[f]||0)}):t.jsx("pre",{className:A("my-2 p-3 rounded-lg overflow-hidden","font-jetbrains text-sm leading-relaxed","bg-[#1a1a1a]","whitespace-pre-wrap break-words","text-[#dcdce5]"),children:t.jsx("code",{children:l.lines.map((u,p)=>{const f=l.startLineIndex+p,m=a[f]||0,h=p===l.lines.length-1;return t.jsxs(tt.Fragment,{children:[Mhe(u,f,s,r,m),!h&&`
`]},`code-line-${f}`)})})},`code-block-${c}`))})},Lhe=({size:e=24,color:n="white",accentColor:s="#2EE572",className:r=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M5.8 4.8498V10.2723V10.2498V19.2498V4.8498ZM7.6 13.8498H10.75C10.885 13.5048 11.05 13.1823 11.245 12.8823C11.44 12.5823 11.665 12.3048 11.92 12.0498H7.6V13.8498ZM7.6 17.4498H10.4575C10.3825 17.1498 10.3338 16.8498 10.3113 16.5498C10.2888 16.2498 10.2925 15.9498 10.3225 15.6498H7.6V17.4498ZM5.8 21.0498C5.305 21.0498 4.88125 20.8736 4.52875 20.5211C4.17625 20.1686 4 19.7448 4 19.2498V4.8498C4 4.3548 4.17625 3.93105 4.52875 3.57855C4.88125 3.22605 5.305 3.0498 5.8 3.0498H13L18.4 8.4498V10.6998C18.115 10.5798 17.8225 10.4861 17.5225 10.4186C17.2225 10.3511 16.915 10.3023 16.6 10.2723V9.3498H12.1V4.8498H5.8V19.2498H11.2225C11.4625 19.6098 11.7325 19.9436 12.0325 20.2511C12.3325 20.5586 12.6625 20.8248 13.0225 21.0498H5.8ZM16.15 18.3498C16.78 18.3498 17.3125 18.1323 17.7475 17.6973C18.1825 17.2623 18.4 16.7298 18.4 16.0998C18.4 15.4698 18.1825 14.9373 17.7475 14.5023C17.3125 14.0673 16.78 13.8498 16.15 13.8498C15.52 13.8498 14.9875 14.0673 14.5525 14.5023C14.1175 14.9373 13.9 15.4698 13.9 16.0998C13.9 16.7298 14.1175 17.2623 14.5525 17.6973C14.9875 18.1323 15.52 18.3498 16.15 18.3498ZM20.74 21.9498L18.31 19.5198C17.995 19.7298 17.6537 19.8873 17.2862 19.9923C16.9187 20.0973 16.54 20.1498 16.15 20.1498C15.025 20.1498 14.0687 19.7561 13.2812 18.9686C12.4937 18.1811 12.1 17.2248 12.1 16.0998C12.1 14.9748 12.4937 14.0186 13.2812 13.2311C14.0687 12.4436 15.025 12.0498 16.15 12.0498C17.275 12.0498 18.2312 12.4436 19.0187 13.2311C19.8062 14.0186 20.2 14.9748 20.2 16.0998C20.2 16.4898 20.1475 16.8686 20.0425 17.2361C19.9375 17.6036 19.78 17.9448 19.57 18.2598L22 20.6898L20.74 21.9498Z",fill:n}),t.jsx("path",{d:"M16.1516 18.3498C16.7816 18.3498 17.3141 18.1323 17.7491 17.6973C18.1841 17.2623 18.4016 16.7298 18.4016 16.0998C18.4016 15.4698 18.1841 14.9373 17.7491 14.5023C17.3141 14.0673 16.7816 13.8498 16.1516 13.8498C15.5216 13.8498 14.9891 14.0673 14.5541 14.5023C14.1191 14.9373 13.9016 15.4698 13.9016 16.0998C13.9016 16.7298 14.1191 17.2623 14.5541 17.6973C14.9891 18.1323 15.5216 18.3498 16.1516 18.3498ZM20.7416 21.9498L18.3116 19.5198C17.9966 19.7298 17.6553 19.8873 17.2878 19.9923C16.9203 20.0973 16.5416 20.1498 16.1516 20.1498C15.0266 20.1498 14.0703 19.7561 13.2828 18.9686C12.4953 18.1811 12.1016 17.2248 12.1016 16.0998C12.1016 14.9748 12.4953 14.0186 13.2828 13.2311C14.0703 12.4436 15.0266 12.0498 16.1516 12.0498C17.2766 12.0498 18.2328 12.4436 19.0203 13.2311C19.8078 14.0186 20.2016 14.9748 20.2016 16.0998C20.2016 16.4898 20.1491 16.8686 20.0441 17.2361C19.9391 17.6036 19.7816 17.9448 19.5716 18.2598L22.0016 20.6898L20.7416 21.9498Z",fill:s})]}),Rhe=W.deployment.logs,Phe=W.deployment.logWithError,Ohe=W.deployment.mdiCheckAll,v0=W.upload.blueCheck,Bhe=(e,n)=>{if(n!=="user")return e;const s=e.includes("User has recorded a test case"),r=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return s&&r?r[1].trim():e},Uhe=(e,n)=>{if(n!=="user")return{content:e,isAutoResponse:!1};const s=e.match(/<auto_response>([\s\S]*?)<\/auto_response>/);return s?{content:s[1].trim(),isAutoResponse:!0}:{content:e,isAutoResponse:!1}},Vhe=({message:e,handleRollback:n,isCloudFlow:s,searchActive:r=!1,searchHighlights:i=[],isSubagent:a=!1,isMatchingMessage:o=!1,hideImportantActions:l=!1,podIsPaused:c=!1})=>{const[u,p]=d.useState(!1),[f,m]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{o&&r&&!u&&p(!0)},[o,r,u]);const x=async()=>{try{await navigator.clipboard.writeText(e.content)}catch{}},y=P=>{const R=P.split(ku.logsIdentifier),B=P.includes("USER SHARED ASSETS WITH AGENT"),U=P.includes("Assume Default and Proceed"),H=P==="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment",$=P.includes("VISUAL_EDIT_NOTIFICATION");let q=0,Q="";if($){const V=P.split("|||");V.length>=4&&(q=parseInt(V[1])||0,Q=V[2]||"")}return R.length===3?{cleanContent:"",logs:R[1].split(`
`).filter(V=>V.trim()!==""),hasLogs:!0,hasError:R[1].toLowerCase().includes("error")||R[1].toLowerCase().includes("failed")||R[1].toLowerCase().includes("exception")||R[1].toLowerCase().includes("fatal")||R[1].toLowerCase().includes("critical"),assetShared:B,autoAnswered:U,isHealthCheck:H,isVisualEdit:$,visualEditCount:q,visualEditDetails:Q}:{cleanContent:P,logs:[],hasLogs:!1,hasError:!1,assetShared:B,autoAnswered:U,isHealthCheck:H,isVisualEdit:$,visualEditCount:q,visualEditDetails:Q}},{cleanContent:v,logs:g,hasLogs:b,hasError:w,assetShared:N,autoAnswered:j,isHealthCheck:_,isVisualEdit:C,visualEditCount:F,visualEditDetails:E}=y(e.content),{content:S,isAutoResponse:M}=Uhe(v,e.role),I=Bhe(S,e.role),D=I.split(`
`);return t.jsx("div",{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:A("relative group flex justify-center","mb-0"),ref:h,id:e.id,children:t.jsxs("div",{className:A("my-4 md:my-8 group flex flex-col space-y-[10px] w-full  md:max-w-4xl md:pl-12 justify-end items-end "),children:[t.jsx(UO,{base64Images:e.base64_image_list,artifacts:e.artifacts,artifactSharedData:e.artifact_shared_data,className:"justify-end"}),t.jsx("div",{className:A("px-4 py-1 rounded-xl rounded-br-none overflow-hidden space-y-[10px] flex items-end",e.role==="user"?"bg-[#273638] max-4-xl w-4xl":"",b||N||j||_||C||M?"hidden":""),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:t.jsx("div",{className:"flex items-start gap-3",children:t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:e.role==="user"?X0(I,!0,r,i):u||o&&r?X0(I,!1,r,i):t.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal",children:r&&i&&i.length>0?Ahe(D[0],i.filter(P=>P.startIndex<D[0].length)):D[0]})})})})}),b&&t.jsxs("div",{className:"bg-[#1E1E1F] rounded-[10px] p-3 flex max-md:w-full md:min-w-[65%]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:w?Phe:Rhe,alt:"Logs",className:"w-6 h-6"}),t.jsxs("span",{className:"max-md:text-[14px]",children:["Build ",w?"Error":""," Logs shared with agent"]})]}),t.jsxs("div",{className:"flex items-center gap-3 max-md:hidden",children:[t.jsxs("span",{className:"text-[#FFFFFF80] max-md:text-[10px]",children:[g.length," log entries"]}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF33]"}),t.jsx("img",{src:Ohe,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]}),N&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px]  md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Assets Shared with Agent"})}),t.jsx("img",{src:v0,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),j&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ug,{color:"#80FFF9",size:24}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Auto Answered"})]}),t.jsx("img",{src:v0,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),_&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Lhe,{size:24,accentColor:"#80FFF9"}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9]",children:"Running Health Check"})]}),t.jsx("img",{src:v0,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),C&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-br-[0px] md:gap-3 items-center justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),t.jsx("img",{src:v0,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]}),M&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] px-4 py-3 flex flex-col rounded-br-[0px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ug,{color:"#80FFF999",size:16}),t.jsx("span",{className:" text-[14px] text-[#80FFF999]",children:"Auto Answered"})]}),t.jsx("div",{className:"prose prose-invert max-w-none",children:X0(I,!0,r,i)})]}),t.jsxs("div",{className:A("transition-opacity duration-200 h-5 text-right","opacity-100"),children:[t.jsx("div",{className:A("inline-flex items-center gap-2 text-[#5C5F66]",f?"opacity-0 pointer-events-none absolute":"opacity-100"),children:t.jsx("span",{className:"font-['JetBrains Mono'] text-[13px]  md:text-[15px] leading-[20px]",children:y2(e.timestamp)})}),t.jsx("div",{className:"relative",children:t.jsx(HO,{isHovered:f,message:e,handleRollback:n,isCloudFlow:s||!1,onCopy:x,podIsPaused:c,className:A("inline-flex items-center gap-1",f?"opacity-100 pointer-events-auto":"opacity-0 absolute pointer-events-none"),hideImportantActions:l})})]})]})})},KO=d.memo(Vhe,(e,n)=>e.message.id===n.message.id&&e.message.artifacts===n.message.artifacts&&e.message.content===n.message.content&&e.message.timestamp===n.message.timestamp&&e.searchActive===n.searchActive&&e.isMatchingMessage===n.isMatchingMessage&&e.searchHighlights===n.searchHighlights);var Hhe="Label",YO=d.forwardRef((e,n)=>t.jsx(x$.label,{...e,ref:n,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));YO.displayName=Hhe;var ZO=YO;const $he=u2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ko=d.forwardRef(({className:e,...n},s)=>t.jsx(ZO,{ref:s,className:A($he(),e),...n}));Ko.displayName=ZO.displayName;function zhe({isOpen:e,onOpenChange:n,chatId:s}){const[r,i]=d.useState(!1),[a,o]=d.useState(!1),[l,c]=d.useState(null),[u,p]=d.useState(null),[f,m]=d.useState([]),[h,x]=d.useState(""),[y,v]=d.useState(""),[g,b]=d.useState(new Set),[w,N]=d.useState(""),[j,_]=d.useState("all"),[C,F]=d.useState(null),[E,S]=d.useState(""),[M,k]=d.useState(null),[I,D]=d.useState(""),[P,R]=d.useState(null),{toast:B}=ds();d.useEffect(()=>{e&&s&&(v(s),U(s))},[e,s]);const U=async(fe=y)=>{if(fe){i(!0),c(null);try{const Me=await yt.getChatHistory(fe),J=Me.data?Me.data:Me;p(J);let Ne=[];typeof J.chat_history=="string"?Ne=JSON.parse(J.chat_history):Ne=J.chat_history,m(Ne),x(JSON.stringify(Ne,null,2))}catch(Me){c(Me.message||"Failed to fetch chat history")}finally{i(!1)}}},H=async()=>{if(y){o(!0),c(null);try{const fe=typeof u.chat_history=="string"?JSON.stringify(f):f,Me=await yt.updateChatHistory(y,{chat_history:fe}),J=Me.data?Me.data:Me;p(J),B({title:"Success",description:"Chat history updated successfully"}),n(!1)}catch(fe){c(fe.message||"Failed to update chat history"),B({title:"Error",description:fe.message||"Failed to update chat history",variant:"destructive"})}finally{o(!1)}}},$=fe=>{const Me=new Set(g);Me.has(fe)?Me.delete(fe):Me.add(fe),b(Me)},q=fe=>{const Me=f.filter((J,Ne)=>Ne!==fe);m(Me),x(JSON.stringify(Me,null,2))},Q=fe=>{const J=f[fe].content.find(Ne=>Ne.type==="text")?.text||"";F(fe),S(J)},V=()=>{if(C===null)return;const fe=[...f],Me={...fe[C]};Me.content=[...Me.content];const J=Me.content.findIndex(Ne=>Ne.type==="text");J!==-1?Me.content[J]={...Me.content[J],text:E}:Me.content.push({type:"text",text:E}),fe[C]=Me,m(fe),x(JSON.stringify(fe,null,2)),F(null),S(""),B({title:"Success",description:"Message updated (remember to save changes)"})},ee=()=>{F(null),S("")},X=(fe,Me)=>{const Ne=f[fe].tool_calls?.[Me];Ne&&(k({messageIndex:fe,toolIndex:Me}),D(JSON.stringify(Ne,null,2)))},ae=()=>{if(M)try{const fe=JSON.parse(I),Me=[...f],J={...Me[M.messageIndex]};J.tool_calls&&(J.tool_calls=[...J.tool_calls],J.tool_calls[M.toolIndex]=fe),Me[M.messageIndex]=J,m(Me),x(JSON.stringify(Me,null,2)),k(null),D(""),B({title:"Success",description:"Tool call updated (remember to save changes)"})}catch{B({title:"Error",description:"Invalid JSON format",variant:"destructive"})}},me=()=>{k(null),D("")},oe=async fe=>{try{await navigator.clipboard.writeText(fe),R(fe),setTimeout(()=>R(null),2e3),B({title:"Copied",description:"Request ID copied to clipboard"})}catch{B({title:"Error",description:"Failed to copy request ID",variant:"destructive"})}},pe=async()=>{try{const fe=JSON.stringify(f,null,2);await navigator.clipboard.writeText(fe),B({title:"Copied",description:"Full chat history JSON copied to clipboard"})}catch{B({title:"Error",description:"Failed to copy JSON",variant:"destructive"})}},se=fe=>{const Me=fe.content.find(J=>J.type==="text")?.text||"";return Me.slice(0,100)+(Me.length>100?"...":"")},re=fe=>{switch(fe){case"system":return t.jsx(Bae,{className:"w-4 h-4"});case"user":return t.jsx(Gae,{className:"w-4 h-4"});case"assistant":return t.jsx(yae,{className:"w-4 h-4"});default:return null}},ve=fe=>{switch(fe){case"system":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";case"user":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";case"assistant":return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]";default:return"bg-[#FFFFFF08] text-[#B7BFCC] border-[#FFFFFF12]"}},we=f.filter(fe=>{const Me=j==="all"||fe.role===j,J=fe.content.find(ge=>ge.type==="text")?.text||"",Ne=w===""||J.toLowerCase().includes(w.toLowerCase());return Me&&Ne}),be=fe=>{v(fe.target.value)},Ue=()=>{y&&U(y)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"sm:max-w-[90vw] h-[90vh] overflow-hidden flex flex-col p-6",children:[t.jsx(Al,{className:"pb-4",children:t.jsx(uo,{children:"Edit Chat History"})}),t.jsxs("div",{className:"mb-4 space-y-3 px-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(Ko,{htmlFor:"chat-id",className:"text-sm font-medium",children:"Chat ID"}),t.jsx(Ni,{id:"chat-id",value:y,onChange:be,className:"font-mono text-sm"})]}),t.jsx("div",{className:"pt-6",children:t.jsx(Vt,{onClick:Ue,variant:"default",size:"sm",disabled:r||!y,children:r?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):"Fetch"})})]}),f.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx(Ni,{placeholder:"Search messages...",value:w,onChange:fe=>N(fe.target.value),className:"pl-10"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:j,onChange:fe=>_(fe.target.value),className:"pl-4 pr-10 py-2 bg-[#FFFFFF08] border border-[#FFFFFF12] rounded-md text-sm text-[#B7BFCC] min-w-[130px] appearance-none cursor-pointer w-full",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"system",children:"System"}),t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"assistant",children:"Assistant"})]}),t.jsx(Dr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[#737780] pointer-events-none"})]}),t.jsxs(Vt,{size:"sm",variant:"outline",onClick:pe,className:"h-9 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC] whitespace-nowrap",children:[t.jsx(bo,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-2",children:"Copy JSON"})]}),t.jsxs("div",{className:"text-sm text-[#737780] whitespace-nowrap min-w-[90px] text-right",children:[we.length," of ",f.length]})]})]}),t.jsx("div",{className:"flex-1 overflow-hidden",children:r?t.jsxs("div",{className:"flex items-center justify-center h-64",children:[t.jsx(ln,{className:"w-8 h-8 animate-spin text-primary"}),t.jsx("span",{className:"ml-2",children:"Loading chat history..."})]}):l?t.jsx("div",{className:"p-4 text-red-500 rounded-md bg-red-500/10",children:l}):u?t.jsx("div",{className:"flex flex-col h-full",children:t.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-2",children:we.length===0?t.jsx("div",{className:"text-center text-gray-400 py-8",children:"No messages found"}):we.map((fe,Me)=>{const J=f.indexOf(fe),Ne=g.has(J),ge=C===J,Ee=fe.content.find(Ce=>Ce.type==="text")?.text||"";return t.jsxs("div",{className:A("border rounded-lg overflow-hidden transition-all",ve(fe.role)),children:[t.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-[#FFFFFF08]",onClick:()=>$(J),children:[t.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[re(fe.role),t.jsx("span",{className:"font-semibold capitalize text-[#B7BFCC]",children:fe.role})]}),t.jsxs("span",{className:"text-xs text-[#737780]",children:["#",J+1]}),!Ne&&t.jsx("span",{className:"text-sm text-[#737780] truncate flex-1",children:se(fe)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{size:"sm",variant:"ghost",onClick:Ce=>{Ce.stopPropagation(),q(J)},className:"h-8 w-8 p-0 hover:bg-[#FFFFFF08] text-[#737780] hover:text-red-400",children:t.jsx(t8,{className:"w-4 h-4"})}),Ne?t.jsx(c2,{className:"w-4 h-4 text-[#737780]"}):t.jsx(Dr,{className:"w-4 h-4 text-[#737780]"})]})]}),Ne&&t.jsx("div",{className:"p-3 border-t border-white/10 space-y-3",onClick:Ce=>Ce.stopPropagation(),children:ge?t.jsxs("div",{className:"space-y-2",children:[t.jsx("textarea",{value:E,onChange:Ce=>S(Ce.target.value),className:"w-full h-64 p-3 bg-[#131314] border border-[#FFFFFF12] rounded-md text-sm font-mono text-[#B7BFCC] focus:outline-none focus:ring-1 focus:ring-[#FFFFFF20]",spellCheck:"false",onClick:Ce=>Ce.stopPropagation()}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(Vt,{size:"sm",variant:"outline",onClick:ee,className:"border-[#FFFFFF20] bg-[#FFFFFF08] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(Vt,{size:"sm",onClick:V,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:"Save"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-[#131314] p-3 rounded-md max-h-96 overflow-auto border border-[#FFFFFF12]",children:t.jsx("pre",{className:"text-sm whitespace-pre-wrap break-words text-[#B7BFCC]",children:Ee})}),fe.tool_calls&&fe.tool_calls.length>0&&t.jsx("div",{className:"space-y-3",children:fe.tool_calls.map((Ce,Ie)=>{const Ae=M?.messageIndex===J&&M?.toolIndex===Ie,Se=Ce.function?.name||Ce.name||"Unknown Tool",ht=Ce.function?.arguments||Ce.arguments;return t.jsx("div",{className:"bg-[#131314] rounded-md border border-[#FFFFFF12]",children:Ae?t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsx("div",{className:"text-xs text-[#737780] font-semibold mb-2",children:"Edit Tool Call (Full JSON)"}),t.jsx("textarea",{value:I,onChange:Qe=>D(Qe.target.value),className:"w-full h-64 p-3 bg-[#0A0A0A] border border-[#FFFFFF12] rounded-md text-xs font-mono text-[#B7BFCC] focus:outline-none focus:ring-1 focus:ring-[#FFFFFF20]",spellCheck:"false",onClick:Qe=>Qe.stopPropagation()}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx(Vt,{size:"sm",variant:"outline",onClick:me,className:"border-[#FFFFFF20] bg-[#FFFFFF08] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(Vt,{size:"sm",onClick:ae,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:"Save"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-[#FFFFFF12]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm font-semibold text-[#B7BFCC]",children:Se}),t.jsxs("span",{className:"text-xs text-[#737780]",children:["#",Ce.index!==void 0?Ce.index:Ie]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[Ce.id&&t.jsx("span",{className:"text-xs text-[#737780] font-mono",children:Ce.id.slice(0,16)}),t.jsx(Vt,{size:"sm",variant:"outline",onClick:Qe=>{Qe.stopPropagation(),X(J,Ie)},className:"h-7 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Edit"})]})]}),ht&&t.jsx("div",{className:"p-3",children:t.jsx("pre",{className:"text-xs text-[#B7BFCC] bg-[#0A0A0A] p-3 rounded overflow-auto max-h-60 whitespace-pre-wrap break-words",children:typeof ht=="string"?(()=>{try{return JSON.stringify(JSON.parse(ht),null,2)}catch{return ht}})():JSON.stringify(ht,null,2)})})]})},Ce.id||Ie)})}),t.jsxs("div",{className:"flex justify-between items-center text-xs text-[#737780] mt-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[fe.request_id&&t.jsxs("button",{onClick:()=>oe(fe.request_id),className:"flex items-center gap-1 hover:text-[#B7BFCC] transition-colors",title:"Click to copy full request ID",children:[t.jsxs("span",{children:["Request: ",fe.request_id.slice(0,8),"..."]}),P===fe.request_id?t.jsx(Mn,{className:"w-3 h-3 text-green-400"}):t.jsx(bo,{className:"w-3 h-3"})]}),fe.iteration_number!==void 0&&t.jsxs("span",{children:["Iteration: ",fe.iteration_number]}),fe.thinking_blocks&&t.jsxs("span",{children:["Thinking: ",fe.thinking_blocks.length," blocks"]}),fe.tool_calls&&t.jsxs("span",{children:["Tools: ",fe.tool_calls.length," calls"]})]}),t.jsx(Vt,{size:"sm",variant:"outline",onClick:()=>Q(J),className:"h-7 bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Edit"})]})]})})]},J)})})}):t.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"No chat history available"})}),t.jsxs(Sc,{className:"pt-4 px-1 gap-3",children:[t.jsx(Vt,{onClick:()=>n(!1),variant:"outline",disabled:a,className:"bg-[#FFFFFF08] border-[#FFFFFF12] hover:bg-[#FFFFFF12] text-[#B7BFCC]",children:"Cancel"}),t.jsx(Vt,{onClick:H,disabled:r||a||!u,className:"bg-[#FFFFFF20] hover:bg-[#FFFFFF30] text-white border border-[#FFFFFF30]",children:a?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}const j2=({jobId:e,tabId:n,silent:s=!1,pollingInterval:r=1e4,enabled:i=!0,onDeploymentSuccess:a})=>{const o=Xi(),{getCurrentOrganizationId:l}=ys(),{setTabs:c,state:{activeTab:u,tabs:p}}=qr(),[f,m]=d.useState([]),[h,x]=d.useState(null),y=d.useRef(null),v=d.useRef(!1),g=d.useRef(null),b=d.useRef(a);d.useEffect(()=>{b.current=a},[a]);const w=Vr(De=>Dq(De,n)),N=Vr(zg),j=d.useRef(w);d.useEffect(()=>{j.current=w},[w]);const _=l(),C=()=>{for(let De=0;De<p.length;++De)if(p[De].id===n){!p[De]?.tabHeading&&F?.app_name&&c(de=>de.map(ue=>ue.id===n?{...ue,tabHeading:F.app_name||ue.tabHeading}:ue));return}},{data:F,error:E,isLoading:S,isError:M,refetch:k}=LD({jobId:e,silent:s,organization_id:_},{skip:!i||!e,pollingInterval:i&&e&&(w?.deployStatus==="running"||w?.latestRunStatus==="running")?r:0,refetchOnMountOrArgChange:!0}),I=d.useRef(F);d.useEffect(()=>{I.current=F},[F]),C();const[D,{isLoading:P,error:R}]=hQ(),[B]=RD(),[U]=PD(),[H]=OD(),[$]=BD(),[q]=xQ(),[Q]=yQ(),[V]=vQ(),[ee]=gQ(),{data:X,refetch:ae}=wQ({jobId:e,organization_id:_},{skip:!i||!e}),[me]=CQ(),oe=i&&e&&w?.deployStatus&&w.deployStatus!=="not_deployed"&&w.deployStatus!=="loading"&&w.latestRunStatus!=="running",{data:pe}=bQ({jobId:e,organization_id:_},{skip:!oe,refetchOnMountOrArgChange:!0});d.useEffect(()=>{if(!F||!e)return;let De=F.status;F.latest_run&&F.latest_run.status==="running"?De="running":F.latest_run&&F.latest_run.status&&F.status==="success"&&(F.latest_run.status==="pending"?De="loading":De=F.latest_run.status);let de=-1;if(F.latest_run&&F.latest_run.steps&&Array.isArray(F.latest_run.steps))if(F.status==="running"&&F.latest_run.steps.every(mt=>mt.status==="pending"))de=0;else{const mt=F.latest_run.steps.findIndex(ut=>ut.status==="running");if(mt!==-1)de=mt;else{for(let ut=0;ut<F.latest_run.steps.length-1;ut++)if(F.latest_run.steps[ut].status==="success"&&F.latest_run.steps[ut+1].status==="pending"){de=ut+1;break}if(de===-1){const ut=F.latest_run.steps.findIndex(wn=>wn.status==="pending");ut!==-1?de=ut:F.status==="success"&&(de=F.latest_run.steps.length-1)}}}let ue=null,lt="";if(F.custom_domain&&F.custom_domain.domain!==""&&F.custom_domain.status&&F.custom_domain.dns_records&&(ue={domain:F.custom_domain.domain,status:F.custom_domain.status,dns_records:Array.isArray(F.custom_domain.dns_records)?F.custom_domain.dns_records:[F.custom_domain.dns_records],current_ips:F.custom_domain.current_ips},F.custom_domain.status==="verified")){const mt=F.custom_domain.domain;lt=mt.startsWith("http")?mt:`https://${mt}`}const st={deployStatus:De,latestRunStatus:F.latest_run?.status||null,loading:S,deploymentSteps:F.latest_run?.steps||w?.deploymentSteps||[],currentStepIndex:de,deployUrl:F.deploy_url||w?.deployUrl||"",customDomainUrl:lt,customDomain:ue,runId:F.latest_run&&F.latest_run.run_id&&F.latest_run.status==="success"?F.latest_run.run_id:F.deployed_run_id||w?.runId||"",errorMessage:null};o(Yr({tabId:n,deployState:st}))},[F,e,n,o,w?.deploymentSteps,w?.deployUrl,w?.runId,S]),d.useEffect(()=>{if(!pe||!e)return;const De=pe.runs||[];o(Yr({tabId:n,deployState:{deploymentHistory:De}}))},[pe,e,n,o]),d.useEffect(()=>{!e||!i||(w?.deployStatus==="running"||w?.latestRunStatus==="running"?k():(w?.deployStatus==="success"||w?.deployStatus==="failed")&&k().then(()=>{const De=j.current,de=I.current;if(De?.deployStatus==="success"){const ue=De?.runId;if(b.current&&ue&&y.current!==ue&&v.current===!0){y.current=ue,v.current=!1;const lt=De?.deployUrl||"",st=De?.customDomain?.domain,mt=de?.app_name;z("deployment_success_modal_shown",{deployUrl:lt,customDomain:st,appName:mt}),b.current(lt,st,mt)}ue&&g.current!==ue&&(g.current=ue,E_({jobId:e,status:"success"}))}if(De?.deployStatus==="failed"){v.current=!1;const ue=De?.runId;ue&&g.current!==ue&&(g.current=ue,E_({jobId:e,status:"failed"}))}}).catch(De=>{}))},[w?.deployStatus,w?.latestRunStatus,e,i,k]),d.useEffect(()=>{if(M&&E&&!s){let De="Failed to get deployment status";if("data"in E){const de=E.data;de?.detail?De=de.detail:de?.message?De=de.message:de?.error&&(De=de.error)}else"message"in E&&E.message&&(De=E.message);De.includes("Rate limited")||o(Yr({tabId:n,deployState:{errorMessage:De,loading:!1}}))}},[M,E,s,n,o]),d.useEffect(()=>{N===n&&h!==n&&i&&e&&(k(),ae&&ae()),x(N)},[N,n,h,i,e,k,ae]);const se=d.useCallback(()=>{o(Yr({tabId:n,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{},liveLogs:{app_id:"",app_name:"",live_logs:[]}}}))},[n,o]),re=d.useCallback(async De=>{if(!De.jobId){$s({title:"Deploy Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}w?.deployStatus==="not_deployed"&&(v.current=!0);try{o(Yr({tabId:n,deployState:{loading:!0,errorMessage:null}}));const de={jobId:De.jobId,image:De.image,deployment_id:De.deployment_id,acknowledgements:De.acknowledgements,db_mode:De.db_mode,organization_id:_,tier:De.tier};await D(de).unwrap(),o(Yr({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),$s({title:"Deployment Started",description:"Your application deployment has been initiated successfully.",variant:"default",duration:3e3})}catch(de){const ue=de?.error||"Failed to deploy application",lt=w?.deployStatus,st=lt==="success"||lt==="failed";throw o(Yr({tabId:n,deployState:{deployStatus:st?lt:"not_deployed",latestRunStatus:st?w?.latestRunStatus:null,loading:!1,errorMessage:ue}})),$s({title:"Deployment Error",description:ue,variant:"destructive",duration:5e3}),de}},[D,n,o,_,w?.deployStatus,w?.latestRunStatus]),ve=d.useCallback(async(De,de)=>{try{return await B({domain:De,jobId:de,organization_id:_}).unwrap()}catch(ue){throw ue}},[B,_]),we=d.useCallback(async(De,de)=>{try{return await U({domain:De,jobId:de,organization_id:_}).unwrap()}catch(ue){throw ue}},[U,_]),be=d.useCallback(async(De,de)=>{try{return await H({domain:De,jobId:de,organization_id:_}).unwrap()}catch(ue){throw ue}},[H,_]),Ue=d.useCallback(async(De,de)=>{try{return await $({domain:De,jobId:de,organization_id:_}).unwrap()}catch(ue){throw ue}},[$,_]),fe=d.useCallback(async De=>{if(!De)throw new Error("No job ID provided");try{const de=await Q({jobId:De,organization_id:_}).unwrap();return o(Yr({tabId:n,deployState:{deployLogs:de}})),de}catch(de){throw de}},[Q,n,o,_]),Me=d.useCallback(async De=>{if(!De.app&&!De.app_id)throw new Error("Either app slug or app_id must be provided");try{const de=await V(De).unwrap();return o(Yr({tabId:n,deployState:{liveLogs:de}})),de}catch(de){throw de}},[V,n,o]),J=d.useCallback(async De=>{if(!e){$s({title:"Rollback Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}const de=w?.deploymentHistory?.find(ue=>ue.run_id===De||ue.id===De);if(!de){$s({title:"Rollback Error",description:"Target deployment not found",variant:"destructive",duration:2e3});return}try{if(w?.deployStatus==="running"||w?.latestRunStatus==="running"){$s({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3});return}$s({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3}),o(Yr({tabId:n,deployState:{loading:!0,errorMessage:null}})),await D({jobId:e,image:de.run_id,deployment_id:de.run_id,acknowledgements:"rollback",db_mode:!0,organization_id:_}).unwrap(),o(Yr({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),$s({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(ue){let lt="Failed to rollback deployment";throw ue?.message?lt=ue.message:ue?.data?.detail?lt=ue.data.detail:ue?.data?.message&&(lt=ue.data.message),lt.includes("deploy in progress")?$s({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):$s({title:"Rollback Failed",description:lt,variant:"destructive",duration:3e3}),o(Yr({tabId:n,deployState:{loading:!1,errorMessage:lt}})),ue}},[D,n,o,e,w?.deploymentHistory,w?.deployStatus,w?.latestRunStatus,_]),Ne=d.useCallback(async(De,de)=>{try{o(Yr({tabId:n,deployState:{loading:!0,errorMessage:null}})),await q({jobId:De,image:de,organization_id:_}).unwrap(),o(Yr({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),$s({title:"Rollback Initiated",description:"Your rollback has been initiated and will be completed shortly.",duration:3e3})}catch(ue){let lt="Failed to rollback deployment";throw ue?.message?lt=ue.message:ue?.data?.detail?lt=ue.data.detail:ue?.data?.message&&(lt=ue.data.message),lt.includes("deploy in progress")?$s({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before rolling back.",variant:"destructive",duration:3e3}):$s({title:"Rollback Failed",description:lt,variant:"destructive",duration:3e3}),o(Yr({tabId:n,deployState:{loading:!1,errorMessage:lt}})),ue}},[q,n,o,_]),ge=d.useCallback(async()=>{if(!e){$s({title:"Shutdown Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}try{$s({title:"Shutting down...",description:"Please wait while we shut down your deployment.",duration:2e3}),o(Yr({tabId:n,deployState:{loading:!0,errorMessage:null}})),await ee({jobId:e,organization_id:_}).unwrap(),o(Yr({tabId:n,deployState:{deployStatus:"not_deployed",latestRunStatus:null,loading:!1,deploymentSteps:[],currentStepIndex:-1,deployUrl:"",customDomainUrl:"",runId:"",errorMessage:null,customDomain:null,deployLogs:{},liveLogs:{app_id:"",app_name:"",live_logs:[]},deploymentHistory:[]}})),$s({title:"Deployment Shut Down",description:"Your deployment has been successfully shut down.",duration:3e3})}catch(De){let de="Failed to shut down deployment";throw De?.message?de=De.message:De?.data?.detail?de=De.data.detail:De?.data?.message&&(de=De.data.message),o(Yr({tabId:n,deployState:{loading:!1,errorMessage:de}})),$s({title:"Shutdown Failed",description:de,variant:"destructive",duration:3e3}),De}},[ee,n,o,e,_]),Ee=d.useCallback(async(De,de)=>{if(!e){$s({title:"Replace Deployment Error",description:"No job ID provided",variant:"destructive",duration:2e3});return}try{if(w?.deployStatus==="running"||w?.latestRunStatus==="running"){$s({title:"Deployment in Progress",description:"You can only have one deployment in progress at a time. Please wait for the current deployment to complete before replacing.",variant:"destructive",duration:3e3});return}$s({title:"Replacing deployment...",description:"Please wait while we replace your deployment.",duration:2e3}),o(Yr({tabId:n,deployState:{loading:!0,errorMessage:null}})),G0({jobId:e,deploymentType:"replace"}),await D({jobId:e,deployment_id:De,db_mode:de,acknowledgements:"replacement",organization_id:_}).unwrap(),o(Yr({tabId:n,deployState:{deployStatus:"running",latestRunStatus:"running",loading:!1,deploymentSteps:[],currentStepIndex:-1,errorMessage:null}})),$s({title:"Replacement Initiated",description:"Your deployment replacement has been initiated successfully.",duration:3e3})}catch(ue){let lt=ue?.error||"Failed to replace deployment";throw $s({title:"Replacement Failed",description:lt,variant:"destructive",duration:3e3}),o(Yr({tabId:n,deployState:{loading:!1,errorMessage:lt}})),ue}},[D,n,o,e,w?.deployStatus,w?.latestRunStatus,_]),Ce=d.useCallback(De=>De?.envs_with_version?Object.entries(De.envs_with_version).map(([de,ue],lt)=>{const st=ue;return{id:`env-${lt}`,key:de,value:st.value,originalValue:st.value,version:st.version||0}}):De?.envs?Object.entries(De.envs).map(([de,ue],lt)=>{if(typeof ue=="string")return{id:`env-${lt}`,key:de,value:ue,originalValue:ue,version:0};if(typeof ue=="object"&&ue!==null&&"value"in ue){const st=ue;return{id:`env-${lt}`,key:de,value:st.value,originalValue:st.value,version:st.version||0}}else return{id:`env-${lt}`,key:de,value:String(ue),originalValue:String(ue),version:0}}):[],[]),Ie=d.useCallback(async()=>{if(!e)return[];try{const De=await ae();if(De.data){const de=Ce(De.data);return m(de),de}return[]}catch{return[]}},[e,ae,Ce]),Ae=d.useCallback(async De=>{if(!e)return null;try{const de=await ae();if(!de.data)throw new Error("Failed to fetch latest environment variables");const ue=Ce(de.data),lt=De.map(mt=>{const ut=ue.find(Oe=>Oe.key===mt.key),wn=ut?ut.version:0;return{...mt,version:wn}}),st=await me({jobId:e,envs:lt,organization_id:_});if(st.data!==void 0||!st.error){const mt=lt.map(ut=>({...ut,originalValue:ut.value}));return m(mt),st.data||{success:!0}}else throw new Error("Environment variables update failed")}catch(de){throw de}},[e,me,ae,Ce,_]),Se=d.useCallback(De=>{m(De)},[]),ht=Ce(X),Qe=f.length>0?f:ht;return{isLoading:S,isError:M,error:E,deployStatus:w?.deployStatus||"not_deployed",latestRunStatus:w?.latestRunStatus||null,deploymentSteps:w?.deploymentSteps||[],deploymentHistory:w?.deploymentHistory||[],currentStepIndex:w?.currentStepIndex||-1,deployUrl:w?.deployUrl||"",customDomainUrl:w?.customDomainUrl||"",runId:w?.runId||"",errorMessage:w?.errorMessage||null,customDomain:w?.customDomain||null,deployLogs:w?.deployLogs||{},liveLogs:w?.liveLogs||{app_id:"",app_name:"",live_logs:[]},data:F,refetch:k,resetDeployState:se,deployApp:re,registerDomain:ve,verifyDomain:we,connectDomain:be,unlinkDomain:Ue,loadDeployLogs:fe,loadLiveLogs:Me,rollbackToDeployment:J,rollbackWithApi:Ne,shutdownDeployment:ge,replaceDeployment:Ee,envs:Qe,loadEnvironmentVariables:Ie,updateEnvironmentVariables:Ae,saveEnvironmentVariables:Se,isDeploying:P,deployError:R}},JO=({width:e=16,height:n=16,stroke:s="#66C2FF",strokeWidth:r=2.66667,strokeLinecap:i="round",strokeLinejoin:a="round",className:o,style:l,onClick:c,"aria-label":u="Double check icon",focusable:p=!1,viewBox:f="0 0 16 16",...m})=>t.jsx("svg",{width:e,height:n,viewBox:f,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,"aria-label":u,focusable:p,...m,children:t.jsx("path",{d:"M1.33337 7.99998L4.00004 10.6666L9.33337 5.33331M9.33337 10.6666L14.6667 5.33331",stroke:s,strokeWidth:r,strokeLinecap:i,strokeLinejoin:a})}),k8=({color:e="#1F1F1F",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 11",fill:"none",className:s,style:r,onClick:i,children:t.jsx("path",{d:"M0 10.5234C0.125 9.03733 0.579861 7.66927 1.36458 6.41927C2.14931 5.16927 3.19444 4.17622 4.5 3.4401L2.95833 0.773438C2.875 0.648438 2.85417 0.516493 2.89583 0.377604C2.9375 0.238715 3.02778 0.134549 3.16667 0.0651042C3.27778 -0.00434028 3.40278 -0.0182292 3.54167 0.0234375C3.68056 0.0651042 3.79167 0.148437 3.875 0.273438L5.41667 2.9401C6.61111 2.4401 7.86111 2.1901 9.16667 2.1901C10.4722 2.1901 11.7222 2.4401 12.9167 2.9401L14.4583 0.273438C14.5417 0.148437 14.6528 0.0651042 14.7917 0.0234375C14.9306 -0.0182292 15.0556 -0.00434028 15.1667 0.0651042C15.3056 0.134549 15.3958 0.238715 15.4375 0.377604C15.4792 0.516493 15.4583 0.648438 15.375 0.773438L13.8333 3.4401C15.1389 4.17622 16.184 5.16927 16.9688 6.41927C17.7535 7.66927 18.2083 9.03733 18.3333 10.5234H0ZM5 8.23177C5.29167 8.23177 5.5382 8.13108 5.73958 7.92969C5.94097 7.7283 6.04167 7.48177 6.04167 7.1901C6.04167 6.89844 5.94097 6.65191 5.73958 6.45052C5.5382 6.24913 5.29167 6.14844 5 6.14844C4.70833 6.14844 4.46181 6.24913 4.26042 6.45052C4.05903 6.65191 3.95833 6.89844 3.95833 7.1901C3.95833 7.48177 4.05903 7.7283 4.26042 7.92969C4.46181 8.13108 4.70833 8.23177 5 8.23177ZM13.3333 8.23177C13.625 8.23177 13.8715 8.13108 14.0729 7.92969C14.2743 7.7283 14.375 7.48177 14.375 7.1901C14.375 6.89844 14.2743 6.65191 14.0729 6.45052C13.8715 6.24913 13.625 6.14844 13.3333 6.14844C13.0417 6.14844 12.7951 6.24913 12.5938 6.45052C12.3924 6.65191 12.2917 6.89844 12.2917 7.1901C12.2917 7.48177 12.3924 7.7283 12.5938 7.92969C12.7951 8.13108 13.0417 8.23177 13.3333 8.23177Z",fill:a})})},N2=({color:e="#1F1F1F",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:s,style:r,onClick:i,children:[t.jsx("path",{d:"M14.5482 10.5303C14.5648 9.23168 15.2454 8.0324 16.3516 7.35255C15.6509 6.35118 14.5183 5.73939 13.2968 5.7012C12.0114 5.56648 10.7656 6.46993 10.1108 6.46993C9.44341 6.46993 8.43509 5.71439 7.349 5.73661C5.92056 5.78314 4.62058 6.57548 3.92546 7.82477C2.44563 10.3872 3.54908 14.1538 4.96711 16.2253C5.67681 17.2399 6.50527 18.3725 7.59067 18.3329C8.65245 18.2891 9.04897 17.6558 10.3302 17.6558C11.5996 17.6558 11.9718 18.3329 13.0788 18.3072C14.2176 18.2885 14.9357 17.2885 15.6204 16.2642C16.1301 15.5413 16.5224 14.7427 16.7822 13.8976C15.4294 13.3254 14.5496 11.9997 14.5482 10.5303Z",fill:a}),t.jsx("path",{d:"M12.4559 4.33798C13.0767 3.59216 13.383 2.63385 13.3087 1.6665C12.3601 1.7665 11.483 2.21997 10.8539 2.93662C10.2323 3.64424 9.91707 4.56923 9.97818 5.50948C10.94 5.51921 11.8531 5.08727 12.4559 4.33798Z",fill:a})]})},Whe=({className:e=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsx("mask",{id:"mask0_android",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_android)",children:t.jsx("path",{d:"M0.996094 18.0002C1.14609 16.2169 1.69193 14.5752 2.63359 13.0752C3.57526 11.5752 4.82943 10.3835 6.39609 9.5002L4.54609 6.3002C4.44609 6.1502 4.42109 5.99186 4.47109 5.8252C4.52109 5.65853 4.62943 5.53353 4.79609 5.4502C4.92943 5.36686 5.07943 5.3502 5.24609 5.4002C5.41276 5.4502 5.54609 5.5502 5.64609 5.7002L7.49609 8.9002C8.92943 8.3002 10.4294 8.0002 11.9961 8.0002C13.5628 8.0002 15.0628 8.3002 16.4961 8.9002L18.3461 5.7002C18.4461 5.5502 18.5794 5.4502 18.7461 5.4002C18.9128 5.3502 19.0628 5.36686 19.1961 5.4502C19.3628 5.53353 19.4711 5.65853 19.5211 5.8252C19.5711 5.99186 19.5461 6.1502 19.4461 6.3002L17.5961 9.5002C19.1628 10.3835 20.4169 11.5752 21.3586 13.0752C22.3003 14.5752 22.8461 16.2169 22.9961 18.0002H0.996094ZM6.99609 15.2502C7.34609 15.2502 7.64193 15.1294 7.88359 14.8877C8.12526 14.646 8.24609 14.3502 8.24609 14.0002C8.24609 13.6502 8.12526 13.3544 7.88359 13.1127C7.64193 12.871 7.34609 12.7502 6.99609 12.7502C6.64609 12.7502 6.35026 12.871 6.10859 13.1127C5.86693 13.3544 5.74609 13.6502 5.74609 14.0002C5.74609 14.3502 5.86693 14.646 6.10859 14.8877C6.35026 15.1294 6.64609 15.2502 6.99609 15.2502ZM16.9961 15.2502C17.3461 15.2502 17.6419 15.1294 17.8836 14.8877C18.1253 14.646 18.2461 14.3502 18.2461 14.0002C18.2461 13.6502 18.1253 13.3544 17.8836 13.1127C17.6419 12.871 17.3461 12.7502 16.9961 12.7502C16.6461 12.7502 16.3503 12.871 16.1086 13.1127C15.8669 13.3544 15.7461 13.6502 15.7461 14.0002C15.7461 14.3502 15.8669 14.646 16.1086 14.8877C16.3503 15.1294 16.6461 15.2502 16.9961 15.2502Z",fill:"#3DDB85"})})]}),Ghe=({className:e=""})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsxs("g",{clipPath:"url(#clip0_ios)",children:[t.jsx("path",{d:"M15.6267 0C18.0267 0 19.2267 0 20.5333 0.4C21.9467 0.906667 23.0667 2.02667 23.5733 3.44C24 4.74667 24 5.97333 24 8.37333V15.6267C24 18.0267 24 19.2267 23.6 20.5333C23.0933 21.9467 21.9733 23.0667 20.56 23.5733C19.2267 24 18.0267 24 15.6267 24H8.37333C5.97333 24 4.77333 24 3.46667 23.6C2.02667 23.0667 0.933333 21.9733 0.4 20.5333C0 19.2533 0 18.0533 0 15.6267V8.37333C0 5.97333 0 4.77333 0.4 3.46667C0.933333 2.05333 2.02667 0.933333 3.46667 0.426667C4.74667 0 5.94667 0 8.37333 0H15.6267Z",fill:"url(#paint0_ios)"}),t.jsx("path",{d:"M5.41305 16.8799C5.43972 16.8265 5.49305 16.7999 5.54639 16.7732C5.75972 16.7199 5.97305 16.6665 6.18639 16.6665C6.77305 16.6665 7.30639 16.8799 7.73305 17.2532C7.78639 17.3065 7.78639 17.3865 7.75972 17.4399L6.66639 19.3065C6.45305 19.6799 6.05305 19.8932 5.65305 19.8932C5.41305 19.8932 5.17305 19.8132 4.95972 19.6532C4.47972 19.3065 4.37305 18.6132 4.66639 18.1065L5.41305 16.8799ZM19.6264 14.0265C20.2397 14.0265 20.7731 14.4799 20.8264 15.0665C20.8797 15.7599 20.3464 16.3465 19.6797 16.3465H18.2664L19.3064 18.1332C19.5997 18.6399 19.4931 19.3332 19.0131 19.6799C18.7997 19.8399 18.5597 19.9199 18.3197 19.9199C17.9197 19.9199 17.5197 19.7065 17.3064 19.3332L14.7997 14.9865L12.8264 11.5732C12.7997 11.5465 12.7997 11.5199 12.7997 11.4665C12.7997 11.3332 12.7731 11.1999 12.7731 11.0665C12.7731 10.1332 12.9864 9.19986 13.4131 8.4532C13.4664 8.3732 13.5997 8.3732 13.6531 8.4532L16.9064 13.9999H19.6264V14.0265ZM13.4931 14.0799C14.0797 14.4265 14.4531 15.0932 14.4531 15.8399C14.4531 15.9999 14.4264 16.1332 14.3997 16.2932C14.3997 16.3199 14.3464 16.3465 14.3197 16.3465H4.37305C3.70639 16.3465 3.14639 15.7599 3.22639 15.0665C3.27972 14.4532 3.81305 14.0265 4.42639 14.0265H7.06639L10.6664 7.83986L9.67972 6.15986C9.33305 5.5732 9.57305 4.79986 10.2131 4.5332C10.7731 4.2932 11.4131 4.5332 11.7331 5.03986L12.0264 5.54653L12.3464 5.0132C12.6931 4.42653 13.4664 4.23986 14.0264 4.63986C14.5331 4.98653 14.6397 5.67986 14.3197 6.2132L9.73305 14.0265H13.3064C13.3864 14.0265 13.4397 14.0532 13.4931 14.0799Z",fill:"white"})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_ios",x1:"11.9947",y1:"0.0106667",x2:"11.9947",y2:"23.9947",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"#19E6FF"}),t.jsx("stop",{offset:"1",stopColor:"#1E51EE"})]}),t.jsx("clipPath",{id:"clip0_ios",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})]})]}),qhe=W.icons.code,Khe=W.icons.info,Yhe=W.icons.preview,Zhe=W.icons.history,Jhe=W.icons.animatedSpinner,Xhe=W.icons.deployCloud,Qhe=W.icons.redeploy,XO=d.memo(({handleVSCodeLink:e,handlePreviewClick:n,handleInfoClick:s,handleDeployClick:r,onPublish:i,showActions:a,hideImportantActions:o,jobId:l,tabId:c,podIsPaused:u=!1,enableDeploy:p=!0,publishConfig:f={},previewUrl:m,buildMode:h,isShowcaseRemix:x,isExpoImage:y=!1})=>{const{enablePublish:v=!1,isPublishing:g=!1,isPublished:b=!1}=f,[w,N]=d.useState(!1),{openModal:j}=Ds(),_=Xo(),{getTabByJobId:C}=qr(),F=d.useMemo(()=>C(l||"")?.state?.showCase||!1,[C,l]),{deployStatus:E,latestRunStatus:S,isLoading:M,deploymentHistory:k}=j2({jobId:l,tabId:c||l||"",enabled:!!l&&!u&&h==="build"&&!F}),{isMobile:I}=ps(),D=d.useMemo(()=>({fontFamily:"Inter",fontWeight:500}),[]),P=d.useMemo(()=>l&&r&&!v&&!o&&!F,[l,r,v,o,F]),R=d.useMemo(()=>l&&i&&!o&&!F&&v,[l,i,o,F,v]);d.useEffect(()=>{},[l,F,u,h]);const B=k.some(H=>H.status==="success"),U=()=>M?"Loading...":E==="running"||S==="running"?"Deploying...":B?"Redeploy":"Deploy";return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center",children:[a&&!o&&t.jsx("div",{className:"flex items-center gap-1",children:t.jsx(Ws,{children:t.jsxs("div",{className:"flex items-center gap-1",children:[_&&l&&t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx(Vt,{variant:"ghost",className:"group h-[36px] w-[36px] p-0 hover:bg-white/5 rounded-lg transition-colors duration-200",onClick:()=>N(!0),children:t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("img",{src:Zhe,alt:"chat history",className:"w-6 h-6 opacity-50 group-hover:opacity-100"})})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:D,children:"Edit Chat History"})]}),!I&&t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx(Vt,{variant:"ghost","data-testid":N1.infoButton,className:"group h-[36px] w-[36px] p-0 bg-white/10 hover:bg-[#ffffff]/15 backdrop-blur-lg rounded-lg transition-colors duration-200",onClick:s,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:t.jsx("img",{src:Khe,alt:"info",className:"w-6 h-6 opacity-60 group-hover:opacity-100"})})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:D,children:"Info"})]})]})})}),a&&t.jsx(t.Fragment,{children:!I&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"",children:t.jsx(Vt,{variant:"default","data-testid":N1.codeButton,className:"group h-[36px] ml-2 pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:e,disabled:u||h!="build",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{alt:"code",src:qhe,className:"w-6 h-6"}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Code"})]})})}),t.jsx("div",{className:"ml-2",children:t.jsx(Vt,{variant:"default","data-testid":N1.previewButton,className:"group h-[36px] pl-2 pr-2 md:pr-3 rounded-[8px] hover:bg-white/100 transition-colors duration-200",onClick:n,disabled:h!="build"&&x===!1,children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{alt:"preview",src:Yhe,className:"w-6 h-6"}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:"Preview"})]})})}),P&&t.jsx("div",{className:"ml-2",children:t.jsx(Vt,{variant:"ghost","data-testid":N1.deployButton,className:A("group h-[36px] pl-2 pr-2 md:pr-3  rounded-[8px] hover:bg-white/10 transition-colors duration-200",B?"bg-white/10 grayscale-0":E==="running"||S==="running"?"bg-[#4DA5FF29] text-[#33DDFF]":"bg-gradient-to-r from-[#80FFF9] to-[#1588FC] text-[#0F0F10] hover:text-[#0F0F10] hover:opacity-80",(M||!p)&&E=="not_deployed"&&"opacity-90 grayscale","disabled:grayscale"),onClick:r,disabled:(M||!p)&&E=="not_deployed",children:t.jsxs("div",{className:"relative flex items-center gap-1",children:[M?t.jsx(ln,{className:"w-5 h-5 animate-spin"}):E==="running"||S==="running"?t.jsx("img",{src:Jhe,alt:"deploying",className:"w-5 h-5"}):y&&!B?t.jsxs("div",{className:"flex items-center gap-px",children:[t.jsx(k8,{className:"w-[24px] h-auto"}),t.jsx(N2,{className:"size-[22px]"})]}):t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:B?Qhe:Xhe,alt:"Deploy",className:A("w-5 h-5 ",!B&&"invert")}),B&&t.jsx(vc,{color:"#2EE572",size:16,innerSize:8,animate:B,className:"absolute -bottom-[4px] -right-[4.5px]"})]}),t.jsx("span",{className:"hidden text-base font-semibold md:block",children:U()})]})})}),R&&t.jsx("div",{className:"ml-2",children:t.jsx(Vt,{variant:"ghost","data-testid":N1.publishButton,className:A("group h-[36px] py-2 px-3 rounded-[8px] transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",b?"bg-[#66C2FF1A] hover:bg-[#66C2FF1A]":"bg-gradient-to-b from-[#33CCFF] to-[#337AF2] hover:opacity-90"),disabled:g||!p||u,onClick:()=>{z(_f.CHAT_HEADER_PUBLISH_CLICKED,{jobId:l}),j(b?{type:"moltbot-published",previewUrl:m||""}:{type:"publish-moltbot",jobId:l,previewUrl:m,source:"chat_header"})},children:t.jsxs("div",{className:"flex items-center gap-[6px]",children:[g?t.jsx(ln,{className:"w-4 h-4 animate-spin text-white"}):b?t.jsx(JO,{width:16,height:16}):null,t.jsx("span",{className:A("hidden text-sm font-semibold md:block",b?"text-[#66C2FF]":"text-white"),children:g?"Publishing...":b?"Published":"Publish"})]})})})]})})]})]}),t.jsx(zhe,{isOpen:w,onOpenChange:N,chatId:l})]})});XO.displayName="ChatHeader";const Xd=d.forwardRef(({className:e,...n},s)=>t.jsx(ET,{ref:s,className:A("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...n}));Xd.displayName=ET.displayName;const QO=d.forwardRef(({className:e,...n},s)=>t.jsx(ST,{ref:s,className:A("aspect-square h-full w-full",e),...n}));QO.displayName=ST.displayName;const zp=d.forwardRef(({className:e,...n},s)=>t.jsx(kT,{ref:s,className:A("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...n}));zp.displayName=kT.displayName;function Vu({title:e,onClick:n,style:s,className:r="",children:i,variant:a="filled",icon:o,hoverIcon:l,disabled:c=!1,isLoading:u=!1}){const[p,f]=d.useState(!1),m=a==="filled"?"bg-[#F3CA5F] text-[#0F0F10]":"border border-blue-500 bg-[#E6E6E6] border-[1px] border-[#333333] text-[#0F0F10]",h=()=>{f(!0)},x=()=>{f(!1)},y=()=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(ln,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx("span",{children:"Processing..."})]}),v=p&&l?l:o;return t.jsx(Vt,{style:s,className:A("flex items-center gap-[12px] max-h-[44px] rounded-full px-3 py-2 md:px-4 md:py-3  transition-none text-[13px] md:text-[16px]",m,r),onClick:n,onMouseEnter:h,onMouseLeave:x,disabled:c||u,children:i||t.jsx("div",{className:r,children:u?y():t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"font-semibold",children:e}),v&&t.jsx("img",{title:"Icon",src:v,className:"",alt:""})]})})})}const e0e=({width:e=16,height:n=16,fill:s="#E6E6E6",className:r})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:s})});function F2({jobId:e,onPublishSuccess:n}){const{toast:s}=ds(),[r,{isLoading:i,isSuccess:a}]=fQ({fixedCacheKey:e?`publish-${e}`:void 0}),{data:o}=dQ(e??"",{skip:!e}),l=a||(o?.payload?.is_persisted??!1),c=d.useCallback(async()=>{if(!e)return s({title:"Error",description:"No job ID available for publishing",variant:"destructive"}),!1;try{const u=await r(e).unwrap();return s({title:"Success",description:"App published successfully!",variant:"default"}),n?.(),!0}catch(u){Fn(u,{context:xD.PUBLISH_APP,jobId:e});const p=u.error||u.message||"Failed to publish app. Please try again.";return s({title:"Publish Failed",description:p,variant:"destructive"}),!1}},[e,s,n,r]);return{isPublishing:i,isPublished:l,publishApp:c}}const t0e=W.common.deploy,jF=W.icons.preview,NF=({hideImportantActions:e=!1,handleDeploy:n,togglePanel:s,podIsPaused:r=!1,isExpoImage:i=!1,onEnableVisualEdit:a,isVisualEditEnabled:o=!1,enableVisualEdit:l=!1,enablePublish:c=!1,previewUrl:u="",jobId:p,onPublishSuccess:f})=>{const{openModal:m}=Ds(),{isPublishing:h,isPublished:x}=F2({jobId:p,onPublishSuccess:f}),y=o&&l;if(e)return null;const v=y?"Edit Visually":"Preview";if(c){const g=()=>{z(_f.CHAT_TRAJ_PUBLISH_CLICKED,{jobId:p,isPublished:x}),m(x?{type:"moltbot-published",previewUrl:u}:{type:"publish-moltbot",jobId:p,previewUrl:u,source:"chat_traj",onPublishSuccess:f})},b=()=>{z(_f.CHAT_TRAJ_PREVIEW_CLICKED,{jobId:p}),s({panelName:"showUrlPreviewPanel"})};return t.jsxs("div",{className:"flex gap-4 w-full",children:[t.jsxs("button",{onClick:g,disabled:r||h,className:A("flex items-center gap-[6px] h-[40px] px-[16px] rounded-[10px] transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",x?"bg-[#66C2FF1A] hover:bg-[#66C2FF1A]":"bg-gradient-to-b from-[#33CCFF] to-[#337af2] hover:opacity-90"),children:[h?t.jsx(ln,{className:"w-4 h-4 animate-spin text-white"}):x?t.jsx(JO,{width:16,height:16}):null,t.jsx("span",{className:A("font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.2px]",x?"text-[#66C2FF]":"text-white"),children:h?"Publishing...":x?"Published":"Publish Moltbot"})]}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 h-[40px] px-[16px] pr-[12px] rounded-[10px] bg-white hover:bg-[#cfcfcf]",children:[t.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.2px] text-[#0f0f10]",children:"Preview"}),t.jsx("img",{src:jF,alt:"preview",className:"w-5 h-5"})]})]})}return t.jsxs("div",{className:"flex flex-col w-full space-y-4",children:[t.jsx("div",{className:"w-full max-w-4xl px-2 mx-auto"}),t.jsx("div",{className:"w-full",children:t.jsxs("div",{className:"flex w-full max-w-4xl gap-4 px-2 pl-0 mx-auto",children:[t.jsx(Vu,{title:"Deploy",variant:"filled",className:A("flex items-center",i?"gap-2 bg-[#2ee572] hover:bg-[#28d066]":"gap-12 bg-green-400 hover:bg-[#25b75b]"),onClick:n,disabled:r,children:t.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[t.jsx("span",{className:"font-brockmann text-[16px] leading-[20px] font-semibold tracking-[-0.02em]",children:"Deploy"}),i?t.jsxs("div",{className:"flex items-center gap-px",children:[t.jsx(k8,{}),t.jsx(N2,{})]}):t.jsx("img",{src:t0e,alt:"deploy",className:"w-5 h-5"})]})}),t.jsx(Vu,{title:v,variant:"filled",className:"flex items-center gap-12 bg-white hover:bg-[#cfcfcf] ",onClick:y?a:()=>{z(_f.CHAT_TRAJ_PREVIEW_CLICKED,{jobId:p}),s({panelName:"showUrlPreviewPanel"})},disabled:r,children:t.jsxs("div",{className:"flex items-center justify-center w-full gap-4",children:[t.jsx("span",{className:"font-brockmann  text-[16px] leading-[20px] font-semibold",children:v}),y?t.jsx(e0e,{width:20,height:20,fill:"#000000"}):t.jsx("img",{src:jF,alt:"preview",className:"w-5 h-5 text-white"})]})})]})})]})},n0e=W.common.bot,s0e=({thought:e,action:n,typingSpeed:s=50,className:r="",onContentChange:i,onTypingComplete:a,isExpanded:o=!0,hideRobotIcon:l=!1,marginBottom:c=!0})=>{const[u,p]=d.useState(""),[f,m]=d.useState(!1),h=d.useRef(i),x=d.useRef(a);h.current=i,x.current=a;const y=d.useRef(null),v=d.useRef(0),g=[e,n].filter(Boolean).join(`

Action: `);d.useEffect(()=>{if(p(""),m(!1),v.current=0,y.current&&(clearTimeout(y.current),y.current=null),!g){m(!0),x.current&&x.current();return}const j=()=>{if(v.current<g.length){p(g.slice(0,v.current+1)),v.current+=1,h.current&&h.current();const _=1e3/(s*10);y.current=setTimeout(j,_)}else m(!0),y.current=null,x.current&&x.current()};return y.current=setTimeout(j,30),()=>{y.current&&(clearTimeout(y.current),y.current=null)}},[g,s]),d.useEffect(()=>{g&&u===g&&!f&&(m(!0),x.current&&x.current())},[u,g,f]);const b=u.split(`

Action: `),w=b[0]||"",N=b[1]||"";return t.jsx("div",{className:A("flex flex-col w-full space-y-4",c&&"pb-4",r),children:t.jsxs("div",{className:"flex w-full gap-4",children:[!l&&t.jsxs("div",{className:"flex flex-col items-center w-[40px]",children:[t.jsx(Xd,{className:"h-[40px] w-[40px] bg-black border border-[#555]/25 flex items-center justify-center",children:t.jsx("img",{src:n0e,alt:"Robot",className:"h-[22px] w-[22px]"})}),t.jsx("div",{className:"w-[1px] h-full mt-2 bg-[#555]/25"})]}),t.jsx("div",{className:"flex flex-col flex-1",children:o&&t.jsxs("div",{className:"flex flex-col",children:[w&&t.jsx("div",{className:"overflow-hidden text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",children:t.jsx(gl,{children:w})}),N&&t.jsxs("div",{className:"mt-4",children:[t.jsx("span",{className:"font-semibold text-[#A8A9AD]",children:"Action: "}),t.jsx("span",{className:"overflow-hidden text-[#dcdce5] font-['Inter'] text-[16px] leading-[28px] font-normal",children:N})]})]})})]})})},r0e=W.common.reply;function FF({handleSubagentClick:e,agentState:n,enableLoading:s=!1,runningState:r=!1,panelState:i,isSelected:a=!1,jobDetails:o,subagentName:l,subagentTrajectoryLength:c,onPause:u,isPauseLoading:p}){const f=p??!1,m=d.useCallback(async()=>{!o?.job_id||!n?.agent_running||u&&u({origin:"MainInput"})},[o?.job_id,n?.agent_running,u]),h=ep(l),x=l?.includes("testing");return t.jsxs("div",{className:"flex md:ml-[52px] items-center gap-2 mt-2",children:[s&&n?.agent_running?t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",title:"Subagent Button",className:A("relative p-[6px] flex items-center gap-2 rounded-[6px]",a&&i.showSubagentPanel&&"pr-3"),style:{backgroundColor:r?h.bgColor:a&&i.showSubagentPanel?"#ffffff10":"transparent",color:r?h.color:"#B8B8CC"},onClick:e,children:[a&&i.showSubagentPanel&&r&&t.jsx("div",{className:A("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",r?h.beforeBorder:"before:border-[#ffffff20]")}),t.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[t.jsx(Xle,{size:"18",stroke:"4",speed:"0.9",color:h.iconColor}),t.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[" ",TN(ym(l),30)," "]})]}),t.jsx("img",{src:W.subagent.subagentPanelIcon,alt:"Subagent Trigger",className:"min-h-5 min-w-5"})]})}):t.jsx(t.Fragment,{children:t.jsxs("button",{type:"button",title:"Subagent Button",className:A("relative p-[6px] flex items-center gap-2 rounded-[6px] hover:bg-[#ffffff10]",!(s&&n?.agent_running)&&"cursor-pointer bg-red-400 hover:bg-red-600",a&&i.showSubagentPanel&&"pr-[2rem]"),style:{backgroundColor:a&&i.showSubagentPanel?"#ffffff10":"transparent",color:"#B8B8CC"},onClick:e,children:[a&&i.showSubagentPanel&&r&&t.jsx("div",{className:A("before:absolute before:inset-0 before:-m-[4px] before:rounded-[10px] before:border-[1.5px] ",r?h.beforeBorder:"before:border-[#ffffff20]")}),t.jsxs("div",{className:"flex items-center gap-1 text-nowrap",children:[t.jsx("img",{alt:"Reply Icon",src:r0e,className:"w-4 h-4"}),t.jsxs("span",{className:" font-brockmann font-medium text-[14px]",children:[c," ",TN(ym(l),30)," messages"]})]})]})}),s&&n?.agent_running&&x?t.jsxs("button",{type:"button",title:"Stop Subagent Button",className:"p-[6px] flex items-center px-[8px]  gap-[6px] rounded-[6px] bg-[#FFFFFF] hover:bg-[#ffffff90] disabled:opacity-50",onClick:m,disabled:f,children:[f?t.jsx(ln,{className:"w-4 h-4 text-black animate-spin"}):t.jsx("div",{className:"w-3 h-3 bg-black rounded-sm"}),t.jsx("span",{className:" font-brockmann font-semibold text-[14px] text-[#0F0F10]",children:f?"Stopping...":"Stop"})]}):null]})}const i0e=W.fork.fork,a0e=W.payments.question,o0e=({message:e,credits:n,handleAddToken:s,podIsPaused:r,modalOpen:i,setModalOpen:a})=>{const o=(l,c,u)=>!l||!c||c===0?0:Math.min(u?100:99,Math.round(l/c*100));return e.action==="context_limit_reached"?(o(e.current_token_count,e.max_token_count,e.error_message_exists),t.jsxs("div",{className:"bg-[#1111112] border-[#FFFFFF1F] border p-2 rounded-[16px] flex flex-col gap-2",children:[t.jsx("div",{className:"flex items-center justify-between gap-2 p-[10px] rounded-[8px] bg-[#FFAE6614]",children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"font-medium",children:"Agent context used"})})}),t.jsx("div",{className:"flex items-center justify-between gap-2 text-sm bg-[#FFFFFF0D] rounded-lg",children:t.jsxs("div",{className:"flex flex-col items-start gap-6 p-4 py-5",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("span",{className:"font-medium text-white text-[24px] font-brockmann",children:"Summarize & continue in a fresh session"}),t.jsx("span",{className:"text-[#737780] text-[15px] leading-[24px] font-[500] text-start font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),t.jsxs("div",{className:"flex  justify-between w-full border-[#242424]",children:[t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsxs("button",{type:"button",onClick:()=>{i&&a&&a({...i,fork:!i.fork})},disabled:r,className:"pl-4 pr-3 py-[10px] h-[40px] bg-white text-black hover:bg-gray-100 rounded-[10px] font-[600] text-[16px] flex items-center gap-2",children:["Fork Session",t.jsx("img",{src:i0e,alt:"Fork",className:"w-5 h-5 invert"})]})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",r?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:r?"Please wake up the agent before forking session":""}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})}),t.jsxs("button",{onClick:()=>{window.open(Li.forking.learnMore,"_blank")},className:"pl-4 pr-3 py-[10px] h-[40px] bg-transparent text-white/70 hover:bg-[#FFFFFF0A] rounded-[10px] font-[500] text-[16px] flex items-center gap-2",children:["Learn more about Forking",t.jsx("img",{src:a0e,alt:"Question",className:"w-5 h-5"})]})]})]})})]})):null},l0e=W.common.rollbackTime,c0e=(e,n)=>{if(n!=="user")return e;const s=e.includes("User has recorded a test case"),r=e.match(/<reported_bug>([\s\S]*?)<\/reported_bug>/);return s&&r?r[1].trim():e},d0e=({message:e,userName:n,searchActive:s=!1,searchHighlights:r=[],handleRollback:i,enablePublish:a=!1})=>{if(e.function_name==="default_tool")return t.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="ask_human"&&!e.content)return t.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="ask_human"&&e.action=="fork")return t.jsxs("span",{className:"py-2 font-['Inter']",children:["Hey ",n,", Quick input needed :"]});if(e.function_name==="rollback")return t.jsx("div",{className:"relative flex flex-col items-center w-full space-y-4",children:t.jsxs("div",{className:"flex w-full justify-between items-center gap-4 text-[15px] text-[#FFFFFF] font-['Inter'] py-1",children:[t.jsxs("span",{className:"font-['Inter']",children:["Context has been cleared and a ",t.jsx("span",{className:"text-[#FF884D]",children:"Code Checkpoint"})," has been created at"," ",t.jsx("span",{className:"text-[#FF884D]",children:y2(e.timestamp)})," "]}),t.jsxs("button",{onClick:i,className:"bg-[#FF884D]/10 hover:bg-[#FF884D30] px-[10px] py-[6px] rounded-[8px] flex gap-1 items-center text-[#FF884DCC]",children:[t.jsx("img",{alt:"Time",src:l0e,className:"w-5 h-5"}),"Rollback"]})]})});if(e.action==="finish"&&e.content)return a?null:t.jsx("div",{className:"flex flex-col prose prose-invert max-w-none","data-testid":La.messageContent,children:t.jsx(gl,{variant:"default",className:"[&>*:first-child]:mt-1 [&>*:first-child]:pt-1 [&_p]:my-2",children:e.content})});const o=c0e(e.content,e.role);return t.jsx("div",{className:"flex flex-col prose prose-invert max-w-none","data-testid":La.messageContent,children:X0(o,e.role==="user",s,r)})};function Td({className:e=""}){return t.jsxs("svg",{className:`h-5 w-5 animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}const u0e=({size:e=20,color:n="#E5F6FF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M15.2017 5.13281C15.4534 5.13281 15.6872 5.17777 15.903 5.26769C16.1188 5.3576 16.3106 5.48648 16.4785 5.65433C16.6463 5.82217 16.7722 6.011 16.8561 6.2208C16.9401 6.43061 16.988 6.66739 17 6.93114C17 7.17092 16.955 7.40171 16.8651 7.6235C16.7752 7.84529 16.6463 8.04011 16.4785 8.20796L9.33911 15.3563C9.17127 15.5242 8.97645 15.653 8.75466 15.743C8.53286 15.8329 8.30208 15.8808 8.0623 15.8868C7.82252 15.8868 7.59174 15.8419 7.36994 15.752C7.14815 15.662 6.95333 15.5302 6.78548 15.3563L3.53051 12.1013C3.36266 11.9335 3.23378 11.7387 3.14387 11.5169C3.05395 11.2951 3.00599 11.0643 3 10.8245C3 10.5728 3.04796 10.339 3.14387 10.1232C3.23978 9.90738 3.36866 9.71556 3.53051 9.54771C3.69236 9.37987 3.88118 9.25399 4.09698 9.17006C4.31278 9.08614 4.54956 9.03819 4.80732 9.0262C5.0471 9.0262 5.27788 9.07116 5.49968 9.16107C5.72147 9.25099 5.91629 9.37987 6.08414 9.54771L8.0623 11.5259L13.9249 5.65433C14.0927 5.48648 14.2875 5.3576 14.5093 5.26769C14.7311 5.17777 14.9619 5.13281 15.2017 5.13281Z",fill:n})}),p0e=({size:e=20,fill:n="#E5F6FF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M13.7862 4.40112C13.904 4.27661 14.0456 4.17697 14.2025 4.1081C14.3594 4.03922 14.5286 4.00251 14.6999 4.00012C14.8713 3.99774 15.0414 4.02974 15.2002 4.09422C15.359 4.15871 15.5033 4.25437 15.6244 4.37556C15.7456 4.49675 15.8413 4.64101 15.9058 4.7998C15.9703 4.95859 16.0023 5.1287 15.9999 5.30007C15.9975 5.47145 15.9608 5.6406 15.8919 5.79754C15.823 5.95448 15.7234 6.09602 15.5989 6.21379L11.842 9.97077C11.837 9.97573 11.833 9.98163 11.8304 9.98812C11.8277 9.99461 11.8263 10.0016 11.8263 10.0086C11.8263 10.0156 11.8277 10.0226 11.8304 10.0291C11.833 10.0356 11.837 10.0415 11.842 10.0464L15.5989 13.8034C15.7196 13.9221 15.8155 14.0635 15.8813 14.2195C15.947 14.3755 15.9812 14.5429 15.9819 14.7122C15.9827 14.8814 15.9498 15.0492 15.8854 15.2057C15.821 15.3622 15.7262 15.5044 15.6065 15.6241C15.4868 15.7438 15.3446 15.8386 15.1881 15.9031C15.0316 15.9676 14.8639 16.0004 14.6947 15.9998C14.5254 15.9991 14.358 15.9649 14.202 15.8992C14.046 15.8335 13.9045 15.7376 13.7858 15.6169L10.0289 11.8599C10.0239 11.855 10.0181 11.851 10.0116 11.8483C10.0051 11.8456 9.99811 11.8442 9.99109 11.8442C9.98406 11.8442 9.9771 11.8456 9.97061 11.8483C9.96412 11.851 9.95822 11.855 9.95326 11.8599L6.19635 15.6169C6.07765 15.7376 5.93624 15.8336 5.78027 15.8993C5.6243 15.9651 5.45685 15.9993 5.28759 16C5.11833 16.0007 4.95061 15.9679 4.79409 15.9035C4.63757 15.839 4.49536 15.7442 4.37566 15.6245C4.25596 15.5049 4.16114 15.3627 4.09666 15.2062C4.03219 15.0497 3.99934 14.882 4.00001 14.7127C4.00068 14.5434 4.03485 14.376 4.10056 14.22C4.16627 14.064 4.26222 13.9226 4.38286 13.8038L8.13977 10.0468C8.14475 10.0419 8.14869 10.036 8.15139 10.0295C8.15408 10.023 8.15547 10.016 8.15547 10.009C8.15547 10.002 8.15408 9.99504 8.15139 9.98854C8.14869 9.98205 8.14475 9.97616 8.13977 9.9712L4.38286 6.21422C4.1456 5.97312 4.01322 5.64803 4.01456 5.30977C4.0159 4.97151 4.15084 4.64748 4.39 4.40826C4.62916 4.16905 4.95315 4.03402 5.2914 4.03261C5.62966 4.03119 5.95477 4.16349 6.19592 4.4007L9.95283 8.15767C9.95779 8.16265 9.96369 8.1666 9.97018 8.16929C9.97667 8.17198 9.98363 8.17337 9.99066 8.17337C9.99768 8.17337 10.0046 8.17198 10.0111 8.16929C10.0176 8.1666 10.0235 8.16265 10.0285 8.15767L13.7862 4.40112Z",fill:n})}),f0e=({isRunning:e,envSuccess:n,action:s})=>{if(e)return t.jsxs(t.Fragment,{children:[t.jsx(Td,{className:"text-[#29CC83]"}),t.jsx("span",{className:"text-[#29CC83]",children:"Running"})]});const r=n===void 0||n||s?.includes("file_editor str_replace");return t.jsx("div",{className:"flex items-center gap-2 select-text",children:r?t.jsx(u0e,{size:20}):t.jsx(p0e,{size:20})})};function m0e(e){const n=[],s=/"([^"]+)"|'([^']+)'|([^,\s][^,]*[^,\s])/g;let r;for(;(r=s.exec(e))!==null;){const i=r[1]||r[2]||r[3];i&&n.push(i)}return n}function h0e(e){let n="",s=null,r=0,i=!1;const a=[];for(let o=0;o<e.length;o++){const l=e[o];if(i){n+=l,i=!1;continue}if(l==="\\"){i=!0,n+=l;continue}if((l==="'"||l==='"')&&!s){s=l,n+=l;continue}if(l===s&&!i){s=null,n+=l;continue}if(l==="["&&r++,l==="]"&&r--,l===","&&!s&&r===0){a.push(n.trim()),n="";continue}n+=l}return n.trim()&&a.push(n.trim()),a}function x0e(e){let n=e;return(n.startsWith("'")&&n.endsWith("'")||n.startsWith('"')&&n.endsWith('"'))&&(n=n.substring(1,n.length-1)),n=n.replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\'/g,"'").replace(/\\\\/g,"\\"),n}function yd(e,n){try{const s=JSON.parse(e);return!(s.type!=="mcp_tool"||!s.tool_name||!s.tool_arguments||n&&s.tool_name!==n)}catch{return!1}}function g0e(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_bulk_file_writer"?[]:n.tool_arguments&&n.tool_arguments.files?n.tool_arguments.files.map(s=>({path:s.path,content:s.content||""})):[]}catch{return[]}}function eB(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_search_replace"?null:n.tool_arguments?{path:n.tool_arguments.path||"",oldStr:n.tool_arguments.old_str||"",newStr:n.tool_arguments.new_str||""}:null}catch{return null}}function b0e(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_multi_search_replace"?null:n.tool_arguments&&n.tool_arguments.edits?{path:n.tool_arguments.path||"",edits:n.tool_arguments.edits.map(s=>({oldStr:s.old_str||"",newStr:s.new_str||""}))}:null}catch{return null}}function y0e(e){try{const n=JSON.parse(e);return n.type!=="mcp_tool"||n.tool_name!=="mcp_view_bulk"?[]:n.tool_arguments&&n.tool_arguments.paths?n.tool_arguments.paths:[]}catch{return[]}}function v0e(e){if(!e||!e.trim())return[];const n=e.split(`
`),s=[];let r=[];for(const i of n)i.startsWith("===FILE:")||i.startsWith("===DIR:")||i.startsWith("===ERROR:")?(r.length>0&&s.push(r.join(`
`)),r=[i]):r.push(i);return r.length>0&&s.push(r.join(`
`)),s.filter(i=>i.trim()).map(i=>{const a=i.split(`
`),o=a[0];if(o.startsWith("===FILE:")){const l=o.replace("===FILE:","").trim();let c=1;a[1]&&a[1].trim().endsWith(":")&&(c=2);const u=a.slice(c).filter(p=>!p.startsWith("===END")).map(p=>p.replace(/^\d+\|/,"")).join(`
`);return{path:l,type:"file",success:!0,output:u}}if(o.startsWith("===DIR:")){const l=o.replace("===DIR:","").trim();let c=1;a[1]&&(a[1].trim().endsWith(":")||a[1].includes("(depth="))&&(c=2);const u=a.slice(c).filter(p=>!p.startsWith("===END")&&p.trim()).map(p=>p.trim());return{path:l,type:"directory",success:!0,entries:u}}if(o.startsWith("===ERROR:")){const l=o.replace("===ERROR:","").trim(),c=a.slice(1).filter(u=>!u.startsWith("===END")).join(`
`).trim();return{path:l,type:"error",success:!1,error:c}}return null}).filter(i=>i!==null)}function EF(e){const n=e.indexOf("["),s=SF(e,n),r=e.indexOf("[",s+1),i=SF(e,r);if(n===-1||s===-1||r===-1||i===-1)throw new Error("Invalid bulk file creator action format");const a=e.substring(n+1,s),o=e.substring(r+1,i),l=m0e(a),u=h0e(o).map(x0e);return l.map((p,f)=>({path:p,content:f<u.length?u[f]:""}))}function SF(e,n){if(e[n]!=="[")return-1;let s=1,r=!1,i="",a=!1;for(let o=n+1;o<e.length;o++){const l=e[o];if(a){a=!1;continue}if(l==="\\"){a=!0;continue}if((l==='"'||l==="'")&&!r){r=!0,i=l;continue}if(l===i&&!a){r=!1;continue}if(!r&&(l==="["&&s++,l==="]"&&s--,s===0))return o}return-1}const vd=e=>{switch(e.split(".").pop()?.toLowerCase()){case"js":return"javascript";case"ts":return"typescript";case"tsx":return"typescript";case"jsx":return"javascript";case"py":return"python";case"json":return"json";case"html":return"html";case"css":return"css";case"md":return"markdown";case"yaml":case"yml":return"yaml";case"sh":case"bash":return"shell";case"c":return"c";case"cpp":case"cc":return"cpp";case"java":return"java";case"go":return"go";case"rs":return"rust";case"php":return"php";case"rb":return"ruby";case"sql":return"sql";case"xml":return"xml";case"swift":return"swift";case"kt":case"kts":return"kotlin";case"dart":return"dart";default:return"plaintext"}},w0e=({files:e,isSubagent:n})=>{const[s,r]=d.useState(e.length-1),i=d.useRef(null),a=d.useRef(null),o=d.useRef(null),l=d.useRef(e.length);return d.useEffect(()=>{e.length>l.current&&r(e.length-1),l.current=e.length},[e.length]),d.useEffect(()=>{if(i.current&&a.current){const c=i.current,u=a.current,p=c.clientWidth,f=u.clientWidth,h=u.offsetLeft-p/2+f/2;c.scrollTo({left:h,behavior:"smooth"})}setTimeout(()=>{if(o.current){const c=o.current.getModel().getLineCount();o.current.revealLine(c,1)}},100)},[s]),e.length?t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{ref:i,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...n?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:n?"calc(100% - 159px)":"100%"}:{}},children:e.map((c,u)=>{const p=u===s,f=c.path.split("/").pop()||c.path;return t.jsx("button",{ref:p?a:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 ${p?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:m=>{r(u),m.stopPropagation()},title:c.path,children:f},u)})}),t.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:t.jsx("span",{className:"text-[#DD99FF]",children:e[s].path})}),t.jsx("div",{className:"h-[400px] w-full",children:e[s]&&e[s].content?t.jsx(fx,{height:"100%",defaultLanguage:vd(e[s].path),value:e[s].content,theme:"vs-dark",onMount:c=>{o.current=c,setTimeout(()=>{if(o.current){const u=o.current.getModel().getLineCount();o.current.revealLine(u,1)}},100)},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this file"})})]})}):t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"})},C0e=({path:e,edits:n,isSubagent:s})=>{const[r,i]=d.useState(n.length-1),a=d.useRef(null),o=d.useRef(null),l=d.useRef(n.length);return d.useEffect(()=>{n.length>l.current&&i(n.length-1),l.current=n.length},[n.length]),d.useEffect(()=>{if(a.current&&o.current){const c=a.current,u=o.current,p=c.clientWidth,f=u.clientWidth,h=u.offsetLeft-p/2+f/2;c.scrollTo({left:h,behavior:"smooth"})}},[r]),n.length?(e.split("/").pop(),t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center border-b border-[#3E3E42] overflow-hidden text-ellipsis whitespace-nowrap",children:t.jsx("span",{className:"text-[#DD99FF]",children:e})}),t.jsx("div",{ref:a,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...s?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:s?"calc(100% - 159px)":"100%"}:{}},children:n.map((c,u)=>{const p=u===r;return t.jsxs("button",{ref:p?o:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 ${p?"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:f=>{i(u),f.stopPropagation()},title:`Edit ${u+1}`,children:["Edit ",u+1]},u)})}),t.jsx("div",{className:"h-[400px] w-full",children:n[r]?t.jsx(px,{height:"100%",language:vd(e),original:n[r].oldStr,modified:n[r].newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0,fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#E5E5E5]",children:"No content available for this edit"})})]})})):t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No edits to display"})},_0e=({action:e,functionName:n,isExpanded:s,setIsExpanded:r,isSubagent:i=!1})=>{const a=l=>l.length>50?`${l?.substring?.(0,50)}...`:l,o=()=>{if(!e)return"";if(n&&["str_replace_editor","create_file","view_file","search_replace","insert_text"].includes(n)){const[c,u,p]=e?.split?.(" ")??[];if(u==="view")return t.jsxs("span",{className:"flex items-center gap-2 font-mono text-wrap",children:["Viewed ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:p})]});if(u==="str_replace")return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:p})]});if(u==="create"){const f=e?.split?.(" ")?.[2];return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Created ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:f})]})}}else if(e?.startsWith?.("bulk_file_creator")||n==="bulk_file_writer")try{let c;return e?.startsWith?.("bulk_file_creator")?c=EF(e):n==="bulk_file_writer"&&yd(e,"mcp_bulk_file_writer")?c=g0e(e):c=EF(e),s?t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",c.length," ",c.length===1?"file":"files"]}),t.jsx(w0e,{files:c,isSubagent:i})]}):t.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>r(!0),children:t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Created"})," ",c.length," ",c.length===1?"file":"files"]})})}catch{return t.jsx("span",{className:"text-red-500",children:"Error parsing file content"})}else if(n==="search_replace"){if(yd(e,"mcp_search_replace")){const c=eB(e);if(c)return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Edited ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:c.path})]})}}else if(n==="multi_search_replace"){if(yd(e,"mcp_multi_search_replace"))try{const c=b0e(e);if(c)return s?t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",c.edits.length," ",c.edits.length===1?"edit":"edits"," to"," ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:c.path})]}),t.jsx(C0e,{path:c.path,edits:c.edits,isSubagent:i})]}):t.jsx("div",{className:"flex flex-col w-full space-y-1 cursor-pointer",onClick:()=>r(!0),children:t.jsxs("div",{className:"text-[#E5E5E5] font-medium",children:[t.jsx("span",{className:"text-[#FF99FD]",children:"Applied"})," ",c.edits.length," ",c.edits.length===1?"edit":"edits"," to"," ",t.jsx("span",{className:"text-[#FF99FD] font-brockmann",children:c.path})]})})}catch{return t.jsx("span",{className:"text-red-500",children:"Error parsing edits"})}}else if(n==="view_bulk"&&yd(e,"mcp_view_bulk")){const c=y0e(e);if(c.length>0)return t.jsxs("span",{className:"flex items-center gap-2 font-mono",children:["Viewing ",t.jsx("span",{className:"text-[#FF99FD]",children:c.length})," ",c.length===1?"path":"paths"]})}const l=typeof e=="string"?e:JSON.stringify(e);return s?l:a(l)};return t.jsx("code",{className:"text-[#CCEDFF99] font-mono text-sm w-full overflow-hidden",children:o()})},j0e=({files:e,isSubagent:n})=>{const s=e.findIndex(u=>u.success),[r,i]=d.useState(s>=0?s:0),a=d.useRef(null),o=d.useRef(null),l=d.useRef(null);if(d.useEffect(()=>{if(a.current&&o.current){const u=a.current,p=o.current,f=u.clientWidth,m=p.clientWidth,x=p.offsetLeft-f/2+m/2;u.scrollTo({left:x,behavior:"smooth"})}},[r]),!e.length)return t.jsx("div",{className:"text-[#E5E5E5] p-4",children:"No files to display"});const c=e[r];return t.jsx("div",{className:"w-full border border-[#252526] rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{ref:a,className:"flex overflow-x-auto bg-[#252526] scrollbar-thin scrollbar-thumb-[#3E3E42] scrollbar-track-[#252526]",style:{msOverflowStyle:"none",...n?{flexWrap:"nowrap",overflow:"scroll",whiteSpace:"pre-wrap",width:n?"calc(100% - 159px)":"100%"}:{}},children:e.map((u,p)=>{const f=p===r,m=u.path.split("/").pop()||u.path,h=u.type==="error",x=u.type==="directory",y=u.type==="file",v=()=>h?t.jsx(mm,{className:"w-3 h-3"}):x?t.jsx(Iae,{className:"w-3 h-3"}):y?t.jsx(po,{className:"w-3 h-3"}):null;return t.jsxs("button",{ref:f?o:null,className:`px-4 py-2 whitespace-nowrap font-mono text-sm flex-shrink-0 flex items-center gap-2 ${f?h?"bg-[#1E1E1E] text-[#FF6B6B] border-b-2 border-[#FF6B6B]":"bg-[#1E1E1E] text-[#DD99FF] border-b-2 border-[#DD99FF]":h?"text-[#FF6B6B99] hover:bg-[#2D2D2D]":"text-[#E5E5E5] hover:bg-[#2D2D2D]"}`,onClick:g=>{i(p),g.stopPropagation()},title:u.path,children:[v(),m]},p)})}),t.jsxs("div",{className:"bg-[#252526] px-4 py-2 font-mono text-[#E5E5E5] text-sm flex items-center justify-between border-t border-[#3E3E42] border-b border-[#3E3E42] overflow-hidden",children:[t.jsx("span",{className:c.success?"text-[#DD99FF]":"text-[#FF6B6B]",children:c.path}),c.type==="error"&&t.jsx("span",{className:"text-[#FF6B6B] text-xs",children:"Failed to load"}),c.type==="directory"&&t.jsx("span",{className:"text-[#9999FF] text-xs",children:"Directory"})]}),t.jsx("div",{className:"h-[400px] w-full",children:c.type==="file"&&c.output?t.jsx(fx,{height:"100%",defaultLanguage:vd(c.path),value:c.output,theme:"vs-dark",onMount:u=>{l.current=u},options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"all",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},fontSize:13,fontFamily:"'Menlo', 'Monaco', 'Courier New', monospace"}}):c.type==="directory"&&c.entries?t.jsx("div",{className:"h-full w-full bg-[#1E1E1E] p-4 overflow-auto",children:t.jsx("div",{className:"font-mono text-sm text-[#E5E5E5]",children:c.entries.length>0?t.jsx("div",{className:"flex flex-col gap-1",children:c.entries.map((u,p)=>t.jsx("div",{className:"py-1 px-2 hover:bg-[#2D2D2D] rounded",children:u},p))}):t.jsx("div",{className:"text-[#9999FF99] italic",children:"Empty directory"})})}):c.type==="error"?t.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#1E1E1E] text-[#FF6B6B] p-8",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[t.jsx(mm,{className:"w-12 h-12"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold mb-2",children:"Error"}),t.jsx("p",{className:"text-sm text-[#E5E5E599]",children:c.error||"An error occurred"})]})]})}):null})]})})},N0e=({message:e})=>{const n=r=>{r=r.replace(/--status\b/,"");const i=r.split("--old-str");if(i.length<2)return{oldStr:"",newStr:""};const a=i[1].split("--new-str");if(a.length<2)return{oldStr:"",newStr:""};const o=l=>l.trim().replace(/^["']|["']$/g,"").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");return{oldStr:o(a[0]),newStr:o(a[1])}},s=()=>{if(!e.action)return e.observation;if(e.function_name==="search_replace"&&yd(e.action,"mcp_search_replace")){const o=eB(e.action);if(o)return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(px,{height:"100%",language:vd(o.path),original:o.oldStr,modified:o.newStr,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}if(e.function_name==="multi_search_replace"&&yd(e.action,"mcp_multi_search_replace"))return null;if(e.function_name==="view_bulk"&&yd(e.action,"mcp_view_bulk")){if(e.observation){const o=v0e(e.observation);if(o.length>0)return t.jsx(j0e,{files:o})}return null}const[r,i,a]=e.action.split(" ");if(i==="view")return t.jsx("div",{className:"w-full h-[300px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(fx,{height:"100%",defaultLanguage:vd(a),defaultValue:e.observation?.includes("|")?e.observation?.split(`
`).slice(1).map(o=>{const[,...l]=o.split("|");return l.join("|")}).join(`
`):e?.observation?.split(`
`).slice(1).join(`
`),theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})});if(i==="str_replace"){const{oldStr:o,newStr:l}=n(e.action);return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(px,{height:"100%",language:vd(a),original:o,modified:l,theme:"vs-dark",options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"},originalEditable:!1,enableSplitViewResizing:!0}})})}else if(i==="create"){const o=e.action.match(/--file-text\s+(.*?)$/s),l=o?o[1].replace(/\\'/g,"'").replace(/^'|'$/g,"").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r"):e.observation;return t.jsx("div",{className:"w-full h-[400px] border border-[#252526] rounded-lg overflow-hidden",children:t.jsx(fx,{height:"100%",defaultLanguage:vd(a),defaultValue:l||"",theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",renderLineHighlight:"none",contextmenu:!1,folding:!0,scrollbar:{vertical:"visible",horizontal:"visible"}}})})}else if(e.action.startsWith("bulk_file_creator")||e.function_name==="bulk_file_writer")return null;return t.jsx(HT,{className:"p-0 font-['Inter'] text-[16px]",remarkPlugins:[$T],components:{p:({node:o,...l})=>t.jsx("p",{className:"my-2",...l}),h3:({node:o,...l})=>t.jsx("h3",{className:"mt-4 mb-2 font-bold",...l}),li:({node:o,...l})=>t.jsx("li",{className:"my-1 ml-4",...l}),ul:({node:o,...l})=>t.jsx("ul",{className:"my-2",...l}),del:({node:o,...l})=>t.jsx("del",{className:"text-gray-400 line-through",...l})},children:e.observation})};return t.jsx("div",{className:"p-3 select-text selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",onClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),children:s()})},F0e=({message:e,isExpanded:n,setIsExpanded:s,isSubagent:r=!1})=>{if(!e.action||e.action==="finish"||e.action==="exit_cost_credit_limit_reached"||e.action==="exit_cost"||e.action==="context_limit_reached"||e.function_name==="rollback"||e.function_name==="ask_human")return null;const i=e.content?.includes("thought:")&&!!e.action,a=()=>{if(!n&&e.observation){const l=window.getSelection();if(l&&l.toString().length>0)return;z(Zu.ACTION_EXPANDED,{messageId:e.id,containerId:e.containerId,requestId:e.request_id,action:e.action,functionName:e.function_name,isSubagent:r,expandMethod:"div_click",hasObservation:!!e.observation}),s(!0)}},o=l=>{if(l.stopPropagation(),e.observation){const c=!n;z(c?Zu.ACTION_EXPANDED:Zu.ACTION_COLLAPSED,{messageId:e.id,containerId:e.containerId,requestId:e.request_id,action:e.action,functionName:e.function_name,isSubagent:r,expandMethod:"chevron_click",hasObservation:!!e.observation}),s(c)}};return t.jsxs("div",{onClick:a,className:A("max-md:max-w-screen w-full max-w-[calc(896px-52px)] text-wrap backdrop-blur-lg rounded-[12px] text-left select-text",e.observation&&!n&&"cursor-pointer hover:bg-[#202020]"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},"data-testid":La.action.display,children:[t.jsxs("div",{className:"flex items-start justify-between p-3",children:[t.jsxs("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:[t.jsx("div",{className:A("flex items-start gap-2 text-wrap",n&&"hidden"),children:t.jsx(f0e,{isRunning:i,envSuccess:e.env_success,action:e.action})}),t.jsx("div",{className:"flex items-center flex-1 min-w-0 gap-2",children:t.jsx(_0e,{action:e.action,functionName:e.function_name,isExpanded:n,setIsExpanded:s,isSubagent:r})})]}),e.observation&&t.jsx("div",{onClick:o,className:"text-[#939399] transition-all duration-200 ml-2 shrink-0 cursor-pointer hover:text-[#E5E5E5] p-1 -m-1","data-testid":La.action.displayChevron,children:t.jsx(El,{className:A("w-5 h-5 transition-transform duration-200 ease-in-out",n&&"rotate-90")})})]}),n&&t.jsx("div",{className:A("grid transition-[grid-template-rows] duration-200",n?"grid-rows-[1fr]":"grid-rows-[0fr]"),"data-testid":La.action.displayContent,children:t.jsx("div",{className:"overflow-hidden",children:t.jsx("div",{className:"border-t border-[#313131]",children:e.observation&&t.jsx(N0e,{message:e})})})})]})},np=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsx("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 7C20 5.34315 18.6569 4 17 4H7C5.34315 4 4 5.34315 4 7V17.0001C4 18.6569 5.34315 20.0001 7 20.0001H17C18.6569 20.0001 20 18.6569 20 17.0001L20 7ZM11.9997 10.0834C12.69 10.0834 13.2497 9.52377 13.2497 8.83342C13.2497 8.14306 12.69 7.58342 11.9997 7.58342C11.3093 7.58342 10.7497 8.14306 10.7497 8.83342C10.7497 9.52377 11.3093 10.0834 11.9997 10.0834ZM10.7497 11.3334C10.2894 11.3334 9.91634 11.7065 9.91634 12.1667C9.91634 12.627 10.2894 13.0001 10.7497 13.0001H11.5833L11.5833 16.1667C11.5833 16.627 11.9564 17.0001 12.4167 17.0001C12.8769 17.0001 13.25 16.627 13.25 16.1667L13.25 12.1667C13.25 11.7065 12.8769 11.3334 12.4167 11.3334H10.7497Z",fill:m,fillOpacity:a})})},kF=W.common.mingcuteQuestionFill,E0e=W.common.infoSquare02,S0e=W.common.keyboardArrowUp,k0e=({message:e,nextMessageExists:n=!1,children:s,isPublished:r=!1})=>{const[i,a]=d.useState(!1),o=e.action&&["fork"].includes(e.action)||e.function_name&&["exit_cost","exit_cost_credit_limit_reached"].includes(e.function_name)?e.content:e.action||"",l=o?.length>650?300:150,c=e.content?.length>950?400:150;return(e.function_name==="ask_human"||e.function_name==="exit_cost"||e.function_name==="exit_cost_credit_limit_reached")&&!n?t.jsxs("div",{className:A("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[t.jsxs("div",{className:"flex items-center font-inter font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("img",{src:kF,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:"font-inter",children:"Agent is asking a question, Please answer it to further continue :"})]}),t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(gl,{variant:"default",children:o||""})}),t.jsx(gm,{size:l,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]}):e.function_name==="ask_human"||e.function_name==="exit_cost"||e.function_name==="exit_cost_credit_limit_reached"?t.jsxs("div",{className:A("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[t.jsxs("div",{onClick:()=>a(!i),className:"flex cursor-pointer items-center font-inter grayscale font-medium text-[#80FFF9] p-[10px] rounded-[8px] justify-between",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(230, 247, 255, 0.1) 0%, rgba(229, 246, 255, 0.05) 100%)"},children:[t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsx("img",{src:kF,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:"font-inter",children:"Agent asked a question"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"bg-[#FFFFFF1A] rounded-full text-white px-[12px] py-1 text-[14px] font-medium",children:"Answered"}),t.jsx("button",{onClick:()=>{a(!i)},children:t.jsx("img",{src:S0e,alt:"Up",className:A("transition-transform duration-200",i?"rotate-180":"rotate-0")})})]})]}),i&&t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(gl,{variant:"default",children:o||""})})]}):e.function_name==="default_tool"?t.jsxs("div",{className:A("w-full p-[8px] relative rounded-[12px] bg-[#111112] border-[#FFFFFF1F] border-[1px] text-left flex flex-col gap-2"),children:[!n&&t.jsxs("div",{className:"flex items-center font-inter font-medium text-[#80FFF9] p-[10px] rounded-[8px] gap-2",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("img",{src:E0e,alt:"Ask Question",className:"w-6 h-6 font-inter"}),t.jsx("span",{className:"font-inter",children:"Agent will continue working after your reply"})]}),t.jsx("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 py-0",children:t.jsx(gl,{variant:"default",children:e.content||""})}),n?null:t.jsx(gm,{size:c,duration:12,delay:9,colorFrom:"#80FFF9",colorTo:"transparent"})]}):e.action==="finish"&&s?t.jsx("div",{className:"-mt-3 w-full p-[1px] relative rounded-[12px] text-left flex flex-col bg-[conic-gradient(from_0deg_at_40%_30%,rgba(255,255,255,0.12)_0deg,rgba(255,255,255,0.12)_180deg,rgba(51,204,255,0.5)_225deg,rgba(255,255,255,0.12)_270deg,rgba(255,255,255,0.12)_360deg)]",children:t.jsx("div",{className:"w-full rounded-[11px] bg-[#111112] p-2 flex flex-col gap-2",children:t.jsxs("div",{className:"bg-[#FFFFFF0D] rounded-[8px] p-4 pt-0 flex flex-col",children:[t.jsx(gl,{children:e.content||""}),!r&&t.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-[#301b07] rounded-lg py-[10px] pl-[10px] pr-[16px]",children:[t.jsx(np,{size:20,color:"#cc9666",fillOpacity:1,className:"shrink-0"}),t.jsx("span",{className:"font-inter font-medium text-[14px] text-[#cc9666] leading-[20px]",children:"Your Moltbot server will shut down after inactivity. Publish to keep it running."})]}),s]})})}):null},T0e=({message:e})=>{const[n,s]=d.useState(!1);return!e.error||typeof e.error_message=="string"&&e.error_message.includes("context limit")?null:t.jsx("div",{className:"flex items-start gap-2 px-4 py-4 bg-[#CC5254]/10 border border-1 border-[#CC5254]/20 rounded-lg text-sm cursor-pointer",onClick:()=>s(!n),children:t.jsxs("div",{className:"flex flex-col items-start w-full gap-2",children:[t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex items-start justify-center gap-2",children:[t.jsx(Mae,{className:"w-5 h-5 text-[#E55C5C]"}),t.jsx("p",{className:"text-[#E55C5C] font-['Inter'] text-base leading-6 font-normal",children:"There has been an error"})]}),n?t.jsx(Dr,{className:"w-5 h-5 text-[#E55C5C]"}):t.jsx(El,{className:"w-5 h-5 text-[#E55C5C]"})]}),n&&t.jsx("span",{className:"text-[#C4C4CC]/70 font-['Inter'] text-base leading-6 font-normal",children:JSON.stringify(e.error_message)})]})})},I0e={"Deployment Succeeded":"#00E573","Deployment Failed":"#E55C5C","Deployment Started":"#33CCFF"},Q0=({label:e,color:n,timestamp:s})=>t.jsx("div",{className:"flex flex-col w-full pt-4 space-y-4",children:t.jsxs("div",{className:"flex w-full gap-4",children:[t.jsx("div",{className:"w-[16px] md:w-[120px] h-[1px] mt-[10px]",style:{backgroundColor:`${n}33`}}),t.jsx("div",{className:"flex flex-col flex-1",children:t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsxs("div",{className:"flex items-center w-full gap-4",children:[t.jsx("span",{className:"font-jetbrains text-[15px] leading-[20px] font-normal",style:{color:n},children:e}),t.jsx("div",{className:"h-[1px] flex-1",style:{backgroundColor:`${n}33`}})]}),t.jsx("span",{className:"text-[#5C5F66] font-jetbrains mt-2 text-[13px] md:text-[15px] leading-[20px] font-normal text-right",children:cce(s)})]})})]})}),A0e=d.memo(({message:e,credits:n,user:s,session:r})=>s&&r&&n!==void 0&&e.action==="exit_cost_credit_limit_reached"&&n<0?t.jsx(Q0,{label:"Credit Exhausted",color:"#F5CC62",timestamp:e.timestamp}):null),D0e=d.memo(({message:e,credits:n})=>{if(e.action==="exit_cost_credit_limit_reached"&&n!==void 0&&e.max_budget!==void 0&&n>0)return t.jsx(Q0,{label:"Credits Recharged",color:"#F5CC62",timestamp:e.timestamp});if(e.action==="finish")return t.jsx(Q0,{label:"Agent Finished",color:"#00E573",timestamp:e.timestamp});if(e.action==="deployment_initiated"){const s=I0e[e.strip_message||"Deployment Started"];return s?t.jsx(Q0,{label:e.strip_message||"Deployment Started",color:s,timestamp:e.timestamp}):null}return null}),M0e=({images:e})=>!e||e.length===0?null:t.jsxs("div",{className:"w-full p-3 rounded-[12px] border border-[#FFFFFF1F] text-left",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.1) 0%, rgba(128, 255, 249, 0.05) 100%)"},children:[t.jsx("div",{className:"flex items-center gap-2 mb-3",children:t.jsx("div",{className:"text-sm text-[#80FFF9] font-medium font-['Inter']",children:"Screenshots"})}),t.jsx(F8,{images:e,className:"justify-start"})]}),pg=({size:e=24,color:n="#DD99FF",gradient:s,className:r="",...i})=>{const a=d.useId(),o=s?`url(#${a})`:n;return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...i,children:[s&&t.jsx("defs",{children:t.jsxs("linearGradient",{id:a,x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{offset:"0%",stopColor:s.from}),t.jsx("stop",{offset:"100%",stopColor:s.to})]})}),t.jsx("circle",{opacity:"0.16",cx:"12",cy:"12",r:"10.8",fill:o}),t.jsx("path",{d:"M11.1361 16.3201H12.8641V12.8641H16.3201V11.1361H12.8641V7.68011H11.1361V11.1361H7.68011V12.8641H11.1361V16.3201ZM12.0001 20.6401C10.8049 20.6401 9.68171 20.4133 8.63051 19.9597C7.57931 19.5061 6.66491 18.8905 5.88731 18.1129C5.10971 17.3353 4.49411 16.4209 4.04051 15.3697C3.58691 14.3185 3.36011 13.1953 3.36011 12.0001C3.36011 10.8049 3.58691 9.68171 4.04051 8.63051C4.49411 7.57931 5.10971 6.66491 5.88731 5.88731C6.66491 5.10971 7.57931 4.49411 8.63051 4.04051C9.68171 3.58691 10.8049 3.36011 12.0001 3.36011C13.1953 3.36011 14.3185 3.58691 15.3697 4.04051C16.4209 4.49411 17.3353 5.10971 18.1129 5.88731C18.8905 6.66491 19.5061 7.57931 19.9597 8.63051C20.4133 9.68171 20.6401 10.8049 20.6401 12.0001C20.6401 13.1953 20.4133 14.3185 19.9597 15.3697C19.5061 16.4209 18.8905 17.3353 18.1129 18.1129C17.3353 18.8905 16.4209 19.5061 15.3697 19.9597C14.3185 20.4133 13.1953 20.6401 12.0001 20.6401Z",fill:o})]})},L0e=W.common.bot,R0e=W.common.githubDark,P0e=W.common.infoSquaredBlack,O0e=W.common.increaseBudget,B0e=W.icons.preview,fg=d.memo(({message:e,onSubagentClick:n,hideRobotIcon:s,handleRollback:r,marginBottom:i=!0,isCloudFlow:a=!1,searchActive:o=!1,searchHighlights:l=[],isMatchingMessage:c=!1,isSubagent:u=!1,hideImportantActions:p=!1,handleAddToken:f,lastGithubUsed:m,togglePanel:h,currentChunk:x,isLastMessage:y=!1,agentState:v,nextMessageExists:g=!1,panelState:b,selectedMessageId:w,jobDetails:N,subagentName:j,onPause:_,isPauseLoading:C,podIsPaused:F=!1,isSubagentActive:E=!1,isExpoImage:S=!1,modalOpen:M,forkStatus:k,setModalOpen:I,isTyping:D=!1,onTypingComplete:P,agentStatus:R="stopped",buildMode:B=null,onEnableVisualEdit:U,isVisualEditEnabled:H=!1,enableVisualEdit:$=!1,enablePublish:q=!1,previewUrl:Q="",jobId:V,onPublishSuccess:ee})=>{const[X,ae]=d.useState(!1),[me,oe]=d.useState(!1),[pe,se]=d.useState(!1),[re,ve]=d.useState(!1),[we,be]=d.useState(null),Ue=d.useRef(null),fe=Qg(),Me=Er(),{handleBuyCredits:J,isMobileApp:Ne}=FO(),{isPublished:ge}=F2({jobId:V}),Ee=!y&&(e.subagent_trajectory?.length??0)>0||y&&E,{toast:Ce}=ds(),{credits:Ie,refreshCredits:Ae,tier:Se,subscriptionPlansResponse:ht,personalPlansResponse:Qe}=cs(),{restrictedFree:De,isOrganizationWorkspace:de,ownerHasProAccess:ue,isCurrentWorkspaceOwner:lt}=ni(),{user:st,session:mt}=xs(),ut=Xo(),{data:wn}=tm({}),{handleRazorpayPayment:Oe,subscriptionPaymentResult:_e,hideSubscriptionPaymentResult:Et,bundles:dt,handleBuyCredits:vt,checkForSavedPaymentMethod:Ct,showQuickTopupConfirmation:St,savedCard:ct,quickTopupConfirmation:Ft,hideQuickTopupConfirmation:Fe,confirmQuickTopup:He,isLoading:Ve,paymentModalState:Ke,hidePaymentModals:Ye}=Vp(),At=ht?.current_subscription?.payment_gateway?.toUpperCase(),mn=Qe?.current_subscription?.payment_gateway?.toUpperCase(),Dt=At==="STRIPE"||de()&&ue&&mn==="STRIPE",Yt=(()=>{const it=_e.status;return it==="pending"?"pending":it==="success"?"success":it==="cancelled"?"cancelled":"failed"})(),fn=()=>{Et(),_e.status==="success"&&(Ae(),window.location.reload())};let qt;st?.user_metadata?.name?qt=st.user_metadata.name.split(" ")[0]:st?.user_metadata?.full_name?qt=st.user_metadata.full_name.split(" ")[0]:qt=st?.email?.split("@")[0],d.useEffect(()=>{(e.action==="exit_cost"||e.action==="exit_cost_credit_limit_reached"||e.action==="finish"||e.action==="context_limit_reached"||e.action==="pause")&&Ae()},[e.action,Ae]),d.useEffect(()=>{c&&o&&!X&&ae(!0)},[c,o,X]);const _n=async()=>{if(De){z("free_user_deploy_attempted",{source:"agent_message_item",jobId:e.containerId}),Me.open({planType:"personal",triggerLocation:"default"});return}z(cr.CHAT_TRAJ_DEPLOY_CLICKED,{jobId:e.containerId,promptName:N?.promptName}),h({panelName:"showDeployPanel",value:!0})},In=async()=>{if(fe&&Se==="free"){Me.open({planType:"personal",triggerLocation:"default"});return}e.containerId&&se(!0)},je=()=>{if(n){const it=w===e.id;it&&b.showSubagentPanel?h({panelName:"showSubagentPanel",value:!1}):b.showSubagentPanel&&!it?(h({panelName:"showSubagentPanel",value:!1}),setTimeout(()=>{n(e)},300)):n(e)}},Le=it=>{if(!it?.available_plans)return null;const _t=it.available_plans.filter(Kt=>Kt.billing_period==="MONTHLY");return _t.length===0?null:_t.reduce((Kt,Cn)=>Cn.amount<Kt.amount?Cn:Kt)},xt=async it=>{const _t=it.currency?.toUpperCase()||"USD",Kt=_t===pn.INR;if(z(na.BUY_CREDITS_BUTTON_CLICKED,{plan_id:it.id,plan_name:it.tier_name,billing_period:it.billing_period,price:it.amount,currency:_t,payment_provider:Kt?"razorpay":"stripe"}),Kt)await Oe({amount:0,price:0,selected:!1,discount:0,currency:_t,couponCode:void 0},void 0,{isSubscription:!0,planId:it.id,planName:it.tier_name,planType:"personal"});else{const Cn=await yt.createCheckoutSession(0,!0,it.id,void 0,_t.toLowerCase());if(!Cn?.url)throw new Error("No checkout URL returned");window.location.href=Cn.url}},Rt=async it=>{const _t=it.action==="exit_cost_credit_limit_reached"||B==="salesman_agent"?"add_credits":"increase_budget";if(de()&&!lt){Ce({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}if(Ne){J({source:"agent_message_item"});return}ve(!0);try{z(Se==="free"?na.BUY_CREDITS_BUTTON_CLICKED:na.ADD_MORE_CREDITS_BUTTON_CLICKED);const Kt=it.auto_checkout===!0,Cn=Se==="free"&&Kt;if(z(na.BUY_CREDITS_BUTTON_CLICKED,{checkout_flow:Cn?"direct_checkout":"modal",is_free_tier:Se==="free",auto_checkout_flag:Kt}),Cn){const On=Le(wn);if(!On)return;await xt(On);return}else{f?.(_t);return}}catch(Kt){z(na.BUY_CREDITS_BUTTON_CLICKED,{error:!0,error_message:Kt?.response?.data?.detail||Kt?.message||"Unknown error"}),Ce({title:"Error",description:Kt?.response?.data?.detail||Kt?.message||"Failed to initiate payment",variant:"destructive"})}finally{ve(!1)}},qe=async it=>{if(de()&&!lt){Ce({title:"Upgrade Required",description:"Please ask the owner of this project to upgrade the plan.",variant:"destructive"});return}const _t=it.currency?.toUpperCase()===pn.INR;be(it.amount);try{if(_t){const Cn=Ed(it.price,it.currency,it.amount);ia("credits",Cn),Oe(it,void 0,{eventId:Cn});return}if(await Ct())St(it,void 0);else{const Cn=Ed(it.price,it.currency,it.amount);ia("credits",Cn),vt(it,void 0,!1,Cn)}}catch(Kt){Fn("handle_credit_chip_click_error",Kt,{bundle_amount:it.amount,bundle_price:it.price,bundle_currency:it.currency,is_razorpay_flow:_t}),Ce({title:"Error",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{be(null)}};return t.jsxs("div",{ref:Ue,onMouseEnter:()=>oe(!0),onMouseLeave:()=>oe(!1),className:A("relative group selection:text-[#66EAFF] selection:bg-[#66EAFF] selection:bg-opacity-10",i&&"mb-0 my-3 md:my-5 space-y-[10px]"),id:e.id,"data-testid":`agent-message-${e.id}`,"data-action":e.action,"data-function-name":e.function_name,children:[e.base64_image_list&&e.base64_image_list.length>0&&e.function_name!=="screenshot_tool"&&t.jsx(F8,{images:e.base64_image_list,className:"justify-end"}),t.jsx(A0e,{message:e,credits:Ie,user:st,session:mt}),e.action!="deployment_initiated"&&t.jsx("div",{className:"overflow-hidden rounded-lg",children:t.jsx("div",{className:"flex flex-col w-full space-y-4",children:t.jsxs("div",{className:"flex items-start w-full max-w-4xl mx-auto md:gap-4 md:w-4xl",children:[!s&&!u&&t.jsx("div",{className:"",children:t.jsx("div",{className:A("hidden row-span-2 md:block",(e.function_name==="rollback"||e.action==="deployment_initiated")&&"row-span-1"),children:t.jsx(Xd,{className:"flex-shrink-0 w-10 h-10","data-testid":La.avatar,children:t.jsx(zp,{className:"bg-transparent",children:t.jsx("img",{src:L0e,alt:"Robot",className:"h-8 w-fit"})})})})}),t.jsxs("div",{className:"flex flex-col flex-1 w-full gap-3",children:[e.action==="initial-llm"&&D&&e.content?t.jsx("div",{className:A("min-w-0 w-full",s&&"col-span-2"),children:t.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:t.jsx(s0e,{thought:e.content,typingSpeed:50,hideRobotIcon:!0,marginBottom:!1,onTypingComplete:()=>{P&&P()}})})}):!(st&&mt&&e?.action&&!p&&["exit_cost_credit_limit_reached","exit_cost"].includes(e.action)||e.function_name==="exit_cost")&&e?.content&&t.jsx("div",{className:A("min-w-0 w-full",s&&"col-span-2"),children:t.jsx("div",{className:"flex flex-col w-full prose prose-invert max-w-none",children:t.jsx(d0e,{message:e,userName:qt,searchActive:o,searchHighlights:l,handleRollback:r,enablePublish:q})})}),t.jsxs("div",{className:A("w-full",s?"col-span-2":"col-span-1",e.function_name!=="rollback"?"space-y-1  md:space-y-[10px]":"h-[0px]"),children:[e.action!=="initial-llm"&&t.jsx(F0e,{message:e,isExpanded:X,setIsExpanded:ae,isSubagent:u}),t.jsx(k0e,{message:e,nextMessageExists:g,isPublished:ge,children:e.action==="finish"&&e.function_name!=="rollback"&&!u&&q&&t.jsx(NF,{hideImportantActions:p,handleDeploy:_n,togglePanel:h,podIsPaused:F,isExpoImage:S,onEnableVisualEdit:U,isVisualEditEnabled:H,enableVisualEdit:$,enablePublish:q,previewUrl:Q,jobId:V,onPublishSuccess:ee})}),e.action==="finish"&&e.function_name!=="rollback"&&!u&&!q&&t.jsx(NF,{hideImportantActions:p,handleDeploy:_n,togglePanel:h,podIsPaused:F,isExpoImage:S,onEnableVisualEdit:U,isVisualEditEnabled:H,enableVisualEdit:$,enablePublish:q}),t.jsx(o0e,{message:e,credits:Ie,handleAddToken:f,podIsPaused:F,modalOpen:M,setModalOpen:I}),t.jsx(T0e,{message:e}),e.function_name==="screenshot_tool"&&t.jsx(M0e,{images:e.base64_image_list||[]})]})]})]})})}),st&&mt&&e.action==="context_limit_reached"&&!ut?t.jsx("div",{className:"max-w-4xl pt-[6px] mx-auto",children:t.jsxs("div",{className:"relative flex items-center gap-1 md:gap-4 md:ml-14",children:[t.jsx(Vu,{title:"Save Work",className:"flex bg-[#2EE572] hover:bg-[#2ee550] justify-between gap-2 items-center",variant:"outlined",icon:R0e,onClick:()=>{z(na.SAVE_WORK_BUTTON_CLICKED,{context:"context_limit_reached"}),In()},disabled:F}),t.jsx(Vu,{title:"Learn How to Clear Memory",className:"flex items-center justify-between gap-2 font-brockmann",variant:"outlined",icon:P0e,onClick:()=>{z(na.LEARN_CLEAR_MEMORY_CLICKED,{context:"context_limit_reached"}),window.open(Li.learnToClearMemory,"_blank")}})]})}):null,st&&mt&&!p&&(e.action==="exit_cost_credit_limit_reached"||e.expertise_type==="salesman_agent"&&Ie<=0)?t.jsx("div",{className:"max-w-4xl pt-[6px] mx-auto",children:t.jsx("div",{className:"relative flex items-center gap-4 md:ml-14",children:Se==="free"||!Dt||!W0()?t.jsxs(t.Fragment,{children:[t.jsx(Vu,{title:Se==="free"?"Buy Credits":"Add More Credits",variant:"filled",style:{background:"linear-gradient(90deg, #ffffff30, #00000050), #F3CA5F",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},className:"flex items-center gap-1 md:gap-4",onClick:()=>Rt(e),icon:O0e,isLoading:re}),t.jsx(Vu,{disabled:F,title:"Preview",variant:"outlined",className:"flex items-center gap-4 w-[115px] md:w-[135px]",icon:B0e,onClick:()=>{z(na.PREVIEW_BUTTON_CLICKED,{context:"exit_cost_credit_limit_reached"}),h&&h({panelName:"showUrlPreviewPanel"})}})]}):t.jsxs("div",{className:"flex items-center gap-2 md:gap-[12px] gap-y-2 flex-wrap",children:[[3e3,500,100].map(it=>dt.find(_t=>_t.amount===it)).filter(it=>it!==void 0).map(it=>t.jsxs("button",{onClick:()=>qe(it),disabled:we!==null||Ve,style:{boxShadow:`
                          0px 0px 20px 0px rgba(243, 202, 95, 0.2),
                          0px 2.18px 3.64px 1.45px #FFFFFF80 inset,
                          0px -1.45px 0px 0px #00000010 inset,
                          0px 0.73px 0.73px 0.73px #00000010
                        `},className:A("p-[10px] pl-[14px] h-[40px] rounded-full border border-[#F3CA5F0F]","bg-[#F3CA5F]","text-black text-[14px] md:text-[16px] font-semibold","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","relative flex items-center justify-center gap-1"),children:[we===it.amount&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"})}),t.jsxs("span",{className:A(we===it.amount&&"invisible"),children:["+ ",it.amount]}),t.jsx(ra,{className:A(we===it.amount&&"invisible"),color:"#000",size:19})]},it.amount)),t.jsxs("button",{onClick:()=>f?.("add_credits"),disabled:we!==null||Ve,className:A("p-[10px] pl-[14px] h-[40px] rounded-full text-[14px] md:text-[16px] font-medium transition-all duration-200","bg-[#FFFFFF1A] hover:bg-[#ffffff29] text-[#FFFFFFCC]","disabled:opacity-50 disabled:cursor-not-allowed","flex items-center gap-1"),children:["Buy custom credits",t.jsx(pg,{size:22,color:"#FFFFFFCC"})]})]})})}):null,e.function_name!="rollback"&&t.jsxs("div",{className:A("transition-opacity duration-200 h-[25px] max-w-4xl items-center flex justify-between mx-auto","opacity-100"),children:[t.jsxs("div",{className:"flex justify-between items-center text-[#5C5F66]",children:[!y&&e.subagent_trajectory?.length>0&&t.jsx(FF,{handleSubagentClick:je,agentState:v,enableLoading:!1,runningState:!1,panelState:b,isSelected:w==e.id,jobDetails:N,subagentName:j,subagentTrajectoryLength:e.subagent_trajectory?.length,onPause:_,isPauseLoading:C}),!Ee&&!x&&t.jsx("span",{className:A("md:ml-14",u&&"ml-4")}),y&&E&&t.jsx(FF,{handleSubagentClick:je,agentState:v,enableLoading:!0,runningState:E,panelState:b,isSelected:w===e.id,jobDetails:N,subagentName:j,onPause:_,isPauseLoading:C})]}),e.function_name!="rollback"&&e.action!=="deployment_initiated"&&t.jsx("div",{className:"text-[#5C5F66] w-full",children:t.jsxs("div",{className:A("relative flex items-center justify-between",Ee&&"justify-end"),children:[t.jsx("div",{className:A("flex items-center gap-2",Ee&&"hidden",me?"opacity-100":"opacity-0 pointer-events-none"),children:t.jsx("span",{className:A("text-[13px] md:text-[15px] w-full leading-[20px] font-medium font-mono text-nowrap transition-opacity text-[#CCEEFF]/30"),children:y2(e.timestamp)})}),t.jsx("div",{className:A("relative",v?.agent_running?"":"md:opacity-100 pointer-events-none"),children:t.jsx(HO,{message:e,isHovered:me,forkStatus:k,isCloudFlow:a,hideImportantActions:p,handleRollback:r,agentStatus:R,podIsPaused:F,className:A(me?"opacity-100":"opacity-0 pointer-events-none")})})]})})]}),!u&&t.jsx(D0e,{message:e,credits:Ie}),pe&&!F&&t.jsx(NO,{podIsPaused:F,lastGithubUsed:m,isOpen:pe,onOpenChange:it=>se(it),jobId:e.containerId,onSuccess:()=>se(!1)}),_e.paymentId&&t.jsx(w2,{isOpen:_e.showModal,onOpenChange:Et,paymentId:_e.paymentId,initialStatus:Yt,paymentType:"subscription",planName:_e.planName,organizationId:_e.organizationId,navigationStrategy:"reload",onClose:fn}),t.jsx(CP,{showModal:Ft.showModal,bundle:Ft.bundle||null,savedCard:ct,isLoading:Ve,onClose:Fe,onConfirm:He,onChangePaymentMethod:()=>{const it=Ft.bundle;if(Fe(),it){const _t=Ed(it.price,it.currency,it.amount);ia("credits",_t),vt(it,void 0,!1,_t)}}}),Ke.isLoading&&t.jsx(Zd,{isOpen:Ke.isLoading,onOpenChange:Ye,paymentType:Ke.paymentType||"credits",amount:Ke.amount,currency:Ke.currency,isQuickTopup:Ke.isQuickTopup})]})},(e,n)=>{if(e.message.id!==n.message.id||e.message.content!==n.message.content||e.message.action!==n.message.action||e.message.observation!==n.message.observation||e.message.error!==n.message.error||e.message.timestamp!==n.message.timestamp)return!1;const s=e.message.subagent_trajectory?.length||0,r=n.message.subagent_trajectory?.length||0;if(s!==r||e.searchActive!==n.searchActive||e.isMatchingMessage!==n.isMatchingMessage||e.isLastMessage!==n.isLastMessage||e.selectedMessageId!==n.selectedMessageId||e.podIsPaused!==n.podIsPaused||e.isSubagentActive!==n.isSubagentActive||e.agentStatus!==n.agentStatus||e.isTyping!==n.isTyping||e.forkStatus!==n.forkStatus||e.nextMessageExists!==n.nextMessageExists||e.isSubagent!==n.isSubagent||e.hideImportantActions!==n.hideImportantActions||e.isVisualEditEnabled!==n.isVisualEditEnabled||e.enableVisualEdit!==n.enableVisualEdit||e.agentState?.agent_running!==n.agentState?.agent_running)return!1;const i=e.searchHighlights?.length||0,a=n.searchHighlights?.length||0;return i===a});fg.displayName="AgentMessageItem";function U0e({children:e,as:n="p",className:s,duration:r=1,zDistance:i=10,xDistance:a=2,yDistance:o=-2,spread:l=1,scaleDistance:c=1.1,rotateYDistance:u=10,transition:p}){const f=xe.create(n);return t.jsx(f,{className:A("relative inline-block [perspective:500px]","[--base-color:#a1a1aa] [--base-gradient-color:#000]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff]",s),style:{color:"var(--base-color)"},children:e.split("").map((m,h)=>{const x=h*r*(1/l)/e.length;return t.jsx(xe.span,{className:A("inline-block whitespace-pre [transform-style:preserve-3d]"),initial:{translateZ:0,scale:1,rotateY:0,color:"var(--base-color)"},animate:{translateZ:[0,i,0],translateX:[0,a,0],translateY:[0,o,0],scale:[1,c,1],rotateY:[0,u,0],color:["var(--base-color)","var(--base-gradient-color)","var(--base-color)"]},transition:{duration:r,repeat:1/0,repeatDelay:e.length*.05/l,delay:x,ease:"easeInOut",...p},children:m},h)})})}const V0e=W.common.bot;function H0e({text:e,duration:n=2,spread:s=1,zDistance:r=1,scaleDistance:i=1.1,rotateYDistance:a=20}){return t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"row-span-2",children:t.jsx(Xd,{className:"flex-shrink-0 w-10 h-10",children:t.jsx(zp,{className:"bg-transparent",children:t.jsx("img",{src:V0e,alt:"Robot",className:"h-8 w-fit"})})})}),t.jsx("div",{className:"flex flex-col w-full space-y-4",children:t.jsx("div",{className:"w-[300px] flex items-center justify-between rounded-xl p-4 pt-2 pl-0",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx(U0e,{className:"[--base-color:#0D74CE] [--base-gradient-color:#5EB1EF] text-base",duration:n,spread:s,zDistance:r,scaleDistance:i,rotateYDistance:a,children:e})})})})]})})}const $0e=(e,n)=>!(e.text!==n.text),tB=tt.memo(H0e,$0e);tB.displayName="AgentTypingAnimation";const mg=({text:e="Processing next step..."})=>t.jsx("div",{className:"typing-animation-container",children:t.jsx(tB,{text:e,duration:1})});function z0e({isOpen:e,onClose:n,messages:s,onSubmit:r,onPause:i,agentState:a,containerId:o,jobDetails:l,togglePanel:c,selectedAgent:u,hideImportantActions:p=!1,userInitials:f,subagentName:m="Subagent",isSubagentActive:h=!1,isCloudFlow:x=!1,pauseWasClicked:y=!1,isPauseLoading:v=!1,searchHighlights:g,isMatchingMessage:b,searchState:w,currentChunk:N,podIsPaused:j=!1,agentStatus:_,setAgentStatus:C}){const[F,E]=d.useState(new Set),[S,M]=d.useState(!1),k=d.useRef(null),[I,D]=d.useState(!0),P=d.useRef(null),R=d.useMemo(()=>[...s].sort((Q,V)=>{const ee=new Date(Q.timestamp).getTime(),X=new Date(V.timestamp).getTime();return ee-X}),[s]),B=()=>{if(k.current){const{scrollTop:Q,scrollHeight:V,clientHeight:ee}=k.current,X=Math.abs(V-Q-ee)<10;D(X)}},U=()=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{k.current&&k.current.scrollTo({top:k.current.scrollHeight,behavior:"smooth"})},100)};d.useEffect(()=>{I&&U()},[R.length]),d.useEffect(()=>{e&&U()},[e]),d.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const H=d.useMemo(()=>{if(R.length>0)return R[R.length-1].agent_name},[R]);d.useEffect(()=>{if(R.length>0){const Q=R[R.length-1];Q.action==="finish"?M(!1):!Q.action&&!Q.observation?M(!0):M(!1)}else M(!1)},[R]);const $=d.useMemo(()=>R.length>0?R[R.length-1].action==="finish":!1,[R]),q=(Q,V)=>{!Q.trim()||!r||(r(Q,V),U())};return t.jsx("div",{className:A("w-full h-full bg-[#0F0F10]  max-md:absolute max-md:inset-0 z-[49]",e?"block":"hidden"),children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsxs("div",{className:"p-4 md:px-6 md:py-5 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:[t.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center gap-2 text-[15px]  md:text-[18px] font-medium leading-[24px] capitalize",children:[ym(m)," (",R.length,")"]}),t.jsx(Vt,{variant:"ghost",size:"icon",onClick:n,className:"w-8 h-8 hover:bg-transparent",children:t.jsx(Pt,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{ref:k,className:"flex-1 p-6 overflow-x-hidden overflow-y-auto",onScroll:B,style:{scrollBehavior:"smooth",contain:"layout style",willChange:"scroll-position"},children:[R.map(Q=>t.jsxs("div",{className:"w-full",style:{contain:"layout"},children:[Q.role==="assistant"&&Q.action&&t.jsx(fg,{currentChunk:"",togglePanel:c,message:Q,userInitials:f||"",onMergeToLocal:()=>{},onShowSubagentMessages:()=>{},onSubagentClick:()=>{},handleOpenVsCode:()=>{},handleRollback:()=>{},hideImportantActions:p,isCloudFlow:x,searchActive:w.isActive,searchQuery:w.query,searchHighlights:g,isMatchingMessage:b,isSubagent:!0,handleAddToken:()=>{},acc_cost:0,max_budget:0,selectedMessageId:void 0}),Q.role==="user"&&t.jsx(KO,{message:Q,isSubagent:!0})]},Q.id)),!$&&a?.agent_running&&t.jsxs(t.Fragment,{children:[t.jsx(mg,{}),t.jsx("div",{className:"h-32"})]})]}),!$&&t.jsx("div",{className:"p-2 md:p-4 md:pb-2 border-t flex items-center justify-center border-[#242424]/60",children:t.jsx(IO,{buildMode:"build",onSubmit:q,placeholder:`Message ${ym(m)}`,hideStatus:!0,isDisabled:j,hideTokens:!0,showImages:!0,isCloudFlow:x,agentName:H,agentState:a,agentStatus:_,setAgentStatus:C,containerId:o,jobDetails:l,isSubagentActive:h||S,onPause:i,onAddToken:()=>{},pauseWasClicked:y,isPauseLoading:v,onImagesChange:()=>{},fromSubagentPanel:!0})})]})})}const TF=W.common.copperCoin;function W0e({isOpen:e,onOpenChange:n,currentCost:s,jobId:r,onBudgetUpdate:i,maxBudget:a=20,variant:o="increase_budget"}){const[l,c]=d.useState(5),[u,p]=d.useState(!1),[f,m]=d.useState(o),{toast:h}=ds(),x=()=>{c(_=>Math.min(_+1,500))},y=()=>{l>1&&c(_=>Math.max(_-1,1))},v=_=>{const C=_.target.value;if(C===""){c(0);return}if(!/^[0-9]*\.?[0-9]*$/.test(C)||C.endsWith(".")&&!C.includes(".."))return;const E=parseFloat(C);!isNaN(E)&&E>=0&&E<=500?c(Math.round(E*100)/100):E>500&&c(500)},g=async()=>{if(l<=0){h({title:"Invalid Amount",description:"Budget increase must be greater than 0",variant:"destructive"});return}if(l>500){h({title:"Invalid Amount",description:"Budget increase cannot exceed 500 credits",variant:"destructive"});return}try{p(!0),await yt.updateBudget(r,l);const _=await yt.getBudget(r);h({title:"Budget Updated",description:`Successfully increased budget to ${_.max_budget.toFixed(3)} Credits`}),i&&i(_.max_budget),n(!1)}catch(_){h({title:"Error",description:_ instanceof Error?_.message:"Failed to update budget",variant:"destructive"})}finally{p(!1)}},{tier:b,credits:w}=cs(),N=_=>{_||n(!1)},j=_=>{if(_==="increase_budget")return t.jsxs(t.Fragment,{children:[t.jsx(Al,{className:"border-b border-[#2E2F34] md:pb-6 p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col items-start gap-2 md:gap-5",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full",children:t.jsx("img",{src:TF,alt:"Coin",className:"w-8 h-8"})}),t.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[t.jsx(uo,{className:"text-[#C4C4CC] font-brockmann text-[16px]  md:text-[22px] text-start font-medium md:leading-[28px] tracking-[-0.44px]",children:"Set Budget Limit"}),t.jsx("p",{className:"text-[#5C5F66] font-inter text-[14px] text-start  md:text-base font-medium md:leading-6",children:"Session Budget prevent excessive token usage during a session."})]})]})})}),t.jsxs("div",{className:"p-4 py-8 space-y-4 md:space-y-6 md:px-8 md:py-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base md:mb-3",children:"Budget Used"}),t.jsxs("div",{className:"text-[24px] md:text-[32px] font-semibold leading-[38px]",children:[t.jsx("span",{className:"text-[#F3CA5F]",children:s?.toFixed(3)}),t.jsx("span",{className:"text-[#C4C4CC] mx-2",children:"/"}),t.jsx("span",{className:"text-[#C4C4CC]",children:a?.toFixed(3)}),t.jsx("span",{className:"text-[#C4C4CC] ml-2 text-xl",children:"Credits"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-[#8A8B91] text-[13px]  md:text-base mb-3",children:"Increase Budget"}),t.jsxs("div",{className:"flex items-center justify-between bg-[#0E0E0F] border border-[#242424] rounded-xl p-1 md:p-4",children:[t.jsx("button",{type:"button",onClick:y,className:"h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:u,children:"-"}),t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:" flex items-center md:text-[32px] font-semibold md:leading-[38px] mr-2",children:[t.jsx("img",{src:TF,alt:"Coin",className:"w-[18px] md:w-[28px] h-fit"}),t.jsx(Ni,{type:"number",value:l===0?"":l.toString(),onChange:v,min:"0",max:"500",step:"0.01",className:"text-[24px] md:text-[32px] font-semibold md:leading-[38px] bg-transparent border-none text-center p-0 focus:ring-0 focus:outline-none [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none [-moz-appearance:textfield]",disabled:u,placeholder:"0.00"})]})}),t.jsx("button",{type:"button",onClick:x,className:" h-8 w-8 md:w-12 md:h-12 rounded-md md:rounded-xl bg-[#1E1F23] flex items-center justify-center text-2xl font-medium hover:bg-[#2A2B30] transition-colors",disabled:u,children:"+"})]})]}),w<l&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[#F5CC62]/90 text-[13px]  md:text-base",children:"Not Enough Credits"}),t.jsxs("button",{title:"Learn more about credits",className:"bg-[#f5cc621a] text-[#F5CC62] py-[10px] px-3  rounded-xl",onClick:()=>{m("add_credits")},children:[" ","Buy Credits"]})]}),w>l&&t.jsx("div",{className:"bg-[#f5cc621a] rounded-xl py-[10px] px-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:"Your new budget limit"}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white/80 text-[13px]  md:text-base",children:s?.toFixed(3)}),t.jsx("span",{className:"text-base text-white/90",children:" / "}),t.jsx("span",{className:"text-[#F5CC62] text-[13px]  md:text-base",children:(a+l).toFixed(3)}),t.jsx("span",{className:"text-white/80 ml-2 text-[13px]  md:text-base",children:"Credits"})]})]})})]}),t.jsx(Sc,{className:"border-t border-[#2E2F34] p-4 md:mt-6 md:py-4",children:t.jsxs("div",{className:"flex justify-end gap-3 md:px-6",children:[t.jsx(Vt,{variant:"outline",onClick:()=>n(!1),className:"text-[#C4C4CC] px-4   h-[40px] hover:bg-[#242424] md:px-6 md:h-11 text-[16px]  md:text-base  font-medium",disabled:u,children:"Cancel"}),t.jsx(Vt,{onClick:g,disabled:u||l>w,className:"bg-white px-4 font-semibold   h-[40px] text-black hover:bg-[#E5E5E5] md:px-6 md:h-11 text-[16px]  md:text-base",children:u?"Updating...":"Confirm"})]})})]})};return t.jsxs(t.Fragment,{children:[t.jsx(zn,{open:e&&f==="increase_budget",onOpenChange:n,children:t.jsx(dr,{className:"max-w-[95%] sm:max-w-[650px] bg-[#0E0E0F] text-white border border-[#242424] rounded-2xl",children:j(f)})}),b!=="free"?t.jsx(_2,{isOpen:e&&f==="add_credits",onOpenChange:N}):t.jsx(Ic,{isOpen:e&&f==="add_credits",onOpenChange:N})]})}const G0e=({width:e=24,height:n=24,fill:s="#0E0E0F",className:r,style:i,maskId:a="mask0_upload_icon",...o})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:r,style:i,...o,children:[t.jsx("mask",{id:a,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:`url(#${a})`,children:t.jsx("path",{d:"M4.55844 18.0473C3.95044 17.3273 3.46244 16.5353 3.09444 15.6713C2.72644 14.8073 2.49444 13.9033 2.39844 12.9593H4.36644C4.46244 13.6473 4.63844 14.3073 4.89444 14.9393C5.15044 15.5713 5.48644 16.1593 5.90244 16.7033L4.55844 18.0473ZM2.39844 11.0393C2.52644 10.0953 2.76644 9.19127 3.11844 8.32727C3.47044 7.46326 3.95044 6.67127 4.55844 5.95127L5.90244 7.29527C5.48644 7.83927 5.15044 8.42727 4.89444 9.05927C4.63844 9.69127 4.46244 10.3513 4.36644 11.0393H2.39844ZM10.9904 21.5513C10.0464 21.4553 9.14644 21.2273 8.29044 20.8673C7.43444 20.5073 6.63844 20.0313 5.90244 19.4393L7.24644 18.0473C7.80644 18.4633 8.39844 18.8073 9.02244 19.0793C9.64644 19.3513 10.3024 19.5353 10.9904 19.6313V21.5513ZM7.29444 5.95127L5.90244 4.55927C6.65444 3.96727 7.46244 3.49127 8.32644 3.13127C9.19044 2.77127 10.0944 2.54327 11.0384 2.44727V4.36727C10.3504 4.46327 9.69044 4.64727 9.05844 4.91927C8.42644 5.19127 7.83844 5.53527 7.29444 5.95127ZM12.9104 21.5513V19.6313C13.6144 19.5353 14.2824 19.3553 14.9144 19.0913C15.5464 18.8273 16.1424 18.4793 16.7024 18.0473L18.0944 19.4393C17.3424 20.0473 16.5304 20.5273 15.6584 20.8793C14.7864 21.2313 13.8704 21.4553 12.9104 21.5513ZM16.7504 5.95127C16.1904 5.53527 15.5904 5.19127 14.9504 4.91927C14.3104 4.64727 13.6464 4.46327 12.9584 4.36727V2.44727C13.9024 2.54327 14.8104 2.77127 15.6824 3.13127C16.5544 3.49127 17.3584 3.96727 18.0944 4.55927L16.7504 5.95127ZM19.4384 18.0473L18.0944 16.7033C18.5104 16.1593 18.8464 15.5713 19.1024 14.9393C19.3584 14.3073 19.5344 13.6473 19.6304 12.9593H21.5984C21.4704 13.9033 21.2304 14.8073 20.8784 15.6713C20.5264 16.5353 20.0464 17.3273 19.4384 18.0473ZM19.6304 11.0393C19.5344 10.3513 19.3584 9.69127 19.1024 9.05927C18.8464 8.42727 18.5104 7.83927 18.0944 7.29527L19.4384 5.95127C20.0464 6.67127 20.5344 7.46326 20.9024 8.32727C21.2704 9.19127 21.5024 10.0953 21.5984 11.0393H19.6304ZM11.0624 16.7993V10.8713L8.56644 13.3673L7.22244 11.9993L12.0224 7.19927L16.8224 11.9993L15.4544 13.3433L12.9824 10.8713V16.7993H11.0624Z",fill:s})})]}),q0e=({isOpen:e,onClose:n,rrwebEvents:s,testCasesData:r,isLoadingTestCases:i=!1,onSubmitScript:a,jobId:o})=>{const l=d.useRef(null),[c,u]=d.useState(null),[p,f]=d.useState(!1),[m,h]=d.useState({message:"Ready to load rrweb recording",type:"success"}),[x,y]=d.useState(""),[v,g]=d.useState(!1),[b,w]=d.useState(""),[N,j]=d.useState(""),[_,C]=d.useState(!1),[F,E]=d.useState([]),[S,M]=d.useState(null),k=async U=>{C(!0);try{if(!o)throw new Error("No job ID provided");const H=await yt.extractRRWebData(o,U);w(H.console_logs),j(H.network_logs),M({prefix:H.hitl_message_prefix,suffix:H.hit_message_suffix}),await I(H)}catch(H){w(`Error extracting console logs: ${H.message}`),j(`Error extracting network logs: ${H.message}`)}finally{C(!1)}},I=async U=>{if(o)try{const H=[],$=new Blob([U.playwright_script],{type:"text/javascript"}),q=new File([$],"generated-playwright-test.js",{type:"text/javascript"});H.push({file:q,description:"Generated Playwright test script from user interaction recording"});const Q=new Blob([U.console_logs],{type:"text/plain"}),V=new File([Q],"console-logs.txt",{type:"text/plain"});H.push({file:V,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const ee=new Blob([U.network_logs],{type:"text/plain"}),X=new File([ee],"network-logs.txt",{type:"text/plain"});H.push({file:X,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const ae=[];for(const me of H)try{const oe={file_name:me.file.name,mime_type:me.file.type},pe=await yt.uploadArtifact(o,oe);await yt.uploadFileToUrl(pe.upload_url,me.file),ae.push({artifact_id:pe.artifact_id,file_path:pe.file_path,entity_id:o,entity_type:"job",visibility:"public",file_name:me.file.name,description:me.description})}catch{}if(ae.length>0)try{await yt.batchFinalizeArtifactUpload({artifacts:ae});const me=ae.map(oe=>({artifact_id:oe.artifact_id,file_name:oe.file_name,description:oe.description}));E(me)}catch{}}catch{}},D=()=>{c&&typeof c.play=="function"&&(c.play(),f(!0))},P=()=>{c&&typeof c.pause=="function"&&(c.pause(),f(!1))},R=()=>{p?P():D()};d.useEffect(()=>{s&&s.length>0&&e?k(s):e||(w(""),j(""),y(""),E([]),M(null),f(!1))},[s,e]),d.useEffect(()=>{if(!e)return;(async()=>{if(window.rrweb&&window.rrwebPlayer){g(!0),h({message:"Scripts loaded, ready to initialize player",type:"success"});return}try{if(h({message:"Loading rrweb player scripts...",type:"loading"}),window.rrweb||await new Promise((H,$)=>{const q=document.createElement("script");q.src="https://cdnjs.cloudflare.com/ajax/libs/rrweb/2.0.0-alpha.11/rrweb.min.js",q.onload=()=>{H(void 0)},q.onerror=Q=>{$(Q)},document.head.appendChild(q)}),!window.rrwebPlayer){const H=document.createElement("link");H.rel="stylesheet",H.href="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/style.css",H.onload=()=>{},H.onerror=$=>{},document.head.appendChild(H),await new Promise(($,q)=>{const Q=document.createElement("script");Q.src="https://cdn.jsdelivr.net/npm/rrweb-player@latest/dist/index.js",Q.onload=()=>{$(void 0)},Q.onerror=V=>{q(V)},document.head.appendChild(Q)})}g(!0),h({message:"Scripts loaded, ready to initialize player",type:"success"})}catch(H){h({message:"Error loading rrweb player: "+H.message,type:"error"})}})()},[e]),d.useEffect(()=>{if(!e&&c){try{typeof c.destroy=="function"?c.destroy():typeof c.$destroy=="function"&&c.$destroy()}catch{}u(null),f(!1),g(!1),h({message:"Ready to load rrweb recording",type:"success"}),l.current&&(l.current.innerHTML="")}},[e,c]),d.useEffect(()=>{if(!e||!s||s.length===0||!v||!l.current||c)return;const U=setTimeout(()=>{if(!(!l.current||c))try{l.current&&(l.current.innerHTML="");const H=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,showController:!1,tags:{},loop:!0}});H&&H.addEventListener&&(H.addEventListener("start",()=>f(!0)),H.addEventListener("pause",()=>f(!1)),H.addEventListener("finish",()=>f(!1))),u(H),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(H){h({message:"Auto-initialization failed: "+H.message,type:"error"})}},200);return()=>clearTimeout(U)},[e,s,c,v]),d.useEffect(()=>{if(v&&e&&s&&s.length>0&&!c&&l.current){const U=setTimeout(()=>{try{l.current&&(l.current.innerHTML="");const H=new window.rrwebPlayer({target:l.current,props:{events:s,width:800,height:600,autoPlay:!1,loop:!0,showController:!1,tags:{}}});H&&H.addEventListener&&(H.addEventListener("start",()=>f(!0)),H.addEventListener("pause",()=>f(!1)),H.addEventListener("finish",()=>f(!1))),u(H),h({message:`Recording loaded successfully! ${s.length} events found.`,type:"success"})}catch(H){h({message:"Initialization failed: "+H.message,type:"error"})}},100);return()=>clearTimeout(U)}},[v,e,s,c]),d.useEffect(()=>()=>{if(c)try{typeof c.destroy=="function"?c.destroy():typeof c.$destroy=="function"&&c.$destroy()}catch{}},[c]);const B=()=>{if(!r||typeof r!="string"||!a)return;if(!S)throw new Error("[MODAL_API] No message template available! API extraction may have failed or template was not set.");if(!S.prefix)throw new Error("[MODAL_API] Message template prefix is missing!");if(!S.suffix)throw new Error("[MODAL_API] Message template suffix is missing!");const U=x.trim(),H=U?` ${U} `:" ",q=`${S.prefix}${H}${S.suffix}`.replace(/\?testmode=1/g,"");a(q,F)};return t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"max-w-[1432px] w-[1432px] h-[736px] bg-[#18181a] border-[#242424] rounded-[20px] text-white flex flex-col p-0",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-6 border-b border-[#242424] bg-[#18181a]",children:[t.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.jsx("h2",{className:"text-[20px] leading-6 font-medium text-white tracking-[-0.2px]",children:"Review Test session"}),t.jsx("p",{className:"text-[14px] leading-5 font-medium text-[#737780]",children:"Review the generated summary and make any edits before we relay the session."})]}),t.jsx("button",{onClick:n,className:"backdrop-blur-[25px] bg-white/[0.02] w-10 h-10 flex items-center justify-center rounded-[10px] p-2 hover:bg-white/[0.04] transition-colors",children:t.jsx(Pt,{className:"w-6 h-6 text-white"})})]}),t.jsxs("div",{className:"flex-1 flex gap-0 overflow-hidden",children:[t.jsxs("div",{className:"w-[716px] bg-[#09090a] border-r border-[#242424] overflow-hidden relative shrink-0 flex items-center justify-center",children:[t.jsx("div",{ref:l,className:"w-full h-full flex items-center justify-center"}),c&&t.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2 bg-black/70 backdrop-blur-sm rounded-lg px-4 py-2",children:[t.jsx("button",{onClick:R,className:"flex items-center justify-center w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 transition-colors text-white",children:p?t.jsx(fy,{className:"w-5 h-5"}):t.jsx(my,{className:"w-5 h-5 ml-0.5"})}),t.jsx("span",{className:"text-white text-sm",children:p?"Playing":"Paused"})]}),m.type==="loading"&&t.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center gap-2 text-white",children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:m.message})]})})]}),t.jsx("div",{className:"w-[716px] flex flex-col overflow-hidden border-l border-[#242424] bg-[#18181a]",children:t.jsxs(VO,{defaultValue:"instructions",className:"h-full flex flex-col",children:[t.jsxs(E8,{className:"flex gap-8 items-center px-4 border-b border-[#242424] bg-transparent rounded-none h-auto py-0 w-full justify-start",children:[t.jsx(gd,{value:"instructions",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Custom instructions"}),t.jsx(gd,{value:"script",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Generated Test script"}),t.jsx(gd,{value:"console",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Console logs"}),t.jsx(gd,{value:"network",className:"bg-transparent px-0 py-4 gap-2.5 border-b-[1px] border-transparent data-[state=active]:border-[#80fff9] data-[state=active]:text-[#80fff9] text-white/60 text-base leading-5 tracking-[-0.2px] font-medium rounded-none shadow-none",children:"Network logs"})]}),t.jsx(bd,{value:"instructions",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:t.jsx(Tc,{placeholder:"Add custom instructions for the Agent to follow...",value:x,onChange:U=>y(U.target.value),className:"flex-1 bg-transparent border-none text-white placeholder:text-white/50 placeholder:text-[15px] placeholder:font-medium resize-none focus-visible:ring-0 p-0",rows:10})})}),t.jsx(bd,{value:"script",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:i?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Loading test script..."})]}):r?t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-green-400 font-mono whitespace-pre-wrap",children:typeof r=="string"?r:JSON.stringify(r,null,2)})}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl mb-2",children:""}),t.jsx("div",{children:"No test script generated yet."})]})})})}),t.jsx(bd,{value:"console",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:_?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Extracting console logs..."})]}):t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:b||"No console logs captured during recording session."})})})}),t.jsx(bd,{value:"network",className:"flex-1 flex flex-col mt-0 min-h-0 overflow-hidden data-[state=inactive]:!hidden px-4 pt-6",children:t.jsx("div",{className:"flex-1 bg-white/[0.02] border border-white/[0.12] rounded-[10px] p-6 overflow-hidden flex flex-col",children:_?t.jsxs("div",{className:"flex items-center gap-2 justify-center h-full text-gray-400",children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Extracting network logs..."})]}):t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsx("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap",children:N||"No network requests captured during recording session."})})})})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-4 px-6 py-6 border-t border-[#242424] bg-[#18181a]",children:[t.jsx(Vt,{onClick:n,variant:"outline",className:"bg-white/[0.06] border-none text-white/60 hover:bg-white/[0.08] hover:text-white h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px]",children:"Cancel"}),t.jsx(Vt,{onClick:B,disabled:!r||typeof r!="string"||!a,className:"bg-white text-[#0e0e0f] hover:bg-white/90 h-12 px-5 rounded-[28px] text-base font-semibold tracking-[-0.2px] flex items-center gap-2 leading-6",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{children:"Share with Agent"}),t.jsx(G0e,{style:{width:"24px",height:"24px"}})]})})]})]})})};var w4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var IF;function K0e(){return IF||(IF=1,(function(e){(function(){var n={}.hasOwnProperty;function s(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return s.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)n.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(w4)),w4.exports}var Y0e=K0e();const xu=Ji(Y0e);function nB({jobId:e,initialFetch:n=!0}={}){const{toast:s}=ds(),{getCurrentOrganizationId:r}=ys(),i=r(),{data:a,isLoading:o,error:l,refetch:c}=oQ({jobId:e,organization_id:i||void 0},{skip:!e||!n}),[u,{isLoading:p,error:f}]=lQ(),m=o||p,h=l?"error"in l?l.error:"Failed to fetch budget information":f?"error"in f?f.error:"Failed to update budget":null,x=d.useCallback(async()=>{if(e)try{const v=await c();return v.data?v.data:void 0}catch{return}},[e,c]),y=d.useCallback(async(v,g=!0)=>{if(e)try{const b=await u({jobId:e,amount:v,organization_id:i||void 0}).unwrap();return g&&s({title:"Budget Updated",description:`Successfully increased budget to ${b.max_budget.toFixed(3)} Credits`}),b}catch(b){const w=b?.error||b?.data?.error||b?.message||"Failed to update budget";g&&s({title:"Error",description:w,variant:"destructive"});return}},[e,u,s,i]);return d.useEffect(()=>{e&&n&&c()},[i,e,n,c]),{budgetInfo:a||null,isLoading:m,error:h,fetchBudgetInfo:x,updateBudget:y}}function Z0e({show:e,onClose:n,selectedPrivacy:s,onPrivacyChange:r,position:i}){const a=d.useRef(null),{tier:o}=cs(),l=Er();return d.useEffect(()=>{const c=p=>{if(!a.current)return;const f=p.target;e&&!a.current.contains(f)&&n()},u=()=>{e&&n()};return e&&(document.addEventListener("mousedown",c),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u)),()=>{document.removeEventListener("mousedown",c),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,n]),t.jsx(zn,{open:e,onOpenChange:c=>{c||n()},children:t.jsx(Us,{children:t.jsxs("div",{ref:a,className:"fixed z-[9999] bg-[#18181A] border border-[#242424] rounded-[12px] shadow-lg overflow-hidden",style:{top:`${i.top}px`,left:`${i.left}px`},children:[t.jsxs("div",{"data-testid":yr.privacyDropdown.publicOption,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o}),r("public"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",s==="public"&&"text-white"),children:["Public ",t.jsx(Go,{size:14,className:A(s!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",s==="public"&&"text-white"),children:"Anyone can view and explore"})]})]}),t.jsxs("div",{"data-testid":yr.privacyDropdown.privateOption,className:"flex items-center px-4 py-3 hover:bg-[#242424] cursor-pointer transition-colors",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_dropdown",userTier:o,wasBlocked:o==="free"}),o==="free"?l.open({triggerLocation:"default"}):r("private"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",s==="private"&&"text-white"),children:["Private ",t.jsx(ca,{size:14,opacity:s==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",s==="private"&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})})})}function J0e({show:e,onClose:n,selectedPrivacy:s,onPrivacyChange:r}){const{tier:i}=cs(),a=Er();return t.jsx(zn,{open:e,onOpenChange:o=>{o||n()},children:t.jsx(Us,{children:t.jsxs(la,{open:e,onOpenChange:n,title:"Privacy Settings",showDefaultFooter:!1,maxWidth:"max-w-full",contentPadding:"p-0",showCancel:!0,onCancel:n,trigger:t.jsx(t.Fragment,{}),children:[t.jsx("div",{className:"h-[1px] w-full bg-[#242424]"}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"public",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:i}),r("public"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="public"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",s==="public"&&"text-white"),children:["Public ",t.jsx(Go,{size:14,className:A(s!=="public"&&"opacity-60")})]}),t.jsx("div",{className:A("text-xs text-white/50",s==="public"&&"text-white"),children:"Anyone can view and explore"})]})]}),t.jsxs("div",{className:"flex items-center py-4 transition-colors cursor-pointer",onClick:()=>{ts("privacy_selection_changed",{selectedPrivacy:"private",previousPrivacy:s,source:"chat_info_panel_mobile_sheet",userTier:i,wasBlocked:i==="free"}),i==="free"?a.open({triggerLocation:"default"}):r("private"),n()},children:[t.jsx("div",{className:"min-w-[20px] min-h-[20px] max-w-[20px] max-h-[20px] rounded-full border border-white flex items-center justify-center mr-4",children:s==="private"&&t.jsx("div",{className:"w-[10px] h-[10px] rounded-full bg-[#D9D9D9]"})}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsxs("div",{className:A("flex items-center gap-1 text-sm font-medium text-white/60",s==="private"&&"text-white"),children:["Private ",t.jsx(ca,{size:14,opacity:s==="private"?1:.3})]}),t.jsx("div",{className:A("text-xs text-white/50",s==="private"&&"text-white"),children:"Only visible to yourself, unless shared"})]})})]})]})]})})})}const Jc=({title:e,value:n,copyable:s=!1,maxChars:r,onClick:i,className:a,icon:o,"data-testid":l})=>{const c=r&&n&&n.length>r?`${n.slice(0,r)}...`:n;return t.jsxs("div",{className:"space-y-2","data-testid":l,children:[t.jsx("div",{className:"text-[#7B7B80] font-medium font-['Inter'] text-sm",children:e}),t.jsxs("div",{className:A("flex items-center justify-between gap-2",a),onClick:i,children:[t.jsx("div",{className:"text-[#C4C4CC] font-['Inter'] text-base group-hover:text-[#2EBBE5] transition-colors duration-200",children:c||""}),s&&n&&t.jsx(Cc,{tooltipEnabled:!0,showTooltipOnHover:!0,tooltipText:"Copy",copiedTooltipText:"Copied",showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:Od({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:()=>n,iconProps:{size:16},onCopy:async()=>{await navigator.clipboard.writeText(n)}}),o&&!s&&t.jsx("div",{className:"flex items-center justify-center min-w-[40px] min-h-[36px] cursor-pointer rounded-md hover:bg-white/10 transition-colors duration-200",onClick:i,children:t.jsx("img",{src:o,alt:"icon",className:"w-4 h-4"})})]})]})},D1=({title:e})=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("div",{className:"h-[1px] flex-1 bg-[#FFFFFF12]"}),t.jsx("span",{className:"text-[#FFFFFF4D] text-[14px] font-jetbrains uppercase tracking-[1px]",children:e}),t.jsx("div",{className:"h-[1px] max-w-[30px] flex-1 bg-[#FFFFFF12]"})]})}),X0e=W.upload.moreIcon,Q0e=W.upload.delete,exe=W.files.pdf,AF=W.files.csv,txe=W.files.doc,nxe=W.files.ppt,sxe=W.files.txt,rxe=W.files.video,sB=W.files.zip,ixe=W.files.other,axe=W.files.svg,DF=W.upload.downloadWhite,oxe=W.upload.deleteActive,MF=(e,n)=>{const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?exe:s.endsWith(".csv")||e==="text/csv"?AF:s.endsWith(".zip")||s.endsWith(".tar")||s.endsWith(".rar")||s.endsWith(".7z")||e?.includes("zip")||e?.includes("tar")||e?.includes("rar")||e?.includes("7z")?sB:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?txe:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?nxe:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?sxe:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?rxe:s.endsWith(".svg")||e==="image/svg+xml"?axe:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?AF:ixe},lxe=(e,n)=>e.startsWith("image/")?X9:e.startsWith("video/")?n8:e.startsWith("text/")||n.endsWith(".txt")?po:e.includes("zip")||e.includes("tar")||e.includes("rar")?Y9:n.endsWith(".pdf")||n.endsWith(".csv")||n.endsWith(".xlsx")?po:hm,cxe=e=>e.startsWith("image"),dxe=(e,n=15)=>{const s=e.lastIndexOf(".");if(s===-1)return e.length>n?e.substring(0,n)+"...":e;const r=e.substring(0,s),i=e.substring(s);return r.length<=n?e:r.substring(0,n)+"..."+i};function LF({title:e,size:n,id:s,type:r,url:i,visibility:a="public",onRemove:o,onDownload:l}){const[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState({top:0,right:0}),x=d.useRef(null),y=d.useRef(null),v=MF(r,e)===sB;d.useEffect(()=>{const E=S=>{x.current&&!x.current.contains(S.target)&&u(!1)};return c&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[c]);const g=E=>{if(E.stopPropagation(),!c&&y.current){const S=y.current.getBoundingClientRect();h({top:S.bottom+4,right:window.innerWidth-S.right})}u(!c)},b=E=>{E.stopPropagation(),o?.(s),u(!1)},w=E=>{E.stopPropagation(),!(a==="private"&&!i)&&(l?.(s),u(!1))},N=E=>{x.current&&x.current.contains(E.target)||a==="private"&&!i||(C?f(!0):l?.(s))},j=MF(r,e),_=lxe(r,e),C=cxe(r)&&i,F=a==="private"&&!i;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`flex items-center justify-between gap-4 group rounded-[12px] p-2 ${F?"opacity-60":"hover:bg-[#FFFFFF0A] cursor-pointer"}`,onClick:N,children:[t.jsxs("div",{className:`min-w-[40px] min-h-[40px] max-h-[40px] max-w-[40px] backdrop-blur-sm rounded-[8px] flex items-center justify-center overflow-hidden ${C?"hover:bg-[#FFFFFF15] transition-colors":""}`,children:[C&&!F?t.jsx("img",{src:i,alt:e,className:"w-full h-full object-cover rounded-[6px]",onError:E=>{const S=E.target;S.style.display="none",S.nextElementSibling?.classList.remove("hidden")}}):null,j?t.jsx("img",{src:j,alt:"File",className:`w-10 h-10 ${C?"hidden":""} ${v&&"p-1"}`}):t.jsx(_,{className:`w-5 h-5 text-[#FFFFFF60] ${C?"hidden":""}`})]}),t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium max-w-[60%] text-[16px] opacity-60 transition-all duration-100 ease-in-out",children:dxe(e)}),t.jsx("div",{className:"flex flex-col",children:t.jsx("span",{className:"text-[#FFFFFF40] font-['Inter'] font-medium text-[12px] ",children:n})})]}),t.jsx("div",{className:"relative",children:t.jsx("div",{ref:y,className:`hover:bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px] cursor-pointer p-1 transition-opacity duration-200 ${c?"opacity-100":"opacity-0 group-hover:opacity-60 hover:!opacity-100"}`,onClick:g,children:t.jsx("img",{src:X0e,alt:"More",className:"w-6 h-6"})})})]}),t.jsx(zn,{open:c,onOpenChange:u,children:t.jsx(Us,{children:t.jsxs("div",{ref:x,className:"fixed z-[9999] p-[6px] bg-[#18181A] backdrop-blur-sm rounded-[12px] border border-[#242424] shadow-lg min-w-[140px]",style:{top:m.top,right:m.right},children:[t.jsxs("button",{type:"button",onClick:b,className:"flex items-center gap-2 rounded-[8px] w-full p-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#ED5B5B0F] transition-colors duration-150 group/remove",children:[t.jsx("img",{src:Q0e,alt:"Remove",className:"w-5 h-5 group-hover/remove:hidden"}),t.jsx("img",{src:oxe,alt:"Remove",className:"hidden w-5 h-5 group-hover/remove:block"}),t.jsx("span",{className:" font-medium text-[14px] group-hover/remove:text-[#ED5B5B]",children:"Remove"})]}),t.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 w-full p-2 rounded-[8px] py-2 text-left text-[#808080] hover:text-[#CCCCCC] hover:bg-[#FFFFFF0A] transition-colors duration-150 group/download",children:[t.jsx("img",{src:DF,alt:"Download",className:"w-5 h-5 group-hover/download:hidden opacity-40"}),t.jsx("img",{src:DF,alt:"Download",className:"hidden w-5 h-5 group-hover/download:block"}),t.jsx("span",{className:" font-medium text-[14px]",children:"Download"})]})]})})}),C&&t.jsx(OO,{imageUrl:i,imageName:e,isOpen:p,onClose:()=>f(!1)})]})}const uxe=W.upload.arrowNext,pxe=W.upload.noAssets,fxe=W.upload.uploadNormal,RF=e=>{const n=typeof e=="string"?parseInt(e):e;if(isNaN(n))return"Unknown size";const s=["B","KB","MB","GB"];let r=0,i=n;for(;i>=1024&&r<s.length-1;)i/=1024,r++;return`${i.toFixed(1)} ${s[r]}`},PF=({view:e,jobId:n,loading:s,artifacts:r,onUploadClick:i,onDelete:a,onDownload:o,onViewAllClick:l})=>e==="assets"?t.jsx("div",{className:"flex-1 p-6 pt-4 overflow-x-hidden overflow-y-auto",children:n?s?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-4"}),t.jsx("p",{children:"Loading assets..."})]})}):r.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx(hm,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No assets uploaded"}),t.jsx("p",{className:"mt-1 text-sm",children:"Upload files using the upload button in the chat input"})]})}):t.jsx("div",{className:"flex flex-col gap-2",children:r.map(c=>t.jsx(LF,{title:c.name,size:RF(c.file_size||0),type:c.mime_type||"",url:c.public_url||"",visibility:c.visibility,id:c.id,onRemove:u=>a(u,c.name),onDownload:()=>o(c)},c.id))}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx(hm,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No job selected"}),t.jsx("p",{className:"mt-1 text-sm",children:"Assets will appear here when you have an active job"})]})})}):t.jsx("div",{className:"",children:s?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsxs("div",{className:"text-center text-[#666]",children:[t.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-[#5FD3F3] border-t-transparent rounded-full mx-auto mb-2"}),t.jsx("p",{className:"text-sm",children:"Loading assets..."})]})}):r.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsxs("div",{className:"text-center text-[#666] max-w-[450px]",children:[t.jsx("img",{src:pxe,alt:"No Assets",className:"h-12 mx-auto mb-4"}),t.jsx("p",{className:"text-[14px] font-['Inter'] font-medium text-[#FFFFFF20]",children:"Upload assets or sync files to be used as sources"})]}),t.jsx("button",{type:"button",onClick:()=>{z(O6.UPLOAD_ASSETS_CLICKED,{jobId:n}),i()},className:"w-full max-w-[180px] mt-5 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:"Upload Assets"})]}):t.jsxs(t.Fragment,{children:[r.slice(0,3).map(c=>t.jsx(LF,{title:c.name,size:RF(c.file_size||0),type:c.mime_type||"",url:c.public_url||"",visibility:c.visibility,id:c.id,onRemove:u=>a(u,c.name),onDownload:()=>o(c)},c.id)),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("button",{type:"button",onClick:i,className:"w-full radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-3 py-2 rounded-[10px] ",children:[t.jsx("img",{src:fxe,alt:"Add",className:"w-5 h-5"}),"Upload Files"]}),r.length>3&&t.jsxs("button",{type:"button",onClick:l,className:"w-full radial-black-upload p-3 py-2  hover:opacity-80 text-[#FFFFFF66] flex justify-center items-center gap-2 rounded-[10px] ",children:["View all (",r.length,")",t.jsx("img",{src:uxe,alt:"Arrow",className:"w-5 h-5"})]})]})]})}),mxe=({size:e,width:n=20,height:s=20,color:r="#F3CA5F",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s,f=i||r;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 20 20",fill:"none",className:a,style:o,onClick:l,...c,children:[t.jsxs("g",{style:{mixBlendMode:"luminosity"},clipPath:"url(#clip0_12024_101153)",children:[t.jsx("circle",{opacity:"0.1",cx:"10",cy:"10",r:"10",fill:f}),t.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:f}),t.jsx("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10.4082 6.58984C10.1446 5.93661 9.92302 5.71814 9.60645 6.49805C8.91401 8.15984 8.0872 8.95183 6.45996 9.6377C6.29657 9.71319 6.00191 9.84453 6 10C6.00211 10.1554 6.29471 10.2868 6.45996 10.3623C8.08527 11.0462 8.91405 11.8399 9.60645 13.502C9.9268 14.2958 10.1491 14.0465 10.4082 13.4102C11.1026 11.8036 11.8788 11.0584 13.5166 10.3623C13.6883 10.2804 13.9713 10.1709 14 10.0078V9.98926C13.9709 9.8277 13.6901 9.71755 13.5166 9.63574V9.6377C11.8789 8.9416 11.1026 8.19694 10.4082 6.58984Z",fill:"url(#paint0_linear_12024_101153)",style:{mixBlendMode:"overlay"}})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_12024_101153",x1:"10",y1:"2",x2:"10",y2:"18",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1"})]}),t.jsx("clipPath",{id:"clip0_12024_101153",children:t.jsx("rect",{width:"20",height:"20",fill:"white"})})]})]})},hxe=({size:e,width:n=20,height:s=20,color:r="#F3CA5F",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 20 20",fill:"none",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M8.61905 10.4762C6.31429 10.4762 4.14286 9.90476 2.90476 9V6.32381C4.30476 7.11429 6.34286 7.61905 8.61905 7.61905C10.8952 7.61905 12.9333 7.11429 14.3333 6.32381V8.64762C14.6476 8.6 14.9619 8.57143 15.2857 8.57143C15.6095 8.57143 15.9238 8.6 16.2381 8.64762V3.80952C16.2381 1.70476 12.8286 0 8.61905 0C4.40952 0 1 1.70476 1 3.80952V13.3333C1 15.4381 4.41905 17.1429 8.61905 17.1429H8.89524C8.7165 16.5236 8.62357 15.8827 8.61905 15.2381C4.93333 15.2381 2.90476 13.8095 2.90476 13.3333V11.2095C4.4381 11.9524 6.44762 12.381 8.61905 12.381C8.84762 12.381 9.06667 12.381 9.28572 12.3524C9.66667 11.5619 10.1905 10.8667 10.8286 10.2952C10.1238 10.4095 9.38095 10.4762 8.61905 10.4762ZM8.61905 1.90476C12.3048 1.90476 14.3333 3.33333 14.3333 3.80952C14.3333 4.28571 12.3048 5.71429 8.61905 5.71429C4.93333 5.71429 2.90476 4.28571 2.90476 3.80952C2.90476 3.33333 4.93333 1.90476 8.61905 1.90476ZM18.8095 15.8095V14.8571L19.8571 14.0952C19.9524 14 20.0476 13.9048 19.9524 13.8095L19 12.1905C19 12.0952 18.8095 12.0952 18.7143 12.0952L17.5714 12.5714C17.2857 12.381 17 12.1905 16.7143 12.0952L16.5238 10.8571C16.5238 10.7619 16.4286 10.6667 16.3333 10.6667H14.4286C14.2381 10.6667 14.1429 10.7619 14.1429 10.8571L13.9524 12.0952C13.6667 12.2857 13.4762 12.381 13.1905 12.5714L12.0476 12.0952C11.9524 12.0952 11.8571 12.0952 11.7619 12.1905L10.8095 13.8095C10.8095 13.9048 10.8095 14 10.9048 14.0952L11.9524 14.8571V15.8095L10.9048 16.5714C10.8095 16.6667 10.7143 16.7619 10.8095 16.8571L11.7619 18.4762C11.8571 18.5714 11.9524 18.5714 12.0476 18.5714L13.1905 18.0952C13.381 18.2857 13.6667 18.4762 13.9524 18.5714L14.1429 19.8095C14.2381 19.9048 14.3333 20 14.4286 20H16.3333C16.4286 20 16.5238 19.9048 16.5238 19.8095L16.7143 18.5714C17 18.381 17.1905 18.2857 17.4762 18.0952L18.619 18.4762C18.7143 18.4762 18.8095 18.4762 18.9048 18.381L19.8571 16.7619C19.9524 16.6667 19.9524 16.5714 19.8571 16.5714L18.8095 15.8095ZM15.2857 16.6667C14.5238 16.6667 13.8571 16 13.8571 15.2381C13.8571 14.4762 14.5238 13.8095 15.2857 13.8095C16.0476 13.8095 16.7143 14.4762 16.7143 15.2381C16.7143 16 16.0476 16.6667 15.2857 16.6667Z",fill:"#B1B1B3"})})},xxe=({currentUsage:e,machineType:n})=>t.jsxs("div",{className:"flex flex-col justify-between w-full md:flex-row",children:[t.jsxs("div",{"data-testid":Ss.info.creditsSpent,className:"w-full md:w-1/2 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Credits Spent"}),t.jsx(mxe,{width:24,height:24})]}),t.jsx("p",{className:"mt-10 md:mt-12 text-[#F2C75B] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:e?.toFixed(4)})]}),t.jsxs("div",{"data-testid":Ss.info.machineType,className:"mt-4 md:mt-0 w-full md:w-1/2 md:ml-4 flex flex-col justify-between items-start bg-white/5 p-5 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("p",{className:"text-[#B1B1B3] font-medium font-['Inter']",children:"Machine type"}),t.jsx(hxe,{width:24,height:24})]}),t.jsx("p",{className:"mt-10 md:mt-12 text-[#FFF] text-[24px] font-semibold font-['Inter'] leading-[24px]",children:n&&n.charAt(0).toUpperCase()+n.slice(1)||"Regular"})]})]}),C4=W.common.link,OF=W.common.copyable,gxe=W.common.greenBranch,BF=W.menuIcons.github,bxe=W.icons.branch2,yxe=W.upload.arrowNext,vxe=W.upload.uploadNormal;function wxe({isOpen:e,onClose:n,chatInfo:s,onOpenUploadAssetsModal:r,isShowcase:i=!1}){const{isMobile:a}=ps(),o=wi(),l=Xo(),{deployStatus:c,deployUrl:u,customDomainUrl:p,customDomain:f}=j2({jobId:s.jobId,tabId:"",silent:!0,enabled:!i}),[m,h]=d.useState("info"),[x,y]=d.useState([]),[v,g]=d.useState(!1),{toast:b}=ds(),w=d.useRef(null),{budgetInfo:N}=nB({jobId:s.jobId}),{tier:j}=cs(),_=Km(),{isCurrentWorkspaceAdmin:C,isOrganizationWorkspace:F}=ni(),E=!F()||C,[S,M]=d.useState(!1),[k,I]=d.useState({top:0,left:0}),[D,P]=d.useState(j==="free"?"public":"private"),[R,B]=d.useState(!1),U=d.useRef(null),{data:H}=ZD(s.user_prompt_id||"",{skip:!s.user_prompt_id}),$=d.useCallback(async()=>{if(s.jobId){g(!0);try{const se=await yt.getArtifacts(s.jobId);y(se.reverse())}catch{b({title:"Error",description:"Failed to load artifacts",variant:"destructive"})}finally{g(!1)}}},[s.jobId,b]);d.useEffect(()=>{e&&s.jobId&&$()},[e,s.jobId,$]);const q=d.useCallback(async(se,re)=>{try{await yt.deleteArtifact(se),y(ve=>ve.filter(we=>we.id!==se)),b({title:"Deleted",description:`${re} has been deleted`})}catch{b({title:"Error",description:`Failed to delete ${re}`,variant:"destructive"})}},[b]),Q=d.useCallback(async se=>{try{const re=await yt.getArtifactDownloadUrl(se.id);await lh(re.download_url,se.name||"download")}catch{b({title:"Download failed",description:"Failed to get download link for this artifact",variant:"destructive"})}},[b]),V=d.useCallback(se=>{const re=se.target.files;if(re&&re.length>0){const ve=Array.from(re);a&&n(),r(ve)}w.current&&(w.current.value="")},[r,a,n]),ee=d.useCallback(()=>{w.current&&w.current.click()},[]),X=()=>{if(!U.current)return;const se=U.current.getBoundingClientRect(),re=124,ve=276,we=8;let be=se.bottom+we,Ue=se.left;Ue+ve>window.innerWidth&&(Ue=window.innerWidth-ve-16),be+re>window.innerHeight&&(be=se.top-re-we),Ue<16&&(Ue=16),I({top:be,left:Ue})},ae=se=>{se.stopPropagation(),ts("privacy_button_clicked",{currentPrivacy:D,userTier:j,isFreeUser:j==="free",isMobile:a,source:"chat_info_panel",action:j!=="free"?"disabled_click":a?"open_mobile_sheet":"toggle_dropdown"}),j==="free"&&(a?B(!0):(S||X(),M(!S)))},me=()=>t.jsxs("div",{className:"p-4 md:p-4 bg-[#181818] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:[m=="info"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-[#939399] flex items-center gap-2 font-['Brockmann']  text-[15px]  md:text-[18px] font-medium leading-[24px]","data-testid":Ss.info.runDetails,children:["Run Details",_&&t.jsxs("button",{ref:U,type:"button",className:A("rounded-full flex items-center gap-[6px] max-h-[32px] py-2 px-3 text-[14px] font-medium transition-colors",j==="free"&&E?"bg-[#FFFFFF1A] text-[#E6E6E6] hover:bg-[#FFFFFF2A]":"bg-[#FFFFFF1A] text-[#E6E6E6] cursor-default opacity-80"),onClick:ae,children:[D==="public"?t.jsx(Go,{size:16}):t.jsx(ca,{size:16,color:"#ffffff",opacity:1}),!a&&(D==="public"?"Public":"Private")]})]}),t.jsx("button",{"data-testid":Ss.info.closeButton,type:"button",title:"Close",onClick:n,className:"w-8 h-8 flex items-center justify-center bg-[#FFFFFF05] hover:bg-[#FFFFFF1A] backdrop-blur-lg rounded-[6px]",children:t.jsx(Pt,{className:"w-5 h-5 text-[#7B7B80]"})})]}),m=="assets"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"text-[#939399] font-['Brockmann'] flex items-center w-full justify-between text-[15px] gap-2  md:text-[18px] font-medium leading-[24px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{onClick:()=>{h("info")},className:"w-8 h-8 hover:bg-[#FFFFFF10]  flex items-center cursor-pointer justify-center rounded-[8px] backdrop-blur-lg",children:t.jsx("img",{src:yxe,alt:"Arrow",className:"w-6 h-6 rotate-180"})}),"Assets (",x.length,")"]}),t.jsxs("button",{type:"button",onClick:ee,className:"text-[16px] pr-4 radial-green text-[#80FFF9] flex justify-center items-center gap-2 p-2 pl-3 min-h-[36px] max-h-[36px] rounded-[10px] ",children:[t.jsx("img",{src:vxe,alt:"Add",className:"w-5 h-5"}),"Upload Files"]})]})})]}),oe=()=>t.jsxs(t.Fragment,{children:[m=="info"&&t.jsx("div",{className:A("flex-1 md:p-6 space-y-4 md:space-y-8 h-full overflow-x-hidden overflow-y-auto  max-md:pt-4"),children:t.jsxs("div",{className:"pt-0 space-y-6",children:[t.jsx(xxe,{currentUsage:N?.current_usage,machineType:s?.machineType}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Jc,{title:"Model",value:s.modelName,"data-testid":Ss.info.model}),(l||s.user_prompt_id)&&t.jsx(Jc,{title:"Agent",value:s.user_prompt_id?H?.prompt_name?.replaceAll("_"," ")||s.promptName||s.user_prompt_id:s.promptName})]}),t.jsx("div",{className:"space-y-4",children:t.jsx(Jc,{title:"Job ID",value:s.jobId,copyable:!0,icon:OF,"data-testid":Ss.info.jobId})}),c==="success"&&t.jsx(D1,{title:"DEPLOYMENT INFO"}),c==="success"&&t.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex",children:[t.jsx(Jc,{title:"Live Link",icon:C4,value:u,onClick:()=>{u&&window.open(u,"_blank")},className:"cursor-pointer group"}),p&&f?.status==="verified"&&t.jsx(Jc,{title:"Custom Domain",icon:C4,value:f.domain,onClick:()=>{p&&window.open(p,"_blank")},className:"cursor-pointer group"})]}),t.jsxs(t.Fragment,{children:[t.jsx(D1,{title:"ASSETS"}),t.jsx(PF,{view:"info",jobId:s.jobId,loading:v,artifacts:x,onUploadClick:ee,onDelete:q,onDownload:Q,onViewAllClick:()=>h("assets")})]}),a&&_&&t.jsxs(t.Fragment,{children:[t.jsx(D1,{title:"Privacy"}),t.jsx("button",{className:"mt-6 rounded-xl p-3 px-4 border border-[#242424] flex items-center gap-3",onClick:ae,children:t.jsx(x2,{privacy:D})})]}),s.vscodeUrl&&t.jsx(D1,{title:"VS CODE INFO"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"text-[#C4C4CC] font-['Inter'] text-base space-y-4 flex-col flex",children:[t.jsx(Jc,{title:"VSCode URL",icon:C4,value:`${s.vscodeUrl}`,onClick:()=>{window.open(s.vscodeUrl,"_blank")},className:"cursor-pointer group","data-testid":Ss.info.vscodeUrl}),t.jsx(Jc,{title:"VSCode Password",icon:OF,value:`${s.vscodePassword}`,copyable:!0,"data-testid":Ss.info.vscodePassword})]})}),(s.sourceRepo||s.targetRepo)&&t.jsx(D1,{title:"GITHUB INFO"}),s.sourceRepo&&t.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200",onClick:()=>{z(O6.SOURCE_REPOSITORY_CLICKED,{jobId:s.jobId,repoOwner:s.sourceRepo?.owner,repoName:s.sourceRepo?.repo,branch:s.sourceRepo?.branch,provider:s.sourceRepo?.provider});const se=`https://github.com/${s.sourceRepo?.owner}/${s.sourceRepo?.repo}/tree/${s.sourceRepo?.branch}`;window.open(se,"_blank")},children:[t.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Source Repository"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{src:BF,alt:"Github",className:"w-5 h-5"}),t.jsxs("span",{className:"capitalize text-[#C4C4CC] text-nowrap truncate",children:[s.sourceRepo?.owner," / ",s.sourceRepo?.repo]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2 text-nowrap",children:[t.jsx("img",{src:bxe,alt:"Branch"}),t.jsx("span",{className:"text-[#DADEE5] text-nowrap truncate",children:s.sourceRepo?.branch})]})]})]}),s.targetRepo&&t.jsxs("div",{className:"bg-[#FFFFFF0D] p-3 rounded-[8px] text-sm flex flex-col gap-2 font-['Inter'] font-medium cursor-pointer hover:opacity-80 transition-opacity duration-200",onClick:()=>{z(O6.MOST_RECENT_EXPORT_CLICKED,{jobId:s.jobId,repoOwner:s.targetRepo?.owner,repoName:s.targetRepo?.repo,branch:s.targetRepo?.branch,provider:s.targetRepo?.provider});const se=`https://github.com/${s.targetRepo?.owner}/${s.targetRepo?.repo}/tree/${s.targetRepo?.branch}`;window.open(se,"_blank")},children:[t.jsx("span",{className:"text-[#7B7B80] font-['Inter'] text-sm font-medium",children:"Most Recent Export"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("img",{src:BF,alt:"Github",className:"w-5 h-5"}),t.jsxs("span",{className:"capitalize text-[#C4C4CC]",children:[s.targetRepo?.owner," / ",s.targetRepo?.repo]}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx("img",{src:gxe,alt:"Branch"}),t.jsx("span",{className:"text-[#2EE572]",children:s.targetRepo?.branch})]})]})]})]})}),m=="assets"&&t.jsx(PF,{view:"assets",jobId:s.jobId,loading:v,artifacts:x,onUploadClick:ee,onDelete:q,onDownload:Q,onViewAllClick:()=>h("assets")})]});if(a){const se=e&&o.pathname.includes("/chat");return t.jsxs(t.Fragment,{children:[t.jsxs(la,{trigger:t.jsx("div",{}),open:se,onOpenChange:re=>{re||n()},maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",showCancel:!0,onCancel:()=>{n?.()},title:"Chat Info",children:[t.jsx("div",{className:"h-[1px] bg-[#212121]"}),t.jsx("div",{className:"max-h-[80dvh] flex flex-col bg-[#111112] h-full overflow-clip rounded-t-2xl",children:oe()}),t.jsx("input",{"aria-hidden":"true",ref:w,type:"file",accept:"*/*",multiple:!0,onChange:V,style:{display:"none"}})]}),t.jsx(J0e,{show:R,onClose:()=>B(!1),selectedPrivacy:D,onPrivacyChange:P})]})}const pe=e&&o.pathname.includes("/chat");return t.jsxs("div",{className:A("md:top-14 max-md:inset-0 h-[calc(100%-4rem)] w-screen md:w-full bg-[#0F0F10]  transform transition-transform duration-300 ease-in-out z-50 pointer-events-auto max-md:absolute",pe?"block":"hidden"),children:[t.jsxs("div",{className:"flex flex-col h-full",children:[me(),oe()]}),t.jsx("input",{"aria-hidden":"true",ref:w,type:"file",accept:"*/*",multiple:!0,onChange:V,style:{display:"none"}}),t.jsx(Z0e,{show:_&&S,onClose:()=>M(!1),selectedPrivacy:D,onPrivacyChange:P,position:k})]})}const Cxe=({isOpen:e,onOpenChange:n,vscodeUrl:s,vscodePassword:r,onOpenInBrowser:i})=>{const{isMobile:a}=ps(),o=({showHeader:c=!1}={})=>t.jsxs("div",{className:"relative space-y-4",children:[c&&!a&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(uo,{className:"text-base",children:"VS Code Link"}),t.jsx(im,{className:"text-sm",children:"Access VS Code in your browser with the following link and password"})]}),t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Link"}),t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("input",{type:"text","aria-label":"Link","data-testid":Rr.vscode.linkInput,className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:s,readOnly:!0}),t.jsx(Cc,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:Od({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:s,tooltipText:"Copy",copiedTooltipText:"Copied",feedbackType:"tooltip",iconProps:{size:16},onCopy:()=>{z(p_.LINK_COPIED,{vscodeUrl:s})}})]})]}),r&&t.jsxs("div",{className:"w-full space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-[#737780]",children:"Password"}),t.jsxs("div",{className:"flex items-center w-full gap-2",children:[t.jsx("input",{type:"password","aria-label":"Password","data-testid":Rr.vscode.passwordInput,className:"flex-1 w-full px-3 py-2 bg-[#1A1A1B] border border-[#242424] rounded-md text-[#DDDDE6] text-sm",value:r,readOnly:!0}),t.jsx(Cc,{showIcon:!0,iconOnly:!0,className:"border-none bg-none",buttonClassName:Od({variant:"outline",size:"sm",className:"whitespace-nowrap rounded-lg  transition-all ease-in-out duration-200 bg-white/10 border-white/20 border hover:bg-white/20 hover:text-white text-white/40"}),value:r,tooltipText:"Copy",copiedTooltipText:"Copied",iconProps:{size:16},onCopy:()=>{z(p_.PASSWORD_COPIED,{vscodePassword:r})}})]})]})]}),l=()=>t.jsxs("div",{className:"flex-row justify-between bg-[#111112] w-full sm:justify-between flex gap-4",children:[t.jsx(Vt,{className:"flex-1",variant:"secondary",onClick:()=>n(!1),children:t.jsx("div",{className:"flex items-center justify-center w-full",children:"Cancel"})}),t.jsx(Vt,{className:"flex-1",onClick:i,children:t.jsx("div",{className:"flex items-center justify-center w-full",children:"Open in Browser"})})]});return a?t.jsxs(la,{trigger:t.jsx("div",{}),title:"VS Code Info",description:"",open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,footer:l(),showCancel:!0,contentPadding:"p-0",onCancel:()=>{n(!1)},children:[t.jsx("div",{className:"h-[1px] bg-[#212121]"}),t.jsx("div",{className:" p-4 bg-[#111112] flex flex-col px-3 rounded-t-2xl ",children:o({showHeader:!0})})]}):t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-md",children:[t.jsxs(Al,{children:[t.jsx(uo,{children:"VS Code Link"}),t.jsx(im,{children:"Access VS Code in your browser with the following link and password"})]}),t.jsx("div",{className:"p-6",children:o()}),t.jsxs(Sc,{className:"flex-row justify-between w-full sm:justify-between",children:[t.jsx(wl,{asChild:!0,children:t.jsx(Vt,{variant:"secondary",children:"Cancel"})}),t.jsx(Vt,{onClick:i,children:"Open in Browser"})]})]})})};function _xe({initialVSCodeUrl:e="",initialVSCodePassword:n="",isCloudFlow:s=!1}={}){const[r,i]=d.useState(e),[a,o]=d.useState(n),[l,c]=d.useState(!1),u=d.useCallback(()=>{r&&s?c(!0):r&&p()},[r,s]),p=d.useCallback(()=>{r&&(Dp.openExternal(r),c(!1))},[r]);return{vscodeUrl:r,vscodePassword:a,showVSCodeDialog:l,setVSCodeUrl:i,setVSCodePassword:o,setShowVSCodeDialog:c,handleVSCodeLink:u,handleOpenVSCodeUrl:p}}function jxe({jobId:e,containerId:n,isCloudFlow:s=!1,onVSCodeUrlChange:r,onVSCodePasswordChange:i,autoFetch:a=!0}={}){const[o,l]=d.useState(""),[c,u]=d.useState(""),[p,f]=d.useState(""),[m,h]=d.useState(""),[x,y]=d.useState(""),[v,g]=d.useState(null),[b,{isLoading:w}]=sQ(),N=d.useCallback(async()=>{if(e)try{g(null);const _=await b(e);if(_.data){const C=_.data;l(C.base_preview_url),u(C.preview_url),f(C.vscode_url),h(C.password),y(C.base_preview_url),r&&C.vscode_url&&r(C.vscode_url),i&&C.password&&i(C.password)}else if(_.error){const C="error"in _.error?String(_.error.error):"Failed to fetch preview URL";g(C)}}catch(_){g(_ instanceof Error?_.message:"Failed to refresh preview URL")}},[e,b,r,i]),j=d.useCallback(()=>{l(""),u(""),f(""),h(""),y(""),g(null)},[]);return d.useEffect(()=>{a&&e&&!o&&!w&&N()},[a,e,o,w,N]),{previewUrl:o,shareableUrl:c,vscodeUrl:p,password:m,basePreviewUrl:x,isLoading:w,error:v,setPreviewUrl:l,refresh:N,clearData:j}}function Nxe({containerId:e,jobId:n,isCloudFlow:s=!1,initialCommitId:r}={}){const[i,a]=d.useState([]),[o,l]=d.useState(!1),[c,u]=d.useState(null),{toast:p}=ds(),f=d.useCallback(async()=>{if(r)try{let m;if(s&&n)m=(await yt.getCloudGitDiff(n,void 0,r)).data.data.files.map(x=>({fileName:x,status:"M"}));else{if(!e){p({title:"Error",description:"Unable to show diff - missing container ID",variant:"destructive"});return}m=await Dp.getGitStatus(e,r)}if(!m||m.length===0){p({title:"Info",description:"No changes detected"});return}a(m),l(!0)}catch{p({title:"Error",description:"Failed to get modified files",variant:"destructive"})}},[e,n,s,p,r]);return{modifiedFiles:i,setModifiedFiles:a,showDiffModal:o,setShowDiffModal:l,selectedFile:c,setSelectedFile:u,handleShowDiff:f}}const rB=["EmergentAssistant","ChatAssistant"],hg=e=>e?rB.includes(e):!1,Fxe=({agentState:e,isSubagentActive:n=!1,currentAgentStatus:s="stopped",isPauseLoading:r=!1,forked_status:i=null,lastMessage:a=null})=>{if(r)return n?"subagent_stopping":"stopping";if(a?.next_call_agent&&!hg(a.next_call_agent)){if(!e?.agent_running&&!e?.job_running){if(a?.subagent_trajectory&&a.subagent_trajectory.length>0){const l=a.subagent_trajectory[a.subagent_trajectory.length-1];if(l&&hg(l.next_call_agent))return"waiting"}return"subagent_waiting"}return s==="subagent_stopping"?"subagent_stopping":"subagent_running"}return s==="stopping"?!e?.agent_running&&!e?.job_running?"waiting":"stopping":e?.agent_running||e?.job_running?"running":i==="running"?"forking":"waiting"},Exe=(e,n)=>({id:"perceived-ux-assistant",role:"assistant",content:e,thought:e,action:"initial-llm",timestamp:n||new Date().toISOString(),base64_image_list:[],isPerceivedUXMessage:!0}),Sxe=(e,n,s,r,i)=>({id:"user-task",role:!r||!i||r===i?"user":"member",content:e,timestamp:n||new Date().toISOString(),base64_image_list:s||[],...r&&{user_id:r}}),kxe=e=>{const s=e.function_name==="screenshot_tool"?[]:e.base64_image_list;return{id:`user-${e.step_num}`,role:"user",content:e.human_message||"",timestamp:e.timestamp,base64_image_list:s,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5}},Txe=e=>{const s=e.function_name==="screenshot_tool"?[]:e.base64_image_list;return{id:`member-${e.step_num}`,role:"member",content:e.human_message||"",timestamp:e.timestamp,base64_image_list:s,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5}},Oy=(e,n)=>!e.user_id||!n?!1:e.user_id!==n,Ixe=(e,n)=>Oy(e,n)?Txe(e):kxe(e),Axe=e=>{if(!e||typeof e!="string")return!1;const n=e.toLowerCase();return n.includes("context limit")||n.includes("reached the context")},Dxe=(e,n)=>{const s=e.error&&Axe(e.error_message)?"context_limit_reached":e.action;return{id:`message-${e.step_num}`,role:"assistant",content:e.thought,action:s,strip_message:e.traj_payload?.strip_message,observation:e.observation,env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name||"",timestamp:e.timestamp,step_number:e.step_num,containerId:n,error:e?.error||!1,error_message:e?.error_message||"",error_ts:e.error_ts||"",expertise_type:e.expertise_type,request_id:e.request_id,acc_cost:e.acc_cost,max_budget:e.max_bugdet||e.max_budget,artifacts:e.artifacts,thinking_level:e.thinking_level||"thinking",base64_image_list:e.function_name==="screenshot_tool"?e.base64_image_list||[]:[],enable_rollback:e.enable_rollback,warning_for_token_limit:e.traj_payload?.warning_for_token_limit||!1,current_token_count:e.traj_payload?.current_token_count||0,max_token_count:e.traj_payload?.max_token_count||2e5,switching_to_build_mode:e.traj_payload?.switching_to_build_mode||!1,forked_job_id:e.forked_job_id||e.traj_payload?.forked_job_id||null,forked_from:e.traj_payload?.forked_from||null,fork_status:e.fork_status||e.traj_payload?.fork_status||null,next_call_agent:e.traj_payload?.next_call_agent||null,auto_checkout:e.auto_checkout}},Mxe=(e,n,s,r)=>({id:`subagent-${Oy(e,r)?"member":"user"}-${e.step_num}`,role:Oy(e,r)?"member":"user",content:e.human_message||"",timestamp:e.timestamp,step_number:e.step_num,job_id:n||null,container_id:s,thought:"",enable_rollback:!1,error:!1,error_message:"",action:void 0,thinking_level:"thinking",observation:void 0,env_success:void 0,function_name:void 0,subagent_trajectory:[],args:void 0,base64_image_list:e.base64_image_list,user_id:e.user_id,warning_for_token_limit:!1,current_token_count:0,max_token_count:2e5,request_id:e.request_id,next_call_agent:e.next_call_agent||null}),Lxe=(e,n)=>({id:`subagent-${e.step_num}`,role:"assistant",content:e.thought,action:e.action||"",observation:e.observation||"",env_success:e.env_success,function_name:e.function_name,agent_name:e.agent_name,timestamp:e.timestamp,step_number:e.step_num,job_id:n||null,error:e?.error||!1,request_id:e.request_id,error_message:e?.error_message||"",expertise_type:e.expertise_type,base64_image_list:e.human_message?[]:e.base64_image_list||[],switching_to_build_mode:e.traj_payload?.switching_to_build_mode||!1,next_call_agent:e.traj_payload?.next_call_agent||null}),Rxe=(e,n,s,r)=>{if(n!==s&&e[r].action==="finish")return!1;if(n!==s&&e[r].action&&!e[r].observation)return!0;const i=!e.slice(r+1).some(a=>a.agent_name===n);return!!(n!==s&&i)},Pxe=({task:e,initialPerceivedMsg:n,containerId:s,jobId:r,showSubagentPanel:i,selectedMessageId:a,selectedSubagent:o,setSelectedSubagentMessages:l,setIsSubagentActive:c,setAiMessages:u,getCurrentMessages:p,createdByUserId:f})=>{const{user:m}=xs(),h=(g,b)=>{if(g.length!==b.length)return!1;for(let w=0;w<g.length;w++){if(g[w].id!==b[w].id||g[w].content!==b[w].content||g[w].timestamp!==b[w].timestamp||g[w]?.error!==b[w]?.error||g[w].function_name!==b[w].function_name||g[w].action!==b[w].action||g[w].observation!==b[w].observation||g[w].forked_job_id!==b[w].forked_job_id||g[w].forked_from!==b[w].forked_from||g[w].fork_status!==b[w].fork_status)return!1;const N=g[w].subagent_trajectory?.length||0,j=b[w].subagent_trajectory?.length||0;if(N!==j)return!1}return!0},x=d.useCallback((g,b,w)=>{const{messages:N}=v(g,w);if(i&&a){const C=N.find(F=>F.id===a);C&&C.subagent_trajectory&&C.subagent_trajectory.length>0&&C.agent_name===o&&l(C.subagent_trajectory)}const j=b?[...N,b]:N,_=p?.()||[];h(_,j)||u(j)},[e,s,r,i,a,o,l,c,u,p]),y=g=>{const b=[];let w=0;for(;w<g.length;){const N=g[w];if(N.function_name==="artifact_shared"){let j=-1;for(let _=w+1;_<g.length;_++)if(g[_].role==="user"||g[_].role==="member"){j=_;break}if(j!==-1){const _=g[j],C={..._,artifacts:N.artifacts||_.artifacts,base64_image_list:_.base64_image_list||N.base64_image_list,artifact_shared_data:{artifacts:N.artifacts,base64_image_list:N.base64_image_list,content:N.content,agent_name:N.agent_name}};for(let F=w+1;F<j;F++)b.push(g[F]);b.push(C),w=j+1}else w++}else b.push(N),w++}return b},v=d.useCallback((g,b)=>{const w=[];let N=[],j=null,_=!1,C=-1,F=0;if(n){const M=Exe(n,b);w.push(M)}if(e){const k=(p?.()||[]).find(B=>B.id==="user-task");g[0].action==="initial-llm"&&(F=1);const I=g[F],D=I?.traj_payload?.action==="artifact_share";let P=k?.base64_image_list?.length?k.base64_image_list:I?.base64_image_list,R=Sxe(e,b,P,f,m?.id);D&&I?.traj_payload?.artifacts&&(R={...R,artifacts:I.traj_payload.artifacts,artifact_shared_data:{artifacts:I.traj_payload.artifacts,base64_image_list:I.base64_image_list||[],content:I.thought||"USER SHARED ASSETS WITH AGENT",agent_name:I.agent_name||void 0}}),w.push(R)}const E=M=>{const k=M||"EmergentAssistant";return rB.includes(k)};if(g.forEach((M,k)=>{if(k===F&&M.traj_payload?.action==="artifact_share")return;const I=M.agent_name||"EmergentAssistant",D=g[0].agent_name||"EmergentAssistant",P=j||"EmergentAssistant",R=E(I);if(R||(_=Rxe(g,I,D,k)||_),M.human_message&&R){const B=Ixe(M,m?.id);w.push(B)}if(j!==null&&I!==P&&N.length>0&&C>=0){const B=w[C];B.subagent_trajectory=[...N],N=[]}if(!R)M.human_message&&N.push(Mxe(M,r,s,m?.id)),N.push(Lxe(M,r));else{if(!(M.action||M.observation||M.thought)&&!M.error)return;const B=Dxe(M,s);w.push(B),C=w.length-1}j=I}),N.length>0&&C>=0){const M=w[C];M.subagent_trajectory=[...N]}if(g.length>0){const M=g[g.length-1],k=E(M.agent_name);(!k&&M.action==="finish"||k)&&(_=!1)}return{messages:y(w),hasActiveSubagent:_}},[e,n,s,r,p,m?.id]);return{processTrajectory:x}},iB=e=>{if(!e)return 0;const n=localStorage.getItem("rollback_retry_attempt_job_id_map");return JSON.parse(n||"{}")[e]||0},Oxe=async({jobId:e,rollbackRequestId:n,rollbackType:s,currentAttempt:r})=>{let i=null;const a=r>1;if(!e)throw new Error("Job ID not available");return i=await yt.rollbackToRequestId(e,n,void 0,s,a),i};function Bxe({containerId:e,jobId:n,session:s,resetPolling:r,onRollbackSuccess:i,rollbackRequestId:a,maxAttempts:o=3}){const[l,c]=d.useState(!1),[u,p]=d.useState("INIT"),[f,m]=d.useState(iB(a||"")),h=d.useCallback(async(v="all")=>{if(!a){$s({title:"Error",description:"No rollback request ID available",variant:"destructive"});return}c(!0),p("IN_PROGRESS"),f>=o&&p("FAILED");const g=f+1;try{const b=await Oxe({jobId:n,rollbackRequestId:a,rollbackType:v,currentAttempt:g});if(b&&b.status!==!1&&b.status!=="fail"&&b.http_status_code!=="400")c(!1),p("COMPLETED"),m(0);else throw new Error("Failed to execute rollback command")}catch{c(!1);let w="Error";const N=f+1,j=JSON.parse(localStorage.getItem("rollback_retry_attempt_job_id_map")||"{}");localStorage.setItem("rollback_retry_attempt_job_id_map",JSON.stringify({...j,[a]:N})),N>=o?(p("FAILED"),w="Failed"):p("ERROR"),$s({title:w,description:"Failed to execute rollback command",variant:"destructive"})}},[a,n,i]),x=d.useCallback(v=>{v&&p(v),r()},[r]),y=d.useCallback(()=>{p("INIT"),c(!1)},[]);return{isRollbackLoading:l,rollbackStatus:u,retryAttempted:f,handleConfirmRollback:h,handleRollbackComplete:x,resetRollbackStatus:y}}const Uxe=({color:e="#ED5B5B",size:n=40})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M7 14C6.03167 14 5.12167 13.8162 4.27 13.4487C3.41833 13.0812 2.6775 12.5825 2.0475 11.9525C1.4175 11.3225 0.91875 10.5817 0.55125 9.73C0.18375 8.87833 0 7.96833 0 7C0 6.03167 0.18375 5.12167 0.55125 4.27C0.91875 3.41833 1.4175 2.6775 2.0475 2.0475C2.6775 1.4175 3.41833 0.91875 4.27 0.55125C5.12167 0.18375 6.03167 0 7 0C7.96833 0 8.87833 0.18375 9.73 0.55125C10.5817 0.91875 11.3225 1.4175 11.9525 2.0475C12.5825 2.6775 13.0812 3.41833 13.4487 4.27C13.8162 5.12167 14 6.03167 14 7C14 7.96833 13.8162 8.87833 13.4487 9.73C13.0812 10.5817 12.5825 11.3225 11.9525 11.9525C11.3225 12.5825 10.5817 13.0812 9.73 13.4487C8.87833 13.8162 7.96833 14 7 14Z",fill:e}),t.jsx("rect",{x:"6",y:"3",width:"2",height:"5",rx:"1",fill:"#111112"}),t.jsx("rect",{x:"6",y:"9",width:"2",height:"2",rx:"1",fill:"#111112"})]}),ex=({size:e=20,color:n="#FF884D",className:s=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M9.97494 20C7.38513 20 5.13784 19.1417 3.23308 17.425C1.32832 15.7083 0.250627 13.5667 0 11H2.03008C2.2807 13.0167 3.16207 14.6875 4.67419 16.0125C6.1863 17.3375 7.95322 18 9.97494 18C12.2139 18 14.1103 17.225 15.6642 15.675C17.218 14.125 17.995 12.2333 17.995 10C17.995 7.76667 17.218 5.875 15.6642 4.325C14.1103 2.775 12.2139 2 9.97494 2C8.53801 2 7.20551 2.35417 5.97744 3.0625C4.74937 3.77083 3.77611 4.75 3.05764 6H5.96491V8H0.150376C0.634921 5.66667 1.79616 3.75 3.63409 2.25C5.47201 0.75 7.58563 0 9.97494 0C11.3617 0 12.665 0.2625 13.8847 0.7875C15.1044 1.3125 16.1654 2.025 17.0677 2.925C17.9699 3.825 18.6842 4.88333 19.2105 6.1C19.7368 7.31667 20 8.61667 20 10C20 11.3833 19.7368 12.6833 19.2105 13.9C18.6842 15.1167 17.9699 16.175 17.0677 17.075C16.1654 17.975 15.1044 18.6875 13.8847 19.2125C12.665 19.7375 11.3617 20 9.97494 20Z",fill:n}),t.jsx("path",{d:"M12.7822 14.2L8.97266 10.4V5H10.9777V9.6L14.1857 12.8L12.7822 14.2Z",fill:n})]}),UF=({color:e="#7A7A7B",size:n=32})=>t.jsxs("svg",{width:n,height:n,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("rect",{width:n,height:n,rx:"8",fill:e,fillOpacity:"0.1"}),t.jsx("path",{d:"M24.0013 15.9997C24.0013 11.581 20.4193 7.99902 16.0006 7.99902C11.582 7.99902 8 11.581 8 15.9997C8 20.4183 11.582 24.0003 16.0006 24.0003C20.4193 24.0003 24.0013 20.4183 24.0013 15.9997Z",stroke:e,strokeWidth:"1.2"}),t.jsx("path",{d:"M16 16L21 16C21 16.9889 20.7068 17.9556 20.1573 18.7778C19.6079 19.6001 18.827 20.241 17.9134 20.6194C16.9998 20.9978 15.9945 21.0968 15.0246 20.9039C14.0546 20.711 13.1637 20.2348 12.4645 19.5355C11.7652 18.8363 11.289 17.9454 11.0961 16.9754C10.9032 16.0055 11.0022 15.0002 11.3806 14.0866C11.759 13.173 12.3999 12.3921 13.2222 11.8427C14.0444 11.2932 15.0111 11 16 11L16 16Z",fill:e})]}),VF=[{id:1,label:"Pausing the Agent"},{id:2,label:"Cleaning up the context"},{id:3,label:"Restoring previous workspace state"},{id:4,label:"Finalizing the reversion"}],M1=({header:e})=>t.jsx("div",{className:"px-6 pt-6 pb-3",children:t.jsx("h2",{className:"text-[24px] font-semibold text-white",children:e})}),L1=({status:e})=>{switch(e){case"INIT":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 pb-0 overflow-y-auto",children:t.jsxs("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:["Youre about to revert this conversation to an earlier state. Doing so will permanently delete all"," ",t.jsx("span",{className:"font-medium text-white",children:"messages"})," and"," ",t.jsx("span",{className:"font-medium text-white",children:"code generated"})," after the selected point."]})});case"IN_PROGRESS":return null;case"COMPLETED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"Your chat, code, and workspace have been successfully rolled back to the selected point. All changes made after that have been erased."})});case"ERROR":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"Your attempt to roll back couldn't be completed due to a temporary connection issue or because the snapshot data is still processing."})});case"FAILED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-3 overflow-y-auto",children:t.jsx("p",{className:"text-[15px] text-[#6E717A] max-w-[600px] font-inter leading-7",children:"We have tried multiple times to roll back to your selected point, but the operation cannot be completed. Your current session may be unusable."})});default:return null}},R1=({status:e,prompt:n,nextAction:s})=>{switch(e){case"INIT":return t.jsx("div",{className:"flex-1 min-h-0 px-6 overflow-y-auto",children:t.jsx("p",{className:"text-[#FF884D] text-base font-medium mb-6 font-inter",children:n})});case"IN_PROGRESS":return null;case"COMPLETED":return t.jsx("div",{className:"flex-1 min-h-0 pt-6 px-6 pb-6 overflow-y-auto",children:t.jsx("p",{className:"text-[#27BF7B] text-base font-medium font-inter leading-7",children:n})});case"ERROR":return t.jsxs("div",{className:"flex-1 min-h-0 px-6 pt-6 pb-6 overflow-y-auto font-inter",children:[t.jsx("span",{className:"text-[#ED5B5B] text-base font-medium font-inter leading-7",children:`${n} - `}),s&&t.jsx("span",{className:"text-base font-medium text-white font-inter",children:s})]});case"FAILED":return t.jsx("div",{className:"flex-1 min-h-0 px-6 pt-6 pb-6 overflow-y-auto",children:t.jsxs("p",{className:"mb-6 text-base font-medium text-white font-inter leading-7",children:[t.jsxs("div",{className:"inline-flex gap-2 items-top font-inter",children:[t.jsx(Oae,{size:35,color:"#ED5B5B"}),n]}),s&&t.jsxs("div",{className:"mt-4 mb-8 text-base font-medium text-white",children:[t.jsxs("div",{className:"inline-flex gap-2 items-top font-inter",children:[t.jsx(d2,{size:22,color:"white"}),s]}),t.jsxs("span",{className:"text-base font-medium text-green-500",children:[" ",p9]})]})]})});default:return null}},Vxe=({currentStatus:e})=>{switch(e){case"COMPLETED":return t.jsxs("div",{children:[t.jsx(ex,{className:"w-6 h-6 text-white",color:"#fff"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 p-1 rounded-full bg-[#18181A]",children:t.jsx("div",{className:"bg-[#29CC83] rounded-full w-[14px] h-[14px] flex items-center justify-center",children:t.jsx(Mn,{className:"w-[10px] h-[10px] text-black stroke-[5]"})})})]});case"IN_PROGRESS":case"INIT":return t.jsx(ex,{size:20,color:"#FF884D"});case"FAILED":case"ERROR":return t.jsxs("div",{children:[t.jsx(ex,{className:"w-6 h-6 text-white",color:"#fff"}),t.jsx("div",{className:"absolute -bottom-1 -right-1 p-1 rounded-full flex items-center justify-center bg-[#18181A]",children:t.jsx("div",{className:"bg-[#ED5B5B] rounded-full",children:t.jsx(Uxe,{size:14,color:"#ED5B5B"})})})]});default:return null}},Hxe=({currentStatus:e,onOpenChange:n,hideCloseButton:s})=>t.jsxs("div",{className:"mx-6 mt-6 flex justify-between items-center",children:[t.jsx("div",{className:A("flex relative items-center justify-center w-10 h-10 rounded-full bg-white/5",["IN_PROGRESS","INIT"].includes(e)&&"bg-[#FF884D]/10"),children:t.jsx(Vxe,{currentStatus:e})}),!s&&t.jsx("button",{type:"button","data-testid":Rr.rollback.closeButton,onClick:()=>n(!1),className:"w-7 h-7 flex items-center justify-center text-[#737780] bg-white/5 rounded-full hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Xc={INIT:{status:"INIT",header:t.jsx(M1,{header:"Revert to a Previous Point"}),description:t.jsx(L1,{status:"INIT"}),prompt:t.jsx(R1,{status:"INIT",prompt:"This action cannot be undone."}),etaMessage:"Reverting typically takes 12 minutes.",buttons:["cancel","confirm"]},IN_PROGRESS:{status:"IN_PROGRESS",header:t.jsx(M1,{header:"Reverting to the previous point"}),description:t.jsx(L1,{status:"IN_PROGRESS"}),prompt:t.jsx(R1,{status:"IN_PROGRESS",prompt:"Are you sure you want to continue?"}),eta:!0,buttons:["inProgress"]},COMPLETED:{status:"COMPLETED",header:t.jsx(M1,{header:"Reversion Complete !"}),description:t.jsx(L1,{status:"COMPLETED"}),prompt:t.jsx(R1,{status:"COMPLETED",prompt:"To continue, send a message to our agent to restart the conversation."}),buttons:["okay"]},ERROR:{status:"ERROR",header:t.jsx(M1,{header:"Rollback Failed !"}),description:t.jsx(L1,{status:"ERROR"}),prompt:t.jsx(R1,{status:"ERROR",prompt:"Please try again",nextAction:"If the problem persists after multiple attempts, a more serious issue may be at play."}),attempts:!0,maxAttempts:3,buttons:["contact","retry"]},FAILED:{status:"FAILED",header:t.jsx(M1,{header:"Rollback Permanently Failed"}),description:t.jsx(L1,{status:"FAILED"}),prompt:t.jsx(R1,{status:"FAILED",prompt:"Unfortunately, your work since the last successful snapshot may not be recoverable through normal means.",nextAction:"Please contact support for assistance with restoring your work"}),buttons:["contact","okay-failed"]}};function $xe({isOpen:e,onOpenChange:n,rollbackRequestId:s,containerId:r,jobId:i,session:a,resetPolling:o,setAiMessages:l}){const[c,u]=d.useState(0),[p,f]=d.useState(0),[m,h]=d.useState("INIT"),[x,y]=d.useState("all"),{isRollbackLoading:v,rollbackStatus:g,handleConfirmRollback:b,handleRollbackComplete:w,resetRollbackStatus:N}=Bxe({containerId:r,jobId:i,session:a,resetPolling:o,rollbackRequestId:s,onRollbackSuccess:()=>l([]),maxAttempts:D_});d.useEffect(()=>{let C,F;return e&&h(g),g==="IN_PROGRESS"&&(C=setInterval(()=>{f(E=>E+1)},1e3),c<VF.length-1&&(F=setTimeout(()=>{u(S=>S+1)},[2e3,3e3,4e3,3e3,3e3][c]))),g==="COMPLETED"&&(w(),e&&h("COMPLETED")),(g==="INIT"||g==="ERROR"||g==="FAILED")&&(u(0),f(0)),()=>{clearInterval(C),clearTimeout(F)}},[v,g,c,e]),d.useEffect(()=>{iB(s||"")>=D_?h("FAILED"):h("INIT")},[s]),d.useEffect(()=>{e&&(N(),h("INIT"),u(0),f(0))},[e,N]);const j=()=>{n(!1)},_=C=>{const F=Math.floor(C/60),E=C%60;return`${F.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`};return t.jsx(zn,{open:e,onOpenChange:j,children:t.jsxs(dr,{onInteractOutside:C=>{m==="IN_PROGRESS"&&C.preventDefault()},className:"p-0 m-4 mx-auto max-w-[calc(100vw-32px)] md:max-w-[600px] max-h-[85vh] flex flex-col border-[#2A2A2C] bg-[#18181A] overflow-hidden",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Hxe,{currentStatus:m,onOpenChange:j,hideCloseButton:m==="IN_PROGRESS"}),Xc[m].header]}),Xc[m].description,Xc[m].prompt,m==="INIT"?t.jsx("div",{className:"flex-1 min-h-0 px-6 pb-6 overflow-y-auto",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{title:"Erase all messages and generated code",type:"radio",id:"confirm-rollback-all",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 checked:bg-[#FF884D] cursor-pointer",onChange:()=>y("all"),checked:x==="all"}),t.jsx(Ko,{htmlFor:"confirm-rollback-all",className:"text-white font-inter cursor-pointer text-md",children:"Erase all messages and generated code"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{title:"Erase messages only (keep code)",type:"radio",id:"confirm-rollback-messages",name:"rollback-confirmation",className:"h-4 w-4 accent-[#FF884D] border-[#FF884D] focus:ring-[#FF884D] focus:ring-offset-0 bg-transparent cursor-pointer",onChange:()=>y("messages"),checked:x==="messages"}),t.jsx(Ko,{htmlFor:"confirm-rollback-messages",className:"text-white font-inter cursor-pointer text-md",children:"Erase messages only (keep code)"})]})]})}):null,m==="IN_PROGRESS"?t.jsx("div",{className:"flex-1 min-h-0 px-6 py-6 overflow-y-auto",children:t.jsx("div",{className:"space-y-6",children:VF.map((C,F)=>{let E;return F<c?E="completed":F===c?E="active":E="pending",t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-6 h-6 mr-3",children:E==="completed"?t.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:t.jsx(Mn,{className:"w-5 h-5 text-white",strokeWidth:4})}):E==="active"?t.jsx(Td,{className:"text-[#FF884D] w-5 h-5"}):t.jsx("div",{className:"w-5 h-5 rounded-full border border-[#2A2A2C]"})}),t.jsx("span",{className:A("text-base font-inter",E==="active"?"text-[#FF884D] font-medium":"text-[#8A8B91]"),children:C.label})]},C.id)})})}):null,t.jsx("div",{className:"border-t border-[#242424] px-6 py-6",children:t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsxs("div",{className:"items-center hidden flex-grow-2 md:flex gap-3",children:[Xc[m].etaMessage?t.jsxs(t.Fragment,{children:[t.jsx(UF,{size:32,color:"#7A7A7B"}),t.jsx("div",{className:"text-[#8A8B91] text-sm hidden md:block font-inter",children:Xc[m].etaMessage})]}):null,Xc[m].eta?t.jsxs(t.Fragment,{children:[t.jsx(UF,{size:32,color:"#7A7A7B"}),t.jsx("div",{className:"text-[#8A8B91] text-lg font-inter",children:_(p)})]}):null]}),t.jsx("div",{className:"flex items-center gap-2",children:Xc[m].buttons.map((C,F)=>{switch(C){case"cancel":return t.jsx(Vt,{variant:"secondary",onClick:()=>j(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:"Cancel"},F);case"confirm":return t.jsxs(Vt,{onClick:()=>{b(x),f(0),u(0)},className:"bg-[#FF884D] hover:bg-[#E57440] font-semibold text-background rounded-full h-10 px-4 flex items-center",children:["Confirm Revert",t.jsx(ex,{className:"ml-2",color:"#000000"})]},F);case"inProgress":return t.jsxs(Vt,{variant:"secondary",onClick:()=>{},className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6",children:[t.jsx("span",{className:"font-medium text-[#FF884D]",children:"Reverting..."}),t.jsx("div",{className:"ml-2 w-5 h-5 rounded-full border-2 border-[#FF884D] border-t-transparent animate-spin"})]},F);case"okay":return t.jsx(Vt,{onClick:()=>{j()},className:"flex items-center h-10 px-6 text-white bg-white/10 rounded-full hover:bg-white/20",children:"Okay, Got It"},F);case"okay-failed":return t.jsx(Vt,{onClick:()=>j(),className:"flex items-center h-10 px-6 text-black bg-white rounded-full hover:bg-white/80",children:"Okay, Got It"},F);case"retry":return t.jsxs(Vt,{onClick:()=>b(x),className:"flex items-center h-10 px-6 bg-white rounded-full hover:bg-white/80 text-background",children:["Retry",t.jsx($ae,{className:"w-5 h-5"})]},F);case"contact":return t.jsxs(Vt,{onClick:()=>window.location.href=`mailto:${p9}`,className:"bg-[#272729] hover:bg-[#3A3A3C] text-white rounded-full h-10 px-6 flex items-center",children:["Contact Support",t.jsx(d2,{className:"w-5 h-5 ml-2"})]},F);case"back":return t.jsxs(Vt,{variant:"secondary",onClick:()=>j(),className:"text-[#DDDDE6] bg-[#2A2A2C] hover:bg-[#3A3A3C] rounded-full h-10 px-6 flex items-center gap-2",children:[t.jsx(zae,{className:"w-5 h-5"}),"Go Back"]});default:return null}})})]})})]})})}const zxe=W.common.bot,Wxe=W.common.play;function Gxe(){const{setTabs:e,setActiveTab:n,updateTabState:s}=qr(),r=Na(),i=()=>{const a=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e(o=>[...o,{id:a,title:"New Task",path:"/create-task",state:{tabId:a,sourceTabId:a}}]),s(a,{isCloudFlow:!0}),n(a),r("/create-task")};return t.jsx("div",{className:"w-full flex mx-auto pb-10",children:t.jsxs("div",{className:"max-w-4xl mx-auto my-8 group flex flex-col space-y-[10px]",children:[t.jsx("div",{className:"px-4 py-1 rounded-lg overflow-hidden space-y-[10px]",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Xd,{className:"h-10 w-10 flex-shrink-0 bg-background border border-[1px] border-[#252526]",children:t.jsx(zp,{className:"bg-background",children:t.jsx("img",{src:zxe,alt:"Robot",className:"w-fit h-8"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"prose prose-invert max-w-none",children:["We're sorry, but we couldn't complete the rollback operation. Any work since your last successful snapshot may be affected. Please contact our support team for assistance with restoring your work",t.jsx("p",{children:"To continue working, you'll need to start a new chat session."})]})})]})}),t.jsxs("div",{className:"flex justify-start mx-8 px-8 pt-6 space-x-4",children:[t.jsxs(Vt,{onClick:a=>{a.preventDefault(),a.stopPropagation(),i()},className:"bg-white hover:bg-gray-200 text-black font-semibold rounded-full h-10 pl-5 pr-4 flex items-center",children:["Start New Run",t.jsx("img",{src:Wxe,className:"w-5 h-5"})]}),t.jsxs(Vt,{onClick:()=>Dp.openExternal(`mailto:${p9}`),className:"bg-[#272729] hover:bg-[#3A3A3C] text-white font-medium rounded-full h-10 pl-5 pr-4 flex items-center",children:["Contact Support",t.jsx(d2,{className:"w-5 h-5 ml-2"})]})]}),t.jsx("div",{className:"flex justify-end mx-8",children:t.jsx("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:t.jsx("span",{className:"font-['JetBrains Mono'] text-[15px] leading-[20px]",children:new Date(new Date().toISOString()).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})})})})]})})}const qxe=W.common.alertFill,Kxe=(e,n,s,r={})=>{Fd(n,{errorTitle:e,...r}),s({variant:"destructive",title:"",duration:5e3,description:t.jsxs("div",{className:"relative w-full p-4 pb-6",children:[t.jsx("img",{src:qxe,alt:"Error",className:" left-4 top-4",width:24,height:24}),t.jsxs("div",{className:"pt-4",children:[t.jsx("div",{className:"mb-1 text-base font-inter font-semibold text-[#ed5b5b]",children:e}),t.jsx("div",{className:"text-base font-inter text-[#cca3a3]",children:e.toLowerCase().includes("email")?"Please enter a valid invite code to sign up. If you believe this is an error, reach out to support@emergent.sh for assistance.":n})]})]}),className:"bg-[#261818] border-none p-0 rounded-lg "})},Yxe=()=>{const{toast:e}=ds(),{user:n}=xs(),s=qr();return{showErrorToast:(r,i,a={})=>{const o={userId:n?.id,userEmail:n?.email,jobId:s?.jobId,containerId:s?.containerId,...a};Kxe(r,i,e,o)}}};function Zxe(e){const[n,s]=d.useState(!1),[r,i]=d.useState("cdn"),[a,o]=d.useState(""),[l,c]=d.useState(!0);return d.useEffect(()=>{if(!e){c(!1);return}const u=e.split(".")[0],{cdnUrl:p}=wa;if(!u||!p){c(!1);return}(async()=>{s(!0);try{const m=p.startsWith("http")?p:`https://${u}.${p}`;return(await fetch(m)).ok?(i("cdn"),o(m),!0):(i("game"),!1)}catch{return i("game"),!1}finally{s(!1),c(!1)}})()},[e]),{cdnLoading:n,previewSource:r,cdnUrl:a,setPreviewSource:i,initializing:l}}const aB=()=>{const[e,n]=d.useState(!1),[s]=rQ();return{isDownloading:e,handleDownload:async i=>{if(!(!i||e)){n(!0);try{const a=await s(i).unwrap();if(a?.download_url){const o=a.file_name||`code-backup-${i}.tar.gz`;await lh(a.download_url,o)}}catch{}finally{n(!1)}}}}},By=({children:e,className:n="",title:s="preview",maxWidth:r="400px",aspectRatio:i="9/19.5"})=>t.jsx("div",{className:`relative w-full h-full ${n}`,style:{maxWidth:r,aspectRatio:i},children:t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 427 881",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",filter:"url(#shadow)",className:"w-full h-full",children:[t.jsxs("g",{clipPath:"url(#clip0_2905_1090)",children:[t.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"black"}),t.jsx("rect",{x:"3.83268",y:"3.83366",width:"419",height:"873",rx:"66.1667",className:"stroke-[#dcdcdf] dark:stroke-[#454548]",strokeWidth:"4.33333"}),t.jsx("rect",{x:"0.833333",y:"0.833333",width:"425",height:"879",rx:"69.1667",className:"stroke-[#c1c2c4] dark:stroke-[#37373a]",strokeWidth:"1.66667"}),t.jsx("g",{opacity:"0.9",filter:"url(#filter0_f_2905_1090)",children:t.jsx("rect",{x:"1.66602",y:"2",width:"423.333",height:"877",rx:"68.6667",className:"stroke-[#b2b2b9] dark:stroke-[#454548]",strokeWidth:"1.66667"})}),t.jsx("g",{opacity:"0.8",filter:"url(#filter1_f_2905_1090)",children:t.jsx("rect",{x:"7.33268",y:"7.33366",width:"412",height:"866",rx:"62.6667",stroke:"#646464",strokeWidth:"0.666667"})}),t.jsx("foreignObject",{x:"18",y:"18",width:"390",height:"844",rx:"55",clipPath:"url(#clip1_2905_1090)",children:t.jsx("div",{className:"size-full pt-[62px] pb-[34px] overflow-hidden rounded-[55.75px] object-contain bg-white",children:e})}),t.jsx("rect",{width:"139",height:"5",rx:"2.5",transform:"matrix(-1 0 0 1 284 849)",className:"fill-[black] dark:fill-[#ffffffa2]"}),t.jsx("path",{d:"M73.7471 43.5257C76.5938 43.5257 78.966 45.522 78.966 50.0516V50.0695C78.966 54.3395 76.9876 56.8908 73.6934 56.8908C71.3032 56.8908 69.5129 55.5122 69.11 53.5607L69.0921 53.4622H71.3838L71.4106 53.5428C71.7598 54.429 72.5475 55.002 73.7023 55.002C75.7791 55.002 76.6475 53.0146 76.737 50.5708C76.7459 50.4365 76.7549 50.3022 76.7549 50.159H76.7012C76.1909 51.3407 74.9019 52.2358 73.1563 52.2358C70.6676 52.2358 68.9131 50.4455 68.9131 48.0195V48.0016C68.9131 45.3966 70.9631 43.5257 73.7471 43.5257ZM73.7471 50.4544C75.2241 50.4544 76.3521 49.416 76.3521 47.9748V47.9658C76.3521 46.5335 75.2241 45.4146 73.7739 45.4146C72.3416 45.4146 71.1868 46.5246 71.1868 47.9211V47.939C71.1868 49.4071 72.279 50.4544 73.7471 50.4544ZM81.8485 48.2165C81.1234 48.2165 80.5505 47.6436 80.5505 46.9185C80.5505 46.1934 81.1234 45.6294 81.8485 45.6294C82.5736 45.6294 83.1375 46.1934 83.1375 46.9185C83.1375 47.6436 82.5736 48.2165 81.8485 48.2165ZM81.8485 54.7871C81.1234 54.7871 80.5505 54.2142 80.5505 53.4891C80.5505 52.764 81.1234 52.2 81.8485 52.2C82.5736 52.2 83.1375 52.764 83.1375 53.4891C83.1375 54.2142 82.5736 54.7871 81.8485 54.7871ZM91.0778 56.667V54.1873H84.6325V52.2179L89.9946 43.7495H93.2799V52.2896H95.0345V54.1873H93.2799V56.667H91.0778ZM86.7093 52.3433H91.1136V45.4951H91.0599L86.7093 52.2806V52.3433ZM99.7163 56.667V45.9517H99.6626L96.3236 48.2433V46.1217L99.6984 43.7495H101.981V56.667H99.7163Z",className:"fill-[black]"}),t.jsxs("g",{opacity:"0.9",children:[t.jsx("rect",{x:"297.333",y:"50",width:"3.33333",height:"4",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"302",y:"48",width:"3.33333",height:"6",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"307",y:"45.667",width:"3.33333",height:"8.33333",rx:"0.333333",className:"fill-[black]"}),t.jsx("rect",{x:"311.666",y:"43",width:"3.33333",height:"11",rx:"0.333333",className:"fill-[black]"})]}),t.jsxs("g",{opacity:"0.9",children:[t.jsx("path",{d:"M341.382 45.8776C339.208 43.6888 336.196 42.3335 332.867 42.3335C329.528 42.3335 326.508 43.6969 324.333 45.8974L326.219 47.7831C327.911 46.0652 330.265 45.0002 332.867 45.0002C335.459 45.0002 337.805 46.057 339.496 47.7633L341.382 45.8776Z",className:"fill-[black]"}),t.jsx("path",{d:"M338.318 48.9418C336.928 47.5371 334.999 46.6668 332.867 46.6668C330.725 46.6668 328.788 47.5453 327.397 48.9616L329.283 50.8474C330.191 49.9136 331.462 49.3335 332.867 49.3335C334.263 49.3335 335.525 49.9053 336.432 50.8275L338.318 48.9418Z",className:"fill-[black]"}),t.jsx("path",{d:"M335.253 52.006C334.648 51.3855 333.803 51.0002 332.867 51.0002C331.922 51.0002 331.068 51.3938 330.462 52.0261L332.847 54.412L335.253 52.006Z",className:"fill-[black]"})]}),t.jsx("rect",{opacity:"0.6",x:"351.166",y:"43.167",width:"22.3333",height:"10.6667",rx:"2.16667",className:"stroke-[black] dark:stroke-[white]"}),t.jsx("rect",{opacity:"0.9",x:"352.333",y:"44.3335",width:"20",height:"8.33333",rx:"1.33333",className:"fill-[black]"}),t.jsx("path",{opacity:"0.6",d:"M374.666 47V47C375.402 47 375.999 47.597 375.999 48.3333V48.6667C375.999 49.403 375.402 50 374.666 50V50V47Z",className:"fill-[black]"}),t.jsx("rect",{x:"151.666",y:"31.667",width:"123.333",height:"36",rx:"18",fill:"black"}),t.jsxs("g",{opacity:"0.75",children:[t.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",fill:"#121212"}),t.jsx("rect",{x:"241.999",y:"41.3338",width:"16.6667",height:"16.6667",rx:"8.33333",stroke:"#0E0E0E",strokeWidth:"0.666667"}),t.jsx("g",{filter:"url(#filter2_f_2905_1090)",children:t.jsx("path",{d:"M248.476 45.9526C245.66 46.778 244.722 51.5241 248.476 53.3812C247.538 50.905 247.538 48.6352 248.476 45.9526Z",fill:"#50A99A"})}),t.jsx("g",{filter:"url(#filter3_f_2905_1090)",children:t.jsx("path",{d:"M247.857 47.667C246.449 48.1114 245.98 50.667 247.857 51.667C247.388 50.3337 247.388 49.1114 247.857 47.667Z",fill:"#50A99A"})}),t.jsx("g",{opacity:"0.4",filter:"url(#filter4_f_2905_1090)",children:t.jsx("path",{d:"M248.436 47.0219C247.23 47.2038 246.348 50.5423 247.805 51.4287C247.289 50.2382 247.547 47.8573 248.436 47.0219Z",fill:"#D0FFF7"})}),t.jsx("g",{filter:"url(#filter5_f_2905_1090)",children:t.jsx("path",{d:"M252.19 45.9526C255.006 46.778 255.944 51.5241 252.19 53.3812C253.128 50.905 253.128 48.6352 252.19 45.9526Z",fill:"#3E518C"})}),t.jsx("g",{filter:"url(#filter6_f_2905_1090)",children:t.jsx("path",{d:"M252.809 47.667C254.217 48.1114 254.686 50.667 252.809 51.667C253.278 50.3337 253.278 49.1114 252.809 47.667Z",fill:"#26408D"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter7_f_2905_1090)",children:t.jsx("path",{d:"M252.23 47.0219C253.437 47.2038 254.318 50.5423 252.861 51.4287C253.377 50.2382 253.119 47.8573 252.23 47.0219Z",fill:"#0D308C"})})]}),t.jsxs("g",{opacity:"0.4",children:[t.jsx("rect",{width:"24",height:"24",rx:"12",transform:"matrix(-1 0 0 1 181.666 37.667)",fill:"#141414"}),t.jsx("rect",{width:"15.6",height:"15.6",rx:"7.8",transform:"matrix(-1 0 0 1 177.466 41.8672)",fill:"black"}),t.jsx("g",{filter:"url(#filter8_f_2905_1090)",children:t.jsx("path",{d:"M172.006 44.9868C175.554 46.0268 176.736 52.0068 172.006 54.3468C173.189 51.2268 173.189 48.3668 172.006 44.9868Z",fill:"#50A99A"})}),t.jsx("g",{filter:"url(#filter9_f_2905_1090)",children:t.jsx("path",{d:"M172.786 47.147C174.56 47.707 175.151 50.927 172.786 52.187C173.377 50.507 173.377 48.967 172.786 47.147Z",fill:"#50A99A"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter10_f_2905_1090)",children:t.jsx("path",{d:"M172.056 46.3343C173.576 46.5634 174.687 50.7699 172.851 51.8868C173.501 50.3868 173.176 47.3868 172.056 46.3343Z",fill:"#D0FFF7"})}),t.jsx("g",{filter:"url(#filter11_f_2905_1090)",children:t.jsx("path",{d:"M167.325 44.9868C163.777 46.0268 162.595 52.0068 167.325 54.3468C166.143 51.2268 166.143 48.3668 167.325 44.9868Z",fill:"#3E518C"})}),t.jsx("g",{filter:"url(#filter12_f_2905_1090)",children:t.jsx("path",{d:"M166.545 47.147C164.771 47.707 164.180 50.927 166.545 52.187C165.954 50.507 165.954 48.967 166.545 47.147Z",fill:"#26408D"})}),t.jsx("g",{opacity:"0.5",filter:"url(#filter13_f_2905_1090)",children:t.jsx("path",{d:"M167.275 46.3343C165.755 46.5634 164.644 50.7699 166.48 51.8868C165.83 50.3868 166.155 47.3868 167.275 46.3343Z",fill:"#0D308C"})})]}),t.jsxs("g",{opacity:"0.4",children:[t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"-0.000976562",y:"786",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"87.666",y:"874",width:"5.33333",height:"6",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"420.666",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"-0.000976562",y:"89.0005",width:"6",height:"5.33333",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"339.666",y:"0.000488281",width:"5.33333",height:"6",fill:"#7C7C7C"})}),t.jsx("g",{opacity:"0.75",style:{mixBlendMode:"screen"},children:t.jsx("rect",{x:"420.666",y:"785.667",width:"6",height:"5.33333",fill:"#7C7C7C"})})]})]}),t.jsxs("defs",{children:[t.jsx("filter",{id:"shadow",x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:t.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodOpacity:"0.1",floodColor:"black"})}),t.jsxs("filter",{id:"filter0_f_2905_1090",x:"-0.166992",y:"0.166504",width:"427",height:"880.667",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter1_f_2905_1090",x:"6.33236",y:"6.33382",width:"414",height:"868",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.333333",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter2_f_2905_1090",x:"244.143",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter3_f_2905_1090",x:"244.762",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter4_f_2905_1090",x:"245.808",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter5_f_2905_1090",x:"250.332",y:"44.0955",width:"6.19085",height:"11.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter6_f_2905_1090",x:"250.951",y:"45.8098",width:"4.95257",height:"7.71429",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.928572",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter7_f_2905_1090",x:"250.991",y:"45.7839",width:"3.86682",height:"6.88293",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.619048",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter8_f_2905_1090",x:"169.666",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter9_f_2905_1090",x:"170.446",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter10_f_2905_1090",x:"171.276",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter11_f_2905_1090",x:"161.865",y:"42.6468",width:"7.80012",height:"14.0399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter12_f_2905_1090",x:"162.645",y:"44.807",width:"6.23957",height:"9.72004",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"1.17",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsxs("filter",{id:"filter13_f_2905_1090",x:"164.744",y:"45.5545",width:"3.31098",height:"7.11225",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),t.jsx("feGaussianBlur",{stdDeviation:"0.39",result:"effect1_foregroundBlur_2905_1090"})]}),t.jsx("clipPath",{id:"clip0_2905_1090",children:t.jsx("rect",{width:"426.667",height:"880.667",rx:"70",fill:"white"})}),t.jsx("clipPath",{id:"clip1_2905_1090",children:t.jsx("rect",{x:"18",y:"18",width:"390",height:"844",rx:"55",fill:"white"})})]})]})}),HF="/app-image.png",vEe={FIRST_POLL_DELAY:3e4,SUBSEQUENT_POLL_DELAY:1e4,MAX_POLLS:5,PROGRESS_DURATION:2400*1e3,PROGRESS_INCREMENT:{min:.5,max:3.5},UPDATE_DELAY:{min:100,max:800}},xg={MATRIX_FILTER:"sepia(1) hue-rotate(120deg) saturate(1) brightness(1)",LOGO_SCALE:3.5,BUTTON_STYLES:{gradient:{background:"radial-gradient(50% 50% at 50% 50%, rgba(252, 185, 73, 0.15) 0%, rgba(252, 185, 73, 0.08) 100%)",textGradient:"linear-gradient(270deg, #FCB949 40.48%, #E28C37 92.65%)"},white:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%)"}}},wEe={loading:{title:"Booting up the preview...",subtitle:`This usually takes around 
please enjoy these amazing vibe-coded games from our community.`,highlight:"3-5 mins"},completed:{title:"Your Preview is Ready!",subtitle:"Your pod has successfully booted up and is ready to explore."},buttons:{openEmergent:"Open Emergent",needHelp:"Need Help?",exploreGames:"Explore Games",launchApp:"Launch App",goBack:"Go Back"},sheet:{gameTitle:"Play Games from Our Creators"}},Jxe=W.fork.matrixCode,_4=({grayscale:e=!1})=>{const n=o9();return t.jsx("div",{className:A("absolute top-0 bottom-0 left-0 grid h-full pointer-events-none z-[1] overflow-hidden",n?"w-[2000px] bg-[#131314] grid-cols-6":"w-full grid-cols-3 opacity-[0.2]"),children:Array.from({length:n?12:6}).map((s,r)=>t.jsx("img",{src:Jxe,alt:"Matrix Code",className:"object-cover w-full h-full",style:{filter:e?`${xg.MATRIX_FILTER} grayscale(100%) opacity(0.1)`:xg.MATRIX_FILTER}},r))})},$F=({className:e,children:n,showRadialGradient:s=!0,...r})=>t.jsx("main",{children:t.jsxs("div",{className:A("relative flex flex-col h-[90dvh] items-center justify-center bg-zinc-50 dark:bg-zinc-900 text-slate-950 transition-bg",e),...r,children:[t.jsx("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:t.jsx("div",{className:A(`
            [--white-gradient:repeating-linear-gradient(100deg,var(--white)_0%,var(--white)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--white)_16%)]
            [--dark-gradient:repeating-linear-gradient(100deg,var(--black)_0%,var(--black)_7%,var(--transparent)_10%,var(--transparent)_12%,var(--black)_16%)]
            [--aurora:repeating-linear-gradient(100deg,var(--blue-500)_10%,var(--indigo-300)_15%,var(--blue-300)_20%,var(--violet-200)_25%,var(--blue-400)_30%)]
            [background-image:var(--white-gradient),var(--aurora)]
            dark:[background-image:var(--dark-gradient),var(--aurora)]
            [background-size:300%,_200%]
            [background-position:50%_50%,50%_50%]
            filter blur-[10px] invert dark:invert-0
            after:content-[""] after:absolute after:inset-0 after:[background-image:var(--white-gradient),var(--aurora)] 
            after:dark:[background-image:var(--dark-gradient),var(--aurora)]
            after:[background-size:200%,_100%] 
            after:animate-aurora after:[background-attachment:fixed] after:mix-blend-difference
            pointer-events-none
            absolute -inset-[10px] opacity-50 will-change-transform `,s&&"[mask-image:radial-gradient(ellipse_at_100%_0%,black_10%,var(--transparent)_70%)]")})}),n]})}),Xxe=({width:e=24,height:n=24,className:s="",fill:r="white",accentFill:i="#80FFF9"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:s,children:[t.jsx("path",{d:"M13.6035 19.1602C13.9858 19.159 14.3142 19.4476 14.3549 19.836C14.3981 20.2502 14.0978 20.6213 13.6836 20.6647L13.2637 20.7025C12.4237 20.7683 11.5798 20.7683 10.7398 20.7025L10.3208 20.6647L10.2444 20.6528C9.87014 20.5748 9.60815 20.2244 9.64866 19.836C9.68933 19.4474 10.0184 19.1588 10.401 19.1602L10.4774 19.1638L10.8577 19.1988C11.7461 19.2685 12.6393 19.2567 13.5261 19.1638L13.6035 19.1602Z",fill:r}),t.jsx("path",{d:"M13.9993 16.8075C14.3804 16.7745 14.7324 17.035 14.805 17.4189C14.8822 17.8281 14.6129 18.2226 14.2037 18.3001L13.6531 18.3913C12.549 18.547 11.4284 18.5471 10.3244 18.3913L9.77467 18.3001L9.69917 18.2817C9.33282 18.173 9.10096 17.8025 9.17339 17.4189C9.24599 17.0352 9.59732 16.7748 9.97817 16.8075L10.0546 16.8176L10.5353 16.8968C11.6601 17.0556 12.8045 17.0292 13.9229 16.8176L13.9993 16.8075Z",fill:r}),t.jsx("path",{d:"M12.0031 2.75C13.5584 2.75004 15.074 3.24191 16.3143 4.15514C17.5552 5.06877 18.453 6.35488 18.8622 7.81717L18.9331 8.09248C19.2349 9.38133 19.1445 10.7269 18.6725 11.9663L18.5648 12.2296C17.9635 13.6272 16.9018 14.7888 15.551 15.5399L15.1688 14.8521L14.7858 14.1642C15.8406 13.5777 16.6581 12.6766 17.1182 11.6072L17.2001 11.4055C17.5607 10.4588 17.63 9.43376 17.3999 8.4516L17.3456 8.24165C17.0335 7.12634 16.3455 6.13455 15.3806 5.424C14.4151 4.7131 13.2278 4.32461 12.0031 4.32457C10.8549 4.32457 9.73948 4.66563 8.80887 5.29417L8.62563 5.424C7.66061 6.13457 6.97181 7.12627 6.65972 8.24165C6.3479 9.3564 6.42755 10.5386 6.88716 11.6072L6.9774 11.8061C7.41857 12.7228 8.12787 13.503 9.02434 14.0501L9.21955 14.1642L9.28769 14.2066C9.61528 14.4347 9.7234 14.8788 9.52525 15.2351C9.32713 15.5911 8.89351 15.7333 8.52711 15.5758L8.45436 15.5399L8.20483 15.3944C7.05503 14.6929 6.13431 13.6858 5.55845 12.4893L5.44058 12.2296C4.83916 10.8315 4.73482 9.27988 5.14409 7.81717C5.55325 6.35486 6.45104 5.06876 7.69194 4.15514L7.92767 3.9894C9.12193 3.18276 10.545 2.75 12.0031 2.75ZM15.551 15.5399C15.1711 15.751 14.6924 15.6147 14.481 15.2351C14.2698 14.8553 14.4061 14.3757 14.7858 14.1642L15.551 15.5399Z",fill:i}),t.jsx("path",{d:"M11.9875 6.89174C12.2827 6.6231 12.7393 6.61669 13.0427 6.88898C13.3661 7.17943 13.3929 7.67685 13.1026 8.00039L12.1588 9.05194L12.8402 9.17625H12.8392C13.0002 9.20547 13.1525 9.2681 13.2867 9.35949L13.4147 9.45986L13.5271 9.57772C13.6308 9.70257 13.7083 9.84818 13.7527 10.0059H13.7517C13.811 10.2159 13.8095 10.4374 13.749 10.6458L13.7499 10.6468C13.6888 10.857 13.569 11.045 13.4064 11.19V11.191L11.6256 12.7766L11.563 12.8272C11.2398 13.0612 10.7854 13.0174 10.5142 12.713C10.225 12.3884 10.2542 11.8909 10.5787 11.6016L11.7306 10.574L11.1542 10.47H11.1532V10.4691C11.0009 10.441 10.8558 10.3838 10.7269 10.2996L10.6035 10.2066C10.4861 10.1054 10.3905 9.98171 10.3218 9.84383L10.2619 9.70111C10.195 9.50562 10.1814 9.29586 10.2223 9.09338L10.2628 8.94421C10.3131 8.79854 10.3924 8.66396 10.4958 8.54826L10.4967 8.54734L11.9304 6.94883L11.9875 6.89174Z",fill:i})]}),Qxe=({width:e=24,height:n=24,fill:s="white",className:r=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:r,children:t.jsx("path",{d:"M22.002 5.00586H23.002V19.0059H22.002V20.0059H2.00195V19.0059H1.00195V5.00586H2.00195V4.00586H22.002V5.00586ZM3.00195 15.0059H5.00195V13.0059H8.00195V9.00586H3.00195V15.0059ZM9.00195 15.0059H11.002V14.0059H12.002V15.0059H14.002V13.0059H13.002V12.0059H14.002V9.00586H9.00195V15.0059ZM15.002 15.0059H21.002V9.00586H15.002V15.0059ZM19 13.0059H17V11.0059H19V13.0059ZM6 12.0059H5V10.0059H6V12.0059ZM12 12.0059H11V10.0059H12V12.0059Z",fill:s})}),ege=({size:e=24,color:n="black",className:s="",...r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",className:s,...r,children:t.jsx("path",{d:"M9 17C9 16.4477 8.5523 16 8 16H6C5.44771 16 5 16.4477 5 17V19C5 19.5523 5.44771 20 6 20H8C8.5523 20 9 19.5523 9 19V17ZM13 21V20.9902C13 20.438 13.4477 19.9902 14 19.9902C14.5523 19.9902 15 20.438 15 20.9902V21C15 21.5523 14.5523 22 14 22C13.4477 22 13 21.5523 13 21ZM17 21V19C17 18.4477 17.4477 18 18 18H20C20.5523 18 21 18.4477 21 19C21 19.5523 20.5523 20 20 20H19V21C19 21.5523 18.5523 22 18 22C17.4477 22 17 21.5523 17 21ZM13 15C13 14.4477 13.4477 14 14 14C14.5523 14 15 14.4477 15 15V16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H14C13.4477 18 13 17.5523 13 17V15ZM20 14C20.5523 14 21 14.4477 21 15C21 15.5523 20.5523 16 20 16H18C17.4477 16 17 15.5523 17 15C17 14.4477 17.4477 14 18 14H20ZM9 7C9 6.44771 8.55229 6 8 6H6C5.44771 6 5 6.44771 5 7V9C5 9.55229 5.44771 10 6 10H8C8.55229 10 9 9.55229 9 9V7ZM19 7C19 6.44771 18.5523 6 18 6H16C15.4477 6 15 6.44771 15 7V9C15 9.5523 15.4477 10 16 10H18C18.5523 10 19 9.5523 19 9V7ZM11 19C11 20.6569 9.65685 22 8 22H6C4.34315 22 3 20.6569 3 19V17C3 15.3431 4.34315 14 6 14H8C9.65685 14 11 15.3431 11 17V19ZM11 9C11 10.6569 9.65685 12 8 12H6C4.34315 12 3 10.6569 3 9V7C3 5.34315 4.34315 4 6 4H8C9.65685 4 11 5.34315 11 7V9ZM21 9C21 10.6568 19.6569 12 18 12H16C14.3431 12 13 10.6568 13 9V7C13 5.34315 14.3431 4 16 4H18C19.6569 4 21 5.34315 21 7V9Z",fill:n})}),tge="/assets/grid_background-CTLD35eH.png",nge=({className:e})=>t.jsxs("svg",{width:"37",height:"36",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("rect",{x:"0.5",width:"36",height:"36",rx:"18",fill:"#2EE572",fillOpacity:"0.1"}),t.jsx("circle",{opacity:"0.2",cx:"18.5004",cy:"18.0004",r:"9.6",fill:"#2EE572"}),t.jsx("circle",{cx:"18.5004",cy:"18.0004",r:"3",stroke:"#2EE572",strokeWidth:"1.2"}),t.jsx("circle",{cx:"18.4992",cy:"17.9992",r:"4.8",fill:"#2EE572"})]}),sge=({className:e})=>t.jsx("div",{className:`bg-[#1c1c1f] rounded-[30px] p-1 flex items-center ${e}`,children:t.jsxs("div",{className:"relative w-5 h-5",children:[t.jsx("div",{className:"absolute left-[2px] top-[2px] w-4 h-4",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{opacity:"0.2",cx:"8",cy:"8",r:"8",fill:"#2EE572"})})}),t.jsx("div",{className:"absolute left-[7px] top-[7px] w-[6px] h-[6px]",children:t.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"3",cy:"3",r:"3",fill:"#2EE572"})})}),t.jsx("div",{className:"absolute left-[6px] top-[6px] w-2 h-2",children:t.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"4",cy:"4",r:"3.4",stroke:"#2EE572",strokeWidth:"1.2"})})})]})}),gu=W.common.badgeCheck,Ul=W.common.badgeCheckGray,rge=W.common.badgeCheckYellow,ige=W.common.arrowUploadReady,age=W.common.adjustIcon,oge=W.common.recordStopIcon,so=[{title:"Welcome to Test Mode",icon:age,content:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test Mode lets you interact with your app like a real user while we capture everything needed to fix bugs quickly."}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"Perfect for:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Testing user flows and interactions"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Finding UI issues or broken functionality"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Getting precise help from your AI agent"})]})]})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Think of it as having a QA engineer watching over your shoulder."})]}),buttonText:"Got it, Next"},{title:"Your session will be recorded",badge:t.jsx(nge,{}),content:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-[#2EE572] text-base leading-6 font-['Inter'] font-medium",children:"We'll capture:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Screen recording of your interactions"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Technical logs and error data"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:gu,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Step-by-step reproduction script"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Your Privacy:"}),t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Recording stays local to your account"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Only shared when you choose to send to AI agent"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Automatically deleted after 30 days"})]}),t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("span",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"No personal data outside your app is captured"})]})]})]})]}),buttonText:"I Understand, Next"},{title:"How to get the most out of Test Mode",content:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Use your app normally"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Click, scroll, type as you would"})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Try to break things"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Test edge cases, rapid clicks, invalid inputs 3."})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"Don't rush"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"Take your time, the recording captures everything"})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:Ul,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-semibold",children:"When you find issues"})]}),t.jsxs("div",{className:"flex gap-1 items-start",children:[t.jsxs("div",{className:"flex items-center gap-[5px]",children:[t.jsxs("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:["Click ",t.jsx("span",{className:"text-[#FF6A4D]",children:"End Session"})]}),t.jsx("img",{src:oge,alt:"",className:"w-5 h-5"})]}),t.jsx("p",{className:"text-white/60 text-base leading-6 font-['Inter'] font-medium",children:"and we'll package everything for debugging"})]})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("img",{src:rge,alt:"",className:"w-5 h-5"}),t.jsx("p",{className:"text-[#F8FF99] text-base leading-6 font-['Inter'] font-semibold",children:"Pro tip"})]}),t.jsx("p",{className:"text-white text-base leading-6 font-['Inter'] font-medium",children:"Test the specific flow where you noticed problems!"})]})]}),buttonText:"Start Testing",buttonStyle:"green"}],zF=({isOpen:e,onClose:n,onComplete:s})=>{const[r,i]=d.useState(0),a=()=>{r<so.length-1?i(r+1):s()},o=()=>{i(0),n()};return e?t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:o}),t.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-[612px] h-[610px] mx-4 bg-[#1C1C1F] rounded-[20px] border border-[#242424] overflow-hidden flex flex-col",style:{backgroundImage:`url(${tge})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[t.jsxs("div",{className:"flex items-center justify-between pt-[33px] px-[40px] pb-[20px]",children:[t.jsx(lP,{totalSteps:so.length,currentStep:r,activeColor:"#FFFFFF",inactiveColor:"#333333",completedColor:"#80FFF9"}),t.jsx("button",{onClick:o,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-[#333333] transition-colors",children:t.jsx(Pt,{className:"w-5 h-5 text-[#B8B8CC]"})})]}),t.jsx("div",{className:"flex-1 px-[40px]",children:t.jsx(ns,{mode:"wait",children:t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsx("h2",{className:"text-2xl font-['Brockmann'] font-semibold text-white tracking-[-0.48px] leading-6",children:so[r].title}),so[r].icon&&t.jsx("img",{src:so[r].icon,alt:"",className:"w-6 h-6 flex-shrink-0"}),so[r].badge&&so[r].badge]}),so[r].content]},r)})}),t.jsx("div",{className:"p-[40px]",children:t.jsxs("button",{onClick:a,className:`flex items-center gap-2 px-6 py-3 rounded-[28px] font-['Brockmann'] font-semibold transition-colors tracking-[-0.2px] h-[48px] ${so[r].buttonStyle==="green"?"bg-[#2EE572] text-[#003313] hover:bg-[#2EE572]/90":"bg-white text-black hover:bg-white/90"}`,children:[so[r].buttonText,so[r].buttonStyle==="green"?t.jsx(sge,{}):t.jsx("img",{src:ige,alt:"",className:"w-6 h-6"})]})})]})]}):null},lge="hasSeenTestModeOnboarding",cge=()=>{try{localStorage.setItem(lge,"true")}catch{}},cf=g$,df=b$,uf=y$;var bu={},j4,WF;function dge(){return WF||(WF=1,j4=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),j4}var N4={},Vl={},GF;function Qd(){if(GF)return Vl;GF=1;let e;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Vl.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Vl.getSymbolTotalCodewords=function(r){return n[r]},Vl.getBCHDigit=function(s){let r=0;for(;s!==0;)r++,s>>>=1;return r},Vl.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Vl.isKanjiModeEnabled=function(){return typeof e<"u"},Vl.toSJIS=function(r){return e(r)},Vl}var F4={},qF;function T8(){return qF||(qF=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return n(r)}catch{return i}}})(F4)),F4}var E4,KF;function uge(){if(KF)return E4;KF=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(n){const s=Math.floor(n/8);return(this.buffer[s]>>>7-n%8&1)===1},put:function(n,s){for(let r=0;r<s;r++)this.putBit((n>>>s-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),n&&(this.buffer[s]|=128>>>this.length%8),this.length++}},E4=e,E4}var S4,YF;function pge(){if(YF)return S4;YF=1;function e(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return e.prototype.set=function(n,s,r,i){const a=n*this.size+s;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(n,s){return this.data[n*this.size+s]},e.prototype.xor=function(n,s,r){this.data[n*this.size+s]^=r},e.prototype.isReserved=function(n,s){return this.reservedBit[n*this.size+s]},S4=e,S4}var k4={},ZF;function fge(){return ZF||(ZF=1,(function(e){const n=Qd().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=n(r),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(k4)),k4}var T4={},JF;function mge(){if(JF)return T4;JF=1;const e=Qd().getSymbolSize,n=7;return T4.getPositions=function(r){const i=e(r);return[[0,0],[i-n,0],[0,i-n]]},T4}var I4={},XF;function hge(){return XF||(XF=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,p=null;for(let f=0;f<a;f++){l=c=0,u=p=null;for(let m=0;m<a;m++){let h=i.get(f,m);h===u?l++:(l>=5&&(o+=n.N1+(l-5)),u=h,l=1),h=i.get(m,f),h===p?c++:(c>=5&&(o+=n.N1+(c-5)),p=h,c=1)}l>=5&&(o+=n.N1+(l-5)),c>=5&&(o+=n.N1+(c-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*n.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let p=0;p<a;p++)l=l<<1&2047|i.get(u,p),p>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(p,u),p>=10&&(c===1488||c===93)&&o++}return o*n.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*n.N4};function s(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,s(i,c,l))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),e.applyMask(u,i);const p=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),p<c&&(c=p,l=u)}return l}})(I4)),I4}var w0={},QF;function oB(){if(QF)return w0;QF=1;const e=T8(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return w0.getBlocksCount=function(i,a){switch(a){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},w0.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return s[(i-1)*4+0];case e.M:return s[(i-1)*4+1];case e.Q:return s[(i-1)*4+2];case e.H:return s[(i-1)*4+3];default:return}},w0}var A4={},P1={},eE;function xge(){if(eE)return P1;eE=1;const e=new Uint8Array(512),n=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,n[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),P1.log=function(r){if(r<1)throw new Error("log("+r+")");return n[r]},P1.exp=function(r){return e[r]},P1.mul=function(r,i){return r===0||i===0?0:e[n[r]+n[i]]},P1}var tE;function gge(){return tE||(tE=1,(function(e){const n=xge();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=n.mul(r[o],i[l]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=n.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,n.exp(a)]));return i}})(A4)),A4}var D4,nE;function bge(){if(nE)return D4;nE=1;const e=gge();function n(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},n.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),o=this.degree-a.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(a,o),l}return a},D4=n,D4}var M4={},L4={},R4={},sE;function lB(){return sE||(sE=1,R4.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),R4}var To={},rE;function cB(){if(rE)return To;rE=1;const e="[0-9]+",n="[A-Z $%*+\\-./:]+";let s="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";s=s.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+s+`)(?:.|[\r
]))+`;To.KANJI=new RegExp(s,"g"),To.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),To.BYTE=new RegExp(r,"g"),To.NUMERIC=new RegExp(e,"g"),To.ALPHANUMERIC=new RegExp(n,"g");const i=new RegExp("^"+s+"$"),a=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return To.testKanji=function(c){return i.test(c)},To.testNumeric=function(c){return a.test(c)},To.testAlphanumeric=function(c){return o.test(c)},To}var iE;function eu(){return iE||(iE=1,(function(e){const n=lB(),s=cB();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!n.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return s.testNumeric(a)?e.NUMERIC:s.testAlphanumeric(a)?e.ALPHANUMERIC:s.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return r(a)}catch{return o}}})(L4)),L4}var aE;function yge(){return aE||(aE=1,(function(e){const n=Qd(),s=oB(),r=T8(),i=eu(),a=lB(),o=7973,l=n.getBCHDigit(o);function c(m,h,x){for(let y=1;y<=40;y++)if(h<=e.getCapacity(y,x,m))return y}function u(m,h){return i.getCharCountIndicator(m,h)+4}function p(m,h){let x=0;return m.forEach(function(y){const v=u(y.mode,h);x+=v+y.getBitsLength()}),x}function f(m,h){for(let x=1;x<=40;x++)if(p(m,x)<=e.getCapacity(x,h,i.MIXED))return x}e.from=function(h,x){return a.isValid(h)?parseInt(h,10):x},e.getCapacity=function(h,x,y){if(!a.isValid(h))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const v=n.getSymbolTotalCodewords(h),g=s.getTotalCodewordsCount(h,x),b=(v-g)*8;if(y===i.MIXED)return b;const w=b-u(y,h);switch(y){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(h,x){let y;const v=r.from(x,r.M);if(Array.isArray(h)){if(h.length>1)return f(h,v);if(h.length===0)return 1;y=h[0]}else y=h;return c(y.mode,y.getLength(),v)},e.getEncodedBits=function(h){if(!a.isValid(h)||h<7)throw new Error("Invalid QR Code version");let x=h<<12;for(;n.getBCHDigit(x)-l>=0;)x^=o<<n.getBCHDigit(x)-l;return h<<12|x}})(M4)),M4}var P4={},oE;function vge(){if(oE)return P4;oE=1;const e=Qd(),n=1335,s=21522,r=e.getBCHDigit(n);return P4.getEncodedBits=function(a,o){const l=a.bit<<3|o;let c=l<<10;for(;e.getBCHDigit(c)-r>=0;)c^=n<<e.getBCHDigit(c)-r;return(l<<10|c)^s},P4}var O4={},B4,lE;function wge(){if(lE)return B4;lE=1;const e=eu();function n(s){this.mode=e.NUMERIC,this.data=s.toString()}return n.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),r.put(o,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),o=parseInt(a,10),r.put(o,l*3+1))},B4=n,B4}var U4,cE;function Cge(){if(cE)return U4;cE=1;const e=eu(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(r){this.mode=e.ALPHANUMERIC,this.data=r}return s.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let o=n.indexOf(this.data[a])*45;o+=n.indexOf(this.data[a+1]),i.put(o,11)}this.data.length%2&&i.put(n.indexOf(this.data[a]),6)},U4=s,U4}var V4,dE;function _ge(){if(dE)return V4;dE=1;const e=eu();function n(s){this.mode=e.BYTE,typeof s=="string"?this.data=new TextEncoder().encode(s):this.data=new Uint8Array(s)}return n.getBitsLength=function(r){return r*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){for(let r=0,i=this.data.length;r<i;r++)s.put(this.data[r],8)},V4=n,V4}var H4,uE;function jge(){if(uE)return H4;uE=1;const e=eu(),n=Qd();function s(r){this.mode=e.KANJI,this.data=r}return s.getBitsLength=function(i){return i*13},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=n.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},H4=s,H4}var $4={exports:{}},pE;function Nge(){return pE||(pE=1,(function(e){var n={single_source_shortest_paths:function(s,r,i){var a={},o={};o[r]=0;var l=n.PriorityQueue.make();l.push(r,0);for(var c,u,p,f,m,h,x,y,v;!l.empty();){c=l.pop(),u=c.value,f=c.cost,m=s[u]||{};for(p in m)m.hasOwnProperty(p)&&(h=m[p],x=f+h,y=o[p],v=typeof o[p]>"u",(v||y>x)&&(o[p]=x,l.push(p,x),a[p]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var g=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(g)}return a},extract_shortest_path_from_predecessor_list:function(s,r){for(var i=[],a=r;a;)i.push(a),s[a],a=s[a];return i.reverse(),i},find_path:function(s,r,i){var a=n.single_source_shortest_paths(s,r,i);return n.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(s){var r=n.PriorityQueue,i={},a;s=s||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=s.sorter||r.default_sorter,i},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){var i={value:s,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=n})($4)),$4.exports}var fE;function Fge(){return fE||(fE=1,(function(e){const n=eu(),s=wge(),r=Cge(),i=_ge(),a=jge(),o=cB(),l=Qd(),c=Nge();function u(g){return unescape(encodeURIComponent(g)).length}function p(g,b,w){const N=[];let j;for(;(j=g.exec(w))!==null;)N.push({data:j[0],index:j.index,mode:b,length:j[0].length});return N}function f(g){const b=p(o.NUMERIC,n.NUMERIC,g),w=p(o.ALPHANUMERIC,n.ALPHANUMERIC,g);let N,j;return l.isKanjiModeEnabled()?(N=p(o.BYTE,n.BYTE,g),j=p(o.KANJI,n.KANJI,g)):(N=p(o.BYTE_KANJI,n.BYTE,g),j=[]),b.concat(w,N,j).sort(function(C,F){return C.index-F.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function m(g,b){switch(b){case n.NUMERIC:return s.getBitsLength(g);case n.ALPHANUMERIC:return r.getBitsLength(g);case n.KANJI:return a.getBitsLength(g);case n.BYTE:return i.getBitsLength(g)}}function h(g){return g.reduce(function(b,w){const N=b.length-1>=0?b[b.length-1]:null;return N&&N.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function x(g){const b=[];for(let w=0;w<g.length;w++){const N=g[w];switch(N.mode){case n.NUMERIC:b.push([N,{data:N.data,mode:n.ALPHANUMERIC,length:N.length},{data:N.data,mode:n.BYTE,length:N.length}]);break;case n.ALPHANUMERIC:b.push([N,{data:N.data,mode:n.BYTE,length:N.length}]);break;case n.KANJI:b.push([N,{data:N.data,mode:n.BYTE,length:u(N.data)}]);break;case n.BYTE:b.push([{data:N.data,mode:n.BYTE,length:u(N.data)}])}}return b}function y(g,b){const w={},N={start:{}};let j=["start"];for(let _=0;_<g.length;_++){const C=g[_],F=[];for(let E=0;E<C.length;E++){const S=C[E],M=""+_+E;F.push(M),w[M]={node:S,lastCount:0},N[M]={};for(let k=0;k<j.length;k++){const I=j[k];w[I]&&w[I].node.mode===S.mode?(N[I][M]=m(w[I].lastCount+S.length,S.mode)-m(w[I].lastCount,S.mode),w[I].lastCount+=S.length):(w[I]&&(w[I].lastCount=S.length),N[I][M]=m(S.length,S.mode)+4+n.getCharCountIndicator(S.mode,b))}}j=F}for(let _=0;_<j.length;_++)N[j[_]].end=0;return{map:N,table:w}}function v(g,b){let w;const N=n.getBestModeForData(g);if(w=n.from(b,N),w!==n.BYTE&&w.bit<N.bit)throw new Error('"'+g+'" cannot be encoded with mode '+n.toString(w)+`.
 Suggested mode is: `+n.toString(N));switch(w===n.KANJI&&!l.isKanjiModeEnabled()&&(w=n.BYTE),w){case n.NUMERIC:return new s(g);case n.ALPHANUMERIC:return new r(g);case n.KANJI:return new a(g);case n.BYTE:return new i(g)}}e.fromArray=function(b){return b.reduce(function(w,N){return typeof N=="string"?w.push(v(N,null)):N.data&&w.push(v(N.data,N.mode)),w},[])},e.fromString=function(b,w){const N=f(b,l.isKanjiModeEnabled()),j=x(N),_=y(j,w),C=c.find_path(_.map,"start","end"),F=[];for(let E=1;E<C.length-1;E++)F.push(_.table[C[E]].node);return e.fromArray(h(F))},e.rawSplit=function(b){return e.fromArray(f(b,l.isKanjiModeEnabled()))}})(O4)),O4}var mE;function Ege(){if(mE)return N4;mE=1;const e=Qd(),n=T8(),s=uge(),r=pge(),i=fge(),a=mge(),o=hge(),l=oB(),c=bge(),u=yge(),p=vge(),f=eu(),m=Fge();function h(_,C){const F=_.size,E=a.getPositions(C);for(let S=0;S<E.length;S++){const M=E[S][0],k=E[S][1];for(let I=-1;I<=7;I++)if(!(M+I<=-1||F<=M+I))for(let D=-1;D<=7;D++)k+D<=-1||F<=k+D||(I>=0&&I<=6&&(D===0||D===6)||D>=0&&D<=6&&(I===0||I===6)||I>=2&&I<=4&&D>=2&&D<=4?_.set(M+I,k+D,!0,!0):_.set(M+I,k+D,!1,!0))}}function x(_){const C=_.size;for(let F=8;F<C-8;F++){const E=F%2===0;_.set(F,6,E,!0),_.set(6,F,E,!0)}}function y(_,C){const F=i.getPositions(C);for(let E=0;E<F.length;E++){const S=F[E][0],M=F[E][1];for(let k=-2;k<=2;k++)for(let I=-2;I<=2;I++)k===-2||k===2||I===-2||I===2||k===0&&I===0?_.set(S+k,M+I,!0,!0):_.set(S+k,M+I,!1,!0)}}function v(_,C){const F=_.size,E=u.getEncodedBits(C);let S,M,k;for(let I=0;I<18;I++)S=Math.floor(I/3),M=I%3+F-8-3,k=(E>>I&1)===1,_.set(S,M,k,!0),_.set(M,S,k,!0)}function g(_,C,F){const E=_.size,S=p.getEncodedBits(C,F);let M,k;for(M=0;M<15;M++)k=(S>>M&1)===1,M<6?_.set(M,8,k,!0):M<8?_.set(M+1,8,k,!0):_.set(E-15+M,8,k,!0),M<8?_.set(8,E-M-1,k,!0):M<9?_.set(8,15-M-1+1,k,!0):_.set(8,15-M-1,k,!0);_.set(E-8,8,1,!0)}function b(_,C){const F=_.size;let E=-1,S=F-1,M=7,k=0;for(let I=F-1;I>0;I-=2)for(I===6&&I--;;){for(let D=0;D<2;D++)if(!_.isReserved(S,I-D)){let P=!1;k<C.length&&(P=(C[k]>>>M&1)===1),_.set(S,I-D,P),M--,M===-1&&(k++,M=7)}if(S+=E,S<0||F<=S){S-=E,E=-E;break}}}function w(_,C,F){const E=new s;F.forEach(function(D){E.put(D.mode.bit,4),E.put(D.getLength(),f.getCharCountIndicator(D.mode,_)),D.write(E)});const S=e.getSymbolTotalCodewords(_),M=l.getTotalCodewordsCount(_,C),k=(S-M)*8;for(E.getLengthInBits()+4<=k&&E.put(0,4);E.getLengthInBits()%8!==0;)E.putBit(0);const I=(k-E.getLengthInBits())/8;for(let D=0;D<I;D++)E.put(D%2?17:236,8);return N(E,_,C)}function N(_,C,F){const E=e.getSymbolTotalCodewords(C),S=l.getTotalCodewordsCount(C,F),M=E-S,k=l.getBlocksCount(C,F),I=E%k,D=k-I,P=Math.floor(E/k),R=Math.floor(M/k),B=R+1,U=P-R,H=new c(U);let $=0;const q=new Array(k),Q=new Array(k);let V=0;const ee=new Uint8Array(_.buffer);for(let pe=0;pe<k;pe++){const se=pe<D?R:B;q[pe]=ee.slice($,$+se),Q[pe]=H.encode(q[pe]),$+=se,V=Math.max(V,se)}const X=new Uint8Array(E);let ae=0,me,oe;for(me=0;me<V;me++)for(oe=0;oe<k;oe++)me<q[oe].length&&(X[ae++]=q[oe][me]);for(me=0;me<U;me++)for(oe=0;oe<k;oe++)X[ae++]=Q[oe][me];return X}function j(_,C,F,E){let S;if(Array.isArray(_))S=m.fromArray(_);else if(typeof _=="string"){let P=C;if(!P){const R=m.rawSplit(_);P=u.getBestVersionForData(R,F)}S=m.fromString(_,P||40)}else throw new Error("Invalid data");const M=u.getBestVersionForData(S,F);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=M;else if(C<M)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+M+`.
`);const k=w(C,F,S),I=e.getSymbolSize(C),D=new r(I);return h(D,C),x(D),y(D,C),g(D,F,0),C>=7&&v(D,C),b(D,k),isNaN(E)&&(E=o.getBestMask(D,g.bind(null,D,F))),o.applyMask(E,D),g(D,F,E),{modules:D,version:C,errorCorrectionLevel:F,maskPattern:E,segments:S}}return N4.create=function(C,F){if(typeof C>"u"||C==="")throw new Error("No input text");let E=n.M,S,M;return typeof F<"u"&&(E=n.from(F.errorCorrectionLevel,n.M),S=u.from(F.version),M=o.from(F.maskPattern),F.toSJISFunc&&e.setToSJISFunction(F.toSJISFunc)),j(C,S,E,M)},N4}var z4={},W4={},hE;function dB(){return hE||(hE=1,(function(e){function n(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let r=s.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+s);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const o=i.modules.size,l=i.modules.data,c=e.getScale(o,a),u=Math.floor((o+a.margin*2)*c),p=a.margin*c,f=[a.color.light,a.color.dark];for(let m=0;m<u;m++)for(let h=0;h<u;h++){let x=(m*u+h)*4,y=a.color.light;if(m>=p&&h>=p&&m<u-p&&h<u-p){const v=Math.floor((m-p)/c),g=Math.floor((h-p)/c);y=f[l[v*o+g]?1:0]}r[x++]=y.r,r[x++]=y.g,r[x++]=y.b,r[x]=y.a}}})(W4)),W4}var xE;function Sge(){return xE||(xE=1,(function(e){const n=dB();function s(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=n.getOptions(c);const p=n.getImageWidth(a.modules.size,c),f=u.getContext("2d"),m=f.createImageData(p,p);return n.qrToImageData(m.data,a,c),s(f,u,p),f.putImageData(m,0,0),u},e.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(a,o,c),p=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(p,f.quality)}})(z4)),z4}var G4={},gE;function kge(){if(gE)return G4;gE=1;const e=dB();function n(i,a){const o=i.a/255,l=a+'="'+i.hex+'"';return o<1?l+" "+a+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function s(i,a,o){let l=i+a;return typeof o<"u"&&(l+=" "+o),l}function r(i,a,o){let l="",c=0,u=!1,p=0;for(let f=0;f<i.length;f++){const m=Math.floor(f%a),h=Math.floor(f/a);!m&&!u&&(u=!0),i[f]?(p++,f>0&&m>0&&i[f-1]||(l+=u?s("M",m+o,.5+h+o):s("m",c,0),c=0,u=!1),m+1<a&&i[f+1]||(l+=s("h",p),p=0)):c++}return l}return G4.render=function(a,o,l){const c=e.getOptions(o),u=a.modules.size,p=a.modules.data,f=u+c.margin*2,m=c.color.light.a?"<path "+n(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",h="<path "+n(c.color.dark,"stroke")+' d="'+r(p,u,c.margin)+'"/>',x='viewBox="0 0 '+f+" "+f+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+m+h+`</svg>
`;return typeof l=="function"&&l(null,v),v},G4}var bE;function Tge(){if(bE)return bu;bE=1;const e=dge(),n=Ege(),s=Sge(),r=kge();function i(a,o,l,c,u){const p=[].slice.call(arguments,1),f=p.length,m=typeof p[f-1]=="function";if(!m&&!e())throw new Error("Callback required as last argument");if(m){if(f<2)throw new Error("Too few arguments provided");f===2?(u=l,l=o,o=c=void 0):f===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(l=o,o=c=void 0):f===2&&!o.getContext&&(c=l,l=o,o=void 0),new Promise(function(h,x){try{const y=n.create(l,c);h(a(y,o,c))}catch(y){x(y)}})}try{const h=n.create(l,c);u(null,a(h,o,c))}catch(h){u(h)}}return bu.create=n.create,bu.toCanvas=i.bind(null,s.render),bu.toDataURL=i.bind(null,s.renderToDataURL),bu.toString=i.bind(null,function(a,o,l){return r.render(a,l)}),bu}var Ige=Tge();const gg=Ji(Ige),yE=({width:e=71,height:n=20,fill:s="white",fillOpacity:r=.6,className:i,style:a,onClick:o,"aria-label":l="Aexpo logo",focusable:c=!1,viewBox:u="0 0 71 20",...p})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:u,fill:"none",className:i,style:a,onClick:o,"aria-label":l,focusable:c,...p,children:[t.jsx("g",{clipPath:"url(#clip0_aexpo_logo)",children:t.jsx("path",{d:"M9.25792 6.342C9.41592 6.112 9.58892 6.082 9.72992 6.082C9.86992 6.082 10.1039 6.112 10.2619 6.342C12.3219 9.148 16.5939 16.55 16.9889 16.953C17.5739 17.55 18.3769 17.178 18.8429 16.501C19.3029 15.834 19.4299 15.366 19.4299 14.867C19.4299 14.527 12.7769 2.253 12.1059 1.231C11.4619 0.248 11.2519 0 10.1499 0H9.32492C8.22492 0 8.06592 0.248 7.42192 1.23C6.74992 2.254 0.0969238 14.528 0.0969238 14.868C0.0969238 15.368 0.223924 15.835 0.683924 16.502C1.14992 17.179 1.95292 17.552 2.53792 16.954C2.93292 16.551 7.19892 9.149 9.25792 6.344V6.342ZM24.1989 1.105V16.449H33.5489V13.336H27.4239V10.092H32.8739V6.98H27.4239V4.218H33.5489V1.105H24.1989ZM46.2499 16.449L42.3699 10.881L45.9889 5.686H42.3269L40.5399 8.23L38.7749 5.687H35.0689L38.6869 10.904L34.8299 16.45H38.4909L40.5179 13.535L42.5449 16.45H46.2499V16.449ZM53.8219 5.467C52.3399 5.467 51.1849 6.081 50.4439 7.199V5.686H47.3699V20H50.4429V14.937C51.1829 16.054 52.3389 16.668 53.8209 16.668C56.5889 16.668 58.7909 14.148 58.7909 11.057C58.7909 7.966 56.5899 5.467 53.8219 5.467ZM53.1249 13.709C51.6209 13.709 50.4439 12.569 50.4439 11.057C50.4439 9.567 51.6209 8.404 53.1239 8.404C54.6069 8.404 55.8049 9.588 55.8049 11.057C55.8049 12.547 54.6069 13.709 53.1249 13.709ZM65.3129 5.467C62.1529 5.467 59.7549 7.878 59.7549 11.079C59.7549 14.279 62.1519 16.669 65.3119 16.669C68.4509 16.669 70.8699 14.279 70.8699 11.079C70.8699 7.879 68.4499 5.467 65.3119 5.467H65.3129ZM65.3129 8.427C66.7509 8.427 67.8629 9.544 67.8629 11.079C67.8629 12.569 66.7509 13.709 65.3129 13.709C63.8529 13.709 62.7629 12.569 62.7629 11.079C62.7629 9.544 63.8529 8.426 65.3129 8.426V8.427Z",fill:s,fillOpacity:r})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_aexpo_logo",children:t.jsx("rect",{width:"71",height:"20",fill:"white"})})})]}),vE=({width:e=20,height:n=20,fill:s="white",fillOpacity:r=.8,className:i,style:a,...o})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:i,style:a,...o,children:t.jsx("path",{d:"M5.16634 4.615C5.37713 3.9978 5.77576 3.46201 6.30634 3.08274C6.83693 2.70346 7.47289 2.49969 8.12509 2.5H14.3751C15.2039 2.5 15.9987 2.82924 16.5848 3.41529C17.1709 4.00134 17.5001 4.7962 17.5001 5.625V11.875C17.5001 13.2475 16.6151 14.4125 15.3851 14.8337V15.2887C15.3851 15.7075 15.2388 16.2425 14.8951 16.6838C14.5338 17.1488 13.9601 17.5 13.1738 17.5H5.96134C5.50582 17.5032 5.05421 17.4157 4.63276 17.2428C4.21131 17.0699 3.82844 16.815 3.50638 16.4928C3.18433 16.1707 2.92952 15.7877 2.75677 15.3662C2.58402 14.9447 2.49677 14.493 2.50009 14.0375V6.82875C2.50009 6.1425 2.74634 5.57125 3.18259 5.175C3.60759 4.78875 4.16384 4.61625 4.71134 4.61625L5.16634 4.615ZM5.00009 5.865H4.71259C4.46122 5.85373 4.21483 5.93765 4.02259 6.1C3.87509 6.23375 3.75009 6.455 3.75009 6.8275V14.0387C3.75009 15.28 4.72009 16.2513 5.96259 16.2513H13.1738C13.5476 16.2513 13.7663 16.1 13.9088 15.9163C14.0455 15.7346 14.124 15.5158 14.1338 15.2887V15H8.12509C7.29629 15 6.50143 14.6708 5.91538 14.0847C5.32933 13.4987 5.00009 12.7038 5.00009 11.875V5.865ZM10.0001 7.5H11.6163L8.30759 10.8075C8.24948 10.8656 8.20339 10.9346 8.17194 11.0105C8.14049 11.0864 8.1243 11.1678 8.1243 11.25C8.1243 11.3322 8.14049 11.4136 8.17194 11.4895C8.20339 11.5654 8.24948 11.6344 8.30759 11.6925C8.3657 11.7506 8.43469 11.7967 8.51061 11.8282C8.58654 11.8596 8.66791 11.8758 8.75009 11.8758C8.83227 11.8758 8.91365 11.8596 8.98957 11.8282C9.0655 11.7967 9.13448 11.7506 9.19259 11.6925L12.5001 8.38375V10C12.5001 10.1658 12.5659 10.3247 12.6831 10.4419C12.8004 10.5592 12.9593 10.625 13.1251 10.625C13.2909 10.625 13.4498 10.5592 13.567 10.4419C13.6842 10.3247 13.7501 10.1658 13.7501 10V6.875C13.7501 6.70924 13.6842 6.55027 13.567 6.43306C13.4498 6.31585 13.2909 6.25 13.1251 6.25H10.0001C9.83433 6.25 9.67536 6.31585 9.55815 6.43306C9.44094 6.55027 9.37509 6.70924 9.37509 6.875C9.37509 7.04076 9.44094 7.19973 9.55815 7.31694C9.67536 7.43415 9.83433 7.5 10.0001 7.5Z",fill:s,fillOpacity:r})}),wE=({isOpen:e,onOpenChange:n,previewUrl:s})=>{const{isMobile:r}=ps(),[i,a]=d.useState(""),[o,l]=d.useState(""),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(!1),[x,y]=d.useState(!0),v=C=>{!C&&!x||(h(C),y(!C))},g=C=>{!C&&!m||(y(C),h(!C))},w=`exp://${s?.replace(/^https:\/\//,"").split(".")[0]}.ngrok.io`,N="https://expo.dev/client";d.useEffect(()=>{e&&(w&&(u(!0),gg.toDataURL(w,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(C=>{a(C)}).catch(C=>{}).finally(()=>{u(!1)})),f(!0),gg.toDataURL(N,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).then(C=>{l(C)}).catch(C=>{}).finally(()=>{f(!1)}))},[e,w,N]);const j=({showHeader:C=!1}={})=>t.jsxs("div",{className:"relative space-y-6",children:[C&&t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx(uo,{className:"text-xl font-medium text-white",children:"Preview on your phone"}),t.jsx(im,{className:"text-sm text-[#9CA3AF]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs(cf,{open:m,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(df,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white",fillOpacity:"0.8"})}),"Download Expo Go App"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${m?"":"-rotate-90"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(uf,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),t.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:t.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4",children:p?t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?t.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),t.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4",children:[t.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:t.jsx(yE,{width:71,height:20})}),t.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[t.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),t.jsx(vE,{width:16,height:16})]})})]})]})})]})})]}),t.jsxs(cf,{open:x,onOpenChange:g,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(df,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx(Ry,{color:"white"}),"Preview QR Code"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${x?"rotate-90":"rotate-none"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsx(uf,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[t.jsx("div",{className:"text-start space-y-2 w-full",children:t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):i?t.jsx("img",{src:i,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]}),_=({showHeader:C=!1}={})=>t.jsxs("div",{className:"relative space-y-6 w-full",children:[C&&t.jsx("div",{className:"flex flex-col space-y-2",children:t.jsx(uo,{className:"text-xl font-medium text-white",children:"Preview on your phone"})}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs(cf,{open:m,onOpenChange:v,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(df,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M2 15C2 14.4477 2.44772 14 3 14C3.55228 14 4 14.4477 4 15C4 17.2091 5.79087 19 8 19H16C18.2091 19 20 17.2091 20 15C20 14.4477 20.4477 14 21 14C21.5523 14 22 14.4477 22 15C22 18.3137 19.3137 21 16 21H8C4.68629 21 2 18.3137 2 15ZM11 4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V12.9844C13.4293 12.5461 13.8312 12.0809 14.2002 11.5889C14.5315 11.1471 15.1578 11.0574 15.5996 11.3887C16.0414 11.72 16.131 12.3463 15.7998 12.7881C15.0103 13.8408 14.0944 14.7917 13.0732 15.6191V15.6201C12.761 15.873 12.3801 16 12 16C11.6199 16 11.239 15.873 10.9268 15.6201V15.6191C10.0333 14.8951 9.22012 14.0772 8.50195 13.1787L8.2002 12.7881L8.14258 12.7031C7.88133 12.269 7.98631 11.6992 8.40039 11.3887C8.81456 11.0782 9.39089 11.1372 9.73438 11.5098L9.7998 11.5889L10.0645 11.9297C10.3583 12.2973 10.6712 12.6487 11 12.9844V4Z",fill:"white",fillOpacity:"0.8"})}),"Download Expo Go App"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${m?"":"-rotate-90"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(uf,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"space-y-4 p-5 pt-0",children:[t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code to install the Expo Go app from the Play Store."}),t.jsx("div",{className:"flex items-center rounded-lg p-4 px-0",children:t.jsxs("div",{className:"flex items-center w-full justify-between space-x-2",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded-lg justify-center items-center flex flex-1 p-4 hidden md:block",children:p?t.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-[#FFFFFF08] rounded",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):o?t.jsx("img",{src:o,alt:"QR Code for Expo Go download",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-16 h-16 bg-black flex items-center justify-center text-white text-xs",children:"QR Code"})}),t.jsxs("div",{className:"flex flex-col space-y-4 justify-center items-center h-full rounded-2xl border border-1 border-white/5 p-4 w-full",children:[t.jsx("div",{className:"rounded-[10px] h-full w-full bg-gradient-to-b from-white/[0.02] to-white/0 flex items-center justify-center min-h-[144px]",children:t.jsx(yE,{width:71,height:20})}),t.jsx("a",{href:"https://expo.dev/client",target:"_blank",rel:"noopener noreferrer",children:t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[10px] flex space-x-2 items-center justify-center py-[10px] px-4",children:[t.jsx("p",{className:"text-white/80 font-medium text-sm",children:"Download Expo Go"}),t.jsx(vE,{width:16,height:16})]})})]})]})})]})})]}),t.jsxs(cf,{open:x,onOpenChange:g,className:"bg-[#202021] rounded-lg overflow-hidden",children:[t.jsxs(df,{className:"flex items-center justify-between w-full p-5 border-none text-left hover:bg-[#202021] transition-colors",children:[t.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2",children:[t.jsx(Ry,{color:"white"}),"Preview QR Code"]}),t.jsx("svg",{className:`w-5 h-5 text-[#9CA3AF] transition-transform duration-200 ${x?"rotate-90":"rotate-none"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),t.jsx(uf,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsxs("div",{className:"p-5 pt-0 flex flex-col items-start space-y-4",children:[t.jsx("div",{className:"text-start space-y-2 w-full",children:t.jsx("p",{className:"text-sm text-[#9CA3AF]",children:"Scan this QR code with your camera to preview the app"})}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-lg",children:c?t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Generating QR code..."})}):i?t.jsx("img",{src:i,alt:"QR Code for app preview",className:"w-48 h-48 rounded-lg opacity-80"}):t.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:t.jsx("div",{className:"text-gray-500 text-sm",children:"Failed to generate QR code"})})})]})})]})]})]});return r?t.jsx(la,{trigger:t.jsx("div",{}),title:"",description:"",open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"p-0",triggerColor:"bg-white/10",handleColor:"bg-[#fff]/10",children:t.jsx("div",{className:"h-[90dvh] flex flex-col p-4 pt-8 rounded-2xl bg-[#18181A] overflow-y-auto",children:_({showHeader:!0})})}):t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"m-4 mx-auto max-w-[calc(100vw-32px)] sm:max-w-xl w-xl bg-[#18181A] border-[#242424] text-white",children:[t.jsxs(Al,{className:"pb-4 bg-[#18181A] space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(uo,{className:"text-[22px] font-medium text-white",children:"Preview on your phone"}),t.jsx("button",{onClick:()=>n(!1),className:"text-[#9CA3AF] hover:text-white transition-colors p-1",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),t.jsx(im,{className:"text-sm text-[#737780]",children:"Download Expo Go app to see your app in your phone or just directly scan the preview QR to see it in your native browser"})]}),t.jsx("div",{className:"px-6 pb-6 pt-5",children:j()})]})})},Yo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},uB=Object.create(null);for(const e in Yo)Object.hasOwn(Yo,e)&&(uB[Yo[e]]=e);const vi={to:{},get:{}};vi.get=function(e){const n=e.slice(0,3).toLowerCase();let s,r;switch(n){case"hsl":{s=vi.get.hsl(e),r="hsl";break}case"hwb":{s=vi.get.hwb(e),r="hwb";break}default:{s=vi.get.rgb(e),r="rgb";break}}return s?{model:r,value:s}:null};vi.get.rgb=function(e){if(!e)return null;const n=/^#([a-f\d]{3,4})$/i,s=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,a=/^(\w+)$/;let o=[0,0,0,1],l,c,u;if(l=e.match(s)){for(u=l[2],l=l[1],c=0;c<3;c++){const p=c*2;o[c]=Number.parseInt(l.slice(p,p+2),16)}u&&(o[3]=Number.parseInt(u,16)/255)}else if(l=e.match(n)){for(l=l[1],u=l[3],c=0;c<3;c++)o[c]=Number.parseInt(l[c]+l[c],16);u&&(o[3]=Number.parseInt(u+u,16)/255)}else if(l=e.match(r)){for(c=0;c<3;c++)o[c]=Number.parseInt(l[c+1],10);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else if(l=e.match(i)){for(c=0;c<3;c++)o[c]=Math.round(Number.parseFloat(l[c+1])*2.55);l[4]&&(o[3]=l[5]?Number.parseFloat(l[4])*.01:Number.parseFloat(l[4]))}else return(l=e.match(a))?l[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Yo,l[1])?(o=Yo[l[1]],o[3]=1,o):null:null;for(c=0;c<3;c++)o[c]=pc(o[c],0,255);return o[3]=pc(o[3],0,1),o};vi.get.hsl=function(e){if(!e)return null;const n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=e.match(n);if(s){const r=Number.parseFloat(s[4]),i=(Number.parseFloat(s[1])%360+360)%360,a=pc(Number.parseFloat(s[2]),0,100),o=pc(Number.parseFloat(s[3]),0,100),l=pc(Number.isNaN(r)?1:r,0,1);return[i,a,o,l]}return null};vi.get.hwb=function(e){if(!e)return null;const n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,s=e.match(n);if(s){const r=Number.parseFloat(s[4]),i=(Number.parseFloat(s[1])%360+360)%360,a=pc(Number.parseFloat(s[2]),0,100),o=pc(Number.parseFloat(s[3]),0,100),l=pc(Number.isNaN(r)?1:r,0,1);return[i,a,o,l]}return null};vi.to.hex=function(...e){return"#"+C0(e[0])+C0(e[1])+C0(e[2])+(e[3]<1?C0(Math.round(e[3]*255)):"")};vi.to.rgb=function(...e){return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};vi.to.rgb.percent=function(...e){const n=Math.round(e[0]/255*100),s=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+n+"%, "+s+"%, "+r+"%)":"rgba("+n+"%, "+s+"%, "+r+"%, "+e[3]+")"};vi.to.hsl=function(...e){return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};vi.to.hwb=function(...e){let n="";return e.length>=4&&e[3]!==1&&(n=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+n+")"};vi.to.keyword=function(...e){return uB[e.slice(0,3)]};function pc(e,n,s){return Math.min(Math.max(n,e),s)}function C0(e){const n=Math.round(e).toString(16).toUpperCase();return n.length<2?"0"+n:n}const pB={};for(const e of Object.keys(Yo))pB[Yo[e]]=e;const nn={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},jl=(6/29)**3;function sp(e){const n=e>.0031308?1.055*e**.4166666666666667-.055:e*12.92;return Math.min(Math.max(0,n),1)}function rp(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}for(const e of Object.keys(nn)){if(!("channels"in nn[e]))throw new Error("missing channels property: "+e);if(!("labels"in nn[e]))throw new Error("missing channel labels property: "+e);if(nn[e].labels.length!==nn[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:n,labels:s}=nn[e];delete nn[e].channels,delete nn[e].labels,Object.defineProperty(nn[e],"channels",{value:n}),Object.defineProperty(nn[e],"labels",{value:s})}nn.rgb.hsl=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.min(n,s,r),a=Math.max(n,s,r),o=a-i;let l,c;switch(a){case i:{l=0;break}case n:{l=(s-r)/o;break}case s:{l=2+(r-n)/o;break}case r:{l=4+(n-s)/o;break}}l=Math.min(l*60,360),l<0&&(l+=360);const u=(i+a)/2;return a===i?c=0:u<=.5?c=o/(a+i):c=o/(2-a-i),[l,c*100,u*100]};nn.rgb.hsv=function(e){let n,s,r,i,a;const o=e[0]/255,l=e[1]/255,c=e[2]/255,u=Math.max(o,l,c),p=u-Math.min(o,l,c),f=function(m){return(u-m)/6/p+1/2};if(p===0)i=0,a=0;else{switch(a=p/u,n=f(o),s=f(l),r=f(c),u){case o:{i=r-s;break}case l:{i=1/3+n-r;break}case c:{i=2/3+s-n;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,a*100,u*100]};nn.rgb.hwb=function(e){const n=e[0],s=e[1];let r=e[2];const i=nn.rgb.hsl(e)[0],a=1/255*Math.min(n,Math.min(s,r));return r=1-1/255*Math.max(n,Math.max(s,r)),[i,a*100,r*100]};nn.rgb.oklab=function(e){const n=rp(e[0]/255),s=rp(e[1]/255),r=rp(e[2]/255),i=Math.cbrt(.4122214708*n+.5363325363*s+.0514459929*r),a=Math.cbrt(.2119034982*n+.6806995451*s+.1073969566*r),o=Math.cbrt(.0883024619*n+.2817188376*s+.6299787005*r),l=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,u=.0259040371*i+.7827717662*a-.808675766*o;return[l*100,c*100,u*100]};nn.rgb.cmyk=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.min(1-n,1-s,1-r),a=(1-n-i)/(1-i)||0,o=(1-s-i)/(1-i)||0,l=(1-r-i)/(1-i)||0;return[a*100,o*100,l*100,i*100]};function Age(e,n){return(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2}nn.rgb.keyword=function(e){const n=pB[e];if(n)return n;let s=Number.POSITIVE_INFINITY,r;for(const i of Object.keys(Yo)){const a=Yo[i],o=Age(e,a);o<s&&(s=o,r=i)}return r};nn.keyword.rgb=function(e){return Yo[e]};nn.rgb.xyz=function(e){const n=rp(e[0]/255),s=rp(e[1]/255),r=rp(e[2]/255),i=n*.4124564+s*.3575761+r*.1804375,a=n*.2126729+s*.7151522+r*.072175,o=n*.0193339+s*.119192+r*.9503041;return[i*100,a*100,o*100]};nn.rgb.lab=function(e){const n=nn.rgb.xyz(e);let s=n[0],r=n[1],i=n[2];s/=95.047,r/=100,i/=108.883,s=s>jl?s**(1/3):7.787*s+16/116,r=r>jl?r**(1/3):7.787*r+16/116,i=i>jl?i**(1/3):7.787*i+16/116;const a=116*r-16,o=500*(s-r),l=200*(r-i);return[a,o,l]};nn.hsl.rgb=function(e){const n=e[0]/360,s=e[1]/100,r=e[2]/100;let i,a;if(s===0)return a=r*255,[a,a,a];const o=r<.5?r*(1+s):r+s-r*s,l=2*r-o,c=[0,0,0];for(let u=0;u<3;u++)i=n+1/3*-(u-1),i<0&&i++,i>1&&i--,6*i<1?a=l+(o-l)*6*i:2*i<1?a=o:3*i<2?a=l+(o-l)*(2/3-i)*6:a=l,c[u]=a*255;return c};nn.hsl.hsv=function(e){const n=e[0];let s=e[1]/100,r=e[2]/100,i=s;const a=Math.max(r,.01);r*=2,s*=r<=1?r:2-r,i*=a<=1?a:2-a;const o=(r+s)/2,l=r===0?2*i/(a+i):2*s/(r+s);return[n,l*100,o*100]};nn.hsv.rgb=function(e){const n=e[0]/60,s=e[1]/100;let r=e[2]/100;const i=Math.floor(n)%6,a=n-Math.floor(n),o=255*r*(1-s),l=255*r*(1-s*a),c=255*r*(1-s*(1-a));switch(r*=255,i){case 0:return[r,c,o];case 1:return[l,r,o];case 2:return[o,r,c];case 3:return[o,l,r];case 4:return[c,o,r];case 5:return[r,o,l]}};nn.hsv.hsl=function(e){const n=e[0],s=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let a,o;o=(2-s)*r;const l=(2-s)*i;return a=s*i,a/=l<=1?l:2-l,a=a||0,o/=2,[n,a*100,o*100]};nn.hwb.rgb=function(e){const n=e[0]/360;let s=e[1]/100,r=e[2]/100;const i=s+r;let a;i>1&&(s/=i,r/=i);const o=Math.floor(6*n),l=1-r;a=6*n-o,(o&1)!==0&&(a=1-a);const c=s+a*(l-s);let u,p,f;switch(o){default:case 6:case 0:{u=l,p=c,f=s;break}case 1:{u=c,p=l,f=s;break}case 2:{u=s,p=l,f=c;break}case 3:{u=s,p=c,f=l;break}case 4:{u=c,p=s,f=l;break}case 5:{u=l,p=s,f=c;break}}return[u*255,p*255,f*255]};nn.cmyk.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=e[3]/100,a=1-Math.min(1,n*(1-i)+i),o=1-Math.min(1,s*(1-i)+i),l=1-Math.min(1,r*(1-i)+i);return[a*255,o*255,l*255]};nn.xyz.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100;let i,a,o;return i=n*3.2404542+s*-1.5371385+r*-.4985314,a=n*-.969266+s*1.8760108+r*.041556,o=n*.0556434+s*-.2040259+r*1.0572252,i=sp(i),a=sp(a),o=sp(o),[i*255,a*255,o*255]};nn.xyz.lab=function(e){let n=e[0],s=e[1],r=e[2];n/=95.047,s/=100,r/=108.883,n=n>jl?n**(1/3):7.787*n+16/116,s=s>jl?s**(1/3):7.787*s+16/116,r=r>jl?r**(1/3):7.787*r+16/116;const i=116*s-16,a=500*(n-s),o=200*(s-r);return[i,a,o]};nn.xyz.oklab=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=Math.cbrt(.8189330101*n+.3618667424*s-.1288597137*r),a=Math.cbrt(.0329845436*n+.9293118715*s+.0361456387*r),o=Math.cbrt(.0482003018*n+.2643662691*s+.633851707*r),l=.2104542553*i+.793617785*a-.0040720468*o,c=1.9779984951*i-2.428592205*a+.4505937099*o,u=.0259040371*i+.7827717662*a-.808675766*o;return[l*100,c*100,u*100]};nn.oklab.oklch=function(e){return nn.lab.lch(e)};nn.oklab.xyz=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=(.999999998*n+.396337792*s+.215803758*r)**3,a=(1.000000008*n-.105561342*s-.063854175*r)**3,o=(1.000000055*n-.089484182*s-1.291485538*r)**3,l=1.227013851*i-.55779998*a+.281256149*o,c=-.040580178*i+1.11225687*a-.071676679*o,u=-.076381285*i-.421481978*a+1.58616322*o;return[l*100,c*100,u*100]};nn.oklab.rgb=function(e){const n=e[0]/100,s=e[1]/100,r=e[2]/100,i=(n+.3963377774*s+.2158037573*r)**3,a=(n-.1055613458*s-.0638541728*r)**3,o=(n-.0894841775*s-1.291485548*r)**3,l=sp(4.0767416621*i-3.3077115913*a+.2309699292*o),c=sp(-1.2684380046*i+2.6097574011*a-.3413193965*o),u=sp(-.0041960863*i-.7034186147*a+1.707614701*o);return[l*255,c*255,u*255]};nn.oklch.oklab=function(e){return nn.lch.lab(e)};nn.lab.xyz=function(e){const n=e[0],s=e[1],r=e[2];let i,a,o;a=(n+16)/116,i=s/500+a,o=a-r/200;const l=a**3,c=i**3,u=o**3;return a=l>jl?l:(a-16/116)/7.787,i=c>jl?c:(i-16/116)/7.787,o=u>jl?u:(o-16/116)/7.787,i*=95.047,a*=100,o*=108.883,[i,a,o]};nn.lab.lch=function(e){const n=e[0],s=e[1],r=e[2];let i;i=Math.atan2(r,s)*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(s*s+r*r);return[n,o,i]};nn.lch.lab=function(e){const n=e[0],s=e[1],i=e[2]/360*2*Math.PI,a=s*Math.cos(i),o=s*Math.sin(i);return[n,a,o]};nn.rgb.ansi16=function(e,n=null){const[s,r,i]=e;let a=n===null?nn.rgb.hsv(e)[2]:n;if(a=Math.round(a/50),a===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(s/255));return a===2&&(o+=60),o};nn.hsv.ansi16=function(e){return nn.rgb.ansi16(nn.hsv.rgb(e),e[2])};nn.rgb.ansi256=function(e){const n=e[0],s=e[1],r=e[2];return n>>4===s>>4&&s>>4===r>>4?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(s/255*5)+Math.round(r/255*5)};nn.ansi16.rgb=function(e){e=e[0];let n=e%10;if(n===0||n===7)return e>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const s=(Math.trunc(e>50)+1)*.5,r=(n&1)*s*255,i=(n>>1&1)*s*255,a=(n>>2&1)*s*255;return[r,i,a]};nn.ansi256.rgb=function(e){if(e=e[0],e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let n;const s=Math.floor(e/36)/5*255,r=Math.floor((n=e%36)/6)/5*255,i=n%6/5*255;return[s,r,i]};nn.rgb.hex=function(e){const s=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(s.length)+s};nn.hex.rgb=function(e){const n=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!n)return[0,0,0];let s=n[0];n[0].length===3&&(s=[...s].map(l=>l+l).join(""));const r=Number.parseInt(s,16),i=r>>16&255,a=r>>8&255,o=r&255;return[i,a,o]};nn.rgb.hcg=function(e){const n=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,s),r),a=Math.min(Math.min(n,s),r),o=i-a;let l;const c=o<1?a/(1-o):0;return o<=0?l=0:i===n?l=(s-r)/o%6:i===s?l=2+(r-n)/o:l=4+(n-s)/o,l/=6,l%=1,[l*360,o*100,c*100]};nn.hsl.hcg=function(e){const n=e[1]/100,s=e[2]/100,r=s<.5?2*n*s:2*n*(1-s);let i=0;return r<1&&(i=(s-.5*r)/(1-r)),[e[0],r*100,i*100]};nn.hsv.hcg=function(e){const n=e[1]/100,s=e[2]/100,r=n*s;let i=0;return r<1&&(i=(s-r)/(1-r)),[e[0],r*100,i*100]};nn.hcg.rgb=function(e){const n=e[0]/360,s=e[1]/100,r=e[2]/100;if(s===0)return[r*255,r*255,r*255];const i=[0,0,0],a=n%1*6,o=a%1,l=1-o;let c=0;switch(Math.floor(a)){case 0:{i[0]=1,i[1]=o,i[2]=0;break}case 1:{i[0]=l,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=o;break}case 3:{i[0]=0,i[1]=l,i[2]=1;break}case 4:{i[0]=o,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=l}return c=(1-s)*r,[(s*i[0]+c)*255,(s*i[1]+c)*255,(s*i[2]+c)*255]};nn.hcg.hsv=function(e){const n=e[1]/100,s=e[2]/100,r=n+s*(1-n);let i=0;return r>0&&(i=n/r),[e[0],i*100,r*100]};nn.hcg.hsl=function(e){const n=e[1]/100,r=e[2]/100*(1-n)+.5*n;let i=0;return r>0&&r<.5?i=n/(2*r):r>=.5&&r<1&&(i=n/(2*(1-r))),[e[0],i*100,r*100]};nn.hcg.hwb=function(e){const n=e[1]/100,s=e[2]/100,r=n+s*(1-n);return[e[0],(r-n)*100,(1-r)*100]};nn.hwb.hcg=function(e){const n=e[1]/100,r=1-e[2]/100,i=r-n;let a=0;return i<1&&(a=(r-i)/(1-i)),[e[0],i*100,a*100]};nn.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};nn.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};nn.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};nn.gray.hsl=function(e){return[0,0,e[0]]};nn.gray.hsv=nn.gray.hsl;nn.gray.hwb=function(e){return[0,100,e[0]]};nn.gray.cmyk=function(e){return[0,0,0,e[0]]};nn.gray.lab=function(e){return[e[0],0,0]};nn.gray.hex=function(e){const n=Math.round(e[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".slice(r.length)+r};nn.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function Dge(){const e={},n=Object.keys(nn);for(let{length:s}=n,r=0;r<s;r++)e[n[r]]={distance:-1,parent:null};return e}function Mge(e){const n=Dge(),s=[e];for(n[e].distance=0;s.length>0;){const r=s.pop(),i=Object.keys(nn[r]);for(let{length:a}=i,o=0;o<a;o++){const l=i[o],c=n[l];c.distance===-1&&(c.distance=n[r].distance+1,c.parent=r,s.unshift(l))}}return n}function Lge(e,n){return function(s){return n(e(s))}}function Rge(e,n){const s=[n[e].parent,e];let r=nn[n[e].parent][e],i=n[e].parent;for(;n[i].parent;)s.unshift(n[i].parent),r=Lge(nn[n[i].parent][i],r),i=n[i].parent;return r.conversion=s,r}function Pge(e){const n=Mge(e),s={},r=Object.keys(n);for(let{length:i}=r,a=0;a<i;a++){const o=r[a];n[o].parent!==null&&(s[o]=Rge(o,n))}return s}const ji={},Oge=Object.keys(nn);function Bge(e){const n=function(...s){const r=s[0];return r==null?r:(r.length>1&&(s=r),e(s))};return"conversion"in e&&(n.conversion=e.conversion),n}function Uge(e){const n=function(...s){const r=s[0];if(r==null)return r;r.length>1&&(s=r);const i=e(s);if(typeof i=="object")for(let{length:a}=i,o=0;o<a;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(n.conversion=e.conversion),n}for(const e of Oge){ji[e]={},Object.defineProperty(ji[e],"channels",{value:nn[e].channels}),Object.defineProperty(ji[e],"labels",{value:nn[e].labels});const n=Pge(e),s=Object.keys(n);for(const r of s){const i=n[r];ji[e][r]=Uge(i),ji[e][r].raw=Bge(i)}}const fB=["keyword","gray","hex"],Uy={};for(const e of Object.keys(ji))Uy[[...ji[e].labels].sort().join("")]=e;const Pf={};function Js(e,n){if(!(this instanceof Js))return new Js(e,n);if(n&&n in fB&&(n=null),n&&!(n in ji))throw new Error("Unknown model: "+n);let s,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Js)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=vi.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=ji[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=n||"rgb",r=ji[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=Vy(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=i.sort().join("");if(!(a in Uy))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=Uy[a];const{labels:o}=ji[this.model],l=[];for(s=0;s<o.length;s++)l.push(e[o[s]]);this.color=Vy(l)}if(Pf[this.model])for(r=ji[this.model].channels,s=0;s<r;s++){const i=Pf[this.model][s];i&&(this.color[s]=i(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Js.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let n=this.model in vi.to?this:this.rgb();n=n.round(typeof e=="number"?e:1);const s=n.valpha===1?n.color:[...n.color,this.valpha];return vi.to[n.model](...s)},percentString(e){const n=this.rgb().round(typeof e=="number"?e:1),s=n.valpha===1?n.color:[...n.color,this.valpha];return vi.to.rgb.percent(...s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:n}=ji[this.model],{labels:s}=ji[this.model];for(let r=0;r<n;r++)e[s[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Js([...this.color.map(Hge(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new Js([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:$r("rgb",0,hi(255)),green:$r("rgb",1,hi(255)),blue:$r("rgb",2,hi(255)),hue:$r(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:$r("hsl",1,hi(100)),lightness:$r("hsl",2,hi(100)),saturationv:$r("hsv",1,hi(100)),value:$r("hsv",2,hi(100)),chroma:$r("hcg",1,hi(100)),gray:$r("hcg",2,hi(100)),white:$r("hwb",1,hi(100)),wblack:$r("hwb",2,hi(100)),cyan:$r("cmyk",0,hi(100)),magenta:$r("cmyk",1,hi(100)),yellow:$r("cmyk",2,hi(100)),black:$r("cmyk",3,hi(100)),x:$r("xyz",0,hi(95.047)),y:$r("xyz",1,hi(100)),z:$r("xyz",2,hi(108.833)),l:$r("lab",0,hi(100)),a:$r("lab",1),b:$r("lab",2),keyword(e){return e!==void 0?new Js(e):ji[this.model].keyword(this.color)},hex(e){return e!==void 0?new Js(e):vi.to.hex(...this.rgb().round().color)},hexa(e){if(e!==void 0)return new Js(e);const n=this.rgb().round().color;let s=Math.round(this.valpha*255).toString(16).toUpperCase();return s.length===1&&(s="0"+s),vi.to.hex(...n)+s},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,n=[];for(const[s,r]of e.entries()){const i=r/255;n[s]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(e){const n=this.luminosity(),s=e.luminosity();return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)},level(e){const n=this.contrast(e);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let n=0;n<3;n++)e.color[n]=255-e.color[n];return e},lighten(e){const n=this.hsl();return n.color[2]+=n.color[2]*e,n},darken(e){const n=this.hsl();return n.color[2]-=n.color[2]*e,n},saturate(e){const n=this.hsl();return n.color[1]+=n.color[1]*e,n},desaturate(e){const n=this.hsl();return n.color[1]-=n.color[1]*e,n},whiten(e){const n=this.hwb();return n.color[1]+=n.color[1]*e,n},blacken(e){const n=this.hwb();return n.color[2]+=n.color[2]*e,n},grayscale(){const e=this.rgb().color,n=e[0]*.3+e[1]*.59+e[2]*.11;return Js.rgb(n,n,n)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const n=this.hsl();let s=n.color[0];return s=(s+e)%360,s=s<0?360+s:s,n.color[0]=s,n},mix(e,n){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const s=e.rgb(),r=this.rgb(),i=n===void 0?.5:n,a=2*i-1,o=s.alpha()-r.alpha(),l=((a*o===-1?a:(a+o)/(1+a*o))+1)/2,c=1-l;return Js.rgb(l*s.red()+c*r.red(),l*s.green()+c*r.green(),l*s.blue()+c*r.blue(),s.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(ji)){if(fB.includes(e))continue;const{channels:n}=ji[e];Js.prototype[e]=function(...s){return this.model===e?new Js(this):s.length>0?new Js(s,e):new Js([...$ge(ji[this.model][e].raw(this.color)),this.valpha],e)},Js[e]=function(...s){let r=s[0];return typeof r=="number"&&(r=Vy(s,n)),new Js(r,e)}}function Vge(e,n){return Number(e.toFixed(n))}function Hge(e){return function(n){return Vge(n,e)}}function $r(e,n,s){e=Array.isArray(e)?e:[e];for(const r of e)(Pf[r]||(Pf[r]=[]))[n]=s;return e=e[0],function(r){let i;return r!==void 0?(s&&(r=s(r)),i=this[e](),i.color[n]=r,i):(i=this[e]().color[n],s&&(i=s(i)),i)}}function hi(e){return function(n){return Math.max(0,Math.min(e,n))}}function $ge(e){return Array.isArray(e)?e:[e]}function Vy(e,n){for(let s=0;s<n;s++)typeof e[s]!="number"&&(e[s]=0);return e}const mB=d.createContext(void 0),Wp=()=>{const e=d.useContext(mB);if(!e)throw new Error("useColorPicker must be used within a ColorPickerProvider");return e},zge=({value:e,defaultValue:n="#000000",onChange:s,className:r,...i})=>{const[a,o]=d.useState(()=>e?Js(e).hue()||0:n&&Js(n).hue()||0),[l,c]=d.useState(()=>e?Js(e).saturationl()||0:n&&Js(n).saturationl()||0),[u,p]=d.useState(()=>e?Js(e).lightness()||0:n&&Js(n).lightness()||0),[f,m]=d.useState(()=>e?Js(e).alpha()*100:n?Js(n).alpha()*100:100),[h,x]=d.useState("hex"),y=d.useRef(!1),v=d.useRef(e);d.useEffect(()=>{if(!e||v.current===e)return;const b=Js(e),[w,N,j]=b.hsl().array(),_=(b.alpha()||1)*100;y.current=!0,o(w||0),c(N||0),p(j||0),m(_),v.current=e},[e]),d.useLayoutEffect(()=>{y.current&&(y.current=!1)},[a,l,u,f]);const g=d.useRef(s);return d.useEffect(()=>{g.current=s},[s]),d.useEffect(()=>{if(y.current||!g.current)return;const w=Js.hsl(a,l,u).alpha(f/100).rgb().array();g.current([w[0],w[1],w[2],f/100])},[a,l,u,f]),t.jsx(mB.Provider,{value:{hue:a,saturation:l,lightness:u,alpha:f,mode:h,setHue:o,setSaturation:c,setLightness:p,setAlpha:m,setMode:x},children:t.jsx("div",{className:A("flex size-full flex-col gap-4",r),...i})})},hB=d.memo(({className:e,...n})=>{const s=d.useRef(null),[r,i]=d.useState(!1),[a,o]=d.useState(0),[l,c]=d.useState(0),{hue:u,saturation:p,lightness:f,setSaturation:m,setLightness:h}=Wp();d.useEffect(()=>{const v=p/100,g=v<.01?100:50+50*(1-v),b=g>0?1-f/g:0;o(Math.max(0,Math.min(1,v))),c(Math.max(0,Math.min(1,b)))},[p,f]);const x=d.useMemo(()=>`linear-gradient(0deg, rgba(0,0,0,1), rgba(0,0,0,0)),
            linear-gradient(90deg, rgba(255,255,255,1), rgba(255,255,255,0)),
            hsl(${u}, 100%, 50%)`,[u]),y=d.useCallback(v=>{if(!(r&&s.current))return;const g=s.current.getBoundingClientRect(),b=Math.max(0,Math.min(1,(v.clientX-g.left)/g.width)),w=Math.max(0,Math.min(1,(v.clientY-g.top)/g.height));o(b),c(w),m(b*100);const j=(b<.01?100:50+50*(1-b))*(1-w);h(j)},[r,m,h]);return d.useEffect(()=>{const v=()=>i(!1);return r&&(window.addEventListener("pointermove",y),window.addEventListener("pointerup",v)),()=>{window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",v)}},[r,y]),t.jsx("div",{className:A("relative size-full cursor-crosshair rounded",e),onPointerDown:v=>{v.preventDefault(),i(!0),y(v.nativeEvent)},ref:s,style:{background:x},...n,children:t.jsx("div",{className:"-translate-x-1/2 -translate-y-1/2 pointer-events-none absolute h-4 w-4 rounded-full border-2 border-white",style:{left:`${a*100}%`,top:`${l*100}%`,boxShadow:"0 0 0 1px rgba(0,0,0,0.5)"}})})});hB.displayName="ColorPickerSelection";const Wge=({className:e,...n})=>{const{hue:s,setHue:r}=Wp();return t.jsxs(TT,{className:A("relative flex h-4 w-full touch-none",e),max:360,onValueChange:([i])=>r(i),step:1,value:[s],...n,children:[t.jsx(IT,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[linear-gradient(90deg,#FF0000,#FFFF00,#00FF00,#00FFFF,#0000FF,#FF00FF,#FF0000)]",children:t.jsx(AT,{className:"absolute h-full"})}),t.jsx(DT,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},Gge=({className:e,...n})=>{const{alpha:s,setAlpha:r}=Wp();return t.jsxs(TT,{className:A("relative flex h-4 w-full touch-none",e),max:100,onValueChange:([i])=>r(i),step:1,value:[s],...n,children:[t.jsxs(IT,{className:"relative my-0.5 h-3 w-full grow rounded-full bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==')] bg-center bg-repeat-x dark:bg-[url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVR4nGP8+vWrCAMewM3N/QafPBM+SWLAqAGDwQBGQgoIpZOB98KoAVQwAADxzQcSVIRCfQAAAABJRU5ErkJggg==')]",children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent to-black/50 dark:to-white/50"}),t.jsx(AT,{className:"absolute h-full rounded-full bg-transparent"})]}),t.jsx(DT,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})},qge=({className:e,...n})=>{const{setHue:s,setSaturation:r,setLightness:i,setAlpha:a}=Wp(),o=async()=>{try{const c=await new EyeDropper().open(),u=Js(c.sRGBHex),[p,f,m]=u.hsl().array();s(p),r(f),i(m),a(100)}catch{}};return t.jsx(Vt,{className:A("shrink-0 text-muted-foreground",e),onClick:o,size:"icon",type:"button",variant:"outline",...n,children:t.jsx(Rae,{size:16})})},Kge=["hex","rgb"],Yge=({className:e,...n})=>{const{mode:s,setMode:r}=Wp();return t.jsxs(Op,{onValueChange:r,value:s,children:[t.jsx(Kd,{className:"h-8 w-20 shrink-0 text-xs",...n,children:t.jsx(Bp,{placeholder:"Mode"})}),t.jsx(Yd,{children:Kge.map(i=>t.jsx(fo,{className:"text-xs",value:i,children:i.toUpperCase()},i))})]})},q4=({className:e,...n})=>t.jsxs("div",{className:"relative",children:[t.jsx(Ni,{readOnly:!0,type:"text",...n,className:A("h-8 w-[3.25rem] rounded-l-none bg-secondary px-2 text-xs shadow-none",e)}),t.jsx("span",{className:"-translate-y-1/2 absolute top-1/2 right-2 text-muted-foreground text-xs",children:"%"})]}),Zge=({className:e,...n})=>{const{hue:s,saturation:r,lightness:i,alpha:a,mode:o}=Wp(),l=Js.hsl(s,r,i,a/100);if(o==="hex"){const c=l.hex();return t.jsxs("div",{className:A("-space-x-px relative flex w-full items-center rounded-md shadow-sm",e),...n,children:[t.jsx(Ni,{className:"h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:c}),t.jsx(q4,{value:a})]})}if(o==="rgb"){const c=l.rgb().array().map(u=>Math.round(u));return t.jsxs("div",{className:A("-space-x-px flex items-center rounded-md shadow-sm",e),...n,children:[c.map((u,p)=>t.jsx(Ni,{className:A("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",p&&"rounded-l-none",e),readOnly:!0,type:"text",value:u},p)),t.jsx(q4,{value:a})]})}if(o==="css"){const c=l.rgb().array().map(u=>Math.round(u));return t.jsx("div",{className:A("w-full rounded-md shadow-sm",e),...n,children:t.jsx(Ni,{className:"h-8 w-full bg-secondary px-2 text-xs shadow-none",readOnly:!0,type:"text",value:`rgba(${c.join(", ")}, ${a}%)`,...n})})}if(o==="hsl"){const c=l.hsl().array().map(u=>Math.round(u));return t.jsxs("div",{className:A("-space-x-px flex items-center rounded-md shadow-sm",e),...n,children:[c.map((u,p)=>t.jsx(Ni,{className:A("h-8 rounded-r-none bg-secondary px-2 text-xs shadow-none",p&&"rounded-l-none",e),readOnly:!0,type:"text",value:u},p)),t.jsx(q4,{value:a})]})}return null},Jge=({value:e,defaultValue:n,onChange:s})=>t.jsxs(zge,{className:"max-w-sm rounded-md border bg-background p-4 shadow-sm",value:e,defaultValue:n,onChange:s,children:[t.jsx(hB,{}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(qge,{}),t.jsxs("div",{className:"grid w-full gap-1",children:[t.jsx(Wge,{}),t.jsx(Gge,{})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Yge,{}),t.jsx(Zge,{})]})]}),xB={none:"0",sm:"2","":"4",md:"6",lg:"8",xl:"12","2xl":"16","3xl":"24",full:"9999"},gB=Object.entries(xB).reduce((e,[n,s])=>(e[s]=n,e),{}),Xge=e=>xB[e]??null,bB=e=>{const n=e.trim();if(!n)return null;const s=Number(n);return Number.isFinite(s)?s===9999?"9999":Number.isInteger(s)?s.toString():null:null},Qge=e=>{const n=bB(e);if(n===null)return null;const s=gB[n];return s===void 0?null:s===""?"rounded":s==="none"?"rounded-none":`rounded-${s}`},e2e=(e,n)=>{const s=bB(e);if(s===null)return null;const r=gB[s];return r===void 0?null:r===""?`rounded-${n}`:`rounded-${n}-${r}`},CE=e=>{const n=e.trim();return n?/^-?\d+(\.\d+)?$/.test(n)?`${n}px`:n:null},_E=e=>e.split(/\s+/).map(n=>n.trim()).filter(Boolean).sort(),jE=(e,n)=>{const s=_E(e),r=_E(n);return s.length!==r.length?!1:s.every((i,a)=>i===r[a])},t2e=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"]),n2e=e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!t2e.has(e),s2e=new Set(["bg-clip-border","bg-clip-content","bg-clip-padding","bg-clip-text","bg-fixed","bg-local","bg-scroll","bg-contain","bg-cover","bg-center","bg-top","bg-bottom","bg-left","bg-right","bg-no-repeat","bg-repeat","bg-repeat-x","bg-repeat-y","bg-repeat-round","bg-repeat-space","bg-origin-border","bg-origin-padding","bg-origin-content","bg-blend-normal","bg-blend-multiply","bg-blend-screen","bg-blend-overlay","bg-blend-darken","bg-blend-lighten","bg-blend-color-dodge","bg-blend-color-burn","bg-blend-hard-light","bg-blend-soft-light","bg-blend-difference","bg-blend-exclusion","bg-blend-hue","bg-blend-saturation","bg-blend-color","bg-blend-luminosity"]),r2e=e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||e==="bg-transparent"||e==="!bg-transparent"||e.startsWith("bg-")&&!e.startsWith("bg-gradient")&&!s2e.has(e),_0=e=>e.split(" ").map(n=>n.trim()).filter(n2e),j0=e=>e.split(" ").map(n=>n.trim()).filter(r2e),i2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M7.2617 10.2438C7.72041 10.2438 8.0923 10.6371 8.09249 11.1219C8.09249 11.6069 7.72053 12 7.2617 12H2.83079C2.37196 12 2 11.6069 2 11.1219C2.00019 10.6371 2.37208 10.2438 2.83079 10.2438H7.2617ZM13.1692 7.12248C13.628 7.12248 14 7.51562 14 8.00057C13.9998 8.48535 13.6279 8.87866 13.1692 8.87866H2.83079C2.37208 8.87866 2.00019 8.48535 2 8.00057C2 7.51562 2.37196 7.12248 2.83079 7.12248H13.1692ZM13.1692 4C13.628 4 14 4.39313 14 4.87809C14 5.36305 13.628 5.75618 13.1692 5.75618H2.83079C2.37196 5.75618 2 5.36305 2 4.87809C2 4.39313 2.37196 4 2.83079 4H13.1692Z",fill:"currentColor"})}),a2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M7.99805 2C11.3116 2 13.998 4.68645 13.998 8C13.998 11.3135 11.3116 14 7.99805 14C4.6845 14 1.99805 11.3135 1.99805 8C1.99805 4.68645 4.6845 2 7.99805 2ZM4.60547 11.3945C5.4739 12.2625 6.67312 12.7998 7.99805 12.7998C10.6489 12.7998 12.7979 10.6508 12.7979 8C12.7979 6.67508 12.2605 5.47586 11.3926 4.60742L4.60547 11.3945Z",fill:"currentColor"})})}),o2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),l2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{d:"M3.72247 5.45755L3.17112 5.99358C3.05881 6.10589 2.91853 6.16204 2.75026 6.16204C2.582 6.16204 2.43641 6.10078 2.31348 5.97826C2.20117 5.86595 2.14501 5.72301 2.14501 5.54944C2.14501 5.37587 2.20117 5.23293 2.31348 5.12062L3.90625 3.52785C3.96751 3.46659 4.03387 3.4233 4.10534 3.39798C4.17681 3.37266 4.25339 3.35979 4.33507 3.35938C4.41675 3.35898 4.49332 3.37184 4.56479 3.39798C4.63626 3.42412 4.70263 3.46741 4.76389 3.52785L6.35666 5.12062C6.46897 5.23293 6.52778 5.37342 6.53309 5.54209C6.5384 5.71076 6.47959 5.85615 6.35666 5.97826C6.24435 6.09057 6.10406 6.14938 5.9358 6.15469C5.76754 6.16 5.62194 6.1063 5.49901 5.99358L4.94767 5.45755V10.5422L5.49901 10.0061C5.61132 9.89382 5.75182 9.83766 5.92049 9.83766C6.08916 9.83766 6.23455 9.89892 6.35666 10.0214C6.46897 10.1338 6.52512 10.2767 6.52512 10.4503C6.52512 10.6238 6.46897 10.7668 6.35666 10.8791L4.76389 12.4719C4.70263 12.5331 4.63626 12.5766 4.56479 12.6023C4.49332 12.6281 4.41675 12.6407 4.33507 12.6403C4.25339 12.6399 4.17681 12.6273 4.10534 12.6023C4.03387 12.5774 3.96751 12.5339 3.90625 12.4719L2.31348 10.8791C2.20117 10.7668 2.14236 10.6265 2.13705 10.4582C2.13174 10.29 2.19055 10.1444 2.31348 10.0214C2.42579 9.90913 2.56628 9.85032 2.73495 9.84501C2.90362 9.8397 3.04901 9.89341 3.17112 10.0061L3.72247 10.5422V5.45755ZM8.62329 12.2881C8.44972 12.2881 8.30433 12.2293 8.18712 12.1116C8.0699 11.994 8.0111 11.8486 8.01069 11.6755C8.01028 11.5023 8.06909 11.3569 8.18712 11.2393C8.30514 11.1217 8.45054 11.0629 8.62329 11.0629H13.5241C13.6977 11.0629 13.8433 11.1217 13.9609 11.2393C14.0785 11.3569 14.1371 11.5023 14.1367 11.6755C14.1363 11.8486 14.0775 11.9942 13.9603 12.1123C13.8431 12.2303 13.6977 12.2889 13.5241 12.2881H8.62329ZM8.62329 8.61245C8.44972 8.61245 8.30433 8.55365 8.18712 8.43603C8.0699 8.31841 8.0111 8.17301 8.01069 7.99985C8.01028 7.82669 8.06909 7.6813 8.18712 7.56368C8.30514 7.44606 8.45054 7.38725 8.62329 7.38725H13.5241C13.6977 7.38725 13.8433 7.44606 13.9609 7.56368C14.0785 7.6813 14.1371 7.82669 14.1367 7.99985C14.1363 8.17301 14.0775 8.31861 13.9603 8.43664C13.8431 8.55467 13.6977 8.61327 13.5241 8.61245H8.62329ZM8.62329 4.93684C8.44972 4.93684 8.30433 4.87803 8.18712 4.76041C8.0699 4.64279 8.0111 4.4974 8.01069 4.32423C8.01028 4.15107 8.06909 4.00568 8.18712 3.88806C8.30514 3.77044 8.45054 3.71163 8.62329 3.71163H13.5241C13.6977 3.71163 13.8433 3.77044 13.9609 3.88806C14.0785 4.00568 14.1371 4.15107 14.1367 4.32423C14.1363 4.4974 14.0775 4.64299 13.9603 4.76102C13.8431 4.87905 13.6977 4.93765 13.5241 4.93684H8.62329Z",fill:"currentColor"})})}),c2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M2 8.14286H7.14286V9.85714H5.42857V15H3.71429V9.85714H2V8.14286ZM14 4.71429H10.6283V15H8.80022V4.71429H5.42857V3H14V4.71429Z",fill:"currentColor"})})}),d2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.16602 1.63225C1.16602 1.50912 1.21493 1.39103 1.302 1.30395C1.38907 1.21688 1.50717 1.16797 1.6303 1.16797H13.7017C13.8249 1.16797 13.943 1.21688 14.03 1.30395C14.1171 1.39103 14.166 1.50912 14.166 1.63225C14.166 1.75539 14.1171 1.87348 14.03 1.96055C13.943 2.04762 13.8249 2.09654 13.7017 2.09654H1.6303C1.50717 2.09654 1.38907 2.04762 1.302 1.96055C1.21493 1.87348 1.16602 1.75539 1.16602 1.63225ZM1.16602 13.7037C1.16602 13.5805 1.21493 13.4625 1.302 13.3754C1.38907 13.2883 1.50717 13.2394 1.6303 13.2394H13.7017C13.8249 13.2394 13.943 13.2883 14.03 13.3754C14.1171 13.4625 14.166 13.5805 14.166 13.7037C14.166 13.8268 14.1171 13.9449 14.03 14.032C13.943 14.1191 13.8249 14.168 13.7017 14.168H1.6303C1.50717 14.168 1.38907 14.1191 1.302 14.032C1.21493 13.9449 1.16602 13.8268 1.16602 13.7037ZM4.47544 11.3823H5.41887L6.16544 9.27811H9.1703L9.91687 11.3823H10.8603L8.13216 3.95368H7.20359L4.47544 11.3823ZM8.88616 8.48047L7.69759 5.12833H7.63909L6.44866 8.48047H8.88616Z",fill:"currentColor"})})}),u2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 2C0.632608 2 0.759785 2.05268 0.853553 2.14645C0.947321 2.24021 1 2.36739 1 2.5V13.5C1 13.6326 0.947321 13.7598 0.853553 13.8536C0.759785 13.9473 0.632608 14 0.5 14C0.367392 14 0.240215 13.9473 0.146447 13.8536C0.0526785 13.7598 0 13.6326 0 13.5V2.5C0 2.36739 0.0526785 2.24021 0.146447 2.14645C0.240215 2.05268 0.367392 2 0.5 2ZM15.5 2C15.6326 2 15.7598 2.05268 15.8536 2.14645C15.9473 2.24021 16 2.36739 16 2.5V13.5C16 13.6326 15.9473 13.7598 15.8536 13.8536C15.7598 13.9473 15.6326 14 15.5 14C15.3674 14 15.2402 13.9473 15.1464 13.8536C15.0527 13.7598 15 13.6326 15 13.5V2.5C15 2.36739 15.0527 2.24021 15.1464 2.14645C15.2402 2.05268 15.3674 2 15.5 2ZM4.564 12H5.58L6.384 9.734H9.62L10.424 12H11.44L8.502 4H7.502L4.564 12ZM9.314 8.875L8.034 5.265H7.971L6.689 8.875H9.314Z",fill:"currentColor"})})}),p2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM13.998 10.75H13.248H5.74805H4.99805V12.25H5.74805H13.248H13.998V10.75ZM15.998 16H15.248H5.74805H4.99805V17.5H5.74805H15.248H15.998V16Z",fill:"currentColor"})}),f2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM15.998 10.75H15.248H8.74805H7.99805V12.25H8.74805H15.248H15.998V10.75ZM17.248 16H17.998V17.5H17.248H6.74805H5.99805V16H6.74805H17.248Z",fill:"currentColor"})}),m2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.74805 5.5H4.99805V7H5.74805H18.248H18.998V5.5H18.248H5.74805ZM10.998 10.75H10.248H18.248H18.998V12.25H18.248H10.248H10.998V10.75ZM8.99805 16H8.24805H18.248H18.998V17.5H18.248H8.24805H8.99805V16Z",fill:"currentColor"})}),h2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.248 5.5H18.998V7H18.248H5.74805H4.99805V5.5H5.74805H18.248ZM18.998 10.75H18.248H5.74805H4.99805V12.25H5.74805H18.248H18.998V10.75ZM18.248 16H18.998V17.5H18.248H5.74805H4.99805V16H5.74805H18.248Z",fill:"currentColor"})}),x2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 11H18V13H6V11Z",fill:"currentColor"})}),g2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M17.75 18.375H6.25V16.875H17.75V18.375ZM9.25 11.625C9.25009 12.427 9.54638 13.0518 10.0098 13.4805C10.4788 13.9142 11.164 14.1875 12 14.1875C12.836 14.1875 13.5211 13.9142 13.9902 13.4805C14.4536 13.0518 14.7499 12.427 14.75 11.625V4.625H16.25V11.625C16.2499 12.8225 15.7961 13.8545 15.0098 14.582C14.2289 15.3042 13.1638 15.6875 12 15.6875C10.8362 15.6875 9.77113 15.3042 8.99023 14.582C8.20387 13.8545 7.75009 12.8225 7.75 11.625V4.625H9.25V11.625Z",fill:"currentColor"})}),b2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.08203C10.1519 4.08203 8.89601 4.70608 8.10921 5.58031C7.34402 6.43052 7.08334 7.45034 7.08334 8.16537C7.08334 8.80112 7.25446 9.4863 7.73035 10.1238C7.82673 10.2529 7.934 10.378 8.05254 10.4987H5.75H5V11.9987H5.75H18.25H19V10.4987H18.25H11.0181L10.5177 10.3011C9.6688 9.9659 9.19511 9.57851 8.93239 9.22655C8.67477 8.88144 8.58334 8.52186 8.58334 8.16537C8.58334 7.76929 8.73934 7.12244 9.22415 6.58376C9.68734 6.0691 10.5148 5.58203 12 5.58203C13.99 5.58203 14.8295 6.45439 15.1785 7.18816L15.5006 7.86545L16.8552 7.22118L16.5331 6.54388C15.9243 5.26401 14.5425 4.08203 12 4.08203ZM16.9167 14.7487V13.9987H15.4167V14.7487C15.4167 15.1478 15.2587 15.8193 14.7686 16.3802C14.302 16.9142 13.4759 17.4154 12 17.4154C10.1395 17.4154 9.27285 16.5389 8.87848 15.7987L8.52584 15.1367L7.20199 15.842L7.55464 16.504C8.18889 17.6945 9.54264 18.9154 12 18.9154C13.8575 18.9154 15.1147 18.2639 15.8981 17.3672C16.658 16.4975 16.9167 15.4608 16.9167 14.7487Z",fill:"currentColor"})}),y2e=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 5H9H17.75H18.5V6.5H17.75H14.5475L11.0275 17.5H15H15.75V19H15H6.25H5.5V17.5H6.25H9.45254L12.9725 6.5H9H8.25V5Z",fill:"currentColor"})}),v2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),w2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),C2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),_2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),K4=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z",fill:"currentColor"})}),tx=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z",fill:"currentColor"})}),Y4=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5ZM15 3.5H1V2H15V3.5Z",fill:"currentColor"})})}),NE=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M15 14H1V12.5H15V14ZM10.1025 5.00488C10.6067 5.05621 11 5.48232 11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6L5.89746 10.9951C5.42703 10.9472 5.05278 10.573 5.00488 10.1025L5 10V6C5 5.48232 5.39333 5.05621 5.89746 5.00488L6 5H10L10.1025 5.00488ZM6.5 9.5H9.5V6.5H6.5V9.5Z",fill:"currentColor"})})}),FE=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5ZM3.5 1V15H2V1H3.5Z",fill:"currentColor"})})}),EE=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14 1V15H12.5V1H14ZM5.00488 5.89746C5.05621 5.39333 5.48232 5 6 5H10L10.1025 5.00488C10.573 5.05278 10.9472 5.42703 10.9951 5.89746L11 6V10L10.9951 10.1025C10.9472 10.573 10.573 10.9472 10.1025 10.9951L10 11H6C5.48232 11 5.05621 10.6067 5.00488 10.1025L5 10V6L5.00488 5.89746ZM9.5 9.5V6.5H6.5V9.5H9.5Z",fill:"currentColor"})})}),j2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 5.66699H3.625V4.2666H12.375V5.66699Z",fill:"currentColor"})})}),N2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.1025 1.00488C14.6067 1.05621 15 1.48232 15 2V14L14.9951 14.1025C14.9472 14.573 14.573 14.9472 14.1025 14.9951L14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2C1 1.48232 1.39333 1.05621 1.89746 1.00488L2 1H14L14.1025 1.00488ZM2.5 13.5H13.5V2.5H2.5V13.5ZM12.375 11.7334H3.625V10.333H12.375V11.7334Z",fill:"currentColor"})})}),F2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM4.2666 12.375V3.625H5.66699V12.375H4.2666Z",fill:"currentColor"})})}),E2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{opacity:"0.4",children:t.jsx("path",{d:"M14.9951 14.1025C14.9438 14.6067 14.5177 15 14 15H2L1.89746 14.9951C1.42703 14.9472 1.05278 14.573 1.00488 14.1025L1 14V2L1.00488 1.89746C1.05278 1.42703 1.42703 1.05278 1.89746 1.00488L2 1H14C14.5177 1 14.9438 1.39333 14.9951 1.89746L15 2V14L14.9951 14.1025ZM2.5 2.5V13.5H13.5V2.5H2.5ZM10.333 12.375V3.625H11.7334V12.375H10.333Z",fill:"currentColor"})})}),S2e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("g",{children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4444 13.0556C13.4444 13.2702 13.6187 13.4444 13.8333 13.4444H14.2222C14.4285 13.4444 14.6263 13.5264 14.7722 13.6722C14.9181 13.8181 15 14.0159 15 14.2222C15 14.4285 14.9181 14.6263 14.7722 14.7722C14.6263 14.9181 14.4285 15 14.2222 15H13.8333C12.76 15 11.8889 14.1289 11.8889 13.0556V2.94444C11.8889 1.87111 12.76 1 13.8333 1H14.2222C14.4285 1 14.6263 1.08194 14.7722 1.22781C14.9181 1.37367 15 1.5715 15 1.77778C15 1.98406 14.9181 2.18189 14.7722 2.32775C14.6263 2.47361 14.4285 2.55556 14.2222 2.55556H13.8333C13.7302 2.55556 13.6313 2.59653 13.5583 2.66946C13.4854 2.74239 13.4444 2.8413 13.4444 2.94444V13.0556ZM1 14.2222C1 14.0159 1.08194 13.8181 1.22781 13.6722C1.37367 13.5264 1.5715 13.4444 1.77778 13.4444H2.16667C2.26981 13.4444 2.36872 13.4035 2.44165 13.3305C2.51458 13.2576 2.55556 13.1587 2.55556 13.0556V2.94444C2.55556 2.8413 2.51458 2.74239 2.44165 2.66946C2.36872 2.59653 2.26981 2.55556 2.16667 2.55556H1.77778C1.5715 2.55556 1.37367 2.47361 1.22781 2.32775C1.08194 2.18189 1 1.98406 1 1.77778C1 1.5715 1.08194 1.37367 1.22781 1.22781C1.37367 1.08194 1.5715 1 1.77778 1H2.16667C3.24 1 4.11111 1.87111 4.11111 2.94444V13.0556C4.11111 14.1289 3.24 15 2.16667 15H1.77778C1.5715 15 1.37367 14.9181 1.22781 14.7722C1.08194 14.6263 1 14.4285 1 14.2222ZM7.22222 11.1111C7.22222 11.3174 7.30417 11.5152 7.45003 11.6611C7.59589 11.8069 7.79372 11.8889 8 11.8889C8.20628 11.8889 8.40411 11.8069 8.54997 11.6611C8.69583 11.5152 8.77778 11.3174 8.77778 11.1111V4.88889C8.77778 4.68261 8.69583 4.48478 8.54997 4.33892C8.40411 4.19305 8.20628 4.11111 8 4.11111C7.79372 4.11111 7.59589 4.19305 7.45003 4.33892C7.30417 4.48478 7.22222 4.68261 7.22222 4.88889V11.1111Z",fill:"currentColor"})})}),k2e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_opacity)",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.66667 1.33333H13.3333C13.687 1.33333 14.0261 1.47381 14.2761 1.72386C14.5262 1.97391 14.6667 2.31304 14.6667 2.66667V13.3333C14.6667 13.687 14.5262 14.0261 14.2761 14.2761C14.0261 14.5262 13.687 14.6667 13.3333 14.6667H2.66667C2.31304 14.6667 1.97391 14.5262 1.72386 14.2761C1.47381 14.0261 1.33333 13.687 1.33333 13.3333V2.66667C1.33333 2.31304 1.47381 1.97391 1.72386 1.72386C1.97391 1.47381 2.31304 1.33333 2.66667 1.33333ZM0 2.66667C0 1.95942 0.280951 1.28115 0.781048 0.781048C1.28115 0.280951 1.95942 0 2.66667 0H13.3333C14.0406 0 14.7189 0.280951 15.219 0.781048C15.719 1.28115 16 1.95942 16 2.66667V13.3333C16 14.0406 15.719 14.7189 15.219 15.219C14.7189 15.719 14.0406 16 13.3333 16H2.66667C1.95942 16 1.28115 15.719 0.781048 15.219C0.280951 14.7189 0 14.0406 0 13.3333V2.66667ZM12 4.66667C12.1768 4.66667 12.3464 4.59643 12.4714 4.47141C12.5964 4.34638 12.6667 4.17681 12.6667 4C12.6667 3.82319 12.5964 3.65362 12.4714 3.52859C12.3464 3.40357 12.1768 3.33333 12 3.33333C11.8232 3.33333 11.6536 3.40357 11.5286 3.52859C11.4036 3.65362 11.3333 3.82319 11.3333 4C11.3333 4.17681 11.4036 4.34638 11.5286 4.47141C11.6536 4.59643 11.8232 4.66667 12 4.66667ZM10 6.66667C10 6.84348 9.92976 7.01305 9.80474 7.13807C9.67971 7.2631 9.51014 7.33333 9.33333 7.33333C9.15652 7.33333 8.98695 7.2631 8.86193 7.13807C8.7369 7.01305 8.66667 6.84348 8.66667 6.66667C8.66667 6.48986 8.7369 6.32029 8.86193 6.19526C8.98695 6.07024 9.15652 6 9.33333 6C9.51014 6 9.67971 6.07024 9.80474 6.19526C9.92976 6.32029 10 6.48986 10 6.66667ZM7.33333 9.33333C7.33333 9.51014 7.2631 9.67971 7.13807 9.80474C7.01305 9.92976 6.84348 10 6.66667 10C6.48986 10 6.32029 9.92976 6.19526 9.80474C6.07024 9.67971 6 9.51014 6 9.33333C6 9.15652 6.07024 8.98695 6.19526 8.86193C6.32029 8.7369 6.48986 8.66667 6.66667 8.66667C6.84348 8.66667 7.01305 8.7369 7.13807 8.86193C7.2631 8.98695 7.33333 9.15652 7.33333 9.33333ZM4.66667 12C4.66667 12.1768 4.59643 12.3464 4.47141 12.4714C4.34638 12.5964 4.17681 12.6667 4 12.6667C3.82319 12.6667 3.65362 12.5964 3.52859 12.4714C3.40357 12.3464 3.33333 12.1768 3.33333 12C3.33333 11.8232 3.40357 11.6536 3.52859 11.5286C3.65362 11.4036 3.82319 11.3333 4 11.3333C4.17681 11.3333 4.34638 11.4036 4.47141 11.5286C4.59643 11.6536 4.66667 11.8232 4.66667 12ZM6.66667 12.6667C6.84348 12.6667 7.01305 12.5964 7.13807 12.4714C7.2631 12.3464 7.33333 12.1768 7.33333 12C7.33333 11.8232 7.2631 11.6536 7.13807 11.5286C7.01305 11.4036 6.84348 11.3333 6.66667 11.3333C6.48986 11.3333 6.32029 11.4036 6.19526 11.5286C6.07024 11.6536 6 11.8232 6 12C6 12.1768 6.07024 12.3464 6.19526 12.4714C6.32029 12.5964 6.48986 12.6667 6.66667 12.6667ZM9.33333 10C9.51014 10 9.67971 9.92976 9.80474 9.80474C9.92976 9.67971 10 9.51014 10 9.33333C10 9.15652 9.92976 8.98695 9.80474 8.86193C9.67971 8.7369 9.51014 8.66667 9.33333 8.66667C9.15652 8.66667 8.98695 8.7369 8.86193 8.86193C8.7369 8.98695 8.66667 9.15652 8.66667 9.33333C8.66667 9.51014 8.7369 9.67971 8.86193 9.80474C8.98695 9.92976 9.15652 10 9.33333 10ZM10 12C10 12.1768 9.92976 12.3464 9.80474 12.4714C9.67971 12.5964 9.51014 12.6667 9.33333 12.6667C9.15652 12.6667 8.98695 12.5964 8.86193 12.4714C8.7369 12.3464 8.66667 12.1768 8.66667 12C8.66667 11.8232 8.7369 11.6536 8.86193 11.5286C8.98695 11.4036 9.15652 11.3333 9.33333 11.3333C9.51014 11.3333 9.67971 11.4036 9.80474 11.5286C9.92976 11.6536 10 11.8232 10 12ZM12.6667 6.66667C12.6667 6.84348 12.5964 7.01305 12.4714 7.13807C12.3464 7.2631 12.1768 7.33333 12 7.33333C11.8232 7.33333 11.6536 7.2631 11.5286 7.13807C11.4036 7.01305 11.3333 6.84348 11.3333 6.66667C11.3333 6.48986 11.4036 6.32029 11.5286 6.19526C11.6536 6.07024 11.8232 6 12 6C12.1768 6 12.3464 6.07024 12.4714 6.19526C12.5964 6.32029 12.6667 6.48986 12.6667 6.66667ZM12 10C12.1768 10 12.3464 9.92976 12.4714 9.80474C12.5964 9.67971 12.6667 9.51014 12.6667 9.33333C12.6667 9.15652 12.5964 8.98695 12.4714 8.86193C12.3464 8.7369 12.1768 8.66667 12 8.66667C11.8232 8.66667 11.6536 8.7369 11.5286 8.86193C11.4036 8.98695 11.3333 9.15652 11.3333 9.33333C11.3333 9.51014 11.4036 9.67971 11.5286 9.80474C11.6536 9.92976 11.8232 10 12 10ZM12.6667 12C12.6667 12.1768 12.5964 12.3464 12.4714 12.4714C12.3464 12.5964 12.1768 12.6667 12 12.6667C11.8232 12.6667 11.6536 12.5964 11.5286 12.4714C11.4036 12.3464 11.3333 12.1768 11.3333 12C11.3333 11.8232 11.4036 11.6536 11.5286 11.5286C11.6536 11.4036 11.8232 11.3333 12 11.3333C12.1768 11.3333 12.3464 11.4036 12.4714 11.5286C12.5964 11.6536 12.6667 11.8232 12.6667 12Z",fill:"currentColor"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_opacity",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),T2e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.4",clipPath:"url(#clip0_shadow)",children:t.jsxs("g",{clipPath:"url(#clip1_shadow)",children:[t.jsx("mask",{id:"mask0_shadow",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:t.jsx("path",{d:"M16 0H0V16H16V0Z",fill:"white"})}),t.jsxs("g",{mask:"url(#mask0_shadow)",children:[t.jsx("path",{opacity:"0.33",d:"M15.25 11.9981C15.25 13.793 13.7949 15.2481 12 15.2481H4C2.20508 15.2481 0.750002 13.793 0.75 11.9981V11.9473C1.63982 13.0705 3.00385 13.748 4.47168 13.7481H11.2832C12.8846 13.748 14.3732 12.9398 15.25 11.6055V11.9981Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.jsx("path",{d:"M12 0.75H4C2.20507 0.75 0.75 2.20507 0.75 4V9C0.75 10.7949 2.20507 12.25 4 12.25H12C13.7949 12.25 15.25 10.7949 15.25 9V4C15.25 2.20507 13.7949 0.75 12 0.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]})]})}),t.jsxs("defs",{children:[t.jsx("clipPath",{id:"clip0_shadow",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})}),t.jsx("clipPath",{id:"clip1_shadow",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]}),I2e=[{name:"Inherit (from parent)",value:""},{name:"Sans-serif",value:"sans-serif"},{name:"Serif",value:"serif"},{name:"Monospace",value:"monospace"},{name:"Arial",value:"Arial"},{name:"Times New Roman",value:"Times New Roman"},{name:"Georgia",value:"Georgia"},{name:"Courier New",value:"Courier New"},{name:"Verdana",value:"Verdana"},{name:"Trebuchet MS",value:"Trebuchet MS"},{name:"Comic Sans MS",value:"Comic Sans MS"},{name:"Impact",value:"Impact"},{name:"Tahoma",value:"Tahoma"}];function SE(e){const n=e.split(" ").filter(Boolean),s=k=>{for(const I of n){const{normalized:D,important:P}=Rs(I);if(k(D))return{normalized:D,important:P}}return null},r=s(k=>yB.has(k)),i=r?.normalized??"",a=r?.important??!1,o=s(k=>I8.has(k)),l=o?.normalized??"",c=o?.important??!1,u=s(k=>k.startsWith("leading-"));let p="";const f=u?.important??!1,m=u?.normalized??"";m&&m.startsWith("leading-[")&&m.endsWith("]")&&(p=m.slice(9,-1).replace("rem",""));const h=s(k=>k.startsWith("tracking-"));let x="";const y=h?.important??!1,v=h?.normalized??"";v&&v.startsWith("tracking-[")&&v.endsWith("]")&&(x=v.slice(10,-1).replace("em",""));const g=s(k=>A8.has(k)),b=g?.normalized??"",w=g?.important??!1,N=s(k=>k==="underline"),j=s(k=>k==="line-through"),_=s(k=>k==="italic");let C="none",F=!1;N?(C="underline",F=N.important):j?(C="line-through",F=j.important):_&&(C="italic",F=_.important);let E="",S=!1;const M=s(k=>k.startsWith("font-[")||k==="font-sans"||k==="font-serif"||k==="font-mono");if(M){const k=M.normalized;S=M.important,k==="font-sans"?E="sans-serif":k==="font-serif"?E="serif":k==="font-mono"?E="monospace":k.startsWith("font-[")&&k.endsWith("]")&&(E=k.slice(6,-1).replace(/['"]/g,"").replace(/_/g," "))}return{fontWeight:i,fontWeightImportant:a,fontSize:l,fontSizeImportant:c,lineHeight:p,lineHeightImportant:f,letterSpacing:x,letterSpacingImportant:y,textAlign:b,textAlignImportant:w,textDecoration:C,textDecorationImportant:F,fontFamily:E,fontFamilyImportant:S}}function A2e(e){return e.split(" ").filter(Boolean).some(s=>s.startsWith("text-[")||s.startsWith("!text-[")||s.startsWith("text-")&&!["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl","text-left","text-center","text-right","text-justify"].includes(s))}function D2e(e){return e.split(" ").filter(Boolean).some(s=>s.startsWith("bg-[")||s.startsWith("!bg-[")||s==="bg-transparent"||s==="!bg-transparent"||s.startsWith("bg-")&&s!=="bg-gradient-to-r"&&s!=="bg-gradient-to-l"&&s!=="bg-gradient-to-t"&&s!=="bg-gradient-to-b"&&!s.startsWith("bg-gradient"))}function kE(e){const n=e.split(" ").filter(Boolean),s={0:"0","0.5":"2",1:"4","1.5":"6",2:"8","2.5":"10",3:"12","3.5":"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},r=(I,D)=>{if(!I.startsWith(D))return"";const P=I.substring(D.length);return P.startsWith("[")&&P.endsWith("]")?P.slice(1,-1).replace("px",""):s[P]||""},i=I=>n.find(D=>{const{normalized:P}=Rs(D);return P.startsWith(I)});let a="",o="",l="",c="";const u=i("mt-"),p=i("mb-"),f=i("ml-"),m=i("mr-");if(u){const{normalized:I}=Rs(u);a=r(I,"mt-")}if(p){const{normalized:I}=Rs(p);o=r(I,"mb-")}if(f){const{normalized:I}=Rs(f);l=r(I,"ml-")}if(m){const{normalized:I}=Rs(m);c=r(I,"mr-")}const h=i("mx-"),x=i("my-"),y=n.find(I=>{const{normalized:D}=Rs(I);return/^m-\d/.test(D)||D.startsWith("m-[")});if(h&&!f&&!m){const{normalized:I}=Rs(h),D=r(I,"mx-");l=D,c=D}if(x&&!u&&!p){const{normalized:I}=Rs(x),D=r(I,"my-");a=D,o=D}if(y&&!u&&!p&&!f&&!m){const{normalized:I}=Rs(y),D=r(I,"m-");a=D,o=D,l=D,c=D}let v="",g="",b="",w="";const N=i("pt-"),j=i("pb-"),_=i("pl-"),C=i("pr-");if(N){const{normalized:I}=Rs(N);v=r(I,"pt-")}if(j){const{normalized:I}=Rs(j);g=r(I,"pb-")}if(_){const{normalized:I}=Rs(_);b=r(I,"pl-")}if(C){const{normalized:I}=Rs(C);w=r(I,"pr-")}const F=i("px-"),E=i("py-"),S=n.find(I=>{const{normalized:D}=Rs(I);return/^p-\d/.test(D)||D.startsWith("p-[")});if(F&&!_&&!C){const{normalized:I}=Rs(F),D=r(I,"px-");b=D,w=D}if(E&&!N&&!j){const{normalized:I}=Rs(E),D=r(I,"py-");v=D,g=D}if(S&&!N&&!j&&!_&&!C){const{normalized:I}=Rs(S),D=r(I,"p-");v=D,g=D,b=D,w=D}return{marginTop:a,marginBottom:o,marginLeft:l,marginRight:c,marginLinked:a===""&&o===""&&l===""&&c===""||a===o&&o===l&&l===c&&a!=="",paddingTop:v,paddingBottom:g,paddingLeft:b,paddingRight:w,paddingLinked:v===""&&g===""&&b===""&&w===""||v===g&&g===b&&b===w&&v!==""}}function TE(e){const n=e.split(" ").filter(Boolean),s={0:"0","0.5":"2",1:"4","1.5":"6",2:"8","2.5":"10",3:"12","3.5":"14",4:"16",5:"20",6:"24",7:"28",8:"32",9:"36",10:"40",11:"44",12:"48",14:"56",16:"64",20:"80",24:"96",28:"112",32:"128",36:"144",40:"160",44:"176",48:"192",52:"208",56:"224",60:"240",64:"256",72:"288",80:"320",96:"384"},r=(o,l)=>{if(!o.startsWith(l))return"";const c=o.substring(l.length);return c.startsWith("[")&&c.endsWith("]")?c.slice(1,-1).replace("px",""):s[c]||""},i=n.find(o=>{const{normalized:l}=Rs(o);return l.startsWith("gap-")&&!l.startsWith("gap-x-")&&!l.startsWith("gap-y-")});let a="";if(i){const{normalized:o}=Rs(i);a=r(o,"gap-")}return a}const O1=e=>e.split(/\s+/).map(n=>n.trim()).filter(Boolean),B1=(e,n)=>{if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==n[s])return!1;return!0},Rs=e=>e.startsWith("!")?{normalized:e.slice(1),important:!0}:{normalized:e,important:!1},rr=e=>e?e.startsWith("!")?e:`!${e}`:e??null,IE=e=>{const n=e.match(/!?(?:text|bg)-\[(.+)\]/);if(!n)return null;const s=n[1]?.trim()??"";if(!s)return null;try{const r=Js(s),i=Math.round(r.alpha()*100);return{color:r.alpha(1).hex(),opacity:i}}catch{return null}},M2e=e=>{const n=new Set,s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];!i||n.has(i)||(n.add(i),s.push(i))}return s.reverse()},yB=new Set(["font-thin","font-extralight","font-light","font-normal","font-medium","font-semibold","font-bold","font-extrabold"]),I8=new Set(["text-xs","text-sm","text-base","text-lg","text-xl","text-2xl","text-3xl","text-4xl","text-5xl","text-6xl","text-7xl","text-8xl","text-9xl"]),A8=new Set(["text-left","text-center","text-right","text-justify"]),L2e=new Set(["underline","no-underline","line-through","italic","not-italic"]),vB=e=>(()=>{const{normalized:n}=Rs(e);return yB.has(n)||I8.has(n)||n.startsWith("leading-")||n.startsWith("tracking-")||A8.has(n)||L2e.has(n)||n==="font-sans"||n==="font-serif"||n==="font-mono"||n.startsWith("font-[")})(),pf=e=>{const{normalized:n}=Rs(e);return n.startsWith("m-")||n.startsWith("mt-")||n.startsWith("mb-")||n.startsWith("ml-")||n.startsWith("mr-")||n.startsWith("mx-")||n.startsWith("my-")||n.startsWith("p-")||n.startsWith("pt-")||n.startsWith("pb-")||n.startsWith("pl-")||n.startsWith("pr-")||n.startsWith("px-")||n.startsWith("py-")||n.startsWith("gap-")},ff=e=>{const{normalized:n}=Rs(e);return n==="rounded"||n.startsWith("rounded-")||/^rounded-(none|sm|md|lg|xl|2xl|3xl|full)$/.test(n)},nx=e=>{const{normalized:n}=Rs(e);return n.startsWith("opacity-")||n.startsWith("opacity-[")},sx=e=>{const{normalized:n}=Rs(e);return n==="shadow"||n.startsWith("shadow-")},R2e=e=>e.startsWith("text-[")||e.startsWith("!text-[")||e.startsWith("text-")&&!I8.has(e)&&!A8.has(e),P2e=e=>e.startsWith("bg-[")||e.startsWith("!bg-[")||e==="bg-transparent"||e==="!bg-transparent"||e.startsWith("bg-")&&!e.startsWith("bg-gradient"),O2e=e=>ff(e)||nx(e)||sx(e),wB=e=>R2e(e)||P2e(e),U1=e=>vB(e)||pf(e)||O2e(e)||wB(e);function AE(e){const n=e.split(" ").filter(Boolean),s=(g,b)=>{if(!g.startsWith(b))return"";const w=g.substring(b.length);if(w.startsWith("[")&&w.endsWith("]")){const j=w.slice(1,-1);return j.endsWith("px")?j.slice(0,-2):j}const N=Xge(w);return N!==null?N:""};let r="",i="",a="",o="";const l=n.find(g=>{const{normalized:b}=Rs(g);return b.startsWith("rounded-t-")}),c=n.find(g=>{const{normalized:b}=Rs(g);return b.startsWith("rounded-b-")}),u=n.find(g=>{const{normalized:b}=Rs(g);return b.startsWith("rounded-l-")}),p=n.find(g=>{const{normalized:b}=Rs(g);return b.startsWith("rounded-r-")});if(l){const{normalized:g}=Rs(l);r=s(g,"rounded-t-")}if(c){const{normalized:g}=Rs(c);i=s(g,"rounded-b-")}if(u){const{normalized:g}=Rs(u);a=s(g,"rounded-l-")}if(p){const{normalized:g}=Rs(p);o=s(g,"rounded-r-")}const f=n.find(g=>{const{normalized:b}=Rs(g);return(b==="rounded"||b.startsWith("rounded-"))&&!b.startsWith("rounded-t-")&&!b.startsWith("rounded-b-")&&!b.startsWith("rounded-l-")&&!b.startsWith("rounded-r-")&&!b.startsWith("rounded-tl-")&&!b.startsWith("rounded-tr-")&&!b.startsWith("rounded-bl-")&&!b.startsWith("rounded-br-")});if(f&&!l&&!c&&!u&&!p){const{normalized:g}=Rs(f),b=s(g,"rounded-");r=b,i=b,a=b,o=b}const m=r===""&&i===""&&a===""&&o===""||r===i&&i===a&&a===o&&r!=="";let h="100";const x=n.map(g=>({original:g,...Rs(g)})).find(({normalized:g})=>g.startsWith("opacity-"));if(x){const g=x.normalized.substring(8);if(g.startsWith("[")&&g.endsWith("]")){const b=g.slice(1,-1).trim(),w=b.endsWith("%")?b.slice(0,-1):b,N=Number(w);h=Number.isNaN(N)?w:N.toString()}else h=g}let y="none";const v=n.map(g=>({original:g,...Rs(g)})).find(({normalized:g})=>g==="shadow"||g.startsWith("shadow-"));if(v){const{normalized:g}=v;g==="shadow"?y="md":y=g.substring(7)}return{cornerRadiusTop:r,cornerRadiusBottom:i,cornerRadiusLeft:a,cornerRadiusRight:o,cornerRadiusLinked:m,elementOpacity:h,shadow:y}}const DE=({value:e,onValueChange:n})=>t.jsxs(Op,{value:e,onValueChange:n,children:[t.jsx(Kd,{className:"w-auto h-6 text-sm bg-transparent border-0 ml-0 p-0 shadow-none focus:ring-0 text-white hover:bg-transparent [&>svg]:hidden gap-0",children:t.jsx(Bp,{})}),t.jsxs(Yd,{className:"min-w-[4rem] bg-[#1A1A1A] border-[rgba(255,255,255,0.12)] rounded-lg",children:[t.jsx(fo,{value:"rem",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"rem"}),t.jsx(fo,{value:"em",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"em"}),t.jsx(fo,{value:"px",className:"text-white text-sm py-1.5 pl-6 pr-2 focus:bg-[rgba(255,255,255,0.1)] focus:text-white cursor-pointer",children:"px"})]})]});function ME({label:e,color:n,opacity:s,hasColor:r,onColorChange:i,onOpacityChange:a,onToggleColor:o,colorType:l,showColorPicker:c,activeColorPicker:u,onOpenColorPicker:p,onCloseColorPicker:f}){const[m,h]=d.useState({top:0,left:0}),x=d.useRef(null),y=d.useRef(null),v=d.useRef(null),g=d.useRef({color:n,hasColor:r}),[b,w]=d.useState(r?n.replace("#",""):"none"),N=c&&u===l;d.useEffect(()=>{if(document.activeElement===v.current)return;if(g.current.color!==n||g.current.hasColor!==r){const k=r?n.replace("#",""):"none";w(k),g.current={color:n,hasColor:r}}},[n,r]);const j=d.useMemo(()=>r?Js(n).alpha(s/100).rgb().string():"rgba(255, 255, 255, 0)",[r,n,s]),_=M=>{const[k,I,D,P]=M,R="#"+[k,I,D].map(U=>{const H=Math.round(U).toString(16);return H.length===1?"0"+H:H}).join("").toUpperCase(),B=Math.round(P*100);i(R),a(B),o(!0)},C=M=>{let k=M.target.value;if(k.toLowerCase()==="none"?k="none":(k=k.toUpperCase(),k.length>6&&(k=k.slice(0,6))),w(k),k==="none"||k==="")o(!1);else if(/^[0-9A-F]{6}$/.test(k)||/^[0-9A-F]{3}$/.test(k)){const I=k.length===3?k.split("").map(D=>D+D).join(""):k;i(`#${I}`),o(!0)}},F=M=>{const k=Math.max(0,Math.min(100,parseInt(M.target.value)||0));a(k)},E=M=>{if(M.stopPropagation(),!x.current)return;const k=x.current.getBoundingClientRect(),I=280,D=200;let P=k.bottom+8,R=k.left;R+I>window.innerWidth&&(R=k.right-I),P+D>window.innerHeight&&(P=k.top-D-8),P=Math.max(8,Math.min(P,window.innerHeight-D-8)),R=Math.max(8,Math.min(R,window.innerWidth-I-8)),h({top:P,left:R}),p(l)};d.useEffect(()=>{const M=I=>{const D=I.target;y.current&&y.current.contains(D)||D.closest?.("[data-radix-popper-content-wrapper], [data-radix-select-content]")||f()},k=I=>{I.key==="Escape"&&f()};return N&&(document.addEventListener("mousedown",M),document.addEventListener("keydown",k)),()=>{document.removeEventListener("mousedown",M),document.removeEventListener("keydown",k)}},[N,f]);const S=r?{backgroundColor:n}:{background:"linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%), linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%)",backgroundSize:"4px 4px",backgroundPosition:"0 0, 2px 2px"};return t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:e}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx("div",{ref:x,className:"w-[14px] h-[14px] rounded-[4px] border border-[rgba(255,255,255,0.12)] mr-2.5 flex-shrink-0 cursor-pointer hover:border-[rgba(255,255,255,0.2)] transition-colors",style:S,onClick:E}),t.jsx("div",{className:"flex-1",children:t.jsx("input",{ref:v,type:"text",value:b,onChange:C,className:A("w-full bg-transparent text-sm focus:outline-none",r?"text-white":"text-white/60"),placeholder:"1A1A1A"})}),r&&t.jsxs("div",{className:"flex items-center pl-1.5 ml-2.5 border-l border-[rgba(255,255,255,0.12)]",children:[t.jsx("input",{type:"number",value:s,onChange:F,min:"0",max:"100",className:"w-8 bg-transparent text-white text-sm focus:outline-none text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),t.jsx("span",{className:"text-white text-sm",children:"%"})]})]})}),N&&t.jsx("div",{ref:y,className:"fixed z-[48] h-60 w-80",style:{top:m.top,left:m.left},children:t.jsx(Jge,{value:j,onChange:_})})]})}const CB=d.forwardRef(({isVisible:e,element:n,position:s,onClose:r,onSave:i,onRevert:a,onChangesDetected:o,onTriggerSave:l,onDiscardChanges:c,onTriggerComplete:u,onHistoryPush:p,isInlineEditingActive:f,jobId:m},h)=>{const[x,y]=d.useState("content"),[v,g]=d.useState(""),[b,w]=d.useState(""),[N,j]=d.useState(""),[_,C]=d.useState(100),[F,E]=d.useState(!1),[S,M]=d.useState(""),[k,I]=d.useState(100),[D,P]=d.useState(!1),[R,B]=d.useState(""),[U,H]=d.useState(!1),[$,q]=d.useState(!1),[Q,V]=d.useState(""),[ee,X]=d.useState(!1),[ae,me]=d.useState(""),[oe,pe]=d.useState(!1),[se,re]=d.useState(""),[ve,we]=d.useState("rem"),[be,Ue]=d.useState(""),[fe,Me]=d.useState("em"),[J,Ne]=d.useState(""),[ge,Ee]=d.useState("none"),[Ce,Ie]=d.useState(!1),[Ae,Se]=d.useState(!1),[ht,Qe]=d.useState(!1),[De,de]=d.useState(!1),[ue,lt]=d.useState(""),[st,mt]=d.useState(""),[ut,wn]=d.useState(""),[Oe,_e]=d.useState(""),[Et,dt]=d.useState(!0),[vt,Ct]=d.useState(""),[St,ct]=d.useState(""),[Ft,Fe]=d.useState(""),[He,Ve]=d.useState(""),[Ke,Ye]=d.useState(!0),[At,mn]=d.useState(""),[Dt,Yt]=d.useState(""),[fn,qt]=d.useState(""),[_n,In]=d.useState(""),[je,Le]=d.useState(""),[xt,Rt]=d.useState(!0),[qe,it]=d.useState("100"),[_t,Kt]=d.useState("none"),[Cn,On]=d.useState(!0),[rs,Vn]=d.useState(!1),[Bn,En]=d.useState(!0),[jn,Un]=d.useState(!0),[fs,cn]=d.useState(!1),[hn,dn]=d.useState(!1),[Wn,Ln]=d.useState({x:0,y:0}),[Cs,Vs]=d.useState({x:0,y:0}),zt=d.useRef(null),[is,$e]=d.useState({width:420,height:400}),Be=d.useRef(null),Te=d.useRef(!1),pt=d.useRef(null),[Xt,Hn]=d.useState(!0),An=d.useRef(!1),en=d.useRef({textContent:"",className:""}),Zn=d.useRef([]),Ot=d.useRef([]),Jn=d.useRef([]),Pn=d.useRef([]),Gs=d.useRef([]),Gn=d.useRef([]),Bs=d.useRef([]),vs=d.useRef([]),sr=d.useRef([]),he=d.useRef(!1),et=d.useRef(null),[jt,tn]=d.useState(null),ls=d.useRef(!1),us=d.useRef(null),Xn=d.useRef(f);d.useEffect(()=>{Xn.current=f},[f]);const Yn=d.useRef(null),[ss,ms]=d.useState(!1),[ar,Fs]=d.useState(null),Ge=d.useRef(null),te=d.useRef(!1),ie=d.useRef(!1),ze=d.useRef(null),Ht=d.useRef(!1),[Pe,Mt]=d.useState({textContent:"",tailwindClasses:"",textColor:"",textOpacity:100,hasTextColor:!1,backgroundColor:"",backgroundOpacity:100,hasBackgroundColor:!1,fontFamily:"",hasExplicitFontFamily:!1,fontFamilyImportant:!1,fontWeight:"",fontWeightImportant:!1,fontSize:"",fontSizeImportant:!1,lineHeight:"",lineHeightUnit:"rem",lineHeightImportant:!1,letterSpacing:"",letterSpacingUnit:"em",letterSpacingImportant:!1,textAlign:"",textAlignImportant:!1,textDecoration:"none",textDecorationImportant:!1,marginTop:"",marginBottom:"",marginLeft:"",marginRight:"",marginLinked:!0,paddingTop:"",paddingBottom:"",paddingLeft:"",paddingRight:"",paddingLinked:!0,gap:"",cornerRadiusTop:"",cornerRadiusBottom:"",cornerRadiusLeft:"",cornerRadiusRight:"",cornerRadiusLinked:!0,elementOpacity:"100",shadow:"none"}),[Tt,ft]=d.useState(!1);d.useEffect(()=>{if(!zt.current)return;const ke=new ResizeObserver(rt=>{for(const Ut of rt){const{width:Wt,height:K}=Ut.contentRect;$e({width:Wt,height:K})}});return ke.observe(zt.current),()=>{ke.disconnect()}},[]),d.useEffect(()=>{const ke=n?.attributes?.["x-id"]||null,rt=ke!==ze.current;if(!n){ze.current=null,Ht.current=!1,y("content"),Yn.current&&(clearTimeout(Yn.current),Yn.current=null);return}if(n){rt&&(te.current=!1,Ge.current=null,ze.current=ke,Ht.current=!1),An.current=!0;const Ut=n.attributes?.["x-dynamic"]==="true";Vn(Ut);const Wt=n.isEditable??!Ut;En(Wt);const K=n.tagName?.toLowerCase()==="img",L=n.tagName?.toLowerCase()==="div",T=L&&n.hasDirectTextContent===!0&&n.hasChildElements===!1,O=!Wt||K?!1:L?T:n.hasDirectTextContent??!0;On(O),Un(!K);const ce=n.computedStyles?.display||"",We=["flex","inline-flex","grid","inline-grid"].includes(ce);cn(We),y("content");const gt=n.textContent||"",Nt=n.className||"";g(gt),et.current=null,tn(null),Ms(Nt);const Qt=O1(Nt);Zn.current=Qt.filter(Bi=>!U1(Bi));const Dn=Qt.filter(pf),_s=Qt.filter(ff),Ks=Qt.filter(Bi=>nx(Bi)||sx(Bi));Pn.current=Dn,Gs.current=_s,Gn.current=Ks,Bs.current=[...Dn],vs.current=[..._s],sr.current=[...Ks],Ot.current=_0(Nt),Jn.current=j0(Nt);let Sr="#000000",Si=100,lr=!1,pr="#ffffff",Ml=100,Ac=!1;const fi=A2e(Nt),Zp=D2e(Nt);if(n.computedStyles){const{color:Bi,backgroundColor:mi}=n.computedStyles;fi&&Bi.hasColor&&Bi.hex?(Sr=Bi.hex,Si=Bi.opacity,lr=!0,j(Bi.hex),C(Bi.opacity),E(!0)):(Sr="",Si=100,j(""),C(100),lr=!1,E(!1)),Zp&&mi.hasColor&&mi.hex?(pr=mi.hex,Ml=mi.opacity,Ac=!0,M(mi.hex),I(mi.opacity),P(!0)):(pr="",Ml=100,M(""),I(100),Ac=!1,P(!1))}const Ys=SE(Nt);V(Ys.fontWeight),X(Ys.fontWeightImportant),me(Ys.fontSize),pe(Ys.fontSizeImportant),re(Ys.lineHeight),Ie(Ys.lineHeightImportant),Ue(Ys.letterSpacing),Se(Ys.letterSpacingImportant),Ne(Ys.textAlign),Qe(Ys.textAlignImportant),Ee(Ys.textDecoration),de(Ys.textDecorationImportant);const kt=!!Ys.fontFamily,Dc=kt?Ys.fontFamily:"";B(Dc),H(kt),q(Ys.fontFamilyImportant);const er=kE(Nt);lt(er.marginTop),mt(er.marginBottom),wn(er.marginLeft),_e(er.marginRight),dt(er.marginLinked),Ct(er.paddingTop),ct(er.paddingBottom),Fe(er.paddingLeft),Ve(er.paddingRight),Ye(er.paddingLinked);const jo=TE(Nt);mn(jo);const xr=AE(Nt);Yt(xr.cornerRadiusTop),qt(xr.cornerRadiusBottom),In(xr.cornerRadiusLeft),Le(xr.cornerRadiusRight),Rt(xr.cornerRadiusLinked),it(xr.elementOpacity),Kt(xr.shadow);const nu={textContent:gt,tailwindClasses:Nt,textColor:Sr,textOpacity:Si,hasTextColor:lr,backgroundColor:pr,backgroundOpacity:Ml,hasBackgroundColor:Ac,fontFamily:Dc,hasExplicitFontFamily:kt,fontFamilyImportant:Ys.fontFamilyImportant,fontWeight:Ys.fontWeight,fontWeightImportant:Ys.fontWeightImportant,fontSize:Ys.fontSize,fontSizeImportant:Ys.fontSizeImportant,lineHeight:Ys.lineHeight,lineHeightUnit:"rem",lineHeightImportant:Ys.lineHeightImportant,letterSpacing:Ys.letterSpacing,letterSpacingUnit:"em",letterSpacingImportant:Ys.letterSpacingImportant,textAlign:Ys.textAlign,textAlignImportant:Ys.textAlignImportant,textDecoration:Ys.textDecoration,textDecorationImportant:Ys.textDecorationImportant,marginTop:er.marginTop,marginBottom:er.marginBottom,marginLeft:er.marginLeft,marginRight:er.marginRight,marginLinked:er.marginLinked,paddingTop:er.paddingTop,paddingBottom:er.paddingBottom,paddingLeft:er.paddingLeft,paddingRight:er.paddingRight,paddingLinked:er.paddingLinked,gap:jo,cornerRadiusTop:xr.cornerRadiusTop,cornerRadiusBottom:xr.cornerRadiusBottom,cornerRadiusLeft:xr.cornerRadiusLeft,cornerRadiusRight:xr.cornerRadiusRight,cornerRadiusLinked:xr.cornerRadiusLinked,elementOpacity:xr.elementOpacity,shadow:xr.shadow};Mt(nu),ft(!1),en.current={textContent:gt,className:Nt},setTimeout(()=>{An.current=!1},0)}},[n]),d.useEffect(()=>{ms(!1),Fs(null)},[n]),d.useEffect(()=>{const ke=rt=>{zt.current&&!zt.current.contains(rt.target)&&(ie.current=!0)};return document.addEventListener("mousedown",ke),()=>document.removeEventListener("mousedown",ke)},[]),d.useEffect(()=>{et.current=jt},[jt]),d.useEffect(()=>{if(!he.current)return;he.current=!1;const ke=O1(b);Zn.current=ke.filter(Nt=>!U1(Nt));const rt=SE(b);V(rt.fontWeight),X(rt.fontWeightImportant),me(rt.fontSize),pe(rt.fontSizeImportant),re(rt.lineHeight),Ie(rt.lineHeightImportant),we("rem"),Ue(rt.letterSpacing),Se(rt.letterSpacingImportant),Me("em"),Ne(rt.textAlign),Qe(rt.textAlignImportant),Ee(rt.textDecoration),de(rt.textDecorationImportant),B(rt.fontFamily),H(!!rt.fontFamily),q(rt.fontFamilyImportant);const Ut=kE(b);lt(Ut.marginTop),mt(Ut.marginBottom),wn(Ut.marginLeft),_e(Ut.marginRight),dt(Ut.marginLinked),Ct(Ut.paddingTop),ct(Ut.paddingBottom),Fe(Ut.paddingLeft),Ve(Ut.paddingRight),Ye(Ut.paddingLinked);const Wt=TE(b);mn(Wt);const K=AE(b);Yt(K.cornerRadiusTop),qt(K.cornerRadiusBottom),In(K.cornerRadiusLeft),Le(K.cornerRadiusRight),Rt(K.cornerRadiusLinked),it(K.elementOpacity||"100"),Kt(K.shadow||"none");const L=_0(b),T=j0(b);B1(L,Ot.current)||(Ot.current=L),B1(T,Jn.current)||(Jn.current=T);const O=jE(b,Pe.tailwindClasses);if(L.length>0){const Nt=L.find(Dn=>Dn.startsWith("!text-[")||Dn.startsWith("text-[")),Qt=Nt?IE(Nt):null;Qt?(E(!0),j(Qt.color),C(Qt.opacity)):O?(E(Pe.hasTextColor),j(Pe.textColor),C(Pe.textOpacity)):(E(!1),j(""),C(100))}else E(!1),j(""),C(100);if(T.length>0){const Nt=T.find(Dn=>Dn.startsWith("!bg-[")||Dn.startsWith("bg-[")),Qt=Nt?IE(Nt):null;Qt?(P(!0),M(Qt.color),I(Qt.opacity)):O?(P(Pe.hasBackgroundColor),M(Pe.backgroundColor),I(Pe.backgroundOpacity)):(P(!1),M(""),I(100))}else P(!1),M(""),I(100);const G=ke.filter(pf);B1(G,Pn.current)||(Pn.current=G);const ce=ke.filter(ff);B1(ce,Gs.current)||(Gs.current=ce);const We=ke.filter(Nt=>nx(Nt)||sx(Nt));B1(We,Gn.current)||(Gn.current=We);const gt=ke.some(Nt=>["flex","inline-flex","grid","inline-grid"].includes(Nt));gt!==fs&&cn(gt)},[b,fs,Pe]),d.useEffect(()=>{if(An.current){Tt&&(ft(!1),o?.(!1));return}const rt=JSON.stringify({textContent:v,tailwindClasses:b,textColor:N,textOpacity:_,hasTextColor:F,backgroundColor:S,backgroundOpacity:k,hasBackgroundColor:D,fontFamily:R,hasExplicitFontFamily:U,fontFamilyImportant:$,fontWeight:Q,fontWeightImportant:ee,fontSize:ae,fontSizeImportant:oe,lineHeight:se,lineHeightUnit:ve,lineHeightImportant:Ce,letterSpacing:be,letterSpacingUnit:fe,letterSpacingImportant:Ae,textAlign:J,textAlignImportant:ht,textDecoration:ge,textDecorationImportant:De,marginTop:ue,marginBottom:st,marginLeft:ut,marginRight:Oe,marginLinked:Et,paddingTop:vt,paddingBottom:St,paddingLeft:Ft,paddingRight:He,paddingLinked:Ke,gap:At,cornerRadiusTop:Dt,cornerRadiusBottom:fn,cornerRadiusLeft:_n,cornerRadiusRight:je,cornerRadiusLinked:xt,elementOpacity:qe,shadow:_t})!==JSON.stringify(Pe);rt!==Tt&&(ft(rt),rt&&(Ht.current=!0),o&&o(rt))},[v,b,N,_,F,S,k,D,R,U,$,Q,ee,ae,oe,se,ve,Ce,be,fe,Ae,J,ht,ge,De,ue,st,ut,Oe,Et,vt,St,Ft,He,Ke,At,Dt,fn,_n,je,xt,qe,_t,Pe,Tt,o]);const $n=(ke,rt,Ut)=>{if(!ke||rt===Ut)return ke;const Wt=parseFloat(ke);if(isNaN(Wt))return ke;let K;return rt==="rem"||rt==="em"?K=Wt*16:K=Wt,Ut==="rem"?(K/16).toFixed(3).replace(/\.?0+$/,""):Ut==="em"?(K/16).toFixed(3).replace(/\.?0+$/,""):Math.round(K).toString()},Ns=ke=>{if(se){const rt=$n(se,ve,ke);re(rt)}we(ke)},si=ke=>{if(be){const rt=$n(be,fe,ke);Ue(rt)}Me(ke)},Ms=(ke,rt)=>{if(rt?.fromManual){he.current=!0,et.current=ke,tn(ke),w(ke);return}tn(Ut=>Ut!==null?(et.current=Ut,Ut):(et.current=null,Ut)),w(Ut=>Ut===ke||et.current!==null?Ut:ke)},ui=ke=>{B(ke);const rt=ke!=="";H(rt),q(rt)},an=ke=>{y(ke),ms(!1),Fs(null);const rt={content:Gt.VISUAL_EDIT_TAB_CONTENT_CLICKED,appearance:Gt.VISUAL_EDIT_TAB_APPEARANCE_CLICKED,type:Gt.VISUAL_EDIT_TAB_TYPE_CLICKED,layout:Gt.VISUAL_EDIT_TAB_LAYOUT_CLICKED};z(rt[ke],{jobId:m,elementId:n?.attributes?.["x-id"],tagName:n?.tagName})},Pi=()=>{const ke=[];if(U&&R)if(R==="sans-serif")ke.push(rr("font-sans"));else if(R==="serif")ke.push(rr("font-serif"));else if(R==="monospace")ke.push(rr("font-mono"));else{const rt=R.replace(/ /g,"_");ke.push(rr(`font-['${rt}']`))}return Q&&ke.push(rr(Q)),ae&&ke.push(rr(ae)),se&&ke.push(rr(`leading-[${se}${ve}]`)),be&&ke.push(rr(`tracking-[${be}${fe}]`)),J&&ke.push(rr(J)),ge==="underline"?ke.push(rr("underline")):ge==="line-through"?ke.push(rr("line-through")):ge==="italic"&&ke.push(rr("italic")),ke},wr=()=>{if(ue===Pe.marginTop&&st===Pe.marginBottom&&ut===Pe.marginLeft&&Oe===Pe.marginRight&&Et===Pe.marginLinked&&vt===Pe.paddingTop&&St===Pe.paddingBottom&&Ft===Pe.paddingLeft&&He===Pe.paddingRight&&Ke===Pe.paddingLinked&&At===Pe.gap)return Bs.current;const rt=[];if(Et){const Ut=ue||st,Wt=ut||Oe;Ut&&rt.push(rr(`my-[${Ut}px]`)),Wt&&rt.push(rr(`mx-[${Wt}px]`))}else ue&&rt.push(rr(`mt-[${ue}px]`)),st&&rt.push(rr(`mb-[${st}px]`)),ut&&rt.push(rr(`ml-[${ut}px]`)),Oe&&rt.push(rr(`mr-[${Oe}px]`));if(Ke){const Ut=vt||St,Wt=Ft||He;Ut&&rt.push(rr(`py-[${Ut}px]`)),Wt&&rt.push(rr(`px-[${Wt}px]`))}else vt&&rt.push(rr(`pt-[${vt}px]`)),St&&rt.push(rr(`pb-[${St}px]`)),Ft&&rt.push(rr(`pl-[${Ft}px]`)),He&&rt.push(rr(`pr-[${He}px]`));return At&&rt.push(rr(`gap-[${At}px]`)),rt},ye=()=>{const ke=[],rt=F&&Pe.hasTextColor&&N===Pe.textColor&&_===Pe.textOpacity;if(F){if(rt&&Ot.current.length>0)ke.push(...Ot.current);else if(N)if(_===100)ke.push(`!text-[${N}]`);else{const Wt=Js(N).alpha(_/100).rgb().string().replace(/\s/g,"");ke.push(`!text-[${Wt}]`)}}const Ut=D&&Pe.hasBackgroundColor&&S===Pe.backgroundColor&&k===Pe.backgroundOpacity;if(D){if(Ut&&Jn.current.length>0)ke.push(...Jn.current);else if(S)if(k===100)ke.push(`!bg-[${S}]`);else{const Wt=Js(S).alpha(k/100).rgb().string().replace(/\s/g,"");ke.push(`!bg-[${Wt}]`)}}return ke},at=()=>{if(Dt===Pe.cornerRadiusTop&&fn===Pe.cornerRadiusBottom&&_n===Pe.cornerRadiusLeft&&je===Pe.cornerRadiusRight&&xt===Pe.cornerRadiusLinked)return vs.current;const rt=[];if(xt){if(Dt){const Ut=Qge(Dt);if(Ut)rt.push(rr(Ut));else{const Wt=CE(Dt);Wt&&rt.push(rr(`rounded-[${Wt}]`))}}}else{const Ut=(Wt,K)=>{if(!Wt)return;const L=e2e(Wt,K);if(L){rt.push(rr(L));return}const T=CE(Wt);T&&rt.push(rr(`rounded-${K}-[${T}]`))};Ut(Dt,"t"),Ut(fn,"b"),Ut(_n,"l"),Ut(je,"r")}return rt},Qn=()=>{if(qe===Pe.elementOpacity&&_t===Pe.shadow)return sr.current;const rt=[];return qe&&qe!=="100"&&rt.push(rr(`opacity-[${qe}%]`)),_t&&_t!=="none"&&rt.push(rr(`shadow-${_t}`)),rt},Nn=()=>{const ke=O1(b),rt=ke.filter(vB),Ut=ke.filter(pf),Wt=ke.filter(ff),K=ke.filter(wB),L=ke.filter(Nt=>!U1(Nt)),T=Pi(),O=wr(),G=at(),ce=Qn(),We=ye();return M2e([...L,...T.length>0?T:rt,...O.length>0?O:Ut,...G.length>0?G:Wt,...ce,...We.length>0?We:K]).join(" ")},ks=()=>{tn(null),et.current=null;const ke=Nn();Ms(ke)},qs=d.useCallback(()=>{let ke=Nn();const rt=n?.hasDirectTextContent??!0,Ut={className:en.current.className};rt&&(Ut.textContent=en.current.textContent);const Wt={};if(v!==en.current.textContent&&(Wt.textContent=v),ke!==en.current.className&&(jE(ke,en.current.className)?ke=en.current.className:Wt.className=ke),Object.keys(Wt).length>0&&p&&n?.attributes){const K=n.attributes["x-id"],L=n.attributes["x-file-name"],T=n.attributes["x-line-number"],O=n.attributes["x-component"];if(K&&L&&T&&O){const G={className:Wt.className!==void 0?ke:Ut.className};rt&&(G.textContent=Wt.textContent!==void 0?v:Ut.textContent),p({elementId:K,fileName:L,lineNumber:parseInt(T),component:O,hasChildElements:n?.hasChildElements,hasDirectTextContent:n?.hasDirectTextContent,isMultiElement:n?.isMultiElement,arrayIndex:n?.arrayIndex,previousState:Ut,currentState:G})}}if(Object.keys(Wt).length>0&&(i(Wt),Wt.textContent!==void 0&&(en.current.textContent=v),Wt.className!==void 0)){en.current.className=ke;const K=O1(ke);Zn.current=K.filter(L=>!U1(L)),Pn.current=K.filter(pf),Gs.current=K.filter(ff),Gn.current=K.filter(L=>nx(L)||sx(L)),Ot.current=_0(ke),Jn.current=j0(ke),Ms(ke)}},[n,Tt,v,N,_,F,S,k,D,R,U,$,Q,ee,ae,oe,se,ve,Ce,be,fe,Ae,J,ht,ge,De,ue,st,ut,Oe,Et,vt,St,Ft,He,Ke,At,Dt,fn,_n,je,xt,qe,_t,i,p,Nn]);d.useEffect(()=>{if(!An.current)return Yn.current&&clearTimeout(Yn.current),Yn.current=setTimeout(()=>{Tt?qs():a&&Ht.current&&(a(),Ht.current=!1)},150),()=>{Yn.current&&clearTimeout(Yn.current)}},[f,Tt,v,b,N,_,F,S,k,D,R,U,Q,ae,se,ve,be,fe,J,ge,ue,st,ut,Oe,Et,vt,St,Ft,He,Ke,At,Dt,fn,_n,je,xt,qe,_t]),d.useEffect(()=>{l&&Tt&&(hr(),u&&u("save"))},[l]),d.useEffect(()=>{c&&Tt&&(pi(),u&&u("discard"))},[c]);const ur=()=>{Yn.current&&(clearTimeout(Yn.current),Yn.current=null)},pi=()=>{g(Pe.textContent),tn(null),et.current=null,Ms(Pe.tailwindClasses),j(Pe.textColor),C(Pe.textOpacity),E(Pe.hasTextColor),M(Pe.backgroundColor),I(Pe.backgroundOpacity),P(Pe.hasBackgroundColor),B(Pe.fontFamily),H(Pe.hasExplicitFontFamily),q(Pe.fontFamilyImportant),V(Pe.fontWeight),X(Pe.fontWeightImportant),me(Pe.fontSize),pe(Pe.fontSizeImportant),re(Pe.lineHeight),we(Pe.lineHeightUnit),Ie(Pe.lineHeightImportant),Ue(Pe.letterSpacing),Me(Pe.letterSpacingUnit),Se(Pe.letterSpacingImportant),Ne(Pe.textAlign),Ee(Pe.textDecoration),Qe(Pe.textAlignImportant),de(Pe.textDecorationImportant),lt(Pe.marginTop),mt(Pe.marginBottom),wn(Pe.marginLeft),_e(Pe.marginRight),dt(Pe.marginLinked),Ct(Pe.paddingTop),ct(Pe.paddingBottom),Fe(Pe.paddingLeft),Ve(Pe.paddingRight),Ye(Pe.paddingLinked),mn(Pe.gap),Yt(Pe.cornerRadiusTop),qt(Pe.cornerRadiusBottom),In(Pe.cornerRadiusLeft),Le(Pe.cornerRadiusRight),Rt(Pe.cornerRadiusLinked),it(Pe.elementOpacity),Kt(Pe.shadow),ft(!1),o&&o(!1)};d.useEffect(()=>{if(!s||!zt.current)return;if(pt.current!==s)Te.current=!1,pt.current=s;else if(Te.current)return;Hn(!0);let rt=!1;const Ut={getBoundingClientRect:()=>({width:s.width,height:s.height,x:s.elementRect.left,y:s.elementRect.top,top:s.elementRect.top,left:s.elementRect.left,right:s.elementRect.right,bottom:s.elementRect.bottom})},Wt=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},K={x:Wt.left,y:Wt.top,width:Math.max(Wt.right-Wt.left,0),height:Math.max(Wt.bottom-Wt.top,0),top:Wt.top,right:Wt.right,bottom:Wt.bottom,left:Wt.left},L={left:Wt.left,top:Wt.top,right:Wt.right,bottom:Wt.bottom};return v$(Ut,zt.current,{placement:"bottom-start",strategy:"fixed",middleware:[w$(10),C$({boundary:K,fallbackPlacements:["bottom-end","top-start","top-end","right","left"]}),_$({boundary:K,padding:0}),j$({boundary:K,padding:0})]}).then(({x:T,y:O})=>{if(rt)return;const G=zt.current?.getBoundingClientRect(),ce=G?.width??is.width,We=G?.height??is.height,gt=Math.max(L.right-L.left,0),Nt=Math.max(L.bottom-L.top,0),Qt=gt>0?ce<=gt:!1,Dn=Nt>0?We<=Nt:!1,_s=L.right-ce,Ks=L.bottom-We,Sr=Qt?Math.max(L.left,Math.min(T,_s)):L.left,Si=Dn?Math.max(L.top,Math.min(O,Ks)):L.top;Vs({x:Sr,y:Si}),Hn(!1),dn(!1)}).catch(T=>{rt||Hn(!1)}),()=>{rt=!0}},[s,is,x]);const ne=ke=>{if(!zt.current)return;const rt=zt.current.getBoundingClientRect();Ln({x:ke.clientX-rt.left,y:ke.clientY-rt.top}),dn(!0)};d.useEffect(()=>{const ke=Ut=>{!hn||!s||(Be.current&&cancelAnimationFrame(Be.current),Be.current=requestAnimationFrame(()=>{const Wt=zt.current?.getBoundingClientRect(),K=Wt?.width??is.width,L=Wt?.height??is.height,T=Ut.clientX-Wn.x,O=Ut.clientY-Wn.y,G=s.constraintBounds?{left:s.constraintBounds.left,top:s.constraintBounds.top,right:s.constraintBounds.right,bottom:s.constraintBounds.bottom}:s.iframeBounds?{left:s.iframeBounds.left,top:s.iframeBounds.top,right:s.iframeBounds.right,bottom:s.iframeBounds.bottom}:{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},ce=Math.max(G.left,Math.min(T,G.right-K)),We=Math.max(G.top,Math.min(O,G.bottom-L));Vs({x:ce,y:We})}))},rt=()=>{dn(!1),Te.current=!0,Be.current&&(cancelAnimationFrame(Be.current),Be.current=null)};return hn&&(document.addEventListener("mousemove",ke),document.addEventListener("mouseup",rt)),()=>{document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",rt),Be.current&&(cancelAnimationFrame(Be.current),Be.current=null)}},[hn,Wn,s,is]);const Re=()=>{if(!e||!s)return{display:"none"};const ke=typeof window<"u"?window.innerWidth:is.width,rt=typeof window<"u"?window.innerHeight:is.height,Ut=s.constraintBounds?.width??s.iframeBounds?.width??ke,Wt=s.constraintBounds?.height??s.iframeBounds?.height??rt,L=zt.current?.getBoundingClientRect()?.width??is.width,T=Math.max(Ut,0),O=Math.max(Wt,0),G=T>0?Math.min(L,T):L;return{position:"fixed",left:`${Cs.x}px`,top:`${Cs.y}px`,zIndex:48,width:`${G}px`,maxHeight:O>0?`${O}px`:void 0,overflowY:O>0?"auto":void 0,pointerEvents:Xt?"none":"auto"}},bt=ke=>{ms(!0),Fs(ke),z(Gt.VISUAL_EDIT_COLOR_PICKER_OPENED,{jobId:m,colorType:ke,elementId:n?.attributes?.["x-id"]})},Bt=()=>{ms(!1),Fs(null)},Ze=d.useCallback(ke=>{E(ke),z(Gt.VISUAL_EDIT_TEXT_COLOR_TOGGLED,{jobId:m,enabled:ke,elementId:n?.attributes?.["x-id"]})},[m,n?.attributes]),as=d.useCallback(ke=>{P(ke),z(Gt.VISUAL_EDIT_BG_COLOR_TOGGLED,{jobId:m,enabled:ke,elementId:n?.attributes?.["x-id"]})},[m,n?.attributes]),hr=()=>{ur(),qs();const ke=Nn();Mt({textContent:v,tailwindClasses:ke,textColor:N,textOpacity:_,hasTextColor:F,backgroundColor:S,backgroundOpacity:k,hasBackgroundColor:D,fontFamily:R,hasExplicitFontFamily:U,fontFamilyImportant:$,fontWeight:Q,fontWeightImportant:ee,fontSize:ae,fontSizeImportant:oe,lineHeight:se,lineHeightUnit:ve,lineHeightImportant:Ce,letterSpacing:be,letterSpacingUnit:fe,letterSpacingImportant:Ae,textAlign:J,textAlignImportant:ht,textDecoration:ge,textDecorationImportant:De,marginTop:ue,marginBottom:st,marginLeft:ut,marginRight:Oe,marginLinked:Et,paddingTop:vt,paddingBottom:St,paddingLeft:Ft,paddingRight:He,paddingLinked:Ke,gap:At,cornerRadiusTop:Dt,cornerRadiusBottom:fn,cornerRadiusLeft:_n,cornerRadiusRight:je,cornerRadiusLinked:xt,elementOpacity:qe,shadow:_t}),en.current={textContent:v,className:ke};const Ut=O1(ke);Zn.current=Ut.filter(Wt=>!U1(Wt)),Ot.current=_0(ke),Jn.current=j0(ke),tn(null),et.current=null,Ms(ke),ft(!1),o&&o(!1)};if(d.useImperativeHandle(h,()=>({handleSave:hr,handleDiscard:pi,cancelAutoSave:ur,beginInlineEdit:()=>{us.current=v},updateTextContent:ke=>{ls.current=!0,g(ke),setTimeout(()=>{ls.current=!1},0)},applyInlineEdit:ke=>{g(ke)},cancelInlineEdit:()=>{const ke=us.current;ke!==null&&(ls.current=!0,g(ke),setTimeout(()=>{ls.current=!1},0))}})),!e||!n||!s)return null;const Qs=["img","video","audio","canvas","svg","iframe","hr","br"].includes(n.tagName?.toLowerCase()||"")||n.tagName?.toLowerCase()==="button"&&!n.hasDirectTextContent||n.tagName?.toLowerCase()==="div"&&(!n.hasDirectTextContent||n.hasChildElements),Sa=[{id:"content",name:"Content",icon:t.jsx(i2e,{className:"w-4 h-4"})},{id:"appearance",name:"Appearance",icon:t.jsx(a2e,{className:"w-4 h-4"})},{id:"type",name:"Type",icon:t.jsx(o2e,{className:"w-4 h-4"})},{id:"layout",name:"Layout",icon:t.jsx(l2e,{className:"w-4 h-4"})}],Va=Qs?Sa.filter(ke=>ke.id!=="type"):Sa;return t.jsxs("div",{ref:zt,className:A("floating-edit-widget bg-[#1A1A1A] border border-[rgba(255,255,255,0.12)] rounded-[14px] select-none transition-opacity","shadow-[0px_12px_26px_0px_rgba(0,0,0,0.13),0px_47px_47px_0px_rgba(0,0,0,0.11),0px_106px_64px_0px_rgba(0,0,0,0.07),0px_189px_76px_0px_rgba(0,0,0,0.02),0px_296px_83px_0px_rgba(0,0,0,0)]",hn&&"cursor-grabbing opacity-90"),style:Re(),children:[t.jsxs("div",{className:A("flex items-center justify-between p-2 border-b border-[rgba(255,255,255,0.12)]",hn?"cursor-grabbing":"cursor-grab"),onMouseDown:ne,children:[t.jsx("div",{className:"flex items-center gap-0",children:Va.map(ke=>t.jsxs("button",{onClick:()=>an(ke.id),onMouseDown:rt=>rt.stopPropagation(),className:A("flex items-center gap-1 p-[6px] pr-[8px] rounded-lg text-xs font-medium transition-all",x===ke.id?"bg-[rgba(83,169,255,0.2)] border border-[rgba(83,169,255,0.4)] text-[#99CCFF]":"text-white/60 hover:text-white/80 hover:bg-white/5 border border-transparent"),children:[t.jsx("span",{className:"flex-shrink-0",children:ke.icon}),ke.name]},ke.id))}),t.jsx("button",{type:"button",onClick:()=>{z(Gt.VISUAL_EDIT_WIDGET_CLOSED,{jobId:m,elementId:n?.attributes?.["x-id"],tagName:n?.tagName}),r()},onMouseDown:ke=>ke.stopPropagation(),className:"flex items-center justify-center w-7 h-7 rounded-md bg-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.1)] text-white/60 hover:text-white/80 transition-colors",title:"Close",children:t.jsx(Pt,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:A("p-3 space-y-3",hn&&"pointer-events-none"),children:[x==="content"&&t.jsxs(t.Fragment,{children:[(Cn||rs)&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Content"}),t.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg h-[102px]",children:t.jsx("textarea",{value:Bn?v:"",onChange:ke=>{te.current=!0,g(ke.target.value)},onFocus:ke=>{Ge.current=ke.target,te.current=!0,z(Gt.VISUAL_EDIT_CONTENT_TEXTAREA_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},onBlur:()=>{const ke=document.activeElement;if(ie.current){ie.current=!1,te.current=!1;return}te.current&&(ke?.tagName==="BODY"||!ke)?setTimeout(()=>{Ge.current?.focus()},0):ke&&zt.current&&!zt.current.contains(ke)&&(te.current=!1)},disabled:!Bn,readOnly:f,className:A("flex-1 bg-transparent text-white text-sm leading-[1.429em] placeholder-white/40 focus:outline-none resize-none",!Bn&&"opacity-50 cursor-not-allowed",f&&"cursor-default"),placeholder:Bn?"Enter content text...":"This dynamic content cannot be edited visually. You can modify the content via the chat."})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Advanced Tailwind Classes"}),t.jsx("div",{className:"flex items-stretch self-stretch gap-2.5 p-2.5 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsx("textarea",{value:jt??b,onChange:ke=>{te.current=!0,Ms(ke.target.value,{fromManual:!0})},onFocus:ke=>{Ge.current=ke.target,te.current=!0,z(Gt.VISUAL_EDIT_TAILWIND_CLASSES_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},onBlur:()=>{const ke=document.activeElement;if(ie.current){ie.current=!1,te.current=!1,ks();return}const rt=te.current&&(ke?.tagName==="BODY"||!ke);ks(),rt?setTimeout(()=>{Ge.current?.focus()},0):ke&&zt.current&&!zt.current.contains(ke)&&(te.current=!1)},className:"flex-1 bg-transparent text-white text-xs font-mono leading-[1.667em] placeholder-white/40 focus:outline-none resize-none",placeholder:"Enter tailwind class...",rows:2,style:{fontFamily:"JetBrains Mono, monospace"}})})]})]}),x==="appearance"&&t.jsxs(t.Fragment,{children:[(Cn||n.hasDirectTextContent)&&t.jsx(ME,{label:"Text Color",color:N,opacity:_,hasColor:F,onColorChange:j,onOpacityChange:C,onToggleColor:Ze,colorType:"text",showColorPicker:ss,activeColorPicker:ar,onOpenColorPicker:bt,onCloseColorPicker:Bt}),jn&&t.jsx(ME,{label:"Background Color",color:S,opacity:k,hasColor:D,onColorChange:M,onOpacityChange:I,onToggleColor:as,colorType:"background",showColorPicker:ss,activeColorPicker:ar,onOpenColorPicker:bt,onCloseColorPicker:Bt}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Corner Radius"}),xt?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(Y4,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Dt,onChange:ke=>{const rt=ke.target.value,Wt=parseFloat(rt)>9999?"9999":rt;Yt(Wt),qt(Wt),In(Wt),Le(Wt)},onFocus:()=>{z(Gt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Rt(!1),z(Gt.VISUAL_EDIT_CORNER_RADIUS_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(K4,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(Y4,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:Dt,onChange:ke=>{const rt=ke.target.value,Wt=parseFloat(rt)>9999?"9999":rt;Yt(Wt)},onFocus:()=>{z(Gt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(NE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:fn,onChange:ke=>{const rt=ke.target.value,Wt=parseFloat(rt)>9999?"9999":rt;qt(Wt)},onFocus:()=>{z(Gt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Rt(!0),z(Gt.VISUAL_EDIT_CORNER_RADIUS_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(tx,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(FE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:_n,onChange:ke=>{const rt=ke.target.value,Wt=parseFloat(rt)>9999?"9999":rt;In(Wt)},onFocus:()=>{z(Gt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(EE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:je,onChange:ke=>{const rt=ke.target.value,Wt=parseFloat(rt)>9999?"9999":rt;Le(Wt)},onFocus:()=>{z(Gt.VISUAL_EDIT_CORNER_RADIUS_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",max:"9999"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Opacity"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(k2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:qe,onChange:ke=>{const rt=Math.max(0,Math.min(100,parseInt(ke.target.value)||0)).toString();it(rt)},onFocus:()=>{z(Gt.VISUAL_EDIT_OPACITY_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},min:"0",max:"100",className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"100"}),t.jsx("span",{className:"text-white/50 text-sm ml-1",children:"%"})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Shadow"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center h-[36px] relative",children:[t.jsx(T2e,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),t.jsxs("select",{value:_t,onChange:ke=>{Kt(ke.target.value),z(Gt.VISUAL_EDIT_SHADOW_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ke.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"none",className:"bg-[#1A1A1A]",children:"None"}),t.jsx("option",{value:"2xs",className:"bg-[#1A1A1A]",children:"2XS"}),t.jsx("option",{value:"xs",className:"bg-[#1A1A1A]",children:"XS"}),t.jsx("option",{value:"sm",className:"bg-[#1A1A1A]",children:"Small"}),t.jsx("option",{value:"md",className:"bg-[#1A1A1A]",children:"Medium"}),t.jsx("option",{value:"lg",className:"bg-[#1A1A1A]",children:"Large"}),t.jsx("option",{value:"xl",className:"bg-[#1A1A1A]",children:"XL"}),t.jsx("option",{value:"2xl",className:"bg-[#1A1A1A]",children:"2XL"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]})]}),x==="type"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Font"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center h-[36px] relative",children:[t.jsx(c2e,{className:"w-4 h-4 ml-2.5 mr-2 flex-shrink-0 text-white pointer-events-none absolute left-0"}),t.jsx("select",{value:R,onChange:ke=>{ui(ke.target.value),z(Gt.VISUAL_EDIT_FONT_FAMILY_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ke.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-9 pr-8 focus:outline-none cursor-pointer appearance-none",children:I2e.map(ke=>t.jsx("option",{value:ke.value,className:"bg-[#1A1A1A]",children:ke.name},ke.value))}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Weight"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[t.jsxs("select",{value:Q,onChange:ke=>{X(!0),V(ke.target.value),z(Gt.VISUAL_EDIT_FONT_WEIGHT_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ke.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"font-thin",className:"bg-[#1A1A1A]",children:"Thin"}),t.jsx("option",{value:"font-extralight",className:"bg-[#1A1A1A]",children:"Extra Light"}),t.jsx("option",{value:"font-light",className:"bg-[#1A1A1A]",children:"Light"}),t.jsx("option",{value:"font-normal",className:"bg-[#1A1A1A]",children:"Normal"}),t.jsx("option",{value:"font-medium",className:"bg-[#1A1A1A]",children:"Medium"}),t.jsx("option",{value:"font-semibold",className:"bg-[#1A1A1A]",children:"Semi Bold"}),t.jsx("option",{value:"font-bold",className:"bg-[#1A1A1A]",children:"Bold"}),t.jsx("option",{value:"font-extrabold",className:"bg-[#1A1A1A]",children:"Extra Bold"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Size"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between h-[36px] relative",children:[t.jsxs("select",{value:ae,onChange:ke=>{pe(!0),me(ke.target.value),z(Gt.VISUAL_EDIT_FONT_SIZE_CHANGED,{jobId:m,elementId:n?.attributes?.["x-id"],value:ke.target.value})},className:"flex-1 bg-transparent text-white text-sm pl-2.5 pr-8 focus:outline-none cursor-pointer appearance-none",children:[t.jsx("option",{value:"text-xs",className:"bg-[#1A1A1A]",children:"XS"}),t.jsx("option",{value:"text-sm",className:"bg-[#1A1A1A]",children:"Small"}),t.jsx("option",{value:"text-base",className:"bg-[#1A1A1A]",children:"Body"}),t.jsx("option",{value:"text-lg",className:"bg-[#1A1A1A]",children:"Large"}),t.jsx("option",{value:"text-xl",className:"bg-[#1A1A1A]",children:"XL"}),t.jsx("option",{value:"text-2xl",className:"bg-[#1A1A1A]",children:"2XL"}),t.jsx("option",{value:"text-3xl",className:"bg-[#1A1A1A]",children:"3XL"}),t.jsx("option",{value:"text-4xl",className:"bg-[#1A1A1A]",children:"4XL"}),t.jsx("option",{value:"text-5xl",className:"bg-[#1A1A1A]",children:"5XL"}),t.jsx("option",{value:"text-6xl",className:"bg-[#1A1A1A]",children:"6XL"}),t.jsx("option",{value:"text-7xl",className:"bg-[#1A1A1A]",children:"7XL"}),t.jsx("option",{value:"text-8xl",className:"bg-[#1A1A1A]",children:"8XL"}),t.jsx("option",{value:"text-9xl",className:"bg-[#1A1A1A]",children:"9XL"})]}),t.jsx("div",{className:"flex items-center justify-end pr-2.5 pointer-events-none absolute right-0",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M2.66602 4.6665L7.99935 9.99983L13.3327 4.6665",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Line Height"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(d2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:se,onChange:ke=>re(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_LINE_HEIGHT_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"1.75",step:"0.01"}),t.jsx(DE,{value:ve,onValueChange:ke=>Ns(ke)})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Letter Spacing"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(u2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:be,onChange:ke=>Ue(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_LETTER_SPACING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0",step:"0.01"}),t.jsx(DE,{value:fe,onValueChange:ke=>si(ke)})]})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Alignment"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-stretch p-1",children:[t.jsx("button",{onClick:()=>{Ne("text-left"),z(Gt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"left"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",J==="text-left"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(p2e,{className:A("w-6 h-6",J==="text-left"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ne("text-center"),z(Gt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"center"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",J==="text-center"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(f2e,{className:A("w-6 h-6",J==="text-center"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ne("text-right"),z(Gt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"right"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",J==="text-right"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(m2e,{className:A("w-6 h-6",J==="text-right"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ne("text-justify"),z(Gt.VISUAL_EDIT_TEXT_ALIGN_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"justify"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",J==="text-justify"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(h2e,{className:A("w-6 h-6",J==="text-justify"?"text-white":"text-white/60")})})]})})]}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Decoration"}),t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-stretch p-1",children:[t.jsx("button",{onClick:()=>{Ee("none"),z(Gt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"none"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="none"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(x2e,{className:A("w-6 h-6",ge==="none"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ee("italic"),z(Gt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"italic"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="italic"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(y2e,{className:A("w-6 h-6",ge==="italic"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ee("line-through"),z(Gt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"line-through"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="line-through"?"bg-[rgba(255,255,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(b2e,{className:A("w-6 h-6",ge==="line-through"?"text-white":"text-white/60")})}),t.jsx("button",{onClick:()=>{Ee("underline"),z(Gt.VISUAL_EDIT_TEXT_DECORATION_CLICKED,{jobId:m,elementId:n?.attributes?.["x-id"],value:"underline"})},className:A("flex-1 flex items-center justify-center py-0.5 px-2.5 rounded transition-colors",ge==="underline"?"bg-[rgba(102,178,255,0.2)]":"hover:bg-[rgba(255,255,255,0.05)]"),children:t.jsx(g2e,{className:A("w-6 h-6",ge==="underline"?"text-white":"text-white/60")})})]})})]})]})]}),x==="layout"&&t.jsxs(t.Fragment,{children:[fs&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Gap"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(S2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white opacity-40"}),t.jsx("input",{type:"number",value:At,onChange:ke=>mn(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_GAP_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Margin"}),Et?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(w2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:ue,onChange:ke=>{const rt=ke.target.value;lt(rt),mt(rt)},onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(v2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:ut,onChange:ke=>{const rt=ke.target.value;wn(rt),_e(rt)},onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{dt(!1),z(Gt.VISUAL_EDIT_MARGIN_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(K4,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(Y4,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:ue,onChange:ke=>lt(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(NE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:st,onChange:ke=>mt(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{dt(!0),z(Gt.VISUAL_EDIT_MARGIN_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(tx,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(FE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:ut,onChange:ke=>wn(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(EE,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Oe,onChange:ke=>_e(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_MARGIN_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-xs font-medium text-white/50",children:"Padding"}),Ke?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(_2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:vt,onChange:ke=>{const rt=ke.target.value;Ct(rt),ct(rt)},onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(C2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Ft,onChange:ke=>{const rt=ke.target.value;Fe(rt),Ve(rt)},onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Ye(!1),z(Gt.VISUAL_EDIT_PADDING_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!1})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(255,255,255,0.06)] border border-[rgba(255,255,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(255,255,255,0.1)]",children:t.jsx(K4,{className:"w-4 h-4 text-white"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(j2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:vt,onChange:ke=>Ct(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(N2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:St,onChange:ke=>ct(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("button",{onClick:()=>{Ye(!0),z(Gt.VISUAL_EDIT_PADDING_TOGGLE,{jobId:m,elementId:n?.attributes?.["x-id"],linked:!0})},className:"w-9 h-9 flex items-center justify-center bg-[rgba(153,204,255,0.06)] border border-[rgba(153,204,255,0.12)] rounded-lg transition-colors hover:bg-[rgba(153,204,255,0.1)]",children:t.jsx(tx,{className:"w-4 h-4 text-[#99CCFF]"})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(F2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:Ft,onChange:ke=>Fe(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"flex-1 min-w-0 bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.12)] focus-within:border-[rgba(255,255,255,0.3)] rounded-lg",children:t.jsxs("div",{className:"flex items-center p-2.5 h-[36px]",children:[t.jsx(E2e,{className:"w-4 h-4 mr-2.5 flex-shrink-0 text-white"}),t.jsx("input",{type:"number",value:He,onChange:ke=>Ve(ke.target.value),onFocus:()=>{z(Gt.VISUAL_EDIT_PADDING_FOCUSED,{jobId:m,elementId:n?.attributes?.["x-id"]})},className:"w-full bg-transparent text-white text-sm focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"0"}),t.jsx("span",{className:"text-white text-sm ml-1",children:"px"})]})}),t.jsx("div",{className:"w-9 h-9 opacity-0 pointer-events-none"})]})]})]})]})]})]})});CB.displayName="FloatingEditWidget";const B2e=({className:e})=>t.jsxs("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("g",{opacity:"0.6",clipPath:"url(#clip0_5432_69607)",children:t.jsx("path",{d:"M9.72451 1.84075C9.61693 1.59936 9.44667 1.39117 9.23143 1.23783C9.01618 1.08449 8.7638 0.991575 8.50051 0.96875C8.23862 0.992946 7.98792 1.08649 7.77419 1.23975C7.56046 1.39302 7.39144 1.60047 7.28451 1.84075L0.78851 13.0888C0.11651 14.2488 0.66851 15.2008 2.00451 15.2008H14.9965C16.3325 15.2008 16.8845 14.2488 16.2125 13.0888L9.72451 1.84075ZM9.30051 12.8007H7.70051V11.2008H9.30051V12.8007ZM9.30051 9.60075H7.70051V4.80075H9.30051V9.60075Z",fill:"white"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5432_69607",children:t.jsx("rect",{width:"16",height:"16",fill:"white",transform:"translate(0.5)"})})})]}),Qc=16,ed=16,U2e=16,yu=(e,n,s)=>s<n?n:Math.min(Math.max(e,n),s),N0=e=>{if(!e)return null;const n=e.offsetParent;if(n)return{rect:n.getBoundingClientRect(),strategy:"absolute"};if(typeof window>"u")return null;const s=window.innerWidth,r=window.innerHeight;return{rect:{left:0,top:0,right:s,bottom:r,width:s,height:r,x:0,y:0,toJSON:()=>({})},strategy:"fixed"}};function V2e({isVisible:e,onSave:n,onDiscard:s,className:r,jobId:i,constraintKey:a,isFullscreen:o=!1,showUnsavedChangesModal:l}){const[c,u]=d.useState(!1),[p,f]=d.useState({x:0,y:0}),[m,h]=d.useState({x:Qc,y:ed}),x=d.useRef(null),y=d.useRef(!1),v=d.useRef(!1),g=d.useRef(null),[b,w]=d.useState("absolute");d.useEffect(()=>{a!==void 0&&(v.current=!1,y.current=!1)},[a]),d.useEffect(()=>{if(!e||typeof window>"u")return;let j=!1;const _=window.requestAnimationFrame(()=>{j||window.requestAnimationFrame(()=>{if(j)return;const C=x.current;if(!C||y.current||v.current)return;const F=N0(C);F&&(w(E=>E===F.strategy?E:F.strategy),h({x:0,y:0}),window.requestAnimationFrame(()=>{if(j)return;const{rect:E}=F,S=C.getBoundingClientRect();if(E.width<=0||E.height<=0)return;const M=(E.width-S.width)/2,k=E.height-S.height-U2e,I={x:yu(M,Qc,E.width-S.width-Qc),y:yu(k,ed,E.height-S.height-ed)};h(I),y.current=!0}))})});return()=>{j=!0,window.cancelAnimationFrame(_)}},[e,a]),d.useEffect(()=>{if(typeof window>"u")return;const j=()=>{const _=x.current;if(!_)return;const C=N0(_);if(!C)return;w(S=>S===C.strategy?S:C.strategy);const{rect:F}=C,E=_.getBoundingClientRect();h(S=>({x:yu(S.x,Qc,F.width-E.width-Qc),y:yu(S.y,ed,F.height-E.height-ed)}))};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),d.useEffect(()=>{if(!c)return;const j=C=>{if(g.current!==C.pointerId)return;const F=x.current;if(typeof window>"u"||!F)return;const E=N0(F);if(!E)return;w(D=>D===E.strategy?D:E.strategy),v.current=!0,C.preventDefault();const S=E.rect,M=F.getBoundingClientRect(),k=C.clientX-S.left-p.x,I=C.clientY-S.top-p.y;h({x:yu(k,Qc,S.width-M.width-Qc),y:yu(I,ed,S.height-M.height-ed)})},_=C=>{if(g.current!==C.pointerId)return;g.current=null;const F=x.current;F?.hasPointerCapture(C.pointerId)&&F.releasePointerCapture(C.pointerId),u(!1)};return window.addEventListener("pointermove",j),window.addEventListener("pointerup",_),window.addEventListener("pointercancel",_),()=>{g.current!==null&&x.current?.hasPointerCapture(g.current)&&x.current.releasePointerCapture(g.current),window.removeEventListener("pointermove",j),window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_)}},[c,p]);const N=j=>{if(j.button!==0&&j.pointerType!=="touch"||j.target.closest("button"))return;const _=x.current;if(!_)return;const C=N0(_);C&&w(E=>E===C.strategy?E:C.strategy),j.preventDefault();const F=_.getBoundingClientRect();f({x:j.clientX-F.left,y:j.clientY-F.top}),g.current=j.pointerId,_.hasPointerCapture(j.pointerId)||_.setPointerCapture(j.pointerId),u(!0)};return d.useEffect(()=>{e||!c||(g.current!==null&&x.current?.hasPointerCapture(g.current)&&x.current.releasePointerCapture(g.current),g.current=null,u(!1))},[e,c]),t.jsx(t.Fragment,{children:t.jsx(ns,{children:e&&t.jsx(xe.div,{ref:x,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"easeInOut"},onPointerDown:N,style:{left:m.x,top:m.y,visibility:y.current?"visible":"hidden"},className:A(b==="fixed"?"fixed":"absolute","z-[48] w-fit select-none",c?"cursor-grabbing":"cursor-grab",r),children:t.jsxs("div",{className:"bg-[#202124] border border-[rgba(255,255,255,0.2)] rounded-xl px-4 py-2 pl-3 pr-2 flex items-center gap-4 shadow-[0px_7px_15px_0px_rgba(0,0,0,0.09),0px_26px_26px_0px_rgba(0,0,0,0.08),0px_59px_36px_0px_rgba(0,0,0,0.05),0px_106px_42px_0px_rgba(0,0,0,0.01),0px_165px_46px_0px_rgba(0,0,0,0)]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(B2e,{className:"w-4 h-4 text-white opacity-60"}),t.jsx("span",{className:"text-white opacity-60 font-['Brockmann'] font-medium text-sm",children:"Unsaved Changes"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{l?.({onConfirm:()=>{z(Gt.VISUAL_EDIT_DISCARDED,{jobId:i,source:"floating_save_button"}),s()},title:"Discard Changes?",description:"Are you sure you want to discard your changes? You will lose your unsaved changes.",confirmButton:{text:"Discard",variant:"destructive"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:o})},className:"bg-[rgba(255,255,255,0.16)] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Discard"})}),t.jsxs("button",{type:"button",onClick:()=>{z(Gt.VISUAL_EDIT_SAVED,{jobId:i,source:"floating_save_button"}),n()},className:"bg-[#0161D1] opacity-92 hover:opacity-100 rounded-md px-3 py-1 flex items-center justify-center gap-1 transition-opacity duration-200",children:[t.jsx("span",{className:"text-white font-['Brockmann'] font-semibold text-sm",children:"Save Changes"}),t.jsxs("div",{className:"flex items-center gap-[2px]",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[8px] leading-none text-center tracking-[-0.01em]",children:navigator.platform.toLowerCase().includes("mac")?"":"Ctrl"})}),t.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-white/20 border border-white/[0.08]",children:t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[12px] leading-none text-center tracking-[-0.01em]",children:"S"})})]})]})]})]})})})})}const H2e=({jobId:e,expoDisplayUrl:n,expoUrl:s})=>{const r=d.useRef(null),i=d.useRef(null);return d.useEffect(()=>()=>{r.current&&(clearTimeout(r.current),r.current=null),i.current&&(i.current(),i.current=null)},[]),{handlePreviewOnMobileClick:()=>{ts(d_.PREVIEW_ON_MOBILE_CLICKED,{jobId:e});const l=/iPhone|iPad|iPod/i.test(navigator.userAgent),c=/Android/i.test(navigator.userAgent);if((l||c)&&s){r.current&&(clearTimeout(r.current),r.current=null),i.current&&(i.current(),i.current=null);let p=!1;const f=()=>{document.hidden&&(p=!0)},m=()=>{p=!0},h=()=>{p=!0};document.addEventListener("visibilitychange",f),window.addEventListener("blur",m),window.addEventListener("pagehide",h),i.current=()=>{document.removeEventListener("visibilitychange",f),window.removeEventListener("blur",m),window.removeEventListener("pagehide",h)},window.location.href=s,r.current=setTimeout(()=>{i.current&&(i.current(),i.current=null),!p&&document.hasFocus()&&!document.hidden&&(l?window.location.href="https://apps.apple.com/app/expo-go/id982107779":c&&(window.location.href="https://play.google.com/store/apps/details?id=host.exp.exponent")),r.current=null},2500)}else n&&window.open(n,"_blank")},handlePreviewCloseClick:l=>{l(),ts(d_.PREVIEW_CLOSE_CLICKED,{jobId:e})}}};let Z4=null;function _B(){const e=d.useRef(null),n=d.useCallback((i,a,o,l,c)=>{const u={activeJobId:i,hasUnsavedChanges:a,onSave:o,onDiscard:l,onDisableVisualEdit:c};e.current=u,Z4=u},[]),s=d.useCallback(()=>{e.current=null,Z4=null},[]),r=d.useCallback(()=>Z4,[]);return{registerVisualEditState:n,clearVisualEditState:s,getVisualEditState:r}}const $2e=1e3;function LE(e){const n=e.split(" ").filter(Boolean),s=[],r=[],i="transparent|current|inherit|black|white|slate|gray|zinc|neutral|stone|red|orange|amber|yellow|lime|green|emerald|teal|cyan|sky|blue|indigo|violet|purple|fuchsia|pink|rose",a="\\[(#[0-9a-fA-F]{3,8}|rgba?\\([^)]+\\)|hsla?\\([^)]+\\))\\]",o=new RegExp(`^!?text-(${i})(-\\d+)?(\\/\\d+)?$|^!?text-${a}$`),l=new RegExp(`^!?bg-(${i})(-\\d+)?(\\/\\d+)?$|^!?bg-${a}$`);return n.forEach(c=>{const u=c.startsWith("!")?c.slice(1):c;o.test(c)?s.push(u):l.test(c)&&r.push(u)}),{textColors:s,bgColors:r}}function F0(e){if(e.includes("[")){const n=e.match(/\[(.+)\]/);return n?n[1]:e}return e.replace(/^(text-|bg-)/,"")}function RE(e){const n=e.split(" ").filter(Boolean);let s="",r="",i="";const a=/^!?font-(sans|serif|mono)$|^!?font-\[.+\]$/,o=/^!?font-(thin|extralight|light|normal|medium|semibold|bold|extrabold|black)$/,l=/^!?text-(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl)$|^!?text-\[\d+.+\]$/;return n.forEach(c=>{const u=c.startsWith("!")?c.slice(1):c;a.test(c)?s=u:o.test(c)?r=u:l.test(c)&&(i=u)}),{fontFamily:s,fontWeight:r,fontSize:i}}function vu(e){if(e.includes("[")){const n=e.match(/\[(.+)\]/);return n?n[1]:e}return e.replace(/^(font-|text-)/,"")}function PE(e){const n=e.split(" ").filter(Boolean);let s="",r="",i="",a="";const o=/^!?text-(left|center|right|justify|start|end)$/,l=/^!?justify-(start|end|center|between|around|evenly)$/,c=/^!?items-(start|end|center|baseline|stretch)$/,u=/^!?object-(left|center|right|top|bottom|left-top|left-bottom|right-top|right-bottom)$/;return n.forEach(p=>{const f=p.startsWith("!")?p.slice(1):p;o.test(p)?s=f:l.test(p)?r=f:c.test(p)?i=f:u.test(p)&&(a=f)}),{textAlign:s,justifyContent:r,alignItems:i,objectPosition:a}}function Hl(e){return e.replace(/^(text-|justify-|items-|object-)/,"")}function z2e(e,n){const s=LE(e),r=LE(n),i=RE(e),a=RE(n),o=PE(e),l=PE(n),c={textColorChange:null,bgColorChange:null,fontFamilyChange:null,fontWeightChange:null,fontSizeChange:null,textAlignChange:null,justifyChange:null,alignItemsChange:null,objectPositionChange:null},u=s.textColors[0]||"",p=r.textColors[0]||"";u!==p&&(u||p)&&(c.textColorChange={old:u?F0(u):"none",new:p?F0(p):"none"});const f=s.bgColors[0]||"",m=r.bgColors[0]||"";return f!==m&&(f||m)&&(c.bgColorChange={old:f?F0(f):"none",new:m?F0(m):"none"}),i.fontFamily!==a.fontFamily&&(i.fontFamily||a.fontFamily)&&(c.fontFamilyChange={old:i.fontFamily?vu(i.fontFamily):"default",new:a.fontFamily?vu(a.fontFamily):"default"}),i.fontWeight!==a.fontWeight&&(i.fontWeight||a.fontWeight)&&(c.fontWeightChange={old:i.fontWeight?vu(i.fontWeight):"normal",new:a.fontWeight?vu(a.fontWeight):"normal"}),i.fontSize!==a.fontSize&&(i.fontSize||a.fontSize)&&(c.fontSizeChange={old:i.fontSize?vu(i.fontSize):"default",new:a.fontSize?vu(a.fontSize):"default"}),o.textAlign!==l.textAlign&&(o.textAlign||l.textAlign)&&(c.textAlignChange={old:o.textAlign?Hl(o.textAlign):"left",new:l.textAlign?Hl(l.textAlign):"left"}),o.justifyContent!==l.justifyContent&&(o.justifyContent||l.justifyContent)&&(c.justifyChange={old:o.justifyContent?Hl(o.justifyContent):"start",new:l.justifyContent?Hl(l.justifyContent):"start"}),o.alignItems!==l.alignItems&&(o.alignItems||l.alignItems)&&(c.alignItemsChange={old:o.alignItems?Hl(o.alignItems):"stretch",new:l.alignItems?Hl(l.alignItems):"stretch"}),o.objectPosition!==l.objectPosition&&(o.objectPosition||l.objectPosition)&&(c.objectPositionChange={old:o.objectPosition?Hl(o.objectPosition):"center",new:l.objectPosition?Hl(l.objectPosition):"center"}),c}function W2e(){const e=d.useRef({timeoutId:null,pendingData:null}),n=d.useCallback((c,u,p,f,m,h)=>{if(m===h)return;e.current.timeoutId&&clearTimeout(e.current.timeoutId);const x=e.current.pendingData;e.current.pendingData={elementId:c,fileName:u,lineNumber:p,component:f,oldValue:x?.elementId===c?x.oldValue:m,newValue:h},e.current.timeoutId=setTimeout(()=>{const y=e.current.pendingData;y&&y.oldValue!==y.newValue&&z(Gt.TEXT_CHANGED,{elementId:y.elementId,fileName:y.fileName,lineNumber:y.lineNumber,component:y.component,oldValue:y.oldValue,newValue:y.newValue,changeDescription:`changed "${y.oldValue}" to "${y.newValue}"`}),e.current.pendingData=null,e.current.timeoutId=null},$2e)},[]),s=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&z(Gt.COLOR_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,colorType:m,oldColor:h,newColor:x,changeDescription:`changed ${m} color "${h}" to "${x}"`})},[]),r=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&z(Gt.FONT_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,fontProperty:m,oldValue:h,newValue:x,changeDescription:`changed font ${m} "${h}" to "${x}"`})},[]),i=d.useCallback((c,u,p,f,m,h,x)=>{h!==x&&z(Gt.LAYOUT_CHANGED,{elementId:c,fileName:u,lineNumber:p,component:f,layoutType:m,oldValue:h,newValue:x,changeDescription:`changed ${m} "${h}" to "${x}"`})},[]),a=d.useCallback((c,u,p,f,m,h)=>{const x=z2e(m,h);x.textColorChange&&s(c,u,p,f,"text",x.textColorChange.old,x.textColorChange.new),x.bgColorChange&&s(c,u,p,f,"background",x.bgColorChange.old,x.bgColorChange.new),x.fontFamilyChange&&r(c,u,p,f,"family",x.fontFamilyChange.old,x.fontFamilyChange.new),x.fontWeightChange&&r(c,u,p,f,"weight",x.fontWeightChange.old,x.fontWeightChange.new),x.fontSizeChange&&r(c,u,p,f,"size",x.fontSizeChange.old,x.fontSizeChange.new),x.textAlignChange&&i(c,u,p,f,"text-align",x.textAlignChange.old,x.textAlignChange.new),x.justifyChange&&i(c,u,p,f,"container-justify",x.justifyChange.old,x.justifyChange.new),x.alignItemsChange&&i(c,u,p,f,"container-align",x.alignItemsChange.old,x.alignItemsChange.new),x.objectPositionChange&&i(c,u,p,f,"image-align",x.objectPositionChange.old,x.objectPositionChange.new)},[s,r,i]),o=d.useCallback(c=>{z(Gt.SESSION_SAVED,{totalChanges:c.length,changes:JSON.stringify(c)})},[]),l=d.useCallback(c=>{z(Gt.SESSION_DISCARDED,{totalChanges:c.length,changes:JSON.stringify(c)})},[]);return{trackTextChange:n,trackColorChange:s,trackFontChange:r,trackLayoutChange:i,trackStyleChange:a,trackSessionSaved:o,trackSessionDiscarded:l}}const G2e=({size:e=16,color:n="white",className:s="",...r})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 16 16",fill:"none",className:s,...r,children:[t.jsx("path",{d:"M11.3307 0.667969H4.66406C3.55949 0.667969 2.66406 1.5634 2.66406 2.66797V13.3346C2.66406 14.4392 3.55949 15.3346 4.66406 15.3346H11.3307C12.4353 15.3346 13.3307 14.4392 13.3307 13.3346V2.66797C13.3307 1.5634 12.4353 0.667969 11.3307 0.667969Z",stroke:n,strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.66406 12.668H9.33073",stroke:n,strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})]}),Im=({size:e=48,color:n="#B8B8CC",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M11 17H13V11H11V17ZM12 9C12.2833 9 12.5208 8.90417 12.7125 8.7125C12.9042 8.52083 13 8.28333 13 8C13 7.71667 12.9042 7.47917 12.7125 7.2875C12.5208 7.09583 12.2833 7 12 7C11.7167 7 11.4792 7.09583 11.2875 7.2875C11.0958 7.47917 11 7.71667 11 8C11 8.28333 11.0958 8.52083 11.2875 8.7125C11.4792 8.90417 11.7167 9 12 9ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:n})});function bg({children:e,iconSize:n=20,iconColor:s="#7F8283",iconComponent:r=Im,tooltipFillColor:i="#1E2224",className:a,side:o="bottom"}){const l=r||Im,{isMobile:c}=ps(),u=t.jsx("button",{type:"button",tabIndex:-1,className:"inline-flex items-center justify-center align-text-bottom relative",children:t.jsx(l,{size:n,color:s})}),p="border-none rounded-[12px] p-3 shadow-lg max-w-[320px]";return c?t.jsxs(dc,{children:[t.jsx(uc,{asChild:!0,children:u}),t.jsxs(_c,{side:o,align:"center",className:A(p,a,"w-auto"),children:[t.jsx(Pme,{style:{fill:i},width:16,height:8}),e]})]}):t.jsx(Ws,{children:t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:u}),t.jsxs(Xs,{side:o,align:"center",className:A(p,a),children:[t.jsx(Qa,{style:{fill:i},width:16,height:8}),e]})]})})}const q2e=({size:e=48,color:n="#989EA0",className:s="",...r})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,...r,children:t.jsx("path",{d:"M9.4 13H10.6V9.4H9.4V13ZM10 8.2C10.17 8.2 10.3125 8.1425 10.4275 8.0275C10.5425 7.9125 10.6 7.77 10.6 7.6C10.6 7.43 10.5425 7.2875 10.4275 7.1725C10.3125 7.0575 10.17 7 10 7C9.83 7 9.6875 7.0575 9.5725 7.1725C9.4575 7.2875 9.4 7.43 9.4 7.6C9.4 7.77 9.4575 7.9125 9.5725 8.0275C9.6875 8.1425 9.83 8.2 10 8.2ZM10 16C9.17 16 8.39 15.8425 7.66 15.5275C6.93 15.2125 6.295 14.785 5.755 14.245C5.215 13.705 4.7875 13.07 4.4725 12.34C4.1575 11.61 4 10.83 4 10C4 9.17 4.1575 8.39 4.4725 7.66C4.7875 6.93 5.215 6.295 5.755 5.755C6.295 5.215 6.93 4.7875 7.66 4.4725C8.39 4.1575 9.17 4 10 4C10.83 4 11.61 4.1575 12.34 4.4725C13.07 4.7875 13.705 5.215 14.245 5.755C14.785 6.295 15.2125 6.93 15.5275 7.66C15.8425 8.39 16 9.17 16 10C16 10.83 15.8425 11.61 15.5275 12.34C15.2125 13.07 14.785 13.705 14.245 14.245C13.705 14.785 13.07 15.2125 12.34 15.5275C11.61 15.8425 10.83 16 10 16ZM10 14.8C11.34 14.8 12.475 14.335 13.405 13.405C14.335 12.475 14.8 11.34 14.8 10C14.8 8.66 14.335 7.525 13.405 6.595C12.475 5.665 11.34 5.2 10 5.2C8.66 5.2 7.525 5.665 6.595 6.595C5.665 7.525 5.2 8.66 5.2 10C5.2 11.34 5.665 12.475 6.595 13.405C7.525 14.335 8.66 14.8 10 14.8Z",fill:n})});function jB(e){const[n,s]=d.useState(""),[r,i]=d.useState(""),[a,o]=d.useState(!1),[l,c]=d.useState(""),u=d.useRef("");let p="";e&&(e.startsWith("https://")?p=e.replace(/^https:\/\//,"").split(".")[0]:p=e);const f=p?`${window.location.origin}/share-preview?app=${encodeURIComponent(p)}`:"";return d.useEffect(()=>{if(!e){o(!1),s(""),i(""),c(""),u.current="";return}const m=`exp://${p}.ngrok.io`;u.current=m,o(!0),s(""),i(m),c(""),gg.toDataURL(m,{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}).then(h=>{u.current===m&&s(h)}).catch(h=>{if(u.current===m){const x=h instanceof Error?h.message:"Failed to generate QR code";c(x),Fn(Is.QR_CODE.EXPO_QR_GENERATION,h,{previewUrl:e??void 0,uuid:p||void 0,expUrl:m,errorMessage:x})}}).finally(()=>{u.current===m&&o(!1)})},[e,p]),{qrDataUrl:n,expoUrl:r,isGenerating:a,displayUrl:f,error:l}}function Hy({previewUrl:e,onDeployClick:n}){const{qrDataUrl:s,isGenerating:r,displayUrl:i,error:a}=jB(e);return t.jsxs("div",{className:"flex flex-col gap-6 items-start justify-center overflow-clip p-4 pb-5 rounded-xl w-[256px] shrink-0",children:[t.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[t.jsxs("div",{className:"flex gap-2 h-7 items-center justify-center",children:[t.jsx(G2e,{size:16,color:"#F2F5F7"}),t.jsx("p",{className:"font-brockmann font-medium leading-7 text-base text-[#F2F5F7]",children:"Try your app on mobile"})]}),t.jsxs("div",{className:"flex flex-col gap-4 items-center w-full",children:[t.jsx("p",{className:"font-inter font-medium leading-5 text-sm text-[#989EA0] text-center",children:"Download Expo Go app and scan the QR preview to view your app on your phone."}),t.jsx("div",{className:"bg-[#151819] flex items-center p-3 rounded-[9.6px] w-[121px] h-[121px]",children:t.jsx("div",{className:"flex flex-1 flex-col items-center justify-center rounded overflow-clip relative",children:r?t.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center",children:t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."})}):s?t.jsx(t.Fragment,{children:t.jsx("img",{src:s,alt:"Expo QR Code",className:"w-[96px] h-[96px]"})}):t.jsx("div",{className:"w-[96px] h-[96px] flex items-center justify-center text-gray-500 text-xs text-center",children:a||"Failed to generate QR code"})})}),t.jsxs("div",{className:"flex flex-col gap-2 items-center w-full",children:[t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("p",{className:"font-inter font-medium leading-5 text-sm text-[#989EA0] text-center",children:"Share URL"}),t.jsx(bg,{iconSize:20,iconComponent:q2e,tooltipFillColor:"#1C1C1F",className:"bg-[#1C1C1F] w-[260px] p-4",children:t.jsx("div",{className:"flex flex-col items-start rounded-xl",children:t.jsxs("p",{className:"font-inter font-normal leading-5 text-sm text-[#989EA0] text-center",children:["Preview expires in 30 mins.",t.jsx("br",{}),"Deploy your app to get a permanent link that never expires."]})})})]}),t.jsxs("div",{className:"border border-white/[0.12] flex gap-0.5 h-9 items-center pl-3 pr-1 py-0.5 rounded-lg w-full",children:[t.jsx("div",{className:"flex flex-1 h-full items-center overflow-hidden",children:t.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"font-inter font-medium leading-5 text-[13px] text-[#989EA0] underline truncate hover:text-[#F2F5F7] transition-colors",children:i})}),t.jsx(Cc,{value:i,iconOnly:!0,buttonClassName:"rounded-lg p-1.5 hover:bg-white/10 transition-colors",iconProps:{size:16,className:"text-[#989EA0]"},tooltipText:"Copy URL",copiedTooltipText:"Copied!",tabIndex:-1})]})]}),t.jsx("div",{className:"flex items-start w-full",children:t.jsx("p",{className:"flex-1 font-inter font-normal leading-[18px] text-xs text-[#696E70]",children:"Browser preview is limited. Use Expo Go on your phone for the full experience."})})]})]}),t.jsxs("button",{onClick:n,className:"bg-[#222224] flex gap-1 h-10 items-center justify-center px-3 rounded-[28px] w-full hover:bg-[#2a2a2c] transition-colors",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("p",{className:"font-brockmann font-medium leading-6 text-base text-[#DCDCE5]",children:"Take your app live"})}),t.jsx(El,{className:"w-5 h-5 text-white"})]})]})}const E2=({width:e=20,height:n=20,fill:s="#737380",hoverColor:r,isHovered:i,className:a,style:o,onClick:l,"aria-label":c="Refresh icon",focusable:u=!1,viewBox:p="0 0 20 20",spinning:f=!1,...m})=>{const[h,x]=d.useState(!1),v=(i!==void 0?i:h)&&r?r:s,g={...o,...f&&{animation:"spin 1s linear infinite",transformOrigin:"center"}},b=`${a||""} ${f?"refresh-spinning":""}`.trim();return t.jsxs(t.Fragment,{children:[f&&t.jsx("style",{children:`
            @keyframes spin {
              from { transform: rotate(0deg); }
              to { transform: rotate(360deg); }
            }
          `}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:p,fill:"none",className:b,style:g,onClick:l,"aria-label":c,focusable:u,onMouseEnter:()=>r&&x(!0),onMouseLeave:()=>r&&x(!1),...m,children:t.jsx("path",{d:"M10.0418 16.6667C8.18072 16.6667 6.59738 16.0209 5.29183 14.7292C3.98627 13.4375 3.3335 11.8612 3.3335 10V9.85421L2.00016 11.1875L0.833496 10.0209L4.16683 6.68754L7.50016 10.0209L6.3335 11.1875L5.00016 9.85421V10C5.00016 11.3889 5.48975 12.5695 6.46891 13.5417C7.44808 14.5139 8.63905 15 10.0418 15C10.4029 15 10.7571 14.9584 11.1043 14.875C11.4516 14.7917 11.7918 14.6667 12.1252 14.5L13.3752 15.75C12.8474 16.0556 12.3057 16.2848 11.7502 16.4375C11.1946 16.5903 10.6252 16.6667 10.0418 16.6667ZM15.8335 13.3125L12.5002 9.97921L13.6668 8.81254L15.0002 10.1459V10C15.0002 8.61115 14.5106 7.4306 13.5314 6.45837C12.5522 5.48615 11.3613 5.00004 9.9585 5.00004C9.59738 5.00004 9.24322 5.04171 8.896 5.12504C8.54877 5.20837 8.2085 5.33337 7.87516 5.50004L6.62516 4.25004C7.15294 3.94449 7.69461 3.71532 8.25016 3.56254C8.80572 3.40976 9.37516 3.33337 9.9585 3.33337C11.8196 3.33337 13.4029 3.97921 14.7085 5.27087C16.014 6.56254 16.6668 8.13893 16.6668 10V10.1459L18.0002 8.81254L19.1668 9.97921L15.8335 13.3125Z",fill:v,style:{transition:"fill 0.2s ease"}})})]})},K2e=({size:e=18,color:n,className:s="",selected:r=!1,...i})=>{const a=n??(r?"white":"#737380");return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 18 18",fill:"none",className:s,...i,children:t.jsx("path",{d:"M6.75 12C6.75 11.5858 6.41422 11.25 6 11.25H4.5C4.08578 11.25 3.75 11.5858 3.75 12V13.5C3.75 13.9142 4.08578 14.25 4.5 14.25H6C6.41422 14.25 6.75 13.9142 6.75 13.5V12ZM9.75 15V14.9927C9.75 14.5785 10.0858 14.2427 10.5 14.2427C10.9142 14.2427 11.25 14.5785 11.25 14.9927V15C11.25 15.4142 10.9142 15.75 10.5 15.75C10.0858 15.75 9.75 15.4142 9.75 15ZM12.75 15V13.5C12.75 13.0858 13.0858 12.75 13.5 12.75H15C15.4142 12.75 15.75 13.0858 15.75 13.5C15.75 13.9142 15.4142 14.25 15 14.25H14.25V15C14.25 15.4142 13.9142 15.75 13.5 15.75C13.0858 15.75 12.75 15.4142 12.75 15ZM9.75 10.5C9.75 10.0858 10.0858 9.75 10.5 9.75C10.9142 9.75 11.25 10.0858 11.25 10.5V11.25H12C12.4142 11.25 12.75 11.5858 12.75 12C12.75 12.4142 12.4142 12.75 12 12.75H10.5C10.0858 12.75 9.75 12.4142 9.75 12V10.5ZM15 9.75C15.4142 9.75 15.75 10.0858 15.75 10.5C15.75 10.9142 15.4142 11.25 15 11.25H13.5C13.0858 11.25 12.75 10.9142 12.75 10.5C12.75 10.0858 13.0858 9.75 13.5 9.75H15ZM6.75 4.5C6.75 4.08579 6.41421 3.75 6 3.75H4.5C4.08579 3.75 3.75 4.08579 3.75 4.5V6C3.75 6.41421 4.08579 6.75 4.5 6.75H6C6.41421 6.75 6.75 6.41421 6.75 6V4.5ZM14.25 4.5C14.25 4.08578 13.9142 3.75 13.5 3.75H12C11.5858 3.75 11.25 4.08578 11.25 4.5V6C11.25 6.41422 11.5858 6.75 12 6.75H13.5C13.9142 6.75 14.25 6.41422 14.25 6V4.5ZM8.25 13.5C8.25 14.7427 7.24263 15.75 6 15.75H4.5C3.25737 15.75 2.25 14.7427 2.25 13.5V12C2.25 10.7573 3.25737 9.75 4.5 9.75H6C7.24263 9.75 8.25 10.7573 8.25 12V13.5ZM8.25 6C8.25 7.24264 7.24264 8.25 6 8.25H4.5C3.25736 8.25 2.25 7.24264 2.25 6V4.5C2.25 3.25736 3.25736 2.25 4.5 2.25H6C7.24264 2.25 8.25 3.25736 8.25 4.5V6ZM15.75 6C15.75 7.24263 14.7427 8.25 13.5 8.25H12C10.7573 8.25 9.75 7.24263 9.75 6V4.5C9.75 3.25737 10.7573 2.25 12 2.25H13.5C14.7427 2.25 15.75 3.25737 15.75 4.5V6Z",fill:a})})},Y2e=W.panels.link,Z2e=W.panels.close;function J2e({jobId:e,isExpoImage:n,previewUrl:s,iframeLoading:r,shouldDisableShareAndOpen:i,showPreviewExpoInfoSection:a,handleShareClick:o,handleRefresh:l,handleOpenInNewTab:c,onClose:u,onDeployClick:p,visualEditMode:f=!1,onVisualEditClick:m,showVisualEditButton:h=!1,visualEditDisabled:x=!1,isVisualEditChangesEnabled:y}){const v=()=>{z(Gt.VISUAL_EDIT_ENABLED,{jobId:e,source:"preview_panel"}),m?.()};return t.jsxs("div",{className:"p-4 px-0 md:p-4 bg-[#111112] z-[2] flex items-center justify-between border-b border-[#242424]/60",children:[t.jsx("div",{className:"text-[#939399] font-['Brockmann'] text-[15px] md:text-[18px] font-medium leading-[24px]",children:"App Preview"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(Ws,{children:[s&&n&&!a&&t.jsxs(dc,{children:[t.jsx(uc,{asChild:!0,children:t.jsx("button",{type:"button",className:"flex items-center justify-center p-[6px] w-8 h-8 rounded-[6px] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14]",children:t.jsx(K2e,{})})}),t.jsx(_c,{side:"bottom",sideOffset:24,align:"end",className:"p-0 w-auto bg-[#131314] rounded-xl border border-[#242424]",children:t.jsx(Hy,{previewUrl:s,onDeployClick:p})})]}),s&&!n&&!i&&t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx(t5e,{onClick:o})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Share"})]}),y&&h&&s&&t.jsx(N8,{visualEditMode:f,onClick:v,disabled:x,isVisualEditChangesEnabled:y,tooltipSide:"bottom"}),s&&t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{"data-testid":Ss.preview.refreshButton,title:"Refresh",type:"button",onClick:l,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx(E2,{width:20,height:20,spinning:r})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Refresh"})]}),!n&&s&&!i&&t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{"data-testid":Ss.preview.openNewTabButton,type:"button",onClick:c,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:Y2e,alt:"Open in new tab",className:"w-5 h-5"})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Open in new tab"})]}),t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{"data-testid":Ss.preview.closeButton,type:"button",title:"Close",onClick:u,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:Z2e,alt:"Close",className:"w-5 h-5"})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0 font-inter font-medium",children:"Close"})]})]})})]})}const X2e=({color:e="#737380",size:n=20,className:s=""})=>t.jsx("svg",{width:n,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M6.43188 5.13649C6.43193 4.83302 6.5525 4.54199 6.76709 4.3274C6.98168 4.11281 7.27271 3.99223 7.57619 3.99219L14.8596 3.99219C15.1631 3.99223 15.4541 4.11281 15.6687 4.3274C15.8833 4.54199 16.0039 4.83302 16.0039 5.13649V12.4199C15.9987 12.72 15.8758 13.0059 15.6618 13.2163C15.4478 13.4266 15.1597 13.5445 14.8596 13.5445C14.5595 13.5445 14.2714 13.4266 14.0574 13.2163C13.8434 13.0059 13.7205 12.72 13.7153 12.4199L13.6457 7.96893L5.95765 15.657C5.74302 15.8716 5.45192 15.9922 5.14838 15.9922C4.84485 15.9922 4.55375 15.8716 4.33912 15.657C4.12448 15.4423 4.00391 15.1512 4.00391 14.8477C4.00391 14.5442 4.12448 14.2531 4.33912 14.0384L12.0272 6.35039L7.57619 6.2808C7.27271 6.28075 6.98168 6.16018 6.76709 5.94559C6.5525 5.731 6.43193 5.43997 6.43188 5.13649Z",fill:e})});function Q2e({previewUrl:e,iframeLoading:n,shouldDisableShareAndOpen:s,handleRefresh:r,handleOpenInNewTab:i,onClose:a}){return t.jsx("div",{className:"p-4 md:p-4 bg-[#111112] md:bg-transparent flex items-center justify-between border-b border-[#242424]/60",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx("div",{className:"flex items-center gap-2",children:e&&t.jsx("button",{title:"Refresh",type:"button",onClick:r,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:t.jsx(E2,{width:22,height:22,spinning:n,fill:"#DCDCE5"})})}),t.jsx("div",{className:"text-[#fff] font-['Brockmann'] text-[18px] font-medium leading-[24px]",children:"Preview"}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&!s&&t.jsx("button",{title:"Open in new tab",type:"button",onClick:i,className:"w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[32px]",children:t.jsx(X2e,{color:"#fff",size:22})}),t.jsx("button",{onClick:a,className:" p-1 w-9 h-9 bg-[#FFFFFF]/10 hover:bg-[#FFFFFF14] rounded-full flex items-center justify-center backdrop-blur-lg",title:"Close",children:t.jsx(Pt,{})})]})]})})}const e5e=W.panels.share,t5e=({onClick:e})=>t.jsxs("button",{"data-testid":Ss.preview.shareButton,type:"button",onClick:e,className:"flex items-center justify-center h-8 bg-white hover:bg-white/90 rounded-[6px] gap-1 p-1 pr-2",children:[t.jsx("img",{src:e5e,alt:"Share app",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#0F0F10] font-semibold text-[14px]",children:"Share"})]}),n5e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M13.332 2H2.66536C1.92898 2 1.33203 2.59695 1.33203 3.33333V10C1.33203 10.7364 1.92898 11.3333 2.66536 11.3333H13.332C14.0684 11.3333 14.6654 10.7364 14.6654 10V3.33333C14.6654 2.59695 14.0684 2 13.332 2Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M5.33203 14H10.6654",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359V14.0026",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),s5e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 0C1.7835 0 1 0.783501 1 1.75V14.25C1 15.2165 1.7835 16 2.75 16H13.25C14.2165 16 15 15.2165 15 14.25V1.75C15 0.783502 14.2165 0 13.25 0H2.75ZM2.5 1.75C2.5 1.61193 2.61193 1.5 2.75 1.5H13.25C13.3881 1.5 13.5 1.61193 13.5 1.75V14.25C13.5 14.3881 13.3881 14.5 13.25 14.5H2.75C2.61193 14.5 2.5 14.3881 2.5 14.25V1.75ZM4.75 4.75C5.30228 4.75 5.75 4.30228 5.75 3.75C5.75 3.19772 5.30228 2.75 4.75 2.75C4.19772 2.75 3.75 3.19772 3.75 3.75C3.75 4.30228 4.19772 4.75 4.75 4.75Z",fill:"currentColor"})}),r5e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M11.332 1.33594H4.66536C3.92898 1.33594 3.33203 1.93289 3.33203 2.66927V13.3359C3.33203 14.0723 3.92898 14.6693 4.66536 14.6693H11.332C12.0684 14.6693 12.6654 14.0723 12.6654 13.3359V2.66927C12.6654 1.93289 12.0684 1.33594 11.332 1.33594Z",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 12H8.00667",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),i5e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M6.0013 9.33073L2.66797 5.9974L6.0013 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.66797 6H9.66797C10.1495 6 10.6263 6.09484 11.0711 6.27911C11.516 6.46338 11.9202 6.73346 12.2607 7.07394C12.6012 7.41442 12.8713 7.81863 13.0555 8.26349C13.2398 8.70835 13.3346 9.18515 13.3346 9.66667C13.3346 10.1482 13.2398 10.625 13.0555 11.0698C12.8713 11.5147 12.6012 11.9189 12.2607 12.2594C11.9202 12.5999 11.516 12.87 11.0711 13.0542C10.6263 13.2385 10.1495 13.3333 9.66797 13.3333H7.33464",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),a5e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M10 9.33073L13.3333 5.9974L10 2.66406",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M13.3346 6H6.33464C5.36217 6 4.42954 6.38631 3.74191 7.07394C3.05428 7.76157 2.66797 8.69421 2.66797 9.66667C2.66797 10.1482 2.76281 10.625 2.94708 11.0698C3.13134 11.5147 3.40143 11.9189 3.74191 12.2594C4.42954 12.947 5.36217 13.3333 6.33464 13.3333H8.66797",stroke:"currentColor",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),o5e=({className:e})=>t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M2 1.5C1.86739 1.5 1.74021 1.55268 1.64645 1.64645C1.55268 1.74021 1.5 1.86739 1.5 2V3.614C1.5 3.81291 1.42098 4.00368 1.28033 4.14433C1.13968 4.28498 0.948912 4.364 0.75 4.364C0.551088 4.364 0.360322 4.28498 0.21967 4.14433C0.0790175 4.00368 4.19177e-09 3.81291 0 3.614V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0H3.614C3.81291 4.19176e-09 4.00368 0.0790175 4.14433 0.21967C4.28498 0.360322 4.364 0.551088 4.364 0.75C4.364 0.948912 4.28498 1.13968 4.14433 1.28033C4.00368 1.42098 3.81291 1.5 3.614 1.5H2ZM7.636 0.75C7.636 0.551088 7.71502 0.360322 7.85567 0.21967C7.99632 0.0790175 8.18709 0 8.386 0H10C10.5304 0 11.0391 0.210714 11.4142 0.585786C11.7893 0.960859 12 1.46957 12 2V3.614C12 3.81291 11.921 4.00368 11.7803 4.14433C11.6397 4.28498 11.4489 4.364 11.25 4.364C11.0511 4.364 10.8603 4.28498 10.7197 4.14433C10.579 4.00368 10.5 3.81291 10.5 3.614V2C10.5 1.86739 10.4473 1.74021 10.3536 1.64645C10.2598 1.55268 10.1326 1.5 10 1.5H8.386C8.18709 1.5 7.99632 1.42098 7.85567 1.28033C7.71502 1.13968 7.636 0.948912 7.636 0.75ZM0.75 7.636C0.948912 7.636 1.13968 7.71502 1.28033 7.85567C1.42098 7.99632 1.5 8.18709 1.5 8.386V10C1.5 10.1326 1.55268 10.2598 1.64645 10.3536C1.74021 10.4473 1.86739 10.5 2 10.5H3.614C3.81291 10.5 4.00368 10.579 4.14433 10.7197C4.28498 10.8603 4.364 11.0511 4.364 11.25C4.364 11.4489 4.28498 11.6397 4.14433 11.7803C4.00368 11.921 3.81291 12 3.614 12H2C1.46957 12 0.960859 11.7893 0.585786 11.4142C0.210714 11.0391 0 10.5304 0 10V8.386C0 8.18709 0.0790175 7.99632 0.21967 7.85567C0.360322 7.71502 0.551088 7.636 0.75 7.636ZM11.25 7.636C11.4489 7.636 11.6397 7.71502 11.7803 7.85567C11.921 7.99632 12 8.18709 12 8.386V10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12H8.386C8.18709 12 7.99632 11.921 7.85567 11.7803C7.71502 11.6397 7.636 11.4489 7.636 11.25C7.636 11.0511 7.71502 10.8603 7.85567 10.7197C7.99632 10.579 8.18709 10.5 8.386 10.5H10C10.1326 10.5 10.2598 10.4473 10.3536 10.3536C10.4473 10.2598 10.5 10.1326 10.5 10V8.386C10.5 8.18709 10.579 7.99632 10.7197 7.85567C10.8603 7.71502 11.0511 7.636 11.25 7.636Z",fill:"currentColor"})}),l5e=({className:e})=>t.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.408457 0.41041C0.690052 0.128822 1.1466 0.128822 1.42819 0.41041L4.99726 3.97948L8.56629 0.41041C8.84794 0.128822 9.30444 0.128822 9.58609 0.41041C9.86766 0.692005 9.86766 1.14855 9.58609 1.43014L6.01698 4.99921L9.58609 8.56823C9.86766 8.84988 9.86766 9.30638 9.58609 9.58803C9.30444 9.8696 8.84794 9.8696 8.56629 9.58803L4.99726 6.01893L1.42819 9.58803C1.1466 9.8696 0.690052 9.8696 0.408457 9.58803C0.126869 9.30638 0.126869 8.84988 0.408457 8.56823L3.97754 4.99921L0.408457 1.43014C0.126869 1.14855 0.126869 0.692005 0.408457 0.41041Z",fill:"currentColor"})}),c5e=({className:e})=>t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"currentColor"})}),d5e=({className:e})=>t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",fill:"currentColor"}),t.jsx("path",{d:"M15.3394 7.45625C14.5125 6.1775 13.4397 5.09125 12.2372 4.31469C10.9069 3.45469 9.43812 3 7.99 3C6.66125 3 5.35469 3.37969 4.10656 4.12844C2.83375 4.89188 1.68062 6.00719 0.679061 7.44312C0.565994 7.60541 0.503723 7.79764 0.500162 7.9954C0.496601 8.19315 0.55191 8.3875 0.659061 8.55375C1.48437 9.84531 2.54656 10.9331 3.73031 11.6991C5.06312 12.5625 6.4975 13 7.99 13C9.44969 13 10.9216 12.5491 12.2462 11.6962C13.4481 10.9222 14.5187 9.83187 15.3425 8.5425C15.446 8.38012 15.5007 8.19146 15.5001 7.99892C15.4995 7.80638 15.4438 7.61804 15.3394 7.45625ZM8.00062 11C7.40728 11 6.82726 10.8241 6.33391 10.4944C5.84056 10.1648 5.45605 9.69623 5.22898 9.14805C5.00192 8.59987 4.94251 7.99667 5.05827 7.41473C5.17402 6.83279 5.45975 6.29824 5.8793 5.87868C6.29886 5.45912 6.83341 5.1734 7.41535 5.05764C7.9973 4.94189 8.6005 5.0013 9.14867 5.22836C9.69685 5.45542 10.1654 5.83994 10.495 6.33329C10.8247 6.82664 11.0006 7.40666 11.0006 8C10.9997 8.79537 10.6834 9.5579 10.1209 10.1203C9.55853 10.6827 8.79599 10.9991 8.00062 11Z",fill:"currentColor"})]}),u5e=({color:e="#7A7A7B",size:n=32})=>t.jsx("svg",{width:n,height:n,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{d:"M11.0417 2.5C10.75 2.5 10.5035 2.39931 10.3021 2.19792C10.1007 1.99653 10 1.75 10 1.45833C10 1.16667 10.1007 0.920139 10.3021 0.71875C10.5035 0.517361 10.75 0.416667 11.0417 0.416667C11.3333 0.416667 11.5799 0.517361 11.7812 0.71875C11.9826 0.920139 12.0833 1.16667 12.0833 1.45833C12.0833 1.75 11.9826 1.99653 11.7812 2.19792C11.5799 2.39931 11.3333 2.5 11.0417 2.5ZM11.0417 16.25C10.75 16.25 10.5035 16.1493 10.3021 15.9479C10.1007 15.7465 10 15.5 10 15.2083C10 14.9167 10.1007 14.6701 10.3021 14.4688C10.5035 14.2674 10.75 14.1667 11.0417 14.1667C11.3333 14.1667 11.5799 14.2674 11.7812 14.4688C11.9826 14.6701 12.0833 14.9167 12.0833 15.2083C12.0833 15.5 11.9826 15.7465 11.7812 15.9479C11.5799 16.1493 11.3333 16.25 11.0417 16.25ZM14.375 5.41667C14.0833 5.41667 13.8368 5.31597 13.6354 5.11458C13.434 4.91319 13.3333 4.66667 13.3333 4.375C13.3333 4.08333 13.434 3.83681 13.6354 3.63542C13.8368 3.43403 14.0833 3.33333 14.375 3.33333C14.6667 3.33333 14.9132 3.43403 15.1146 3.63542C15.316 3.83681 15.4167 4.08333 15.4167 4.375C15.4167 4.66667 15.316 4.91319 15.1146 5.11458C14.9132 5.31597 14.6667 5.41667 14.375 5.41667ZM14.375 13.3333C14.0833 13.3333 13.8368 13.2326 13.6354 13.0312C13.434 12.8299 13.3333 12.5833 13.3333 12.2917C13.3333 12 13.434 11.7535 13.6354 11.5521C13.8368 11.3507 14.0833 11.25 14.375 11.25C14.6667 11.25 14.9132 11.3507 15.1146 11.5521C15.316 11.7535 15.4167 12 15.4167 12.2917C15.4167 12.5833 15.316 12.8299 15.1146 13.0312C14.9132 13.2326 14.6667 13.3333 14.375 13.3333ZM15.625 9.375C15.3333 9.375 15.0868 9.27431 14.8854 9.07292C14.684 8.87153 14.5833 8.625 14.5833 8.33333C14.5833 8.04167 14.684 7.79514 14.8854 7.59375C15.0868 7.39236 15.3333 7.29167 15.625 7.29167C15.9167 7.29167 16.1632 7.39236 16.3646 7.59375C16.566 7.79514 16.6667 8.04167 16.6667 8.33333C16.6667 8.625 16.566 8.87153 16.3646 9.07292C16.1632 9.27431 15.9167 9.375 15.625 9.375ZM8.33333 16.6667C7.18056 16.6667 6.09722 16.4479 5.08333 16.0104C4.06944 15.5729 3.1875 14.9792 2.4375 14.2292C1.6875 13.4792 1.09375 12.5972 0.65625 11.5833C0.21875 10.5694 0 9.48611 0 8.33333C0 7.18056 0.21875 6.09722 0.65625 5.08333C1.09375 4.06944 1.6875 3.1875 2.4375 2.4375C3.1875 1.6875 4.06944 1.09375 5.08333 0.65625C6.09722 0.21875 7.18056 0 8.33333 0V1.66667C6.47222 1.66667 4.89583 2.3125 3.60417 3.60417C2.3125 4.89583 1.66667 6.47222 1.66667 8.33333C1.66667 10.1944 2.3125 11.7708 3.60417 13.0625C4.89583 14.3542 6.47222 15 8.33333 15V16.6667ZM8.33333 10C7.875 10 7.48264 9.83681 7.15625 9.51042C6.82986 9.18403 6.66667 8.79167 6.66667 8.33333C6.66667 8.26389 6.67014 8.19097 6.67708 8.11458C6.68403 8.03819 6.70139 7.96528 6.72917 7.89583L5 6.16667L6.16667 5L7.89583 6.72917C7.95139 6.71528 8.09722 6.69444 8.33333 6.66667C8.79167 6.66667 9.18403 6.82986 9.51042 7.15625C9.83681 7.48264 10 7.875 10 8.33333C10 8.79167 9.83681 9.18403 9.51042 9.51042C9.18403 9.83681 8.79167 10 8.33333 10Z",fill:e})}),p5e=({children:e,className:n,isRunning:s})=>{const r=s?"128,255,249":"255,255,255";return t.jsxs("div",{className:A("group relative backdrop-blur-[20px] transition-transform duration-500 inline-block",n),children:[t.jsx("div",{className:"absolute inset-0 rounded-full z-20 pointer-events-none",style:{background:`
            radial-gradient(circle at 100% 0%, rgba(${r},0.2) 0%, transparent 20%),
            radial-gradient(circle at 0% 100%, rgba(${r},0.2)0%, transparent 20%),
            linear-gradient(0deg, rgba(${r},0.05), rgba(${r},0.04))
          `,padding:".8px",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",maskComposite:"exclude"}}),t.jsxs("div",{className:"relative z-10 backdrop-blur-md rounded-full flex w-full h-full items-center gap-3",style:{backgroundColor:`rgba(${r},0.08)`},children:[t.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent to-transparent opacity-50",style:{background:`linear-gradient(to right, transparent, rgba(${r},0.20), transparent)`}}),t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[1px] bg-gradient-to-r from-transparent to-transparent opacity-30",style:{background:`linear-gradient(to right, transparent, rgba(${r},0.10), transparent)`}}),e]})]})},f5e=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsxs("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[t.jsxs("g",{clipPath:"url(#clip0)",children:[t.jsx("path",{d:"M17.4 4.8C19.0569 4.8 20.4 6.1431 20.4 7.8V16.2C20.4 17.8569 19.0569 19.2 17.4 19.2H6.6C4.9431 19.2 3.6 17.8569 3.6 16.2V7.8C3.6 6.1431 4.9431 4.8 6.6 4.8H17.4Z",fill:"#939399"}),t.jsx("path",{d:"M6 14.4C6 13.162 7.012 12.15 8.25 12.15H15.75C16.988 12.15 18 13.162 18 14.4C18 15.638 16.988 16.65 15.75 16.65H8.25C7.012 16.65 6 15.638 6 14.4Z",fill:"#1D1D1E"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"translate(8 15) scale(1,-1)",fill:"white"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"translate(13 15) scale(1,-1)",fill:"white"}),t.jsx("rect",{y:"10.8",width:"2.4",height:"4.8",rx:"1.2",fill:"#939399"}),t.jsx("rect",{x:"21.6",y:"10.8",width:"2.4",height:"4.8",rx:"1.2",fill:"#939399"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0",children:t.jsx("rect",{width:"24",height:"24",fill:"white"})})})]})},NB=d.createContext({activeIndex:0,isMobile:!1,cardBackgroundStyle:{},onPlayStateChange:()=>{}}),m5e=d.lazy(()=>bn(()=>import("./chunks/Slider.tsx-CUKxX6vB.js"),__vite__mapDeps([36,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.Slider}))),OE="tips-panel-dots-style";if(typeof document<"u"&&!document.getElementById(OE)){const e=document.createElement("style");e.id=OE,e.textContent=`
    @keyframes dotAnimation {
      0%, 100% { content: ""; }
      25% { content: "."; }
      50% { content: ".."; }
      75% { content: "..."; }
    }
    .animated-dots::after {
      content: "";
      animation: dotAnimation 2s steps(1) infinite;
      display: inline-block;
      width: 15px;
      text-align: left;
    }
  `,document.head.appendChild(e)}const BE=[{text:"Analyzing your answers",icon:t.jsx(xo,{size:"18",speed:"1.75",color:"#80FFF9"})},{text:"Scanning file contents",icon:t.jsx(xo,{size:"18",speed:"1.75",color:"#80FFF9"})},{text:"Processing file edits",icon:t.jsx(xo,{size:"18",speed:"1.75",color:"#80FFF9"})}],h5e={text:"Agent is sleeping",icon:t.jsx(f5e,{color:"#939399",size:20,className:""})},x5e={text:"Awaiting further instruction",icon:t.jsx(u5e,{size:16.5,color:"#939399"})},g5e={text:"Initializing agent",icon:t.jsx(xo,{size:"18",speed:"1.75",color:"#80FFF9"})},FB=d.memo(({src:e,isActive:n,isMobile:s,onPlayStateChange:r})=>{const i=d.useRef(null),[a,o]=d.useState(!0);d.useEffect(()=>{n&&i.current?(i.current.currentTime=0,i.current.play().catch(()=>{}),o(!0),r?.(!0)):!n&&i.current&&(i.current.pause(),o(!1))},[n,r]);const l=d.useCallback(()=>{i.current&&(a?(i.current.pause(),r?.(!1)):(i.current.play(),r?.(!0)),o(!a))},[a,r]),c=d.useMemo(()=>A("absolute bottom-1 right-1 w-[56px] h-[28px] flex items-center justify-center rounded-[40px] transition-colors",s?"bg-black/70":"backdrop-blur-[35px] bg-[linear-gradient(rgba(0,0,0,0.55),rgba(0,0,0,0.55)),linear-gradient(rgba(255,255,255,0.30),rgba(255,255,255,0.30))] bg-blend-overlay"),[s]);return t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("video",{ref:i,src:e,className:"w-full h-full object-cover rounded-[16px]",muted:!0,playsInline:!0,preload:n?"auto":"metadata"}),t.jsx("button",{type:"button",onClick:l,className:c,children:a?t.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"#FFFFFFCC",children:[t.jsx("rect",{x:"2",y:"2",width:"3",height:"8",rx:"1"}),t.jsx("rect",{x:"7",y:"2",width:"3",height:"8",rx:"1"})]}):t.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"#FFFFFFCC",children:t.jsx("path",{d:"M3 2L10 6L3 10V2Z"})})})]})});FB.displayName="SliderVideoPlayer";const EB=d.memo(({agentState:e})=>{const[n,s]=d.useState(0),[r,i]=d.useState(!0),a=d.useRef(!1);d.useEffect(()=>{e?.agent_status_new&&e.agent_status_new!=="running"&&(a.current=!0)},[e?.agent_status_new]),d.useEffect(()=>{if(e?.agent_status_new==="running")if(a.current){i(!1),s(0);const p=setInterval(()=>{s(f=>(f+1)%BE.length)},1e4);return()=>clearInterval(p)}else i(!0)},[e?.agent_status_new]);const l=d.useCallback(()=>{if(!e)return null;switch(e.agent_status_new){case"running":return r?g5e:BE[n];case"paused":return h5e;case"stopped":return x5e;default:return null}},[e,n,r])(),u=e?.agent_status_new==="running"?"text-[#80FFF9]":"text-[#939399]";return l?t.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center justify-center gap-3 px-[20px]",children:[l.icon,t.jsx("p",{className:"normal-case text-center text-[15px] font-medium leading-[24px] tracking-[-0.2px] relative",children:t.jsx("span",{className:`font-[Inter] ${u} animated-dots`,children:l.text})})]},`status-${r?"init":n}`):null});EB.displayName="StatusDisplay";const SB=d.memo(({slide:e,index:n})=>{const{activeIndex:s,isMobile:r,cardBackgroundStyle:i,onPlayStateChange:a}=d.useContext(NB),o=n===s,l=d.useMemo(()=>{switch(e.type){case"video":return t.jsx(FB,{src:e.videoSrc,isActive:o,isMobile:r,onPlayStateChange:a});case"image":return t.jsx("img",{src:e.imageSrc,alt:e.imageAlt||e.title,className:"w-full h-full object-cover rounded-[16px]",loading:"lazy"});case"game":return t.jsxs("div",{className:"flex items-center justify-center w-full h-full text-white/60",children:["Game: ",e.gameId]});case"form":return t.jsxs("div",{className:"flex items-center justify-center w-full h-full text-white/60",children:["Form: ",e.formId]});case"custom":return e.content;default:return null}},[e,o,r,a]);return t.jsx("div",{className:A("flex items-center justify-center w-full h-full p-2 border border-[#FFFFFF29] rounded-[24px] login-slider-card",!r&&"backdrop-blur-[50px]"),style:i,children:l})});SB.displayName="SlideCardContent";const b5e=({slides:e,autoAdvance:n=!0,autoAdvanceDuration:s=1e4,onCardClick:r,onSlideChange:i,agentState:a})=>{const[o,l]=d.useState(0),[c,u]=d.useState([]),[p,f]=d.useState(!1),{isMobile:m}=ps(),h=d.useCallback(N=>{f(!N)},[]);d.useEffect(()=>{const N=e.map(j=>j.type==="video"&&j.duration?j.duration:s);u(N)},[e,s]);const x=d.useMemo(()=>({background:m?"rgba(0, 0, 0, 0.4)":"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%), linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))"}),[m]),y=d.useMemo(()=>({activeIndex:o,isMobile:m,cardBackgroundStyle:x,onPlayStateChange:h}),[o,m,x,h]),v=d.useMemo(()=>e.map((N,j)=>({id:N.id,content:t.jsx(SB,{slide:N,index:j})})),[e]),g=e[o]||e[0],b=d.useCallback((N,j)=>{r?.(N,j)},[r]),w=d.useCallback(N=>{l(N),f(!1),i?.(N,e[N])},[i,e]);return t.jsx(NB.Provider,{value:y,children:t.jsxs("div",{className:"z-[9] h-full w-full mb:py-[80px] pb-[100px] relative flex flex-col items-center justify-center",children:[t.jsxs("div",{className:`${m?"w-full":"w-[600px]"} flex flex-col justify-center items-center`,children:[t.jsxs("div",{className:`${m?"w-full":"w-[390px]"} flex flex-col justify-center items-center`,children:[t.jsx(jr,{color:"#FFF",className:"w-[28px] h-[28px] mb-[8px]"}),t.jsx("h1",{className:"text-white font-semibold text-xl leading-[32px] font-[Inter] mb-[4px]",children:g.title}),t.jsx("p",{className:"text-white/60 max-md:px-1 font-medium text-sm font-[Inter] text-center",children:g.description})]}),t.jsx(d.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center",style:{height:m?283:344},children:t.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white/80 rounded-full animate-spin"})}),children:t.jsx(m5e,{cards:v,onCardClick:b,onIndexChange:w,autoAdvance:n,autoAdvanceDuration:s,autoAdvanceDurations:c.length>0?c:void 0,isPaused:p,centerCardWidth:m?360:500,centerCardHeight:m?221:304,sideCardWidth:m?260:500,sideCardHeight:m?180:304,spacing:m?320:32,sideCardOpacity:.2,sideCardScale:.9,showStatsBar:!1,fitHeight:!0,className:"h-fit z-[99999]"})})]}),t.jsx(p5e,{isRunning:a?.agent_status_new==="running",className:"absolute bottom-[30px] md:bottom-[55px] w-fit h-[44px]",children:t.jsx(EB,{agentState:a})})]})})},y5e=W.common.agentSleeping,v5e=W.common.fluentEmojiBell,w5e=W.common.alertFill,C5e=W.common.expo,_5e=W.common.logoBlue,j5e=W.icons.animatedSpinner;function wu(e,n){return n!=null?`${e}:${n}`:e}const UE=[{title:"Ship ideas to live apps in minutes"},{title:"One-click deploy with custom domains"},{title:"Upload assets and inspirations for your apps"},{title:"Build enterprise apps with extended context",pro:!0},{title:"Create specialized AI agents for your workflow",pro:!0},{title:"Create mobile apps from scratch"},{title:"Experiment at lightning speed with forks"}];function N5e(e){if(!e||e.length===0)return"";let n=`Hey, the user has just edited the following elements via visual editing:

`;return e.forEach((r,i)=>{if(r.type==="variableEdit"){const a=r.sourceFile||r.sourceFileAbs;a?n+=`${i+1}. ${a}${r.variableLine?` (line ${r.variableLine})`:""}
`:n+=`${i+1}. Dynamic content in ${r.renderFile||"unknown file"}${r.renderLine?` (line ${r.renderLine})`:""}
`,n+=`   - Variable: ${r.variableName}
`,r.propertyPath?(n+=`   - Property: ${r.propertyPath}`,r.arrayIndex!==void 0&&r.arrayIndex!==null&&(n+=` [index ${r.arrayIndex}]`),n+=`
`):r.arrayIndex!==void 0&&r.arrayIndex!==null&&(n+=`   - Array index: ${r.arrayIndex}
`),n+=`   - New value: "${r.newValue}"
`}else{const a=r.fileName||r.file||"unknown",o=r.component||r.element||"unknown";if(n+=`${i+1}. Line ${r.lineNumber} in ${a} - <${o}>
`,r.type==="content"||r.type==="textContent"){const l=r.content||r.textContent||r.newData||"";n+=`   - Content: "${l}"
`}else if(r.type==="className"){const l=r.className||r.newData||"";n+=`   - Style classes: "${l}"
`}}n+=`
`}),n+="Please acknowledge these changes. Do not make any edits yourself.",`VISUAL_EDIT_NOTIFICATION|||${e.length}|||${n}|||END_VISUAL_EDIT`}function F5e({isOpen:e,onClose:n,previewUrl:s,shareableLink:r,showCase:i,podIsPaused:a=!1,onResumePod:o,isFromGithub:l,shouldReloadIframe:c=!1,onIframeReloaded:u,isResizing:p=!1,jobId:f="",archivedPod:m=!1,env_image:h="",isWakingUp:x=!1,onPreviewEvent:y,isReplaying:v=!1,agentName:g="",visualEditMode:b=!1,vscodePassword:w,enableVisualEdit:N=!1,onEnableVisualEdit:j,onDisableVisualEdit:_,visualEditDisabled:C=!1,onSelectedElementChange:F,onVisualEditComplete:E,onUnsavedChangesChange:S,onExposeHandlers:M,showUnsavedChangesModal:k,isVisualEditChangesEnabled:I,buildMode:D,isShowcaseRemix:P=!1,agentState:R,shouldShowActualPreview:B=!1,onDeployClick:U}){const[H,$]=d.useState(!0),[q,Q]=d.useState(!1),[V,ee]=d.useState("The preview could not be loaded. Please try again."),X=Toe(),[ae,me]=d.useState(!1),[oe,pe]=d.useState(!1),[se,re]=d.useState(!1),ve=x,[we,be]=d.useState(0),[Ue,fe]=d.useState(null),[Me,J]=d.useState(!1),[Ne,ge]=d.useState(0),Ee=Ne>=700,Ce=!0,Ie=o9(),Ae=dM(),[Se,ht]=d.useState(null),[Qe,De]=d.useState(null),[de,ue]=d.useState(!1),[lt,st]=d.useState("pc"),[mt,ut]=d.useState(!1),[wn,Oe]=d.useState("select"),[_e,Et]=d.useState(!1),[dt,vt]=d.useState(!1),[Ct,St]=d.useState(!1),[ct,Ft]=d.useState(new Map),[Fe,He]=d.useState([]),[Ve,Ke]=d.useState(-1),[Ye,At]=d.useState(new Map),[mn,Dt]=d.useState(!1),Yt=d.useMemo(()=>{if(!s||typeof s!="string")return null;try{return new URL(s).hostname}catch{return null}},[s]),fn=Zxe(Yt),{previewSource:qt,cdnUrl:_n}=d.useMemo(()=>fn,[fn.previewSource,fn.cdnUrl]),In=aB(),{isDownloading:je,handleDownload:Le}=d.useMemo(()=>In,[In.isDownloading,In.handleDownload]),{displayUrl:xt,expoUrl:Rt}=jB(s),qe=ps(),{isMobile:it}=d.useMemo(()=>qe,[qe.isMobile]),{isPanelMobileView:_t}=RR(),Kt=Ie?_t:it,{registerVisualEditState:Cn,clearVisualEditState:On}=_B(),rs=W2e(),{toast:Vn}=ds(),Bn=d.useRef(null),En=d.useRef(null),jn=d.useRef(null),[Un,fs]=d.useState(0),cn=d.useRef(null),hn=d.useRef(null),dn=d.useRef(null),Wn=d.useRef(!1),Ln=g?.includes("expo")||h?.includes("expo"),Cs=P&&D!=="build",Vs=d.useCallback(()=>s+"?x_request_source=preview",[s]),{handlePreviewOnMobileClick:zt,handlePreviewCloseClick:is}=H2e({jobId:f,expoDisplayUrl:xt,expoUrl:Rt}),$e=d.useCallback(Ge=>{if(Ge.data?.type!=="SITE_DEBUG")return;const te=Ge.data;switch(te.action){case"ELEMENT_SELECTED":if(ht({...te.element,isDynamic:te.isDynamic,elementCount:te.elementCount,isMultiElement:te.isMultiElement,isEditable:te.isEditable,editType:te.editType,sourceInfo:te.sourceInfo,arrayIndex:te.arrayIndex}),te.element?.attributes?.["x-id"]){const Pe=te.element.attributes["x-id"],Mt=te.arrayIndex;At(Tt=>{const ft=wu(Pe,Mt);if(!Tt.has(ft)){const $n=new Map(Tt);return $n.set(ft,{textContent:te.element.textContent||"",className:te.element.className||""}),$n}return Tt})}if(te.position&&Bn.current){const Pe=Bn.current.getBoundingClientRect(),Mt={...te.position,x:te.position.x+Pe.left,y:te.position.y+Pe.top,elementRect:{top:te.position.elementRect.top+Pe.top,left:te.position.elementRect.left+Pe.left,bottom:te.position.elementRect.bottom+Pe.top,right:te.position.elementRect.right+Pe.left},iframeBounds:{left:Pe.left,top:Pe.top,right:Pe.right,bottom:Pe.bottom,width:Pe.width,height:Pe.height}};if(b&&lt!=="pc"&&jn.current){const Tt=jn.current.getBoundingClientRect();Mt.constraintBounds={left:Tt.left,top:Tt.top,right:Tt.right,bottom:Tt.bottom,width:Tt.width,height:Tt.height}}De(Mt)}else De(te.position);ue(!0);const ie=te.element?.tagName?.toLowerCase()==="div",ze=ie&&te.element?.hasDirectTextContent===!0&&te.element?.hasChildElements===!1,Ht=te.element?.hasDirectTextContent&&(!te.isDynamic||te.isEditable)&&(!te.isMultiElement||te.isEditable)&&!["img","video","audio","canvas","svg","iframe","hr","br","input","button"].includes(te.element?.tagName?.toLowerCase()||"")&&(ie?ze:!0);I&&Ht&&(dn.current&&(clearTimeout(dn.current),dn.current=null),dn.current=setTimeout(()=>{dn.current=null,Be("ENABLE_INLINE_EDIT",{elementId:te.element?.attributes?.["x-id"],arrayIndex:te.arrayIndex})},100)),F?.(te.element?.tagName||null),z(Gt.VISUAL_EDIT_ELEMENT_SELECTED,{jobId:f,elementId:te.element?.attributes?.["x-id"],tagName:te.element?.tagName,isDynamic:te.isDynamic,isMultiElement:te.isMultiElement});break;case"INLINE_EDIT_START":Dt(!0),En.current?.beginInlineEdit?.(),z(Gt.VISUAL_EDIT_INLINE_EDIT_STARTED,{jobId:f,elementId:te.elementId});break;case"INLINE_EDIT_CHANGE":En.current?.updateTextContent(te.textContent||"");break;case"INLINE_EDIT_END":Dt(!1),te.saved?(En.current?.applyInlineEdit(te.textContent||""),z(Gt.VISUAL_EDIT_INLINE_EDIT_SAVED,{jobId:f,elementId:te.elementId})):(En.current?.cancelInlineEdit?.(),z(Gt.VISUAL_EDIT_INLINE_EDIT_CANCELLED,{jobId:f,elementId:te.elementId}));break;case"ELEMENT_DESELECTED":dn.current&&(clearTimeout(dn.current),dn.current=null),ht(null),De(null),ue(!1),Dt(!1),z(Gt.VISUAL_EDIT_ELEMENT_DESELECTED,{jobId:f}),F?.(null);break;case"DEBUG_MODE_DEACTIVATED":dn.current&&(clearTimeout(dn.current),dn.current=null),ht(null),De(null),ue(!1),Dt(!1),F?.(null);break;case"INTERACTION_MODE_CHANGED":Oe(te.mode);break;case"CHANGES_ERROR":Fn(Is.VISUAL_EDIT.CHANGES_ERROR,new Error(te.error||"Failed to apply changes"),{elementId:te.elementId});break}},[b,lt,F]),Be=d.useCallback((Ge,te)=>{Bn.current?.contentWindow&&Bn.current.contentWindow.postMessage({type:"DEBUG_COMMAND",action:Ge,data:te},"*")},[]),Te=d.useCallback(Ge=>{Et(Ge||ct.size>0)},[ct]),pt=d.useCallback(Ge=>{At(te=>{if(!te.has(Ge.elementId)){const ie=new Map(te);return ie.set(Ge.elementId,Ge.previousState),ie}return te}),Ge.currentState.textContent!==void 0&&Ge.currentState.textContent!==Ge.previousState.textContent&&rs.trackTextChange(Ge.elementId,Ge.fileName,Ge.lineNumber,Ge.component,Ge.previousState.textContent||"",Ge.currentState.textContent||""),Ge.currentState.className!==void 0&&Ge.currentState.className!==Ge.previousState.className&&rs.trackStyleChange(Ge.elementId,Ge.fileName,Ge.lineNumber,Ge.component,Ge.previousState.className||"",Ge.currentState.className||""),He(te=>{const ie=te.slice(0,Ve+1);return ie.push(Ge),ie}),Ke(te=>te+1)},[Ve,rs]),Xt=d.useCallback(()=>{if(En.current?.cancelAutoSave(),Ve<0)return;const Ge=Fe[Ve];Se?.attributes?.["x-id"]===Ge.elementId&&(ue(!1),De(null),ht(null),Be("CLEAR_SELECTION")),Be("APPLY_CHANGES",{elementId:Ge.elementId,isMultiElement:Ge.isMultiElement,arrayIndex:Ge.arrayIndex,...Ge.previousState});const te=wu(Ge.elementId,Ge.arrayIndex),ie=Ye.get(te),ze=ie&&Ge.previousState.textContent===ie.textContent&&Ge.previousState.className===ie.className;Ft(Ht=>{const Pe=new Map(Ht),Mt=wu(Ge.elementId,Ge.arrayIndex);return ze?Pe.delete(Mt):Pe.set(Mt,{elementId:Ge.elementId,fileName:Ge.fileName,lineNumber:Ge.lineNumber,component:Ge.component,hasChildElements:Ge.hasChildElements??!1,hasDirectTextContent:Ge.hasDirectTextContent??!1,isMultiElement:Ge.isMultiElement??!1,arrayIndex:Ge.arrayIndex,changes:Ge.previousState}),Pe}),Ke(Ve-1)},[Be,Ve,Fe,Se,Ye]),Hn=d.useCallback(()=>{if(En.current?.cancelAutoSave(),Ve>=Fe.length-1)return;const Ge=Ve+1,te=Fe[Ge];Se?.attributes?.["x-id"]===te.elementId&&(ue(!1),De(null),ht(null),Be("CLEAR_SELECTION")),Be("APPLY_CHANGES",{elementId:te.elementId,isMultiElement:te.isMultiElement,arrayIndex:te.arrayIndex,...te.currentState}),Ft(ie=>{const ze=new Map(ie),Ht=wu(te.elementId,te.arrayIndex);return ze.set(Ht,{elementId:te.elementId,fileName:te.fileName,lineNumber:te.lineNumber,component:te.component,hasChildElements:te.hasChildElements??!1,hasDirectTextContent:te.hasDirectTextContent??!1,isMultiElement:te.isMultiElement??!1,arrayIndex:te.arrayIndex,changes:te.currentState}),ze}),Ke(Ge)},[Be,Ve,Fe,Se]),An=d.useCallback(Ge=>{Oe(Ge),Be("SET_INTERACTION_MODE",{mode:Ge}),Ge==="select"&&Be("ACTIVATE"),Ge==="preview"&&(Be("CLEAR_SELECTION"),ue(!1),ht(null),De(null))},[Be]),en=d.useCallback(async()=>{if(ct.size===0)return;if(!w){Vn({title:"Error",description:"No vscode password available for API authentication",variant:"destructive"}),Fn(Is.VISUAL_EDIT.NO_VSCODE_PASSWORD,new Error("No vscode password available for API authentication")),Jn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0});return}if(!s){Vn({title:"Error",description:"No preview URL available for API call",variant:"destructive"}),Fn(Is.VISUAL_EDIT.NO_PREVIEW_URL,new Error("No preview URL available for API call")),Jn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0});return}const Ge=new Map(ct),te=[];if(Ge.forEach(ie=>{const{fileName:ze,lineNumber:Ht,component:Pe,changes:Mt,editType:Tt,sourceInfo:ft,arrayIndex:$n}=ie;if(Mt.textContent!==void 0){const Ns=ft?.varName||ft?.arrayVar;Tt==="variableEdit"&&ft&&Ns?te.push({type:"variableEdit",sourceFile:ft.file||ft.arrayFile,sourceFileAbs:ft.fileAbs,renderFile:ze,renderLine:Ht,variableName:Ns,variableLine:ft.line||ft.arrayLine?parseInt(ft.line||ft.arrayLine||"0"):void 0,arrayIndex:$n??void 0,propertyPath:ft.path,newValue:Mt.textContent}):ie.hasChildElements?te.push({fileName:ze,lineNumber:Ht,component:Pe,type:"textContent",textContent:Mt.textContent}):te.push({fileName:ze,lineNumber:Ht,component:Pe,type:"content",content:Mt.textContent})}Mt.className!==void 0&&te.push({fileName:ze,lineNumber:Ht,component:Pe,type:"className",className:Mt.className})}),te.length!==0)try{const ie=`${s.replace(/\/$/,"")}/edit-file`,ze=await fetch(ie,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":w},body:JSON.stringify({changes:te})});if(ze.ok){if(te.length>0&&E){const Pe=N5e(te);Pe&&E(Pe)}try{await ze.json()}catch(Pe){Fn(Is.VISUAL_EDIT.EDIT_RESPONSE_PARSE_ERROR,Pe,{context:"parse_edit_response"})}const Ht=Array.from(Ge.values()).map(Pe=>({elementId:Pe.elementId,fileName:Pe.fileName,lineNumber:Pe.lineNumber,component:Pe.component,textContent:Pe.changes.textContent,className:Pe.changes.className}));rs.trackSessionSaved(Ht),Ft(Pe=>{const Mt=new Map(Pe);return Ge.forEach((Tt,ft)=>{Mt.delete(ft)}),Mt.size===0&&Et(!1),Mt}),Jn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1})}}catch(ie){Fn(Is.VISUAL_EDIT.SAVE_CHANGES_ERROR,ie,{pendingChangesCount:ct.size,previewUrl:s})}},[ct,w,s,Be,rs]),Zn=d.useCallback(()=>{if(!Se?.attributes)return;const Ge=Se.attributes["x-id"];Ge&&(Ft(te=>{const ie=new Map(te);return ie.delete(Ge),ie}),Ft(te=>(Et(te.size>0),te)))},[Se]),Ot=d.useRef(!1),Jn=d.useCallback((Ge={})=>{En.current?.cancelAutoSave(),Ft(new Map),Et(!1),He([]),Ke(-1),At(new Map),ue(!1),ht(null),De(null),vt(!1),St(!1),Ge.preserveForReactivate||(Ge.resetToDefaults&&(st("pc"),Oe("select")),ut(!1)),Be("CLEAR_SELECTION"),F?.(null),S?.(!1),Ge.triggerRefresh&&(Ot.current=!0),Ge.callDisable&&_&&_()},[Be,F,S,_]),Pn=d.useCallback(()=>{ut(!1);const Ge=Array.from(ct.values()).map(te=>{const ie=wu(te.elementId,te.arrayIndex),ze=Ye.get(ie);return{elementId:te.elementId,fileName:te.fileName,lineNumber:te.lineNumber,component:te.component,originalTextContent:ze?.textContent,newTextContent:te.changes.textContent,originalClassName:ze?.className,newClassName:te.changes.className}});rs.trackSessionDiscarded(Ge),Jn({resetToDefaults:!1,triggerRefresh:!0,callDisable:!1,preserveForReactivate:!0})},[Jn,ct,Ye,rs]),Gs=d.useCallback(Ge=>{Ge==="save"?vt(!1):Ge==="discard"&&St(!1)},[]),Gn=d.useCallback(()=>{Jn({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1})},[Jn]);d.useEffect(()=>{const Ge=jn.current;if(!Ge)return;const te=new ResizeObserver(ie=>{for(const ze of ie)ge(ze.contentRect.width)});return te.observe(Ge),ge(Ge.getBoundingClientRect().width),()=>{te.disconnect()}},[Kt]),d.useEffect(()=>{let Ge;return s||(Ge=setInterval(()=>{be(te=>(te+1)%UE.length)},Ie?5e3:3e3)),()=>{Ge&&clearInterval(Ge)}},[s]),d.useEffect(()=>{ts("preview_on_mount",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},[]),d.useEffect(()=>(window.addEventListener("message",$e),()=>{window.removeEventListener("message",$e)}),[$e]),d.useEffect(()=>{Bn.current?.contentWindow&&(b?oe&&!H&&(st("pc"),Oe("select"),Be("ACTIVATE"),Be("SET_INTERACTION_MODE",{mode:"select"})):(Jn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1}),Be("DEACTIVATE")))},[b,oe,H,Be]),d.useEffect(()=>{S?.(_e)},[_e,S]),d.useEffect(()=>{M&&M({save:en,discard:Pn})},[M,en,Pn]),d.useEffect(()=>{a&&(ut(!1),(b||_e||de)&&Jn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!0,preserveForReactivate:!1}))},[a,b,_e,de,Jn]),d.useEffect(()=>(b&&f?Cn(f,_e,en,Pn,_):On(),()=>{On()}),[b,_e,f,Cn,On,en,Pn,_]),d.useEffect(()=>{if(!de||!Se||!Qe||!Bn.current)return;const Ge=Bn.current.getBoundingClientRect(),te={left:Ge.left,top:Ge.top,right:Ge.right,bottom:Ge.bottom,width:Ge.width,height:Ge.height},ie={...Qe,iframeBounds:te};if(b&&lt!=="pc"&&jn.current){const ze=jn.current.getBoundingClientRect();ie.constraintBounds={left:ze.left,top:ze.top,right:ze.right,bottom:ze.bottom,width:ze.width,height:ze.height}}De(ie)},[mt,de,Se,b,lt]);const Bs=5,vs=1e3,sr=100,he=d.useCallback(()=>{cn.current&&(cn.current.abort(),cn.current=null),hn.current&&(clearTimeout(hn.current),hn.current=null),dn.current&&(clearTimeout(dn.current),dn.current=null),Wn.current=!1},[]);d.useEffect(()=>()=>{Ue&&!Ue.closed&&Ue.close()},[Ue]),d.useEffect(()=>(e&&s&&!a?Xn():e||Jn({resetToDefaults:!0,triggerRefresh:!1,callDisable:!1,preserveForReactivate:!1}),()=>{he()}),[e,s,a]),d.useEffect(()=>{c&&s&&!a?(Xn(),u&&u()):a&&(he(),$(!1))},[c,s,a,u]);const et=d.useCallback(()=>{(r||s)&&(ts("open_preview_in_new_tab_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),window.open(i?s:r,"_blank"))},[r,s,i,f,H,q,V]),jt=d.useCallback(()=>{z("share_preview_button_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),X.open({shareableLink:i?s:r,fromShowcase:i,previewUrl:Vs(),isExpoApp:Ln})},[X,s,r,i,n,f,Ln]),tn=d.useCallback(()=>{ts("preview_wake_up_clicked",{jobId:f,isFromGithub:l}),o&&o()},[o,f,l]),ls=async(Ge,te,ie)=>{try{const ze=await fetch(Ge,{method:"GET",cache:"no-cache",signal:ie.signal});return!(ze.status>=500&&ze.status<600)}catch(ze){return ze.name==="AbortError"||ze.name==="TypeError"&&ze.message.includes("CORS")||ze.name==="TypeError"&&(ze.message.includes("Failed to fetch")||ze.message.includes("Network request failed")||ze.message.includes("cors")),!1}finally{if(te===Bs)return!0}},us=async()=>{if(!s||Wn.current)return;he(),cn.current=new AbortController,Wn.current=!0,me(!0),pe(!1),Q(!1),$(!0);let Ge=1;await(async()=>{for(;Ge<=Bs&&Wn.current;){const ie=await ls(s,Ge,cn.current);if(!Wn.current)return;if(ie){Wn.current=!1,hn.current=setTimeout(()=>{Wn.current===!1&&(me(!1),pe(!0),fs(ze=>ze+1))},sr),ts("preview_healthcheck_successful",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V});return}if(Ge>=Bs){me(!1),Q(!0),$(!1),ee(`Service is not responding after ${Bs} attempts. The service might be starting up or experiencing issues.`),Wn.current=!1,ts("preview_health_check_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V});return}Wn.current&&await new Promise(ze=>setTimeout(ze,vs)),Ge++}})()},Xn=d.useCallback(()=>{s&&(z("preview_panel_refresh_button_clicked",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),$(!0),Q(!1),pe(!1),ee("The preview could not be loaded. Please try again."),he(),us())},[s,f,H,q]);d.useEffect(()=>{Ot.current&&(Ot.current=!1,Xn())},[Xn,_e]);const Yn=d.useMemo(()=>UE[we],[we]),ss=async()=>{if(cge(),J(!1),b3("onboarding_completed",{jobId:f}),!!s)try{const Ge=window.open(`${s}?testmode=1`,"_blank");if(!Ge){alert("Failed to open new window. Please allow popups for this site and try again.");return}fe(Ge),window.previewEventDebug={parentWindow:window,previewWindow:Ge,isListening:!0};const te=ie=>{ie.source===Ge?y&&(y(ie.data),b3("session_ended",{jobId:f}),fe(null),Ge.close()):ie.source&&ie.source!==window&&y&&y(ie.data)};window.addEventListener("message",te)}catch(Ge){Fn(Is.VISUAL_EDIT.TEST_MODE_START_ERROR,Ge,{jobId:f})}},ms=()=>{J(!1),b3("onboarding_closed",{jobId:f})};d.useEffect(()=>{const Ge=new Map,te=5e3,ie=(Mt,Tt)=>{const ft=Tt?.message||Tt?.error?.message||"",$n=Tt?.stack||Tt?.error?.stack||"",Ns=Tt?.url||Tt?.filename||"",si=Tt?.line||Tt?.lineno||"",Ms=Tt?.col||Tt?.colno||"";return`${Mt}:${ft}:${$n}:${Ns}:${si}:${Ms}`},ze=Mt=>{const Tt=Date.now(),ft=Ge.get(Mt);if(ft&&Tt-ft<te)return!0;Ge.set(Mt,Tt);for(const[$n,Ns]of Ge.entries())Tt-Ns>te&&Ge.delete($n);return!1},Ht=(Mt,Tt)=>{const ft={errorType:Mt,message:Tt?.message||Tt?.error?.message||"",stack:Tt?.stack||Tt?.error?.stack||"",filename:Tt?.url||Tt?.filename||"",lineNumber:Tt?.line||Tt?.lineno||null,columnNumber:Tt?.col||Tt?.colno||null,componentStack:Tt?.componentStack||"",errorBoundary:Tt?.errorBoundary||!1};switch(Mt){case"buildError":return{...ft,buildTool:Tt?.tool||"unknown",buildPhase:Tt?.phase||"unknown"};case"runtimeError":return{...ft,errorName:Tt?.error?.name||"Error"};case"promiseRejection":return{...ft,rejectionReason:Tt?.reason||"",promiseSource:Tt?.promise||""};case"resourceError":return{...ft,resourceType:Tt?.resourceType||"",resourceUrl:Tt?.url||"",statusCode:Tt?.statusCode||null};case"networkError":return{...ft,requestUrl:Tt?.url||"",method:Tt?.method||"",statusCode:Tt?.statusCode||null,statusText:Tt?.statusText||""};default:return ft}},Pe=Mt=>{if(Mt.data?.source==="preview-logger"){const{type:Tt,severity:ft,data:$n,timestamp:Ns}=Mt.data,si=ie(Tt,$n);if(ze(si))return;const Ms=(ui,an={})=>{z("preview_event",{preview_category:ui,preview_type:Tt,preview_severity:ft,preview_timestamp:Ns,preview_source:"ui_preview_panel",...an})};switch(Tt){case"buildError":Ms("build_error",Ht(Tt,$n)),y&&y({type:"error",category:"build",...Mt.data});break;case"runtimeError":Ms("runtime_error",Ht(Tt,$n)),y&&y({type:"error",category:"runtime",...Mt.data});break;case"promiseRejection":Ms("promise_rejection",Ht(Tt,$n)),y&&y({type:"error",category:"promise",...Mt.data});break;case"resourceError":Ms("resource_error",Ht(Tt,$n)),y&&y({type:"error",category:"resource",...Mt.data});break;case"networkError":Ms("network_error",Ht(Tt,$n)),y&&y({type:"error",category:"network",...Mt.data});break;case"console":Ms("console",{console_level:$n.level,console_message:$n.message,console_args:JSON.stringify($n.args||[])}),y&&y({type:"console",...Mt.data});break;case"ready":Ms("ready",{ready_timestamp:$n.timestamp,ready_url:$n.url||""}),y&&y({type:"ready",...Mt.data});break;default:Ms("unknown",{unknown_type:Tt,unknown_data:JSON.stringify($n)})}}};return window.addEventListener("message",Pe),()=>{window.removeEventListener("message",Pe)}},[y]);const ar=d.useCallback(()=>qt==="cdn"&&_n&&a&&!oe?t.jsxs("div",{className:"relative w-full h-full",children:[t.jsx("iframe",{src:_n,className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},title:"CDN Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-[9999]",children:t.jsx("div",{className:"bg-[#1F2533] rounded-[40px] h-[44px] flex items-center justify-center px-4 shadow-[0_155px_44px_0_rgba(0,0,0,0.00),0_99px_40px_0_rgba(0,0,0,0.01),0_56px_34px_0_rgba(0,0,0,0.04),0_25px_25px_0_rgba(0,0,0,0.07),0_6px_14px_0_rgba(0,0,0,0.09)]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-[#69FF66] rounded-full animate-pulse"}),t.jsx("p",{className:"text-base font-medium text-white whitespace-nowrap",children:"This is a view-only mode. Please wake the agent up to experience the full app"})]})})})]}):(Ae?!s||!B:!s)?Ie?t.jsxs("div",{className:"relative flex flex-col items-center justify-center h-full w-full text-center bg-[#000]",children:[t.jsx(_4,{grayscale:!0}),!it&&t.jsx(t.Fragment,{children:t.jsx($F,{className:"absolute inset-0 z-[9] opacity-30",children:t.jsx("div",{})})}),t.jsx(b5e,{slides:_te,autoAdvance:Ce,autoAdvanceDuration:1e4,agentState:R})]}):t.jsx($F,{children:t.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#80fff9]/[0.03]",children:[t.jsx(_4,{}),t.jsxs("div",{className:"h-full mb:py-[80px] pb-[140px] w-full relative flex flex-col items-center justify-between",children:[t.jsx("div",{}),t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8",children:[t.jsx("img",{alt:"Logo",src:_5e,className:"backdrop-blur-sm z-[3] w-28 h-28"}),t.jsxs(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center gap-2",children:[t.jsx(Xxe,{}),t.jsx("p",{className:"text-center font-['Brockmann'] text-[16px] md:text-[20px] font-medium leading-[24px] tracking-[-0.2px]",style:{color:"#80FFF9",textShadow:"0 0 30px rgba(128, 255, 249, 0.60)"},children:Yn.title}),Yn.pro&&t.jsx(Qxe,{})]},we)]}),t.jsx("div",{className:"relative radial-bg z-[3] flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm py-4 px-6 rounded-[48px] ",children:t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Let's make something incredible!"})})]})]})}):v?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full text-center bg-[#000000]/[0.03]",children:[t.jsx(_4,{}),t.jsx("div",{className:"relative flex flex-col max-md:w-[80%] items-center justify-center w-full h-full",children:t.jsxs("div",{className:"relative radial-bg z-[3] flex px-[70px] items-center gap-[6px] bg-[#80FFF9]/10 flex-col backdrop-blur-sm py-4 rounded-[12px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xo,{size:"20",speed:"1.75",color:"#80FFF9"}),t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Recreating Environment"})]}),t.jsx("span",{className:"text-[#80FFF9]/50 text-[14px] font-inter",children:"This usually takes around 5-10 mins."})]})})]}):a&&!i?t.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center",children:t.jsxs("div",{className:"w-full z-[20] px-[2rem] gap-6 rounded-[1rem] md:rounded-bl-none md:rounded-br-none md:pt-[2rem] md:pb-[3rem] flex flex-col justify-between items-center",children:[t.jsxs("div",{className:"flex flex-col items-center gap-5",children:[t.jsx("img",{src:y5e,className:"min-w-[100px] min-h-[100px]",alt:"Agent Sleeping"}),t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("span",{className:"text-[#C4C4CC] text-[20px]",children:m?"Preview archived":"Preview paused - Agent is sleeping"}),m?t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["This job has been archived. You can download your code and create a new job. Need help? Visit our"," ",t.jsx("a",{href:Li.helpCenter,className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"Help Center"})]}):l?t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo. Reach out to us at"," ",t.jsx("a",{href:"mailto:support@emergent.sh",className:"text-[#ACACB2] font-extrabold underline underline-offset-1",children:"support@emergent.sh"})," ","for any assistance."]}):t.jsxs("span",{className:"text-[#7b7b80] text-sm",children:["If you are having trouble accessing your work, Please contact support at"," ",t.jsx("a",{href:"mailto:support@emergent.sh",className:"bg-gradient-to-r font-['Inter'] from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-semibold underline underline-offset-1",children:"support@emergent.sh"})]})]})]}),m?t.jsxs("button",{type:"button",onClick:()=>{ts("preview_download_code_clicked",{jobId:f,archivedPod:!0}),Le(f)},disabled:je||!f,className:"bg-[#FCB94920] max-w-[200px] justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] hover:bg-[#FCB94930] transition-colors duration-200",children:[t.jsx(Da,{className:"w-5 h-5 text-[#FCB949]"}),t.jsx("span",{className:"bg-gradient-to-r text-nowrap from-[FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:je?"Downloading...":"Download Your Code"})]}):l?null:t.jsxs("button",{type:"button",onClick:tn,disabled:ve,className:`max-w-[200px] p-[10px] rounded-[6px] flex items-center gap-2 md:min-w-[200px] transition-all duration-300 ${ve?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"}`,children:[ve?t.jsx("img",{src:j5e,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:v5e,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:`text-[12px] md:text-[16px] font-medium transition-all duration-300 ${ve?"text-[#80FFF9]":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"}`,children:ve?"Waking up...":"Wake up the Agent"})]})]})}):s&&e?t.jsxs("div",{className:"relative w-full h-full",children:[ae&&!Ln&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(ln,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),t.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),oe&&H||ae&&Ln&&!Kt&&t.jsxs("div",{className:"flex flex-1 justify-center items-center gap-6 w-full h-full bg-[url('/bg_grid.png')] bg-repeat px-4",children:[t.jsx(By,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[t.jsx("img",{src:HF,alt:"App",className:"relative object-contain w-full h-full"}),t.jsx("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})})]})}),s&&Ee&&t.jsx(Hy,{previewUrl:s,onDeployClick:U})]}),oe&&H||ae&&Ln&&Kt&&t.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:t.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-black",children:[t.jsx("img",{src:HF,alt:"App",className:"relative object-contain w-full h-full"}),t.jsxs("div",{className:"absolute bottom-[80px] flex flex-col justify-center items-center -space-y-6",children:[t.jsx(xe.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"h-[140px] w-[140px] flex items-center justify-center",children:t.jsx(Eae,{className:"w-24 h-24 text-[#5FD3F3]"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Please wait,"}),t.jsx("h1",{className:"text-3xl [text-shadow:_0_0_62.351px_rgba(255,255,255,0.60)] tracking-[-1.44px] font-medium",children:"Your app is brewing"})]})]})]})}),oe&&H&&!Ln&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(ln,{className:"w-8 h-8 text-[#5FD3F3] animate-spin mb-4"}),t.jsx("p",{className:"text-[#939399]",children:"Loading preview..."})]})}),q&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10]",children:t.jsxs("div",{className:"flex flex-col items-center max-w-md gap-6 text-center",children:[t.jsx("img",{src:w5e,alt:"Alert",className:"w-12 h-12"}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("p",{className:"text-[#C4C4CC] text-[24px] font-medium",children:"Preview failed to load"}),t.jsx("p",{className:"text-[#939399]",children:V})]}),t.jsxs("button",{type:"button",onClick:Xn,className:"bg-[#FCB94920] p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:[t.jsx(Pae,{className:"w-5 h-5 text-[#FCB949]"}),t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent bg-clip-text font-medium",children:"Retry Health Check"})]})]})}),oe&&!Ln&&t.jsx("iframe",{ref:Bn,src:Vs(),className:"flex-1 w-full h-full overflow-y-auto border-0 rounded-sm",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left",zIndex:10},onLoad:()=>{$(!1),ts("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},onError:()=>{$(!1),Q(!0),ee("Failed to load the preview after successful health check. Please try refreshing."),ts("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),Fn(Is.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ln,effectiveMobileView:Kt,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Un),oe&&Ln&&!Kt&&t.jsxs("div",{className:"flex flex-1 justify-center items-center gap-6 w-full h-full bg-[url('/bg_grid.png')] bg-repeat px-4",children:[t.jsx(By,{className:"w-[340px] h-[700px]",maxWidth:"340px",children:t.jsx("iframe",{ref:Bn,src:Vs(),className:A(["flex-1 w-full h-full overflow-y-auto border-0",H?"bg-url('/app-image.png') bg-contain bg-no-repeat bg-center":""]),style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{$(!1),ts("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},onError:()=>{$(!1),Q(!0),ee("Failed to load the preview after successful health check. Please try refreshing."),ts("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),Fn(Is.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ln,effectiveMobileView:Kt,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Un)}),s&&Ee&&t.jsx(Hy,{previewUrl:s,onDeployClick:U})]}),oe&&Ln&&Kt&&t.jsx("div",{className:"flex flex-1 justify-center items-center w-full h-full bg-[url('/bg_grid.png')] bg-repeat",children:t.jsx("iframe",{ref:Bn,src:Vs(),className:"flex-1 w-full h-full overflow-y-auto border-0",style:{pointerEvents:p?"none":"auto",transform:"scale(1)",transformOrigin:"top left"},onLoad:()=>{$(!1),ts("preview_iframe_loaded",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},onError:()=>{$(!1),Q(!0),ee("Failed to load the preview after successful health check. Please try refreshing."),ts("preview_iframe_loading_failed",{jobId:f,isVisible:!0,previewUrl:s,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V}),Fn(Is.VISUAL_EDIT.PREVIEW_IFRAME_LOAD_ERROR,new Error("Preview iframe failed to load"),{jobId:f,previewUrl:s,isExpoImage:Ln,effectiveMobileView:Kt,iframeLoading:H,loadingFailed:q,loadingErrorMessage:V})},title:"URL Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"},Un)})]}):null,[qt,_n,a,oe,s,e,Yn,we,ae,Ln,Kt,H,q,V,m,l,ve,je,f,i,p,Un,Ee,Vs,Xn,Le,tn,U]),Fs=d.useCallback(()=>t.jsxs("div",{className:"py-[15px] px-0 md:py-[15px] md:px-4 bg-[#0161D1] z-[2] flex items-center justify-between border-b border-[#242424]/60 relative",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-0.5",children:[t.jsx("button",{type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_ELEMENT_SELECTOR_MODE,{jobId:f}),An("select")},className:A("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all",wn==="select"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(c5e,{className:A("w-4 h-4",wn==="select"?"text-black":"text-white")})}),t.jsx("button",{type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_INTERACTIVE_MODE,{jobId:f}),An("preview")},className:A("flex items-center justify-center w-7 h-7 rounded-[6px] transition-all",wn==="preview"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(d5e,{className:A("w-4 h-4",wn==="preview"?"text-black":"text-white")})})]}),wn==="select"&&t.jsxs(Ws,{children:[t.jsx("button",{type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_UNDO,{jobId:f}),Xt()},disabled:Ve<0,className:A("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",Ve<0?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:t.jsx(i5e,{className:"w-4 h-4 text-white"})}),t.jsx("button",{type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_REDO,{jobId:f}),Hn()},disabled:Ve>=Fe.length-1,className:A("flex items-center justify-center w-8 h-8 bg-[#FFFFFF0A] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",Ve>=Fe.length-1?"opacity-40 cursor-not-allowed":"hover:bg-[#FFFFFF14] cursor-pointer"),children:t.jsx(a5e,{className:"w-4 h-4 text-white"})})]})]}),t.jsxs("div",{"data-testid":Ss.showcase.viewportButtons,className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-1 bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.2)] rounded-[8px] p-1",children:[t.jsx("button",{"data-testid":Ss.showcase.viewportDesktop,type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_DEVICE_PC,{jobId:f}),st("pc")},className:A("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",lt==="pc"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(n5e,{className:A("w-4 h-4",lt==="pc"?"text-black":"text-white")})}),t.jsx("button",{"data-testid":Ss.showcase.viewportTablet,type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_DEVICE_TABLET,{jobId:f}),st("tablet")},className:A("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",lt==="tablet"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(s5e,{className:A("w-4 h-4",lt==="tablet"?"text-black":"text-white")})}),t.jsx("button",{"data-testid":Ss.showcase.viewportMobile,type:"button",onClick:()=>{ts(Gt.VISUAL_EDIT_DEVICE_MOBILE,{jobId:f}),st("mobile")},className:A("flex items-center justify-center w-[26px] h-6 rounded-[6px] transition-all",lt==="mobile"?"bg-white":"hover:bg-[rgba(255,255,255,0.2)]"),children:t.jsx(r5e,{className:A("w-4 h-4",lt==="mobile"?"text-black":"text-white")})})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(Ws,{children:[t.jsx("button",{type:"button",onClick:()=>{ts(mt?Gt.VISUAL_EDIT_EXIT_FULLSCREEN:Gt.VISUAL_EDIT_FULLSCREEN,{jobId:f}),ut(!mt)},className:A("flex items-center justify-center w-8 h-8 rounded-[6px] transition-colors",mt?"bg-white hover:bg-white/90":"bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)]"),children:mt?t.jsx(tx,{className:"w-3 h-3 text-black"}):t.jsx(o5e,{className:"w-3 h-3 text-white"})}),t.jsxs("button",{type:"button",onClick:()=>{_e?(ts(Gt.VISUAL_EDIT_CLOSE_WITH_UNSAVED,{jobId:f}),k?.({onConfirm:Gn,title:"You have unsaved changes",description:"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:{text:"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"},isFullscreen:mt})):(z(Gt.VISUAL_EDIT_DISABLED,{jobId:f,source:"preview_panel"}),Jn({resetToDefaults:!0,triggerRefresh:!0,callDisable:!0,preserveForReactivate:!1}))},className:A("flex items-center justify-center h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] border border-[rgba(255,255,255,0.2)] rounded-[6px] transition-colors",I?"gap-1.5 px-2.5":"w-8"),children:[t.jsx(l5e,{className:"w-2.5 h-2.5 text-white"}),I&&t.jsx("span",{className:"text-sm font-medium text-white",children:"Exit Edit"})]})]})})]}),[lt,mt,Xt,Hn,Ve,Fe.length,wn,An,_e,Be,f,I,Jn,Gn,k]);return Kt?t.jsxs(t.Fragment,{children:[t.jsx(la,{trigger:t.jsx("div",{}),open:e,onOpenChange:Ge=>{Ge||n()},maxWidth:"max-w-full",showDefaultFooter:!1,customerHeader:Ln&&xt&&t.jsx("div",{className:"w-full flex justify-center items-center z-[51] absolute mx-auto top-[-56px]",children:t.jsxs("button",{className:"bg-white w-[240px] h-12 rounded-[26px] flex items-center justify-between px-4 py-3",onClick:zt,children:[t.jsx("img",{src:C5e,alt:"Expo Icon",className:"w-fit h-[20px]"}),t.jsx("span",{className:"text-[#000020] font-bold text-base",children:"Preview in Expo"}),t.jsx(ege,{})]})}),contentPadding:"p-0",children:t.jsxs("div",{className:"h-[90dvh] mb-0 flex flex-col bg-[#111112] rounded-t-[24px] overflow-hidden relative",children:[t.jsx(Q2e,{previewUrl:s,iframeLoading:H,shouldDisableShareAndOpen:Cs,handleOpenInNewTab:et,handleRefresh:Xn,onClose:()=>is(n)}),t.jsx("div",{className:"flex-1 overflow-hidden",children:ar()})]})}),t.jsx(wE,{isOpen:se,onOpenChange:re,previewUrl:s}),t.jsx(zF,{isOpen:Me,onClose:ms,onComplete:ss})]}):t.jsxs("div",{className:A("w-full h-full bg-[#111112] max-md:absolute max-md:inset-0 relative",e?"block":"hidden",mt&&b&&!a&&"fixed top-[56px] left-0 right-0 h-[calc(100vh-56px)] z-[9999] pointer-events-none"),children:[t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx("div",{className:"pointer-events-auto",children:b&&!a?Fs():t.jsx(J2e,{jobId:f,isExpoImage:Ln,previewUrl:s,iframeLoading:H,shouldDisableShareAndOpen:Cs,showPreviewExpoInfoSection:Ee,handleShareClick:jt,handleRefresh:Xn,handleOpenInNewTab:et,onClose:()=>is(n),onDeployClick:U,visualEditMode:b,onVisualEditClick:j,showVisualEditButton:N&&!it&&!!j,visualEditDisabled:C,isVisualEditChangesEnabled:I})}),t.jsxs("div",{ref:jn,className:"relative flex-1 p-0 overflow-hidden pointer-events-auto",children:[t.jsx("div",{className:A("w-full h-full flex items-center justify-center",b&&lt!=="pc"&&"bg-[#0F0F10]"),children:t.jsx("div",{className:A("h-full",b&&lt==="mobile"&&"w-[375px] mx-auto",b&&lt==="tablet"&&"w-[768px] mx-auto max-w-full",(!b||lt==="pc")&&"w-full"),children:ar()})}),t.jsx(V2e,{isVisible:ct.size>0&&!a,onSave:en,onDiscard:Pn,jobId:f,constraintKey:mt?"fullscreen":"default",isFullscreen:mt,showUnsavedChangesModal:k})]})]}),t.jsx(wE,{isOpen:se,onOpenChange:re,previewUrl:s}),t.jsx(zF,{isOpen:Me,onClose:ms,onComplete:ss}),t.jsx(CB,{ref:En,isVisible:de&&!a,element:Se,position:Qe,isInlineEditingActive:mn,onClose:()=>{ue(!1),ht(null),De(null),Dt(!1),Be("CLEAR_SELECTION")},onSave:Ge=>{if(mn||Be("APPLY_CHANGES",{elementId:Se?.attributes?.["x-id"],...Ge,isMultiElement:Se?.isMultiElement,arrayIndex:Se?.arrayIndex}),Se?.attributes){const te=Se.attributes["x-id"],ie=Se.attributes["x-file-name"],ze=Se.attributes["x-line-number"],Ht=Se.attributes["x-component"];te&&ie&&ze&&Ht&&Ft(Pe=>{const Mt=new Map(Pe),Tt=wu(te,Se?.arrayIndex),ft=Mt.get(Tt),$n=Se?.hasChildElements??ft?.hasChildElements??!1,Ns=Se?.hasDirectTextContent??ft?.hasDirectTextContent??!1,si=Se?.isMultiElement??ft?.isMultiElement??!1,Ms=ft?{...ft.changes,...Ge}:Ge,ui=Se?.editType??ft?.editType,an=Se?.sourceInfo??ft?.sourceInfo,Pi=Se?.arrayIndex??ft?.arrayIndex;return Mt.set(Tt,{elementId:te,fileName:ie,lineNumber:parseInt(ze,10),component:Ht,hasChildElements:$n,hasDirectTextContent:Ns,isMultiElement:si,changes:Ms,editType:ui,sourceInfo:an,arrayIndex:Pi}),Mt})}},onRevert:Zn,onChangesDetected:Te,onTriggerSave:dt,onDiscardChanges:Ct,onTriggerComplete:Gs,onHistoryPush:pt,jobId:f})]})}function D8(){const[e,n]=d.useState({showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1}),s=d.useCallback(({panelName:a,value:o=null,size:l=null})=>{n(c=>o!==null?{...{showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1},[a]:o}:c[a]?{...c,[a]:!1}:{...{showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1},[a]:!0})},[]),r=d.useCallback(()=>Object.values(e).some(a=>a===!0),[e]),i=d.useCallback(()=>{n({showLogsPanel:!1,showSubagentPanel:!1,showInfoPanel:!1,showUrlPreviewPanel:!1,showDeployPanel:!1})},[]);return{...e,panelState:e,togglePanel:s,isAnyPanelOpen:r,closeAllPanels:i}}const E5e=W.upload.blueCheck,S5e=(e,n)=>{if(!e)return{name:"Unknown User",email:"",initials:"U",isDeleted:!0};if(!n){const r=e.includes("@")?e.split("@")[0].charAt(0).toUpperCase():e.charAt(0).toUpperCase(),i=e.includes("@")?e.split("@")[0]:e;return{name:i.charAt(0).toUpperCase()+i.slice(1),email:e,initials:r}}const s=n.find(r=>r.user_id===e);if(s){const r=s.email.split("@")[0];return{name:r.charAt(0).toUpperCase()+r.slice(1),email:s.email,initials:r.charAt(0).toUpperCase(),role:s.role,status:s.status}}return{name:"Anonymous",email:e,initials:"D",isDeleted:!0}},k5e=e=>{const n=e.includes("VISUAL_EDIT_NOTIFICATION");let s=0,r="";if(n){const i=e.split("|||");i.length>=4&&(s=parseInt(i[1])||0,r=i[2]||"")}return{isVisualEdit:n,visualEditCount:s,visualEditDetails:r}},kB=d.memo(({message:e,organizationMembers:n})=>{const s=S5e(e.user_id,n),r=s.isDeleted?"#6B7280":SM(e.user_id||""),{isVisualEdit:i}=k5e(e.content);return t.jsx("div",{className:A("relative group flex justify-center","mb-0"),id:e.id,"data-testid":`member-message-${e.id}`,children:t.jsxs("div",{className:A("my-4 md:my-8 group/message flex flex-col space-y-[10px] w-full md:max-w-4xl  justify-start items-start"),children:[t.jsx(UO,{base64Images:e.base64_image_list,artifacts:e.artifacts,artifactSharedData:e.artifact_shared_data,className:"justify-start w-full",fromMember:!0}),t.jsxs("div",{className:"flex items-start w-full gap-4",children:[t.jsx("div",{className:"flex-shrink-0 max-md:hidden",children:t.jsx(Xd,{className:"w-8 h-8 md:w-8 md:h-8",children:t.jsx(zp,{className:"text-sm font-bold text-white",style:{backgroundColor:r},children:s.initials})})}),t.jsxs("div",{className:"flex-1 min-w-0 ",children:[t.jsx("div",{className:A("px-4 py-3 rounded-xl rounded-tl-none overflow-hidden w-fit space-y-[10px] backdrop-blur-lg","max-4-xl w-4xl",i&&"hidden"),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:t.jsx("div",{className:"flex flex-col",children:t.jsx("div",{className:"prose prose-invert max-w-none",children:t.jsx("p",{className:"text-[#CCEEFF] font-['Inter'] text-[15px] leading-6 font-normal whitespace-pre-wrap break-words",children:e.content})})})}),i&&t.jsxs("div",{className:"bg-[#80FFF90D] rounded-[10px] p-3 flex rounded-tl-[0px] md:gap-3 items-center justify-between w-fit",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(128, 255, 249, 0.16) 0%, rgba(128, 255, 249, 0.08) 100%)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.24748 5.23582C6.44259 5.2128 6.64037 5.24142 6.82267 5.31687L6.82365 5.3159L15.2846 8.77683L15.4281 8.84715C15.5653 8.92714 15.6848 9.03498 15.7787 9.16355L15.8295 9.23972L15.8735 9.31882C15.9702 9.50791 16.013 9.72113 15.9965 9.93406C15.9775 10.1772 15.8824 10.4088 15.724 10.5942C15.5656 10.7794 15.3517 10.9087 15.1147 10.9653V10.9663L11.7699 11.7671L10.9701 15.1128C10.9138 15.3496 10.7837 15.5626 10.599 15.7212C10.4133 15.8805 10.181 15.9765 9.93693 15.9956C9.69289 16.0146 9.44886 15.9553 9.24064 15.8266C9.03263 15.698 8.87085 15.5063 8.77873 15.2798L5.31779 6.82078L5.31877 6.8198C5.23249 6.61111 5.20827 6.38147 5.25138 6.15965L5.27092 6.07664C5.32356 5.88376 5.42572 5.70699 5.56779 5.56492L5.63029 5.5073C5.78178 5.3768 5.96529 5.28688 6.16252 5.24851L6.24748 5.23582ZM9.75041 13.5942L10.2738 11.4087V11.4077C10.3402 11.1318 10.4822 10.8797 10.683 10.6792C10.8839 10.4786 11.1364 10.3369 11.4125 10.271L13.5951 9.74754L7.0883 7.08543L9.75041 13.5942ZM3.13517 7.77488C3.42776 7.46696 3.91511 7.45498 4.22306 7.74754C4.5306 8.04012 4.54275 8.52661 4.25041 8.83445L2.78947 10.3725C2.4969 10.6805 2.01052 10.6924 1.70256 10.3999C1.39462 10.1073 1.38167 9.62093 1.67424 9.31297L3.13517 7.77488ZM0.0277509 4.40965C0.140698 4.00021 0.564602 3.7597 0.97404 3.87254L3.20451 4.48777C3.61397 4.60075 3.85457 5.02458 3.74162 5.43406C3.62853 5.84338 3.20473 6.08313 2.79533 5.97019L0.56486 5.35496C0.155728 5.24186 -0.0849285 4.81889 0.0277509 4.40965ZM9.31779 1.67234C9.62571 1.37982 10.1121 1.39187 10.4047 1.69968C10.6972 2.00753 10.685 2.49398 10.3774 2.7866L8.8383 4.24851C8.5304 4.54073 8.0439 4.52879 7.75138 4.22117C7.45881 3.91319 7.47173 3.42585 7.7797 3.13328L9.31779 1.67234ZM4.41154 0.0278093C4.8209 -0.085006 5.24479 0.155625 5.35783 0.564919L5.97306 2.79539C6.08592 3.20475 5.84523 3.6286 5.43595 3.74168C5.02656 3.85445 4.60262 3.61394 4.48967 3.20457L3.87443 0.974098C3.7616 0.564688 4.00216 0.140791 4.41154 0.0278093Z",fill:"#80FFF9E5"})}),t.jsx("span",{className:"max-md:text-[14px] font-medium text-[#80FFF9E5]",children:"Visually edited few files"})]}),t.jsx("img",{src:E5e,alt:"Check",className:"w-4 h-4 md:w-6 md:h-6"})]})]})]}),t.jsx("div",{className:A("transition-opacity duration-200 h-5 text-left  md:ml-12 opacity-100 md:opacity-0  md:group-hover/message:opacity-100"),children:t.jsxs("div",{className:"inline-flex items-center gap-2 text-[#5C5F66]",children:[t.jsx("span",{className:"text-[13px] font-mono font-medium",style:{color:r},children:s.name}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#CCEEFF]/20"}),t.jsx("span",{className:"font-mono font-medium text-[13px] leading-[20px]",children:y2(e.timestamp)})]})})]})})},(e,n)=>!(e.message.id!==n.message.id||e.message.content!==n.message.content||e.message.timestamp!==n.message.timestamp||e.message.user_id!==n.message.user_id||(e.organizationMembers?.length||0)!==(n.organizationMembers?.length||0)));kB.displayName="MemberMessageItem";function TB(){const{getCurrentOrganizationId:e,isOrganizationWorkspace:n}=ys(),s=e(),r=n(),{data:i,isLoading:a,error:o}=HD(s,{skip:!r||!s}),l=(i?.pending_invitations||[]).map((c,u)=>({user_id:c.email||`pending-${c.email}-${u}`,email:c.email||"",role:c.role||"MEMBER",status:"PENDING",joined_at:c.created_at||"",avatar_url:"",name:c.email?.split("@")[0]||"Unknown"}));return{members:i?.members||[],pending_members:l,max_member_count:i?.max_member_count??5,is_sso:i?.organization_type==="ENTERPRISE_SSO",isLoading:a,error:o}}const T5e=({size:e=48,width:n,height:s,color:r="#939399",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsxs("svg",{width:u,height:p,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:[t.jsx("rect",{width:"48",height:"48",rx:"8",fill:"url(#paint0_linear_7214_19824)",fillOpacity:"0.05"}),t.jsxs("g",{clipPath:"url(#clip0_7214_19824)",children:[t.jsx("path",{d:"M30.3003 15.6016C32.2331 15.6018 33.8003 17.1687 33.8003 19.1016V28.9014C33.8003 30.8342 32.2331 32.4011 30.3003 32.4014H17.6997C15.7668 32.4013 14.1997 30.8343 14.1997 28.9014V19.1016C14.1997 17.1686 15.7668 15.6017 17.6997 15.6016H30.3003Z",fill:f}),t.jsx("path",{d:"M17 27.5C17 26.1193 18.1193 25 19.5 25H28.5C29.8807 25 31 26.1193 31 27.5C31 28.8807 29.8807 30 28.5 30H19.5C18.1193 30 17 28.8807 17 27.5Z",fill:"#1D1D1E"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 20 28)",fill:"white"}),t.jsx("rect",{opacity:"0.2",width:"3",height:"1",rx:"0.5",transform:"matrix(1 0 0 -1 25 28)",fill:"white"}),t.jsx("rect",{x:"10",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f}),t.jsx("rect",{x:"35.2002",y:"22.5996",width:"2.8",height:"5.6",rx:"1.4",fill:f})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_7214_19824",x1:"24",y1:"0",x2:"24",y2:"48",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),t.jsx("clipPath",{id:"clip0_7214_19824",children:t.jsx("rect",{width:"28",height:"28",fill:"white",transform:"translate(10 10)"})})]})]})},VE=({style:e,onClick:n,children:s,className:r=""})=>t.jsx(Vt,{className:A("h-[44px] px-4 py-3 flex space-x-2 justify-center items-center gap-4 text-white text-base font-medium rounded-[10px] backdrop-blur-[25px]",r),style:{background:xg.BUTTON_STYLES[e].background},onClick:n,children:s}),I5e=({children:e})=>t.jsx("div",{className:"flex items-center gap-2 text-transparent bg-clip-text",style:{background:xg.BUTTON_STYLES.gradient.textGradient,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e}),HE=W.common.fluentEmojiBell,A5e=W.common.send,D5e=W.common.bell,$E=W.icons.animatedSpinner,M5e=({podIsPaused:e,isInputActive:n,showCase:s,githubDetails:r,createdBefore25April:i,resumePod:a,restartError:o,isReplaying:l,archivedPod:c,jobId:u,podStateDisplay:p="",showUpgrade:f=!1,machineType:m="Regular",isWakingUp:h=!1,showScrollButton:x=!1,scrollToBottom:y})=>{const{isDownloading:v,handleDownload:g}=aB(),{newToast:b}=Fa(),w=h;if(!e||!n||s)return null;const N=t.jsx("a",{href:Li.helpCenter,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r font-['Inter'] font-semibold underline underline-offset-1",children:"Help Center"}),j=()=>{const S="text-[#fff]/80 font-inter text-[12px] md:text-[14px] opacity-50";return r&&i?t.jsxs("span",{className:S,children:["Apologies, the task has expired due to inactivity. We may not be able to recover this at this moment. Please start a new task using the same github repo or visit our ",N," for any assistance."]}):r?t.jsxs("span",{className:S,children:["Your GitHub task is paused. Click 'Wake up the Agent' to continue. Need help? Visit our ",N]}):c?t.jsxs("span",{className:S,children:["This job has been archived. You can download your code and create a new job. Need help? Visit our"," ",N]}):t.jsxs("span",{className:S,children:["If you are having trouble accessing your work, please visit our ",N]})},_=()=>c?"Job has been archived.":p||"Agent went to sleep due to inactivity.",C=!(r&&i)&&!c,F=()=>{z(Tn.AGENT_EVENTS.WAKE_UP_AGENT,{isButtonWakingUp:w}),a()},E=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-4","data-testid":La.sleep.notification,children:[t.jsx(T5e,{className:"hidden md:block",size:56}),t.jsxs("div",{className:"flex flex-col self-start gap-1 font-inter",children:[t.jsx("span",{className:"text-[14px] md:text-[16px] font-medium text-[#c4c4cc]","data-testid":La.sleep.message,children:_()}),j()]})]}),C&&!f&&t.jsxs("button",{type:"button","data-testid":La.sleep.wakeUpButton,onClick:F,disabled:w,className:` py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300 ${w?"bg-[#80FFF908]":"bg-[#FCB94920] disabled:opacity-25 hover:bg-[#FCB94930]"}`,children:[w?t.jsx("img",{src:$E,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:HE,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:`text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300 ${w?"text-[#80FFF9] ":"bg-gradient-to-r from-[#FCB949] to-[#E28C37] bg-clip-text text-transparent"}`,children:w?"Waking up...":"Wake up Agent"})]}),C&&f&&t.jsxs("button",{type:"button","data-testid":La.sleep.upgradeButton,onClick:F,disabled:w,className:` disabled:opacity-60 py-[10px] px-4 min-w-fit rounded-[8px] flex justify-center items-center gap-2 transition-all duration-300 ${w?"bg-transparent border border-[#FCB949]/30":"bg-[#FCB94920] hover:bg-[#FCB94930]"}`,children:[w?t.jsx("img",{src:$E,alt:"Loading...",className:"w-5 h-5"}):t.jsx("img",{src:HE,alt:"Wake icon",className:"w-5 h-5"}),t.jsx("span",{className:`text-[14px] whitespace-nowrap md:text-[16px] font-medium transition-all duration-300 ${w&&!f?"bg-gradient-to-r from-[#49eafc] to-[#3778e2] text-transparent":"bg-gradient-to-r from-[#FCB949] bg-clip-text to-[#E28C37] text-transparent"}`,children:w?"Waking up...":m==="large"?"Wake up Agent":"Wake Agent with Larger Machine"})]}),c&&t.jsx("button",{type:"button","data-testid":La.sleep.downloadCodeButton,onClick:()=>g(u),disabled:v||!u,className:"bg-[#FCB94920] min-w-fit justify-center disabled:opacity-25 p-[10px] rounded-[6px] flex items-center gap-2 hover:bg-[#FCB94930] transition-colors duration-200",children:t.jsx("span",{className:"bg-gradient-to-r from-[#FCB949] to-[#E28C37] text-transparent text-[12px] md:text-[16px] bg-clip-text font-medium",children:v?"Downloading...":"Download Your Code"})})]});return t.jsx(ns,{children:t.jsxs(xe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"tween",ease:"easeOut",duration:.4},className:"absolute px-4 grayscale-0 bottom-0 left-0 right-0 z-[49] w-full pointer-events-none",children:[x&&y&&t.jsx("div",{className:"flex justify-center mb-2 pointer-events-auto",children:t.jsx("button",{type:"button",onClick:y,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom",children:t.jsx("img",{src:A5e,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),t.jsxs("div",{className:"max-w-4xl relative mx-auto bg-[#FFFFFF0F] backdrop-blur-3xl rounded-[1rem] rounded-bl-none rounded-br-none overflow-hidden p-2 pb-0 flex justify-between pointer-events-auto",children:[t.jsx("div",{className:"absolute top-0 bottom-0 left-0 right-0 z-0",style:{background:"linear-gradient(180deg, #131314 0%, rgba(19, 19, 20, 0) 100%)"}}),t.jsx("div",{className:"w-full z-10 bg-[#131314] p-4 md:px-[1.5rem] rounded-[1rem] rounded-bl-none rounded-br-none md:pt-[1.5rem] md:pb-[2rem] flex md:flex-row flex-col justify-between md:items-start gap-5",children:l?t.jsx("div",{className:"flex flex-col w-full gap-1",children:t.jsxs("div",{className:"flex items-center justify-between w-full max-md:gap-3 max-md:flex-col",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx(xo,{size:24,color:"#2EBCE5"}),t.jsx("span",{className:"text-[#80FFF9] font-medium leading-[24px] tracking-[-0.1px]",style:{textShadow:"0px 0px 30px #80FFF999"},children:"Recreating Environment ..."})]}),t.jsx("span",{className:"text-[#FFFFFF]/50 text-[14px] font-inter leading-[20px] font-medium",children:"This usually takes around 5-10 mins."})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(VE,{style:"white",onClick:()=>window.open(Li.helpCenter,"_blank"),className:"w-full",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-medium",children:"Need Help ?"}),t.jsx(d2,{color:"white",strokeWidth:3,size:24,className:"max-md:hidden"})]})}),t.jsx(VE,{style:"gradient",onClick:()=>b.success("We will send you an email when preview is ready"),className:"w-full",children:t.jsxs(I5e,{children:[t.jsx("img",{alt:"Bell Icon",src:D5e,className:"max-md:hidden"}),t.jsx("p",{className:"font-medium",children:"Remind me"})]})})]})]})}):E()})]})]})})},M8=({width:e=57,height:n=38,className:s="",fill:r="white",...i})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 57 38",fill:"none",className:s,...i,children:[t.jsx("defs",{children:t.jsxs("filter",{id:"filter0_d_11791_110933",x:"-0.503906",y:"-7.60205",width:"58",height:"53.2012",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"10"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.6 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_11791_110933"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_11791_110933",result:"shape"})]})}),t.jsx("g",{filter:"url(#filter0_d_11791_110933)",children:t.jsx("path",{d:"M28.4967 12.3979C30.4524 12.4715 32.344 13.1167 33.9371 14.2534C35.5302 15.3902 36.7548 16.969 37.4605 18.7944C37.5082 18.9263 37.5082 19.0708 37.4605 19.2026C36.7548 21.028 35.5302 22.6069 33.9371 23.7437C32.344 24.8804 30.4524 25.5255 28.4967 25.5991C26.541 25.5256 24.6494 24.8803 23.0562 23.7437C21.4631 22.6069 20.2376 21.0281 19.5318 19.2026C19.4842 19.0708 19.4842 18.9262 19.5318 18.7944C20.2376 16.9689 21.463 15.3902 23.0562 14.2534C24.6494 13.1167 26.5409 12.4715 28.4967 12.3979ZM29.9889 15.395C29.2763 15.0999 28.4924 15.023 27.7359 15.1733C26.9794 15.3238 26.2843 15.6953 25.7389 16.2407C25.1934 16.7862 24.822 17.4812 24.6715 18.2378C24.5211 18.9942 24.598 19.7782 24.8932 20.4907C25.1884 21.2034 25.6883 21.8131 26.3297 22.2417C26.971 22.6701 27.7254 22.8989 28.4967 22.8989C29.5305 22.8973 30.5215 22.4854 31.2525 21.7544C31.9835 21.0233 32.3954 20.0324 32.3971 18.9985C32.3971 18.2271 32.1674 17.4729 31.7389 16.8315C31.3103 16.1903 30.7015 15.6902 29.9889 15.395ZM28.4976 16.5972C29.8232 16.5972 30.898 17.672 30.898 18.9976C30.898 20.3231 29.8232 21.3979 28.4976 21.3979C27.1723 21.3977 26.0983 20.323 26.0982 18.9976C26.0982 17.6721 27.1723 16.5974 28.4976 16.5972Z",fill:r})})]});M8.propTypes={width:Xe.oneOfType([Xe.number,Xe.string]),height:Xe.oneOfType([Xe.number,Xe.string]),className:Xe.string,fill:Xe.string,onClick:Xe.func,onMouseEnter:Xe.func,onMouseLeave:Xe.func,style:Xe.object,"aria-label":Xe.string,"aria-hidden":Xe.bool,role:Xe.string,id:Xe.string,"data-testid":Xe.string};const L5e=({size:e,width:n=21,height:s=20,color:r="black",fill:i,className:a="",style:o,onClick:l,...c})=>{const u=e||n,p=e||s,f=i||r;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:p,viewBox:"0 0 21 20",fill:"none",className:a,style:o,onClick:l,...c,children:[t.jsx("path",{d:"M5.5 18C4.94772 18 4.5 17.5523 4.5 17L4.5 16L16.5 16L16.5 17C16.5 17.5523 16.0523 18 15.5 18L5.5 18Z",fill:f,fillOpacity:"0.6"}),t.jsx("path",{d:"M4.5 18L4.5 16L4.5 18ZM16.5 16L16.5 18L16.5 16ZM16.5 18L4.5 18L16.5 18ZM4.5 15.25L16.5 15.25L16.5 16.75L4.5 16.75L4.5 15.25Z",fill:f}),t.jsx("rect",{x:"4.5",y:"18",width:"16",height:"12",rx:"2",transform:"rotate(-90 4.5 18)",stroke:f,strokeWidth:"1.5"})]})},R5e={initial:{opacity:0,scale:.5,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8,duration:2}},P5e=({isVisible:e,previewUrl:n,onPreviewClick:s,promptText:r="",className:i="",ariaLabel:a="Open preview",showMobileIcon:o=!0,animationConfig:l=R5e,hasOpenedBefore:c=()=>!1})=>{if(!e)return null;const u=`
    z-[49] p-2 w-fit h-[56px] rounded-[12px] 
    flex items-center justify-center space-x-[10px] font-brockmann text-base font-semibold 
    transition-colors 
    shadow-[0px_0px_40px_0px_rgba(255,255,255,0.20)] 
    shadow-lg
    ${i}
  `.trim(),p=`
    rounded 
    shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]
    flex 
    w-14 
    h-full
    justify-center 
    items-center
    relative
    overflow-hidden
    bg-gray-300
  `.trim(),f=d.useCallback(()=>c()?"View Preview":"Your Preview is ready",[c]);return t.jsx(ns,{children:t.jsx(xe.div,{initial:l.initial,animate:l.animate,exit:l.exit,transition:l.transition,children:t.jsx("div",{className:"flex justify-center mb-2 md:hidden",children:t.jsxs("button",{type:"button",onClick:s,className:A([u,c()?"bg-[#303033] text-white":"bg-white text-[#0E0E0F]"]),"aria-label":a,children:[t.jsxs("div",{className:p,children:[n&&t.jsx("iframe",{src:n,title:"Preview",className:"h-full rounded w-14 z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),t.jsx("div",{className:"absolute z-[50] h-full w-14 inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:t.jsx(M8,{color:"#fff"})})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[t.jsx("p",{children:r||f()}),c()?t.jsx(Dr,{className:"w-6 h-6 text-white/40"}):t.jsx(L5e,{className:"w-5 h-5"})]})]})})})})},S2=d.createContext(null);S2.displayName="PanelGroupContext";const Gr={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},L8=10,Id=d.useLayoutEffect,zE=E$.useId,O5e=typeof zE=="function"?zE:()=>null;let B5e=0;function R8(e=null){const n=O5e(),s=d.useRef(e||n||null);return s.current===null&&(s.current=""+B5e++),e??s.current}function IB({children:e,className:n="",collapsedSize:s,collapsible:r,defaultSize:i,forwardedRef:a,id:o,maxSize:l,minSize:c,onCollapse:u,onExpand:p,onResize:f,order:m,style:h,tagName:x="div",...y}){const v=d.useContext(S2);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:g,expandPanel:b,getPanelSize:w,getPanelStyle:N,groupId:j,isPanelCollapsed:_,reevaluatePanelConstraints:C,registerPanel:F,resizePanel:E,unregisterPanel:S}=v,M=R8(o),k=d.useRef({callbacks:{onCollapse:u,onExpand:p,onResize:f},constraints:{collapsedSize:s,collapsible:r,defaultSize:i,maxSize:l,minSize:c},id:M,idIsFromProps:o!==void 0,order:m});d.useRef({didLogMissingDefaultSizeWarning:!1}),Id(()=>{const{callbacks:D,constraints:P}=k.current,R={...P};k.current.id=M,k.current.idIsFromProps=o!==void 0,k.current.order=m,D.onCollapse=u,D.onExpand=p,D.onResize=f,P.collapsedSize=s,P.collapsible=r,P.defaultSize=i,P.maxSize=l,P.minSize=c,(R.collapsedSize!==P.collapsedSize||R.collapsible!==P.collapsible||R.maxSize!==P.maxSize||R.minSize!==P.minSize)&&C(k.current,R)}),Id(()=>{const D=k.current;return F(D),()=>{S(D)}},[m,M,F,S]),d.useImperativeHandle(a,()=>({collapse:()=>{g(k.current)},expand:D=>{b(k.current,D)},getId(){return M},getSize(){return w(k.current)},isCollapsed(){return _(k.current)},isExpanded(){return!_(k.current)},resize:D=>{E(k.current,D)}}),[g,b,w,_,M,E]);const I=N(k.current,i);return d.createElement(x,{...y,children:e,className:n,id:M,style:{...I,...h},[Gr.groupId]:j,[Gr.panel]:"",[Gr.panelCollapsible]:r||void 0,[Gr.panelId]:M,[Gr.panelSize]:parseFloat(""+I.flexGrow).toFixed(1)})}const P8=d.forwardRef((e,n)=>d.createElement(IB,{...e,forwardedRef:n}));IB.displayName="Panel";P8.displayName="forwardRef(Panel)";let $y=null,rx=-1,Kl=null;function U5e(e,n,s){const r=(n&RB)!==0,i=(n&PB)!==0,a=(n&OB)!==0,o=(n&BB)!==0;if(n){if(r)return a?"se-resize":o?"ne-resize":"e-resize";if(i)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function V5e(){Kl!==null&&(document.head.removeChild(Kl),$y=null,Kl=null,rx=-1)}function J4(e,n,s){var r,i;const a=U5e(e,n);if($y!==a){if($y=a,Kl===null&&(Kl=document.createElement("style"),document.head.appendChild(Kl)),rx>=0){var o;(o=Kl.sheet)===null||o===void 0||o.removeRule(rx)}rx=(r=(i=Kl.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&r!==void 0?r:-1}}function AB(e){return e.type==="keydown"}function DB(e){return e.type.startsWith("pointer")}function MB(e){return e.type.startsWith("mouse")}function k2(e){if(DB(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(MB(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function H5e(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function $5e(e,n,s){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function z5e(e,n){if(e===n)throw new Error("Cannot compare node with itself");const s={a:qE(e),b:qE(n)};let r;for(;s.a.at(-1)===s.b.at(-1);)e=s.a.pop(),n=s.b.pop(),r=e;Ts(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:GE(WE(s.a)),b:GE(WE(s.b))};if(i.a===i.b){const a=r.childNodes,o={a:s.a.at(-1),b:s.b.at(-1)};let l=a.length;for(;l--;){const c=a[l];if(c===o.a)return 1;if(c===o.b)return-1}}return Math.sign(i.a-i.b)}const W5e=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function G5e(e){var n;const s=getComputedStyle((n=LB(e))!==null&&n!==void 0?n:e).display;return s==="flex"||s==="inline-flex"}function q5e(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||G5e(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||W5e.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function WE(e){let n=e.length;for(;n--;){const s=e[n];if(Ts(s,"Missing node"),q5e(s))return s}return null}function GE(e){return e&&Number(getComputedStyle(e).zIndex)||0}function qE(e){const n=[];for(;e;)n.push(e),e=LB(e);return n}function LB(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const RB=1,PB=2,OB=4,BB=8,K5e=H5e()==="coarse";let go=[],ip=!1,Yl=new Map,T2=new Map;const Am=new Set;function Y5e(e,n,s,r,i){var a;const{ownerDocument:o}=n,l={direction:s,element:n,hitAreaMargins:r,setResizeHandlerState:i},c=(a=Yl.get(o))!==null&&a!==void 0?a:0;return Yl.set(o,c+1),Am.add(l),yg(),function(){var p;T2.delete(e),Am.delete(l);const f=(p=Yl.get(o))!==null&&p!==void 0?p:1;if(Yl.set(o,f-1),yg(),f===1&&Yl.delete(o),go.includes(l)){const m=go.indexOf(l);m>=0&&go.splice(m,1),I2(),i("up",!0,null)}}}function Z5e(e){const{target:n}=e,{x:s,y:r}=k2(e);ip=!0,O8({target:n,x:s,y:r}),yg(),go.length>0&&(vg("down",e),I2(),e.preventDefault(),UB(n)||e.stopImmediatePropagation())}function X4(e){const{x:n,y:s}=k2(e);if(ip&&e.type!=="pointerleave"&&e.buttons===0&&(ip=!1,vg("up",e)),!ip){const{target:r}=e;O8({target:r,x:n,y:s})}vg("move",e),I2(),go.length>0&&e.preventDefault()}function Q4(e){const{target:n}=e,{x:s,y:r}=k2(e);T2.clear(),ip=!1,go.length>0&&(e.preventDefault(),UB(n)||e.stopImmediatePropagation()),vg("up",e),O8({target:n,x:s,y:r}),I2(),yg()}function UB(e){let n=e;for(;n;){if(n.hasAttribute(Gr.resizeHandle))return!0;n=n.parentElement}return!1}function O8({target:e,x:n,y:s}){go.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Am.forEach(i=>{const{element:a,hitAreaMargins:o}=i,l=a.getBoundingClientRect(),{bottom:c,left:u,right:p,top:f}=l,m=K5e?o.coarse:o.fine;if(n>=u-m&&n<=p+m&&s>=f-m&&s<=c+m){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&z5e(r,a)>0){let x=r,y=!1;for(;x&&!x.contains(a);){if($5e(x.getBoundingClientRect(),l)){y=!0;break}x=x.parentElement}if(y)return}go.push(i)}})}function eb(e,n){T2.set(e,n)}function I2(){let e=!1,n=!1;go.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let s=0;T2.forEach(r=>{s|=r}),e&&n?J4("intersection",s):e?J4("horizontal",s):n?J4("vertical",s):V5e()}let tb;function yg(){var e;(e=tb)===null||e===void 0||e.abort(),tb=new AbortController;const n={capture:!0,signal:tb.signal};Am.size&&(ip?(go.length>0&&Yl.forEach((s,r)=>{const{body:i}=r;s>0&&(i.addEventListener("contextmenu",Q4,n),i.addEventListener("pointerleave",X4,n),i.addEventListener("pointermove",X4,n))}),Yl.forEach((s,r)=>{const{body:i}=r;i.addEventListener("pointerup",Q4,n),i.addEventListener("pointercancel",Q4,n)})):Yl.forEach((s,r)=>{const{body:i}=r;s>0&&(i.addEventListener("pointerdown",Z5e,n),i.addEventListener("pointermove",X4,n))}))}function vg(e,n){Am.forEach(s=>{const{setResizeHandlerState:r}=s,i=go.includes(s);r(e,i,n)})}function J5e(){const[e,n]=d.useState(0);return d.useCallback(()=>n(s=>s+1),[])}function Ts(e,n){if(!e)throw Error(n)}function Vd(e,n,s=L8){return e.toFixed(s)===n.toFixed(s)?0:e>n?1:-1}function xl(e,n,s=L8){return Vd(e,n,s)===0}function Aa(e,n,s){return Vd(e,n,s)===0}function X5e(e,n,s){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],a=n[r];if(!Aa(i,a,s))return!1}return!0}function Hu({panelConstraints:e,panelIndex:n,size:s}){const r=e[n];Ts(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:a,maxSize:o=100,minSize:l=0}=r;if(Vd(s,l)<0)if(a){const c=(i+l)/2;Vd(s,c)<0?s=i:s=l}else s=l;return s=Math.min(o,s),s=parseFloat(s.toFixed(L8)),s}function mf({delta:e,initialLayout:n,panelConstraints:s,pivotIndices:r,prevLayout:i,trigger:a}){if(Aa(e,0))return n;const o=[...n],[l,c]=r;Ts(l!=null,"Invalid first pivot index"),Ts(c!=null,"Invalid second pivot index");let u=0;if(a==="keyboard"){{const f=e<0?c:l,m=s[f];Ts(m,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:y=0}=m;if(x){const v=n[f];if(Ts(v!=null,`Previous layout not found for panel index ${f}`),Aa(v,h)){const g=y-v;Vd(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}{const f=e<0?l:c,m=s[f];Ts(m,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:y=0}=m;if(x){const v=n[f];if(Ts(v!=null,`Previous layout not found for panel index ${f}`),Aa(v,y)){const g=v-h;Vd(g,Math.abs(e))>0&&(e=e<0?0-g:g)}}}}{const f=e<0?1:-1;let m=e<0?c:l,h=0;for(;;){const y=n[m];Ts(y!=null,`Previous layout not found for panel index ${m}`);const g=Hu({panelConstraints:s,panelIndex:m,size:100})-y;if(h+=g,m+=f,m<0||m>=s.length)break}const x=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-x:x}{let m=e<0?l:c;for(;m>=0&&m<s.length;){const h=Math.abs(e)-Math.abs(u),x=n[m];Ts(x!=null,`Previous layout not found for panel index ${m}`);const y=x-h,v=Hu({panelConstraints:s,panelIndex:m,size:y});if(!Aa(x,v)&&(u+=x-v,o[m]=v,u.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?m--:m++}}if(X5e(i,o))return i;{const f=e<0?c:l,m=n[f];Ts(m!=null,`Previous layout not found for panel index ${f}`);const h=m+u,x=Hu({panelConstraints:s,panelIndex:f,size:h});if(o[f]=x,!Aa(x,h)){let y=h-x,g=e<0?c:l;for(;g>=0&&g<s.length;){const b=o[g];Ts(b!=null,`Previous layout not found for panel index ${g}`);const w=b+y,N=Hu({panelConstraints:s,panelIndex:g,size:w});if(Aa(b,N)||(y-=N-b,o[g]=N),Aa(y,0))break;e>0?g--:g++}}}const p=o.reduce((f,m)=>m+f,0);return Aa(p,100)?o:i}function Q5e({layout:e,panelsArray:n,pivotIndices:s}){let r=0,i=100,a=0,o=0;const l=s[0];Ts(l!=null,"No pivot index found"),n.forEach((f,m)=>{const{constraints:h}=f,{maxSize:x=100,minSize:y=0}=h;m===l?(r=y,i=x):(a+=y,o+=x)});const c=Math.min(i,100-a),u=Math.max(r,100-o),p=e[l];return{valueMax:c,valueMin:u,valueNow:p}}function Dm(e,n=document){return Array.from(n.querySelectorAll(`[${Gr.resizeHandleId}][data-panel-group-id="${e}"]`))}function VB(e,n,s=document){const i=Dm(e,s).findIndex(a=>a.getAttribute(Gr.resizeHandleId)===n);return i??null}function HB(e,n,s){const r=VB(e,n,s);return r!=null?[r,r+1]:[-1,-1]}function e3e(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function $B(e,n=document){if(e3e(n)&&n.dataset.panelGroupId==e)return n;const s=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return s||null}function A2(e,n=document){const s=n.querySelector(`[${Gr.resizeHandleId}="${e}"]`);return s||null}function t3e(e,n,s,r=document){var i,a,o,l;const c=A2(n,r),u=Dm(e,r),p=c?u.indexOf(c):-1,f=(i=(a=s[p])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,m=(o=(l=s[p+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[f,m]}function n3e({committedValuesRef:e,eagerValuesRef:n,groupId:s,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:o}){d.useRef({didWarnAboutMissingResizeHandle:!1}),Id(()=>{if(!a)return;const l=Dm(s,a);for(let c=0;c<i.length-1;c++){const{valueMax:u,valueMin:p,valueNow:f}=Q5e({layout:r,panelsArray:i,pivotIndices:[c,c+1]}),m=l[c];if(m!=null){const h=i[c];Ts(h,`No panel data found for index "${c}"`),m.setAttribute("aria-controls",h.id),m.setAttribute("aria-valuemax",""+Math.round(u)),m.setAttribute("aria-valuemin",""+Math.round(p)),m.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[s,r,i,a]),d.useEffect(()=>{if(!a)return;const l=n.current;Ts(l,"Eager values not found");const{panelDataArray:c}=l,u=$B(s,a);Ts(u!=null,`No group found for id "${s}"`);const p=Dm(s,a);Ts(p,`No resize handles found for group id "${s}"`);const f=p.map(m=>{const h=m.getAttribute(Gr.resizeHandleId);Ts(h,"Resize handle element has no handle id attribute");const[x,y]=t3e(s,h,c,a);if(x==null||y==null)return()=>{};const v=g=>{if(!g.defaultPrevented)switch(g.key){case"Enter":{g.preventDefault();const b=c.findIndex(w=>w.id===x);if(b>=0){const w=c[b];Ts(w,`No panel data found for index ${b}`);const N=r[b],{collapsedSize:j=0,collapsible:_,minSize:C=0}=w.constraints;if(N!=null&&_){const F=mf({delta:Aa(N,j)?C-j:j-N,initialLayout:r,panelConstraints:c.map(E=>E.constraints),pivotIndices:HB(s,h,a),prevLayout:r,trigger:"keyboard"});r!==F&&o(F)}}break}}};return m.addEventListener("keydown",v),()=>{m.removeEventListener("keydown",v)}});return()=>{f.forEach(m=>m())}},[a,e,n,s,r,i,o])}function KE(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==n[s])return!1;return!0}function zB(e,n){const s=e==="horizontal",{x:r,y:i}=k2(n);return s?r:i}function s3e(e,n,s,r,i){const a=s==="horizontal",o=A2(n,i);Ts(o,`No resize handle element found for id "${n}"`);const l=o.getAttribute(Gr.groupId);Ts(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=zB(s,e),p=$B(l,i);Ts(p,`No group element found for id "${l}"`);const f=p.getBoundingClientRect(),m=a?f.width:f.height;return(u-c)/m*100}function r3e(e,n,s,r,i,a){if(AB(e)){const o=s==="horizontal";let l=0;e.shiftKey?l=100:i!=null?l=i:l=10;let c=0;switch(e.key){case"ArrowDown":c=o?0:l;break;case"ArrowLeft":c=o?-l:0;break;case"ArrowRight":c=o?l:0;break;case"ArrowUp":c=o?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:s3e(e,n,s,r,a)}function i3e({panelDataArray:e}){const n=Array(e.length),s=e.map(a=>a.constraints);let r=0,i=100;for(let a=0;a<e.length;a++){const o=s[a];Ts(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;l!=null&&(r++,n[a]=l,i-=l)}for(let a=0;a<e.length;a++){const o=s[a];Ts(o,`Panel constraints not found for index ${a}`);const{defaultSize:l}=o;if(l!=null)continue;const c=e.length-r,u=i/c;r++,n[a]=u,i-=u}return n}function Cu(e,n,s){n.forEach((r,i)=>{const a=e[i];Ts(a,`Panel data not found for index ${i}`);const{callbacks:o,constraints:l,id:c}=a,{collapsedSize:u=0,collapsible:p}=l,f=s[c];if(f==null||r!==f){s[c]=r;const{onCollapse:m,onExpand:h,onResize:x}=o;x&&x(r,f),p&&(m||h)&&(h&&(f==null||xl(f,u))&&!xl(r,u)&&h(),m&&(f==null||!xl(f,u))&&xl(r,u)&&m())}})}function E0(e,n){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!=n[s])return!1;return!0}function a3e({defaultSize:e,dragState:n,layout:s,panelData:r,panelIndex:i,precision:a=3}){const o=s[i];let l;return o==null?l=e!=null?e.toFixed(a):"1":r.length===1?l="1":l=o.toFixed(a),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function o3e(e,n=10){let s=null;return(...i)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{e(...i)},n)}}function YE(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,s)=>{localStorage.setItem(n,s)};else throw new Error("localStorage not supported in this environment")}catch{e.getItem=()=>null,e.setItem=()=>{}}}function WB(e){return`react-resizable-panels:${e}`}function GB(e){return e.map(n=>{const{constraints:s,id:r,idIsFromProps:i,order:a}=n;return i?r:a?`${a}:${JSON.stringify(s)}`:JSON.stringify(s)}).sort((n,s)=>n.localeCompare(s)).join(",")}function qB(e,n){try{const s=WB(e),r=n.getItem(s);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function l3e(e,n,s){var r,i;const a=(r=qB(e,s))!==null&&r!==void 0?r:{},o=GB(n);return(i=a[o])!==null&&i!==void 0?i:null}function c3e(e,n,s,r,i){var a;const o=WB(e),l=GB(n),c=(a=qB(e,i))!==null&&a!==void 0?a:{};c[l]={expandToSizes:Object.fromEntries(s.entries()),layout:r};try{i.setItem(o,JSON.stringify(c))}catch{}}function ZE({layout:e,panelConstraints:n}){const s=[...e],r=s.reduce((a,o)=>a+o,0);if(s.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${s.map(a=>`${a}%`).join(", ")}`);if(!Aa(r,100)&&s.length>0)for(let a=0;a<n.length;a++){const o=s[a];Ts(o!=null,`No layout data found for index ${a}`);const l=100/r*o;s[a]=l}let i=0;for(let a=0;a<n.length;a++){const o=s[a];Ts(o!=null,`No layout data found for index ${a}`);const l=Hu({panelConstraints:n,panelIndex:a,size:o});o!=l&&(i+=o-l,s[a]=l)}if(!Aa(i,0))for(let a=0;a<n.length;a++){const o=s[a];Ts(o!=null,`No layout data found for index ${a}`);const l=o+i,c=Hu({panelConstraints:n,panelIndex:a,size:l});if(o!==c&&(i-=c-o,s[a]=c,Aa(i,0)))break}return s}const d3e=100,hf={getItem:e=>(YE(hf),hf.getItem(e)),setItem:(e,n)=>{YE(hf),hf.setItem(e,n)}},JE={};function KB({autoSaveId:e=null,children:n,className:s="",direction:r,forwardedRef:i,id:a=null,onLayout:o=null,keyboardResizeBy:l=null,storage:c=hf,style:u,tagName:p="div",...f}){const m=R8(a),h=d.useRef(null),[x,y]=d.useState(null),[v,g]=d.useState([]),b=J5e(),w=d.useRef({}),N=d.useRef(new Map),j=d.useRef(0),_=d.useRef({autoSaveId:e,direction:r,dragState:x,id:m,keyboardResizeBy:l,onLayout:o,storage:c}),C=d.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});d.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),d.useImperativeHandle(i,()=>({getId:()=>_.current.id,getLayout:()=>{const{layout:V}=C.current;return V},setLayout:V=>{const{onLayout:ee}=_.current,{layout:X,panelDataArray:ae}=C.current,me=ZE({layout:V,panelConstraints:ae.map(oe=>oe.constraints)});KE(X,me)||(g(me),C.current.layout=me,ee&&ee(me),Cu(ae,me,w.current))}}),[]),Id(()=>{_.current.autoSaveId=e,_.current.direction=r,_.current.dragState=x,_.current.id=m,_.current.onLayout=o,_.current.storage=c}),n3e({committedValuesRef:_,eagerValuesRef:C,groupId:m,layout:v,panelDataArray:C.current.panelDataArray,setLayout:g,panelGroupElement:h.current}),d.useEffect(()=>{const{panelDataArray:V}=C.current;if(e){if(v.length===0||v.length!==V.length)return;let ee=JE[e];ee==null&&(ee=o3e(c3e,d3e),JE[e]=ee);const X=[...V],ae=new Map(N.current);ee(e,X,ae,v,c)}},[e,v,c]),d.useEffect(()=>{});const F=d.useCallback(V=>{const{onLayout:ee}=_.current,{layout:X,panelDataArray:ae}=C.current;if(V.constraints.collapsible){const me=ae.map(re=>re.constraints),{collapsedSize:oe=0,panelSize:pe,pivotIndices:se}=td(ae,V,X);if(Ts(pe!=null,`Panel size not found for panel "${V.id}"`),!xl(pe,oe)){N.current.set(V.id,pe);const ve=Tu(ae,V)===ae.length-1?pe-oe:oe-pe,we=mf({delta:ve,initialLayout:X,panelConstraints:me,pivotIndices:se,prevLayout:X,trigger:"imperative-api"});E0(X,we)||(g(we),C.current.layout=we,ee&&ee(we),Cu(ae,we,w.current))}}},[]),E=d.useCallback((V,ee)=>{const{onLayout:X}=_.current,{layout:ae,panelDataArray:me}=C.current;if(V.constraints.collapsible){const oe=me.map(be=>be.constraints),{collapsedSize:pe=0,panelSize:se=0,minSize:re=0,pivotIndices:ve}=td(me,V,ae),we=ee??re;if(xl(se,pe)){const be=N.current.get(V.id),Ue=be!=null&&be>=we?be:we,Me=Tu(me,V)===me.length-1?se-Ue:Ue-se,J=mf({delta:Me,initialLayout:ae,panelConstraints:oe,pivotIndices:ve,prevLayout:ae,trigger:"imperative-api"});E0(ae,J)||(g(J),C.current.layout=J,X&&X(J),Cu(me,J,w.current))}}},[]),S=d.useCallback(V=>{const{layout:ee,panelDataArray:X}=C.current,{panelSize:ae}=td(X,V,ee);return Ts(ae!=null,`Panel size not found for panel "${V.id}"`),ae},[]),M=d.useCallback((V,ee)=>{const{panelDataArray:X}=C.current,ae=Tu(X,V);return a3e({defaultSize:ee,dragState:x,layout:v,panelData:X,panelIndex:ae})},[x,v]),k=d.useCallback(V=>{const{layout:ee,panelDataArray:X}=C.current,{collapsedSize:ae=0,collapsible:me,panelSize:oe}=td(X,V,ee);return Ts(oe!=null,`Panel size not found for panel "${V.id}"`),me===!0&&xl(oe,ae)},[]),I=d.useCallback(V=>{const{layout:ee,panelDataArray:X}=C.current,{collapsedSize:ae=0,collapsible:me,panelSize:oe}=td(X,V,ee);return Ts(oe!=null,`Panel size not found for panel "${V.id}"`),!me||Vd(oe,ae)>0},[]),D=d.useCallback(V=>{const{panelDataArray:ee}=C.current;ee.push(V),ee.sort((X,ae)=>{const me=X.order,oe=ae.order;return me==null&&oe==null?0:me==null?-1:oe==null?1:me-oe}),C.current.panelDataArrayChanged=!0,b()},[b]);Id(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:V,onLayout:ee,storage:X}=_.current,{layout:ae,panelDataArray:me}=C.current;let oe=null;if(V){const se=l3e(V,me,X);se&&(N.current=new Map(Object.entries(se.expandToSizes)),oe=se.layout)}oe==null&&(oe=i3e({panelDataArray:me}));const pe=ZE({layout:oe,panelConstraints:me.map(se=>se.constraints)});KE(ae,pe)||(g(pe),C.current.layout=pe,ee&&ee(pe),Cu(me,pe,w.current))}}),Id(()=>{const V=C.current;return()=>{V.layout=[]}},[]);const P=d.useCallback(V=>{let ee=!1;const X=h.current;return X&&window.getComputedStyle(X,null).getPropertyValue("direction")==="rtl"&&(ee=!0),function(me){me.preventDefault();const oe=h.current;if(!oe)return()=>null;const{direction:pe,dragState:se,id:re,keyboardResizeBy:ve,onLayout:we}=_.current,{layout:be,panelDataArray:Ue}=C.current,{initialLayout:fe}=se??{},Me=HB(re,V,oe);let J=r3e(me,V,pe,se,ve,oe);const Ne=pe==="horizontal";Ne&&ee&&(J=-J);const ge=Ue.map(Ie=>Ie.constraints),Ee=mf({delta:J,initialLayout:fe??be,panelConstraints:ge,pivotIndices:Me,prevLayout:be,trigger:AB(me)?"keyboard":"mouse-or-touch"}),Ce=!E0(be,Ee);(DB(me)||MB(me))&&j.current!=J&&(j.current=J,!Ce&&J!==0?Ne?eb(V,J<0?RB:PB):eb(V,J<0?OB:BB):eb(V,0)),Ce&&(g(Ee),C.current.layout=Ee,we&&we(Ee),Cu(Ue,Ee,w.current))}},[]),R=d.useCallback((V,ee)=>{const{onLayout:X}=_.current,{layout:ae,panelDataArray:me}=C.current,oe=me.map(be=>be.constraints),{panelSize:pe,pivotIndices:se}=td(me,V,ae);Ts(pe!=null,`Panel size not found for panel "${V.id}"`);const ve=Tu(me,V)===me.length-1?pe-ee:ee-pe,we=mf({delta:ve,initialLayout:ae,panelConstraints:oe,pivotIndices:se,prevLayout:ae,trigger:"imperative-api"});E0(ae,we)||(g(we),C.current.layout=we,X&&X(we),Cu(me,we,w.current))},[]),B=d.useCallback((V,ee)=>{const{layout:X,panelDataArray:ae}=C.current,{collapsedSize:me=0,collapsible:oe}=ee,{collapsedSize:pe=0,collapsible:se,maxSize:re=100,minSize:ve=0}=V.constraints,{panelSize:we}=td(ae,V,X);we!=null&&(oe&&se&&xl(we,me)?xl(me,pe)||R(V,pe):we<ve?R(V,ve):we>re&&R(V,re))},[R]),U=d.useCallback((V,ee)=>{const{direction:X}=_.current,{layout:ae}=C.current;if(!h.current)return;const me=A2(V,h.current);Ts(me,`Drag handle element not found for id "${V}"`);const oe=zB(X,ee);y({dragHandleId:V,dragHandleRect:me.getBoundingClientRect(),initialCursorPosition:oe,initialLayout:ae})},[]),H=d.useCallback(()=>{y(null)},[]),$=d.useCallback(V=>{const{panelDataArray:ee}=C.current,X=Tu(ee,V);X>=0&&(ee.splice(X,1),delete w.current[V.id],C.current.panelDataArrayChanged=!0,b())},[b]),q=d.useMemo(()=>({collapsePanel:F,direction:r,dragState:x,expandPanel:E,getPanelSize:S,getPanelStyle:M,groupId:m,isPanelCollapsed:k,isPanelExpanded:I,reevaluatePanelConstraints:B,registerPanel:D,registerResizeHandle:P,resizePanel:R,startDragging:U,stopDragging:H,unregisterPanel:$,panelGroupElement:h.current}),[F,x,r,E,S,M,m,k,I,B,D,P,R,U,H,$]),Q={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return d.createElement(S2.Provider,{value:q},d.createElement(p,{...f,children:n,className:s,id:a,ref:h,style:{...Q,...u},[Gr.group]:"",[Gr.groupDirection]:r,[Gr.groupId]:m}))}const YB=d.forwardRef((e,n)=>d.createElement(KB,{...e,forwardedRef:n}));KB.displayName="PanelGroup";YB.displayName="forwardRef(PanelGroup)";function Tu(e,n){return e.findIndex(s=>s===n||s.id===n.id)}function td(e,n,s){const r=Tu(e,n),a=r===e.length-1?[r-1,r]:[r,r+1],o=s[r];return{...n.constraints,panelSize:o,pivotIndices:a}}function u3e({disabled:e,handleId:n,resizeHandler:s,panelGroupElement:r}){d.useEffect(()=>{if(e||s==null||r==null)return;const i=A2(n,r);if(i==null)return;const a=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),s(o);break}case"F6":{o.preventDefault();const l=i.getAttribute(Gr.groupId);Ts(l,`No group element found for id "${l}"`);const c=Dm(l,r),u=VB(l,n,r);Ts(u!==null,`No resize element found for id "${n}"`);const p=o.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[p].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[r,e,n,s])}function ZB({children:e=null,className:n="",disabled:s=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:o,onDragging:l,onFocus:c,onPointerDown:u,onPointerUp:p,style:f={},tabIndex:m=0,tagName:h="div",...x}){var y,v;const g=d.useRef(null),b=d.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:p});d.useEffect(()=>{b.current.onClick=o,b.current.onDragging=l,b.current.onPointerDown=u,b.current.onPointerUp=p});const w=d.useContext(S2);if(w===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:N,groupId:j,registerResizeHandle:_,startDragging:C,stopDragging:F,panelGroupElement:E}=w,S=R8(i),[M,k]=d.useState("inactive"),[I,D]=d.useState(!1),[P,R]=d.useState(null),B=d.useRef({state:M});Id(()=>{B.current.state=M}),d.useEffect(()=>{if(s)R(null);else{const q=_(S);R(()=>q)}},[s,S,_]);const U=(y=r?.coarse)!==null&&y!==void 0?y:15,H=(v=r?.fine)!==null&&v!==void 0?v:5;d.useEffect(()=>{if(s||P==null)return;const q=g.current;Ts(q,"Element ref not attached");let Q=!1;return Y5e(S,q,N,{coarse:U,fine:H},(ee,X,ae)=>{if(!X){k("inactive");return}switch(ee){case"down":{k("drag"),Q=!1,Ts(ae,'Expected event to be defined for "down" action'),C(S,ae);const{onDragging:me,onPointerDown:oe}=b.current;me?.(!0),oe?.();break}case"move":{const{state:me}=B.current;Q=!0,me!=="drag"&&k("hover"),Ts(ae,'Expected event to be defined for "move" action'),P(ae);break}case"up":{k("hover"),F();const{onClick:me,onDragging:oe,onPointerUp:pe}=b.current;oe?.(!1),pe?.(),Q||me?.();break}}})},[U,N,s,H,_,S,P,C,F]),u3e({disabled:s,handleId:S,resizeHandler:P,panelGroupElement:E});const $={touchAction:"none",userSelect:"none"};return d.createElement(h,{...x,children:e,className:n,id:i,onBlur:()=>{D(!1),a?.()},onFocus:()=>{D(!0),c?.()},ref:g,role:"separator",style:{...$,...f},tabIndex:m,[Gr.groupDirection]:N,[Gr.groupId]:j,[Gr.resizeHandle]:"",[Gr.resizeHandleActive]:M==="drag"?"pointer":I?"keyboard":void 0,[Gr.resizeHandleEnabled]:!s,[Gr.resizeHandleId]:S,[Gr.resizeHandleState]:M})}ZB.displayName="PanelResizeHandle";function p3e({className:e,...n}){return t.jsx(YB,{"data-slot":"resizable-panel-group",className:A("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...n})}function f3e({...e}){return t.jsx(P8,{"data-slot":"resizable-panel",...e})}function m3e({isVisible:e=!0,animationConfig:n={type:"spring",stiffness:300,damping:30,mass:.8,bounce:.1},exitDelay:s=400,onAnimationComplete:r,onResize:i,isDragging:a=!1,children:o,className:l,minSizeInPixels:c,...u}){const[p,f]=d.useState(e),[m,h]=d.useState(!1),[x,y]=d.useState(u.defaultSize??30),[v,g]=d.useState(!1),b=d.useRef(null),[w,N]=d.useState(0);d.useEffect(()=>{const F=()=>{const S=b.current?.parentElement;S&&N(S.clientWidth)};F();const E=b.current?.parentElement;if(E){const S=new ResizeObserver(()=>{F()});return S.observe(E),()=>S.disconnect()}},[p]);const j=d.useMemo(()=>{if(c!==void 0&&c>0){if(w>0)return c/w*100;if(typeof window<"u"&&window.innerWidth>0)return c/window.innerWidth*100}return u.minSize},[c,w,u.minSize]);if(d.useEffect(()=>{if(e)f(!0),h(!1);else if(p&&!m){h(!0);const F=setTimeout(()=>{f(!1),h(!1),r?.()},s);return()=>clearTimeout(F)}},[e,p,s,r,m]),d.useEffect(()=>{g(a)},[a]),!p&&!m)return null;const{minSize:_,...C}=u;return t.jsx(xe.div,{ref:b,className:"h-full overflow-hidden",initial:{width:0},animate:{width:e&&!m?`${x}%`:0},exit:{width:0},transition:a?{duration:0,ease:"linear"}:n,onAnimationComplete:()=>{!e&&m&&!a&&(f(!1),h(!1),r?.())},children:t.jsx(P8,{"data-slot":"resizable-panel",className:A("h-full w-full",l),onResize:F=>{y(F),i?.(F)},minSize:j,...C,children:t.jsx(xe.div,{initial:{x:"100%",opacity:0},animate:a?{x:0,opacity:1}:{x:e?0:"100%",opacity:e?1:0},transition:a?{duration:0}:{...n,delay:e?.1:0},className:"w-full h-full",children:o},"animated-panel-content")})})}function h3e({isVisible:e=!0,animationConfig:n={type:"spring",stiffness:300,damping:30,mass:.8},withHandle:s,className:r,onDragging:i,...a}){const[o,l]=d.useState(!1),c=d.useCallback(u=>{l(u),i?.(u)},[i]);return t.jsx(ns,{children:e&&t.jsx(xe.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:n,children:t.jsx(ZB,{"data-slot":"resizable-handle",className:A("bg-border h-full focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90 group hover:bg-[#00CCAF]/60 data-[resize-handle-state=drag]:bg-[#00CCAF]/60 transition-colors duration-200",r),...a,onDragging:c,children:s&&t.jsx("div",{className:A("group-hover:bg-[#00CCAF] z-10 min-w-2 min-h-6 border bg-[#242424] border-[#242424] rounded-md hover:bg-[#00CCAF] hover:border-[#00CCAF] data-[resize-handle-state=drag]:bg-[#00CCAF] data-[resize-handle-state=drag]:border-[#00CCAF] transition-all duration-200",o?"bg-[#00CCAF]":"")})})})})}const B8=()=>{const{setTabs:e,setActiveTab:n,getTabByJobId:s,updateTabState:r}=qr(),i=Na(),[a]=Gm(),{getCurrentOrganizationId:o}=ys(),{newToast:l}=Fa(),{user:c}=xs(),u=Xo();return{openJobTab:d.useCallback(async(f,m)=>{try{const h=s(f);if(h){n(h.id);return}const x=await a(f);if("error"in x){l.error(x?.error?.error||"Failed to fetch job details");return}const y=x.data;if(!y||!y.payload.task||!(y.payload.container_id||y.id))return;const g=y.id,b=`/root/runs/${y.id}/trajectory.json`;let w=null;y.payload.forked_from?w={parent_job_id:y.payload.forked_from,parent_job_title:null}:y.payload.forked?.parent_job_id&&(w=y.payload.forked);const N=c?.id,j=y.created_by,_=o(),C=y.organization_id||y.payload?.organization_id,F=_&&C&&_===C,S=m||y._openedInAdminMode||u&&N&&j&&N!==j&&!F,M=y.organization_id||y.payload?.organization_id,k={containerId:y.payload.container_id||y.id,initial_commit_id:y.payload.initial_commit_id,task:y.payload.task,jobId:f,trajPath:b,tabId:g,fromJobList:!0,isCloudFlow:y.payload?.is_cloud,clientRefId:y.client_ref_id,modelName:y.payload.model_name,promptName:y.payload.prompt_name,promptVersion:y.payload.prompt_version,costLimit:y.payload.per_instance_cost_limit,agentName:y.payload.agent_name,portMapping:y.payload.portMapping,created_by:y.created_by,forked:w,isAdminModeJob:S,originalOrganizationId:S?M:void 0,originalOrganizationName:S?y.organization_name||y.payload?.organization_name:void 0};let I,D,P,R;S?(I="user",D=void 0,R=void 0,P="/chat"):(I=M?"organization":"user",D=C||_,R=y.organization_name||y.payload?.organization_name,P=D?`/workspace/${D}/chat`:"/chat"),e(B=>[...B,{id:g,title:`${y.payload?.original_task||y.payload.task}`,tabHeading:y.title||"Task",path:P,level:I,organization_id:D,organization_name:R,created_by:y.created_by,state:k}]),r(g,k),n(g),i(`${P}?id=${f}`)}catch{}},[e,n,s,i,o,c,l,a,r,u])}},x3e=W.common.refresh,g3e=W.fork.dropdownCyan,XE=W.icons.animatedSpinner,$l=W.fork.matrixCode,b3e=W.fork.firstState,y3e=W.fork.completed,QE=W.fork.forkFill,v3e=W.fork.forkRed,eS=W.fork.session,tS=W.fork.summary,nS=W.fork.forkedFrom,$u=new Map,w3e=()=>{if($u.size>100){const e=Array.from($u.entries());$u.clear(),e.slice(-50).forEach(([n,s])=>$u.set(n,s))}},ix=d.memo(({isDropdownOpen:e,setIsDropdownOpen:n,state:s,message:r,forked:i,showcase:a,onViewSummary:o,currentJobId:l,messages:c=[],onOpenForkModal:u,onOpenForkModalWithSummary:p,disabled:f,isLastMessage:m})=>{const{openJobTab:h}=B8(),{newToast:x}=Fa(),[y,v]=d.useState(0),[g,b]=d.useState(0),w=d.useRef(null),N=d.useRef([]),j=[{pending:"Initializing fork process...",running:"Initializing fork process...",completed:"Fork process initialized"},{pending:"Copying project files...",running:"Copying project files...",completed:"Project files copied"},{pending:"Setting up workspace...",running:"Setting up workspace...",completed:"Workspace ready"},{pending:"Finalizing environment...",running:"Finalizing environment...",completed:"Environment finalized"}],_=I=>I<g?"completed":I===g?"running":"pending",C=I=>{const D=_(I);return j[I][D]},F=()=>{const I=[];let D=0;for(let P=0;P<j.length;P++){const R=Math.floor(Math.random()*10)+10;D+=R,I.push(D)}return I};d.useEffect(()=>{const I=r?.forked_job_id||r?.forked_from;return s==="running"&&(!r||!I)&&r?.timestamp?(N.current.length===0&&(N.current=F()),w.current&&clearInterval(w.current),w.current=setInterval(()=>{const P=new Date,R=new Date(r.timestamp),B=Math.floor((P.getTime()-R.getTime())/1e3);v(B);let U=0;for(let H=0;H<N.current.length&&B>=N.current[H];H++)U=H+1;b(Math.min(U,j.length-1))},1e3)):(w.current&&(clearInterval(w.current),w.current=null),s!=="running"&&(v(0),b(0),N.current=[])),()=>{w.current&&clearInterval(w.current)}},[s,r?.forked_job_id,r?.forked_from,r?.timestamp,j.length]),d.useEffect(()=>{const I=`${l}-${r?.timestamp}`;if(!I||!l||!r?.timestamp)return;const D=$u.get(I)||{lastState:null,hasTransitionedToCompleted:!1,autoOpened:!1},P={...D,lastState:s};D.lastState==="running"&&s==="completed"&&(P.hasTransitionedToCompleted=!0);const R=r?.forked_job_id||r?.forked_from;s==="completed"&&R&&r.fork_status!=="failed"&&m&&P.hasTransitionedToCompleted&&!P.autoOpened&&(P.autoOpened=!0,w3e(),h(R)),$u.set(I,P)},[s,r?.forked_job_id,r?.forked_from,r?.fork_status,r?.timestamp,l,m,h]);const E=I=>{const D=Math.floor(I/60),P=I%60;return D>0?`${D}m ${P}s`:`${P}s`},S=async()=>{const I=r?.forked_job_id||r?.forked_from;I&&await h(I)},M=async()=>{let I=null;i?.parent_job_id?I=i.parent_job_id:r?.parent_job_id?I=r.parent_job_id:i?.forked_from&&(I=i.forked_from),z(vD.PREVIOUS_SESSION_CLICKED,{currentJobId:l,parentJobId:I,parentJobTitle:i?.parent_job_title,parentJobArchived:i?.parent_job_archived,state:s}),I&&await h(I)},k=async()=>{if(!p){o?.();return}let I;if(s==="forked"&&l?I=l:r?.forked_job_id?I=r.forked_job_id:r?.forked_from?I=r.forked_from:l&&(I=l),I)try{const D=await yt.viewSummary(I);p(I,D.summary||"")}catch(D){x.error(D?.response?.data?.detail||D?.message||"Failed to fetch job details",4e3)}};if(s=="running")return t.jsx("div",{className:"relative flex items-center justify-center w-full mb-[2rem]",children:t.jsxs(xe.div,{className:"mt-[1rem] relative flex justify-center px-4 items-center w-full overflow-hidden bg-[#80fff908]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[t.jsxs("div",{className:"absolute flex overflow-hidden top-0 bottom-0 left-0 right-0 w-full opacity-20 h-[280px]",children:[t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px]"}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] "}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] "}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px]"}),t.jsx("img",{src:$l,alt:"Matrix Code",className:"object-cover h-[280px] rotate-180"})]}),t.jsxs(xe.div,{className:"w-full max-w-4xl z-[10] flex flex-col gap-[10px] justify-center py-[20px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:[t.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",onClick:()=>n(!e),children:[t.jsxs("div",{className:"flex justify-start items-center max-md:flex-col max-md:items-center gap-1 md:gap-2 z-[10]",children:[t.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity hover:opacity-80",children:[t.jsx(xe.img,{src:g3e,alt:"Dropdown",className:"w-6 h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),t.jsx("span",{className:"text-[#80FFF9] text-left max-md:text-[14px] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Forking a new session"})]}),t.jsxs(xe.span,{className:"text-[#80FFF980] max-md:text-[13px] text-[14px] font-jetbrains font-medium",animate:{opacity:e?0:1,x:e?-10:0},transition:{duration:.3,ease:[.25,.1,.25,1]},children:[" ",g<j.length?C(g):"Finalizing..."]})]}),t.jsxs("div",{className:"flex items-center gap-4 z-[10]",children:[t.jsx("span",{className:"text-[#80FFF980] font-jetbrains font-medium text-[14px]",children:E(y)}),t.jsx("div",{className:"flex items-center gap-2 bg-[#80FFF91A] rounded-[10px] h-8 w-8 justify-center",children:t.jsx("img",{src:XE,alt:"Loading",className:"w-6 h-6"})})]})]}),t.jsx(ns,{children:e&&t.jsx(xe.div,{className:"flex flex-col gap-[10px] z-[10]",initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.4,ease:[.25,.1,.25,1]},children:j.map((I,D)=>{const P=_(D),R=C(D);return t.jsxs(xe.div,{className:A("flex items-center gap-2 transition-colors rounded-md",P==="pending"?"opacity-50":P==="completed"?"opacity-75":""),initial:{opacity:0,x:-20},animate:{opacity:P==="pending"?.5:P==="completed"?.75:1,x:0},transition:{duration:.3,delay:D*.1,ease:[.25,.1,.25,1]},children:[t.jsx("img",{src:P==="completed"?y3e:P==="running"?XE:b3e,alt:"Step",className:"w-6 h-6"}),t.jsx("span",{className:A("text-[14px] font-jetbrains font-medium drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]","text-[#80FFF9]"),children:R})]},D)})})})]})]})});if(s=="completed")return t.jsx("div",{className:"relative flex items-center justify-center w-full",children:t.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:t.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("img",{src:QE,alt:"Dropdown",className:"w-6 h-6 transition-transform duration-200}"}),t.jsx("span",{className:"text-[#80FFF9] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Session forked successfully"})]})}),t.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[t.jsx("button",{title:"View Summary",className:"group h-[32px] flex items-center justify-center hover:cursor-pointer py-2 px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",onClick:k,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:tS,className:"w-5 h-5"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})}),t.jsx("button",{title:"View Session",className:"group h-[32px] py-2 flex items-center justify-center hover:cursor-pointer px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",children:t.jsxs("div",{className:"flex items-center gap-2",onClick:S,children:[t.jsx("img",{alt:"preview",src:eS,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"View Session"})]})})]})]})})})});if(s=="error")return t.jsx("div",{className:"relative flex items-center justify-center w-full",children:t.jsx("div",{className:"mt-[1rem] bg-gradient-to-r px-4 from-[#FF808001] via-[#FF808015] to-[#FF808001] relative flex justify-center items-center w-full transition-all duration-300 overflow-hidden",children:t.jsx("div",{className:"w-full max-w-4xl z-[10] flex flex-col transition-all duration-300  min-h-[72px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsxs("button",{type:"button",className:"flex items-center gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("img",{src:v3e,alt:"Dropdown",className:"w-6 h-6 scale-[2] transition-transform duration-200}"}),t.jsx("span",{className:"text-[#FF8080] font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Failed to fork session"})]})}),t.jsx("div",{className:"flex items-center gap-2 z-[10]",children:t.jsx(Vt,{variant:"default",disabled:f,className:"group h-[32px] py-2 px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-[#FFFFFF]/20 transition-colors duration-200 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{l&&c&&u?.(l,c)},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:x3e,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#fff] md:block",children:"Retry Fork"})]})})})]})})})});if(s=="forked")return t.jsx("div",{className:"relative flex items-center justify-center w-full mt-4",children:t.jsx(xe.div,{className:"bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full overflow-hidden",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx(xe.div,{className:"w-full max-w-4xl z-[10] flex flex-col min-h-[72px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsxs("div",{className:"flex items-center justify-between w-full h-[72px]",children:[t.jsxs("div",{className:"flex items-center gap-2 z-[10] flex-1 min-w-0",children:[t.jsxs("button",{type:"button",className:"flex items-center flex-shrink-0 gap-3 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("div",{className:"md:w-[40px] md:h-[40px] flex items-center justify-center",children:t.jsx("img",{src:QE,alt:"Dropdown",className:"w-5 h-5 md:w-8 md:h-8"})}),t.jsx("span",{className:"text-[#80FFF9] max-md:text-[14px]  text-nowrap font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Forked from"})]}),t.jsxs("button",{type:"button",className:"flex items-center flex-1 min-w-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx(xe.img,{src:nS,alt:"Dropdown",className:"flex-shrink-0 w-4 h-4 md:w-6 md:h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),t.jsx("span",{className:A("text-[#fff] max-md:text-[14px] font-medium capitalize tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)] truncate flex-1 min-w-0 text-start",i?.parent_job_archived&&"opacity-60"),children:i?.parent_job_archived?"(Deleted task)":i?.parent_job_title})]})]}),t.jsxs("div",{className:"flex items-center gap-2 z-[10]",children:[t.jsx("button",{className:"group h-[32px] py-2 flex items-center justify-center px-[10px] bg-[#FFFFFF1A] rounded-[8px] hover:bg-white/20 transition-colors duration-200",onClick:k,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:tS,className:"w-5 h-5"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#FFFFFF] md:block",children:"View Summary"})]})}),t.jsx("button",{id:"previous-session-button",className:"group h-[32px] flex items-center justify-center cursor-pointer py-2 px-[10px] bg-[#80FFF91A] rounded-[8px] hover:bg-[#80FFF9]/20 transition-colors duration-200",onClick:M,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{alt:"preview",src:eS,className:"w-4 h-4"}),t.jsx("span",{className:"hidden text-[15px] font-medium font-['Inter'] text-[#80FFF9] md:block",children:"Previous Session"})]})})]})]})})})});if(s=="remixed")return t.jsx("div",{className:"relative flex items-center justify-center w-full mt-4",children:t.jsx(xe.div,{className:"bg-gradient-to-r px-4 from-[#80FFF901] via-[#80FFF915] to-[#80FFF901] relative flex justify-center items-center w-full overflow-hidden",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx(xe.div,{className:"w-full max-w-4xl z-[10] flex flex-col min-h-[72px]",animate:{minHeight:e?"180px":"72px"},transition:{duration:.4,ease:[.25,.1,.25,1]},children:t.jsx("div",{className:"flex items-center justify-between w-full h-[72px]",children:t.jsxs("div",{className:"flex items-center gap-2 z-[10] flex-1 min-w-0",children:[t.jsxs("button",{type:"button",className:"flex items-center flex-shrink-0 gap-3 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx("div",{className:"md:w-[40px] md:h-[40px] flex items-center justify-center",children:t.jsx(dg,{color:"#80FFF9"})}),t.jsx("span",{className:"text-[#80FFF9] max-md:text-[14px]  text-nowrap font-medium tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)]",children:"Remixed from"})]}),t.jsxs("button",{type:"button",className:"flex items-center flex-1 min-w-0 gap-2 transition-opacity pointer-events-none hover:opacity-80",children:[t.jsx(xe.img,{src:nS,alt:"Dropdown",className:"flex-shrink-0 w-4 h-4 md:w-6 md:h-6",animate:{rotate:e?90:0},transition:{duration:.3,ease:[.25,.1,.25,1]}}),t.jsx("span",{className:A("text-[#fff] max-md:text-[14px] font-medium capitalize tracking-[0.2px] drop-shadow-[0px_0px_40px_rgba(128,255,249,0.4)] truncate flex-1 min-w-0 text-start",i?.parent_job_archived&&"opacity-60"),children:a?.title})]})]})})})})})},(e,n)=>!(e.state!==n.state||e.isDropdownOpen!==n.isDropdownOpen||e.disabled!==n.disabled||e.isLastMessage!==n.isLastMessage||e.currentJobId!==n.currentJobId||e.message?.id!==n.message?.id||e.message?.fork_status!==n.message?.fork_status||e.message?.forked_job_id!==n.message?.forked_job_id||e.message?.forked_from!==n.message?.forked_from||e.forked?.parent_job_id!==n.forked?.parent_job_id||e.messages?.length!==n.messages?.length));ix.displayName="ForkBar";function C3e({progress:e=.55,className:n="",debug:s=!1,boxClassname:r=""}){const i=d.useRef(null),[a,o]=d.useState(10),[l,c]=d.useState(Math.max(.05,e)),[u,p]=d.useState(0),[f,m]=d.useState(!0),h=d.useRef(Math.max(.05,e)),x=d.useRef(null);d.useEffect(()=>{},[]),d.useEffect(()=>{const v=e<=.1&&h.current>.1;if(!v&&e<=h.current)return;if(v){h.current=Math.max(.05,e),c(Math.max(.05,e));return}const g=h.current,b=e,w=800,N=performance.now();x.current&&cancelAnimationFrame(x.current);const j=_=>{const C=_-N,F=Math.min(C/w,1),E=1-(1-F)*(1-F),S=g+(b-g)*E;h.current=S,c(S),F<1?x.current=requestAnimationFrame(j):x.current=null};return x.current=requestAnimationFrame(j),()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)}},[e,l,s]),d.useEffect(()=>{const v=()=>{if(!i.current)return;const w=i.current.offsetWidth;p(w);const N=window.innerWidth<768;m(N),o(N?10:14)};v();const g=new ResizeObserver(()=>{v()});i.current&&g.observe(i.current),window.addEventListener("resize",v);const b=setTimeout(v,100);return()=>{g.disconnect(),window.removeEventListener("resize",v),clearTimeout(b)}},[s]);const y=Math.round(a*l);return t.jsx("div",{ref:i,className:`md:w-full p-0 md:py-0 ${n}`,children:t.jsx("div",{className:"flex gap-2",children:[...Array(a)].map((v,g)=>t.jsx("div",{className:A("bg-[#142C33] p-[2px] rounded-[2px] h-[40px] w-[24px]",r),children:t.jsx("div",{className:A("h-full w-full  rounded-[2px] flex items-center box-radial justify-center transition-colors duration-300 ease-out",g<y?"loader-glow":""),style:{backgroundColor:g<y?"var(--loader-color, #1BB4CC)":"transparent"}})},g))})})}const _3e=W.icons.animatedSpinner;function j3e({tasks:e,className:n=""}){const s=i=>{switch(i){case"done":return t.jsx(Mn,{className:"w-5 h-5 text-task-done"});case"running":return t.jsx("img",{src:_3e,className:"w-5 h-5",alt:"Loading..."});case"pending":return t.jsx("div",{className:"w-5 h-5 border-2 rounded-full opacity-50 border-task-pending"})}},r=i=>{switch(i){case"done":return"text-task-done";case"running":return"text-task-running";case"pending":return"text-task-pending opacity-50"}};return t.jsx("div",{className:`space-y-4 ${n}`,children:e.map(i=>t.jsxs("div",{className:"flex items-center space-x-3",children:[s(i.status),t.jsx("span",{className:`font-jetbrains text-[14px]  md:text-base ${r(i.status)}`,children:i.label})]},i.id))})}const N3e=[{id:"cloud-setup",label:"Initializing cloud environment",status:"pending"},{id:"cloud-provision",label:"Provisioning resources",status:"pending"},{id:"cloud-configure",label:"Configuring environment",status:"pending"},{id:"cloud-start",label:"Starting the agent",status:"pending"}];function F3e({complete:e=!1,onComplete:n}){const[s,r]=d.useState(N3e),[i,a]=d.useState(0),[o,l]=d.useState(14),[c,u]=d.useState(14),[p,f]=d.useState(24),[m,h]=d.useState(40),[x,y]=d.useState(8),v=d.useRef(null),g=d.useRef(0),b=d.useRef(.05),w=d.useRef(0),N=d.useRef(0),j=d.useRef(0),_=d.useRef(90),C=d.useRef(!1),F=d.useRef(!1);d.useEffect(()=>{const I=()=>{window.innerWidth<768?(l(12),u(12),f(18),h(32),y(6)):(l(14),u(14),f(24),h(40),y(8))};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]);const E=d.useCallback((I,D)=>{r(P=>P.map(B=>B.id===I?{...B,status:D}:B))},[]),S=[{id:"cloud-setup",label:"Initializing cloud environment",progressPoints:[.05,.08,.12,.17,.22,.25],minDuration:800,maxDuration:1200},{id:"cloud-provision",label:"Provisioning resources",progressPoints:[.25,.29,.34,.38,.42,.45],minDuration:800,maxDuration:1200},{id:"cloud-configure",label:"Configuring environment",progressPoints:[.45,.51,.58,.63,.67,.7,.73,.76,.79,.82,.85,.88,.9],minDuration:600,maxDuration:1e3},{id:"cloud-start",label:"Starting the agent",progressPoints:[.9,.92,.94,.95],minDuration:0,maxDuration:0}],M=(I,D)=>Math.floor(I+Math.random()*(D-I)),k=d.useCallback(()=>{_.current=65+Math.floor(Math.random()*26),w.current=Date.now(),j.current=Date.now()+Math.floor(200+Math.random()*400);const I=()=>{if(F.current)return;const R=Date.now(),B=S[g.current],U=_.current/100;if(b.current>=U){C.current=!0;const $=1e3+Math.random()*1e3;v.current=setTimeout(()=>{const q=Math.min(U+.02,b.current+.01);b.current=q,a(q),setTimeout(()=>{F.current||(b.current=U,a(U),v.current=setTimeout(I,$))},500)},$);return}const H=R-w.current;if(R>=j.current){const $=B.progressPoints;if(N.current<$.length-1){N.current++;const q=$[N.current];b.current=q,a(q);const Q=Math.floor(300+Math.random()*500);j.current=R+Q}else{const q=M(B.minDuration,B.maxDuration);if(H>=q){if(E(B.id,"done"),g.current+=1,N.current=0,w.current=R,g.current<S.length){const Q=S[g.current];E(Q.id,"running");const V=Q.progressPoints[0];b.current=V,a(V);const ee=Math.floor(300+Math.random()*500);j.current=R+ee}}else j.current=R+200}}v.current=setTimeout(I,100)},D=S[0];E(D.id,"running");const P=D.progressPoints[0];b.current=P,a(P),I()},[E]);return d.useEffect(()=>{if(e&&!F.current){F.current=!0,C.current=!1;const I=P=>{if(P>=S.length){setTimeout(()=>{D()},800);return}const R=S[P],B=(P+1)/S.length,U=Math.min(B*.95,.95);if(P<=g.current)E(R.id,"done"),b.current=U,a(U),setTimeout(()=>{I(P+1)},300);else{E(R.id,"running");const H=U-.05;b.current=H,a(H),setTimeout(()=>{E(R.id,"done"),b.current=U,a(U),setTimeout(()=>{I(P+1)},300)},600)}},D=()=>{const P=b.current,R=1,B=1500,U=Date.now(),H=()=>{const $=Date.now()-U,q=Math.min($/B,1),Q=1-(1-q)*(1-q),V=P+(R-P)*Q;b.current=V,a(V),q<1?requestAnimationFrame(H):n&&setTimeout(()=>{n()},500)};requestAnimationFrame(H)};setTimeout(()=>{I(g.current)},500)}},[e,E,n]),d.useEffect(()=>{const I=setTimeout(()=>{k()},1e3);return()=>{clearTimeout(I),v.current&&clearTimeout(v.current)}},[k]),t.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-lg min-h-screen p-4 mx-auto my-auto space-y-4 md:space-y-10",children:t.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-10",children:[t.jsxs("div",{className:"space-y-1 text-left md:w-full md:space-y-3",children:[t.jsx("h1",{className:"font-sans text-[22px] md:text-[32px] font-medium leading-[40px] tracking-[-0.64px] text-loader",children:"Setting Up Safe Environment"}),t.jsx("p",{className:"font-jetbrains text-[14px] md:text-base text-[#DDDDE6]/50 text-left",children:"// This usually takes around 1-2 mins"})]}),t.jsx(C3e,{boxWidth:p,boxHeight:m,gapWidth:x,progress:i,className:"md:w-full",minBoxes:o,maxBoxes:c}),t.jsx(j3e,{tasks:s,className:"md:w-full"})]})})}function sS({width:e=24,height:n=24,x:s=0,y:r=0,cx:i=1,cy:a=.5,cr:o=.5,className:l,...c}){const u=d.useId();return t.jsxs("svg",{"aria-hidden":"true",className:A("pointer-events-none absolute inset-0 h-full w-full fill-slate-500/50 md:fill-slate-500/70",l),...c,children:[t.jsx("defs",{children:t.jsx("pattern",{id:u,width:e,height:n,patternUnits:"userSpaceOnUse",patternContentUnits:"userSpaceOnUse",x:s,y:r,children:t.jsx("circle",{id:"pattern-circle",cx:i,cy:a,r:o})})}),t.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:`url(#${u})`})]})}const E3e=({size:e=20,color:n="#898F99",className:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("path",{d:"M4.17188 4.9974C4.17188 4.77638 4.25967 4.56442 4.41595 4.40814C4.57223 4.25186 4.78419 4.16406 5.00521 4.16406H15.0052C15.2262 4.16406 15.4382 4.25186 15.5945 4.40814C15.7507 4.56442 15.8385 4.77638 15.8385 4.9974V14.9974C15.8385 15.2184 15.7507 15.4304 15.5945 15.5867C15.4382 15.7429 15.2262 15.8307 15.0052 15.8307H5.00521C4.78419 15.8307 4.57223 15.7429 4.41595 15.5867C4.25967 15.4304 4.17188 15.2184 4.17188 14.9974V4.9974Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M7.5 7.5H12.5V12.5H7.5V7.5Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.5 8.33594H4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M2.5 11.6641H4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8.32812 2.5V4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.6719 2.5V4.16667",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4948 8.33594H15.8281",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M17.4948 11.6641H15.8281",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M11.6719 17.5026V15.8359",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8.32812 17.5026V15.8359",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),S3e=({size:e=20,className:n="",circleColor:s="#80FFF9",checkColor:r="#18181A"})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("circle",{cx:"12",cy:"12",r:"12",fill:s}),t.jsx("path",{d:"M15.7155 9C15.8953 9 16.0623 9.03211 16.2164 9.09634C16.3706 9.16057 16.5076 9.25262 16.6275 9.37251C16.7474 9.4924 16.8373 9.62727 16.8972 9.77714C16.9572 9.927 16.9914 10.0961 17 10.2845C17 10.4558 16.9679 10.6206 16.9037 10.7791C16.8394 10.9375 16.7474 11.0766 16.6275 11.1965L11.5279 16.3025C11.408 16.4224 11.2689 16.5145 11.1105 16.5787C10.952 16.6429 10.7872 16.6772 10.6159 16.6814C10.4447 16.6814 10.2798 16.6493 10.1214 16.5851C9.96296 16.5209 9.82381 16.4267 9.70392 16.3025L7.37893 13.9775C7.25905 13.8576 7.16699 13.7185 7.10276 13.5601C7.03854 13.4016 7.00428 13.2368 7 13.0655C7 12.8857 7.03425 12.7187 7.10276 12.5645C7.17127 12.4104 7.26333 12.2734 7.37893 12.1535C7.49454 12.0336 7.62942 11.9437 7.78356 11.8838C7.9377 11.8238 8.10683 11.7896 8.29094 11.781C8.46221 11.781 8.62706 11.8131 8.78548 11.8773C8.94391 11.9416 9.08307 12.0336 9.20295 12.1535L10.6159 13.5665L14.8035 9.37251C14.9234 9.25262 15.0625 9.16057 15.2209 9.09634C15.3794 9.03211 15.5442 9 15.7155 9Z",fill:r})]}),rS=({isSelected:e,onClick:n,title:s,subtitle:r,description:i,className:a})=>t.jsxs("div",{onClick:n,className:A("flex flex-col p-5 gap-4 md:gap-8   rounded-[12px] border cursor-pointer transition-all duration-200",e?"border-[#80FFF933]":"border-[#FFFFFF1F] hover:border-[#ffffff]/20",a),style:e?{background:"linear-gradient(180deg, rgba(128, 255, 249, 0.04) 0%, rgba(128, 255, 249, 0) 100%)"}:void 0,children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:A("text-[#FFFFFF] font-inter text-[16px] font-medium",e&&"text-[#80FFF9]"),children:s}),t.jsx("div",{className:A("text-[#FFFFFF]/50 text-[16px] font-inter font-medium capitalize",e&&"text-white"),children:r})]}),e?t.jsx(S3e,{size:24}):t.jsx("div",{className:"w-6 h-6 rounded-full border-[1px] border-[#666666]"})]}),t.jsx("p",{className:"text-[#FFFFFF]/40 text-[14px] font-inter font-medium leading-[22px]",children:i})]}),k3e=({size:e=24,className:n="",fill:s="#0E0E0F"})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:t.jsx("path",{d:"M17.4016 2.39844C19.0584 2.39844 20.4016 3.74159 20.4016 5.39844C20.4016 6.74163 19.5186 7.87779 18.3016 8.26016V9.59844C18.3016 11.421 16.8241 12.8984 15.0016 12.8984H12.9016V15.7356C14.1187 16.1178 15.0016 17.2552 15.0016 18.5984C15.0016 20.2553 13.6584 21.5984 12.0016 21.5984C10.3447 21.5984 9.00156 20.2553 9.00156 18.5984C9.00156 17.2552 9.88439 16.1178 11.1016 15.7356V12.8984H9.00156C7.17903 12.8984 5.70156 11.421 5.70156 9.59844V8.26016C4.48457 7.87779 3.60156 6.74163 3.60156 5.39844C3.60156 3.74159 4.94471 2.39844 6.60156 2.39844C8.25841 2.39844 9.60156 3.74159 9.60156 5.39844C9.60156 6.74163 8.71855 7.87779 7.50156 8.26016V9.59844C7.50156 10.4269 8.17313 11.0984 9.00156 11.0984H15.0016C15.83 11.0984 16.5016 10.4269 16.5016 9.59844V8.26016C15.2845 7.87779 14.4016 6.74163 14.4016 5.39844C14.4016 3.74159 15.7447 2.39844 17.4016 2.39844ZM12.0016 17.3984C11.3388 17.3984 10.8016 17.9357 10.8016 18.5984C10.8016 19.2612 11.3388 19.7984 12.0016 19.7984C12.6643 19.7984 13.2016 19.2612 13.2016 18.5984C13.2016 17.9357 12.6643 17.3984 12.0016 17.3984ZM6.60156 4.19844C5.93883 4.19844 5.40156 4.7357 5.40156 5.39844C5.40156 6.06117 5.93883 6.59844 6.60156 6.59844C7.2643 6.59844 7.80156 6.06117 7.80156 5.39844C7.80156 4.7357 7.2643 4.19844 6.60156 4.19844ZM17.4016 4.19844C16.7388 4.19844 16.2016 4.7357 16.2016 5.39844C16.2016 6.06117 16.7388 6.59844 17.4016 6.59844C18.0643 6.59844 18.6016 6.06117 18.6016 5.39844C18.6016 4.7357 18.0643 4.19844 17.4016 4.19844Z",fill:s})}),T3e=W.fork.fork,I3e=W.fork.dollarCyan,A3e=W.fork.paceCyan,D3e=W.fork.likeCyan,iS=W.fork.summary,M3e=W.fork.summaryCyan,_u=W.fork.matrixCode,L3e=W.fork.editNote,R3e=[{title:"Context preserved",description:"All important context preserved in summary",icon:D3e},{title:"Memory refreshed",description:"Fresh context window with clean slate for new tasks",icon:A3e},{title:"Spend less",description:"Refreshed memory means lower token costs",icon:I3e}],aS=e=>{if(!e)return[];const n=[],s=/<(\w+)>([\s\S]*?)<\/\1>/g;let r;for(;(r=s.exec(e))!==null;){const[,i,a]=r;n.push({tagName:i,content:a.replace(/^\n+|\n+$/g,"")})}return n},P3e=({count:e})=>{const n=[`Analyzing ${e} Messages`,"Extracting feature requirements","Processing code changes","Summarizing development phases","Reviewing testing protocols"],[s,r]=d.useState(0),[i,a]=d.useState("forward");return d.useEffect(()=>{const o=setInterval(()=>{r(l=>i==="forward"?l===n.length-1?(a("backward"),l-1):l+1:l===0?(a("forward"),l+1):l-1)},2e3);return()=>clearInterval(o)},[i]),t.jsx("div",{className:"absolute flex items-center justify-center w-full h-6 top-[5rem]",children:t.jsx(ns,{mode:"wait",children:t.jsx(xe.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5,ease:"easeInOut"},className:"text-[#80FFF980] text-[15px] text-nowrap font-jetbrains font-medium absolute",children:n[s]},s)})})},O3e={summary:"",analysis:"",product_requirements:"",key_technical_concepts:"",code_architecture:"",pending_tasks:"",current_work:"",optional_next_step:""},B3e=({isOpen:e,onOpenChange:n,onFork:s,jobId:r,messages:i=[],summaryData:a,appName:o,podIsPaused:l,startInSummaryMode:c=!1,userPromptId:u})=>{const[p,f]=d.useState(c?"summary":"fork"),[m,h]=d.useState(!1),[x,y]=d.useState(a),[v,g]=d.useState(a),[b,w]=d.useState(null),[N,j]=d.useState([]),[_,C]=d.useState("current"),[F,E]=d.useState(null),{totalBannerHeight:S}=Ea(),M=S+56,{isMobile:k}=ps(),{canAccessModel:I}=ni(),D=Er(),{config:P}=yc();d.useEffect(()=>{if(P?.model_list?.length&&P.model_list.length>0&&!F){const oe=P.model_list.find(pe=>I(pe.user_tier));oe&&E({name:oe.name,displayName:oe.display_name})}},[P,F,I]);const R=u,{data:B}=ZD(R||"",{skip:!R});d.useEffect(()=>{C(R?"current":"default")},[R]),d.useEffect(()=>{c&&a&&(f("summary"),y(a),g(a))},[c,a]);const[U,H]=d.useState(!1),$=d.useRef(null);d.useEffect(()=>{U&&l===!1&&!$.current&&($.current=setTimeout(()=>{n(!1),H(!1),f("fork"),$.current=null},4e3))},[U,l]),d.useEffect(()=>()=>{$.current&&(clearTimeout($.current),$.current=null)},[]);const q=async()=>{if(r){if(k&&i.length<=2){$s({title:"No chat history to fork",variant:"destructive"});return}z(vD.SUMMARIZATION_CLICKED,{jobId:r,messageCount:i.length,appName:o,isMobile:k}),f("summarizing");try{const oe=await yt.generateSummary(r);oe&&oe.summary&&(y(oe.summary),g(oe.summary)),f("review")}catch(oe){const pe=oe?.response?.data?.detail||"Failed to fork session. Please try again.";$s({title:"Fork Error",description:pe,variant:"destructive",duration:5e3}),f("fork")}}},Q=d.useMemo(()=>m&&N.length>0?N:aS(x||""),[x,m,N]),V=d.useMemo(()=>Q.some(oe=>oe.content&&oe.content.trim().length>0),[Q]),ee=d.useCallback((oe,pe)=>{j(se=>{const re=[...se];return re[oe]={...re[oe],content:pe},re})},[]),X=()=>{if(!x){$s({title:"Error",description:"No summary data provided",variant:"destructive"});return}f("agent-selection")},ae=async()=>{if(r){H(!0);try{if(!x){$s({title:"Error",description:"No summary data provided",variant:"destructive"});return}const oe={summary:x,use_custom_prompt:_==="current"&&!!R,model_name:F?.name||""};s?.(r,oe)}catch{f("agent-selection")}}},me=()=>m?"Please save or cancel your edits first":U?"Fork is being processed...":V?"":"Summary content is required to proceed";return e?t.jsx("div",{style:{height:`calc(100dvh - ${M}px)`},className:"absolute w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{className:A(" p-0 max-md:max-w-[95vw] bg-[#18181A] border border-[#242424] max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  rounded-[16px] font-['Inter'] overflow-hidden",p==="summarizing"?"border-[#80FFF91A]":"",p==="summarizing"?"bg-gradient-to-b from-[#131314] via-[#13131400] to-[#131314]":""),onClick:oe=>oe.stopPropagation(),children:[p=="fork"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex max-md:min-w-[95vw] max-md: md:max-w-[740px] md:min-h-[528px] flex-col  h-full flex-1  pb-0 md:pb-0",children:[t.jsxs("div",{className:"flex justify-between md:gap-[10px] flex-col p-4 md:p-8 md:pb-0 pb-0",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[t.jsx("h2",{className:"text-[18px] hidden md:block md:text-[22px] font-medium text-white",children:"Fork this session with a summary"}),t.jsx("h2",{className:"text-[18px] md:hidden md:text-[22px] font-medium text-white",children:"Fork this session"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[16px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Continue your work in a new conversation while keeping the important context from this session, perfect for continuing complex projects without losing progress."})]}),t.jsx("div",{className:"grid gap-2 p-4 md:gap-4 md:grid-cols-3 md:px-8 md:py-6",children:R3e.map((oe,pe)=>t.jsxs("div",{className:"flex md:flex-col rounded-[8px] p-4 md:py-6 items-start w-full text-center bg-[#80FFF90A] gap-3 md:gap-[3rem]",children:[t.jsx("img",{src:oe.icon,alt:oe.title,className:"w-6 h-6"}),t.jsxs("div",{className:"flex flex-col items-start w-full gap-[4px] md:gap-[6px]",children:[t.jsx("h3",{className:"text-[16px] md:text-[16px] text-[#80FFF9] font-medium",children:oe.title}),t.jsx("p",{className:"text-[13px] md:text-[14px] font-[500] text-start text-[#80FFF966] font-['Inter']",children:oe.description})]})]},pe))}),t.jsxs("div",{className:"flex mt-auto sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t bg-[#18181A] border-[#242424]",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-6 py-2 h-[40px] md:h-[48px] bg-transparent border border-[#333333] text-[#DCDCE5] hover:bg-[#FFFFFF0A] hover:border-[#444444] rounded-full font-[500] text-[16px]",children:"Cancel"}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:q,disabled:!k&&i.length<=2,className:"max-md:px-4 px-6 text-nowrap py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[14px] max-md:font-semibold  md:text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("img",{src:iS,alt:"Fork",className:"w-6 h-6 invert"}),t.jsx("span",{className:"hidden md:block",children:"Proceed to Summarization"}),t.jsx("span",{className:"block md:hidden",children:"Summarize"})]})}),i.length<=2&&t.jsx(Xs,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:"No chat history to fork"})]})})]})]})}),p=="summarizing"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"relative flex flex-col items-center justify-center flex-1 z-[2] max-md:min-h-[calc(100dvh-72px)] max-w-[600px] max-md:min-w-[95vw] md:max-h-[700px] md:h-[70dvh] md:max-w-[740px] md:min-w-[740px] gap-[2rem] md:gap-[4rem] bg-[#80fff908]",children:[t.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.2] overflow-hidden",children:[t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:_u,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),t.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-[10] ",children:[t.jsxs("div",{className:"relative radial-bg flex items-center space-x-3 bg-[#80FFF9]/10 backdrop-blur-sm p-2 px-4 rounded-lg ",children:[t.jsx("p",{className:"text-[#80FFF9] text-[16px] text-nowrap font-medium",children:"Generating Summary"}),t.jsx(xo,{size:"20",speed:"1.75",color:"#80FFF9"})]}),t.jsx(P3e,{count:i.length})]}),t.jsxs("div",{onClick:()=>{f("fork"),n(!1)},className:" absolute bottom-[3rem]  font-medium cursor-pointer rounded-[28px] radial-bg-white backdrop-blur-xl z-[49] items-center px-4 py-[10px] flex gap-2",children:[t.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5"}),t.jsx("span",{className:"max-md:text-[14px]",children:"Cancel Generation"})]})]})}),p=="review"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[85dvh] lg:max-h-[1056px] max-w-[inherit] z-[10]",children:[t.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A]",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Review Summary"}),!U&&t.jsx("button",{type:"button",onClick:()=>n(!1),className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[14px] font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Review the generated summary and make any edits before we fork the session."})]}),t.jsxs("div",{className:A("sticky top-0 z-[10] flex justify-between p-3 px-4 md:p-4  backdrop-blur-lg overflow-clip",m?"radial-bg-white":"radial-bg"),children:[t.jsx("div",{className:"flex justify-between w-[inherit] max-h-[32px] ",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:m?iS:M3e,alt:"Summarize",className:A("object-cover object-center w-5 h-5")}),t.jsx("span",{className:A("text-[#80FFF9] font-medium  max-md:hidden md:block  leading-[20px] text-[15px] tracking-[-0.2px]",m&&"text-[#FFFFFF]"),children:m?"Edit Summary":"Session Summary"}),t.jsx("span",{className:A("text-[#80FFF9] font-medium md:hidden leading-[20px] text-[15px] tracking-[-0.2px]",m&&"text-[#FFFFFF]"),children:m?"Edit":"Summary"})]})}),t.jsx("div",{className:"flex items-center gap-2 max-h-[32px]",children:m?t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>{y(v||""),j([]),h(!1)},className:"flex items-center max-h-[32px] bg-[#ffffff16] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#ffffff20] transition-colors",children:t.jsx("span",{className:"text-[#FFFFFF] text-[15px] font-medium text-nowrap",children:"Cancel"})}),t.jsx("button",{type:"button",onClick:()=>{const oe=N.map(pe=>`<${pe.tagName}>
${pe.content}
</${pe.tagName}>`).join(`
`);y(oe),j([]),h(!1)},className:"flex items-center max-h-[32px] bg-[#2EE572] gap-2 py-[6px] px-[12px] rounded-[6px] hover:bg-[#2EE572]/90 transition-colors",children:t.jsx("span",{className:"text-[#0F0F10] text-[15px] leading-[20px] tracking-[-0.2px] font-semibold text-nowrap",children:"Save Changes"})})]}):t.jsxs("button",{type:"button",disabled:U,onClick:()=>{g(x),j(aS(x||"")),h(!0)},className:"flex items-center min-w-[150px] bg-[#ffffff16] gap-2 py-[6px] px-[8px] rounded-[6px] hover:bg-[#ffffff20] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("img",{src:L3e,alt:"Edit",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#FFFFFF] text-[15px] leading-[20px] font-medium text-nowrap",children:"Edit Summary"})]})})]}),t.jsxs("div",{className:"flex flex-col h-full max-md:w-[calc(95vw)] md:max-w-[800px] md:min-w-[800px] relative overflow-hidden",children:[t.jsxs("div",{className:"flex z-[10] flex-col gap-5 p-3 md:p-6 md:pb-0 pb-0 max-h-[60dvh] overflow-y-scroll overflow-hidden w-full min-w-0",children:[t.jsxs("span",{className:A("text-[#FFFFFF] text-[22px] font-semibold capitalize",m&&"text-[#FFFFFF50]"),children:[o," - Project Analysis"]}),t.jsx("div",{className:"flex flex-col max-md:max-w-[calc(100vw - 10rem)] min-w-0 gap-4 mb-[120px]",children:Q.map((oe,pe)=>t.jsxs("div",{className:A("flex flex-col gap-2 bg-[#17181A] border rounded-[10px] p-1 transition-all duration-200 w-full min-w-0",b===pe?"border-[#80FFF950] shadow-[0_0_0_1px_#80FFF9] shadow-[#80FFF9]/20 bg-[#131314]":"border-[#242424]",m&&b!=pe&&"border-[#333333] bg-[#131314]"),children:[t.jsxs("div",{className:A("flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",m&&"opacity-50",b==pe&&"opacity-100"),children:[t.jsxs("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize",children:[t.jsxs("span",{className:"mr-2",children:[" ",O3e[oe.tagName]||""]}),oe.tagName.replaceAll("_"," ")]}),m&&t.jsxs("span",{className:"text-[14px] font-['Inter'] font-medium",children:[oe.content.length," characters"]})]}),t.jsx("div",{className:"p-3 pt-0 max-md:max-w-[calc(100vw - 10rem)] overflow-hidden ",children:m?t.jsx("textarea",{value:oe.content,onChange:se=>ee(pe,se.target.value),onFocus:()=>w(pe),onBlur:()=>w(null),onKeyDown:se=>{se.stopPropagation()},className:A("w-full h-auto leading-[1.8] font-['Inter'] bg-transparent border-0 rounded-[6px] placeholder:text-white/80 font-medium resize-none focus:outline-none transition-colors whitespace-pre-wrap text-[14px]",b==pe?"text-white":"text-white/80"),placeholder:"Enter content for this section...",spellCheck:!1,rows:Math.max(5,Math.ceil(oe.content.length/80)),style:{whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",lineHeight:"2"}}):t.jsx(gl,{children:oe.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:se,...re})=>t.jsx("p",{className:"font-medium break-words font-['Inter'] leading-[28px]",...re}),pre:({...se})=>t.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...se})}})})]},pe))})]}),t.jsx(sS,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]}),t.jsx("div",{className:"flex sticky bottom-0 justify-end gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:X,disabled:m||U||!V,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Approve & Continue",t.jsx("img",{src:T3e,alt:"Fork",className:"w-6 h-6 invert"})]})}),(m||U||!V)&&t.jsx(Xs,{className:"bg-[#1A1A1A] text-[#DDDDE6] border-[#333333]",children:me()})]})})})]})}),p=="agent-selection"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col max-md:max-h-[calc(100dvh-72px)] md:max-h-[80dvh]  md:h-[700px] md:w-[740px] flex-1 z-[10]",children:[t.jsxs("div",{className:"flex justify-between md:gap-[6px] flex-col md:p-6 md:pb-4 p-4 bg-[#18181A] border-b border-[#242424]",children:[t.jsxs("div",{className:"flex items-center justify-between md:gap-[6px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Configure New Chat"}),t.jsx("button",{type:"button",onClick:()=>n(!1),className:" max-md:absolute max-md:top-6 max-md:right-6 bg-[#FFFFFF05] backdrop-blur-lg rounded-[8px] w-8 h-8  md:w-10 md:h-10 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-[13px] md:text-[14px] text-wrap font-[400] md:leading-[24px] text-[#8A8F98] font-['Inter']",children:"Choose your agent, model, and other settings for your forked conversation."})]}),t.jsxs("div",{className:"flex flex-col justify-between flex-1  max-md:w-[calc(95vw)] w-full h-full relative overflow-hidden",children:[t.jsxs("div",{className:"flex z-[10] flex-col gap-6 p-4 md:p-6 overflow-y-auto",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bd,{primaryColor:"#898F99",color:"#898F99",opacity:1,size:20}),t.jsx("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:" Fork Agent"})]}),t.jsxs("div",{className:A("grid gap-4 md:gap-5 grid-col-1 md:grid-cols-2"),children:[R&&t.jsx(rS,{isSelected:_==="current",onClick:()=>C("current"),title:"Keep Current Agent",subtitle:B?.prompt_name?.replaceAll("_"," ")||"Custom Agent",description:"Continue using your custom agent, with Fork capabilities in the new chat. This will maintain your custom instructions and conversation style with fork capabilities."}),t.jsx(rS,{isSelected:_==="default",onClick:()=>C("default"),title:R?"Switch to Default Agent":"Use Default Agent",subtitle:"Emergent Fork Agent",description:"Use Emergent's optimized Fork Agent for continuing your task. Emergent Fork is best for coding, development and technical tasks."})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(E3e,{}),t.jsx("span",{className:"text-[#898F99] text-[14px] font-inter font-medium",children:"Select Model"})]}),t.jsxs(Op,{value:F?.name||"",onValueChange:oe=>{const pe=P?.model_list?.find(se=>se.name===oe);if(pe){if(!I(pe.user_tier)){D.open({triggerLocation:"oneMillionModal",shouldShowModelSelectorTooltipAfterClose:!0});return}E({name:pe.name,displayName:pe.display_name})}},children:[t.jsx(Kd,{className:"w-full p-3 min-h-[56px] bg-transparent border border-[#242424] rounded-[8px] text-[#C4C4CC] hover:border-[#242424] focus:border-[#242424] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 transition-colors data-[state=open]:border-[#242424]",children:t.jsx("div",{className:"flex items-center gap-2",children:F?t.jsx("span",{className:"text-[#C4C4CC]",children:F.displayName}):t.jsx(Bp,{placeholder:"Select a model",className:"text-[#C4C4CC] text-[14px]"})})}),t.jsx(Yd,{className:"bg-[#1A1A1A] border border-[#333333] rounded-[8px] shadow-lg",children:P?.model_list?.map(oe=>{const pe=oe.user_tier==="pro_mode";return t.jsx(fo,{value:oe.name,className:"text-[#C4C4CC] hover:bg-[#FFFFFF10] focus:bg-[#FFFFFF10] cursor-pointer",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx("span",{children:oe.display_name}),pe&&t.jsx("div",{className:"bg-[#FF8C661A] px-[6px] flex items-center justify-center rounded-[6px] h-[18px]",children:t.jsx("span",{className:"text-[#FF8C66] text-xs font-['Inter'] font-medium",children:"PRO"})})]})},oe.name)})||[]})]})]})]}),t.jsxs("div",{className:"flex sticky bottom-0 justify-between items-center gap-3 p-4 px-5 md:p-6 border-t border-[#242424] bg-[#18181A] z-[10]",children:[t.jsxs("button",{type:"button",onClick:()=>f("review"),className:"flex rounded-full max-md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[t.jsx(ga,{size:16}),"Back to Summary"]}),t.jsxs("button",{type:"button",onClick:()=>f("review"),className:"flex rounded-full md:hidden items-center gap-2 bg-[#222224] px-4 py-2 h-[40px] md:h-[48px] text-[#ACACB2]  transition-colors",children:[t.jsx(ga,{size:16}),"Back"]}),t.jsx("button",{type:"button",onClick:ae,disabled:U,className:"px-6 py-2 h-[40px] md:h-[48px] bg-white text-black hover:bg-gray-100 rounded-full font-[600] text-[16px] flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:U?t.jsxs(t.Fragment,{children:[t.jsx(xo,{size:"20",speed:"1.75",color:"#000"}),"Forking..."]}):t.jsxs("div",{className:"flex items-center gap-1",children:["Start Forking",t.jsx(k3e,{})]})})]})]})]})}),p=="summary"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex relative max-md:max-h-[calc(100dvh-72px)] md:min-w-[700px] flex-col max-w-[inherit] h-[70dvh] z-[10] mb-[24px]",children:[t.jsx("div",{className:"flex justify-between z-[10] md:gap-[10px] flex-col md:p-6 pb-2 md:pb-4 p-4 bg-[#18181A] border-[#242424] border-b",children:t.jsxs("div",{className:"flex items-center justify-between md:gap-[10px]",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white",children:"Session Summary"}),t.jsx("button",{type:"button",onClick:()=>{f("fork"),n(!1)},className:"w-6 h-6 flex items-center justify-center text-[#737780] hover:text-white transition-colors","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"flex relative overflow-hidden flex-col h-full gap-4 max-md:w-[calc(95vw)]",children:[t.jsx("div",{className:"flex flex-col w-full min-w-0 z-[10] gap-6 p-3 pt-6 overflow-hidden overflow-y-scroll md:p-6",children:t.jsx("div",{className:"flex flex-col w-full min-w-0 gap-4 mb-[40px]",children:Q.map((oe,pe)=>t.jsxs("div",{className:"flex flex-col bg-[#17181A] border-[#242424] border text-wrap min-w-0 rounded-[10px] p-1",children:[t.jsx("div",{className:"flex items-center justify-between p-3 px-4 gap-2 bg-[#FFFFFF0F] backdrop-blur-lg rounded-[8px]",children:t.jsx("span",{className:"text-[#FFFFFF] text-[16px] tracking-[-0.2px] font-medium capitalize leading-[20px]",children:oe.tagName.replaceAll("_"," ")})}),t.jsx("div",{className:"max-w-full p-3 px-4 overflow-hidden",children:t.jsx(gl,{children:oe.content||"No content available for this section.",variant:"compact",className:"break-words text-white/80 overflow-wrap-anywhere max-w-none",customComponents:{p:({node:se,...re})=>t.jsx("p",{className:"font-medium break-words text-wrap font-['Inter'] leading-[28px]",...re}),pre:({...se})=>t.jsx("pre",{className:"p-0 my-4 overflow-x-auto break-all bg-transparent rounded-md",...se})}})})]},pe))})}),t.jsx(sS,{cy:1,cr:1,width:20,height:20,x:10,y:25,cx:1,className:"fill-[#ffffff10] md:fill-[#ffffff10] absolute z-[1]"})]})]})})]})}):null},oS=(e,n)=>{if(n){const s=n.toLowerCase();if(s.endsWith(".pdf"))return"PDF";if(s.endsWith(".csv"))return"CSV";if(s.endsWith(".xls")||s.endsWith(".xlsx"))return"Excel";if(s.endsWith(".doc")||s.endsWith(".docx"))return"DOC";if(s.endsWith(".ppt")||s.endsWith(".pptx"))return"PPT";if(s.endsWith(".txt"))return"TXT";if(s.endsWith(".md"))return"Markdown";if(s.endsWith(".json"))return"JSON";if(s.endsWith(".xml"))return"XML";if(s.endsWith(".html")||s.endsWith(".htm"))return"HTML";if(s.endsWith(".css"))return"CSS";if(s.endsWith(".js")||s.endsWith(".jsx"))return"JS";if(s.endsWith(".ts")||s.endsWith(".tsx"))return"TS";if(s.endsWith(".py"))return"Python";if(s.endsWith(".java"))return"Java";if(s.endsWith(".cpp")||s.endsWith(".cc"))return"C++";if(s.endsWith(".c"))return"C";if(s.endsWith(".dmg"))return"DMG";if(s.endsWith(".zip")||s.endsWith(".rar")||s.endsWith(".7z"))return"Archive";if(s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov"))return"Video";if(s.endsWith(".mp3")||s.endsWith(".wav")||s.endsWith(".flac"))return"Audio";if(s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".png")||s.endsWith(".gif"))return"Image";if(s.endsWith(".svg"))return"SVG"}return e.includes("pdf")?"PDF":e.includes("csv")?"CSV":e.includes("excel")||e.includes("spreadsheet")?"Excel":e.includes("word")||e.includes("document")?"DOC":e.includes("powerpoint")||e.includes("presentation")?"PPT":e.includes("text")?"TXT":e.includes("image")?"Image":e.includes("video")?"Video":e.includes("audio")?"Audio":e.includes("zip")||e.includes("archive")||e.includes("compressed")?"Archive":e.includes("json")?"JSON":e.includes("xml")?"XML":e.includes("html")?"HTML":e.includes("css")?"CSS":e.includes("javascript")?"JS":e.includes("python")?"Python":""},JB=d.forwardRef(({className:e,checked:n,...s},r)=>t.jsx(uv,{className:A("peer relative inline-flex h-7 w-12 shrink-0 cursor-pointer items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed","bg-[#131314]","data-[state=unchecked]:opacity-50",e),checked:n,...s,ref:r,children:t.jsxs(vT,{className:A("pointer-events-none relative h-5 w-5 rounded-full transition-all duration-200 ease-in-out flex items-center justify-center","data-[state=checked]:translate-x-6 data-[state=unchecked]:translate-x-1","data-[state=checked]:bg-white data-[state=checked]:shadow-lg","data-[state=unchecked]:bg-white/10","data-[state=checked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=unchecked]:shadow-[0px_0.71px_1.77px_0px_rgba(0,0,0,0.36),0px_3px_3px_0px_rgba(0,0,0,0.31),0px_6.89px_4.24px_0px_rgba(0,0,0,0.18),0px_12.36px_4.94px_0px_rgba(0,0,0,0.05),0px_19.25px_5.47px_0px_rgba(0,0,0,0.01)]","data-[state=checked]:before:absolute data-[state=checked]:before:inset-0 data-[state=checked]:before:rounded-full data-[state=checked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]","data-[state=unchecked]:before:absolute data-[state=unchecked]:before:inset-0 data-[state=unchecked]:before:rounded-full data-[state=unchecked]:before:shadow-[inset_0px_1.24px_2.47px_0px_rgba(255,255,255,0.03),inset_0px_1.06px_0.71px_0px_rgba(255,255,255,0.02),inset_0px_0.18px_0.18px_0px_rgba(255,255,255,0.1)]"),children:[n&&t.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200",width:"12",height:"12",viewBox:"0 0 14.3 12",fill:"none",children:t.jsx("path",{d:"M7.15273 0.867188C8.67391 0.924388 10.145 1.42639 11.3842 2.31055C12.6232 3.19471 13.5765 4.42207 14.1254 5.84184C14.1624 5.94424 14.1623 6.05674 14.1254 6.15924C13.5765 7.57901 12.6233 8.80721 11.3842 9.69141C10.145 10.5756 8.67391 11.0776 7.15273 11.1348C5.63156 11.0776 4.16043 10.5756 2.92129 9.69141C1.68215 8.80721 0.729004 7.57901 0.180078 6.15924C0.143078 6.05674 0.143078 5.94424 0.180078 5.84184C0.729004 4.42207 1.68227 3.19471 2.92129 2.31055C4.16043 1.42639 5.63156 0.924388 7.15273 0.867188ZM8.31387 3.19824C7.75957 2.96874 7.14941 2.90844 6.56094 3.02544C5.97266 3.14244 5.43242 3.43144 5.00824 3.85554C4.58406 4.27974 4.29414 4.82074 4.17715 5.40924C4.06016 5.99754 4.12035 6.60794 4.34996 7.16214C4.57957 7.71634 4.96836 8.19024 5.46719 8.52344C5.96602 8.85674 6.55273 9.03424 7.15273 9.03424C7.95684 9.03294 8.72773 8.71314 9.29629 8.14454C9.86484 7.57604 10.1847 6.80514 10.1859 6.00104C10.1859 5.40104 10.0084 4.81434 9.67524 4.31544C9.34191 3.81664 8.86816 3.42794 8.31387 3.19824ZM7.14785 4.125C8.17879 4.125 9.01504 4.96124 9.01504 5.99224C9.01484 7.02304 8.17871 7.85844 7.14785 7.85844C6.11719 7.85824 5.28184 7.02284 5.28164 5.99224C5.28164 4.96134 6.11707 4.12524 7.14785 4.125Z",fill:"#0F0F10"})}),!n&&t.jsx("svg",{className:"absolute inset-0 z-10 w-3 h-3 m-auto transition-opacity duration-200 opacity-60",width:"12",height:"12",viewBox:"0 0 12 11",fill:"none",children:t.jsx("path",{d:"M1.85127 2.51855L0.117676 0.784211L0.901758 0L11.8824 10.9801L11.0982 11.7648L9.26245 9.92908C8.28691 10.5479 7.15498 10.8755 5.99971 10.8736C3.00928 10.8736 0.521289 8.72168 0 5.88208C0.239014 4.59092 0.888184 3.41123 1.85127 2.51855ZM7.52928 8.19604L6.71738 7.38404C6.40684 7.53264 6.05781 7.58124 5.71855 7.52314C5.37928 7.46504 5.06621 7.30314 4.82275 7.05964C4.57928 6.81624 4.41738 6.50324 4.35928 6.16394C4.30117 5.82464 4.34977 5.47564 4.49844 5.16504L3.68652 4.35314C3.33359 4.88634 3.17578 5.52524 3.23984 6.16144C3.30391 6.79764 3.58594 7.39214 4.03809 7.84434C4.49023 8.29644 5.08477 8.57844 5.72098 8.64254C6.35723 8.70664 6.99609 8.54884 7.52928 8.19604ZM3.76689 1.31224C4.45854 1.04044 5.21221 0.890703 5.99971 0.890703C8.99014 0.890703 11.4781 3.04264 12 5.88208C11.8301 6.80614 11.4481 7.67814 10.8841 8.42954L8.74336 6.28874C8.76299 6.15564 8.77271 6.02014 8.77271 5.88208C8.77275 5.48364 8.68701 5.08984 8.52109 4.72744C8.35518 4.36514 8.11318 4.04274 7.81152 3.78244C7.50986 3.52204 7.15557 3.32974 6.77275 3.21864C6.39014 3.10754 5.98799 3.08024 5.59385 3.13854L3.76689 1.31224Z",fill:"white",fillOpacity:"0.6"})})]})}));JB.displayName="CustomSwitch";const U3e=({size:e=16,color:n="#F2F5F7"})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsxs("g",{clipPath:"url(#clip0_upload_asset)",children:[t.jsx("g",{filter:"url(#filter0_upload_asset)",children:t.jsx("path",{d:"M2.84055 12.255C2.4162 11.7524 2.07561 11.1997 1.81877 10.5967C1.56193 9.99365 1.40001 9.36272 1.33301 8.70387H2.70654C2.77354 9.18405 2.89638 9.64469 3.07505 10.0858C3.25372 10.5269 3.48823 10.9373 3.77857 11.3169L2.84055 12.255ZM1.33301 7.36384C1.42234 6.70499 1.58985 6.07406 1.83552 5.47104C2.08119 4.86803 2.4162 4.31526 2.84055 3.81275L3.77857 4.75077C3.48823 5.13045 3.25372 5.54083 3.07505 5.98193C2.89638 6.42302 2.77354 6.88366 2.70654 7.36384H1.33301ZM7.32966 14.7005C6.67081 14.6335 6.04267 14.4744 5.44524 14.2231C4.8478 13.9719 4.29225 13.6397 3.77857 13.2265L4.71659 12.255C5.10744 12.5453 5.52061 12.7854 5.95612 12.9752C6.39163 13.1651 6.84948 13.2935 7.32966 13.3605V14.7005ZM4.75009 3.81275L3.77857 2.84122C4.30342 2.42805 4.86735 2.09583 5.47036 1.84457C6.07338 1.59332 6.70431 1.43419 7.36316 1.36719V2.70722C6.88298 2.77422 6.42234 2.90264 5.98125 3.09248C5.54015 3.28232 5.12977 3.52241 4.75009 3.81275ZM8.66969 14.7005V13.3605C9.16104 13.2935 9.62726 13.1679 10.0684 12.9836C10.5094 12.7993 10.9254 12.5565 11.3163 12.255L12.2878 13.2265C11.7629 13.6508 11.1962 13.9858 10.5876 14.2315C9.97902 14.4772 9.33971 14.6335 8.66969 14.7005ZM11.3498 3.81275C10.9589 3.52241 10.5402 3.28232 10.0935 3.09248C9.6468 2.90264 9.18337 2.77422 8.70319 2.70722V1.36719C9.36204 1.43419 9.99577 1.59332 10.6044 1.84457C11.213 2.09583 11.7741 2.42805 12.2878 2.84122L11.3498 3.81275ZM13.2258 12.255L12.2878 11.3169C12.5781 10.9373 12.8126 10.5269 12.9913 10.0858C13.17 9.64469 13.2928 9.18405 13.3598 8.70387H14.7333C14.644 9.36272 14.4765 9.99365 14.2308 10.5967C13.9852 11.1997 13.6502 11.7524 13.2258 12.255ZM13.3598 7.36384C13.2928 6.88366 13.17 6.42302 12.9913 5.98193C12.8126 5.54083 12.5781 5.13045 12.2878 4.75077L13.2258 3.81275C13.6502 4.31526 13.9907 4.86803 14.2476 5.47104C14.5044 6.07406 14.6663 6.70499 14.7333 7.36384H13.3598Z",fill:n})}),t.jsx("g",{filter:"url(#filter1_upload_asset)",children:t.jsx("path",{d:"M8.01417 10.7351C7.73803 10.7351 7.51417 10.5113 7.51417 10.2351V7.42525L6.47723 8.46219C6.28075 8.65868 5.96175 8.65726 5.76701 8.45905L5.71744 8.40859C5.52512 8.21284 5.52651 7.89867 5.72056 7.70463L7.69663 5.72855C7.89189 5.53329 8.20848 5.53329 8.40374 5.72855L10.3736 7.69837C10.57 7.89486 10.5686 8.21385 10.3704 8.40859L10.32 8.45816C10.1242 8.65048 9.81004 8.64909 9.61599 8.45505L8.5862 7.42525V10.2351C8.5862 10.5113 8.36234 10.7351 8.0862 10.7351H8.01417Z",fill:n})})]}),t.jsxs("defs",{children:[t.jsxs("filter",{id:"filter0_upload_asset",x:"-38.667",y:"-38.6328",width:"93.4004",height:"93.333",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"20"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.501961 0 0 0 0 1 0 0 0 0 0.976471 0 0 0 0.4 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),t.jsxs("filter",{id:"filter1_upload_asset",x:"-34.4258",y:"-34.418",width:"84.9453",height:"85.1533",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[t.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),t.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),t.jsx("feOffset",{}),t.jsx("feGaussianBlur",{stdDeviation:"20"}),t.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),t.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.501961 0 0 0 0 1 0 0 0 0 0.976471 0 0 0 0.4 0"}),t.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),t.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),t.jsx("clipPath",{id:"clip0_upload_asset",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]}),V3e=W.common.attach,H3e=W.common.newCoin,S0=W.upload.comment,k0=W.upload.commented,lS=W.upload.delete,cS=W.upload.deleteActive,$3e=W.upload.uploadNormal,dS=W.upload.info,z3e=W.files.pdf,uS=W.files.csv,W3e=W.files.doc,G3e=W.files.ppt,q3e=W.files.txt,K3e=W.files.video,Y3e=W.files.svg,Z3e=W.files.other,XB=W.files.zip,ju=(e,n)=>["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/bmp","image/svg+xml"].includes(e.toLowerCase())||/\.(jpg|jpeg|png|bmp|svg|gif|webp)$/i.test(n),J3e=(e,n)=>e.startsWith("image/")||/\.(jpg|jpeg|png|gif|webp|bmp|svg|ico)$/i.test(n),QB=(e,n)=>e.startsWith("video/")||/\.(mp4|avi|mov|wmv|mkv|webm|flv|m4v)$/i.test(n),X3e=(e,n)=>e.includes("zip")||e.includes("tar")||e.includes("rar")||e.includes("7z")||/\.(zip|rar|tar|gz|7z|bz2|xz)$/i.test(n),eU=(e,n)=>{const s=["image/jpeg","image/png","image/gif","image/webp"],r=[".jpg",".jpeg",".png",".gif",".webp"],i=e&&s.includes(e),a=r.some(o=>n.toLowerCase().endsWith(o));return i||a},T0=e=>{const{size:n,type:s,name:r}=e,i=QB(s,r),a=J3e(s,r),o=eU(s,r),l=200*1024*1024;return n>l?{strategy:"reject",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:i?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:a&&o?n>10*1024*1024?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:n>5*1024*1024?"compress_and_upload":"standard",visibility:"public",readByAgent:!0,needsCompression:n>5*1024*1024,maxSize:10*1024*1024}:a&&!o?n>5*1024*1024?{strategy:"public_only",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}:{strategy:"standard",visibility:"public",readByAgent:!0,needsCompression:!1,maxSize:5*1024*1024}:{strategy:"no_limit",visibility:"public",readByAgent:!1,needsCompression:!1,maxSize:l}},nb=(e,n)=>e==="image/svg+xml"||n.toLowerCase().endsWith(".svg"),Q3e=(e,n)=>e.startsWith("image/")?X9:e.startsWith("video/")?n8:e.startsWith("text/")||n.endsWith(".txt")?po:e.includes("zip")||e.includes("tar")||e.includes("rar")?Y9:n.endsWith(".pdf")||n.endsWith(".csv")||n.endsWith(".xlsx")?po:hm,V1=(e,n)=>{const s=n?.toLowerCase()||"";return s.endsWith(".pdf")||e==="application/pdf"?z3e:e.includes("zip")||e.includes("tar")||e.includes("rar")?XB:s.endsWith(".csv")||e==="text/csv"?uS:s.endsWith(".doc")||s.endsWith(".docx")||e==="application/msword"||e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?W3e:s.endsWith(".ppt")||s.endsWith(".pptx")||e==="application/vnd.ms-powerpoint"||e==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?G3e:s.endsWith(".txt")||s.endsWith(".md")||s.endsWith(".log")||e==="text/plain"||e==="text/markdown"?q3e:s.endsWith(".mp4")||s.endsWith(".avi")||s.endsWith(".mov")||s.endsWith(".wmv")||s.endsWith(".mkv")||e?.startsWith("video/")?K3e:s.endsWith(".svg")||e==="image/svg+xml"?Y3e:s.endsWith(".xls")||s.endsWith(".xlsx")||e==="application/vnd.ms-excel"||e==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?uS:Z3e},sb=e=>{if(e===0)return"0 B";const n=1024,s=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(1))+" "+s[r]},e4e=(e,n=20)=>{if(e.length<=n)return e;const s=e.lastIndexOf(".");if(s===-1)return e.substring(0,n-3)+"...";const r=e.substring(s),i=e.substring(0,s),a=n-r.length-3;return a<=0?e.substring(0,n-3)+"...":i.substring(0,a)+"..."+r};function t4e({isOpen:e,onOpenChange:n,jobId:s,onUploadComplete:r,onUploadError:i,handleSendMessage:a,initialFiles:o}){const[l,c]=d.useState([]),[u,p]=d.useState(new Set),[f,m]=d.useState(!1),[h,x]=d.useState(null),[y,v]=d.useState(new Set),[g,b]=d.useState(!1),w=d.useRef(null),N=d.useRef(new Set),{toast:j}=ds(),_=ah(),C=br(zg),F=br(V=>Rv(V,C),ec),[E]=pQ(),{t:S}=Jt("home"),{compressImage:M}=p2({maxWidth:2e3,maxHeight:2e3,quality:30,format:"jpeg"}),k=d.useCallback(V=>{const ee=URL.createObjectURL(V);return N.current.add(ee),ee},[]);tt.useEffect(()=>()=>{N.current.clear()},[]);const I=d.useCallback(async V=>{if(!(f||g)&&V&&V.length>0){const X=F.length+l.length;if(X+V.length>5){j({title:S("textarea.assets.tooManyAttachments.title"),description:S("textarea.assets.tooManyAttachments.description",{maxFiles:5,currentTotalAttachments:X,uploadedCount:F.length,selectedCount:l.length,tryingToAddCount:V.length}),variant:"destructive",duration:4e3});return}const me=[],oe=[],pe=[];if(Array.from(V).forEach(se=>{const re=T0(se);re.strategy==="reject"?me.push(`${se.name} (${sb(se.size)} > ${sb(re.maxSize)})`):re.needsCompression?pe.push(se):oe.push({file:se,name:se.name,size:se.size,type:se.type,lastModified:se.lastModified,description:"",readByAgent:re.readByAgent,visibility:re.visibility})}),pe.length>0){b(!0);try{for(const se of pe){const re=T0(se);if(eU(se.type,se.name)){const ve=await M(se);if(ve){const we=se.name.replace(/\.[^/.]+$/,".jpg"),be=ve.blob,Ue=Object.assign(be,{name:we,lastModified:Date.now(),webkitRelativePath:""});oe.push({file:Ue,name:we,size:be.size,type:"image/jpeg",lastModified:Date.now(),description:"",readByAgent:re.readByAgent,visibility:re.visibility})}else me.push(`${se.name} (compression failed)`)}}}catch{j({title:S("textarea.assets.compressionError.title"),description:S("textarea.assets.compressionError.description"),variant:"destructive",duration:4e3})}finally{b(!1)}}me.length>0&&j({title:S("textarea.assets.filesTooLarge.title"),description:S("textarea.assets.filesTooLarge.description",{fileList:me.join(", ")}),variant:"destructive",duration:8e3}),oe.length>0&&c(se=>[...se,...oe])}},[l.length,F.length,f,g,M,j]);tt.useEffect(()=>{if(e&&o&&o.length>0){b(!0);const V=5;o.length>V&&j({title:S("textarea.assets.tooManyFiles.title"),description:S("textarea.assets.tooManyFiles.description",{maxFiles:V}),variant:"destructive",duration:4e3});const X=o.slice(0,V).map((ae,me)=>{const oe=T0(ae),pe=URL.createObjectURL(ae);N.current.add(pe);const se=ju(ae.type,ae.name);return{id:`initial-${me}-${Date.now()}`,file:ae,name:ae.name,size:ae.size,type:ae.type,lastModified:ae.lastModified,preview:se?pe:null,readByAgent:oe.readByAgent,visibility:oe.visibility,description:""}});c(X),setTimeout(()=>{b(!1)},100)}else e&&(!o||o.length===0)&&(c([]),b(!1),setTimeout(()=>{w.current?.click()},100))},[e,o,j]);const D=d.useCallback(()=>{f||w.current?.click()},[f]),P=d.useCallback(V=>{I(V.target.files)},[I]),R=d.useCallback((V,ee)=>{f||c(X=>X.map((ae,me)=>me===V?{...ae,description:ee}:ae))},[f]),B=d.useCallback(V=>T0(V.file).readByAgent,[]),U=d.useCallback((V,ee)=>{if(f)return;const X=l[V];B(X)&&c(ae=>ae.map((me,oe)=>oe===V?{...me,readByAgent:ee}:me))},[f,l,B]),H=d.useCallback(V=>{f||(c(ee=>{const X=ee[V];X&&(ju(X.type,X.name)||nb(X.type,X.name));const ae=ee.filter((me,oe)=>oe!==V);return ae.length===0&&setTimeout(()=>{n(!1)},100),ae}),p(ee=>{const X=new Set(ee);X.delete(V);const ae=new Set;return X.forEach(me=>{me>V?ae.add(me-1):ae.add(me)}),ae}))},[f,n]),$=d.useCallback((V,ee)=>{f||(ee&&(ee.preventDefault(),ee.stopPropagation()),p(X=>{const ae=new Set(X);return ae.has(V)?ae.delete(V):ae.add(V),ae}))},[f]),q=d.useCallback(()=>{m(!1),x(null),v(new Set)},[]);tt.useEffect(()=>{e||q()},[e,q]);const Q=d.useCallback(async()=>{if(!s||l.length===0||f)return;m(!0);const V=[];try{for(let ee=0;ee<l.length;ee++){const X=l[ee];if(x(ee),X.visibility==="private")try{const ae=await E({jobId:s,file:X.file,fileName:X.name,description:X.description}).unwrap();if(ae.success&&ae.artifact_id){let me,oe;if(ju(X.type,X.name)){me=URL.createObjectURL(X.file);try{const pe=new FileReader;oe=await new Promise(re=>{pe.onload=()=>{const ve=pe.result;re(ve.split(",")[1])},pe.readAsDataURL(X.file)})}catch{}}V.push({artifact_id:ae.artifact_id,entity_id:s,entity_type:"job",visibility:"private",file_name:X.name,description:X.description,file_path:ae.path,readByAgent:X.readByAgent,mime_type:X.type,file_size:X.size,local_preview_url:me,local_preview_base64:oe})}}catch{j({title:S("textarea.assets.uploadFailed.title"),description:S("textarea.assets.uploadFailed.description",{fileName:X.name}),variant:"destructive"})}else try{const ae={file_name:X.name,mime_type:X.type},me=await yt.uploadArtifact(s,ae);await yt.uploadFileToUrl(me.upload_url,X.file);let oe,pe;if(ju(X.type,X.name)){oe=URL.createObjectURL(X.file);try{const se=new FileReader;pe=await new Promise(ve=>{se.onload=()=>{const we=se.result;ve(we.split(",")[1])},se.readAsDataURL(X.file)})}catch{}}V.push({artifact_id:me.artifact_id,entity_id:s,entity_type:"job",visibility:"public",file_name:X.name,description:X.description,file_path:me.file_path,readByAgent:X.readByAgent,mime_type:X.type,file_size:X.size,local_preview_url:oe,local_preview_base64:pe})}catch{j({title:S("textarea.assets.uploadFailed.title"),description:S("textarea.assets.uploadFailed.description",{fileName:X.name}),variant:"destructive"})}}V.length>0&&(_(xA({tabId:C,artifacts:V})),j({title:S("textarea.assets.filesUploaded.title"),description:S("textarea.assets.filesUploaded.description",{count:V.length})})),setTimeout(()=>{c([]),n(!1)},1e3)}catch{}finally{m(!1),x(null)}},[l,s,n,f,_,C,j]);return e?t.jsx("div",{className:"fixed inset-0 z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{"data-testid":Rr.uploadAssets.modal,className:"max-w-[740px] relative w-[95vw] max-md:fixed max-md:bottom-8  p-0 bg-[#18181A] border border-[#242424] rounded-[16px] overflow-hidden flex flex-col font-['Inter']",onClick:V=>V.stopPropagation(),children:[t.jsxs("div",{className:A("flex items-center justify-between p-4  md:p-8",l.length>0?"md:p-6 border-b border-[#242424] ":""),children:[t.jsxs("div",{className:"flex flex-col gap-1 md:gap-[10px] mr-4",children:[t.jsx("h2",{className:"text-[18px] md:text-[22px] font-medium text-white md:leading-[32px]",children:S("textarea.assets.modal.title")}),t.jsx("p",{className:"text-[13px] md:text-[15px] text-[#737780] md:leading-[24px]",children:S("textarea.assets.modal.description")})]}),t.jsx("button",{type:"button",onClick:()=>n(!1),disabled:f,className:A("p-2 absolute top-6 max-md:top-3 right-6 bg-[#FFFFFF05] backdrop-blur-lg hover:bg-[#242424] rounded-lg transition-colors",f&&"opacity-50 cursor-not-allowed"),"aria-label":S("textarea.assets.modal.closeModal"),children:t.jsx(Pt,{className:"w-5 h-5 text-[#737780]"})})]}),t.jsxs("div",{className:A("flex flex-col flex-1 p-4 md:p-8 pt-0 md:pt-0 overflow-hidden overflow-y-auto max-h-[486px]",l.length>0?"md:p-6 pt-0 md:pt-0 max-md:pt-4":""),children:[l.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"md:pt-4 pt-3 max-md:hidden flex items-center justify-between backdrop-blur-lg pb-2 z-[10] bg-[#18181A]",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h3",{className:"text-[12px] font-ndot uppercase text-[#737780] tracking-[0.8px]",children:S("textarea.assets.modal.filesUploadedHeader",{count:l.length})})}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(Wu,{children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:D,disabled:F.length+l.length>=5||f,className:A("flex items-center  rounded-full gap-2 px-4 py-2 radial-bg text-[#80FFF9] hover:opacity-[0.80] font-medium text-[14px] font-['Inter'] transition-all duration-200 disabled:opacity-20",f&&"cursor-not-allowed"),children:[t.jsx("img",{src:$3e,alt:S("textarea.assets.modal.upload"),className:"w-6 h-6"}),S("textarea.assets.modal.uploadFiles")]})}),(F.length+l.length>=5||f)&&t.jsx(Ho,{children:t.jsx(oi,{className:"bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg z-[9999] px-3 py-2 rounded-md text-sm",side:"bottom",sideOffset:8,children:f?S("textarea.assets.modal.uploadInProgress"):S("textarea.assets.modal.maxAttachmentsTooltip",{current:F.length+l.length})})})]})})})]}),t.jsxs("button",{type:"button",onClick:D,disabled:F.length+l.length>=5||f,className:A("flex items-center  rounded-[12px] md:hidden border-dashed border border-[#252A2C] gap-2 px-4 py-3 mb-4 justify-center text-[#FFFFFF] hover:opacity-[0.80] font-medium text-[14px] font-['Inter'] transition-all duration-200 disabled:opacity-20",f&&"cursor-not-allowed"),children:[t.jsx(U3e,{}),S("textarea.assets.modal.uploadFiles")]})]}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"flex flex-col gap-3 md:gap-4 md:mt-4",children:l.map((V,ee)=>{const X=Q3e(V.type,V.name),ae=h===ee,me=y.has(ee);return t.jsxs("div",{"data-testid":Rr.uploadAssets.fileItem(ee),className:A("relative overflow-clip duration-300 rounded-[12px] h-full group",ae?"border-[#80FFF9] opacity-100":"border-[#FFFFFF0F] opacity-100",u.has(ee)?"opacity-100 border border-[#FFFFFF1F]":"border border-transparent"),children:[t.jsxs("div",{className:"bg-[#1D1D1E] p-3 gap-4 md:justify-between flex max-md:flex-col",children:[t.jsxs("div",{className:"flex items-center gap-4 bg-[#1D1D1E]",children:[t.jsxs("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 overflow-hidden rounded-lg",children:[ju(V.type,V.name)?t.jsx("img",{src:k(V.file),alt:V.name,className:"object-cover w-full h-full rounded-lg",onError:oe=>{const pe=oe.target;pe.style.display="none";const se=pe.parentElement;if(se){const re=se.querySelector(".fallback-icon");re&&(re.style.display="block")}}}):nb(V.type,V.name)?t.jsx("img",{src:k(V.file),alt:V.name,className:"w-6 h-6",onError:oe=>{const pe=oe.target;pe.style.display="none";const se=pe.parentElement;if(se){const re=se.querySelector(".fallback-icon");re&&(re.style.display="block")}}}):V1(V.type,V.name)?t.jsx("img",{src:V1(V.type,V.name),alt:S("textarea.assets.modal.file"),className:A("w-10 h-10",V1(V.type,V.name)===XB&&"p-1")}):t.jsx(X,{className:"w-5 h-5 text-[#FFFFFF60]"}),(ju(V.type,V.name)||nb(V.type,V.name))&&t.jsx("div",{className:"fallback-icon",style:{display:"none"},children:V1(V.type,V.name)?t.jsx("img",{src:V1(V.type,V.name),alt:S("textarea.assets.modal.file"),className:"w-5 h-5"}):t.jsx(X,{className:"w-5 h-5 text-[#FFFFFF60]"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-[#E6E6E6] font-medium text-[14px] font-['Inter'] truncate mb-1",children:e4e(V.name)}),t.jsxs("div",{className:"flex items-center gap-2",children:[oS(V.type,V.name)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-[12px] text-white/40 flex items-center gap-[6px]",children:t.jsx("span",{className:"font-['Inter'] font-medium text-[12px]",children:oS(V.type,V.name)})}),t.jsx("div",{className:"w-1 h-1 rounded-full bg-[#FFFFFF]/40"})]}),t.jsx("div",{className:"text-[12px] text-white/50 flex items-center gap-2",children:t.jsx("span",{children:sb(V.size)})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[t.jsxs("button",{type:"button",onClick:oe=>$(ee,oe),disabled:f||ae||me,className:A("p-2 hover:bg-[#FFFFFF0F] rounded-lg transition-colors group",u.has(ee)?"opacity-100 bg-[#FFFFFF0F]":"opacity-60 hover:opacity-100",(f||ae||me)&&"opacity-30 cursor-not-allowed"),title:V.description?S("textarea.assets.modal.editComment"):S("textarea.assets.modal.addComment"),children:[t.jsx("img",{src:V.description?k0:S0,alt:V.description?S("textarea.assets.modal.commented"):S("textarea.assets.modal.comment"),className:"w-6 h-6 group-hover:hidden"}),t.jsx("img",{src:V.description?k0:S0,alt:S("textarea.assets.modal.commentActive"),className:"hidden w-6 h-6 group-hover:block"})]}),t.jsxs("button",{type:"button",onClick:()=>H(ee),disabled:f||ae,className:A("group/delete p-2 rounded-lg transition-colors hover:bg-[#ED5B5B0F]",(f||ae)&&"opacity-30 cursor-not-allowed"),title:S("textarea.assets.modal.delete"),children:[t.jsx("img",{src:lS,alt:S("textarea.assets.modal.delete"),className:"w-6 h-6 group-hover/delete:hidden"}),t.jsx("img",{src:cS,alt:S("textarea.assets.modal.deleteActive"),className:"hidden w-6 h-6 group-hover/delete:block"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 max-md:w-full max-md:justify-between",children:[QB(V.type,V.name)||X3e(V.type,V.name)?t.jsx("div",{className:"flex items-center w-full gap-2",children:t.jsx(Wu,{delayDuration:0,children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsxs("div",{className:"flex items-center gap-2 bg-[#FFFFFF0A] text-[#FFFFFF66] px-2 py-1 rounded-full font-medium font-['Inter'] text-[12px]",children:[S("textarea.assets.modal.agentCannotRead"),t.jsx("img",{alt:S("textarea.assets.modal.info"),src:dS,className:"w-4 h-4"})]})}),t.jsx(Ho,{children:t.jsx(oi,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:S("textarea.assets.modal.agentCannotReadTooltip")})})]})})}):B(V)?t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsx(Wu,{delayDuration:0,children:t.jsxs(gi,{children:[t.jsx(bi,{asChild:!0,children:t.jsxs("div",{className:A("flex items-center gap-2 text-[#F3CA5FCC] px-2 py-1 bg-[#F3CA5F14] rounded-full font-medium font-['Inter'] text-[12px]",V.readByAgent?"opacity-100":"bg-[#FFFFFF0A] text-[#FFFFFF66]"),children:[t.jsx("img",{alt:S("textarea.assets.modal.goldCoin"),src:H3e,className:A("w-4 h-4",V.readByAgent?"opacity-100":"hidden")})," ",V.readByAgent?S("textarea.assets.modal.agentWillRead"):S("textarea.assets.modal.agentWillNotRead"),t.jsx("img",{alt:S("textarea.assets.modal.info"),src:dS,className:A("w-4 h-4",V.readByAgent?"hidden":"")})]})}),t.jsx(Ho,{children:t.jsx(oi,{className:"bg-[#FFFFFF] backdrop-blur-md text-[#0F0F10] shadow-lg z-[9999] font-['Inter'] font-medium px-3 py-2 rounded-md text-[12px]",side:"top",sideOffset:8,children:V.readByAgent?t.jsx("span",{className:"font-['Inter'] font-medium",children:S("textarea.assets.modal.agentWillReadTooltip")}):S("textarea.assets.modal.agentWillNotReadTooltip")})})]})}),t.jsx(JB,{checked:V.readByAgent,onCheckedChange:oe=>U(ee,oe),disabled:f||ae||!B(V)})]}):null,t.jsxs("button",{type:"button",onClick:oe=>$(ee,oe),disabled:f||ae||me,className:A("p-2 hover:bg-[#FFFFFF0F] max-md:hidden rounded-lg transition-colors group",u.has(ee)?"opacity-100 bg-[#FFFFFF0F]":"opacity-60 hover:opacity-100",(f||ae||me)&&"opacity-30 cursor-not-allowed"),title:V.description?S("textarea.assets.modal.editComment"):S("textarea.assets.modal.addComment"),children:[t.jsx("img",{src:V.description?k0:S0,alt:V.description?S("textarea.assets.modal.commented"):S("textarea.assets.modal.comment"),className:"w-6 h-6 group-hover:hidden"}),t.jsx("img",{src:V.description?k0:S0,alt:S("textarea.assets.modal.commentActive"),className:"hidden w-6 h-6 group-hover:block"})]}),t.jsxs("button",{type:"button","data-testid":Rr.uploadAssets.removeFileButton(ee),onClick:()=>H(ee),disabled:f||ae,className:A("group/delete p-2 max-md:hidden rounded-lg transition-colors hover:bg-[#ED5B5B0F]",(f||ae)&&"opacity-30 cursor-not-allowed"),title:"Delete",children:[t.jsx("img",{src:lS,alt:"Delete",className:"w-6 h-6 group-hover/delete:hidden"}),t.jsx("img",{src:cS,alt:"Delete Active",className:"hidden w-6 h-6 group-hover/delete:block"})]})]})]}),t.jsx(ns,{children:u.has(ee)&&t.jsx(xe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"bg-[#18181A] overflow-hidden",children:t.jsx("input",{type:"text",placeholder:S("textarea.assets.modal.addCommentsPlaceholder"),value:V.description||"",onChange:oe=>R(ee,oe.target.value),disabled:f,className:A("w-full bg-transparent pl-4 py-4 font-medium text-[14px] text-[#FFFFFF60] placeholder-[#4A4A4D] font-['Inter'] focus:outline-none transition-colors",f&&"opacity-50 cursor-not-allowed"),autoFocus:!0})})})]},ee)})})})]}),l.length>0&&t.jsxs("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-[#242424]/60",children:[t.jsx("button",{type:"button",onClick:()=>n(!1),disabled:f,className:A("px-6 py-3 bg-[#272729] max-md:hidden hover:bg-[#444] rounded-full text-[#DCDCE5] font-medium text-[16px] transition-all duration-200",f&&"opacity-50 cursor-not-allowed"),children:S("textarea.assets.modal.cancel")}),t.jsx("button",{type:"button","data-testid":Rr.uploadAssets.saveButton,onClick:Q,disabled:!s||f,className:A("md:px-6 p-3 md:py-3 bg-white hover:bg-white/90  max-md:w-full max-md:justify-center rounded-full text-[#0E0E0F] font-semibold text-[16px]  md:text-[16px] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",f&&"cursor-not-allowed"),children:f?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),S("textarea.assets.modal.attaching")]}):t.jsxs(t.Fragment,{children:[t.jsx("img",{src:V3e,alt:S("textarea.assets.modal.share"),className:"w-6 h-6 rotate-45 invert"}),S("textarea.assets.modal.attachFiles",{count:l.length})]})})]}),t.jsx("input",{ref:w,type:"file",multiple:!0,onChange:P,disabled:f,className:"hidden","aria-label":S("textarea.assets.modal.uploadFilesAriaLabel")})]})}):null}const n4e=({isOpen:e,onClose:n,videoFile:s,videoUrl:r,testCasesData:i,isLoadingTestCases:a,onApproveVideo:o,onSaveTestCases:l,showApprovalStage:c})=>{const[u,p]=d.useState(""),[f,m]=d.useState(!1),[h,x]=d.useState(null);d.useEffect(()=>{i&&p(JSON.stringify(i,null,2))},[i]);const y=j=>{x(j)},v=()=>{h&&(f?h.pause():h.play(),m(!f))},g=()=>m(!0),b=()=>m(!1),w=()=>{l&&l(u),n()},N=()=>{p(""),m(!1),n()};return t.jsx(zn,{open:e,onOpenChange:N,children:t.jsxs(dr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[t.jsx(Al,{children:t.jsx(uo,{children:c?"Review Screen & Audio Recording":"Screen & Audio Recording Test Cases"})}),t.jsxs("div",{className:`flex gap-6 h-[70vh] ${c?"justify-center":""}`,children:[t.jsxs("div",{className:`${c?"max-w-4xl":"flex-1"} flex flex-col`,children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Video & Audio Preview"}),c&&t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Review your screen & audio recording and click "Generate Test Cases" to proceed.'})]}),t.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden flex-1",children:r?t.jsxs(t.Fragment,{children:[t.jsx("video",{ref:y,src:r,className:"w-full h-full object-contain",onPlay:g,onPause:b,controls:!1}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 opacity-0 hover:opacity-100 transition-opacity",children:t.jsx(Vt,{variant:"ghost",size:"lg",onClick:v,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white",children:f?t.jsx(fy,{className:"w-8 h-8"}):t.jsx(my,{className:"w-8 h-8"})})}),t.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-white text-sm",children:[t.jsx(Vt,{variant:"ghost",size:"sm",onClick:v,className:"text-white hover:bg-white hover:bg-opacity-20",children:f?t.jsx(fy,{className:"w-4 h-4"}):t.jsx(my,{className:"w-4 h-4"})}),s&&t.jsxs("span",{className:"ml-2",children:[s.name," (",(s.size/1024/1024).toFixed(1)," MB)"]})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No video available"})})]}),!c&&t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Cases"}),a?t.jsx("div",{className:"flex-1 flex items-center justify-center border rounded-lg",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(ln,{className:"w-8 h-8 animate-spin"}),t.jsx("p",{className:"text-gray-600",children:"Generating test cases..."})]})}):t.jsx(Tc,{value:u,onChange:j=>p(j.target.value),placeholder:"Test cases will appear here once generated...",className:"flex-1 font-mono text-sm resize-none",style:{minHeight:"400px"}})]})]}),t.jsxs(Sc,{className:"flex justify-between",children:[t.jsx("div",{className:"flex gap-2",children:t.jsx(Vt,{variant:"outline",onClick:N,children:"Cancel"})}),t.jsx("div",{className:"flex gap-2",children:c?t.jsx(Vt,{onClick:o,disabled:!r,children:"Generate Test Cases"}):i&&t.jsx(Vt,{onClick:w,disabled:a,children:"Save Test Cases"})})]})]})})},s4e=({size:e=24,color:n="#000000",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.6395 11.1294C20.1202 11.61 20.1202 12.3894 19.6395 12.87L14.1011 18.4084C13.6204 18.889 12.8412 18.889 12.3606 18.4084C11.8798 17.9277 11.8798 17.1485 12.3606 16.6679L15.7979 13.2304L5.23081 13.2304C4.55106 13.2304 4 12.6794 4 11.9996C4 11.32 4.55106 10.7689 5.23081 10.7689L15.7979 10.7689L12.3606 7.3315C11.8798 6.85087 11.8798 6.07161 12.3606 5.59098C12.8412 5.1103 13.6204 5.1103 14.1011 5.59098L19.6395 11.1294Z",fill:n})}),r4e=W.common.visualEdit,pS="https://assets.emergent.sh/Built-in+Retina+Display_new.mp4",i4e=({open:e,onOpenChange:n,onClose:s,onGetStarted:r,onLearnMore:i})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(!1),u=d.useRef(null),{totalBannerHeight:p}=Ea(),f=p+56,m=()=>{H0(),n(!1),r?.(),z(Tn.MODAL_EVENTS.VISUAL_EDITS_MODAL_GOT_IT_CLICKED)},h=()=>{z(Tn.MODAL_EVENTS.VISUAL_EDITS_MODAL_LEARN_MORE_CLICKED),i?.()};return d.useEffect(()=>{if(e&&!a&&!wA()){const x=document.createElement("video");x.src=pS,x.preload="auto",x.muted=!0,x.addEventListener("loadeddata",()=>{o(!0),c(!0),z(Tn.MODAL_EVENTS.VISUAL_EDITS_MODAL_OPENED)}),x.load()}else e&&a?(c(!0),z(Tn.MODAL_EVENTS.VISUAL_EDITS_MODAL_OPENED)):e||c(!1)},[e,a]),l?t.jsx("div",{style:{height:`calc(100dvh - ${f}px)`},className:"absolute w-full z-[49] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]",children:t.jsxs("div",{className:"relative w-[600px] max-w-[90dvw] rounded-2xl bg-[#1C1C1F] border border-[#242424] shadow-xl overflow-hidden",children:[t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full",children:t.jsx("video",{ref:u,src:pS,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-auto"})}),t.jsx("div",{className:"relative flex flex-col p-6",children:t.jsxs("div",{className:"flex flex-col gap-12",children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-[28px] font-semibold leading-9 tracking-[-0.02em] text-white font-brockmann",style:{textShadow:"0px 0px 20px rgba(255, 255, 255, 0.2)"},children:"Introducing Edit mode"}),t.jsx(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center gap-2 px-2 py-2 rounded-[30px] bg-[#0161D1] w-fit",children:t.jsx("div",{className:"flex items-center justify-center w-4 h-4",children:t.jsx("img",{src:r4e,alt:"Visual Edit",className:"w-4 h-4",style:{filter:"brightness(0) saturate(100%) invert(89%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(106%) contrast(91%)"}})})})]}),t.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-[15px] font-medium leading-[1.6em] text-white/60 font-inter",children:"Edit mode is now built into the chat input. Click the cursor icon or press Cmd/ctrl+E to visually edit components."})]}),t.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex items-center gap-4",children:[t.jsx("button",{type:"button",onClick:h,className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-medium text-white transition-all duration-200 border rounded-xl font-brockmann hover:bg-white/5",style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.22)"},children:"Learn more"}),t.jsxs("button",{type:"button",onClick:m,className:"flex items-center justify-center flex-1 h-12 gap-2 px-2 py-2 text-lg font-semibold text-black transition-all duration-200 bg-white rounded-xl font-brockmann hover:scale-105",style:{boxShadow:"0px 0px 20px 0px rgba(255, 255, 255, 0.4), 0px 0.7272726893424988px 0.7272726893424988px 0.7272726893424988px rgba(0, 0, 0, 0.1), inset 0px 2.1818180084228516px 3.6363635063171387px 1.4545453786849976px rgba(255, 255, 255, 0.4), inset 0px -1.4545453786849976px 0px 0px rgba(0, 0, 0, 0.2)"},children:[t.jsx("span",{children:"Got it"}),t.jsx(s4e,{className:"w-6 h-6"})]})]})]})})]})}):null},fS=(e="default")=>{const n="rounded-[10px] px-5 h-10 flex items-center justify-center gap-1.5 text-[15px] font-['Brockmann'] font-medium leading-5 tracking-[-0.2px] transition-all duration-200";switch(e){case"destructive":return`${n} bg-[#CC5252] hover:bg-[#B73E3E] text-white font-semibold`;case"outline":return`${n} bg-white/[0.04] hover:bg-white/[0.08] text-white border border-white/[0.12]`;case"ghost":return`${n} bg-transparent hover:bg-white/[0.08] text-white`;case"default":default:return`${n} bg-white hover:bg-white/90 text-black font-semibold`}};function ch({isOpen:e,onClose:n,onConfirm:s,onCancel:r,title:i="You have unsaved changes",description:a="Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:o={text:"Confirm",variant:"default"},cancelButton:l={text:"Cancel",variant:"outline"},showCloseIcon:c=!0,allowBackdropClose:u=!0,isFullscreen:p=!1,includeNavBarOffset:f=!1}){const{totalBannerHeight:m}=Ea(),h=f?m+56:m;if(d.useEffect(()=>{if(!e)return;const v=g=>{(g.metaKey||g.ctrlKey)&&g.key==="s"&&(g.preventDefault(),g.stopPropagation(),s())};return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[e,s]),!e)return null;const x=v=>{u&&v.target===v.currentTarget&&n()},y=()=>{r?.()||n()};return t.jsx("div",{style:{height:`calc(100dvh - ${h}px)`,top:`${h}px`},className:A("absolute left-0 right-0 bottom-0 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",p?"z-[10000]":"z-[49]"),onClick:x,children:t.jsxs("div",{className:"bg-[#1C1C1F] rounded-[20px] w-full max-w-[600px] h-auto max-h-[90vh] overflow-y-auto flex flex-col justify-between p-6 gap-14",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[t.jsx("h1",{className:"text-2xl font-['Brockmann'] font-medium leading-8 text-white",children:i}),t.jsx("p",{className:"text-base font-['Inter'] font-medium leading-6 text-white/60",children:a})]}),c&&t.jsx("button",{onClick:n,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-white/[0.04] rounded-full hover:bg-white/[0.08] transition-colors p-1.5",children:t.jsx(Pt,{className:"w-6 h-6 text-white/50"})})]}),t.jsxs("div",{className:"flex items-center gap-2.5 justify-end",children:[t.jsx("button",{onClick:y,className:fS(l.variant),children:l.text}),t.jsx("button",{onClick:s,className:fS(o.variant),children:o.text})]})]})})}const tU=(e={})=>{const{type:n="alert",isVisible:s=!0}=e,{setBannerHeight:r,registerBannerHeight:i,unregisterBannerHeight:a,bannerConfig:o}=Ea(),l=d.useRef(null),c=d.useRef(null),u=d.useRef(`banner-${Math.random().toString(36).slice(2)}`),p=n==="alert"?o.show:s;return d.useEffect(()=>{const f=l.current,m=u.current;if(!f)return;const h=()=>{if(p&&f){const x=f.offsetHeight;n==="alert"?r(x):i(m,x)}else n==="alert"?r(0):a(m)};return h(),window.ResizeObserver&&(c.current=new ResizeObserver(()=>{h()}),c.current.observe(f)),()=>{c.current&&c.current.disconnect()}},[p,n,r,i,a]),d.useEffect(()=>{const f=u.current;p||(n==="alert"?r(0):a(f))},[p,n,r,a]),d.useEffect(()=>{const f=u.current;return()=>{n==="alert"?r(0):a(f)}},[n,r,a]),l};function a4e(){const[e,n]=d.useState(!1),{isTrulyFreeUser:s}=cs(),r=d.useMemo(()=>e2(),[]),i=!e&&s()&&!!r?.show,a=tU({type:"dynamic",isVisible:i}),o=()=>{window.location.href="/mobile-app?utm_source=mweb_banner"};return t.jsx(ns,{children:i&&t.jsxs(xe.div,{ref:a,initial:{opacity:0,y:-40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.3},className:"fixed top-0 left-0 right-0 z-[10001] flex items-center justify-between gap-3 px-3 py-2.5 bg-[#2A2A2A]",children:[t.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[t.jsx("img",{src:W.logo.borderedLogoDark,alt:"Emergent",className:"w-8 h-8 rounded-lg flex-shrink-0"}),t.jsx("span",{className:"text-white text-sm",children:r?.bannerText})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx("button",{onClick:o,className:"px-4 py-1.5 bg-white text-black text-sm font-medium rounded-full",children:r?.bannerButtonText}),t.jsx("button",{onClick:()=>n(!0),className:"p-1 text-[#999]",children:t.jsx(Pt,{size:20})})]})]})})}const o4e=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M17.6211 2.99951C19.4849 2.99951 20.9958 4.51078 20.9961 6.37451V17.6245C20.9961 19.4885 19.485 20.9995 17.6211 20.9995H6.37109C4.50736 20.9993 2.99609 19.4883 2.99609 17.6245V6.37451C2.99634 4.51093 4.50751 2.99976 6.37109 2.99951H17.6211ZM7.67773 8.06396C7.48528 8.07449 7.30332 8.16003 7.16699 8.3042C7.02094 8.45884 6.93858 8.66856 6.93848 8.88721C6.93849 9.10598 7.02086 9.31647 7.16699 9.47119L9.55469 11.9985L7.16699 14.5278L7.1123 14.5903C6.98591 14.7543 6.92435 14.9642 6.93945 15.1753C6.95469 15.3861 7.0461 15.5824 7.19434 15.7241C7.34266 15.8658 7.5366 15.9434 7.73633 15.938C7.93631 15.9324 8.12732 15.8448 8.26855 15.6948L11.208 12.5825L11.2627 12.52C11.3842 12.3617 11.4453 12.1613 11.4355 11.9575C11.4256 11.7536 11.3444 11.5599 11.208 11.4155L8.26855 8.3042L8.20898 8.24756C8.05945 8.119 7.87014 8.05357 7.67773 8.06396ZM12.2041 14.2505L12.1299 14.2534C11.934 14.2731 11.7528 14.37 11.624 14.5229C11.4954 14.6757 11.4292 14.8731 11.4385 15.0747C11.4479 15.2765 11.5314 15.4684 11.6738 15.6079C11.8164 15.7475 12.0071 15.8256 12.2041 15.8257H16.2949L16.3682 15.8208C16.5641 15.8012 16.7462 15.706 16.875 15.5532C17.0039 15.4003 17.07 15.2015 17.0605 14.9995C17.051 14.7975 16.9659 14.6068 16.8232 14.4673C16.6807 14.3281 16.4917 14.2505 16.2949 14.2505H12.2041Z",fill:n})}),mS=W.common.deploy;function l4e({isOpen:e,onOpenChange:n,podIsPaused:s,buildMode:r,isPublishDisabled:i,hasPreviewUrl:a,enablePublish:o,onInfoClick:l,onVSCodeClick:c,previewUrl:u,onPreviewClick:p,onDeployClick:f,jobId:m,onPublishSuccess:h}){const{openModal:x}=Ds(),{isPublishing:y,isPublished:v}=F2({jobId:m,onPublishSuccess:h}),g=j=>{n(!1),setTimeout(j,100)},b=()=>{n(!1)},w=()=>{z(_f.CHAT_TRAJ_PUBLISH_CLICKED,{jobId:m,isPublished:v,source:"mobile_menu"}),n(!1),x(v?{type:"moltbot-published",previewUrl:u}:{type:"publish-moltbot",jobId:m,previewUrl:u,source:"mobile_menu",onPublishSuccess:h})},N=A("rounded shadow-[0px_50px_14px_0px_rgba(0,0,0,0.00),0px_32px_13px_0px_rgba(0,0,0,0.03),0px_18px_11px_0px_rgba(0,0,0,0.10),0px_8px_8px_0px_rgba(0,0,0,0.16),0px_2px_4px_0px_rgba(0,0,0,0.19)]","flex w-[80px] h-[60px] justify-center items-center relative overflow-hidden bg-gray-300");return t.jsx(la,{trigger:t.jsx("div",{}),open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"",handleColor:"bg-[#fff]/10",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[t.jsx("span",{className:"font-medium text-[18px]",children:"Quick Actions"}),t.jsx("button",{type:"button",title:"Close",onClick:b,className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-col p-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o?t.jsxs("button",{onClick:w,disabled:i||y,className:A("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[t.jsx("img",{src:mS,alt:"publish",className:"w-8 h-8"}),t.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap",children:"Publish Your App"})]}):t.jsxs("button",{onClick:()=>g(f),disabled:i,className:A("flex flex-col gap-3 p-4 transition-colors bg-gradient-to-bl from-[#80FFF9] to-[#1588FC] rounded-[12px] hover:bg-white/5 min-h-[130px] justify-between items-start disabled:opacity-50"),children:[t.jsx("img",{src:mS,alt:"deploy",className:"w-8 h-8"}),t.jsx("span",{className:"font-semibold text-[#0F0F10] text-nowrap",children:"Deploy Your App"})]}),t.jsxs("button",{onClick:()=>g(p),disabled:!a,className:A("flex flex-col gap-3 px-4 py-3 bg-[#FFFFFF] transition-colors justify-between items-start rounded-[12px] disabled:opacity-50"),children:[t.jsxs("div",{className:N,children:[u&&t.jsx("iframe",{src:u,title:"Preview",className:"rounded w-[80px] h-[60px] z-[1] pointer-events-none",style:{zoom:1,pointerEvents:"none"}}),t.jsx("div",{className:"absolute z-[50] h-full w-[80px] inset-0 flex items-center justify-center rounded pointer-events-none bg-black/50",children:t.jsx(M8,{color:"#fff"})})]}),t.jsx("span",{className:"text-nowrap font-semibold text-[#0F0F10]",children:"View Preview"})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 mt-3",children:[t.jsxs("button",{type:"button",onClick:()=>g(c),disabled:s||r!=="build",className:A("flex items-center flex-row-reverse justify-between gap-3 p-4 transition-colors bg-white/5 rounded-[12px] disabled:opacity-50"),children:[t.jsx(o4e,{size:20,color:"#ccc"}),t.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Code"})]}),t.jsxs("button",{type:"button",className:A("flex items-center gap-3 flex-row-reverse justify-between p-4 transition-colors rounded-[12px] bg-white/5"),onClick:l,children:[t.jsx(Im,{size:20,color:"#CCCCCC"}),t.jsx("span",{className:"text-sm font-medium text-[#CCCCCC]",children:"View Info"})]})]})]})]})})}const c4e=({width:e=20,height:n=20,className:s="",style:r,fill:i="#80FFF9"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M9.42381 7.63809C9.55047 7.44923 9.68847 7.42536 9.80047 7.42536C9.91247 7.42536 10.0985 7.44923 10.2251 7.63809C11.2185 9.02218 12.8585 11.7801 14.0685 13.8154C14.8578 15.1415 15.4638 16.1608 15.5885 16.2904C16.0551 16.7772 16.6951 16.4738 17.0671 15.9215C17.4331 15.3781 17.5345 14.9963 17.5345 14.5892C17.5345 14.3117 12.2291 4.30264 11.6951 3.46946C11.1818 2.66832 11.0138 2.46582 10.1351 2.46582H9.47647C8.59981 2.46582 8.47314 2.66832 7.95914 3.46946C7.42514 4.30264 2.11914 14.3117 2.11914 14.5885C2.11914 14.9963 2.22114 15.3781 2.58781 15.9215C2.95981 16.4738 3.59981 16.7772 4.06647 16.2897C4.19047 16.1601 4.79647 15.1415 5.58581 13.8147C6.79581 11.7801 8.43047 9.02218 9.42447 7.63741L9.42381 7.63809Z",fill:i})}),d4e=({width:e=20,height:n=20,className:s="",style:r,fill:i="#80FFF9"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 20 20",fill:"none",className:s,style:r,children:[t.jsx("mask",{id:"mask0_android_20x20",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_android_20x20)",children:t.jsx("path",{d:"M0.830078 15.001C0.955078 13.5149 1.40994 12.1468 2.19466 10.8968C2.97938 9.64681 4.02452 8.65375 5.33008 7.91764L3.78841 5.25098C3.70508 5.12598 3.68425 4.99403 3.72591 4.85514C3.76758 4.71625 3.85786 4.61209 3.99674 4.54264C4.10786 4.4732 4.23286 4.45931 4.37174 4.50098C4.51063 4.54264 4.62175 4.62598 4.70508 4.75098L6.24675 7.41764C7.44119 6.91764 8.69119 6.66764 9.99675 6.66764C11.3023 6.66764 12.5523 6.91764 13.7467 7.41764L15.2884 4.75098C15.3717 4.62598 15.4829 4.54264 15.6217 4.50098C15.7606 4.45931 15.8856 4.4732 15.9967 4.54264C16.1356 4.61209 16.2259 4.71625 16.2676 4.85514C16.3092 4.99403 16.2884 5.12598 16.2051 5.25098L14.6634 7.91764C15.969 8.65375 17.0141 9.64681 17.7988 10.8968C18.5836 12.1468 19.0384 13.5149 19.1634 15.001H0.830078ZM5.83008 12.7093C6.12175 12.7093 6.36827 12.6086 6.56966 12.4072C6.77105 12.2058 6.87175 11.9593 6.87175 11.6676C6.87175 11.376 6.77105 11.1294 6.56966 10.9281C6.36827 10.7267 6.12175 10.626 5.83008 10.626C5.53841 10.626 5.29188 10.7267 5.0905 10.9281C4.88911 11.1294 4.78841 11.376 4.78841 11.6676C4.78841 11.9593 4.88911 12.2058 5.0905 12.4072C5.29188 12.6086 5.53841 12.7093 5.83008 12.7093ZM14.1634 12.7093C14.4551 12.7093 14.7016 12.6086 14.903 12.4072C15.1044 12.2058 15.2051 11.9593 15.2051 11.6676C15.2051 11.376 15.1044 11.1294 14.903 10.9281C14.7016 10.7267 14.4551 10.626 14.1634 10.626C13.8717 10.626 13.6252 10.7267 13.4238 10.9281C13.2224 11.1294 13.1217 11.376 13.1217 11.6676C13.1217 11.9593 13.2224 12.2058 13.4238 12.4072C13.6252 12.6086 13.8717 12.7093 14.1634 12.7093Z",fill:i})})]}),nU=W.common.arrowUploadReadyDark,u4e=W.deployment.webImage,p4e=W.deployment.globeIcon;function f4e({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,isExpoImage:i=!1,creditsPerMonth:a=50}){return i?t.jsx(h4e,{onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:a}):t.jsx(m4e,{onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:a})}function m4e({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:i=50}){return t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsx("div",{className:" text-[14px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Deploy your application to an Emergent hosted production-ready environment. This will make it publicly accessible with managed infrastructure that never sleeps."}),t.jsx("div",{className:"flex flex-col items-center justify-center p-4 bg-[#131314] rounded-xl border border-[#242424] py-[24px] md:gap-8 md:py-[48px]",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("img",{src:u4e,alt:"Web",className:"w-10 h-10 mb-2 md:w-12 md:h-12 md:mb-4"}),t.jsx("div",{className:"mb-3 text-[14px]  md:text-lg font-medium font-['Inter'] text-white",children:"Start New Deployment"}),t.jsxs("div",{className:"flex flex-col mb-3 md:mb-6 text-center font-medium text-[13px]  md:text-[15px] text-white/50",children:[t.jsx("span",{className:"md:block hidden font-['Inter']",children:"Ready to go live? Hit Start Deployment to launch your app."}),t.jsxs("span",{className:"font-['Inter'] text-[#F3CA5F] ",children:["Each new deployment costs ",i," credits/month."]})]}),t.jsx("div",{children:t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsx("button",{"data-testid":Ss.deploy.startButton,type:"button",onClick:e,className:"flex items-center gap-2 px-3 py-1 text-black bg-white rounded-full md:px-6 md:py-2 hover:bg-white/90 disabled:opacity-50",disabled:n||s||r,children:n||s?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{children:"Loading..."})]}):t.jsxs("div",{className:"flex items-center gap-2 text-[15px]  md:text-lg font-semibold font-brockmann",children:[t.jsx("span",{children:"Start Deployment"}),t.jsx("img",{src:nU,alt:"Deploy",className:"w-4 h-4 md:w-6 md:h-6"})]})})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",{hidden:!r}),children:[r&&t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})})]})})]})}function h4e({onDeployClick:e,loading:n,localLoading:s,podIsPaused:r,creditsPerMonth:i=50}){return t.jsxs(xe.div,{className:"flex flex-col gap-10 p-10 rounded-xl border border-dashed border-white/20 bg-[#0F0F10]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("img",{src:p4e,alt:"Globe",className:"w-[40px] h-[40px] mb-6"}),t.jsx("h2",{className:"text-[18px] font-medium text-[#F2F5F7] mb-1 font-brockmann leading-7 tracking-[-0.36px]",children:"Deploy your mobile app"}),t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-5",children:"Your app stays live and installable across devices after deployment"})]}),t.jsxs("div",{className:"relative flex pt-10 pb-4 px-6 items-start gap-6 rounded-[20px] border border-[#2A2A2C] bg-[#151819]",children:[t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-[6px] bg-[#151819] border border-[#252A2C] rounded-md",children:t.jsx("span",{className:"text-[12px] font-medium text-[#989EA0] font-brockmann tracking-[1.2px] uppercase leading-[20px]",children:"This enables"})}),t.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full",children:[t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(c4e,{fill:"#80FFF9"})}),t.jsxs("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:["Permanent app",t.jsx("br",{}),"access on Expo Go"]})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(N2,{fill:"#80FFF9"})}),t.jsx("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:"iOS builds - Publish to App Store"})]}),t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"mb-3 p-2 rounded-[20px] bg-[#1E2224]",children:t.jsx(d4e,{fill:"#80FFF9"})}),t.jsx("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-5",children:"Android builds - Publish to Google Play Store"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("div",{className:"text-center",children:t.jsxs("span",{className:"text-[15px] font-medium text-[#F3CA5F] font-['Inter'] leading-6",children:["Active deployment costs ",i," Credits/month"]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-2 px-6 py-3 text-black bg-white rounded-[50px] hover:bg-white/90 disabled:opacity-50 transition-colors",style:{boxShadow:"0 0 20px 0 rgba(255, 255, 255, 0.15), 0 0 40px 0 rgba(255, 255, 255, 0.10)"},disabled:n||s||r,children:n||s?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-5 h-5 animate-spin"}),t.jsx("span",{className:"text-[18px] font-semibold font-brockmann leading-6 tracking-[-0.18px]",children:"Loading..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-[18px] font-semibold font-brockmann leading-6 tracking-[-0.18px]",children:"Start Deployment"}),t.jsx("img",{src:nU,alt:"Deploy",className:"w-4 h-4 md:w-6 md:h-6"})]})})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",{hidden:!r}),children:[r&&t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})})]})]})}function x4e({deploymentSteps:e,currentStepIndex:n,deployStatus:s,latestRunStatus:r,stepNameMap:i,runningStepNameMap:a}){return t.jsx(xe.div,{className:"flex flex-col w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx("div",{className:"w-full border border-[#242424] rounded-[20px] overflow-hidden",children:t.jsx(ns,{mode:"wait",children:e.length>0?t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.map((o,l)=>{const c=l===n;let u=!1;c&&(s==="running"||r==="running")&&(u=!0),o.status==="pending"&&(l===0&&(s==="running"||r==="running")&&e.every(x=>x.status==="pending")||l>0&&e[l-1].status==="success")&&(u=!0),o.status==="running"&&(u=!0);const p=o.status==="success",f=o.status==="failed",m=l===e.length-1;let h;return u?h=i[o.name]?.running||a[o.name]||o.name:h=i[o.name]?.[o.status]||o.name,t.jsx(tt.Fragment,{children:t.jsx(xe.div,{className:A("relative bg-[#111112]",!m&&"border-b border-[#242424]"),initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:500,damping:30,mass:1,delay:l*.15},layout:!0,children:u?t.jsx("div",{className:"p-1.5",children:t.jsxs("div",{className:"flex items-center justify-between px-[14px] py-[14px] rounded-[12px]",style:{background:"linear-gradient(211.6deg, rgba(128, 255, 249, 0.1) 3.37%, rgba(21, 136, 252, 0.1) 102.77%)"},children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative w-6 h-6 flex items-center justify-center",children:t.jsx(ln,{className:"w-5 h-5 animate-spin text-[#3df]"})}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6",style:{background:"linear-gradient(234.4deg, #80FFF9 3.37%, #1588FC 102.77%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white",children:o.duration})]})}):f?t.jsxs("div",{className:"flex items-center justify-between px-5 py-5 bg-[#FF3333]/5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(mm,{className:"w-6 h-6 text-[#FF3333]"}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#FF3333]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-[#FF3333]/50",children:o.duration})]}):p?t.jsxs("div",{className:"flex items-center justify-between px-5 py-5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Mn,{className:"w-6 h-6 text-[#dddde6]",strokeWidth:2.5}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#dddde6]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white/20",children:o.duration})]}):t.jsxs("div",{className:"flex items-center justify-between px-5 py-5",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.jsx("div",{className:"w-4 h-4 rounded-full border-[#DDDDE6]/50 border-[1.5px]"})}),t.jsx("span",{className:"text-[18px] font-normal font-mono leading-6 text-[#737780]",children:h})]}),o.duration&&t.jsx("span",{className:"text-[16px] font-normal font-mono leading-6 text-white/20",children:o.duration})]})})},`step-${o.id}`)})},"deployment-steps-list"):null})})},"deployment-steps-container")}const U8=({barWidth:e=1,barGap:n=10,color:s="#FFF",width:r,height:i,className:a,opacity:o=1})=>{const l=d.useRef(null),c=d.useRef(null),[u,p]=d.useState({width:0,height:0}),f=d.useCallback((m,h,x,y)=>{m.clearRect(0,0,h,x),m.fillStyle="transparent",m.fillRect(0,0,h,x),m.strokeStyle=s,m.globalAlpha=o,m.lineWidth=e*y;const v=Math.sqrt(h*h+x*x),g=(e+n)*y,b=Math.ceil(v/g)*2;for(let w=0;w<b;w++){const N=w*g;m.beginPath();const j=N-v,_=0,C=N,F=v;m.moveTo(j,_),m.lineTo(C,F),m.stroke()}m.globalAlpha=1},[e,n,s,o]);return d.useEffect(()=>{const m=l.current,h=c.current;if(!m||!h)return;const x=m.getContext("2d");if(!x)return;const y=()=>{const g=window.devicePixelRatio||1,b=r||h.clientWidth,w=i||h.clientHeight;m.width=b*g,m.height=w*g,m.style.width=`${b}px`,m.style.height=`${w}px`,p({width:b,height:w}),f(x,m.width,m.height,g)};y();const v=new ResizeObserver(()=>{y()});return v.observe(h),()=>{v.disconnect()}},[f,r,i]),t.jsx("div",{ref:c,className:`w-full h-full ${a}`,children:t.jsx("canvas",{ref:l,className:"pointer-events-none",style:{width:u.width,height:u.height}})})},hS=W.common.timeRever,g4e=W.common.arrowDownBig,b4e=W.deployment.webDarkLink,wg=({deployStatus:e,currentActive:n,deployTime:s,deploymentLink:r,deploymentRun:i,onRollbackClick:a,inRollbackModal:o=!1,isRollbackTarget:l=!1,latestRunStatus:c=null,isExpoImage:u=!1,appName:p})=>{const f=i?.id?i.id.substring(0,7):"unknown",[m,h]=d.useState(!1),x=i?.rollback_possible??!0,y=e==="success"&&!n&&c!=="running"&&x,v={initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:30,mass:1}}},g={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:500,damping:30}},hover:{scale:1.05,transition:{type:"spring",stiffness:400,damping:20}},tap:{scale:.95}},b={initial:{opacity:0,scale:.9,x:10},animate:{opacity:1,scale:1,x:0,transition:{type:"spring",stiffness:500,damping:30}},exit:{opacity:0,scale:.9,x:10,transition:{duration:.2}}},w={initial:{rotate:0},hover:{rotate:10,transition:{type:"spring",stiffness:300,damping:10}}};return t.jsx(t.Fragment,{children:t.jsx(xe.div,{className:A("rounded-[12px] z-[10] relative flex items-center w-full justify-between backdrop-blur-[5px]",n&&!o?"p-3 md:p-4 md:py-4 bg-[linear-gradient(262deg,rgba(128,255,249,0.08)_2.73%,rgba(21,136,252,0.08)_121.11%)] md:max-h-[88px] border-[#80FFF9]/20 border-[1px]":o&&!l?" p-3 md:p-4 md:py-4 bg-[linear-gradient(262deg,rgba(128,255,249,0.08)_2.73%,rgba(21,136,252,0.08)_121.11%)] md:max-h-[80px] border-[#80FFF9]/50 border-[1px]":l?"p-3 md:p-5 md:py-4 bg-[#171718] md:max-h-[60px]":"md:rounded-[12px] pr-3 pl-4 py-4 bg-[#171718] md:max-h-[56px]"),variants:v,initial:"initial",animate:"animate",layout:!0,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:t.jsxs("div",{className:"flex flex-col items-start justify-between w-full gap-3 md:gap-0 md:items-center md:flex-row",children:[t.jsxs("div",{className:A("flex md:flex-row  items-center gap-2",n&&!o||o&&!l?"text-[#80FFF9]":"text-white"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(vc,{color:l?"#737780":o&&!l||n?"#2EE572":e==="failed"?"#ED5B5B":"#FFFFFF",size:16,innerSize:8,animate:o&&!l,className:""}),t.jsx("span",{className:A("font-medium font-['Inter']",e==="failed"&&"text-[#ED5B5B]",n&&"text-[#2EE572]"),children:e==="failed"?"Failed to Deploy":n?"Live":"Deployed"})]}),t.jsx("span",{className:"font-medium font-jetbrains opacity-50",children:f}),t.jsx("div",{className:A("h-[20px] w-[2px] ",n?"bg-[#80FFF920]":"bg-[#FFFFFF20]")}),t.jsx("span",{className:"font-medium font-['Inter'] text-sm text-nowrap opacity-50",children:s})]}),!o&&t.jsxs("div",{className:"flex items-center gap-4 group",children:[t.jsx(t.Fragment,{children:e==="success"&&n&&t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(xe.div,{onClick:()=>{u&&p?window.open(`${window.location.origin}/share?app=${encodeURIComponent(p)}`,"_blank"):r&&window.open(r,"_blank")},className:"flex items-center gap-8 max-h-[40px] rounded-full cursor-pointer bg-[#fff] pl-[14px] pr-[10px] py-[10px]",variants:g,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#000] font-semibold",children:"Visit"}),t.jsx(xe.img,{src:b4e,alt:"Web",className:"w-6 h-6 grayscale-[100]"})]})})}),y&&t.jsxs(ns,{children:[m&&t.jsx(t.Fragment,{children:t.jsxs(xe.div,{onClick:()=>a&&a(i?.id||""),className:"flex cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:b,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),t.jsx(xe.img,{src:hS,alt:"Web",className:"w-6 h-6"})]})}),t.jsxs(xe.div,{onClick:()=>a&&a(i?.id||""),className:"flex md:hidden cursor-pointer items-center gap-4 rounded-full bg-[#FFFFFF08] hover:bg-[#ffffff10] pl-[14px] pr-[10px] py-[6px]",variants:b,initial:"initial",animate:"animate",exit:"exit",whileHover:"hover",whileTap:"tap",children:[t.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Rollback"}),t.jsx(xe.img,{src:hS,alt:"Web",className:"w-6 h-6",variants:w,initial:"initial",whileHover:"hover"})]})]})]}),!l&&o&&t.jsxs("div",{className:"flex cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#2EE5721A]",children:[t.jsx(vc,{color:"#2EE572",size:16,innerSize:8,animate:!1,className:""}),t.jsx("span",{className:"text-[#2EE572] font-semibold",children:"Current"})]}),l&&t.jsx("img",{src:g4e,alt:"Arrow",className:"absolute -top-[3rem] left-1/2 transform -translate-x-1/2 z-10 min-w-[56px] min-h-[56px]"}),l&&t.jsx("div",{className:"flex relative cursor-pointer items-center gap-3 px-3 py-2 rounded-full bg-[#FFFFFF0A]",children:t.jsx("span",{className:"font-semibold text-white",children:"Previous"})})]})})})},y4e=W.common.dustBin,v4e=W.common.arrowUploadReadyDark,w4e=({isLoading:e,isDeploying:n,podIsPaused:s,latestSuccessfulDeployment:r,onShutdown:i,onRedeploy:a,onDeploy:o,jobId:l,isBuildRunning:c})=>{const u=()=>{z(cr.DEPLOYMENT_FOOTER_SHUTDOWN_CLICKED,{jobId:l}),i()},p=()=>{r?(z(cr.DEPLOYMENT_FOOTER_REDEPLOY_CLICKED,{jobId:l}),a()):(z(cr.DEPLOYMENT_FOOTER_START_DEPLOYMENT_CLICKED,{jobId:l}),o())};return t.jsxs("div",{className:"flex items-center justify-end w-full gap-4",children:[t.jsx("button",{type:"button",onClick:u,className:"bg-[#272729] text-white hover:bg-[#272729]/80 rounded-full md:px-[20px] px-3 py-2 md:py-3 text-sm flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e||n||c,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-[12px] md:text-[16px]",children:"Shut Down"}),t.jsx("img",{src:y4e,alt:"Dust Bin",className:"hidden w-6 h-6 md:block"})]})}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsx("button",{type:"button",onClick:p,className:"flex items-center gap-1 px-3 py-2 text-sm text-black bg-white rounded-full md:px-5 md:py-3 hover:bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed",disabled:e||n||s||c,children:e||n?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-6 h-6 mr-1 animate-spin"}),t.jsx("span",{children:"Loading..."})]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-[12px] md:text-[16px]",children:r?"Re-Deploy":"Start Deployment"}),t.jsx("img",{src:v4e,alt:"Deploy",className:"hidden w-6 h-6 md:block"})]})})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",!s&&!c?"hidden":""),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:c?"Please wait for the build to complete":s?"Please wake up the agent before starting deployment":""}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})},C4e="https://qr.emergent.host";function _4e(e){return`${C4e}/?app=${e}`}function j4e(e,n={}){const{width:s=220,margin:r=0,darkColor:i="#FFFFFFCC",lightColor:a="#FFFFFF08"}=n,[o,l]=d.useState(""),[c,u]=d.useState(""),[p,f]=d.useState(!0),[m,h]=d.useState("");return d.useEffect(()=>{if(!e){f(!1);return}(async()=>{f(!0),h(""),u(""),l("");try{const y=await fetch(_4e(e));if(!y.ok)throw new Error("INVALID_APP_NAME");const{url:v}=await y.json();l(v);const g=await gg.toDataURL(v,{width:s,margin:r,color:{dark:i,light:a}});u(g)}catch(y){const v=y instanceof Error?y.message:String(y);h(v),Fn(Is.QR_CODE.EXPO_QR_GENERATION,y,{appName:e??void 0,errorMessage:v})}finally{f(!1)}})()},[e,s,r,i,a]),{qrDataUrl:c,expoUrl:o,isGenerating:p,error:m}}const sU=({className:e="",style:n,onClick:s})=>t.jsx("div",{className:A("w-4 h-4 rounded-full bg-[#67CB65] flex items-center justify-center shrink-0",e),style:n,onClick:s,children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:[t.jsx("g",{clipPath:"url(#clip0_211_18365)",children:t.jsx("path",{d:"M9.36832 2.58789C9.53317 2.58789 9.6779 2.64845 9.79605 2.7666C9.91407 2.88465 9.97467 3.0287 9.97476 3.19336C9.97476 3.35822 9.91421 3.50294 9.79605 3.62109L5.19547 8.2207C5.078 8.33811 4.9361 8.40039 4.77457 8.40039C4.61324 8.40028 4.47199 8.33798 4.35464 8.2207L2.20425 6.07031C2.08552 5.95147 2.02638 5.80644 2.0314 5.64062C2.03639 5.47692 2.09952 5.33423 2.21695 5.2168C2.33508 5.0987 2.47891 5.03712 2.64371 5.03711C2.80851 5.03711 2.95233 5.09872 3.07047 5.2168H3.07144L4.77457 6.93262L8.94156 2.7666C9.05961 2.64855 9.20365 2.588 9.36832 2.58789Z",fill:"#060809",stroke:"#060809",strokeWidth:"0.2"})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_211_18365",children:t.jsx("rect",{width:"12",height:"12",fill:"white"})})})]})}),rU=({color:e="#FF6666",fill:n,className:s="",style:r,onClick:i})=>{const a=n||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:s,style:r,onClick:i,children:t.jsx("path",{d:"M10.0013 14.166C10.2374 14.166 10.4353 14.0862 10.5951 13.9264C10.7548 13.7667 10.8346 13.5688 10.8346 13.3327C10.8346 13.0966 10.7548 12.8987 10.5951 12.7389C10.4353 12.5792 10.2374 12.4993 10.0013 12.4993C9.76519 12.4993 9.56727 12.5792 9.40755 12.7389C9.24783 12.8987 9.16797 13.0966 9.16797 13.3327C9.16797 13.5688 9.24783 13.7667 9.40755 13.9264C9.56727 14.0862 9.76519 14.166 10.0013 14.166ZM9.16797 10.8327H10.8346V5.83268H9.16797V10.8327ZM10.0013 18.3327C8.84852 18.3327 7.76519 18.1139 6.7513 17.6764C5.73741 17.2389 4.85547 16.6452 4.10547 15.8952C3.35547 15.1452 2.76172 14.2632 2.32422 13.2493C1.88672 12.2355 1.66797 11.1521 1.66797 9.99935C1.66797 8.84657 1.88672 7.76324 2.32422 6.74935C2.76172 5.73546 3.35547 4.85352 4.10547 4.10352C4.85547 3.35352 5.73741 2.75977 6.7513 2.32227C7.76519 1.88477 8.84852 1.66602 10.0013 1.66602C11.1541 1.66602 12.2374 1.88477 13.2513 2.32227C14.2652 2.75977 15.1471 3.35352 15.8971 4.10352C16.6471 4.85352 17.2409 5.73546 17.6784 6.74935C18.1159 7.76324 18.3346 8.84657 18.3346 9.99935C18.3346 11.1521 18.1159 12.2355 17.6784 13.2493C17.2409 14.2632 16.6471 15.1452 15.8971 15.8952C15.1471 16.6452 14.2652 17.2389 13.2513 17.6764C12.2374 18.1139 11.1541 18.3327 10.0013 18.3327Z",fill:a})})},N4e={running:{bgColor:"bg-[#152229]",textColor:"text-[#5BC4E8]",hoverColor:"hover:text-[#7DD8F8]"},failed:{bgColor:"bg-[#FF666626]",textColor:"text-[#FF6B6B]",hoverColor:"hover:text-[#FF8A8A]"},ready:{bgColor:"bg-[rgba(103,203,101,0.1)]",textColor:"text-[rgba(103,203,101,0.8)]",hoverColor:"hover:text-[#7DD87B]",buttonTextColor:"text-[#67CB65]"}};function Nu({status:e,message:n,onViewClick:s}){const r=N4e[e],i=()=>{switch(e){case"running":return t.jsx(ln,{className:A("w-4 h-4 animate-spin shrink-0",r.textColor)});case"failed":return t.jsx(rU,{});case"ready":return t.jsx(sU,{})}};return t.jsxs("div",{className:A("flex items-center justify-center sm:justify-start gap-2 px-3 sm:px-4 py-[6px] rounded-lg",r.bgColor),children:[i(),t.jsx("span",{className:A("text-[13px] sm:text-[14px] font-normal font-['Inter'] leading-5 text-center sm:text-left",r.textColor),children:n}),s&&e!=="running"&&t.jsx("button",{onClick:s,className:A("text-[13px] sm:text-[14px] font-medium font-['Inter'] leading-5 underline transition-colors",e==="ready"?r.buttonTextColor:r.textColor,r.hoverColor),children:"View"})]})}const F4e=W.panels.close,E4e=({onClose:e,dataTestId:n})=>t.jsx("button",{"data-testid":n,type:"button",title:"Close",onClick:e,className:"w-8 h-8 bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:F4e,alt:"Close",className:"w-5 h-5"})}),rb=({deployStatus:e,onBackClick:n,onClose:s,latestRunningStatus:r,title:i,showBackButton:a=!1,icon:o,showCloseButton:l})=>{const c=e==="running"||r==="running"?"Deployment in progress...":"Deployments",u=l??!a;return t.jsxs("div",{"data-testid":Ss.deploy.headerContainer,className:"px-3 md:px-6 md:pt-5 z-[49] sticky top-0 bg-[#111112] py-3 md:py-5 max-h-[69px] flex items-center justify-between border-b border-[#1F1F1F]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a&&t.jsx("button",{"data-testid":Ss.deploy.backButton,title:"Back",type:"button",onClick:n||s,className:"text-gray-400 hover:text-white",children:t.jsx(Z9,{className:"w-5 h-5 md:w-6 md:h-6"})}),o,t.jsx("div",{className:"text-white font-medium text-[14px] md:text-[18px]",children:i||c})]}),u&&t.jsx(E4e,{onClose:s,dataTestId:"deploy-panel-close-button"})]})},S4e=W.deployment.keyAlert,k4e=()=>t.jsxs("div",{className:"w-full p-4 py-3 pb-5   rounded-tl-[12px] bg-[#f2994a]/[0.10] backdrop-blur-[40px] rounded-tr-[12px] flex items-center gap-2",children:[t.jsx("img",{src:S4e,alt:"Key Alert",className:"flex-shrink-0 w-6 h-6"}),t.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium",children:"Env variables are not synced to Production. Please Re-Deploy to sync them."})]}),T4e=({children:e,className:n,showEnvWarning:s=!1})=>t.jsxs(t.Fragment,{children:[s&&t.jsx(k4e,{}),t.jsx("div",{className:A("p-3 md:p-5 md:px-5 max-h-[96px] sticky bottom-0 left-0 right-0 bg-[#111112] border-t border-[#242424] flex flex-col",n),children:t.jsx("div",{className:"flex items-center justify-between w-full gap-2",children:e})})]}),iU=({size:e=20,color:n="#0F0F10",className:s=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[t.jsx("mask",{id:"mask0_694_46203",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:t.jsx("rect",{width:"20",height:"20",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_694_46203)",children:t.jsx("path",{d:"M10.0007 15.8333C10.9173 15.8333 11.702 15.5069 12.3548 14.8542C13.0076 14.2014 13.334 13.4167 13.334 12.5V9.16667C13.334 8.25 13.0076 7.46528 12.3548 6.8125C11.702 6.15972 10.9173 5.83333 10.0007 5.83333C9.08398 5.83333 8.29926 6.15972 7.64648 6.8125C6.99371 7.46528 6.66732 8.25 6.66732 9.16667V12.5C6.66732 13.4167 6.99371 14.2014 7.64648 14.8542C8.29926 15.5069 9.08398 15.8333 10.0007 15.8333ZM8.33398 13.3333H11.6673V11.6667H8.33398V13.3333ZM8.33398 10H11.6673V8.33333H8.33398V10ZM10.0007 17.5C9.09787 17.5 8.26107 17.2778 7.49023 16.8333C6.7194 16.3889 6.11176 15.7778 5.66732 15H3.33398V13.3333H5.08398C5.04232 13.0556 5.01801 12.7778 5.01107 12.5C5.00412 12.2222 5.00065 11.9444 5.00065 11.6667H3.33398V10H5.00065C5.00065 9.72222 5.00412 9.44444 5.01107 9.16667C5.01801 8.88889 5.04232 8.61111 5.08398 8.33333H3.33398V6.66667H5.66732C5.86176 6.34722 6.08051 6.04861 6.32357 5.77083C6.56662 5.49306 6.84787 5.25 7.16732 5.04167L5.83398 3.66667L7.00065 2.5L8.79232 4.29167C9.18121 4.16667 9.57704 4.10417 9.97982 4.10417C10.3826 4.10417 10.7784 4.16667 11.1673 4.29167L13.0007 2.5L14.1673 3.66667L12.7923 5.04167C13.1118 5.25 13.4 5.48958 13.6569 5.76042C13.9138 6.03125 14.1395 6.33333 14.334 6.66667H16.6673V8.33333H14.9173C14.959 8.61111 14.9833 8.88889 14.9902 9.16667C14.9972 9.44444 15.0007 9.72222 15.0007 10H16.6673V11.6667H15.0007C15.0007 11.9444 14.9972 12.2222 14.9902 12.5C14.9833 12.7778 14.959 13.0556 14.9173 13.3333H16.6673V15H14.334C13.8895 15.7778 13.2819 16.3889 12.5111 16.8333C11.7402 17.2778 10.9034 17.5 10.0007 17.5Z",fill:n})})]});iU.propTypes={size:Xe.oneOfType([Xe.number,Xe.string]),color:Xe.string,className:Xe.string};const aU=({size:e=20,color:n="#FFFFFF",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M9 13.4287C9.22733 13.4287 9.4457 13.5189 9.60645 13.6797C9.76715 13.8404 9.85742 14.0588 9.85742 14.2861C9.85739 14.5132 9.7669 14.7309 9.60645 14.8916C9.4457 15.0523 9.22733 15.1436 9 15.1436H3.85742C3.63009 15.1436 3.41172 15.0523 3.25098 14.8916C3.09044 14.7309 3.00004 14.5133 3 14.2861C3 14.0588 3.09023 13.8404 3.25098 13.6797C3.41172 13.519 3.63013 13.4287 3.85742 13.4287H9ZM14.1426 9.14355C14.3699 9.14355 14.5883 9.23379 14.749 9.39453C14.9096 9.55519 14.9999 9.77287 15 10C15 10.2273 14.9098 10.4457 14.749 10.6064C14.5883 10.7672 14.3699 10.8574 14.1426 10.8574H3.85742C3.63009 10.8574 3.41172 10.7672 3.25098 10.6064C3.09023 10.4457 3 10.2273 3 10C3.00007 9.77287 3.09043 9.55519 3.25098 9.39453C3.41172 9.23379 3.63009 9.14355 3.85742 9.14355H14.1426ZM14.1426 4.85742C14.3699 4.85742 14.5883 4.94765 14.749 5.1084C14.9098 5.26914 15 5.48752 15 5.71484C14.9999 5.94197 14.9096 6.15965 14.749 6.32031C14.5883 6.48106 14.3699 6.57129 14.1426 6.57129H3.85742C3.63009 6.57129 3.41172 6.48106 3.25098 6.32031C3.09043 6.15965 3.00007 5.94197 3 5.71484C3 5.48752 3.09023 5.26914 3.25098 5.1084C3.41172 4.94765 3.63009 4.85742 3.85742 4.85742H14.1426Z",fill:n})});aU.propTypes={size:Xe.oneOfType([Xe.number,Xe.string]),color:Xe.string,className:Xe.string};function I4e({deployStatus:e,onLogsClick:n,onLiveLogsClick:s,onFixWithAgentClick:r,podIsPaused:i}){const a=()=>{e==="success"&&s?s():n&&n()};return t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:300,damping:30},className:"border border-[#FFFFFF1F] rounded-[12px] rounded-t-none border-t-0 p-4 bg-[#19191A]",children:t.jsxs("div",{className:"flex max-md:flex-col max-md:gap-2 justify-between md:items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-white text-base font-medium mb-1",children:e==="success"?"Noticing issues on your live app?":"We couldn't deploy your app"}),t.jsx("p",{className:"text-gray-400 text-sm",children:"Share logs with the agent to diagnose and fix it"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:a,className:"max-md:w-1/2 flex items-center max-md:justify-center gap-2 text-sm  px-3 py-[8px] bg-[#FFFFFF10] hover:bg-[#FFFFFF20] text-white rounded-lg transition-colors font-semibold",children:["Logs",t.jsx(aU,{size:20,color:"#ffffff"})]}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsxs("button",{onClick:r,disabled:i,className:"max-md:w-1/2 flex items-center max-md:justify-center gap-2 text-sm  bg-white disabled:opacity-50 px-3 py-[8px]  text-black rounded-lg hover:bg-gray-100 transition-colors font-semibold disabled:cursor-not-allowed",children:["Fix with agent",t.jsx(iU,{size:20,color:"#000000"})]})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",i?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:i?"Please wake up the agent before fixing":""}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})]})})}function V8({error:e,defaultMessage:n}){return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Q9,{className:"w-5 h-5 text-[#7F8283] shrink-0"}),e?t.jsx("span",{className:"text-[14px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:e}):n?t.jsx("span",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:n}):null]})}function D2({onClick:e,disabled:n,isLoading:s,loadingText:r,onBack:i}){return t.jsxs("div",{className:A("flex",i?"justify-between":"justify-end"),children:[i&&t.jsxs("button",{type:"button",onClick:i,disabled:s,className:"flex items-center gap-2 text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px] hover:text-white transition-colors disabled:opacity-50",children:[t.jsx(Z9,{className:"w-4 h-4"}),"Back"]}),t.jsx("button",{onClick:e,disabled:n,className:"flex items-center justify-center gap-2 h-12 px-6 rounded-[28px] bg-white hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-5 h-5 text-[#0E0E0F] animate-spin"}),t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:r})]}):t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:"Continue"})})]})}function M2({onClick:e,className:n}){return t.jsx("button",{type:"button",onClick:e,className:A("absolute top-5 right-5 p-1.5 rounded-2xl bg-[#2A2A2C] hover:bg-[#3A3A3C] transition-colors z-10",n),children:t.jsx(Pt,{className:"w-5 h-5 text-[#7F8283]"})})}function oU({className:e}){return t.jsx("div",{className:A("w-full h-px bg-[#242424] sm:ml-10",e)})}function Io({onClick:e,children:n,disabled:s,className:r,variant:i="outline",fullWidth:a}){return t.jsx("button",{onClick:s?void 0:e,disabled:s,className:A("flex items-center justify-center gap-1.5 h-10 px-4 py-1.5 rounded-[28px] transition-colors","disabled:opacity-50 disabled:cursor-not-allowed",i==="outline"&&["bg-white/[0.04] border border-[#242424]","hover:bg-white/[0.08] active:bg-white/[0.12]","disabled:hover:bg-white/[0.04]"],i==="filled"&&["bg-white/[0.08]","hover:bg-white/[0.12] active:bg-white/[0.16]","disabled:hover:bg-white/[0.08]"],a&&"w-full flex-1",r),children:n})}function Ao({children:e,className:n}){return t.jsx("span",{className:A("text-[14px] font-medium text-white font-brockmann leading-5 tracking-[-0.28px]",n),children:e})}function lU(e){return"id"in e?e.id:e.run_id}function cU(e){return"params"in e?e.params.app_version:e.app_version}function dU(e){if("ipa_url"in e)return e.ipa_url}function uU(e){if("apk_url"in e)return e.apk_url}function pU(e){if("aab_url"in e)return e.aab_url}function fU(e){return"ipa_url"in e||"id"in e}function A4e(e){const n=Math.floor(e/60),s=e%60;return`${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`}function mU(e){return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0}).replace(","," '").replace(",",",")}function Cg(e){return/^\d+\.\d+\.\d+$/.test(e)}function D4e(e){const n=e.split(".");if(n.length!==3)return e;const[s,r,i]=n.map(Number);return isNaN(s)||isNaN(r)||isNaN(i)?e:`${s}.${r}.${i+1}`}function M4e(e,n){const s=e.split(".").map(Number),r=n.split(".").map(Number);for(let i=0;i<3;i++){if(s[i]<r[i])return-1;if(s[i]>r[i])return 1}return 0}function L4e(e,n){return!Cg(e)||!n?null:M4e(e,n)<=0?`Version must be greater than ${n}`:null}function R4e({children:e,className:n}){return t.jsx("div",{className:A("sm:hidden",n),children:e})}function xS({children:e,className:n}){return t.jsx("div",{className:A("hidden sm:flex",n),children:e})}function P4e({children:e,className:n}){return t.jsx("div",{className:A("flex sm:hidden",n),children:e})}function gS({isIOS:e,ipaUrl:n,apkUrl:s,aabUrl:r,onDownload:i,variant:a}){const o=a==="desktop";return e&&n?o?t.jsxs(Io,{onClick:()=>i(n),className:"hidden sm:flex",children:[t.jsx(Ao,{children:"Download IPA"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]}):t.jsx("div",{className:"flex sm:hidden w-full",children:t.jsxs(Io,{onClick:()=>i(n),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(Ao,{className:"text-white/80",children:"Download IPA"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]})}):!e&&(s||r)?o?t.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[s&&t.jsxs(Io,{onClick:()=>i(s),children:[t.jsx(Ao,{children:"APK"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]}),r&&t.jsxs(Io,{onClick:()=>i(r),children:[t.jsx(Ao,{children:"AAB"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]})]}):t.jsxs("div",{className:"flex sm:hidden items-center gap-2 w-full",children:[s&&t.jsxs(Io,{onClick:()=>i(s),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(Ao,{className:"text-white/80",children:"APK"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]}),r&&t.jsxs(Io,{onClick:()=>i(r),fullWidth:!0,className:"border-[#252A2C]",children:[t.jsx(Ao,{className:"text-white/80",children:"AAB"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]})]}):null}function bS({runId:e,isLoadingLogs:n,isFixingWithAgent:s,onViewLogs:r,onFixWithAgent:i,variant:a}){return a==="desktop"?t.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[t.jsxs(Io,{onClick:()=>r(e),disabled:n,variant:"filled",children:[t.jsx(Ao,{children:"Logs"}),n?t.jsx(ln,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(oN,{className:"w-5 h-5 text-white"})]}),t.jsxs(Io,{onClick:()=>i(e),disabled:s,variant:"filled",children:[t.jsx(Ao,{children:"Fix with agent"}),s?t.jsx(ln,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(py,{className:"w-5 h-5 text-white"})]})]}):t.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[t.jsxs(Io,{onClick:()=>r(e),disabled:n,variant:"filled",fullWidth:!0,children:[t.jsx(Ao,{children:"Logs"}),n?t.jsx(ln,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(oN,{className:"w-5 h-5 text-white"})]}),t.jsxs(Io,{onClick:()=>i(e),disabled:s,variant:"filled",fullWidth:!0,children:[t.jsx(Ao,{children:"Fix with agent"}),s?t.jsx(ln,{className:"w-5 h-5 text-white animate-spin"}):t.jsx(py,{className:"w-5 h-5 text-white"})]})]})}function yS({qrDataUrl:e,isGenerating:n,error:s,appName:r}){return t.jsxs("div",{className:"flex flex-col items-center border border-[#252A2C] rounded-[8px] gap-1 shrink-0",children:[t.jsx("div",{className:"bg-[#060809] rounded-lg w-[120px] h-[120px] flex items-center justify-center",children:n?t.jsx("div",{className:"text-gray-500 text-xs",children:"Loading..."}):s?t.jsx("div",{className:"text-gray-500 text-xs text-center px-2",children:"Failed to load"}):e?t.jsx("img",{src:e,alt:"Expo QR Code",className:"w-[112px] h-[112px]"}):null}),r&&t.jsxs("a",{href:`${window.location.origin}/share?app=${encodeURIComponent(r)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-[7px] py-[7px] bg-[#1E2224] rounded text-[12px] font-normal text-[#F2F5F7] font-['Inter'] leading-[18px] transition-colors",children:["Share expo app",t.jsx(gc,{className:"w-4 h-4"})]})]})}function I0({platform:e,buildCount:n,onClick:s,layout:r}){const i=e==="ios",a=i?N2:k8,o=n>0?`${i?"iOS":"Android"} builds`:`Get ${i?"iOS":"Android"} builds`;return t.jsxs("button",{onClick:s,className:A("flex items-center gap-2 h-10 px-4 py-1.5 bg-white/[0.08] rounded-[28px] hover:bg-white/[0.12] active:bg-white/[0.16] transition-colors",r==="mobile"?"justify-center gap-1.5 w-full":"justify-start"),children:[t.jsx(a,{className:A("w-5",i?"h-5":"h-[11px]"),color:"#EFF0F1"}),t.jsx("span",{className:"text-[14px] font-semibold text-[#EFF0F1] font-brockmann leading-5 tracking-[-0.28px]",children:o}),n>0&&t.jsx("span",{className:"flex items-center justify-center w-5 h-5 bg-white rounded-full text-[12px] font-semibold text-[#0E0E0F] font-['Inter']",children:n})]})}function O4e({deploymentHistory:e,appName:n,onAndroidBuildsClick:s,onIOSBuildsClick:r,iosBuildData:i,androidBuildData:a}){const o=i?.successfulBuilds?.length||0,l=a?.successfulBuilds?.length||0,c=i?.latestBuild?.latest_run?.status,u=i?.isBuilding||c==="running",p=c==="failed",f=c==="success",m=i?.successfulBuilds?.[0]?.params?.app_version,h=a?.latestBuild?.latest_run?.status,x=a?.isBuilding||h==="running"||h==="queued"||h==="pending",y=h==="failed",v=h==="success",g=a?.latestBuild?.latest_run?.app_version,b=F=>{z(Ps.GET_BUILD_CLICK,{build_type:F})},{qrDataUrl:w,isGenerating:N,error:j}=j4e(n),C=(()=>{const F=e.filter(M=>M.status==="success");if(F.length===0)return null;const E=F[F.length-1];return new Date(E.updated_at).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})();return t.jsxs(xe.div,{className:"flex flex-col gap-4 sm:gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex flex-col gap-1 px-4 sm:px-6 py-3 sm:py-4",children:[t.jsx("h2",{className:"text-[20px] sm:text-[24px] font-medium text-white font-brockmann leading-7 sm:leading-8 tracking-[-0.48px]",children:"Your app is live!"}),C&&t.jsxs("p",{className:"text-[13px] sm:text-[14px] font-normal text-[#7f8283] font-['Inter'] leading-5",children:["Since ",C]})]}),t.jsxs("div",{className:"relative rounded-[20px] bg-[#151819] border border-[#252A2C] overflow-hidden py-3 px-4 pr-3 sm:pl-4 sm:pr-3",children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(U8,{opacity:.03,barGap:10})}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center sm:gap-6 sm:mb-3",children:[t.jsxs("div",{className:"flex flex-row gap-3 sm:flex-col sm:gap-9 sm:py-2 sm:order-1",children:[t.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0 sm:flex-none",children:[t.jsx("p",{className:"text-[12px] font-medium text-[#989EA0] font-brockmann leading-5 tracking-[1.2px] uppercase",children:"Manage distribution"}),t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-5",children:"Access your app on Expo Go and prepare it for Android and iOS distribution"})]}),t.jsx(R4e,{children:t.jsx(yS,{qrDataUrl:w,isGenerating:N,error:j,appName:n})}),t.jsxs(xS,{className:"flex-row gap-4",children:[t.jsx(I0,{platform:"ios",buildCount:o,onClick:()=>{b("iOS"),r?.()},layout:"desktop"}),t.jsx(I0,{platform:"android",buildCount:l,onClick:()=>{b("Android"),s?.()},layout:"desktop"})]})]}),t.jsx(xS,{className:"flex-col items-center sm:order-2",children:t.jsx(yS,{qrDataUrl:w,isGenerating:N,error:j,appName:n})}),t.jsxs(P4e,{className:"flex-col gap-2 mt-2",children:[t.jsx(I0,{platform:"ios",buildCount:o,onClick:()=>{b("iOS"),r?.()},layout:"mobile"}),t.jsx(I0,{platform:"android",buildCount:l,onClick:()=>{b("Android"),s?.()},layout:"mobile"})]})]}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2 sm:mt-0",children:[u&&t.jsx(Nu,{status:"running",message:"iOS build generation is in progress"}),p&&!u&&t.jsx(Nu,{status:"failed",message:"iOS build generation failed",onViewClick:r}),f&&!u&&!p&&t.jsx(Nu,{status:"ready",message:`iOS version ${m||"1.0.0"} is ready to download`,onViewClick:r}),x&&t.jsx(Nu,{status:"running",message:"Android build generation is in progress"}),y&&!x&&t.jsx(Nu,{status:"failed",message:"Android build generation failed",onViewClick:s}),v&&!x&&!y&&t.jsx(Nu,{status:"ready",message:`Android version ${g||"1.0.0"} is ready to download`,onViewClick:s})]})]})]},"deployment-history")}const B4e=W.deployment.replace,U4e=W.deployment.replaceGrey,V4e=({availableDeployments:e,podIsPaused:n,onReplaceClick:s,jobId:r})=>{const i=()=>{z(cr.REPLACE_DEPLOYMENT_CLICKED,{jobId:r,availableDeploymentsCount:e?.length}),s()};return t.jsx(xe.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"bg-[#0F0F10] p-4 border border-[#242424] rounded-[12px] flex flex-col gap-4 md:gap-[24px]",children:[t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("span",{className:"text-[#FFFFFFCC] text-[14px] md:text-base font-medium font-['Inter']",children:[t.jsx("img",{src:U4e,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Replace Existing Deployment"]}),t.jsxs("div",{className:"flex items-center gap-2 bg-[#2EE5721A] rounded-[8px] p-[6px] pr-[12px]",children:[t.jsx(vc,{color:"#2EE572",size:16,innerSize:8,animate:!0,className:""}),t.jsxs("span",{className:"text-[#2EE572] text-nowrap font-medium text-[12px] md:text-[14px] font-['Inter']",children:[e?.length," Live Apps"]})]})]}),t.jsx("span",{className:"text-[#737780] text-[13px] md:text-base font-['Inter']",children:"Update one of your current deployments with a new application. Your existing app will be replaced and there'll be no additional charges."})]}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsxs("button",{type:"button",title:"Replace Existing Deployment",className:"bg-[#80FFF914] w-full flex items-center justify-center gap-2 p-3 rounded-[10px]",onClick:i,disabled:n,children:[t.jsx("span",{className:"text-[#80FFF9] text-[14px] md:text-base",children:"Replace Deployment"}),t.jsx("img",{src:B4e,alt:"Replace",className:"w-5 h-5 md:w-6 md:h-6"})]})}),t.jsxs(Xs,{className:A("bg-[#DDDDE6] text-black border-0",n?"":"hidden"),children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:n?"Please wake up the agent before replacing deployment":""}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})})},hU=({className:e="w-6 h-6",color:n="#DCDCE5"})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:e,children:[t.jsx("mask",{id:"mask0_arrow_upload",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_arrow_upload)",children:t.jsx("path",{d:"M4.5599 18.0474C3.9519 17.3274 3.4639 16.5354 3.0959 15.6714C2.7279 14.8074 2.4959 13.9034 2.3999 12.9594H4.3679C4.4639 13.6474 4.6399 14.3074 4.8959 14.9394C5.1519 15.5714 5.4879 16.1594 5.9039 16.7034L4.5599 18.0474ZM2.3999 11.0394C2.5279 10.0954 2.7679 9.19145 3.1199 8.32745C3.4719 7.46345 3.9519 6.67145 4.5599 5.95145L5.9039 7.29545C5.4879 7.83945 5.1519 8.42745 4.8959 9.05945C4.6399 9.69145 4.4639 10.3514 4.3679 11.0394H2.3999ZM10.9919 21.5514C10.0479 21.4554 9.1479 21.2274 8.2919 20.8674C7.4359 20.5074 6.6399 20.0314 5.9039 19.4394L7.2479 18.0474C7.8079 18.4634 8.3999 18.8074 9.0239 19.0794C9.6479 19.3514 10.3039 19.5354 10.9919 19.6314V21.5514ZM7.2959 5.95145L5.9039 4.55945C6.6559 3.96745 7.4639 3.49145 8.3279 3.13145C9.1919 2.77145 10.0959 2.54345 11.0399 2.44745V4.36745C10.3519 4.46345 9.6919 4.64745 9.0599 4.91945C8.4279 5.19145 7.8399 5.53545 7.2959 5.95145ZM12.9119 21.5514V19.6314C13.6159 19.5354 14.2839 19.3554 14.9159 19.0914C15.5479 18.8274 16.1439 18.4794 16.7039 18.0474L18.0959 19.4394C17.3439 20.0474 16.5319 20.5274 15.6599 20.8794C14.7879 21.2314 13.8719 21.4554 12.9119 21.5514ZM16.7519 5.95145C16.1919 5.53545 15.5919 5.19145 14.9519 4.91945C14.3119 4.64745 13.6479 4.46345 12.9599 4.36745V2.44745C13.9039 2.54345 14.8119 2.77145 15.6839 3.13145C16.5559 3.49145 17.3599 3.96745 18.0959 4.55945L16.7519 5.95145ZM19.4399 18.0474L18.0959 16.7034C18.5119 16.1594 18.8479 15.5714 19.1039 14.9394C19.3599 14.3074 19.5359 13.6474 19.6319 12.9594H21.5999C21.4719 13.9034 21.2319 14.8074 20.8799 15.6714C20.5279 16.5354 20.0479 17.3274 19.4399 18.0474ZM19.6319 11.0394C19.5359 10.3514 19.3599 9.69145 19.1039 9.05945C18.8479 8.42745 18.5119 7.83945 18.0959 7.29545L19.4399 5.95145C20.0479 6.67145 20.5359 7.46345 20.9039 8.32745C21.2719 9.19145 21.5039 10.0954 21.5999 11.0394H19.6319ZM11.0639 16.7994V10.8714L8.5679 13.3674L7.2239 11.9994L12.0239 7.19945L16.8239 11.9994L15.4559 13.3434L12.9839 10.8714V16.7994H11.0639Z",fill:n})})]}),H8=e=>{if(!e)return"";if(e.custom_domain)return e.custom_domain;if(e.deployUrl)try{return new URL(e.deployUrl).hostname}catch{return e.deployUrl}return""},yp=e=>{if(!e)return"";if(e.custom_domain){const n=e.custom_domain;return n.startsWith("http://")||n.startsWith("https://")?n:`https://${n}`}return e.deployUrl||""},H4e=W.deployment.replaceBlack,$4e=W.deployment.globeGlow,z4e=({availableDeployments:e,selectedDeployment:n,podIsPaused:s,onReplaceClick:r,onChangeAppClick:i,onNewDeploymentClick:a,jobId:o,newDeploymentCredits:l=50})=>{const c=n||e[0],u=e.length,p=c?H8(c):"",f=c?.deployStatus==="success"||c?.latest_run?.status==="success",{openJobTab:m}=B8(),h=()=>{z(_i.REPLACE_DEPLOYMENT_CLICKED,{jobId:o,availableDeploymentsCount:u,selectedDeploymentId:c?.id}),r()},x=()=>{z(_i.CHANGE_APP_CLICKED,{jobId:o,availableDeploymentsCount:u}),i()},y=()=>{z(_i.NEW_DEPLOYMENT_CLICKED,{jobId:o}),a()},v=()=>{z(_i.CARD_EXTERNAL_LINK_CLICKED,{jobId:o,deploymentId:c?.id,appName:c?.app_name,url:yp(c)});const b=yp(c);b&&window.open(b,"_blank","noopener,noreferrer")},g=()=>{z(_i.CARD_JOB_TITLE_CLICKED,{jobId:o,deploymentId:c?.id,appName:c?.app_name}),c?.id&&m(c.id)};return t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsxs("div",{className:"relative overflow-hidden bg-[#0F0F10] border border-dashed border-[#242424] rounded-[16px]",children:[t.jsx("div",{className:"absolute inset-0 opacity-[0.03]",children:t.jsx(U8,{barWidth:1,barGap:8,color:"#FFF"})}),t.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[t.jsxs("div",{className:"w-full flex flex-col items-center gap-6 p-5",children:[t.jsx("img",{src:$4e,alt:"Globe",className:"w-12 h-12"}),t.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[t.jsxs("h3",{className:"text-white font-['Brockmann'] font-medium text-[18px] leading-[26px] tracking-[-0.36px]",children:["You have ",u," live app",u!==1?"s":""," related to this task"]}),t.jsx("p",{className:"text-[#7F8283] text-[14px] leading-[20px]",children:"Do you want to replace them with what you've built here? No additional credits."})]}),c&&t.jsxs("div",{className:"relative w-full flex flex-col items-center justify-center",children:[t.jsx("div",{className:A("relative z-[2] w-[320px] rounded-[12px] border border-[#272728] px-4 py-3 overflow-hidden hover:border-[#3A3A3C] transition-colors",u>1&&"mb-[-40px]"),style:{background:"linear-gradient(180deg, #0F0F10 1.5%, #212123 98.5%)"},children:t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:g,className:"flex items-center gap-1 cursor-pointer hover:opacity-80 transition-opacity",children:[t.jsx("span",{className:"text-white font-medium text-[16px] leading-[24px] capitalize",children:c.app_name}),t.jsx(gae,{className:"w-5 h-5 text-white/70"})]}),f&&t.jsxs("div",{className:"flex items-center -mr-1.5 gap-1.5 px-2 py-0.5 rounded-[12px] bg-[rgba(46,229,114,0.04)]",children:[t.jsx(vc,{color:"#2EE572",size:12,innerSize:6,animate:!1}),t.jsx("span",{className:"text-[#2EE572] text-[14px] font-['Brockmann'] font-medium leading-[20px]",children:"Live"})]})]}),p&&t.jsx("button",{onClick:v,className:"text-[rgba(255,255,255,0.6)] hover:text-white text-[14px] font-medium leading-[20px] underline truncate max-w-[230px] cursor-pointer transition-colors text-left",children:p})]})}),u>1&&t.jsx("button",{onClick:x,className:"relative z-[1] w-[288px] h-[70px] rounded-[12px] border border-[#272728] overflow-hidden flex items-end justify-center pb-1.5 cursor-pointer hover:border-[#3A3A3C] transition-colors",style:{background:"linear-gradient(180deg, #0F0F10 1.5%, #212123 98.5%)"},children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("span",{className:"text-[#989EA0] text-[14px] font-medium leading-[20px]",children:"Change app"}),t.jsx(Dr,{className:"w-4 h-4 text-[#989EA0] mt-0.5"})]})})]}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsx("div",{className:"relative rounded-[30px] p-[1px]",style:{background:`
                        linear-gradient(170deg, #77F5F9 0%, transparent 50%),
                        linear-gradient(315deg, #77F5F9 0%, transparent 10%),
                        rgba(255,255,255,0.12)
                      `},children:t.jsx("div",{className:"bg-[#0F0F10] rounded-[29px] p-1",children:t.jsxs("button",{type:"button",onClick:h,disabled:s||!c,className:A("relative flex items-center justify-center gap-2 py-2 px-6 rounded-[27px] transition-all bg-white hover:bg-gray-100 shadow-[0px_469px_131px_0px_rgba(255,255,255,0),0px_300px_120px_0px_rgba(255,255,255,0.03),0px_169px_101px_0px_rgba(255,255,255,0.1),0px_70px_70px_0px_rgba(255,255,255,0.1),0px_20px_40px_0px_rgba(255,255,255,0.1)]",(s||!c)&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"text-black font-['Brockmann'] font-semibold text-[18px] leading-[24px] tracking-[-0.18px]",children:"Replace deployment"}),t.jsx("img",{src:H4e,alt:"Replace",className:"w-6 h-6"})]})})})}),s&&t.jsxs(Xs,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] font-['Inter']",children:"Please wake up the agent before replacing deployment"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]}),t.jsxs("div",{className:"w-full flex items-center gap-3 px-0",children:[t.jsx("div",{className:"flex-1 border-t border-dashed border-[#2A2A2C]"}),t.jsx("span",{className:"text-[#4A4A4C] text-[12px] font-medium",children:"OR"}),t.jsx("div",{className:"flex-1 border-t border-dashed border-[#2A2A2C]"})]}),t.jsxs("div",{className:"w-full flex flex-col items-center gap-4 p-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-white font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[-0.28px]",children:"Deploy as a new app"}),t.jsx("div",{className:"bg-[rgba(243,202,95,0.24)] px-3 py-0.5 rounded-[12px]",children:t.jsxs("span",{className:"font-['Inter'] font-medium text-[12px] leading-[18px] whitespace-nowrap bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(180deg, #FFFFFF 0%, #000000 100%), linear-gradient(0deg, #F3CA5F, #F3CA5F)",backgroundBlendMode:"overlay, normal",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[l," Credits"]})})]}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:y,disabled:s,className:A("flex items-center justify-center gap-2 h-12 px-5 rounded-[24px] transition-all bg-[#222224] hover:bg-[#2A2A2C]",s&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"text-[#DCDCE5] font-['Brockmann'] font-medium text-[16px] leading-[24px] whitespace-nowrap",children:"Start new deployment"}),t.jsx(hU,{className:"w-6 h-6"})]})}),s&&t.jsxs(Xs,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] font-['Inter']",children:"Please wake up the agent before deploying"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})]})]})})},W4e=W.common.captivePortal,G4e=W.icons.animatedSpinner,q4e=e=>e==="running"?{bgColor:"#1588FC20",color:"#33DDFF",text:"Deploying",animate:!0}:e==="success"?{bgColor:"#2EE57220",color:"#2EE572",text:"Live",animate:!0}:e==="failed"?{bgColor:"#ffffff10",color:"#ED5B5B",text:"Failed",animate:!1}:{bgColor:"#73778020",color:"#737780",text:"Unknown",animate:!1};function K4e({deployment:e,index:n,hoveredCard:s,onHoverStart:r,onHoverEnd:i,onClick:a,fromRedeployModal:o=!1,allowHover:l=!0}){const c=e.deployStatus,u=q4e(c),p=e.deployUrl,f=e.id.substring(0,6),m=new Date(e.latest_run.updated_at),h=m!=null?`deployed ${TP(m)}`:"Unknown";return t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},whileHover:l?{y:-4,boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.2)",transition:{type:"tween",ease:"easeInOut",duration:.3}}:{},transition:{type:"tween",ease:"easeInOut",duration:.2,delay:n*.1},onHoverStart:()=>r(e.id),onHoverEnd:i,onClick:()=>a(e),children:t.jsxs("div",{className:A("rounded-[16px] overflow-clip p-5 gap-5 bg-[#18181A] border h-full flex flex-col justify-between cursor-pointer transition-all duration-200",s===e.id?"border-[#FFFFFF20] shadow-lg":"border-[#FFFFFF0F]",o?"bg-[#161617]":"cursor-pointer "),children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:A("text-[14px]  md:text-[16px] font-medium font-brockmann transition-colors duration-200 capitalize",s===e.id?"text-white/95":"text-white/80"),children:e.app_name}),t.jsxs("div",{className:"flex items-center gap-[6px] px-[8px] py-[2px] rounded-[8px] transition-all duration-200 bg-[#2EE5720A]",children:[c!="running"&&t.jsx(vc,{color:c!="failed"?u.color:"#ffffff60",size:16,innerSize:8,animate:u.animate}),c==="running"&&t.jsx("img",{src:G4e,alt:"Loading...",className:"w-6 h-6"}),t.jsx("span",{className:"text-[14px] font-medium transition-colors duration-200",style:{color:c!="failed"?u.color:"#ffffff60",opacity:s===e.id?1:.9},children:u.text})]})]}),t.jsx("div",{className:A("text-[12px] md:text-[14px]  font-['Inter'] font-medium transition-colors duration-200 truncate line-clamp-2",s===e.id?"text-white/40":"text-white/20"),children:e.description})]}),c!="failed"&&t.jsxs("a",{href:IP({status:c,deployment:e,deployUrl:p}),target:"_blank",rel:"noopener noreferrer",className:A("flex w-full p-1 px-[10px] pl-[14px] max-h-[40px] max-w-[100px] items-center justify-center gap-2  rounded-[10px] transition-all duration-200",s===e.id&&c!=="running"?"bg-[#FFFFFF15]":"bg-[#FFFFFF0F]",s===e.id&&c!=="running"?"hover:bg-[#ffffff20]":"hover:bg-[#3A3A3C]",c==="running"&&"opacity-30 cursor-not-allowed hover:bg-[#FFFFFF0F]"),onClick:x=>x.stopPropagation(),children:[t.jsx("span",{className:A("transition-colors duration-200",s===e.id?"text-white/90":"text-white/70"),children:"Visit"}),t.jsx("img",{src:W4e,alt:"Visit",className:"w-4 h-4"})]})]}),t.jsxs("div",{className:"flex justify-between font-['Inter'] font-medium text-[12px]  md:text-[14px] text-[#FFFFFF33]",children:[t.jsxs("span",{className:"font-['Inter']",children:["Last ",h]}),t.jsxs("span",{className:"font-['Inter']",children:["# EMT-",f]})]})]})},e.id)}function Y4e({deploymentHistory:e,jobId:n,handleDeploy:s,runId:r,deployUrl:i,customDomain:a,latestRunStatus:o,agentStatus:l,onRollbackClick:c,formatTimeAgo:u,handleLogsClick:p,handleLiveLogsClick:f,handleFixWithAgent:m,loadDeployLogs:h,isExpoImage:x=!1,appName:y,podIsPaused:v}){const{toast:g}=ds(),b=async j=>{if(h)try{await h(j)}catch{}};d.useEffect(()=>{n&&b(n)},[n]);const w=()=>a&&a.status==="verified"?a?.domain.includes("http")?a.domain:`https://${a.domain}`:i||"",N=j=>{if(l==="running"){g({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before rolling back",variant:"destructive",duration:2e3});return}c(j)};return t.jsx(Ws,{children:t.jsxs(xe.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsx("div",{className:"max-h-[240px] relative z-[5] flex flex-col gap-8 overflow-y-auto overflow-clip border border-[#FFFFFF1F] rounded-[12px] rounded-b-none border-b-0",children:t.jsx(ns,{mode:"wait",children:e&&e.length>0?t.jsxs(xe.div,{className:"flex relative flex-col gap-4 md:gap-[6px] z-[10] p-2 md:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[t.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:t.jsx(U8,{opacity:.03,barGap:10})}),e.map((j,_)=>t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:_*.1},className:"z-[10]",children:t.jsx(wg,{jobId:n,handleDeploy:s,deployStatus:j.status,currentActive:j.id===r&&j.status==="success",deployTime:u(j.updated_at),deploymentLink:w(),deploymentRun:j,latestRunStatus:o,isExpoImage:x,appName:y,onRollbackClick:N})},`history-${j.id}`),_<e.length-1&&t.jsx("div",{className:" w-[3px] ml-[24px] hidden md:block md:h-[16px] dotted-spaced  border-[#FFFFFF20] border-dashed -bottom-[24px] border-l-[2px] left-[28px]"})]}))]},"history-list"):t.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsx("div",{className:"py-4 text-center text-gray-400",children:"No deployment history available"})},"no-history")})}),t.jsx(I4e,{deployStatus:e[0]?.status,onLogsClick:p,onLiveLogsClick:f,onFixWithAgentClick:m,podIsPaused:v})]},"deployment-history")})}const Z4e=W.icons.copyWhite,J4e=W.deployment.article,X4e=W.deployment.dangerous,Q4e=W.deployment.dangerousActive,ebe=W.deployment.warningInactive,tbe=W.deployment.warningActive,nbe={info:"text-[#EDEDED] bg-[#EDEDED00] hover:bg-[#EDEDED26]",warning:"text-[#E38F45] bg-[#E38F4526] hover:bg-[#E38F454D]",error:"text-[#FF6666] bg-[#FF666626] hover:bg-[#FF66664D]"},sbe=[],vS=[{name:"All Logs",icon:"",activeIcon:"",type:"all"},{name:"Error Logs",icon:X4e,activeIcon:Q4e,type:"error"},{name:"Warning Logs",icon:ebe,activeIcon:tbe,type:"warning"}];function xU({isOpen:e,onClose:n,onShareLogs:s,jobId:r,deployStatus:i,deployLogs:a=[]}){const[o,l]=d.useState(vS[0]),[c,u]=d.useState(!1),{toast:p}=ds(),f=a.map(x=>{let y="info";const v=x.toLowerCase();return v.includes("error")||v.includes("failed")||v.includes("exception")||v.includes("fatal")||v.includes("critical")?y="error":(v.includes("warn")||v.includes("warning")||v.includes("deprecated")||v.includes("skipping"))&&(y="warning"),{timestamp:"",type:y,message:x}}),m=()=>{z(i==="success"?"deploy_live_share_with_agent_clicked":"deploy_failure_share_with_agent_clicked",{jobId:r,deployStatus:i}),h.length>0&&s(h.filter(x=>o.type==="all"||x.type===o.type).map(x=>x.message))},h=f.length>0?f:sbe;return e?t.jsx("div",{className:"absolute inset-0 z-[49] top-0 bottom-0 bg-black/50 backdrop-blur-[10px] flex pt-[69px] w-full",children:t.jsxs("div",{className:"flex flex-col flex-1 w-full",children:[t.jsxs("div",{className:"flex h-[36px] w-full justify-between border border-t-0 border-[#242424]",children:[t.jsx("div",{className:"flex h-[36px]",children:vS.map(x=>{const y=x.type==="all"?h.length:h.filter(v=>v.type===x.type).length;return t.jsxs("div",{onClick:()=>l(x),className:A("h-[36px] px-6 py-2 flex items-center justify-center cursor-pointer gap-1  border-[#242424] border-t-0 border-b-0 border-r",o.name===x.name?"bg-[#FFFFFF] text-[#131314]":""),children:[x.icon&&t.jsx("img",{src:o===x?x.activeIcon:x.icon,alt:x.name,className:"w-5 h-5 max-md:hidden"}),t.jsxs("span",{className:A("text-[#131314] font-['Inter'] max-md:text-[10px] text-[13px] font-semibold",o.name===x.name?"text-[#131314]":"text-[#FFFFFF50]"),children:[x.name,t.jsxs("span",{className:"font-['Inter'] max-md:hidden",children:["(",y,")"]})]})]},x.name)})}),t.jsxs("div",{onClick:n,className:"bg-[#242424] h-full px-6 py-2 gap-1 flex items-center justify-center cursor-pointer",children:[t.jsx(Pt,{className:"w-5 h-5 p-[1px]"}),t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] text-[13px] font-semibold ",children:"Close"})]})]}),t.jsx("div",{className:"flex-1 w-full h-full pt-2 overflow-x-scroll overflow-y-scroll md:pt-5 hide-scrollbars",children:h.length===0?t.jsx("div",{className:"flex items-center justify-center h-full text-[#FFFFFF] text-center",children:t.jsxs("div",{children:[t.jsx("div",{className:"mb-2 text-lg",children:"No logs available"}),t.jsx("div",{className:"text-sm text-[#06050550]",children:"Logs will appear here when the build process starts"})]})}):t.jsx("div",{className:"min-w-max",children:h.filter(x=>o.type==="all"||x.type===o.type).map((x,y)=>t.jsx("div",{className:A("flex h-[36px] w-full px-6 py-2 items-center min-w-max",nbe[x.type]),children:t.jsx("span",{className:"font-jetbrains text-[12px]  md:text-[14px] whitespace-nowrap",children:x.message})},y))})}),a.length>0&&t.jsxs("div",{className:" bg-[#09090A] p-6 flex justify-end gap-4 border-t border-[#242424]",children:[t.jsx("button",{type:"button",title:"Copy",disabled:h.length===0,onClick:async()=>{if(h.length>0)try{const x=h.filter(y=>o.type==="all"||y.type===o.type).map(y=>y.message).join(`
`);await navigator.clipboard.writeText(x),u(!0),setTimeout(()=>u(!1),2e3)}catch{p({title:"Error Copying Logs",description:"Failed to copy logs. Please try again.",variant:"destructive",duration:3e3})}},className:A("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center gap-2 tracking-[-0.2px] font-semibold transition-colors",h.length===0?"bg-[#E6E6E610] text-[#E6E6E650] cursor-not-allowed":"bg-[#E6E6E61A] text-[#E6E6E6] hover:bg-[#E6E6E620] cursor-pointer"),children:c?t.jsxs(t.Fragment,{children:["Copied! ",t.jsx(Mn,{className:"w-6 h-6"})]}):t.jsxs(t.Fragment,{children:["Copy"," ",t.jsx("img",{src:Z4e,alt:"Copy",className:A("max-md:w-4 max-md:h-4 w-6 h-6",h.length===0&&"opacity-50")})]})}),t.jsxs("button",{type:"button",title:"Share Logs with Agent",disabled:h.length===0,onClick:m,className:A("p-2 md:p-3 md:pr-4 md:pl-5 max-md:text-[12px] rounded-full flex items-center font-semibold gap-2 tracking-[-0.2px]",h.length===0?"bg-[#E6E6E650] text-[#0E0E0F50] cursor-not-allowed":"bg-[#E6E6E6] text-[#0E0E0F] hover:bg-[#E6E6E690] cursor-pointer"),children:["Share Logs with Agent"," ",t.jsx("img",{src:J4e,alt:"Copy",className:A("max-md:w-4 max-md:h-4 w-6 h-6",h.length===0&&"opacity-50")})]})]})]})}):null}const Ei=({isOpen:e,onClose:n,children:s,position:r="bottom",blurStrength:i="md",backgroundColor:a="rgba(15, 15, 16, 0.7)",className:o="",containerClassName:l="",backdropClassName:c="",showCloseButton:u=!1,closeOnOutsideClick:p=!0,animationDuration:f=.3,contained:m=!1})=>{const x={sm:"backdrop-blur-sm",md:"backdrop-blur-md",lg:"backdrop-blur-lg",xl:"backdrop-blur-xl","2xl":"backdrop-blur-2xl","3xl":"backdrop-blur-3xl"}[i]||"backdrop-blur-md",y={bottom:"items-end",center:"items-center",top:"items-start"},v=g=>{p&&g.target===g.currentTarget&&n&&n()};return t.jsx(ns,{children:e&&t.jsxs(xe.div,{className:A(m?"absolute":"fixed",m?"top-0 left-0 right-0 bottom-0":"inset-0","z-[990] md:z-[99] flex justify-center",y[r],l),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:f},onClick:v,style:{backgroundColor:"transparent"},children:[t.jsx(xe.div,{className:A("absolute inset-0 pointer-events-none",x,c),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:f},style:{backgroundColor:a}}),t.jsx(xe.div,{className:A("relative z-10 w-full max-w-full",r==="bottom"&&"mb-0",r==="top"&&"mt-0",o),initial:{opacity:0,y:r==="bottom"?50:r==="top"?-50:0,scale:r==="center"?.95:1},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:r==="bottom"?50:r==="top"?-50:0,scale:r==="center"?.95:1},transition:{duration:f},children:s})]})})},rbe={requiredSize:1024},ibe={requiredSize:512,maxFileSize:1024*1024};function abe(e,n){return new Promise(s=>{if(e.type!=="image/png"){s({isValid:!1,error:"App icon must be a PNG image"});return}if(n.maxFileSize&&e.size>n.maxFileSize){const i=n.maxFileSize/1048576;s({isValid:!1,error:`File size must be less than ${i}MB`});return}const r=new Image;r.onload=()=>{if(URL.revokeObjectURL(r.src),r.width!==n.requiredSize||r.height!==n.requiredSize){s({isValid:!1,error:`Image must be exactly ${n.requiredSize}x${n.requiredSize} pixels`});return}s({isValid:!0,error:null})},r.onerror=()=>{URL.revokeObjectURL(r.src),s({isValid:!1,error:"Failed to load image"})},r.src=URL.createObjectURL(e)})}function obe(e){const[n,s]=d.useState(null),[r,i]=d.useState(null),a=d.useRef(0),o=d.useCallback(async u=>{if(i(null),!u){s(null);return}const p=++a.current,f=await abe(u,e);p===a.current&&(f.isValid?(s(u),i(null)):(s(null),i(f.error)))},[e]),l=d.useCallback(()=>{s(null),i(null)},[]),c=d.useCallback(()=>{i(null)},[]);return{appIcon:n,appIconError:r,handleAppIconChange:o,clearIcon:l,clearIconError:c}}const lbe={ios:rbe,android:ibe};function gU({platform:e,isOpen:n,jobId:s,defaultBundleIdentifier:r="",onConfigLoaded:i}){const a=lbe[e],{appIcon:o,appIconError:l,handleAppIconChange:c,clearIcon:u,clearIconError:p}=obe(a),[f,m]=d.useState(""),[h,x]=d.useState(null),[y,v]=d.useState(null),[g,b]=d.useState("1.0.0"),[w,N]=d.useState(null),[j,_]=d.useState(null),[C,F]=d.useState(!1),[E,S]=d.useState(!1),M=o!==null||h!==null,k=o!==null||y!==null,I=Cg(g),D=L4e(g,w),P=j||r,R=f.trim().length>=2&&k&&g.trim()!==""&&I&&!D,B=d.useCallback(()=>{m(""),u(),p(),x(null),v(null),b("1.0.0"),N(null),_(null),F(!1)},[u,p]);return d.useEffect(()=>{n||B()},[n,B]),d.useEffect(()=>{n&&s&&(async()=>{S(!0);try{const H=await yt.getExpoBuildConfig(s,e);if(H){H.app_name&&m(H.app_name),H.app_logo_url&&x(H.app_logo_url),H.app_logo_id&&v(H.app_logo_id),H.version&&(N(H.version),b(D4e(H.version)));const $=e==="ios"?H.bundle_identifier:H.package_name;$&&_($),H.app_name&&H.app_logo_url&&F(!0),i?.({appName:H.app_name||null,appLogoUrl:H.app_logo_url||null,appLogoId:H.app_logo_id||null,version:H.version||null,bundleIdentifier:$||null})}}catch{F(!1)}finally{S(!1)}})()},[n,s,e,i]),{appName:f,setAppName:m,appIcon:o,appIconError:l,handleAppIconChange:c,appIconUrl:h,appIconId:y,versionName:g,setVersionName:b,versionError:D,bundleIdentifier:P,isAppDetailsLocked:C,isLoadingConfig:E,isBuildDetailsValid:R,hasValidIcon:M,resetForm:B}}function cbe({isOpen:e,jobId:n,bundleIdentifier:s,onCredentialsSubmit:r,onBuildDetailsContinue:i,onAuthMethodContinue:a,onOTPSubmit:o,onTriggerBuild:l,onResendOTP:c,isLoading:u}){const[p,f]=d.useState("build-details"),{toast:m}=ds(),h=gU({platform:"ios",isOpen:e,jobId:n,defaultBundleIdentifier:s});d.useEffect(()=>{e&&n&&z(Ps.IOS_DEVELOPER_DETAILS_SCREEN_OPENED)},[e,n]);const[x,y]=d.useState(""),[v,g]=d.useState(""),[b,w]=d.useState(!1),[N,j]=d.useState(null),[_,C]=d.useState(""),[F,E]=d.useState(!1),[S,M]=d.useState(0),k=120;d.useEffect(()=>{if(S<=0)return;const V=setInterval(()=>{M(ee=>ee-1)},1e3);return()=>clearInterval(V)},[S]);const I=x.trim()!==""&&v.trim()!==""&&N!==null,D=_.trim().length===6;d.useEffect(()=>{e||(f("build-details"),y(""),g(""),w(!1),j(null),C(""),M(0))},[e]);const P=async()=>{if(!h.isBuildDetailsValid||u||!h.appIcon&&!h.appIconId){m({title:"Error",description:"Details are not valid. Please check the form and try again.",variant:"destructive",duration:3e3});return}await i({appName:h.appName,appIcon:h.appIcon,appIconId:h.appIcon?null:h.appIconId,versionName:h.versionName,bundleIdentifier:h.bundleIdentifier})&&e&&f("credentials")},R=async()=>{if(!I||u||!N)return;z(Ps.IOS_DEVELOPER_DETAILS_CONTINUE_CLICKED),await r({email:x,password:v})&&await a(N)&&e&&(C(""),M(k),f("otp"))},B=async()=>{if(!D||u)return;const V=await o({code:_});V.shouldGoBack&&e?(C(""),f("credentials")):V.success&&e&&f("app-capabilities")},U=async()=>{if(!F){E(!0);try{await c()&&(C(""),M(k))}finally{E(!1)}}},H=()=>{z(Ps.IOS_DEVELOPER_DETAILS_BACK_CLICKED),z(Ps.APPLE_LOGIN_CANCELLED),f("build-details")},$=()=>{z(Ps.IOS_DEVELOPER_DETAILS_BACK_CLICKED),z(Ps.APPLE_LOGIN_2FA_CANCELLED),f("credentials")},q=async()=>{if(u)return;!(await l()).success&&e&&f("credentials")},Q=()=>{z(Ps.IOS_DEVELOPER_DETAILS_BACK_CLICKED),f("credentials")};return{step:p,email:x,setEmail:y,password:v,setPassword:g,showPassword:b,setShowPassword:w,isCredentialsValid:I,appName:h.appName,setAppName:h.setAppName,appIcon:h.appIcon,handleAppIconChange:h.handleAppIconChange,appIconError:h.appIconError,appIconUrl:h.appIconUrl,appIconId:h.appIconId,versionName:h.versionName,setVersionName:h.setVersionName,versionError:h.versionError,bundleIdentifier:h.bundleIdentifier,isBuildDetailsValid:h.isBuildDetailsValid,isLoadingConfig:h.isLoadingConfig,isAppDetailsLocked:h.isAppDetailsLocked,selectedAuthMethod:N,setSelectedAuthMethod:j,otpCode:_,setOtpCode:C,isOTPValid:D,isResendingOTP:F,resendCountdown:S,handleBuildDetailsContinue:P,handleCredentialsContinue:R,handleOTPSubmit:B,handleResendOTP:U,handleCredentialsBack:H,handleOTPBack:$,handleAppCapabilitiesContinue:q,handleAppCapabilitiesBack:Q}}function dbe({email:e,onEmailChange:n,password:s,onPasswordChange:r,showPassword:i,onTogglePassword:a,selectedAuthMethod:o,onAuthMethodSelect:l,isValid:c,isLoading:u,error:p,onContinue:f,onBack:m,onClearError:h}){const x=b=>{h?.(),n(b.target.value)},y=b=>{h?.(),r(b.target.value)},v=()=>{h?.(),l("sms")},g=()=>{h?.(),l("device")};return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsxs("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:["Enter your Apple Developer Account Details"," ",t.jsx(bg,{className:"bg-[#1E2224]",children:t.jsx("p",{className:"text-[14px] font-normal text-[#989EA0] font-['Inter'] leading-[20px]",children:"Apple developer program is completely owned & managed by Apple. A paid $100 membership to the apple developer program has been made compulsory by apple to enable access for building & publishing iOS apps."})})]}),t.jsxs("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:["Having a paid Apple Developer program enrollment is mandatory to generate iOS builds and publish it to App Store."," ",t.jsxs("a",{href:"https://developer.apple.com/programs/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:text-[#989EA0] transition-colors",children:["Learn how to create a new account",t.jsx(gc,{className:"w-4 h-4"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Email ID"}),t.jsx("input",{type:"text",value:e,onChange:x,placeholder:"Enter your email",className:"w-full px-3 py-2.5 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:i?"text":"password",value:s,onChange:y,placeholder:"Enter your password",className:"w-full px-3 py-2.5 pr-12 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"}),t.jsx("button",{type:"button",onClick:a,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#898C8E] hover:text-white transition-colors",children:i?t.jsx(Tae,{className:"w-5 h-5"}):t.jsx(kae,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Choose Authentication Method"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{type:"button",onClick:v,className:A("flex-1 flex items-center gap-3 p-3 rounded-xl border transition-colors",o==="sms"?"border-white/30 bg-white/[0.08]":"border-white/[0.12] bg-transparent hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-white/[0.08] flex items-center justify-center shrink-0",children:t.jsx(Uae,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"SMS"}),t.jsx("span",{className:"text-[11px] font-normal text-[#7F8283] font-['Inter'] leading-[16px]",children:"Code via text message"})]})]}),t.jsxs("button",{type:"button",onClick:g,className:A("flex-1 flex items-center gap-3 p-3 rounded-xl border transition-colors",o==="device"?"border-white/30 bg-white/[0.08]":"border-white/[0.12] bg-transparent hover:bg-white/[0.04]"),children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-white/[0.08] flex items-center justify-center shrink-0",children:t.jsx(Lae,{className:"w-4 h-4 text-white"})}),t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"Apple Device"}),t.jsx("span",{className:"text-[11px] font-normal text-[#7F8283] font-['Inter'] leading-[16px]",children:"Code on trusted devices"})]})]})]})]}),t.jsx(V8,{error:p,defaultMessage:"Your credentials are saved locally, not on our servers"})]}),t.jsx(D2,{onClick:f,disabled:!c||u,isLoading:u,loadingText:"Verifying...",onBack:m})]},"credentials")}function ube({otpCode:e,onOtpCodeChange:n,authMethod:s,isValid:r,isLoading:i,isResendingOTP:a,resendCountdown:o,error:l,onContinue:c,onResendOTP:u,onBack:p}){const f=x=>{const y=x.target.value.replace(/\D/g,"").slice(0,6);n(y)},m=a||o>0,h=()=>{if(a)return"Sending...";if(o>0){const x=Math.floor(o/60),y=o%60;return`Resend OTP (${x}:${y.toString().padStart(2,"0")})`}return"Resend OTP"};return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"Enter 6 digit OTP"}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:s==="sms"?"Enter the verification code sent to your registered phone number":"Enter the verification code displayed on your trusted Apple device"})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("input",{type:"text",value:e,onChange:f,placeholder:"123456",maxLength:6,className:"w-full px-3 py-2.5 bg-transparent border border-white/[0.12] rounded-xl text-[14px] text-white font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none focus:border-white/30 transition-colors"})}),t.jsx("button",{type:"button",onClick:u,disabled:m,className:A("text-[14px] font-medium font-['Inter'] leading-[20px] transition-colors self-start",m?"text-[#7F8283] cursor-not-allowed":"text-white underline hover:text-[#989EA0]"),children:h()})]}),l&&t.jsx(V8,{error:l}),t.jsx(D2,{onClick:c,disabled:!r||i,isLoading:i,loadingText:"Verifying...",onBack:p})]},"otp")}const wS=[{number:1,description:t.jsxs(t.Fragment,{children:["Go to"," ",t.jsx("a",{href:"https://developer.apple.com",target:"_blank",rel:"noopener noreferrer",className:"text-[#80fff9] underline",children:"developer.apple.com"})," "," Account  Certificates, Identifiers & Profiles."]})},{number:2,description:"Select Identifiers and choose your App ID (e.g., com.emergent...)."},{number:3,description:"Scroll down and check Sign in with Apple (Configure as Primary)."},{number:4,description:"Ensure Push Notifications is also checked."},{number:5,description:"Click Save to confirm changes."}];function pbe({step:e}){return t.jsxs("div",{className:"flex gap-3 items-center w-full",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[rgba(128,255,249,0.05)] flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[14px] font-medium text-[#80fff9] font-['Inter'] leading-5",children:e.number})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"text-[14px] font-normal text-[rgba(255,255,255,0.6)] font-['Inter'] leading-5",children:e.description})})]})}function fbe({isLoading:e,onContinue:n,onBack:s}){return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"flex flex-col gap-8",children:[t.jsxs("div",{className:"flex flex-col gap-1 pr-16",children:[t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"Action Required: Enable App Capabilities"}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:"If you use 3rd party logins (Apple/Google Auth) or Push Notifications, you must enable them in your Apple Developer account to prevent build failures."})]}),t.jsx("div",{className:"flex flex-col gap-5",children:wS.map((r,i)=>t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx(pbe,{step:r}),i<wS.length-1&&t.jsx(oU,{})]},r.number))}),t.jsx(D2,{onClick:n,disabled:e,isLoading:e,loadingText:"Building...",onBack:s})]},"app-capabilities")}function mbe(e){return[...e].filter(n=>n.status!=="running"&&n.status!=="pending"&&n.status!=="queued").sort((n,s)=>new Date(s.created_at).getTime()-new Date(n.created_at).getTime())}function hbe(e){if(e.length===0)return[];const n=e.findIndex(s=>s.status!=="failed");return n===-1?e:[...e.slice(0,n+1),...e.slice(n+1).filter(s=>s.status!=="failed")]}function xbe(e){const n=mbe(e);return hbe(n)}function gbe({builds:e,onDownload:n,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,onBuildClick:o}){if(e.length===0)return null;const l=xbe(e);if(l.length===0)return null;const c=u=>p=>{(p.key==="Enter"||p.key===" ")&&o?.(u)};return t.jsxs("div",{className:"-mx-4 sm:mx-0 sm:bg-[#18181A] sm:border sm:border-[#242424] rounded-none sm:rounded-[20px] overflow-hidden",children:[t.jsx("div",{className:"sm:hidden px-4 border-b border-[#242424] mb-3 pt-3 pb-2 font-brockmann font-medium text-[12px] text-[#989EA0] leading-5 tracking-[1.2px] uppercase",children:"Build History"}),l.map((u,p)=>{const f=lU(u),m=p===0,h=p===l.length-1,x=f.substring(0,7),y=u.status==="failed",v=dU(u),g=uU(u),b=pU(u),w=fU(u);return t.jsxs("div",{className:A("px-4 sm:px-6 sm:py-4",!h&&"sm:border-b sm:border-[#242424]",!m&&!y&&"sm:cursor-default cursor-pointer"),onClick:!m&&!y&&o?()=>o(u):void 0,role:!m&&!y?"button":void 0,tabIndex:!m&&!y?0:void 0,onKeyDown:!m&&!y&&o?c(u):void 0,children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center shrink-0",children:y?t.jsx(rU,{}):t.jsx(sU,{})}),t.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("span",{className:"text-[16px] font-normal text-white/80 font-mono leading-6",children:y?"Failed to generate build":`Version ${cU(u)}`}),!m&&!y&&t.jsx(El,{className:"sm:hidden w-5 h-5 text-white"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-5",children:[t.jsx("span",{children:mU(u.created_at)}),t.jsx("span",{children:""}),t.jsx("span",{children:x})]})]}),!y&&t.jsx(gS,{isIOS:w,ipaUrl:v,apkUrl:g,aabUrl:b,onDownload:n,variant:"desktop"}),y&&m&&t.jsx(bS,{runId:f,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,variant:"desktop"})]}),!y&&m&&t.jsx(gS,{isIOS:w,ipaUrl:v,apkUrl:g,aabUrl:b,onDownload:n,variant:"mobile"}),y&&m&&t.jsx(bS,{runId:f,isLoadingLogs:s,isFixingWithAgent:r,onViewLogs:i,onFixWithAgent:a,variant:"mobile"})]}),t.jsx("div",{className:A("sm:hidden w-full h-[1px] bg-[#24242499] my-5",h&&"mb-0")})]},f)})]})}function bbe({isOpen:e,onOpenChange:n,build:s,onDownload:r}){if(!s)return null;const i=dU(s),a=uU(s),o=pU(s),c=lU(s).substring(0,7),u=fU(s);return t.jsx(th,{open:e,onOpenChange:n,children:t.jsx(l8,{className:"focus:outline-none",children:t.jsxs("div",{className:"bg-[#18181A] border border-[#242424] rounded-t-[24px] w-full pb-2 overflow-hidden",children:[t.jsxs("div",{className:"relative border-b border-[#242424] h-[72px] flex items-center justify-center",children:[t.jsx("div",{className:"absolute top-[7px] left-1/2 -translate-x-1/2 w-[44px] h-1 bg-[#252525] rounded-full"}),t.jsxs("p",{className:"font-brockmann font-medium text-[18px] text-white leading-6",children:["Version ",cU(s)]}),t.jsx("button",{onClick:()=>n(!1),className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center justify-center w-8 h-8 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:t.jsx(Pt,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex flex-col gap-5 p-4",children:[t.jsxs("div",{className:"flex flex-col gap-3 font-['Inter'] font-medium text-[14px]",children:[t.jsxs("div",{className:"flex items-center gap-3 h-7",children:[t.jsx("span",{className:"w-[160px] text-[#7B7B80] leading-5",children:"Created on"}),t.jsx("span",{className:"flex-1 text-[#E6E6E6] text-right leading-5",children:mU(s.created_at)})]}),t.jsxs("div",{className:"flex items-center gap-3 h-7",children:[t.jsx("span",{className:"w-[160px] text-[#E4EEFF]/50 leading-5",children:"Run id"}),t.jsx("span",{className:"flex-1 text-[#E6E6E6] text-right leading-5",children:c})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[u&&i&&t.jsxs("button",{onClick:()=>{r(i),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:"Download IPA"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]}),!u&&a&&t.jsxs("button",{onClick:()=>{r(a),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:"Download APK"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]}),!u&&o&&t.jsxs("button",{onClick:()=>{r(o),n(!1)},className:"flex items-center justify-center gap-1 h-10 px-4 py-1.5 bg-white/[0.04] border border-[#242424] rounded-[28px] hover:bg-white/[0.08] active:bg-white/[0.12] transition-colors w-full",children:[t.jsx("span",{className:"text-[14px] font-medium text-white/80 font-brockmann leading-5 tracking-[-0.28px]",children:"Download AAB"}),t.jsx(Da,{className:"w-5 h-5 text-white"})]})]}),!u&&t.jsxs("div",{className:"text-center font-['Inter'] text-[13px] text-[#7F8283] leading-[17px]",children:[t.jsx("p",{children:"APK is for testing on devices."}),t.jsx("p",{children:"AAB is required for Play Store submission."})]})]})]})})})}const ybe={ios:{title:"Confirm details for your iOS build",storeName:"App Store",bundleIdLabel:"iOS Bundle Identifier",bundleIdDescription:"Unique ID for your app on the App Store",iconSize:1024,iconSizeText:"1024x1024",iconRequirements:"Required. PNG format, 1024x1024 pixels"},android:{title:"Confirm details for your Android build",storeName:"Play Store",bundleIdLabel:"Android Package Name",bundleIdDescription:"Unique ID for your app on the Play Store",iconSize:512,iconSizeText:"512x512",iconRequirements:"Required. PNG format, 512x512 pixels, max 1MB"}},vbe={ios:{emptyState:{title:"Create App-store ready iOS builds",description:"Generate an IPA file to install your app on devices or submit it to the App Store.",mobileDescription:"Not available on mobile. Open app.emergent.sh on desktop to create App Store-ready iOS builds.",buttonText:"Generate new build",mobileButtonText:"Okay, got it",trackingEvent:Ps.IOS_BUILDS_SCREEN_OPENED,actionTrackingEvent:Ps.IOS_BUILDS_CREATE_CLICKED},publishStepsButtonText:"Steps to publish your iOS app",downloadTrackingEvent:Ps.IOS_BUILD_DOWNLOAD_CLICKED},android:{emptyState:{title:"Create Play Store-ready Android builds",description:"Generate an APK file to install your app on devices or submit it to the Play Store.",mobileDescription:"Not available on mobile. Open app.emergent.sh on desktop to create Play Store-ready Android builds.",buttonText:"Generate new build",mobileButtonText:"Okay, got it",trackingEvent:Ps.ANDROID_BUILDS_SCREEN_OPENED,actionTrackingEvent:Ps.ANDROID_BUILDS_OK_CLICKED},publishStepsButtonText:"Steps to publish your Android app",downloadTrackingEvent:Ps.ANDROID_BUILD_DOWNLOAD_CLICKED}};function bU({platform:e,appName:n,onAppNameChange:s,appIcon:r,onAppIconChange:i,appIconError:a,appIconUrl:o,isAppDetailsLocked:l,versionName:c,onVersionNameChange:u,bundleIdentifier:p,isValid:f,isLoading:m,isLoadingConfig:h,error:x,onContinue:y,versionError:v}){const g=d.useRef(null),b=ybe[e],w=n.length>0&&n.trim().length<2,N=v||c&&!Cg(c),j=v||(c&&!Cg(c)?"Please use semantic versioning format (e.g., 1.0.0)":null),_=d.useMemo(()=>r?URL.createObjectURL(r):null,[r]);d.useEffect(()=>()=>{_&&URL.revokeObjectURL(_)},[_]);const C=_||o,F=!!C,E=()=>{g.current?.click()},S=M=>{const k=M.target.files?.[0];k&&i(k),M.target.value=""};return t.jsxs(xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex flex-col gap-10",children:[t.jsx("div",{className:"flex flex-col gap-1 pr-16",children:t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:b.title})}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"App name"}),t.jsx("input",{type:"text",value:n,onChange:M=>s(M.target.value),placeholder:"My App",disabled:l,className:A("w-full px-3 py-2.5 bg-transparent border rounded-xl text-[14px] font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none transition-colors",l?"text-[#7F8283] cursor-not-allowed":"text-white",w?"border-[#FF6666] focus:border-[#FF6666]":"border-white/[0.12] focus:border-white/30")}),w?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:"App name must be at least 2 characters"}):t.jsxs("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:["The name that will appear on the ",b.storeName]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"App icon"}),l?F&&t.jsx("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/[0.12]",children:t.jsx("img",{src:C,alt:"App icon preview",className:"w-full h-full object-cover"})}):t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:g,type:"file",accept:"image/png",onChange:S,className:"hidden"}),F?t.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-3 w-full",children:[t.jsx("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/[0.12]",children:t.jsx("img",{src:C,alt:"App icon preview",className:"w-full h-full object-cover"})}),t.jsx("span",{className:"text-[12px] text-white/60 font-['Inter'] leading-[20px] underline hover:text-white/80 transition-colors",children:"Change"})]}):t.jsxs("button",{type:"button",onClick:E,className:"w-full px-3 py-4 bg-transparent border border-dashed border-white/[0.12] rounded-xl flex items-center justify-center gap-2 hover:border-white/30 transition-colors",children:[t.jsx(Wae,{className:"w-5 h-5 text-[#898C8E]"}),t.jsxs("span",{className:"text-[14px] text-[#898C8E] font-medium font-['Inter'] leading-[20px]",children:["Upload icon (",b.iconSizeText," PNG)"]})]}),a?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:a}):t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:b.iconRequirements})]})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:"Version name"}),t.jsx("input",{type:"text",value:c,onChange:M=>u(M.target.value),placeholder:"1.0.0",className:A("w-full px-3 py-2.5 bg-transparent border rounded-xl text-[14px] text-white font-medium font-['Inter'] leading-[20px] placeholder:text-[#898C8E] focus:outline-none transition-colors",N?"border-[#FF6666] focus:border-[#FF6666]":"border-white/[0.12] focus:border-white/30")}),N?t.jsx("p",{className:"text-[12px] font-normal text-[#FF6666] font-['Inter'] leading-[20px]",children:j}):t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:"Version names must be unique and increase with each release"})]}),p&&t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{className:"text-[14px] font-medium text-white/60 font-['Inter'] leading-[20px]",children:b.bundleIdLabel}),t.jsx("div",{className:"w-full px-3 py-2.5 bg-transparent border border-white/[0.12] rounded-xl cursor-not-allowed",children:t.jsx("p",{className:"text-[14px] text-[#7F8283] font-medium font-['Inter'] leading-[20px]",children:p})}),t.jsx("p",{className:"text-[12px] font-normal text-white/60 font-['Inter'] leading-[20px]",children:b.bundleIdDescription})]})]}),x&&t.jsx(V8,{error:x}),t.jsx(D2,{onClick:y,disabled:!f||m||!!h,isLoading:m||!!h,loadingText:h?"Loading...":"Saving..."})]},"build-details")}function wbe({onClick:e,disabled:n}){return t.jsx("div",{className:"bg-[#1E2224] border border-[#252A2C] rounded-[20px] px-4 sm:px-6 py-3",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[t.jsx("span",{className:"font-['JetBrains Mono'] text-[13px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6",children:"Ensure you deploy all changes before creating a new build"}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{onClick:n?void 0:e,disabled:n,className:"flex items-center justify-center px-4 py-[6px] h-9 sm:h-10 bg-white/[0.08] rounded-[28px] hover:bg-white/[0.12] active:bg-white/[0.16] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white/[0.08] shrink-0 self-start sm:self-auto",children:t.jsx("span",{className:"text-[13px] sm:text-[14px] font-semibold text-white font-brockmann leading-5 tracking-[-0.28px] whitespace-nowrap",children:"Generate new build"})})}),n&&t.jsxs(Xs,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Wake agent up to initiate a new build"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})})}function Cbe({elapsedTime:e,platform:n}){return t.jsx("div",{className:"bg-[#1A1A1C] border border-[#242424] rounded-[20px] px-4 sm:px-6 py-3 sm:py-4",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[t.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[t.jsx("div",{className:"w-5 h-5 flex items-center justify-center shrink-0",children:t.jsx(ln,{className:"w-5 h-5 animate-spin text-[#3df]"})}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("span",{className:"text-[14px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6",children:"Generating a new build"}),t.jsxs("span",{className:"text-[13px] sm:text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-5",children:["This can take up to ",n==="android"?"20-30":"10-15"," mins"]})]})]}),t.jsx("span",{className:"text-[14px] sm:text-[16px] font-normal text-white font-mono leading-5 sm:leading-6 pl-8 sm:pl-0",children:A4e(e)})]})})}function _be({isOpen:e,onClose:n,onCredentialsSubmit:s,onBuildDetailsContinue:r,onAuthMethodContinue:i,onOTPSubmit:a,onTriggerBuild:o,onResendOTP:l,isLoading:c=!1,error:u,bundleIdentifier:p="app.emergent.your-app",jobId:f,onClearError:m}){const h=cbe({isOpen:e,jobId:f,bundleIdentifier:p,onCredentialsSubmit:s,onBuildDetailsContinue:r,onAuthMethodContinue:i,onOTPSubmit:a,onTriggerBuild:o,onResendOTP:l,isLoading:c}),x=()=>{z(Ps.IOS_DEVELOPER_DETAILS_CLOSE_CLICKED),n()};return t.jsx(Ei,{isOpen:e,onClose:x,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[16px] overflow-hidden bg-[#18181A] max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative p-6 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(M2,{onClick:x}),t.jsxs(ns,{mode:"wait",children:[h.step==="build-details"&&t.jsx(bU,{platform:"ios",appName:h.appName,onAppNameChange:h.setAppName,appIcon:h.appIcon,onAppIconChange:h.handleAppIconChange,appIconError:h.appIconError,appIconUrl:h.appIconUrl,isAppDetailsLocked:h.isAppDetailsLocked,versionName:h.versionName,onVersionNameChange:h.setVersionName,versionError:h.versionError,bundleIdentifier:h.bundleIdentifier,isValid:h.isBuildDetailsValid,isLoading:c,isLoadingConfig:h.isLoadingConfig,error:u,onContinue:h.handleBuildDetailsContinue}),h.step==="credentials"&&t.jsx(dbe,{email:h.email,onEmailChange:h.setEmail,password:h.password,onPasswordChange:h.setPassword,showPassword:h.showPassword,onTogglePassword:()=>h.setShowPassword(!h.showPassword),selectedAuthMethod:h.selectedAuthMethod,onAuthMethodSelect:h.setSelectedAuthMethod,isValid:h.isCredentialsValid,isLoading:c,error:u,onContinue:h.handleCredentialsContinue,onBack:h.handleCredentialsBack,onClearError:m}),h.step==="otp"&&h.selectedAuthMethod&&t.jsx(ube,{otpCode:h.otpCode,onOtpCodeChange:h.setOtpCode,authMethod:h.selectedAuthMethod,isValid:h.isOTPValid,isLoading:c,isResendingOTP:h.isResendingOTP,resendCountdown:h.resendCountdown,error:u,onContinue:h.handleOTPSubmit,onResendOTP:h.handleResendOTP,onBack:h.handleOTPBack}),h.step==="app-capabilities"&&t.jsx(fbe,{isLoading:c,onContinue:h.handleAppCapabilitiesContinue,onBack:h.handleAppCapabilitiesBack})]})]})})}const jbe="https://assets.emergent.sh/ipa_education.mov";function Nbe({isOpen:e,onClose:n}){return t.jsx(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,animationDuration:.15,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[16px] overflow-hidden bg-[#18181A] min-h-[70vh] sm:min-h-0 max-h-[90%] flex flex-col",children:t.jsx("div",{className:"relative flex flex-col gap-2 overflow-y-auto overflow-x-hidden flex-1",children:t.jsxs("div",{className:"p-6 flex flex-col gap-2",children:[t.jsx(M2,{onClick:n}),t.jsx("div",{className:"pr-20",children:t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"Steps to publish your iOS app"})}),t.jsx("div",{className:"w-full rounded-lg overflow-hidden bg-[#1F1F1F]",children:t.jsx("video",{src:jbe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!0,className:"w-full h-auto"})}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-2 items-start py-3",children:[t.jsx(Im,{size:20,color:"#7F8283",className:"shrink-0"}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:"iOS apps cannot be installed directly from an .ipa file on devices without Apple's signing and distribution process"})]}),t.jsxs("a",{href:"https://help.emergent.sh/articles/206118-what-to-do-once-your-ipa-is-ready-for-download",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-3 py-2 bg-white/[0.12] rounded-3xl w-fit hover:bg-white/[0.16] transition-colors",children:[t.jsx("span",{className:"text-[16px] font-medium text-[#F2F5F7] font-brockmann leading-[24px] tracking-[-0.32px]",children:"Learn more"}),t.jsx(gc,{className:"w-4 h-4 text-white"})]})]})]})})})}function Fbe({isOpen:e,jobId:n,packageName:s=""}){const r=gU({platform:"android",isOpen:e,jobId:n,defaultBundleIdentifier:s}),i=()=>({appName:r.appName.trim(),appIcon:r.appIcon,appIconId:r.appIcon?null:r.appIconId,versionName:r.versionName.trim(),packageName:r.bundleIdentifier});return{appName:r.appName,setAppName:r.setAppName,appIcon:r.appIcon,appIconError:r.appIconError,handleAppIconChange:r.handleAppIconChange,appIconUrl:r.appIconUrl,appIconId:r.appIconId,versionName:r.versionName,setVersionName:r.setVersionName,versionError:r.versionError,packageName:r.bundleIdentifier,isAppDetailsLocked:r.isAppDetailsLocked,isLoadingConfig:r.isLoadingConfig,isBuildDetailsValid:r.isBuildDetailsValid,getFormData:i}}function Ebe({isOpen:e,onClose:n,onBuildSubmit:s,isLoading:r=!1,error:i,jobId:a,packageName:o,onClearError:l}){const{appName:c,setAppName:u,appIcon:p,handleAppIconChange:f,appIconError:m,appIconUrl:h,versionName:x,setVersionName:y,versionError:v,packageName:g,isAppDetailsLocked:b,isLoadingConfig:w,isBuildDetailsValid:N,getFormData:j}=Fbe({isOpen:e,jobId:a,packageName:o}),_=M=>{l?.(),u(M)},C=M=>{l?.(),y(M)},F=M=>{l?.(),f(M)},E=async()=>{if(!N)return;z(Ps.ANDROID_BUILDS_CREATE_CLICKED),await s(j())&&n()},S=()=>{z(Ps.ANDROID_BUILDS_BACK_CLICKED),n()};return t.jsx(Ei,{isOpen:e,onClose:S,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[16px] overflow-hidden bg-[#18181A] min-h-[70vh] sm:min-h-0 max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative p-6 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(M2,{onClick:S}),t.jsx(bU,{platform:"android",appName:c,onAppNameChange:_,appIcon:p,onAppIconChange:F,appIconError:m,appIconUrl:h,isAppDetailsLocked:b,versionName:x,onVersionNameChange:C,versionError:v,bundleIdentifier:g,isValid:N,isLoading:r,isLoadingConfig:w,error:i,onContinue:E})]})})}const Sbe=[{number:1,title:"Get the APK on your phone",description:"Download the APK on your phone using Emergent website. If you downloaded it on a computer, transfer it to your phone using email, Drive, or USB."},{number:2,title:t.jsxs(t.Fragment,{children:["Open the ",t.jsx("span",{className:"text-white",children:"APK"})," file"]}),description:"Open the APK from the Files app on your phone."},{number:3,title:"Allow permissions and install",description:t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"mb-0",children:"If Android blocks the install, tap Settings on the prompt and enable Allow from this source (or Install unknown apps) for the app you're using."}),t.jsx("p",{className:"mt-1",children:"Go back, tap Install, then Open once it's done."})]})}],kbe=[{number:1,title:"Create a Google Play Developer account",description:"Sign in to Google Play Console and set up your developer account (one-time setup)."},{number:2,title:"Create an app in Play Console",description:"Add a new app, enter basic details (app name, language), and choose App bundle (AAB) as the upload format."},{number:3,title:"Upload the AAB file",description:"Go to Production, Testing, or Internal testing, and upload your .aab file."},{number:4,title:"Complete store listing & settings",description:"Fill in required details like app description, screenshots, app category, content rating, and privacy policy."},{number:5,title:"Review and publish",description:"Submit the app for review. Once approved, Google Play generates and serves optimized APKs to users automatically."}];function Tbe({step:e}){return t.jsxs("div",{className:"flex gap-3 items-start w-full",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[rgba(128,255,249,0.05)] flex items-center justify-center shrink-0",children:t.jsx("span",{className:"text-[14px] font-medium text-[#80fff9] font-['Inter'] leading-5",children:e.number})}),t.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[t.jsx("p",{className:"text-[14px] font-medium text-[rgba(255,255,255,0.6)] font-['Inter'] leading-5 tracking-[-0.28px]",children:e.title}),t.jsx("div",{className:"text-[13px] font-normal text-[rgba(255,255,255,0.4)] font-['Inter'] leading-5",children:e.description})]})]})}function Ibe({isOpen:e,onClose:n}){const[s,r]=d.useState("test"),i=s==="test"?Sbe:kbe;return t.jsx(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,animationDuration:.15,className:"m-0 sm:m-3 md:m-6 rounded-t-[24px] sm:rounded-[20px] overflow-hidden bg-[#18181A] min-h-[70vh] sm:min-h-0 max-h-[90%] flex flex-col",children:t.jsxs("div",{className:"relative flex flex-col gap-2 overflow-y-auto overflow-x-hidden flex-1",children:[t.jsx(M2,{onClick:n}),t.jsx("div",{className:"px-6 pt-4 pr-20",children:t.jsx("h2",{className:"text-[18px] font-medium text-white font-brockmann leading-[28px] tracking-[-0.36px]",children:"How to test and publish your app"})}),t.jsx("div",{className:"border-b border-[#242424] px-5",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("button",{type:"button",onClick:()=>r("test"),className:A("py-3 text-[15px] font-medium font-['Inter'] leading-6 transition-colors",s==="test"?"text-white border-b-2 border-white":"text-[rgba(255,255,255,0.4)] hover:text-[rgba(255,255,255,0.6)]"),children:"Test your app"}),t.jsx("button",{type:"button",onClick:()=>r("publish"),className:A("py-3 text-[15px] font-medium font-['Inter'] leading-6 transition-colors",s==="publish"?"text-white border-b-2 border-white":"text-[rgba(255,255,255,0.4)] hover:text-[rgba(255,255,255,0.6)]"),children:"Publish your app"})]})}),t.jsx("div",{className:"flex flex-col gap-5 px-4 sm:px-6 py-4 sm:py-8",children:i.map((a,o)=>t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx(Tbe,{step:a}),o<i.length-1&&t.jsx(oU,{})]},a.number))})]})})}function Abe({title:e,description:n,mobileDescription:s,buttonText:r,mobileButtonText:i,onAction:a,onClose:o,isAgentSleeping:l,tooltipText:c="Wake agent up to initiate a new build",trackingEvent:u,actionTrackingEvent:p}){const{isMobile:f}=ps();d.useEffect(()=>{u&&z(u)},[u]);const m=()=>{f?o():(p&&z(p),a())};return t.jsxs(xe.div,{className:"h-full flex flex-col items-center justify-center gap-10 px-6 py-[80px]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},style:{flex:"1 0 0"},children:[t.jsx("img",{src:W.deployment.noIosBuilds,alt:"Build Icon",className:"w-[80px] h-[80px]"}),t.jsxs("div",{className:"flex flex-col items-center text-center gap-1 w-full max-w-[400px]",children:[t.jsx("h2",{className:"text-[20px] font-medium text-[#F2F5F7] font-brockmann leading-[28px] tracking-[-0.4px]",children:e}),t.jsx("p",{className:"text-[14px] font-normal text-[#7F8283] font-['Inter'] leading-[20px]",children:f?s:n})]}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{onClick:m,disabled:!f&&l,className:"flex items-center justify-center px-6 py-2 bg-[#E6E6E6] rounded-[28px] hover:bg-[#D9D9D9] transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-[#E6E6E6]",children:t.jsx("span",{className:"text-[16px] font-semibold text-[#0E0E0F] font-brockmann leading-6 tracking-[-0.2px]",children:f?i:r})})}),l&&!f&&t.jsxs(Xs,{className:"bg-[#DDDDE6] text-black border-0",children:[t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:c}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})}function Dbe(){return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[t.jsx("path",{d:"M6.40625 11.281L6.40625 6.71951C6.40634 6.66244 6.42179 6.60644 6.45096 6.55739C6.48014 6.50834 6.52197 6.46804 6.57207 6.44071C6.62217 6.41338 6.6787 6.40003 6.73574 6.40206C6.79277 6.40408 6.84822 6.42142 6.89625 6.45223L10.4446 8.73233C10.4895 8.76111 10.5265 8.80074 10.5521 8.84755C10.5777 8.89437 10.5911 8.94687 10.5911 9.00024C10.5911 9.0536 10.5777 9.1061 10.5521 9.15292C10.5265 9.19973 10.4895 9.23936 10.4446 9.26814L6.89625 11.5489C6.84822 11.5797 6.79277 11.597 6.73574 11.5991C6.6787 11.6011 6.62217 11.5877 6.57207 11.5604C6.52197 11.5331 6.48014 11.4928 6.45096 11.4437C6.42179 11.3947 6.40634 11.3387 6.40625 11.2816V11.281Z",fill:"#989EA0"}),t.jsx("path",{d:"M1 9C1 5.13409 4.13409 2 8 2C11.8659 2 15 5.13409 15 9C15 12.8659 11.8659 16 8 16C4.13409 16 1 12.8659 1 9ZM8 2.95455C6.39665 2.95455 4.85896 3.59148 3.72522 4.72522C2.59148 5.85896 1.95455 7.39665 1.95455 9C1.95455 10.6034 2.59148 12.141 3.72522 13.2748C4.85896 14.4085 6.39665 15.0455 8 15.0455C9.60335 15.0455 11.141 14.4085 12.2748 13.2748C13.4085 12.141 14.0455 10.6034 14.0455 9C14.0455 7.39665 13.4085 5.85896 12.2748 4.72522C11.141 3.59148 9.60335 2.95455 8 2.95455Z",fill:"#989EA0"})]})}const yU=({size:e=16,color:n="white",opacity:s=.8,backgroundColor:r="transparent",hoverBackgroundColor:i,className:a=""})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:{backgroundColor:r,transition:"background-color 0.3s ease"},onMouseEnter:o=>i&&(o.currentTarget.style.backgroundColor=i),onMouseLeave:o=>o.currentTarget.style.backgroundColor=r,children:[t.jsxs("g",{opacity:s,clipPath:"url(#clip0_5747_75234)",children:[t.jsx("path",{d:"M7.99479 14.6693C11.6767 14.6693 14.6615 11.6845 14.6615 8.0026C14.6615 4.32071 11.6767 1.33594 7.99479 1.33594C4.31289 1.33594 1.32812 4.32071 1.32812 8.0026C1.32812 11.6845 4.31289 14.6693 7.99479 14.6693Z",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M6.0625 6.00038C6.21924 5.55482 6.5286 5.17912 6.9358 4.9398C7.343 4.70049 7.82176 4.61301 8.28728 4.69285C8.7528 4.7727 9.17504 5.01473 9.47922 5.37606C9.78339 5.7374 9.94987 6.19473 9.94917 6.66705C9.94917 8.00038 7.94917 8.66705 7.94917 8.66705",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359H8.00708",stroke:n,strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_5747_75234",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),Mbe=({jobId:e,agentStatus:n,appName:s,isExpoImage:r,previewUrl:i,onShareLogs:a,handleJobClick:o,onLinkCustomDomain:l,deployStatus:c,deployApp:u,selectedTierId:p,replaceDeployment:f,loadEnvironmentVariables:m,loadDeployLogs:h,loadLiveLogs:x,deployLogs:y,liveLogs:v,envs:g,updateEnvironmentVariables:b,containsStripeKey:w,setContainsStripeKey:N,termsSelected:j,envSyncedWithProduction:_,setEnvSyncedWithProduction:C,setRollbackTargetId:F,selectedReplacement:E,setSelectedReplacement:S,setIsDeployModalOpen:M,setIsBuildLogsModalOpen:k,setIsRollbackModalOpen:I,setIsReplaceModalOpen:D,setIsReplaceConfirmModalOpen:P})=>{const{toast:R}=ds(),{getCurrentOrganizationId:B}=ys(),U=Er(),H=SR(),{restrictedFree:$}=ni(),{tier:q}=cs(),Q=B(),V=()=>w.containsStripeKey&&w.stripeKeyValue&&w.stripeKeyValue.includes("sk_live_")||w.stripeKeyValue.includes("sk_prod_"),ee=()=>V()&&!j,X=async Ce=>{try{if((await yt.getDeployWarningInformation(Ce,Q)).warnings?.includes("stripe_integration")){const Se=(await m()).find(ht=>ht.key.toLowerCase().includes("stripe")&&ht.key.toLowerCase().includes("key"));Se&&N({containsStripeKey:!0,stripeKeyValue:Se.value||"",stripeKeyId:Se.key,stripeKey:Se.key})}}catch{}},ae=async()=>{if(!_&&g.length>0)try{return await b(g)?(C(!0),!0):(R({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1)}catch(Ce){return Ce?.message?.includes("version mismatch")||Ce?.message?.includes("Version")?R({title:"Environment Variable Conflict",description:"Environment variables were modified by another source. Please refresh and try again.",variant:"destructive",duration:5e3}):R({title:"Environment Variable Update Failed",description:"Failed to update environment variables. Operation cancelled.",variant:"destructive",duration:5e3}),!1}return!0};return{hasProductionStripeKey:V,isDeployDisabled:ee,fetchDeploymentWarnings:X,updateEnvironmentVariablesWithErrorHandling:ae,handleDeployClick:()=>{if(n&&n==="running"){R({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before starting the deployment",variant:"destructive",duration:2e3});return}if($){z(cr.FREE_USER_DEPLOY_ATTEMPTED,{source:"deploy_panel",jobId:e}),U.open({planType:"personal",triggerLocation:"default"});return}z(cr.START_DEPLOYMENT_CLICKED,{jobId:e,tier:q}),M(!0)},handleDeployConfirm:async()=>{if(e)try{if(!await ae())return;const Ie=j?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;z(cr.DEPLOYMENT_CONFIRMATION_DEPLOY_CLICKED,{jobId:e,tier:q}),G0({jobId:e,deploymentType:"deploy"}),await u({jobId:e,db_mode:!0,acknowledgements:Ie,tier:p}),M(!1)}catch{}},handleRedeployConfirm:async()=>{if(!e||!await ae())return;const Ie=j?"STRIPE_API_KEY_ACKNOWLEDGEMENT":void 0;G0({jobId:e,deploymentType:"redeploy"}),await u({jobId:e,db_mode:!0,acknowledgements:Ie,tier:p})},handleTierChange:async Ce=>{e&&(G0({jobId:e,deploymentType:"tier_change"}),await u({jobId:e,db_mode:!0,tier:Ce}))},handleStripeKeyUpdate:(Ce,Ie)=>{N(Ae=>({...Ae,stripeKeyValue:Ie}))},handleLogsClick:async()=>{if(e&&h)try{z(cr.DEPLOYMENT_FAILURE_LOGS_CLICKED,{jobId:e}),await h(e)}catch{R({title:"Error Loading Logs",description:"Failed to load deployment logs. Please try again.",variant:"destructive",duration:3e3})}k(!0)},handleLiveLogsClick:async()=>{if(x&&s){try{z(cr.DEPLOYMENT_LIVE_LOGS_CLICKED,{jobId:e}),await x({app:s})}catch{R({title:"Error Loading Live Logs",description:"Failed to load live logs. Please try again.",variant:"destructive",duration:3e3})}k(!0)}},handleFixWithAgent:async()=>{if(a)try{if(c==="success"){z(cr.DEPLOYMENT_LIVE_FIX_WITH_AGENT_CLICKED,{jobId:e});let Ce=v?.live_logs||[];if((!Ce||Ce.length===0)&&x&&s){const Ie=await x({app:s});Ie?.live_logs&&Ie.live_logs.length>0&&(Ce=Ie.live_logs)}Ce.length>0?a(Ce):R({title:"No Logs Available",description:"No live logs found. Please wait for the app to generate some logs.",variant:"destructive",duration:3e3})}else{z(cr.DEPLOYMENT_FAILURE_FIX_WITH_AGENT_CLICKED,{jobId:e});let Ce=y;(!Ce||Object.keys(Ce).length===0)&&e&&h&&(Ce=await h(e));const Ie=Ce?Object.entries(Ce).flatMap(([Ae,Se])=>Se?Se.map(ht=>`[${Ae.toUpperCase()}] ${ht}`):[]):[];Ie.length>0?a(Ie):R({title:"No Logs Available",description:"No deployment logs found. Please try deploying again.",variant:"destructive",duration:3e3})}}catch{R({title:"Error Sharing Logs",description:"Failed to share logs with agent. Please try again.",variant:"destructive",duration:3e3})}},getJobDetails:async Ce=>{if(o)try{const Ae=(await yt.getJob(Ce.id)).data;o(Ae)}catch{}},onDeploymentSuccess:(Ce,Ie,Ae)=>{const Se=r&&Ae?`${window.location.origin}/share?app=${encodeURIComponent(Ae)}`:void 0;H.open({deployUrl:Ce,customDomain:Ie,onLinkCustomDomain:r?void 0:l,isExpoApp:r,mobileUrl:Se,previewUrl:i})},handleDeployWithImage:async({image:Ce,deployment_id:Ie,acknowledgements:Ae,tier:Se})=>{e&&await u({jobId:e,image:Ce,deployment_id:Ie,acknowledgements:Ae,db_mode:!0,tier:Se||p})},handleRollbackClick:Ce=>{z(cr.DEPLOYMENT_ROLLBACK_CLICKED,{jobId:e,rollbackTargetId:Ce}),F?.(Ce),I?.(!0)},handleSelectReplacement:Ce=>{S?.(Ce),D?.(!1)},handleReplaceGoBack:()=>{P?.(!1),D?.(!0)},handleConfirmReplace:async Ce=>{E&&f&&(await f(E.deployment_id,Ce),P?.(!1),S?.(null))},currentOrgId:Q,tier:q}},Lbe=({jobId:e,customDomain:n,unlinkDomain:s,verifyDomain:r,refetchCustomDomain:i,deploymentState:a,modalState:o})=>{const{toast:l}=ds(),[c,u]=d.useState(!1),[p,f]=d.useState([]),[m,h]=d.useState(""),x=d.useRef(""),y=d.useRef(""),v=d.useRef(""),g=d.useRef(async()=>{});return{isUnlinking:c,manualLinkDnsRecords:p,setManualLinkDnsRecords:f,manualLinkDomain:m,setManualLinkDomain:h,domainToSwitchRef:x,linkedAppNameRef:y,linkedJobIdRef:v,handleSwitchDomainClickRef:g,handleOpenUnlinkDomainModal:C=>{z(Ii.UNLINK_DOMAIN_CLICKED,{jobId:e,domain:C}),a.setDomainToUnlink(C),o.setIsUnlinkDomainModalOpen(!0)},confirmUnlinkDomain:async()=>{if(!(!a.domainToUnlink||!e)){z(Ii.UNLINK_DOMAIN_CONFIRMED,{jobId:e,domain:a.domainToUnlink}),u(!0);try{await s(a.domainToUnlink),o.setIsUnlinkDomainModalOpen(!1),l({title:"Domain Unlinked",description:"Your domain has been successfully unlinked from this app",duration:3e3}),a.setDomainToUnlink("")}catch(C){l({title:"Unlinking Failed",description:C.message||"Failed to unlink domain. Please try again.",variant:"destructive",duration:3e3})}finally{u(!1)}}},handleManualLinkConfirm:async()=>{const C=m||n?.domain;if(z(Ii.MANUAL_LINK_CONFIRMED,{jobId:e,domain:C}),C){try{await r(C)}catch{}await i()}o.setIsManualDomainLinkModalOpen(!1),f([]),h("")},handleManualLinkClose:async()=>{if(z(Ii.MANUAL_LINK_CANCELLED,{jobId:e,domain:m||n?.domain}),m&&!n)try{await s(m)}catch{}o.setIsManualDomainLinkModalOpen(!1),f([]),h("")},openSwitchDomainModal:(C,F,E,S)=>{x.current=C,y.current=F,v.current=E,g.current=S,o.setIsSwitchDomainModalOpen(!0)}}},Rbe=({isExpoImage:e,deploymentHistory:n,latestRunStatus:s,deployStatus:r,availableDeployments:i,isLoading:a})=>{const o=!e&&n.some(x=>x.status==="success")&&s!=="running"&&r!=="not_deployed",l=n.find(x=>x.status==="success"),c=i.length>0&&!a&&r!=="running"&&s!=="running"&&r==="not_deployed";return{shouldShowCustomDomainSection:o,latestSuccessfulDeployment:l,shouldShowReplaceCard:c,shouldShowDeploymentHistory:(r==="failed"||r==="success")&&s!=="running",shouldShowEnvSection:(r==="success"||r==="failed")&&s!=="running"&&!a,shouldShowRunningFooter:s==="running"||r==="running",shouldShowSuccessFooter:(r==="success"||r==="failed")&&s!=="running",shouldShowResourcesCard:r==="success"&&s!=="running"}},Pbe=()=>{const[e,n]=d.useState("main"),[s,r]=d.useState(!1),i=d.useRef(null),a=d.useRef(null);return d.useEffect(()=>{s==="ios"&&i.current?(i.current.startBuildingMode(),r(!1)):s==="android"&&a.current&&(a.current.startBuildingMode(),r(!1))},[s]),{currentView:e,setCurrentView:n,buildJustTriggered:s,setBuildJustTriggered:r,setIOSBuildData:h=>{i.current=h},setAndroidBuildData:h=>{a.current=h},navigateToMain:()=>{n("main")},navigateToAndroidBuilds:()=>{n("android-builds")},navigateToIOSBuilds:()=>{n("ios-builds")},handleAndroidBuildsBack:()=>{z(Ps.ANDROID_BUILDS_BACK_CLICKED),n("main")},handleIOSBuildsBack:()=>{z(Ps.IOS_BUILDS_BACK_CLICKED),n("main")}}},Obe={ios:{fetchLogs:e=>yt.getIOSBuildLogs(e),events:{logsClicked:Ps.IOS_BUILD_LOGS_CLICKED,shareLogsClicked:Ps.IOS_BUILD_SHARE_LOGS_CLICKED,fixWithAgentClicked:Ps.IOS_BUILD_FIX_WITH_AGENT_CLICKED},label:"iOS"},android:{fetchLogs:e=>yt.getAndroidBuildLogs(e),events:{logsClicked:Ps.ANDROID_BUILD_LOGS_CLICKED,shareLogsClicked:Ps.ANDROID_BUILD_SHARE_LOGS_CLICKED,fixWithAgentClicked:Ps.ANDROID_BUILD_FIX_WITH_AGENT_CLICKED},label:"Android"}};function Bbe({jobId:e,platform:n,onShareLogs:s}){const{toast:r}=ds(),i=Obe[n],[a,o]=d.useState(!1),[l,c]=d.useState([]),[u,p]=d.useState(!1),[f,m]=d.useState(!1),h=async g=>{z(i.events.logsClicked,{job_id:e,run_id:g}),p(!0);try{const b=await i.fetchLogs(e);c(b||[]),o(!0)}catch{c([]),o(!0)}finally{p(!1)}},x=()=>{o(!1),c([])};return{isLogsModalOpen:a,buildLogs:l,isLoadingLogs:u,isFixingWithAgent:f,handleViewLogs:h,handleCloseLogsModal:x,handleShareLogs:g=>{z(i.events.shareLogsClicked,{job_id:e}),s&&g.length>0&&s(g),x()},handleFixWithAgent:async g=>{if(s){z(i.events.fixWithAgentClicked,{job_id:e,run_id:g}),m(!0);try{const w=await i.fetchLogs(e)||[];w.length>0?s(w):r({title:"No Logs Available",description:`No ${i.label} build logs found. Please try again later.`,variant:"destructive",duration:3e3})}catch{r({title:"Error Sharing Logs",description:"Failed to share logs with agent. Please try again.",variant:"destructive",duration:3e3})}finally{m(!1)}}}}}const Ube={ios:{buildName:"iOS Build",platformName:"iOS",fileType:"IPA"},android:{buildName:"Android Build",platformName:"Android",fileType:"APK"}};function CS({platform:e,jobId:n,fetchLatest:s,fetchHistory:r,completedEventName:i,includeQueuedStatus:a=!1,checkMobileForEmptyState:o=!1,onBuildComplete:l,pollingInterval:c=5e3}){const{toast:u}=ds(),{isMobile:p}=ps(),f=Ube[e],[m,h]=d.useState(null),[x,y]=d.useState(null),[v,g]=d.useState(!0),[b,w]=d.useState(0),[N,j]=d.useState(null),[_,C]=d.useState(!1),F=d.useRef(null),E=d.useRef(l);d.useEffect(()=>{E.current=l},[l]);const M=m?.latest_run?.status==="running"||a&&(m?.latest_run?.status==="queued"||m?.latest_run?.status==="pending")||_,k=!!(x?.runs&&x.runs.length>0),I=o&&p||!v&&!M&&!k,D=x?.runs?.filter(U=>U.status==="failed")||[],P=x?.runs?.filter(U=>U.status==="success")||[],R=d.useCallback(async()=>{if(!n){g(!1);return}try{const[U,H]=await Promise.all([s(n),r(n)]),$=F.current,q=U.latest_run?.status||null;h(U),y(H),j(null),(q==="running"||a&&(q==="queued"||q==="pending"))&&C(!1),($==="running"||a&&($==="queued"||$==="pending"))&&(q==="success"||q==="failed")&&(C(!1),z(i,{job_id:n,status:q}),E.current?.(),q==="success"&&u({title:`${f.buildName} Succeeded`,description:`Your ${f.platformName} build has completed successfully. You can now download the ${f.fileType} file.`,duration:5e3}),q==="failed"&&u({title:`${f.buildName} Failed`,description:`Your ${f.platformName} build has failed. Check the logs for more details.`,variant:"destructive",duration:5e3})),F.current=q}catch{h(null),y(null),j(null)}finally{g(!1)}},[n,s,r,a,i,f,e,u]);d.useEffect(()=>{R()},[R]),d.useEffect(()=>{if(!M)return;const U=setInterval(()=>{R()},c);return()=>clearInterval(U)},[M,R,c]),d.useEffect(()=>{if(!M){w(0);return}const U=m?.latest_run?.created_at;if(!U)return;const H=()=>{const q=new Date(U).getTime(),Q=Date.now(),V=Math.floor((Q-q)/1e3);w(Math.max(0,V))};H();const $=setInterval(H,1e3);return()=>clearInterval($)},[M,m?.latest_run?.created_at]);const B=d.useCallback(()=>{C(!0),R()},[R]);return{latestBuild:m,buildHistory:x,isLoading:v,error:N,elapsedTime:b,isBuilding:M,hasBuilds:k,shouldShowEmptyState:I,failedBuilds:D,successfulBuilds:P,refetch:R,startBuildingMode:B}}function _S({platform:e,jobId:n,onStartNewBuild:s,onShareLogs:r,isAgentSleeping:i,onClose:a,buildData:o}){const l=vbe[e],{buildHistory:c,isLoading:u,error:p,elapsedTime:f,isBuilding:m,hasBuilds:h,shouldShowEmptyState:x,refetch:y}=o,{isLogsModalOpen:v,buildLogs:g,isLoadingLogs:b,isFixingWithAgent:w,handleViewLogs:N,handleCloseLogsModal:j,handleShareLogs:_,handleFixWithAgent:C}=Bbe({jobId:n,platform:e,onShareLogs:r}),[F,E]=d.useState(!1),[S,M]=d.useState(null),[k,I]=d.useState(!1),D=R=>{M(R),I(!0)},P=R=>{z(l.downloadTrackingEvent,{job_id:n}),window.open(R,"_blank")};return u?t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx(ln,{className:"w-8 h-8 animate-spin text-[#7F8283]"})}):p?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[t.jsx("p",{className:"text-[14px] text-[#FF6666] font-['Inter']",children:p}),t.jsx("button",{onClick:y,className:"text-[14px] text-white underline hover:text-[#989EA0] transition-colors",children:"Try again"})]}):x?t.jsx(Abe,{title:l.emptyState.title,description:l.emptyState.description,mobileDescription:l.emptyState.mobileDescription,buttonText:l.emptyState.buttonText,mobileButtonText:l.emptyState.mobileButtonText,onAction:s||(()=>{}),onClose:a,isAgentSleeping:i,trackingEvent:l.emptyState.trackingEvent,actionTrackingEvent:l.emptyState.actionTrackingEvent}):t.jsxs(xe.div,{className:"flex flex-col gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[h&&!m&&s&&t.jsx(wbe,{onClick:s,disabled:i}),m&&t.jsx(Cbe,{elapsedTime:f,platform:e}),t.jsx(gbe,{builds:c?.runs||[],onDownload:P,isLoadingLogs:b,isFixingWithAgent:w,onViewLogs:N,onFixWithAgent:C,onBuildClick:D}),e==="ios"?t.jsxs("button",{type:"button",onClick:()=>E(!0),className:"flex items-center gap-1 w-fit",children:[t.jsx("span",{className:"text-[14px] font-medium text-[#989EA0] font-['Inter'] leading-[20px] underline hover:text-white transition-colors",children:l.publishStepsButtonText}),t.jsx(Dbe,{})]}):t.jsxs("button",{type:"button",onClick:()=>E(!0),className:"flex items-center gap-1.5 w-fit opacity-40 hover:opacity-60 transition-opacity",children:[t.jsx(yU,{size:20,color:"white",opacity:1}),t.jsx("span",{className:"text-[14px] font-medium text-white font-['Inter'] leading-[20px]",children:"How to test and publish your app"})]}),t.jsx(xU,{isOpen:v,onClose:j,onShareLogs:_,jobId:n,deployStatus:"failed",deployLogs:g}),e==="ios"?t.jsx(Nbe,{isOpen:F,onClose:()=>E(!1)}):t.jsx(Ibe,{isOpen:F,onClose:()=>E(!1)}),t.jsx(bbe,{isOpen:k,onOpenChange:I,build:S,onDownload:P})]})}const Vbe=W.common.keyPurple,Hbe=W.common.purpleDownArrow,$be=W.common.iconamoonEditFill,zbe=W.common.copyPurple,Wbe=W.common.eyeNew,Gbe=W.icons.eyeOff,qbe=({onSyncStatusChange:e,envs:n,saveEnvironmentVariables:s,deployStatus:r="not_deployed",jobId:i,updateEnvironmentVariables:a})=>{const{toast:o}=ds(),[l,c]=d.useState(!1),[u,p]=d.useState({}),[f,m]=d.useState(null),h=()=>{c(!l)},[x,y]=d.useState(n);d.useEffect(()=>{y(n)},[n]);const v=()=>{const E=x.some(S=>S.value!==S.originalValue);e(!E)},g=(E,S)=>{const M=[...x];M[E]={...M[E],value:S},y(M),s&&s(M),v()};d.useEffect(()=>{const E={};x.forEach((S,M)=>{E[M]={isEditing:{value:!1},showPassword:!1,editMode:!1}}),p(E)},[x.length]),d.useEffect(()=>{v()},[]);const b=E=>{p(S=>({...S,[E]:{...S[E],isEditing:{value:!0}}}))},w=E=>{p(S=>({...S,[E]:{...S[E],isEditing:{value:!1}}}))},N=E=>{p(S=>({...S,[E]:{...S[E],showPassword:!S[E]?.showPassword}}))},j=E=>{navigator.clipboard.writeText(x[E].value),m(E),setTimeout(()=>{m(null)},2e3)},_=async(E,S)=>{S&&(S.preventDefault(),S.stopPropagation());const M=u[E]?.editMode;if(p(k=>({...k,[E]:{...k[E],editMode:!k[E]?.editMode}})),M){const k=[...x];if(s&&s(k),r==="not_deployed"&&i&&a)try{await a(k)&&o({title:"Environment Variables Updated",description:"Your environment variables have been updated successfully.",duration:2e3})}catch{o({title:"Update Failed",description:"Failed to update environment variables. Please try again.",variant:"destructive",duration:2e3})}}setTimeout(()=>{v()},0)},C={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},F={hidden:{height:0,opacity:0},visible:{height:"auto",opacity:1,transition:{height:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2,delay:.1}}},exit:{height:0,opacity:0,transition:{height:{type:"spring",stiffness:500,damping:40},opacity:{duration:.1}}}};return t.jsx(xe.div,{className:"",variants:C,initial:"hidden",animate:"visible",exit:"exit",children:t.jsxs("div",{className:"flex items-center flex-col bg-[#A199FF0F] p-3 mb-3  md:p-5 md:mb-5 rounded-[12px]",children:[t.jsxs("div",{onClick:h,className:"flex flex-col w-full gap-2 cursor-pointer",children:[t.jsxs("div",{className:"flex items-center justify-between w-full cursor-pointer",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:Vbe,alt:"Key",className:"w-6 h-6"}),t.jsx("div",{className:"text-[#A199FF] text-[14px]  md:text-[16px] font-medium font-['Inter']",children:"Env Variables"})]}),t.jsx("img",{onClick:h,src:Hbe,alt:"Down Arrow",className:A("w-5 h-5 md:w-6 md:h-6 opacity-50 cursor-pointer hover:opacity-100 transition-transform duration-300",{"rotate-180":l})})]}),t.jsx("div",{className:"text-[13px] md:text-[14px] font-['Inter'] text-[#B9B2FF] opacity-60",children:"Secrets and environment variables are confidential credentials that enable secure access to APIs and services. Carefully handle secrets to avoid application failure."})]}),t.jsx("div",{className:"w-full overflow-hidden",children:t.jsx(ns,{children:l&&t.jsx(xe.div,{className:"w-full",variants:F,initial:"hidden",animate:"visible",exit:"exit",children:x.map((E,S)=>t.jsxs("div",{className:"flex flex-col items-center justify-between w-full gap-2 md:gap-4 max-md:p-2 mt-4 max-md:border border-[#B9B2FF25] max-md:rounded-[10px] md:flex-row",children:[t.jsxs("div",{className:"flex flex-col items-center w-full gap-2 md:gap-4 md:flex-row",children:[t.jsx("div",{className:A("w-full border rounded-[8px] transition-all duration-200","bg-[#A199FF14] border-transparent"),children:t.jsx("input",{type:"text",value:E.key,placeholder:"Key Name",readOnly:!0,className:A("w-full py-[10px] px-[14px] bg-transparent focus:outline-none placeholder-[#626266] transition-colors duration-200 font-[inter] text-[14px]","text-[#B9B2FF] cursor-not-allowed")})}),t.jsxs("div",{className:A("pr-[8px] justify-between flex w-full border rounded-[8px] items-center transition-all duration-200",u[S]?.editMode?A("bg-[#FFFFFF0A]",u[S]?.isEditing?.value?"border-[#fff]/80":"border-[#ffffff]/30"):"bg-[#A199FF14] border-transparent"),children:[t.jsx("input",{type:u[S]?.showPassword?"text":"password",value:E.value,placeholder:"Key Value",onChange:M=>g(S,M.target.value),onFocus:()=>b(S),onBlur:()=>w(S),readOnly:!u[S]?.editMode,className:A("py-[10px] px-[14px] bg-transparent placeholder-[#626266] focus:outline-none transition-colors duration-200 font-[inter] text-[14px]",u[S]?.editMode?u[S]?.isEditing?.value?"text-white":"text-[#E6E6E6]":"text-[#B9B2FF]",!u[S]?.editMode&&"cursor-not-allowed")}),t.jsx("div",{role:"button",tabIndex:0,onClick:M=>{M.preventDefault(),M.stopPropagation(),N(S)},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),M.stopPropagation(),N(S))},className:"text-[#626266] hover:text-[#B9B2FF] transition-colors w-8 h-8 flex items-center justify-center rounded-md hover:bg-white/5 cursor-pointer",children:u[S]?.showPassword?t.jsx("img",{src:Gbe,alt:"Hide",className:"w-6 h-6"}):t.jsx("img",{src:Wbe,alt:"Show",className:"w-6 h-6"})})]})]}),t.jsx("div",{className:"flex items-center gap-2 max-md:w-full md:min-w-[72px]",children:u[S]?.editMode?t.jsx("div",{role:"button",tabIndex:0,title:"Save",onClick:M=>{M.preventDefault(),M.stopPropagation(),setTimeout(()=>{_(S,M)},0)},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),M.stopPropagation(),setTimeout(()=>{_(S,M)},0))},className:"relative px-3  flex items-center justify-center bg-[#2EE572] max-md:w-full min-h-[40px] rounded-[10px] cursor-pointer",children:t.jsx("span",{className:"text-[#0f0f10] font-semibold",children:"Save"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{role:"button",tabIndex:0,title:"Edit",onClick:M=>{M.preventDefault(),M.stopPropagation(),setTimeout(()=>{_(S,M)},0)},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),M.stopPropagation(),setTimeout(()=>{_(S,M)},0))},className:"relative flex gap-2 items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3 hover:bg-[#A199FF14]",children:[t.jsx("img",{src:$be,alt:"Edit",className:"w-6 h-6 md:w-7 md:h-7"}),t.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:"Edit"})]}),t.jsxs("div",{role:"button",tabIndex:0,title:"Copy",onClick:M=>{M.preventDefault(),M.stopPropagation(),j(S)},onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),M.stopPropagation(),j(S))},className:"relative flex gap-2 text-[#A199FF] items-center justify-center max-md:w-full cursor-pointer max-md:bg-[#A199FF25] rounded-[10px] p-1 px-3  hover:bg-[#A199FF14]",children:[t.jsx("img",{src:zbe,alt:"Copy",className:"w-6 h-6 md:w-7 md:h-7"}),t.jsx("span",{className:"text-[#B9B2FF90] md:hidden font-semibold",children:f===S?"Copied!":"Copy"}),f===S&&t.jsx("span",{className:"absolute hidden md:block -top-8 left-1/2 transform -translate-x-1/2 bg-[#333333] text-white text-xs px-2 py-1 rounded",children:"Copied!"})]})]})})]},S))})})})]})})},Kbe=({size:e=24,primaryColor:n="white",secondaryColor:s="#2EE572",className:r,style:i})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,style:i,children:[t.jsx("path",{d:"M17.4053 4.80469C19.0621 4.80469 20.4053 6.14783 20.4053 7.80469V12.0645C19.4374 11.3953 18.2638 11.0029 16.998 11.0029C15.7709 11.0029 14.6302 11.3716 13.6797 12.0039H8.4043C7.07881 12.0039 6.00391 13.0788 6.00391 14.4043C6.00412 15.7296 7.07894 16.8037 8.4043 16.8037H11.0029C11.0008 16.8697 10.998 16.9364 10.998 17.0029C10.9981 17.7806 11.1476 18.5231 11.417 19.2051H6.60547C4.94875 19.2051 3.60568 17.8618 3.60547 16.2051V7.80469C3.60547 6.14783 4.94862 4.80469 6.60547 4.80469H17.4053ZM9.59668 13.208C10.2593 13.2081 10.7968 13.7456 10.7969 14.4082C10.7969 15.0709 10.2593 15.6083 9.59668 15.6084C8.93394 15.6084 8.39648 15.0709 8.39648 14.4082C8.39659 13.7456 8.934 13.208 9.59668 13.208ZM1.2002 10.8066C1.86285 10.8067 2.40039 11.3442 2.40039 12.0068V14.4062C2.40039 15.0689 1.86285 15.6063 1.2002 15.6064C0.537453 15.6064 0 15.069 0 14.4062V12.0068C0 11.3441 0.537453 10.8066 1.2002 10.8066ZM22.8037 10.8066C23.4664 10.8067 24.0039 11.3442 24.0039 12.0068V14.4062C24.0039 15.0594 23.4816 15.5893 22.832 15.6045C22.6136 14.6896 22.1875 13.8559 21.6035 13.1572V12.0068C21.6035 11.3441 22.141 10.8066 22.8037 10.8066Z",fill:n}),t.jsx("path",{d:"M19.9231 17.2288C19.9231 16.4876 19.6597 15.8536 19.1328 15.3268C18.606 14.7999 17.972 14.5365 17.2308 14.5365C16.4896 14.5365 15.8556 14.7999 15.3287 15.3268C14.8019 15.8536 14.5385 16.4876 14.5385 17.2288C14.5385 17.97 14.8019 18.604 15.3287 19.1309C15.8556 19.6577 16.4896 19.9211 17.2308 19.9211C17.972 19.9211 18.606 19.6577 19.1328 19.1309C19.6597 18.604 19.9231 17.97 19.9231 17.2288ZM23 22.2288C23 22.4372 22.9239 22.6174 22.7716 22.7697C22.6194 22.9219 22.4391 22.998 22.2308 22.998C22.0144 22.998 21.8341 22.9219 21.6899 22.7697L19.6286 20.7144C18.9115 21.2112 18.1122 21.4596 17.2308 21.4596C16.6579 21.4596 16.11 21.3484 15.5871 21.1261C15.0643 20.9037 14.6136 20.6032 14.235 20.2246C13.8564 19.846 13.5559 19.3953 13.3335 18.8724C13.1112 18.3496 13 17.8017 13 17.2288C13 16.6559 13.1112 16.108 13.3335 15.5852C13.5559 15.0623 13.8564 14.6116 14.235 14.233C14.6136 13.8544 15.0643 13.5539 15.5871 13.3316C16.11 13.1092 16.6579 12.998 17.2308 12.998C17.8037 12.998 18.3516 13.1092 18.8744 13.3316C19.3972 13.5539 19.848 13.8544 20.2266 14.233C20.6052 14.6116 20.9056 15.0623 21.128 15.5852C21.3504 16.108 21.4615 16.6559 21.4615 17.2288C21.4615 18.1102 21.2131 18.9095 20.7163 19.6267L22.7776 21.688C22.9259 21.8362 23 22.0165 23 22.2288Z",fill:s})]}),jS=({onRunHealthCheck:e})=>{const[n,s]=d.useState(!1),{isMobile:r}=ps();return t.jsx("div",{className:"",children:t.jsxs("div",{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between ",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kbe,{className:"",size:r?20:24}),t.jsx("span",{className:"font-medium font-inter text-nowrap text-base",children:"Pre-Deployment Health Check"})]}),t.jsxs("div",{className:"flex gap-[10px] items-center max-md:hidden",children:[t.jsx("button",{"data-testid":Ss.deploy.healthCheckButton,title:"Run Health Check",onClick:()=>{ts("health_check",{action:"run_health_check_clicked",location:"desktop"}),e&&e()},className:"text-[#0F0F10] text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"}),t.jsx("button",{title:"Open Health Check Section",onClick:()=>s(!n),className:"bg-[#FFFFFF1A] p-[6px] rounded-[10px]",children:t.jsx(Dr,{className:`transition-transform ${n?"rotate-180":""}`})})]})]}),t.jsxs("div",{className:A("md:max-w-[60%] flex flex-col gap-4",n&&"flex"),children:[t.jsx("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:"Run an automated code review to catch deployment blockers before launch. Costs 2-3 credits"}),t.jsx("span",{className:"text-[#2EE572] hidden max-md:hidden text-[14px] underline font-medium font-inter",children:"Why Health check is important?"})]}),t.jsx("button",{"data-testid":Ss.deploy.healthCheckButton,title:"Run Health Check",onClick:()=>{ts("health_check",{action:"run_health_check_clicked",location:"mobile"}),e&&e()},className:"text-[#0F0F10] md:hidden mt-2 text-nowrap bg-[#2EE572] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Run Health Check"})]})})};var ib={exports:{}},NS;function Ybe(){return NS||(NS=1,(function(e){function n(f){return f&&f.__esModule?f.default:f}function s(f,m,h,x){Object.defineProperty(f,m,{get:h,set:x,enumerable:!0,configurable:!0})}s(e.exports,"showEntri",()=>o),s(e.exports,"checkDomain",()=>l),s(e.exports,"purchaseDomain",()=>c),s(e.exports,"close",()=>u),s(e.exports,"load",()=>p);var r={};r=JSON.parse('{"name":"entrijs","version":"0.0.16","description":"Entri","source":"src/index.ts","main":"dist/main.js","types":"dist/types.d.ts","scripts":{"build":"parcel build --no-cache","test":"echo \\"Error: no test specified\\" && exit 1"},"author":"Entri LLC","license":"MIT","dependencies":{"react":"^18.2.0"},"devDependencies":{"@parcel/packager-ts":"^2.12.0","@parcel/transformer-typescript-types":"^2.12.0","parcel":"^2.12.0","typescript":"^5.5.4"}}');function i(){return new Promise((f,m)=>{const h=window.entri;if(h){f(h);return}const x=document.createElement("script");x.type="text/javascript",x.src="https://cdn.goentri.com/entri.js",x.addEventListener("load",()=>{f(window.entri)}),x.addEventListener("error",()=>{m(new Error("Failed to load the Entri SDK."))}),document.body.appendChild(x)})}const a=f=>({...f,npm:!0,npmVersion:n(r)?.version??""}),o=async f=>(await i()).showEntri(a(f)),l=async(f,m)=>(await i()).checkDomain(f,m),c=async f=>(await i()).purchaseDomain(a(f)),u=async()=>(await i()).close(),p=async()=>await i()})(ib)),ib.exports}var ab=Ybe();class Zbe{constructor(){$t(this,"applicationId");this.applicationId="emergent"}async fetchEntriToken(){try{const{supabase:n}=await bn(async()=>{const{supabase:a}=await Promise.resolve().then(()=>lz);return{supabase:a}},void 0),{data:{session:s},error:r}=await n.auth.getSession();if(r||!s)throw new Error("Authentication required. Please log in again.");return(await yt.getEntriToken()).token}catch(n){throw n.code==="ERR_NETWORK"||n.message?.includes("Network Error"),n}}async launchEntriModal(n,s,r){try{const i=await this.fetchEntriToken(),a={applicationId:this.applicationId,token:i,dnsRecords:s,prefilledDomain:n,applicationName:"Emergent",...r&&{userId:r}};return new Promise(o=>{const l=c=>{window.removeEventListener("onEntriClose",l),o({success:c.detail?.success||!1,domain:c.detail?.domain,setupType:c.detail?.setupType})};window.addEventListener("onEntriClose",l,!1),ab.showEntri(a).catch(c=>{window.removeEventListener("onEntriClose",l),o({success:!1})})})}catch(i){throw i}}parseDomain(n){if(!n)return{subdomain:null,rootDomain:"",isSubdomain:!1};const s=n.replace(/^https?:\/\//,"").toLowerCase(),r=s.split("."),i=["co.uk","com.au","co.nz","co.za","com.br","co.in","net.au","org.uk","ac.uk"];let a=2;for(const o of i)if(s.endsWith(o)){a=3;break}if(r.length>a){const o=r.slice(0,r.length-a),l=r.slice(r.length-a);return{subdomain:o.join("."),rootDomain:l.join("."),isSubdomain:!0}}return{subdomain:null,rootDomain:s,isSubdomain:!1}}formatDnsRecordsForEntri(n,s){return n.map(r=>({type:r.type,host:r.name||"@",value:r.value||"",ttl:300,...r.type.toUpperCase()==="MX"?{priority:10}:{}}))}async checkDomainSupport(n,s){try{const r=await this.fetchEntriToken(),i={applicationId:this.applicationId,token:r,dnsRecords:s};return await ab.checkDomain(n,i)}catch(r){throw r}}createDnsRecordsWithWildcard(n,s=!0){const r=[{type:"A",host:"@",value:n,ttl:300}];return s&&r.push({type:"A",host:"*",value:n,ttl:300}),r}async launchEntriSellModal(n,s=!1,r,i){try{let a=!1,o=i;if(i){const v=this.parseDomain(i);v.isSubdomain&&(a=!0,o=v.rootDomain)}const l=await this.fetchEntriToken(),c=window.location.origin,u=encodeURIComponent(window.location.pathname+window.location.search),p=`${c}/domain-success?returnPath=${u}`,f=`${c}/domain-exit?returnPath=${u}`,m=!1,h=`${c}/entri_logo.svg`,x=`${c}/entri_icon.svg`,y={applicationId:this.applicationId,token:l,sellVersion:"v3",successCallbackUrl:p,exitCallbackUrl:f,dnsRecords:n,freeDomain:s,debugMode:m,locale:"en",...r&&{userId:r},whiteLabel:{sell:{partnerLogo:h,partnerIcon:x,partnerName:"Emergent",overlayScreenHeight:"70%",flowTarget:"_self"},customCopy:{initialScreen:{title:{en:"Buy your domain with Emergent"},marketingCopy:{en:"Search, pick, and own a clean memorable domain for your project."}}},hideEntriLogo:!1,hideCompanyLogo:!1,hideCompanyName:!1,theme:{primary:"#0070F3",onPrimary:"#FFFFFF",secondary:"#0070F3",onSecondary:"#FFFFFF",headerBackground:"#0B1221",interactive:"#4d9fff",premiumBadge:"#00ffcc",onPremiumBadge:"#ffffff",priceBadge:"#ff6600",onPriceBadge:"#ffffff",activating:"#0070F3",onActivating:"#FFFFFF"}}};return new Promise(v=>{let g=!1;const b=N=>{if(!g){window.removeEventListener("onEntriClose",b),window.removeEventListener("popstate",w),g=!0;const j=N.detail?.domain,_=N.detail?.success||!1;v({success:_,domain:j,setupType:"purchase",wasSubdomainRequest:a})}},w=()=>{if(g)return;const N=window.location.pathname,j=new URLSearchParams(window.location.search),_=j.get("domain"),C=j.get("returnPath"),F=()=>{if(C){const E=decodeURIComponent(C);window.location.href=window.location.origin+E}else window.location.href=window.location.origin+"/home"};N.includes("/domain-success")&&_?(window.removeEventListener("popstate",w),window.removeEventListener("onEntriClose",b),g=!0,F(),v({success:!0,domain:_,setupType:"purchase",wasSubdomainRequest:a})):N.includes("/domain-exit")&&(window.removeEventListener("popstate",w),window.removeEventListener("onEntriClose",b),g=!0,F(),v({success:!1,setupType:"purchase",wasSubdomainRequest:a}))};window.addEventListener("onEntriClose",b,!1),window.addEventListener("popstate",w),setTimeout(w,100),ab.purchaseDomain(y).catch(N=>{window.removeEventListener("onEntriClose",b),window.removeEventListener("popstate",w),g||(g=!0,v({success:!1,wasSubdomainRequest:a}))})})}catch(a){throw a}}}const A0=new Zbe,Jbe=({onSuccess:e,onError:n,onCancel:s,onPurchaseSuccess:r}={})=>{const[i,a]=d.useState(!1),{toast:o}=ds(),l=d.useCallback(async(u,p,f)=>{a(!0);try{const m=A0.formatDnsRecordsForEntri(p.filter(x=>x.value),u),h=await A0.launchEntriModal(u,m,f);h.success?(o({title:"Domain Configuration Complete",description:`DNS records have been configured ${h.setupType==="automatic"?"automatically":"manually"}. Verification may take a few minutes.`,duration:5e3}),e?.()):(o({title:"Configuration Cancelled",description:"Domain configuration was not completed. You can try again or configure DNS manually.",variant:"default",duration:5e3}),s?.())}catch(m){o({title:"Configuration Failed",description:m.message||"Failed to configure domain with Entri",variant:"destructive",duration:5e3}),s?.(),n?.(m)}finally{a(!1)}},[o,e,n,s]),c=d.useCallback(async(u,p=!0)=>{a(!0);try{let f;try{const x=await yt.getEntriToken(u);if(!x.ip_address)throw new Error("IP address not found in Entri info response");f=x.ip_address}catch(x){o({title:"Unable to Fetch Deployment Configuration",description:"Could not retrieve the deployment IP address. Please try again later or contact support.",variant:"destructive",duration:5e3}),a(!1),n?.(x);return}const m=A0.createDnsRecordsWithWildcard(f,!0),h=await A0.launchEntriSellModal(m,p,u);h.success&&h.domain?(o({title:"Domain Purchased Successfully",description:`Your domain ${h.domain} has been purchased and DNS records are being configured. Please wait a few minutes for propagation.`,duration:7e3}),r?.(h.domain),e?.(h.domain)):o({title:"Purchase Cancelled",description:"Domain purchase was not completed. You can try again or link an existing domain.",variant:"default",duration:5e3})}catch(f){o({title:"Purchase Failed",description:f.message||"Failed to purchase domain through Entri",variant:"destructive",duration:5e3}),n?.(f)}finally{a(!1)}},[o,e,n,r]);return{launchEntriForDomain:l,purchaseDomain:c,isLoading:i}},FS=W.common.lockedWeb,Xbe=W.common.lockedWebBlue,ES=W.common.unlink,Qbe=W.common.close,e6e=W.common.flowbiteRefreshOutline,t6e=({jobId:e,loading:n,customDomain:s,registerDomain:r,verifyDomain:i,onOpenManualLinkModal:a,onOpenManualLinkModalWithRecords:o,onUnlinkDomain:l,unlinkDomainDirect:c,refetchCustomDomain:u,fetchDnsRecordsOnly:p,shouldExpandForm:f,onFormExpanded:m,isHighlighted:h,onHighlightComplete:x,onOpenSwitchDomainModal:y})=>{const{toast:v}=ds(),[g,b]=d.useState(""),[w,N]=d.useState(!1),[j,_]=d.useState(!1),[C,F]=d.useState(!1),[E,S]=d.useState(!1),[M,k]=d.useState(!1),I=Roe();d.useEffect(()=>{f&&!w&&(N(!0),m?.())},[f,w,m]),d.useEffect(()=>{if(h&&!M){k(!0);const ve=setTimeout(()=>{k(!1),x?.()},800);return()=>clearTimeout(ve)}},[h,M,x]);const{launchEntriForDomain:D,purchaseDomain:P,isLoading:R}=Jbe({onSuccess:async()=>{if(z(Ii.ENTRI_SUCCESS,{jobId:e,domain:g}),g){try{await i(g)}catch{}await u(),N(!1)}},onCancel:async()=>{if(z(Ii.ENTRI_CANCELLED,{jobId:e,domain:g}),g&&c)try{await c(g)}catch{}},onPurchaseSuccess:async ve=>{b(ve);let we=0;const be=10,Ue=2e3,fe=async()=>{we<be&&(await u(),we++,setTimeout(fe,Ue))};fe(),N(!1)}});d.useEffect(()=>{s?.domain&&!g&&b(s.domain)},[s?.domain]);const B=ve=>/^(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]$/i.test(ve),U=async()=>{if(s?.domain){z(Ii.STATUS_REFRESH_CLICKED,{jobId:e,domain:s.domain}),_(!0);try{await i(s.domain),await u(),v({title:"Status Updated",description:"Domain status has been refreshed",duration:1500})}catch(ve){v({title:"Status Check Failed",description:ve?.message||"Failed to check domain status",variant:"destructive",duration:3e3})}finally{_(!1)}}},H=async()=>{const ve=await p();ve?.dns_records&&ve.dns_records.length>0&&D(g,ve.dns_records,e)},$=async()=>{if(!g||!B(g)){v({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}z(Ii.AUTO_LINK_CLICKED,{jobId:e,domain:g}),F(!0);try{await r(g),await H()}catch(ve){if(z(Ii.AUTO_LINK_FAILED,{jobId:e,domain:g,error:ve?.error||ve?.message}),ve?.error?.code==="domain_already_linked"){y?.(g,ve.error.linked_app_name,ve.error.linked_app_id,H);return}let we=ve?.error||ve?.message||"Failed to register domain";ve?.error?.code&&(we=ve?.error?.error),v({title:"Registration Failed",description:we,variant:"destructive",duration:3e3})}finally{F(!1)}},q=async()=>{const ve=await p();ve?.dns_records&&ve.dns_records.length>0&&(o?.(ve.dns_records,g),v({title:"Domain Registered",description:"Please add the DNS records to verify your domain",duration:3e3}))},Q=async()=>{if(!g||!B(g)){v({title:"Invalid Domain",description:"Please enter a valid domain name",variant:"destructive",duration:3e3});return}z(Ii.MANUAL_LINK_CLICKED,{jobId:e,domain:g}),S(!0);try{await r(g),await q()}catch(ve){if(z(Ii.MANUAL_LINK_FAILED,{jobId:e,domain:g,error:ve?.error||ve?.message}),ve?.error?.code==="domain_already_linked"){y?.(g,ve.error.linked_app_name,ve.error.linked_app_id,q);return}let we=ve?.error||ve?.message||"Failed to register domain";ve?.error?.code&&(we=ve?.error?.error),v({title:"Registration Failed",description:we,variant:"destructive",duration:3e3})}finally{S(!1)}},V=s?.status,ee=!!s,X=V==="pending",ae=V==="verified",me=V==="failed",oe=ae||me||X,pe=X||me,se=g&&B(g),re=n||R||C;return ee?t.jsxs("div",{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:FS,alt:"Locked Web",className:"w-5 h-5 md:w-6 md:h-6"}),t.jsx("span",{className:"font-medium font-inter text-nowrap text-base text-white",children:"Custom Domain"})]}),oe&&s&&t.jsx("div",{className:"flex gap-[10px] items-center max-md:hidden",children:t.jsxs("button",{type:"button",title:"Unlink Domain",onClick:()=>l?.(s.domain),className:"text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2 gap-2",children:["Unlink Domain",t.jsx("img",{src:ES,alt:"Unlink",className:"w-5 h-5"})]})})]}),t.jsx("div",{className:"md:max-w-[60%] flex flex-col gap-4",children:t.jsxs("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:["Users can visit your project using this domain."," ",t.jsx("button",{type:"button",onClick:a,className:"text-[#0A84FF] font-medium underline hover:opacity-80",children:"View DNS records"})]})}),t.jsxs("div",{className:"mt-4 p-3 md:p-4 bg-[#FFFFFF08] rounded-[12px] flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Dae,{className:"w-5 h-5 text-[#8E8E93]"}),X?t.jsxs("span",{className:"text-[14px] text-[#828283] font-inter font-medium underline flex items-center gap-1",children:[s?.domain,t.jsx(gc,{className:"w-4 h-4 text-[#8E8E93]"})]}):t.jsxs("a",{href:`https://${s?.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-[14px] text-white font-inter font-medium flex items-center gap-1 underline",children:[s?.domain,t.jsx(gc,{className:"w-4 h-4 text-[#8E8E93]"})]})]}),ae&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Mn,{className:"w-5 h-5 text-[#30D158]"}),t.jsx("span",{className:"text-[#30D158] font-inter font-medium text-[14px]",children:"Linked"})]})]}),oe&&s&&t.jsxs("button",{type:"button",title:"Unlink Domain",onClick:()=>l?.(s.domain),className:"md:hidden text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2 gap-2 mt-2",children:["Unlink Domain",t.jsx("img",{src:ES,alt:"Unlink",className:"w-5 h-5"})]}),pe&&t.jsxs("div",{className:A("mt-4 p-3 md:p-4 rounded-[12px] flex max-md:flex-col items-center justify-between gap-4",X&&"bg-[#27313D]",me&&"bg-[#3D2727]"),children:[t.jsxs("div",{className:"flex flex-col gap-1 max-md:w-full",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[X&&t.jsx(aN,{className:"w-3 h-3 text-[#4d9fff]"}),me&&t.jsx(aN,{className:"w-3 h-3 text-[#FF453A]"}),t.jsx("span",{className:A("font-inter font-medium text-[14px]",X?"text-[#4d9fff]":"text-[#FF453A]"),children:X?"Linking in progress":"Linking is taking longer"})]}),t.jsx("p",{className:"text-[#d9d9d9] font-inter text-[12px]",children:"Typically takes 10-15 mins, may take up to 24 hours in rare cases."})]}),X&&t.jsxs("button",{type:"button",onClick:U,disabled:j||n,className:"flex items-center gap-2 px-4 py-2 bg-[#FFFFFF0F] hover:bg-[#FFFFFF15] rounded-[10px] text-white font-inter font-medium text-[14px] whitespace-nowrap h-[36px] max-md:w-full max-md:justify-center",children:["Refresh status",t.jsx("img",{src:e6e,alt:"Refresh",className:A("w-5 h-5 invert brightness-0",(j||n)&&"animate-spin")})]}),me&&t.jsx("button",{type:"button",onClick:()=>{I.open({domain:s?.domain||"",jobId:e,data:s?{current_ips:s.current_ips||[],dns_records:s.dns_records.map(ve=>({type:ve.type,name:ve.name,value:ve.value||""}))}:void 0,onAutoLink:async()=>{s?.domain&&await D(s.domain,s.dns_records,e)}})},className:"flex items-center gap-2 px-4 py-2 bg-[#FFFFFF0F] hover:bg-[#FFFFFF15] rounded-[10px] text-white font-inter font-medium text-[14px] whitespace-nowrap h-[36px] max-md:w-full max-md:justify-center",children:"View details"})]})]}):t.jsxs("div",{className:A("w-full bg-[#FFFFFF0A] p-4 rounded-[12px] transition-all duration-150 ease-in-out max-md:flex max-md:flex-col max-md:gap-2",w&&"bg-[#4d9fff08] border border-[#4d9fff50]",M&&"border border-[#4d9fff50] animate-blink-border"),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:w?Xbe:FS,alt:"Locked Web",className:"w-5 h-5 md:w-6 md:h-6"}),t.jsx("span",{className:A("font-medium font-inter text-nowrap text-base",w&&"text-[#4d9fff]"),children:"Custom Domain"})]}),!w&&t.jsxs("div",{className:"flex gap-[10px] items-center max-md:hidden",children:[C_()&&t.jsx("button",{type:"button",title:"Buy Domain",onClick:()=>P(e||""),disabled:R||!e,className:A("text-white text-nowrap bg-[#0070F3] hover:bg-[#0050C3] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",(R||!e)&&"opacity-50 cursor-not-allowed"),children:"Buy Domain"}),t.jsx("button",{type:"button",title:"Link Domain",onClick:()=>{z("custom_domain_link_clicked",{jobId:e}),N(!0)},className:"text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Link Domain"})]}),w&&t.jsx("button",{type:"button",title:"Cancel",onClick:()=>{z("custom_domain_link_canceled",{jobId:e}),N(!1)},className:"bg-[#FFFFFF1A] p-[6px] rounded-[10px] max-md:hidden",children:t.jsx("img",{src:Qbe,alt:"Close",className:"w-6 h-6"})})]}),!w&&t.jsx("div",{className:"md:max-w-[60%] flex flex-col gap-4",children:t.jsx("span",{className:"text-[14px] leading-[20px] text-[#FFFFFF80] font-inter font-medium",children:"Connect a custom domain so users can visit your project at your own URL"})}),!w&&t.jsxs("div",{className:"flex gap-2 md:hidden mt-2",children:[C_()&&t.jsx("button",{type:"button",title:"Buy Domain",onClick:()=>P(e||""),disabled:R||!e,className:A("flex-1 text-white text-nowrap bg-[#0070F3] hover:bg-[#0050C3] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",(R||!e)&&"opacity-50 cursor-not-allowed"),children:"Buy Domain"}),t.jsx("button",{type:"button",title:"Link Domain",onClick:()=>{z(Ii.LINK_CLICKED,{jobId:e}),N(!0)},className:"flex-1 text-white text-nowrap bg-[#FFFFFF1A] hover:bg-[#FFFFFF25] h-[36px] items-center flex justify-center font-semibold rounded-[10px] px-4 py-2",children:"Link Domain"})]}),w&&t.jsxs("div",{className:"mt-4 flex flex-col gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:"domain-input",className:"text-[#99c8ff]/80 font-inter text-[14px]",children:"Enter your domain"}),t.jsx("input",{id:"domain-input",type:"text",autoFocus:!0,value:g,onChange:ve=>b(ve.target.value),placeholder:"e.g. yourapp.com or yourapp.tech",className:"w-full p-3 bg-[#66adff08] px-4 font-inter font-medium rounded-[12px] text-[#CCE4FF] placeholder:text-[#4d9fff50] border border-[#66adff40] text-[16px] focus:outline-none focus:border-[#66adff60]"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:$,disabled:re||!se,className:A("flex-1 rounded-[10px] h-[36px] font-semibold text-[14px]",re||!se?"bg-[#0070F350] text-[#FFFFFF4D] cursor-not-allowed":"bg-[#0070F3] text-white hover:bg-[#0060D3]"),children:re?"Processing...":"Auto-link Domain"}),t.jsx("button",{type:"button",onClick:Q,disabled:E||re||!se,className:A("flex-1 rounded-[10px] h-[36px] font-semibold text-[14px] bg-[#FFFFFF1A]",E||re||!se?"text-[#FFFFFF4D] cursor-not-allowed":"text-white hover:bg-[#FFFFFF25]"),children:E?"Processing...":"Link Manually"})]}),t.jsx("button",{type:"button",onClick:()=>{z("custom_domain_link_canceled",{jobId:e}),N(!1)},className:"md:hidden text-[#FFFFFF80] text-[14px] font-medium",children:"Cancel"})]})]})},vU=({size:e=20,width:n,height:s,color:r="white",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M7.08335 13.3334H13.3334C14.0278 13.3334 14.6181 13.0904 15.1042 12.6042C15.5903 12.1181 15.8334 11.5279 15.8334 10.8334C15.8334 10.139 15.5903 9.54869 15.1042 9.06258C14.6181 8.57647 14.0278 8.33341 13.3334 8.33341C13.2222 7.52786 12.8542 6.84036 12.2292 6.27091C11.6042 5.70147 10.9028 5.41675 10.125 5.41675C9.41669 5.41675 8.77432 5.5973 8.19794 5.95841C7.62155 6.31953 7.19446 6.83341 6.91669 7.50008C6.12502 7.56952 5.46877 7.87161 4.94794 8.40633C4.4271 8.94105 4.16669 9.61119 4.16669 10.4167C4.16669 11.2223 4.45141 11.9098 5.02085 12.4792C5.5903 13.0487 6.2778 13.3334 7.08335 13.3334ZM10 18.3334C8.84724 18.3334 7.76391 18.1147 6.75002 17.6772C5.73613 17.2397 4.85419 16.6459 4.10419 15.8959C3.35419 15.1459 2.76044 14.264 2.32294 13.2501C1.88544 12.2362 1.66669 11.1529 1.66669 10.0001C1.66669 8.8473 1.88544 7.76397 2.32294 6.75008C2.76044 5.73619 3.35419 4.85425 4.10419 4.10425C4.85419 3.35425 5.73613 2.7605 6.75002 2.323C7.76391 1.8855 8.84724 1.66675 10 1.66675C11.1528 1.66675 12.2361 1.8855 13.25 2.323C14.2639 2.7605 15.1459 3.35425 15.8959 4.10425C16.6459 4.85425 17.2396 5.73619 17.6771 6.75008C18.1146 7.76397 18.3334 8.8473 18.3334 10.0001C18.3334 11.1529 18.1146 12.2362 17.6771 13.2501C17.2396 14.264 16.6459 15.1459 15.8959 15.8959C15.1459 16.6459 14.2639 17.2397 13.25 17.6772C12.2361 18.1147 11.1528 18.3334 10 18.3334Z",fill:f})})},n6e=W.common.copperCoin,s6e=({isSelected:e})=>t.jsxs(xe.div,{className:"relative w-6 h-6",whileTap:{scale:.9},children:[t.jsx(xe.svg,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",children:t.jsx(xe.circle,{cx:"12",cy:"12",r:"9",strokeWidth:"2",fill:"none",initial:!1,animate:{stroke:e?"#80FFF9":"rgba(255,255,255,0.64)"},transition:{duration:.2}})}),t.jsx(ns,{children:e&&t.jsx(xe.svg,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:t.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#80FFF9"})})})]}),SS=()=>t.jsxs("div",{className:"font-['Inter'] font-normal text-sm text-left max-w-[200px]",children:[t.jsxs("span",{className:"font-medium text-white",children:["Max tier limit",t.jsx("br",{})]}),t.jsx("span",{className:"text-[rgba(255,255,255,0.64)]",children:"Each tier runs on 2 machines for faster traffic handling"})]}),r6e=({tier:e,isSelected:n,onSelect:s,index:r,currentTierId:i})=>{const a=()=>{e.isCurrent,e.isCurrent||e.id!==i&&e.isCurrent,z(Ma.CHOOSE_RESOURCES_TIER_SELECTED,{selectedTierId:e.id,selectedTierName:e.name,isCurrent:e.isCurrent}),s()};return t.jsxs(xe.button,{onClick:a,className:"flex gap-3 md:gap-4 items-center w-full rounded-xl transition-colors hover:bg-[rgba(255,255,255,0.02)] py-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:r*.08,ease:[.25,.46,.45,.94]},whileHover:{scale:1.01},whileTap:{scale:.99},children:[t.jsx("div",{className:"flex items-center p-[6px]",children:t.jsx(s6e,{isSelected:n})}),t.jsxs("div",{className:"flex flex-1 gap-3 md:gap-6 items-center",children:[t.jsxs("div",{className:"flex flex-1 gap-3 items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsx(xe.p,{className:"font-['Brockmann'] leading-6 text-[16px] md:text-[18px] tracking-[-0.36px] whitespace-nowrap text-left w-auto md:w-[70px]",initial:!1,animate:{color:n?"#80FFF9":"#FFFFFF"},transition:{duration:.2},children:e.name}),e.isCurrent&&t.jsx(xe.div,{className:"md:hidden bg-[rgba(255,255,255,0.04)] flex items-center justify-center px-2 py-1 rounded",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.08+.2,duration:.2},children:t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-xs text-white",children:"Current"})})]}),t.jsxs("div",{className:"hidden md:flex flex-1 items-center gap-2 min-w-0",children:[t.jsx(xe.div,{className:A("h-3 rounded-[8px] shrink-0",n?"bg-[rgba(128,255,249,0.16)]":"bg-[rgba(255,255,255,0.16)]"),initial:{width:0},animate:{width:e.barWidth},transition:{duration:.4,delay:r*.08+.1,ease:[.25,.46,.45,.94]}}),e.isCurrent&&t.jsx(xe.div,{className:"bg-[rgba(255,255,255,0.04)] flex items-center justify-center px-2 py-1 rounded shrink-0",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r*.08+.2,duration:.2},children:t.jsx("p",{className:"font-['Inter'] font-medium leading-5 text-xs text-white",children:"Current"})})]})]}),t.jsxs("div",{className:"flex items-center shrink-0",children:[t.jsx("div",{className:"flex items-center justify-end p-1 md:p-2 w-[60px] md:w-[80px]",children:t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-xs md:text-sm text-[rgba(255,255,255,0.64)] whitespace-nowrap",children:e.vCPU})}),t.jsx("div",{className:"flex items-center justify-end p-1 md:p-2 w-[80px] md:w-[100px]",children:t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-xs md:text-sm text-[rgba(255,255,255,0.64)] whitespace-nowrap",children:e.ram})})]})]})]})},i6e=({isOpen:e,onClose:n,selectedTierId:s,onTierSelect:r,onResourceChange:i,tiers:a,isLoading:o=!1})=>{const l=a.find(g=>g.id===s)||a[0],u=a.find(g=>g.isCurrent)?.id||"",p=d.useRef(!1),f=a.findIndex(g=>g.isCurrent),m=a.findIndex(g=>g.id===s);d.useEffect(()=>{e&&!p.current&&(p.current=!0,z(Ma.CHOOSE_RESOURCES_MODAL_OPENED,{currentTierId:u,tiersCount:a.length})),e||(p.current=!1)},[e,u,a.length]);const h=()=>m===f?"Keep current resources":m>f?"Upgrade resources":"Downgrade resources",x=()=>m>f?"upgrade":m<f?"downgrade":null,y=()=>{const g=x();g&&i?(z(g==="upgrade"?Ma.CHOOSE_RESOURCES_UPGRADE_CLICKED:Ma.CHOOSE_RESOURCES_DOWNGRADE_CLICKED,{currentTierId:u,targetTierId:s,targetTierName:l?.name}),i(g)):(z(Ma.CHOOSE_RESOURCES_KEEP_CURRENT_CLICKED,{currentTierId:u}),n())},v=()=>{z(Ma.CHOOSE_RESOURCES_MODAL_CLOSED,{currentTierId:u,hadSelection:s!==u}),n()};return t.jsxs(Ei,{isOpen:e,onClose:v,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"relative p-3 md:px-6 md:py-4 border-b border-[#242424] bg-[#18181A]",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("p",{className:"font-['Brockmann'] text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Choose Resources"}),t.jsx("p",{className:"font-['Inter'] font-normal text-[13px] md:text-[14px] text-[#7F8283]",children:"Power allocated to keep your app fast, stable, and online"})]}),t.jsx("button",{type:"button",title:"Close",onClick:v,className:"absolute top-3 right-3 md:top-4 md:right-4 p-1 rounded-full bg-[rgba(255,255,255,0.1)] backdrop-blur-sm text-gray-400 hover:text-white transition-colors",children:t.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),t.jsxs("div",{className:"flex flex-col gap-3 items-start p-3 md:p-6",children:[t.jsxs("div",{className:"flex gap-3 md:gap-4 items-center w-full",children:[t.jsx("div",{className:"flex items-center p-[6px]",children:t.jsx("div",{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex flex-1 gap-3 md:gap-6 items-center",children:[t.jsxs("div",{className:"flex flex-1 gap-3 items-center",children:[t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-xs md:text-sm text-[rgba(255,255,255,0.64)] w-auto md:w-[90px]",children:"Tier"}),t.jsx("div",{className:"hidden md:flex flex-1"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex items-center justify-end gap-1 p-1 md:p-2 w-[60px] md:w-[80px]",children:[t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-xs md:text-sm text-[rgba(255,255,255,0.64)]",children:"Speed"}),t.jsx(bg,{iconSize:16,iconColor:"rgba(255,255,255,0.64)",side:"top",children:t.jsx(SS,{})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-1 p-1 md:p-2 w-[80px] md:w-[100px]",children:[t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-xs md:text-sm text-[rgba(255,255,255,0.64)]",children:"Memory"}),t.jsx(bg,{iconSize:16,iconColor:"rgba(255,255,255,0.64)",side:"top",children:t.jsx(SS,{})})]})]})]})]}),t.jsx("div",{className:"flex flex-col gap-4 items-start w-full",children:o?t.jsx("div",{className:"flex items-center justify-center w-full py-8",children:t.jsx("div",{className:"animate-pulse text-white/50",children:"Loading tiers..."})}):a.map((g,b)=>t.jsx(r6e,{tier:g,isSelected:g.id===s,onSelect:()=>r(g.id),index:b,currentTierId:u},g.id))})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 md:p-6 border-t border-[#242424] bg-[#18181A]",children:[t.jsxs(xe.div,{className:"flex items-center gap-2",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},children:[t.jsx("img",{src:n6e,alt:"Credits",className:"w-5 h-5"}),t.jsxs("p",{className:"font-['Brockmann'] leading-5 text-sm text-[rgba(255,255,255,0.64)] tracking-[-0.2px]",children:[l?.creditsPerMonth??"--"," Credits/mo"]})]},l?.creditsPerMonth??"loading"),t.jsx("button",{onClick:y,className:"bg-white flex items-center justify-center px-6 py-[10px] rounded-xl hover:bg-gray-100 transition-colors overflow-hidden",children:t.jsx(xe.p,{className:"font-['Brockmann'] font-semibold leading-5 text-sm text-[#0E0E0F] tracking-[-0.2px]",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},children:h()},h())})]})]})},wU=({isOpen:e,onClose:n,title:s,subtitle:r,children:i,footer:a})=>t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-4 md:py-[24px] border-[rgba(255,255,255,0.1)] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6] font-['Brockmann']",children:s}),r&&t.jsx("p",{className:"text-[12px] md:text-[14px] font-normal text-[#989EA0] font-['Inter'] mt-1",children:r}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute top-3 right-3 md:top-4 md:right-4 p-1 rounded-full bg-[rgba(255,255,255,0.1)] backdrop-blur-sm text-gray-400 hover:text-white transition-colors",children:t.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),t.jsx("div",{className:"p-3 md:p-6",children:i}),t.jsx("div",{className:"p-4 bg-[#18181A] border-t border-[rgba(255,255,255,0.1)]",children:a})]}),CU=({size:e=16,width:n,height:s,variant:r="default",className:i,style:a})=>{const o=n||e,l=s||e,c=r==="cyan"?"#80FFF9":"#E9E6DE",u=r==="cyan"?.2:.1;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:l,viewBox:"0 0 16 16",fill:"none",className:i,style:a,children:[t.jsxs("g",{clipPath:"url(#clip0_credit_coin)",children:[t.jsx("circle",{opacity:u,cx:"8",cy:"8",r:"8",fill:c}),t.jsx("path",{d:"M8.00049 1.6001C11.5349 1.60031 14.3999 4.466 14.3999 8.00049C14.3997 11.5348 11.5348 14.3997 8.00049 14.3999C4.466 14.3999 1.60031 11.5349 1.6001 8.00049C1.6001 4.46587 4.46587 1.6001 8.00049 1.6001ZM8.32666 5.27197C8.11581 4.74948 7.93825 4.57421 7.68506 5.19775C7.13105 6.52744 6.46954 7.1617 5.16748 7.71045C5.03685 7.7708 4.80228 7.87537 4.80029 7.99951C4.80182 8.12385 5.03521 8.22915 5.16748 8.28955C6.46789 8.83666 7.13111 9.4717 7.68506 10.8013C7.94136 11.4364 8.11936 11.2372 8.32666 10.728C8.8822 9.44281 9.50272 8.84643 10.813 8.28955C10.9503 8.22404 11.1767 8.13685 11.1997 8.00635V7.9917C11.1766 7.86225 10.9518 7.774 10.813 7.7085V7.71045C9.50288 7.15359 8.88218 6.55757 8.32666 5.27197Z",fill:c}),t.jsx("path",{d:"M8.00049 1.6001C11.5349 1.60031 14.3999 4.466 14.3999 8.00049C14.3997 11.5348 11.5348 14.3997 8.00049 14.3999C4.466 14.3999 1.60031 11.5349 1.6001 8.00049C1.6001 4.46587 4.46587 1.6001 8.00049 1.6001ZM8.32666 5.27197C8.11581 4.74948 7.93825 4.57421 7.68506 5.19775C7.13105 6.52744 6.46954 7.1617 5.16748 7.71045C5.03685 7.7708 4.80228 7.87537 4.80029 7.99951C4.80182 8.12385 5.03521 8.22915 5.16748 8.28955C6.46789 8.83666 7.13111 9.4717 7.68506 10.8013C7.94136 11.4364 8.11936 11.2372 8.32666 10.728C8.8822 9.44281 9.50272 8.84643 10.813 8.28955C10.9503 8.22404 11.1767 8.13685 11.1997 8.00635V7.9917C11.1766 7.86225 10.9518 7.774 10.813 7.7085V7.71045C9.50288 7.15359 8.88218 6.55757 8.32666 5.27197Z",fill:"url(#paint0_linear_credit_coin)",style:{mixBlendMode:"overlay"}})]}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_credit_coin",x1:"8.0001",y1:"1.6001",x2:"8.0001",y2:"14.4001",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1"})]}),t.jsx("clipPath",{id:"clip0_credit_coin",children:t.jsx("rect",{width:"16",height:"16",fill:"white"})})]})]})},zy=e=>{const n=e.getDate().toString().padStart(2,"0"),s=e.toLocaleString("en-US",{month:"short"}),r=e.getFullYear().toString().slice(-2);return`${n} ${s} '${r}`},a6e=()=>{const e=new Date;return e.setMonth(e.getMonth()+1),zy(e)},o6e=e=>{const n=e.vCPU.replace(" vCPU",""),s=e.ram.replace(" RAM","");return`${n} vCPU, ${s}`},kS=({tier:e,label:n,variant:s})=>{const r=s==="current",i=r?"rgba(255,255,255,0.1)":"rgba(92,210,229,0.2)",a=r?"transparent":"rgba(92,210,229,0.05)",o=r?"white":"#5CD2E5",l=r?"rgba(255,255,255,0.1)":"rgba(128,255,249,0.12)",c=r?"white":"#80FFF9",u=r?`${e.creditsPerMonth} / month`:`${e.creditsPerMonth} / month`;return t.jsxs("div",{className:"relative flex flex-col gap-3 p-4 rounded-[12px] flex-1 min-w-0 overflow-clip",style:{backgroundColor:a,border:`1px solid ${i}`},children:[t.jsxs("div",{className:"absolute top-[-1px] right-[-1px] flex items-center justify-center gap-1 px-[10px] py-[7px] rounded-bl-[12px] rounded-tr-[12px]",style:{backgroundColor:l},children:[t.jsx(CU,{size:16,variant:r?"default":"cyan"}),t.jsx("span",{className:"text-[12px] font-['Inter'] font-semibold",style:{color:c},children:u})]}),t.jsx("div",{className:"flex items-start",children:t.jsx(vU,{size:24,color:o})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-[14px] font-['Inter'] font-medium text-white opacity-80",children:n}),t.jsxs("div",{className:"flex items-baseline justify-between",children:[t.jsx("p",{className:"text-[18px] font-['Brockmann'] font-medium text-white",children:e.name}),t.jsx("p",{className:"text-[14px] font-['Inter'] font-medium text-white opacity-60",children:o6e(e)})]})]})]})},ob=({label:e,sublabel:n,value:s,valuePrefix:r="",valueColor:i="white",valueFontSize:a="18px",showTopDivider:o=!1})=>t.jsxs(t.Fragment,{children:[o&&t.jsx("div",{className:"w-full h-[1px] bg-[rgba(255,255,255,0.1)]"}),t.jsxs("div",{className:"flex items-start justify-between w-full",children:[t.jsxs("div",{className:"flex flex-col gap-[6px] flex-1 min-w-0 pr-2",children:[t.jsx("span",{className:"text-[16px] text-white font-['Brockmann'] font-medium tracking-[-0.32px] leading-[24px]",children:e}),n&&t.jsx("span",{className:"text-[14px] text-[rgba(255,255,255,0.64)] font-['Inter'] font-normal leading-[20px]",children:n})]}),t.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium tracking-[-0.36px] leading-[28px]",style:{color:i,fontSize:a},children:[r,s]}),t.jsx(CU,{size:20})]})]})]}),l6e=({isOpen:e,onClose:n,onConfirm:s,loading:r=!1,changeType:i,targetTier:a,currentTier:o,tierChangeRefund:l,deductedAmount:c,estimatedRefund:u,deductionDate:p})=>{const f=i==="upgrade",m=d.useRef(!1),h=f?"Confirm Resource upgrade":"Confirm Resource downgrade",x=f?"Your app will run faster and stay more stable with more power":"Your app will have fewer resources available",y=f?"Upgrade to":"Downgrade to",v=f?"Upgrade and re-deploy":"Downgrade and re-deploy",g=l?.refund_amount??0,b=c??o.creditsPerMonth,w=b-g,N=a.creditsPerMonth,j=g>N,_=Math.max(0,g-N),C=Math.max(0,N-g),F=j?"Credit refund":"Upfront credits required",E=j?_:C,S=a6e(),M=zy(p?new Date(p):new Date);d.useEffect(()=>{e&&!m.current&&(m.current=!0,z(Ma.CONFIRM_RESOURCE_CHANGE_MODAL_OPENED,{changeType:i,currentTierId:o?.id,targetTierId:a?.id,upfrontCredits:C,isRefund:j})),e||(m.current=!1)},[e,i,o?.id,a?.id,C,j]);const k=()=>{z(Ma.CONFIRM_RESOURCE_CHANGE_MODAL_CLOSED,{changeType:i,currentTierId:o?.id,targetTierId:a?.id}),n()},I=async()=>{z(f?Ma.CONFIRM_RESOURCE_UPGRADE_CLICKED:Ma.CONFIRM_RESOURCE_DOWNGRADE_CLICKED,{currentTierId:o?.id,targetTierId:a?.id,targetTierName:a?.name,upfrontCreditsRequired:C});try{await s(),n()}catch{}};return t.jsxs(wU,{isOpen:e,onClose:k,title:h,subtitle:x,footer:t.jsx(D,{}),children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(kS,{tier:o,label:"Current",variant:"current"}),t.jsx("div",{className:"shrink-0 flex items-center justify-center",children:t.jsx(wae,{size:24,color:"#7F8283",strokeWidth:1.5})}),t.jsx(kS,{tier:a,label:y,variant:"target"})]}),t.jsxs("div",{className:"flex flex-col gap-6 items-center justify-center px-4 py-5 bg-[rgba(255,255,255,0.04)] rounded-[8px]",children:[t.jsx(ob,{label:"Unused credits from last billing",sublabel:t.jsxs(t.Fragment,{children:[b," credits billed on ",M,"  ",w," credits utilised"]}),value:g,valuePrefix:"+",valueColor:"#2EE572"}),t.jsx(ob,{label:"New deployment cost",sublabel:t.jsxs("span",{className:"flex items-center gap-[6px]",children:[t.jsx(vae,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"}),t.jsxs("span",{children:["Next billing on ",t.jsx("span",{className:"font-medium text-white",children:S})]})]}),value:N}),t.jsx(ob,{label:F,value:E,valuePrefix:j?"+":"",valueColor:j?"#2EE572":"white",valueFontSize:"20px",showTopDivider:!0})]})]});function D(){return t.jsx("div",{className:"flex items-center justify-end w-full",children:t.jsx("button",{onClick:I,disabled:r,className:`bg-white flex items-center justify-center px-6 py-[10px] rounded-xl hover:bg-gray-100 transition-colors ${r?"opacity-50 cursor-not-allowed":""}`,children:t.jsx("p",{className:"font-['Brockmann'] font-semibold leading-5 text-sm text-[#0E0E0F] tracking-[-0.2px]",children:r?"Processing...":v})})})}},_U=({isOpen:e,onClose:n,creditsPerMonth:s=50,creditsPerDay:r=2})=>t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-[rgba(255,255,255,0.08)]",children:[t.jsx("button",{type:"button",onClick:n,className:"p-1 rounded-full hover:bg-[rgba(255,255,255,0.1)] transition-colors",children:t.jsx(Z9,{className:"w-6 h-6 text-white"})}),t.jsx("p",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:"How are credits charged for an active deployment?"})]}),t.jsxs("div",{className:"flex flex-col gap-6 p-6",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-['Brockmann'] font-medium text-[32px] leading-[40px] tracking-[-0.64px] text-white",children:s}),t.jsx(ra,{size:32,color:"#F5C563"})]}),t.jsx("p",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[rgba(255,255,255,0.64)]",children:"Credits/month charged upfront"})]}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.04)] border border-[rgba(255,255,255,0.1)] rounded-[12px] px-4 py-5 flex flex-col gap-5",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] text-[rgba(255,255,255,0.64)]",children:"If you shut down early, we adjust the charges and refund unused credits"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[t.jsx("p",{className:"font-['Inter'] font-semibold text-[16px] leading-[24px] text-white",children:"< 25 days live"}),t.jsxs("p",{className:"font-['Inter'] font-normal text-[14px] leading-[20px] text-[#7f8283]",children:[r," credits / day  remaining refunded"]})]}),t.jsxs("div",{className:"flex-1 flex flex-col gap-2",children:[t.jsx("p",{className:"font-['Inter'] font-semibold text-[16px] leading-[24px] text-white",children:" 25 days live"}),t.jsxs("p",{className:"font-['Inter'] font-normal text-[14px] leading-[20px] text-[#7f8283]",children:[s," credits total  no refund"]})]})]})]})]}),t.jsx("div",{className:"p-6 border-t border-[rgba(255,255,255,0.08)]",children:t.jsx(Vt,{onClick:n,className:"bg-[#e6e6e6] hover:bg-[#d4d4d4] text-[#0e0e0f] rounded-[28px] h-[48px] px-6",children:t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.2px]",children:"Okay, got it"})})})]}),c6e=e=>e.endsWith("m")?`${parseInt(e.slice(0,-1),10)/1e3} vCPU`:`${e} vCPU`,d6e=e=>e.endsWith("Gi")?`${parseInt(e.slice(0,-2),10)} GB RAM`:e.endsWith("Mi")?`${parseInt(e.slice(0,-2),10)} MB RAM`:e,u6e=e=>`${20+e*20}%`,jU=(e={})=>{const{currentTierId:n}=e,{data:s,isLoading:r,error:i,refetch:a}=qD(),o=d.useMemo(()=>{if(!s?.tiers)return[];const h=Object.entries(s.tiers).sort(([y],[v])=>{const g=parseInt(y.replace("tier_",""),10),b=parseInt(v.replace("tier_",""),10);return g-b}),x=n||s.default_tier;return h.map(([y,v],g)=>{const b=v.VPAEnabled?v.DefaultResources.CPULimit:v.DefaultResources.CPU,w=v.VPAEnabled?v.DefaultResources.MemoryLimit:v.DefaultResources.Memory;return{id:y,name:v.Name,vCPU:c6e(b),ram:d6e(w),creditsPerMonth:v.CreditCostPerMonth,creditsPerDay:v.CreditCostPerDay,barWidth:u6e(g),isCurrent:y===x,isRecommended:y==="tier_1"}})},[s,n]),l=s?.default_tier||"tier_0",c=s?.tiers?.[l]?.CreditCostPerMonth||50,u=s?.tiers?.[l]?.CreditCostPerDay||2,p=h=>o.find(x=>x.id===h),f=n?p(n):void 0;return{tiers:o,defaultTier:l,defaultTierCredits:c,defaultTierCreditsPerDay:u,currentTier:f,isLoading:r,error:i,refetch:a,getTierById:p,getRawTierInfo:h=>s?.tiers?.[h],rawData:s}},p6e=e=>e.endsWith("m")?`${parseInt(e.slice(0,-1),10)/1e3} vCPU`:`${e} vCPU`,f6e=e=>e.endsWith("Gi")?`${parseInt(e.slice(0,-2),10)} GB RAM`:e.endsWith("Mi")?`${parseInt(e.slice(0,-2),10)} MB RAM`:e,TS=({tierInfo:e,tierChangeRefund:n,deductedAmount:s,estimatedRefund:r,deductionDate:i,onTierChange:a})=>{const{tiers:o,defaultTier:l,isLoading:c}=jU({currentTierId:e?.id}),[u,p]=d.useState(!1),[f,m]=d.useState(null),[h,x]=d.useState(!1),[y,v]=d.useState(null),[g,b]=d.useState(!1),[w,N]=d.useState(!1),j=e?.id||l,_=o.find(q=>q.id===j)||o[0],C=f||j,F=o.find(q=>q.id===C)||o[0],E=e?.name||_?.name||"Basic",S=e?p6e(e.vpa_enabled?e.cpu_limit:e.cpu):_?.vCPU||"",M=e?f6e(e.vpa_enabled?e.memory_limit:e.memory):_?.ram||"",k=o.length>0?o[o.length-1]:null,I=k&&j===k.id,D=I?"Downgrade":"Upgrade",P=q=>{m(q)},R=()=>{z(I?Ma.RESOURCES_DOWNGRADE_BUTTON_CLICKED:Ma.RESOURCES_UPGRADE_BUTTON_CLICKED,{currentTierId:j,currentTierName:_?.name,isOnHighestTier:!!I}),m(null),p(!0)},B=()=>{p(!1),m(null)},U=q=>{v(q),x(!0)},H=()=>{z(Ma.CREDITS_INFO_MODAL_OPENED,{currentTierId:j}),N(!0)},$=async()=>{if(a){b(!0);try{await a(C),x(!1),p(!1),m(null)}catch{}finally{b(!1)}}};return t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"w-full bg-[#FFFFFF0A] p-4 rounded-[12px] overflow-clip",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.25,.46,.45,.94]},children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex gap-6 items-start w-full",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-2 items-start",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx(vU,{size:20}),t.jsx("p",{className:"font-['Inter'] font-medium leading-6 text-base text-white",children:"Resources"})]}),t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-sm text-white opacity-60",children:"Power allocated to keep your app fast, stable, and online"})]}),t.jsx("button",{onClick:R,className:"bg-[rgba(255,255,255,0.08)] flex items-center px-4 py-[6px] rounded-[8px] hover:bg-[rgba(255,255,255,0.12)] transition-colors",children:t.jsx("p",{className:"font-['Brockmann'] font-semibold leading-6 text-base text-white",children:D})})]}),t.jsxs("div",{className:"flex gap-4 items-center justify-center w-full",children:[t.jsx("div",{className:"bg-[rgba(255,255,255,0.04)] flex items-center overflow-clip px-[14px] py-[10px] rounded-[8px] w-[250px] max-lg:hidden",children:t.jsx("p",{className:"font-['Inter'] font-semibold leading-6 text-sm text-[#7F8283]",children:"Current allocation"})}),t.jsxs("div",{className:"bg-[rgba(255,255,255,0.08)] flex flex-col lg:flex-row flex-1 lg:items-center justify-between overflow-clip px-[14px] py-[10px] rounded-[8px] gap-1 lg:gap-0",children:[t.jsx("p",{className:"font-['Inter'] font-medium leading-6 text-base text-white whitespace-nowrap",children:c&&!e?"Loading...":E}),t.jsx("p",{className:"font-['Inter'] font-normal leading-5 text-sm text-[#7F8283] whitespace-nowrap",children:c&&!e?"...":`${S}  ${M}`})]})]})]})}),t.jsx(i6e,{isOpen:u,onClose:B,selectedTierId:C,onTierSelect:P,onResourceChange:U,tiers:o,isLoading:c}),y&&t.jsx(l6e,{isOpen:h,onClose:()=>x(!1),onConfirm:$,onKnowMoreClick:H,loading:g,changeType:y,targetTier:F,currentTier:_,tierChangeRefund:n,deductedAmount:s,estimatedRefund:r,deductionDate:i}),t.jsx(_U,{isOpen:w,onClose:()=>N(!1),creditsPerMonth:F?.creditsPerMonth,creditsPerDay:F?.creditsPerDay})]})},m6e=W.common.eyeNew,h6e=W.common.alertOrange,x6e=W.deployment.keyAlert,g6e=W.deployment.stripe,b6e=W.icons.eyeOff,NU=({value:e,onStripeKeyUpdate:n,termsSelected:s,setTermsSelected:r})=>{const[i,a]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue});d.useEffect(()=>{u({value:e.stripeKeyValue,keyId:e.stripeKey,originalValue:e.stripeKeyValue})},[e]),d.useEffect(()=>{c.value.includes("sk_live_")||c.value.includes("sk_prod_")?l(!0):l(!1)},[c.value]);const p=f=>{u({...c,value:f}),n&&n(c.keyId,f)};return e.containsStripeKey?t.jsxs("div",{className:"flex flex-col bg-[#F2994A20] rounded-[10px] overflow-clip",children:[t.jsxs("div",{className:"flex flex-col gap-2 bg-[#242424] rounded-[10px] border-[#8B8B8B20] border p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:x6e,alt:"Key Alert",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#C5C5C5] font-['Inter'] font-medium leading-[20px]",children:"Stripe Integration Detected"})]}),t.jsx("img",{src:g6e,alt:"Stripe",className:"w-[15px] h-[20px]"})]}),t.jsx("p",{className:"text-[#6C6C6C] font-medium text-[14px] font-['Inter'] pb-1",children:o?t.jsxs("span",{children:["We found a ",t.jsx("span",{className:"text-[#A199FF]  font-semibold tracking-wide",children:"Live Stripe Key"})," in your app."]}):t.jsxs(t.Fragment,{children:["We found a ",t.jsx("strong",{className:"text-[#A199FF] tracking-wide",children:"Test Stripe Key"})," in your app. Your deployment will work perfectly for testing, but to accept real payments from customers, please provide your Live Stripe API key.",t.jsx("br",{}),t.jsx("br",{}),"You can update the key anytime and redeploy for free."," "]})}),t.jsx("div",{className:"bg-[#323232] rounded-[8px] px-4 py-[10px]",children:t.jsx("input",{type:"text",disabled:!0,value:c.keyId,placeholder:"Environment variable name",className:"w-full rounded-md border border-none font-semibold font-['Inter'] focus:border-none focus:outline-none bg-transparent placeholder-[#808080] text-[#808080]"})}),t.jsxs("div",{className:"bg-[#323232] relative rounded-[8px] px-4 py-[10px]",children:[t.jsx("input",{type:i?"text":"password",value:c.value,onChange:f=>p(f.target.value),placeholder:o?"Live key detected":"Enter your live Stripe API key",onFocus:()=>a(!0),onBlur:()=>a(!1),className:A("w-full rounded-md font-semibold font-['Inter'] bg-transparent placeholder-[#808080] text-[#808080] focus:outline-none",i&&"text-white")}),t.jsx("img",{src:i?b6e:m6e,alt:"Eye",onClick:()=>a(!i),className:"absolute w-6 h-6 -translate-y-1/2 cursor-pointer grayscale right-3 top-1/2"})]})]}),t.jsx("div",{className:"p-2 md:p-4 md:pt-[14px] rounded-[10px] rounded-t-none flex flex-col gap-2",children:t.jsxs("div",{className:"flex items-start justify-start gap-1",children:[o?t.jsx("div",{title:"I acknowledge that I have tested my Stripe integration and understand the risks of deploying with a live API key.",onClick:()=>r(!s),className:A("min-w-5 min-h-5 mt-1 mr-2 border-[2px] border-[#E58A5C] rounded cursor-pointer flex items-center justify-center",s?"bg-[#E58A5C]":"bg-[#E58A5C40]"),children:s&&t.jsx(Mn,{className:"w-4 h-4 text-white"})}):t.jsx("img",{src:h6e,alt:"Replace",className:"inline-block w-5 h-5 mt-1 mr-2"}),t.jsxs("p",{className:"text-[#E58A5C] font-['Inter'] text-[14px]",children:[t.jsx("span",{className:"font-semibold text-[#E58A5C] font-['Inter'] text-[14px]",children:" Disclaimer:"})," Ensure your Stripe API Key is valid and you have tested the application yourself. Emergent is not liable for any third-party transactions or any losses."]})]})})]}):null},y6e=W.deployment.carbonViewFilled,v6e=W.deployment.timeGreyDeployed,w6e=({isOpen:e,onClose:n,onDeploy:s,loading:r=!1,localLoading:i=!1,containsStripeKey:a={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:o=!1,onStripeKeyUpdate:l=()=>{},onTermsSelectedChange:c=()=>{},isDeployDisabled:u=!1,jobId:p,onKnowMoreClick:f,useProRataRefunds:m=!1,creditsPerMonth:h=50})=>{const x=()=>{z(cr.DEPLOYMENT_CONFIRMATION_CANCEL_CLICKED,{jobId:p}),n()};return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:x,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Pt,{className:"w-4 h-4 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-3 md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[m?t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["Active deployments cost"," ",t.jsxs("span",{className:"text-[#f3ca5f] font-semibold font-['Inter']",children:[h," credits / month,"]})," ","charged upfront. You can shut down any time. Charges apply only for the days your app is live."," ",t.jsx("button",{type:"button",onClick:f,className:"text-white underline underline-offset-2 hover:text-white/80 transition-colors",children:"Know more"})]}):t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["Your account will be charged"," ",t.jsxs("span",{className:"text-[#f3ca5f] font-semibold font-['Inter']",children:[h," credits/month"]}),". You can shut down your deployment anytime to stop charges for the next months."]}),t.jsxs("div",{className:"p-2 md:p-4 bg-[#E68A5C0D] border-[#E68A5C33] border rounded-[10px] flex flex-col gap-2",children:[t.jsxs("div",{className:"flex items-center justify-start gap-1",children:[t.jsx("img",{src:y6e,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),t.jsx("span",{className:"text-[#E58A5C] font-['Inter'] font-medium text-[14px] md:text-[16px]",children:"Preview First Recommended"})]}),t.jsx("span",{className:"text-[#CCB1A3] font-['Inter'] text-[12px] md:text-base",children:"To avoid deployment issues and wasted credits, please preview your app first to ensure it's working correctly."})]}),t.jsx(NU,{value:a,onStripeKeyUpdate:l,termsSelected:o,setTermsSelected:c})]}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-2 text-[#737780] max-md:hidden text-[12px] md:text-sm max-w-[250px]",children:[t.jsx("img",{src:v6e,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{children:"Deployment usually takes around 5-7 mins."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{onClick:x,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 md:px-4 md:py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsx(Vt,{disabled:r||i||u,onClick:s,className:"flex items-center gap-1 py-2 pl-6 text-sm text-black bg-white rounded-full md:gap-3 hover:bg-white/90",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:"Deploy Now"})," ",t.jsxs("span",{className:"bg-black text-[#F3CA5F] px-3 py-2 rounded-full",children:[h," Credits"]})]})})}),t.jsx(Xs,{className:A(u?"":"hidden"),children:t.jsx("span",{className:"text-[12px] md:text-sm",children:"Please acknowledge the Disclaimer before deploying"})})]})})]})]})})]})},_g=e=>{try{const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/(1e3*60)),a=Math.floor(r/(1e3*60*60)),o=Math.floor(r/(1e3*60*60*24));return i<1?"Just now":i<60?`${i} min${i===1?"":"s"} ago`:a<24?`${a} hr${a===1?"":"s"} ago`:`${o} day${o===1?"":"s"} ago`}catch{return"Unknown time"}},C6e=W.common.arrowUploadReadyDark,_6e=W.deployment.timeGreyDeployed,j6e=({isOpen:e,onClose:n,onRedeploy:s,deploymentHistory:r,deployUrl:i,latestRunStatus:a,jobId:o,loading:l=!1,localLoading:c=!1,containsStripeKey:u={containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""},termsSelected:p=!1,onStripeKeyUpdate:f=()=>{},onTermsSelectedChange:m=()=>{},isRedeployDisabled:h=!1})=>{const[x,y]=d.useState(!1),v=async()=>{z(cr.REDEPLOY_MODAL_CONFIRM_CLICKED,{jobId:o}),y(!0);try{await s()}catch{}finally{y(!1),n()}},g=()=>{x||(z(cr.REDEPLOY_MODAL_CANCEL_CLICKED,{jobId:o}),n())},b=r.find(w=>w.status==="success")||r[0];return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,closeOnOutsideClick:!x,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Redeployment"}),t.jsx("button",{type:"button",title:"Close",onClick:g,disabled:x,className:A("absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",x&&"opacity-50 cursor-not-allowed"),children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-3 max-h-[500px] md:gap-6 md:p-6 max-md:max-h-[400px] overflow-hidden overflow-y-scroll",children:[t.jsx("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:"Are you sure you want to re-deploy your current application? This will replace your current deployment with latest code changes."}),b&&t.jsxs("div",{className:"",children:[t.jsx("div",{className:"text-[#A199FF] text-md py-2 md:py-4 font-medium mb-2",children:"Current Deployment"}),t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},children:t.jsx(wg,{jobId:o||"",deployStatus:"success",currentActive:!0,deployTime:_g(b.created_at),deploymentLink:i,deploymentRun:b,latestRunStatus:a,inRollbackModal:!0,isRollbackTarget:!1})})]}),t.jsx(NU,{value:u,onStripeKeyUpdate:f,termsSelected:p,setTermsSelected:m})]}),t.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm max-w-[250px]",children:[t.jsx("img",{src:_6e,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{children:"Re-deployment usually takes around 1-3 mins."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{onClick:g,disabled:x,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(Ws,{children:t.jsxs(tr,{children:[t.jsx(nr,{children:t.jsx(Vt,{disabled:l||c||x||h,onClick:v,className:A("flex items-center gap-3 py-2 pl-6 text-sm text-black bg-white rounded-full hover:bg-white/90",(l||c||x||h)&&"opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold",children:l||c||x?"Re-deploying...":"Yes, Re-deploy"}),t.jsx("img",{src:C6e,alt:"Deploy",className:"w-5 h-5"})]})})}),t.jsxs(Xs,{side:"top",align:"center",className:A(h?"bg-[#DDDDE6] font-['Inter'] text-black border-0":"hidden"),children:[t.jsx("span",{className:"text-sm font-['Inter'] font-medium",children:"Please acknowledge the Disclaimer before redeploying"}),t.jsx(Qa,{className:"fill-[#DDDDE6]"})]})]})})]})]})})]})},N6e=({isOpen:e,onClose:n,onShutdown:s,loading:r=!1,jobId:i})=>{const a=async()=>{z(cr.SHUTDOWN_MODAL_CONFIRM_CLICKED,{jobId:i});try{await s(),n()}catch{}},o=()=>{z(cr.SHUTDOWN_MODAL_CANCEL_CLICKED,{jobId:i}),n()};return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Shutdown"}),t.jsx("button",{type:"button",title:"Close",onClick:o,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Pt,{className:"w-5 h-5 md:w-7 md:h-7"})})]}),t.jsx("div",{className:"p-3 md:p-6",children:t.jsx("p",{className:"font-medium font-['Inter'] text-[14px] md:text-[16px] text-[#939399]",children:"Are you sure you want to shut down this deployment? This will make your application immediately unavailable to users and stop all recurring charges."})}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("div",{className:"flex text-[12px] items-center gap-2 text-[#737780] md:text-sm",children:t.jsx("span",{children:"This action cannot be undone."})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{onClick:o,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(Vt,{onClick:a,disabled:r,className:A("flex items-center gap-3 md:px-4 md:py-2 text-sm text-white rounded-full bg-[#CC3D3D] hover:bg-red-600",r&&"opacity-50 cursor-not-allowed"),children:r?"Shutting down...":"Confirm Shutdown"})]})]})})]})},F6e=({summaryIcon:e,summaryText:n,lineItems:s,dividerAfterIndex:r,defaultExpanded:i=!1})=>{const[a,o]=d.useState(i);return t.jsx(cf,{open:a,onOpenChange:o,children:t.jsxs("div",{className:"bg-[rgba(255,255,255,0.04)] rounded-[8px] border border-[rgba(255,255,255,0.1)]",children:[t.jsx(df,{asChild:!0,children:t.jsxs("button",{type:"button",className:"w-full flex items-center justify-between p-3 md:p-4 cursor-pointer hover:bg-[rgba(255,255,255,0.02)] transition-colors rounded-[8px]",children:[t.jsxs("div",{className:"flex items-start md:items-center gap-2",children:[e||t.jsx(ra,{size:16,color:"#F5C563",className:"shrink-0 mt-1 md:mt-0"}),t.jsx("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFFA3] font-['Inter'] font-normal text-left",children:n})]}),a?t.jsx(c2,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"}):t.jsx(Dr,{className:"w-4 h-4 text-[rgba(255,255,255,0.64)]"})]})}),t.jsx(uf,{className:"data-[state=open]:animate-collapsible-down data-[state=closed]:animate-collapsible-up overflow-hidden",children:t.jsx("div",{className:"px-3 pb-3 md:px-4 md:pb-4 pt-0",children:s.map((l,c)=>t.jsxs(tt.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFFA3] font-['Inter'] font-medium",children:[l?.label,l?.labelSuffix&&t.jsxs("span",{className:"font-normal",children:[" ",l?.labelSuffix]})]}),t.jsxs("span",{className:"text-[13px] md:text-[14px] font-['Brockmann'] font-medium",style:{color:l.valueColor||"white"},children:[l.valuePrefix,l.value]})]}),r!==void 0&&c===r&&t.jsx("div",{className:"border-t border-[rgba(255,255,255,0.1)] my-2"})]},c))})})]})})},E6e=e=>{if(!e)return"Invalid date";const n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";const s=n.getDate(),r=n.toLocaleString("en-US",{month:"short"}),i=n.getFullYear().toString().slice(-2);return`${s} ${r} '${i}`},S6e=e=>{if(!e)return"Invalid date";const n=new Date(e);if(isNaN(n.getTime()))return"Invalid date";const r=Math.abs(new Date().getTime()-n.getTime());return Math.ceil(r/(1e3*60*60*24))},lb=25,k6e=({isOpen:e,onClose:n,onShutdown:s,loading:r=!1,jobId:i,deductionDate:a,deductedAmount:o,estimatedRefund:l})=>{const c=S6e(a),u=E6e(a),p=o??50,f=p/lb,m=o-l,h=typeof c=="number"&&c>lb?`  ${lb}`:c,x=l??p-m,y=async()=>{z(cr.SHUTDOWN_MODAL_CONFIRM_CLICKED,{jobId:i});try{await s(),n()}catch{}},v=()=>{z(cr.SHUTDOWN_MODAL_CANCEL_CLICKED,{jobId:i}),n()},g=[{label:"Credits charged",labelSuffix:`(on ${u})`,value:p},{label:"Utilised since last charge",labelSuffix:`(${h} days * ${f} credits/day)`,value:m,valuePrefix:"-"},{label:"Credits refund",value:x,valuePrefix:"+",valueColor:"#4ADE80"}],b=t.jsxs(t.Fragment,{children:["Live for ",c," days since last charge ",t.jsxs("span",{className:"text-white font-medium",children:[" ",x," credits "]}),"refunded instantly"]}),w=t.jsx(ra,{size:16,color:"#F5C563",className:"shrink-0 mt-1 md:mt-0"}),N=t.jsx("div",{className:"flex flex-col gap-3",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between w-full gap-3 md:gap-0",children:[t.jsx("div",{className:"flex text-[12px] items-center gap-2 text-[#737780] md:text-sm font-['Inter'] text-left",children:t.jsx("span",{children:"This action cannot be undone"})}),t.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto justify-end",children:[t.jsx(Vt,{onClick:v,className:"bg-[rgba(255,255,255,0.1)] text-white hover:bg-[rgba(255,255,255,0.15)] rounded-full px-5 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsxs(Vt,{onClick:y,disabled:r,className:A("flex items-center px-5 py-2 text-white rounded-[28px] bg-[#CC3D3D] hover:bg-[#b53535]",r&&"opacity-50 cursor-not-allowed"),children:[t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[16px] leading-[24px] tracking-[-0.2px]",children:r?"Shutting down...":"Confirm Shutdown"}),t.jsx(t8,{className:"w-6 h-6 ml-2"})]})]})]})});return t.jsxs(wU,{isOpen:e,onClose:v,title:"Confirm Shut Down",footer:N,children:[t.jsx("p",{className:"font-medium font-['Inter'] text-[14px] md:text-[16px] text-[#989EA0] mb-4",children:"Are you sure you want to shut down this deployment? This will make your application immediately unavailable to users and stop all recurring charges."}),t.jsx(F6e,{summaryIcon:w,summaryText:b,lineItems:g,dividerAfterIndex:1})]})},T6e=W.common.webImage,I6e=W.deployment.replaceGrey,A6e=W.icons.animatedSpinner,D6e=({isOpen:e,onClose:n,onSelectReplacement:s,deployments:r,loading:i=!1,hoveredCard:a,onHoverStart:o,onHoverEnd:l,onDeploymentClick:c})=>t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsxs("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:[t.jsx("img",{src:I6e,alt:"Replace",className:"inline-block w-6 h-6 mr-2 text-[14px] md:text-[16px]"}),"Replace Deployment"]}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"p-3 md:p-6 md:pt-4 max-h-[350px] md:max-h-[500px] overflow-y-scroll flex flex-col gap-6",children:[t.jsx("p",{className:"text-[13px] md:text-[16px] font-medium font-['Inter'] text-[#939399]",children:"Choose which deployment to replace with your new application. The selected app will be permanently deleted, but you won't be charged any additional fees."}),i?t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx("img",{src:A6e,alt:"Loading...",className:"w-8 h-8"}),t.jsx("span",{className:"ml-2 text-[#DDDDE6]",children:"Loading deployments..."})]}):r.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.map((u,p)=>t.jsx(AP,{deployment:u,index:p,hoveredCard:a,onHoverStart:o,onHoverEnd:l,onClick:c||(()=>{}),fromRedeployModal:!0,onReplaceClick:f=>{s(f)}},u.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx("img",{src:T6e,alt:"No deployments",className:"w-12 h-12 mb-4 opacity-50"}),t.jsx("p",{className:"text-[#737780] font-medium",children:"No deployments available to replace"}),t.jsx("p",{className:"text-[#737780] text-sm mt-1",children:"You need at least one successful deployment to use this feature"})]})]})]}),M6e=W.deployment.replaceGrey,L6e=W.deployment.replaceOrange,R6e=W.deployment.replaceBlack,P6e=W.deployment.goBack,O6e=W.deployment.database,B6e=[{id:"keep",name:"Keep existing database",description:"(recommended)"},{id:"new",name:"Start with fresh database",description:""}],U6e=({isOpen:e,onClose:n,onGoBack:s,onConfirmReplace:r,selectedDeployment:i,loading:a=!1,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onDeploymentClick:u})=>{const[p,f]=d.useState("keep"),m=async()=>{z(cr.REPLACE_CONFIRM_REPLACE_CLICKED,{deploymentId:i?.id,appName:i?.app_name,keepDatabase:p==="keep"});try{await r(p==="keep")}catch{}},h=()=>{z(cr.REPLACE_CONFIRM_GO_BACK_CLICKED,{deploymentId:i?.id,appName:i?.app_name}),s()};return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:px-4 md:py-[24px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsxs("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:[t.jsx("img",{src:M6e,alt:"Replace",className:"inline-block w-6 h-6 mr-2"}),"Confirm Replacement"]}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsx("div",{className:"p-3 md:p-6",children:t.jsxs("p",{className:"font-medium text-[13px] md:text-[16px] font-['Inter'] text-[#939399]",children:["You're about to replace"," ",t.jsx("span",{className:"font-medium capitalize text-white/80",children:i?.app_name})," with your new application. This action cannot be undone."]})}),t.jsx("div",{className:"px-3 md:px-5",children:t.jsxs("div",{className:"flex p-4 flex-col rounded-[10px] bg-[#FFFFFF05] border-[#FFFFFF1F] border-[1px] gap-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:O6e,alt:"Database",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#FFFFFF99] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"Database Configuration"})]}),B6e.map(x=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{onClick:()=>f(x.id),className:A("w-5 h-5 cursor-pointer rounded-full border-[2px] flex items-center justify-center",p===x.id&&"border-[#00E573]"),children:t.jsx("div",{className:A("w-2 h-2 rounded-full bg-[#FFFFFF00]",p===x.id&&"bg-[#00E573]")})}),t.jsx("span",{className:A("text-[#FFFFFF]/80 font-['Inter'] font-medium text-[13px] md:text-[16px]",p===x.id&&"text-[#00E573]"),children:x.name}),t.jsx("span",{className:"text-[#737780] font-['Inter'] text-[12px] md:text-[14px] font-medium",children:x.description})]},x.id))]})}),t.jsx("div",{className:"p-3 md:p-4",children:t.jsxs("div",{className:"bg-[#E38F451A] pt-3 p-[6px] rounded-[16px]",children:[t.jsxs("div",{className:"flex items-center gap-2 px-2",children:[t.jsx("img",{src:L6e,alt:"Replace",className:"w-6 h-6"}),t.jsx("span",{className:"text-[#E38F45] font-['Inter'] font-medium text-[13px] md:text-[16px]",children:"This app will be permanently deleted"})]}),t.jsx("div",{className:"bg-[#18181A] overflow-clip rounded-[16px] mt-2",children:i&&t.jsx(K4e,{deployment:i,index:0,hoveredCard:o,onHoverStart:l,onHoverEnd:c,onClick:u||(()=>{}),allowHover:!1})})]})}),t.jsx("div",{className:"md:p-4 p-3 justify-end bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsx("div",{className:"flex items-center justify-end w-full",children:t.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[t.jsxs(Vt,{onClick:h,className:"bg-[#FFFFFF1A] text-white hover:bg-[#FFFFFF20] rounded-full px-4 py-2 text-sm flex items-center gap-2",children:[t.jsx("img",{src:P6e,alt:"Arrow Left",className:"w-5 h-5"}),t.jsx("span",{className:"text-[#FFFFFF99]",children:"Go Back"})]}),t.jsx("button",{type:"button",onClick:m,disabled:a,className:A("bg-[#80FFF9] flex px-3 py-2 md:px-6 md:py-3 rounded-[28px]",a&&"opacity-50 cursor-not-allowed"),children:t.jsxs("div",{className:"flex items-center text-[14px] md:text-[16px] gap-2 text-[#0E0E0F] font-semibold",children:[a?"Replacing...":"Replace Deployment",t.jsx("img",{src:R6e,alt:"Replace",className:"w-6 h-6"})]})})]})})})]})},V6e=({deployment:e,isSelected:n,onSelect:s})=>{const r=H8(e),i=e.deployStatus==="success"||e.latest_run?.status==="success",{openJobTab:a}=B8(),o=()=>{z(_i.APP_CARD_CLICKED,{deploymentId:e.id,appName:e.app_name,isLive:i}),s(e)},l=u=>{u.stopPropagation(),z(_i.APP_JOB_TITLE_CLICKED,{deploymentId:e.id,appName:e.app_name}),e.id&&a(e.id)},c=u=>{u.stopPropagation(),z(_i.APP_EXTERNAL_LINK_CLICKED,{deploymentId:e.id,appName:e.app_name,url:yp(e)});const p=yp(e);p&&window.open(p,"_blank","noopener,noreferrer")};return t.jsxs("div",{onClick:o,className:A("flex gap-4 items-start p-4 rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden",n?"bg-[rgba(255,255,255,0.04)] border-[#302f32]":"border-[#302f32] hover:border-[#3A3A3C]"),children:[t.jsx("div",{className:"flex items-center self-stretch shrink-0",children:t.jsx("div",{className:A("w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors duration-200",n?"border-[#2EE572]":"border-[#4A4A4C]"),children:n&&t.jsx("div",{className:"w-3 h-3 rounded-full bg-[#2EE572]"})})}),t.jsxs("div",{className:"flex flex-1 items-center gap-4 min-w-0",children:[t.jsxs("div",{className:"flex flex-col gap-0.5 flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-white font-['Inter'] font-medium text-[16px] leading-[24px] capitalize truncate",children:e.app_name}),i&&t.jsx("div",{className:"flex items-center px-2 py-0.5 rounded-[12px] bg-[rgba(46,229,114,0.04)] shrink-0",children:t.jsx("span",{className:"text-[#2EE572] text-[14px] font-['Brockmann'] font-medium leading-[20px]",children:"Live"})})]}),r&&t.jsx("button",{onClick:c,className:"text-[rgba(255,255,255,0.6)] hover:text-white font-['Inter'] font-medium text-[14px] leading-[20px] underline truncate text-left cursor-pointer transition-colors",children:r})]}),t.jsx("button",{onClick:l,className:"bg-[rgba(255,255,255,0.1)] hover:bg-[rgba(255,255,255,0.15)] px-5 py-1.5 rounded-[28px] transition-colors shrink-0",children:t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] text-[#DCDCE5]",children:"Go to task"})})]})]})},H6e=W.icons.animatedSpinner,$6e=({isOpen:e,onClose:n,onSelectReplacement:s,deployments:r,loading:i=!1,selectedDeployment:a})=>{const[o,l]=d.useState(a||null);d.useEffect(()=>{e&&(l(a||null),z(_i.SELECT_MODAL_OPENED,{deploymentsCount:r.length,preSelectedDeploymentId:a?.id}))},[e,a,r.length]);const c=f=>{z(_i.SELECT_APP_SELECTED,{deploymentId:f.id,appName:f.app_name}),l(f)},u=()=>{z(_i.SELECT_CONFIRM_CLICKED,{selectedDeploymentId:o?.id,selectedAppName:o?.app_name}),o&&s(o),n()},p=()=>{z(_i.SELECT_CLOSE_CLICKED,{hadSelection:!!o}),n()};return t.jsx(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 md:m-6 rounded-none md:rounded-[16px] h-full md:h-auto overflow-clip bg-[#18181A]",children:t.jsxs(xe.div,{className:"flex flex-col h-full md:h-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex items-start justify-between gap-6 pt-6 pb-4 px-6 relative shrink-0",children:[t.jsx("h2",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:"Select an app to replace deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:p,className:"backdrop-blur-[20px] bg-[rgba(255,255,255,0.02)] p-[6.4px] rounded-[10px] hover:bg-[rgba(255,255,255,0.06)] transition-colors shrink-0",children:t.jsx(Pt,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]}),t.jsxs("div",{className:"relative flex-1 md:flex-none",children:[r.length>4&&t.jsx("div",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-[#18181A] to-transparent z-10 pointer-events-none"}),t.jsx("div",{className:A("pt-4 pb-8 px-6 overflow-y-auto h-full",r.length>4&&"md:max-h-[420px]"),children:i?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx("img",{src:H6e,alt:"Loading...",className:"w-8 h-8"}),t.jsx("span",{className:"ml-3 text-[#DDDDE6]",children:"Loading deployments..."})]}):r.length>0?t.jsx("div",{className:"flex flex-col gap-4",children:r.map(f=>t.jsx(V6e,{deployment:f,isSelected:o?.id===f.id,onSelect:c},f.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("p",{className:"text-[#737780] font-medium",children:"No deployments available to replace"}),t.jsx("p",{className:"text-[#737780] text-sm mt-2",children:"You need at least one successful deployment to use this feature"})]})})]}),t.jsx("div",{className:"shrink-0 p-6 border-t border-[rgba(255,255,255,0.08)] flex items-center justify-end",children:t.jsx("button",{onClick:u,disabled:!o,className:A("w-[240px] px-6 py-2.5 bg-white rounded-[12px] font-['Brockmann'] font-semibold text-[14px] leading-[20px] tracking-[-0.2px] text-[#0E0E0F] hover:bg-gray-100 transition-colors",!o&&"opacity-50 cursor-not-allowed"),children:"Continue to replace"})})]})})},z6e=({className:e="w-4 h-2",color:n="white",opacity:s=.64})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"8",viewBox:"0 0 16 8",fill:"none",className:e,children:t.jsx("path",{d:"M0 8V6.95C0 6.47222 0.244444 6.08333 0.733333 5.78333C1.22222 5.48333 1.86667 5.33333 2.66667 5.33333C2.81111 5.33333 2.95 5.33611 3.08333 5.34167C3.21667 5.34722 3.34444 5.36111 3.46667 5.38333C3.31111 5.61667 3.19444 5.86111 3.11667 6.11667C3.03889 6.37222 3 6.63889 3 6.91667V8H0ZM4 8V6.91667C4 6.56111 4.09722 6.23611 4.29167 5.94167C4.48611 5.64722 4.76111 5.38889 5.11667 5.16667C5.47222 4.94444 5.89722 4.77778 6.39167 4.66667C6.88611 4.55556 7.42222 4.5 8 4.5C8.58889 4.5 9.13056 4.55556 9.625 4.66667C10.1194 4.77778 10.5444 4.94444 10.9 5.16667C11.2556 5.38889 11.5278 5.64722 11.7167 5.94167C11.9056 6.23611 12 6.56111 12 6.91667V8H4ZM13 8V6.91667C13 6.62778 12.9639 6.35556 12.8917 6.1C12.8194 5.84445 12.7111 5.60556 12.5667 5.38333C12.6889 5.36111 12.8139 5.34722 12.9417 5.34167C13.0694 5.33611 13.2 5.33333 13.3333 5.33333C14.1333 5.33333 14.7778 5.48056 15.2667 5.775C15.7556 6.06944 16 6.46111 16 6.95V8H13ZM5.41667 6.66667H10.6C10.4889 6.44444 10.1806 6.25 9.675 6.08333C9.16944 5.91667 8.61111 5.83333 8 5.83333C7.38889 5.83333 6.83056 5.91667 6.325 6.08333C5.81944 6.25 5.51667 6.44444 5.41667 6.66667ZM2.66667 4.66667C2.3 4.66667 1.98611 4.53611 1.725 4.275C1.46389 4.01389 1.33333 3.7 1.33333 3.33333C1.33333 2.95556 1.46389 2.63889 1.725 2.38333C1.98611 2.12778 2.3 2 2.66667 2C3.04444 2 3.36111 2.12778 3.61667 2.38333C3.87222 2.63889 4 2.95556 4 3.33333C4 3.7 3.87222 4.01389 3.61667 4.275C3.36111 4.53611 3.04444 4.66667 2.66667 4.66667ZM13.3333 4.66667C12.9667 4.66667 12.6528 4.53611 12.3917 4.275C12.1306 4.01389 12 3.7 12 3.33333C12 2.95556 12.1306 2.63889 12.3917 2.38333C12.6528 2.12778 12.9667 2 13.3333 2C13.7111 2 14.0278 2.12778 14.2833 2.38333C14.5389 2.63889 14.6667 2.95556 14.6667 3.33333C14.6667 3.7 14.5389 4.01389 14.2833 4.275C14.0278 4.53611 13.7111 4.66667 13.3333 4.66667ZM8 4C7.44444 4 6.97222 3.80556 6.58333 3.41667C6.19444 3.02778 6 2.55556 6 2C6 1.43333 6.19444 0.958333 6.58333 0.575C6.97222 0.191667 7.44444 0 8 0C8.56667 0 9.04167 0.191667 9.425 0.575C9.80833 0.958333 10 1.43333 10 2C10 2.55556 9.80833 3.02778 9.425 3.41667C9.04167 3.80556 8.56667 4 8 4ZM8 2.66667C8.18889 2.66667 8.34722 2.60278 8.475 2.475C8.60278 2.34722 8.66667 2.18889 8.66667 2C8.66667 1.81111 8.60278 1.65278 8.475 1.525C8.34722 1.39722 8.18889 1.33333 8 1.33333C7.81111 1.33333 7.65278 1.39722 7.525 1.525C7.39722 1.65278 7.33333 1.81111 7.33333 2C7.33333 2.18889 7.39722 2.34722 7.525 2.475C7.65278 2.60278 7.81111 2.66667 8 2.66667Z",fill:n,fillOpacity:s})}),W6e=({className:e="w-[14px] h-[14px]",color:n="white",opacity:s=.64})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:e,children:t.jsx("path",{d:"M2.56667 6.66667L2.36667 5.66667C2.23333 5.61111 2.10833 5.55278 1.99167 5.49167C1.875 5.43056 1.75556 5.35556 1.63333 5.26667L0.666667 5.56667L0 4.43333L0.766667 3.76667C0.744444 3.62222 0.733333 3.47778 0.733333 3.33333C0.733333 3.18889 0.744444 3.04444 0.766667 2.9L0 2.23333L0.666667 1.1L1.63333 1.4C1.75556 1.31111 1.875 1.23611 1.99167 1.175C2.10833 1.11389 2.23333 1.05556 2.36667 1L2.56667 0H3.9L4.1 1C4.23333 1.05556 4.35833 1.11389 4.475 1.175C4.59167 1.23611 4.71111 1.31111 4.83333 1.4L5.8 1.1L6.46667 2.23333L5.7 2.9C5.72222 3.04444 5.73333 3.18889 5.73333 3.33333C5.73333 3.47778 5.72222 3.62222 5.7 3.76667L6.46667 4.43333L5.8 5.56667L4.83333 5.26667C4.71111 5.35556 4.59167 5.43056 4.475 5.49167C4.35833 5.55278 4.23333 5.61111 4.1 5.66667L3.9 6.66667H2.56667ZM3.23333 4.66667C3.6 4.66667 3.91389 4.53611 4.175 4.275C4.43611 4.01389 4.56667 3.7 4.56667 3.33333C4.56667 2.96667 4.43611 2.65278 4.175 2.39167C3.91389 2.13056 3.6 2 3.23333 2C2.86667 2 2.55278 2.13056 2.29167 2.39167C2.03056 2.65278 1.9 2.96667 1.9 3.33333C1.9 3.7 2.03056 4.01389 2.29167 4.275C2.55278 4.53611 2.86667 4.66667 3.23333 4.66667ZM8.53333 14L8.23333 12.6C8.04445 12.5333 7.86944 12.4528 7.70833 12.3583C7.54722 12.2639 7.38889 12.1556 7.23333 12.0333L5.9 12.4667L4.96667 10.8667L6.03333 9.93333C6.01111 9.73333 6 9.53333 6 9.33333C6 9.13333 6.01111 8.93333 6.03333 8.73333L4.96667 7.8L5.9 6.2L7.23333 6.63333C7.38889 6.51111 7.54722 6.40278 7.70833 6.30833C7.86944 6.21389 8.04445 6.13333 8.23333 6.06667L8.53333 4.66667H10.4L10.7 6.06667C10.8889 6.13333 11.0639 6.21389 11.225 6.30833C11.3861 6.40278 11.5444 6.51111 11.7 6.63333L13.0333 6.2L13.9667 7.8L12.9 8.73333C12.9222 8.93333 12.9333 9.13333 12.9333 9.33333C12.9333 9.53333 12.9222 9.73333 12.9 9.93333L13.9667 10.8667L13.0333 12.4667L11.7 12.0333C11.5444 12.1556 11.3861 12.2639 11.225 12.3583C11.0639 12.4528 10.8889 12.5333 10.7 12.6L10.4 14H8.53333ZM9.46667 11.3333C10.0222 11.3333 10.4944 11.1389 10.8833 10.75C11.2722 10.3611 11.4667 9.88889 11.4667 9.33333C11.4667 8.77778 11.2722 8.30556 10.8833 7.91667C10.4944 7.52778 10.0222 7.33333 9.46667 7.33333C8.91111 7.33333 8.43889 7.52778 8.05 7.91667C7.66111 8.30556 7.46667 8.77778 7.46667 9.33333C7.46667 9.88889 7.66111 10.3611 8.05 10.75C8.43889 11.1389 8.91111 11.3333 9.46667 11.3333Z",fill:n,fillOpacity:s})}),G6e=W.deployment.database,IS=({className:e})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 10L9 13L14 7",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),AS=({className:e})=>t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("path",{d:"M6 6L14 14M14 6L6 14",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),DS=({className:e})=>t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[t.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#80FFF9",strokeWidth:"2"}),t.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#80FFF9"})]}),MS=({className:e})=>t.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:t.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#4A4A4C",strokeWidth:"2"})}),q6e=({isOpen:e,onClose:n,onConfirmReplace:s,selectedDeployment:r,newAppName:i="Your new app",loading:a=!1})=>{const[o,l]=d.useState(null),c=H8(r);d.useEffect(()=>{e&&z(_i.CONFIRM_MODAL_OPENED,{deploymentId:r?.id,appName:r?.app_name})},[e,r?.id,r?.app_name]);const u=x=>{z(_i.CONFIRM_DB_MODE_SELECTED,{deploymentId:r?.id,appName:r?.app_name,mode:x,previousMode:o}),l(x)},p=()=>{z(_i.CONFIRM_URL_CLICKED,{deploymentId:r?.id,appName:r?.app_name,url:yp(r)});const x=yp(r);x&&window.open(x,"_blank","noopener,noreferrer")},f=()=>{z(_i.CONFIRM_CLOSE_CLICKED,{deploymentId:r?.id,appName:r?.app_name,selectedDbMode:o}),n()},m=async()=>{z(_i.CONFIRM_REPLACE_CLICKED,{deploymentId:r?.id,appName:r?.app_name,keepDatabase:o==="keep"});try{await s(o==="keep")}catch{}},h=()=>{z(_i.CONFIRM_CANCEL_CLICKED,{deploymentId:r?.id,appName:r?.app_name}),n()};return t.jsx(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-0 md:m-6 rounded-none md:rounded-[16px] h-full md:h-auto overflow-clip bg-[#18181A]",children:t.jsxs(xe.div,{className:"flex flex-col h-full md:h-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:[t.jsxs("div",{className:"flex items-start justify-between gap-6 pt-6 pb-4 px-6 relative shrink-0",children:[t.jsx("h2",{className:"font-['Brockmann'] font-medium text-[20px] leading-[28px] tracking-[-0.4px] text-white",children:"Confirm Replacing deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:f,className:"backdrop-blur-[20px] bg-[rgba(255,255,255,0.04)] p-[6.4px] rounded-[16px] hover:bg-[rgba(255,255,255,0.08)] transition-colors shrink-0",children:t.jsx(Pt,{className:"w-[19.2px] h-[19.2px] text-white/60"})})]}),t.jsxs("div",{className:"flex-1 flex flex-col gap-5 pt-2 pb-4 px-6 overflow-y-auto",children:[t.jsxs("div",{className:"relative flex flex-col gap-10",children:[t.jsx("div",{className:"absolute left-[19px] top-[40px] bottom-[40px] border-l-2 border-dashed border-[rgba(255,255,255,0.12)] -z-10"}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"relative z-10 p-2 rounded-[20px] shrink-0 mt-2",style:{background:"linear-gradient(180deg, rgba(46, 229, 114, 0.2) 0%, rgba(16, 95, 45, 0.2) 100%), #18181A"},children:t.jsx(hU,{className:"w-6 h-6",color:"#2EE572"})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white",children:[i," goes live"]}),t.jsx("div",{className:"text-[14px] leading-[20px] text-left",children:c&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:p,className:"text-[#F2F5F7] hover:text-white underline cursor-pointer transition-colors text-left",children:c}),t.jsx("span",{className:"text-[#7F8283]",children:" will auto-link to this app"})]})})]})]}),t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"relative z-10 p-2 rounded-[20px] shrink-0",style:{background:"linear-gradient(180deg, #633434 0%, #512424 100%), #18181A"},children:t.jsx(t8,{className:"w-6 h-6 text-[#ED5B5B]"})}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:"font-['Brockmann'] font-medium text-[18px] leading-[28px] tracking-[-0.36px] text-white capitalize",children:[r?.app_name||"Selected app"," shuts down"]}),t.jsx("span",{className:"text-[#7F8283] text-[14px] leading-[20px]",children:"If deployment fails, it stays live"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-4 pb-4 pt-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("img",{src:G6e,alt:"Database",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[-0.28px] text-white",children:"Select database setup"})]}),t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[t.jsxs("div",{onClick:()=>u("keep"),className:A("flex-1 flex flex-col rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden pt-4",o==="keep"?"bg-[rgba(128,255,249,0.04)] border-[rgba(128,255,249,0.2)]":"bg-[#232326] border-[#333]"),children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-3 items-start px-5",children:[t.jsx("span",{className:"flex-1 font-['Inter'] font-medium text-[16px] leading-[24px] text-white",children:"Use existing database"}),o==="keep"?t.jsx(DS,{className:"w-6 h-6 shrink-0"}):t.jsx(MS,{className:"w-6 h-6 shrink-0"})]}),t.jsxs("div",{className:"flex flex-col gap-1 px-5",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(IS,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"User data from live app stays"})]}),t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx(AS,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"New data from latest preview won't carry over"})]})]})]}),t.jsxs("div",{className:A("flex items-center justify-center gap-2 px-3 py-[7px] mt-4 rounded-bl-[12px] rounded-br-[12px]",o==="keep"?"bg-[rgba(128,255,249,0.12)]":"bg-[rgba(255,255,255,0.2)]"),children:[t.jsx(z6e,{className:"w-5 h-5",color:o==="keep"?"#80FFF9":"#FFFFFF",opacity:1}),t.jsx("span",{className:A("font-['Inter'] font-medium text-[12px] leading-[18px]",o==="keep"?"text-[#80FFF9]":"text-white"),children:"Have real users? Pick this"})]})]}),t.jsxs("div",{onClick:()=>u("new"),className:A("flex-1 flex flex-col rounded-[12px] border cursor-pointer transition-all duration-200 overflow-hidden pt-4",o==="new"?"bg-[rgba(128,255,249,0.04)] border-[rgba(128,255,249,0.2)]":"bg-[#232326] border-[#333]"),children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-3 items-start px-5",children:[t.jsx("span",{className:"flex-1 font-['Inter'] font-medium text-[16px] leading-[24px] text-white",children:"Use new database"}),o==="new"?t.jsx(DS,{className:"w-6 h-6 shrink-0"}):t.jsx(MS,{className:"w-6 h-6 shrink-0"})]}),t.jsxs("div",{className:"flex flex-col gap-1 px-5",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(AS,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"Live user data won't be available"})]}),t.jsxs("div",{className:"flex items-start gap-1",children:[t.jsx(IS,{className:"w-5 h-5 shrink-0"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[13px] leading-[20px] text-[rgba(255,255,255,0.6)]",children:"New data from latest preview carries over"})]})]})]}),t.jsxs("div",{className:A("flex items-center justify-center gap-2 px-3 py-[7px] mt-4 rounded-bl-[12px] rounded-br-[12px]",o==="new"?"bg-[rgba(128,255,249,0.12)]":"bg-[rgba(255,255,255,0.2)]"),children:[t.jsx(W6e,{className:"w-5 h-5",color:o==="new"?"#80FFF9":"#FFFFFF",opacity:1}),t.jsx("span",{className:A("font-['Inter'] font-medium text-[12px] leading-[18px]",o==="new"?"text-[#80FFF9]":"text-white"),children:"Still building? Pick this"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_ae,{className:"w-5 h-5 text-[rgba(255,255,255,0.4)]"}),t.jsxs("span",{className:"text-[rgba(255,255,255,0.6)] text-[14px] leading-[20px]",children:["Need help with database?"," ",t.jsx("a",{href:Li.support,target:"_blank",rel:"noopener noreferrer",className:"text-white underline hover:text-white/80 transition-colors",children:"Contact us"})]})]})]})]}),t.jsxs("div",{className:"shrink-0 p-6 border-t border-[rgba(255,255,255,0.08)] flex items-center justify-center md:justify-end gap-3",children:[t.jsx("button",{onClick:h,className:"hidden md:block px-4 py-2.5 bg-[#222224] rounded-[12px] font-['Brockmann'] font-medium text-[14px] leading-[20px] text-[#DCDCE5] hover:bg-[#2A2A2C] transition-colors",children:"Cancel"}),t.jsx("button",{onClick:m,disabled:a||!r||!o,className:A("w-full md:w-auto px-6 py-2.5 bg-white rounded-[12px] font-['Brockmann'] font-semibold text-[14px] leading-[20px] tracking-[-0.2px] text-[#0E0E0F] hover:bg-gray-100 transition-colors",(a||!r||!o)&&"opacity-50 cursor-not-allowed"),children:a?"Deploying...":"Confirm and Deploy"})]})]})})},LS=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"",K6e=({isOpen:e,onClose:n,deploymentHistory:s,runId:r,rollbackTargetId:i,jobId:a,deployUrl:o,customDomain:l,latestRunStatus:c,isLoading:u=!1,isDeploying:p=!1,podIsPaused:f=!1,rollbackWithApi:m,refetch:h})=>{const{toast:x}=ds(),[y,v]=tt.useState(!1),g=async()=>{if(z(cr.ROLLBACK_MODAL_CONFIRM_CLICKED,{jobId:a,rollbackTargetId:i}),!a||!i)return;const w=s.find(N=>N.id===i);v(!0);try{x({title:"Rolling back...",description:"Please wait while we rollback your deployment.",duration:2e3});const N=w?.params?.image;m&&N&&await m(a,N),n(),h&&h()}finally{v(!1)}},b=()=>{z(cr.ROLLBACK_MODAL_CANCEL_CLICKED,{jobId:a,rollbackTargetId:i}),n()};return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-3 md:p-6 md:py-[20px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[14px] md:text-[18px] font-medium text-[#E6E6E6]",children:"Rollback to Previous Deployment"}),t.jsx("button",{type:"button",title:"Close",onClick:b,className:"absolute text-gray-400 top-3 right-3 md:top-4 md:right-4 hover:text-white",children:t.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),t.jsxs("div",{className:"p-3 md:p-6",children:[t.jsx("p",{className:"font-medium font-['Inter'] text-[13px] md:text-[16px] text-[#939399]",children:"Replace your current production with a previously successful deployment. Your site will remain online with minimal downtime."}),s.length>0&&t.jsx("div",{className:"mt-6 mb-6",children:t.jsx("div",{children:t.jsx(wg,{jobId:a||"",deployStatus:"success",currentActive:!0,deployTime:_g(s.find(w=>w.id===r)?.updated_at||""),deploymentLink:LS(l?.domain)||o,deploymentRun:s.find(w=>w.id===r),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!1})})}),s.length>1&&t.jsx("div",{className:"mt-6",children:t.jsx("div",{children:t.jsx(wg,{jobId:a||"",deployStatus:"success",currentActive:!1,deployTime:_g(s.find(w=>w.id===i)?.updated_at||""),deploymentLink:LS(l?.domain)||o,deploymentRun:s.find(w=>w.id===i),latestRunStatus:c,inRollbackModal:!0,isRollbackTarget:!0})})})]}),t.jsx("div",{className:"p-2 md:p-4 md:min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-end w-full md:justify-between",children:[t.jsx("div",{className:"hidden md:flex items-center gap-2 text-[#737780] text-sm",children:t.jsx("span",{children:"Rollback usually takes around 1-3 mins."})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{onClick:b,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-3 py-2 text-[14px] md:text-[16px] md:px-4 md:py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(Vt,{onClick:g,disabled:f||u||p||y,className:"flex items-center gap-3 px-3 py-2 font-semibold text-black bg-white rounded-full md:px-4 hover:bg-white/90",children:u||p||y?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),"Rolling back..."]}):"Confirm Rollback"})]})]})})]})},RS="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.40156%205.28039C8.40156%203.68981%209.69099%202.40039%2011.2816%202.40039H19.9216C21.5122%202.40039%2022.8016%203.68981%2022.8016%205.28039V13.9204C22.8016%2015.511%2021.5122%2016.8004%2019.9216%2016.8004H18.0016V18.7204C18.0016%2020.311%2016.7122%2021.6004%2015.1216%2021.6004H6.48156C4.89099%2021.6004%203.60156%2020.311%203.60156%2018.7204V10.0804C3.60156%208.48981%204.89099%207.20039%206.48156%207.20039H8.40156V5.28039ZM10.3216%207.20039H15.1216C16.7122%207.20039%2018.0016%208.48981%2018.0016%2010.0804V14.8804H19.9216C20.4518%2014.8804%2020.8816%2014.4506%2020.8816%2013.9204V5.28039C20.8816%204.7502%2020.4518%204.32039%2019.9216%204.32039H11.2816C10.7514%204.32039%2010.3216%204.7502%2010.3216%205.28039V7.20039ZM6.48156%209.12039C5.95137%209.12039%205.52156%209.5502%205.52156%2010.0804V18.7204C5.52156%2019.2506%205.95137%2019.6804%206.48156%2019.6804H15.1216C15.6518%2019.6804%2016.0816%2019.2506%2016.0816%2018.7204V10.0804C16.0816%209.5502%2015.6518%209.12039%2015.1216%209.12039H6.48156Z'%20fill='%23E6E6E6'/%3e%3c/svg%3e",PS=(e,n,s)=>e||"@",Y6e=({isOpen:e,onClose:n,onConfirm:s,dns_records:r,domain:i,loading:a=!1,jobId:o})=>{const{toast:l}=ds(),c=(f,m)=>{z(Ii.DNS_RECORD_COPIED,{jobId:o,domain:i,field:m,value:f}),navigator.clipboard.writeText(f),l({title:"Copied to Clipboard",description:"DNS record copied to clipboard",duration:1500})},u=()=>{z(Ii.DNS_ADDED_CONFIRMED,{jobId:o,domain:i}),s()},p=()=>{z(Ii.MANUAL_MODAL_CLOSED,{jobId:o,domain:i}),n()};return t.jsxs(Ei,{isOpen:e,onClose:p,position:"bottom",blurStrength:"sm",contained:!0,className:"m-4 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsx("div",{className:"p-6 relative",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("button",{type:"button",className:"p-3 bg-[#2A2A2C] rounded-full pointer-events-none cursor-none ",children:t.jsx(po,{className:"w-5 h-5 text-[#FFFFFF]"})}),t.jsxs("div",{className:"flex-1 pt-3",children:[t.jsx("h2",{className:"text-[18px] font-semibold text-[#FFFFFF] font-['Inter']",children:"Steps to link your domain manually"}),t.jsx("p",{className:"text-[14px] text-[#8E8E93] font-['Inter'] mt-1",children:"Go to your domain provider and add each DNS record one by one."}),t.jsx("a",{href:Li.howToAddDomains,target:"_blank",rel:"noopener noreferrer",className:"text-[14px] text-[#0A84FF] font-['Inter'] font-medium underline mt-2 inline-block",children:"View step-by-step guide"})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:p,className:"p-[6.4px] rounded-full bg-[#303031] text-[#8E8E93] hover:text-white opacity-80",children:t.jsx(Pt,{size:20})})]})}),t.jsx("div",{className:"px-6 pb-6 flex flex-col gap-4 max-h-[400px] overflow-y-auto",children:(()=>{const f=xce(r);return f.length===0?t.jsx("div",{className:"p-4 bg-[#303031] rounded-[10px]",children:t.jsx("span",{className:"text-[14px] text-[#8E8E93] font-['Inter']",children:"No data"})}):f.map((m,h)=>t.jsxs("div",{className:"flex gap-2 md:gap-3 w-full",children:[t.jsxs("div",{className:"flex flex-col gap-1.5 w-[20%] min-w-0",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#8E8E93] font-['Inter']",children:"Type"}),t.jsx("div",{className:"p-2.5 md:p-3 bg-[#303031] rounded-[10px] h-[44px] flex items-center",children:t.jsx("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:m.type})})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 w-[30%] min-w-0",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#8E8E93] font-['Inter']",children:"Host-Name"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"p-2.5 md:p-3 pr-9 bg-[#303031] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate",children:PS(m.name||"",i||"",m.type||"")})}),t.jsx("button",{type:"button",onClick:()=>c(PS(m.name||"",i||"",m.type||""),"hostname"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:RS,alt:"Copy",className:"w-4 h-4 md:w-5 md:h-5 opacity-50"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-1.5 w-[50%] min-w-0",children:[t.jsx("span",{className:"text-[12px] md:text-[13px] text-[#8E8E93] font-['Inter']",children:"Value"}),t.jsxs("div",{className:"relative h-[44px]",children:[t.jsx("div",{className:"p-2.5 md:p-3 pr-9 bg-[#303031] rounded-[10px] h-full flex items-center",children:t.jsx("span",{className:"text-[13px] md:text-[14px] text-[#FFFFFF] font-['Inter'] font-medium truncate block w-full",children:m.value})}),t.jsx("button",{type:"button",onClick:()=>m.value&&c(m.value,"value"),className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 cursor-pointer hover:opacity-80",children:t.jsx("img",{src:RS,alt:"Copy",className:"w-4 h-4 md:w-5 md:h-5 opacity-50"})})]})]})]},h))})()}),t.jsx("div",{className:"p-6 border-t border-[#303031]",children:t.jsx("button",{type:"button",onClick:u,disabled:a,className:A("px-6 py-3 rounded-full font-brockmann font-semibold text-base tracking-[-0.2px]",a?"bg-[#3A3A3C] text-[#8E8E93] cursor-not-allowed":"bg-[#FFFFFF] text-[#000000] hover:bg-[#E5E5E5]"),children:a?"Verifying...":"I have added DNS records"})})]})},Z6e=({width:e=24,height:n=24,className:s="",style:r,fill:i="#F2F5F7"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 24 24",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M4 9H7V4L16 12L7 20L7 15L4 15V9ZM6 11V13L9 13V15.55L13 12L9 8.45V11H6ZM12 4L21 12L12 20L12 17.325L18 12L12 6.675V4Z",fill:i})}),J6e=({width:e=16,height:n=16,className:s="",style:r,fill:i="#F2F5F7"})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 16 16",fill:"none",className:s,style:r,children:t.jsx("path",{d:"M3.59154 13.332L2.6582 12.3987L10.3915 4.66536H5.99154V3.33203H12.6582V9.9987H11.3249V5.5987L3.59154 13.332Z",fill:i})}),X6e=({isOpen:e,onClose:n,domain:s,targetAppName:r,sourceAppName:i,linkedJobId:a,handleJobClick:o,handleSwitchDomainClick:l,jobId:c})=>{const[u]=Gm(),{toast:p}=ds(),[f,m]=d.useState(!1),h=async()=>{z(Ii.SWITCH_DOMAIN_CLICKED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),m(!0);try{await yt.switchDomain(s,r,i),await l(),n()}catch(v){p({title:"Error",description:v?.error||v?.message||"Failed to switch domain",variant:"destructive",duration:3e3})}finally{m(!1)}},x=async()=>{if(!(!o||!a))try{const v=await u(a);if("error"in v||!v.data)throw new Error;o(v.data)}catch{p({title:"Error",description:"An error occurred while opening the linked app",variant:"destructive"})}},y=()=>{z(Ii.SWITCH_DOMAIN_CANCELLED,{jobId:c,domain:s,targetAppName:r,sourceAppName:i}),n()};return t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-3 md:m-6 rounded-[16px] overflow-hidden bg-[#18181A]",children:[t.jsx("div",{className:"p-6 relative",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"p-3 bg-[#2A2A2C] rounded-full w-fit",children:t.jsx(Z6e,{})}),t.jsxs("div",{className:"flex-1 pt-3",children:[t.jsx("h2",{className:"text-[18px] font-semibold text-[#FFFFFF] font-['Inter']",children:"This domain is already linked to another app. Are you sure you want to link it here instead?"}),t.jsxs("div",{className:"flex flex-col py-4 gap-2",children:[t.jsxs("p",{className:"text-[14px] text-[#8E8E93] font-['Inter'] leading-10",children:[t.jsx("a",{href:`https://${s}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 underline rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:s})," ","is currently linked to your live app"," ",t.jsxs("span",{onClick:x,className:"inline-block px-2 py-1 bg-[#4D9FFF1F] text-[#F2F5F7] font-medium leading-6 rounded-lg hover:bg-[#4D9FFF2F] transition-colors cursor-pointer",style:{fontFamily:"JetBrains Mono, monospace"},children:[i,t.jsx(J6e,{className:"inline w-4 h-4 ml-1 align-middle"})]})]}),t.jsx("p",{className:"text-[14px] text-[#8E8E93] font-['Inter']",children:"Continuing will unlink it from there and point all traffic to this app."})]})]})]}),t.jsx("button",{type:"button",title:"Close",onClick:y,className:"p-[6.4px] rounded-full bg-[#303031] text-[#8E8E93] hover:text-white opacity-80",children:t.jsx(Pt,{size:20})})]})}),t.jsxs("div",{className:"flex gap-3 p-6 border-t border-[#303031]",children:[t.jsx("button",{type:"button",onClick:h,disabled:f,className:A("px-6 py-3 rounded-full font-brockmann font-semibold text-base tracking-[-0.2px]",f?"bg-[#3A3A3C] text-[#8E8E93] cursor-not-allowed":"bg-[#FFFFFF] text-[#000000] hover:bg-[#E5E5E5]"),children:f?"Linking...":"Yes, link domain here"}),t.jsx("button",{type:"button",onClick:y,disabled:!1,className:A("px-6 py-3 rounded-full font-brockmann font-semibold text-base tracking-[-0.2px]","bg-[#222224] text-[#FFFFFF] hover:bg-gray-100/10"),children:"Keep existing link"})]})]})},Q6e=({isOpen:e,onClose:n,domainToUnlink:s,onConfirm:r,isLoading:i,isDeploying:a})=>t.jsxs(Ei,{isOpen:e,onClose:n,position:"bottom",blurStrength:"sm",contained:!0,className:"m-6 rounded-[16px] overflow-clip bg-[#18181A]",children:[t.jsxs("div",{className:"p-8 py-[28px] border-[#242424] bg-[#18181A] border-b-[1px]",children:[t.jsx("div",{className:"text-[18px] font-medium text-[#E6E6E6]",children:"Confirm Domain Unlinking"}),t.jsx("button",{type:"button",title:"Close",onClick:n,className:"absolute text-gray-400 top-8 right-8 hover:text-white",children:t.jsx(Pt,{size:24})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("p",{className:"font-medium font-['Inter'] text-[#939399]",children:["Would you like to remove the domain ",s," from this App? After continuing, your App will no longer be accessible through this domain."]}),s&&t.jsxs("div",{className:"mt-6",children:[t.jsx("div",{className:"text-[#A199FF] text-md py-4 font-medium mb-2",children:"Connected Domain"}),t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:400,damping:30,delay:.2},className:"bg-[#0076FF05] rounded-[12px] border-[#66acff20] overflow-clip border p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex items-center gap-4",children:t.jsx("span",{className:"text-[#CCE4FF] font-medium",children:s})})})})]})]}),t.jsx("div",{className:"p-4 min-h-[96px] bg-[#18181A] border-t border-[#242424] flex flex-col",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("div",{className:"flex items-center gap-2 text-[#737780] text-sm"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{onClick:n,className:"bg-[#272729] text-white hover:bg-[#272729]/90 rounded-full px-4 py-2 text-sm flex items-center gap-1",children:t.jsx("span",{children:"Cancel"})}),t.jsx(Vt,{onClick:r,disabled:i||a,className:"flex items-center gap-3 px-4 py-2 text-sm text-black bg-red-500 rounded-full hover:bg-red-600",children:i||a?t.jsxs(t.Fragment,{children:[t.jsx(ln,{className:"w-4 h-4 animate-spin"}),"Unlinking..."]}):"Confirm Unlinking"})]})]})})]}),eye=({jobId:e,appName:n,onBuildTriggered:s,onModalClose:r,setCurrentView:i})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(null),u=d.useMemo(()=>crypto.randomUUID().replace(/-/g,"").slice(0,8),[]),p=n?.toLowerCase().replace(/[^a-z0-9_]/g,"")||"",f=p?`app.emergent.${p}${u}`:void 0;return{isSubmitting:a,error:l,handleBuildSubmit:async x=>{if(!e)return!1;c(null),o(!0);try{let y;if(x.appIcon){const g=await yt.getExpoBuildAppIconUploadUrl(e,"android",{file_name:x.appIcon.name});await yt.uploadToPresignedUrl(g.upload_url,x.appIcon),y=(await yt.finalizeExpoBuildAppIconUpload("android",{icon_id:g.icon_id,job_id:e,file_path:g.file_path,file_name:x.appIcon.name})).id}else if(x.appIconId)y=x.appIconId;else return c("Please select an app icon."),!1;await yt.submitExpoBuildAppDetails("android",{job_id:e,app_details:{app_name:x.appName,version:x.versionName,package_name:x.packageName,app_logo_id:y}});const v=await yt.triggerExpoBuild(e,"android");return v.status!=="triggered"?(c(v.message||"Failed to start Android build. Please try again."),!1):(z(Ps.ANDROID_BUILD_STARTED,{job_id:e}),s?.(),r?.(),i?.("android-builds"),!0)}catch(y){const v=y?.response?.data?.detail||y?.response?.data?.error||y?.message||"Failed to start Android build. Please try again.";return c(v),!1}finally{o(!1)}},clearError:()=>c(null),packageName:f}},tye=({jobId:e,initialData:n,enablePolling:s=!0,pollingInterval:r=3e4,isDeploymentRunning:i=!1})=>{const{getCurrentOrganizationId:a}=ys(),o=a(),[l,c]=d.useState(n??null),[u,p]=d.useState(!1),f=d.useRef(n!==void 0),m=s&&!!e&&!!l&&(l.status==="pending"||l.status==="failed")&&!i,{data:h}=LD({jobId:e,silent:!0,organization_id:o},{skip:!m,pollingInterval:m?r:0}),[x]=mQ(),[y]=RD(),[v]=PD(),[g]=OD(),[b]=BD(),w=d.useCallback(async()=>{if(!e)return null;p(!0);try{const S=await x({jobId:e,silent:!0,organization_id:o}).unwrap();let M=null;return S?.custom_domain?.domain&&S.custom_domain.status&&(M={domain:S.custom_domain.domain,status:S.custom_domain.status,dns_records:Array.isArray(S.custom_domain.dns_records)?S.custom_domain.dns_records:[S.custom_domain.dns_records].filter(Boolean),current_ips:S.custom_domain.current_ips}),c(M),M}catch{return null}finally{p(!1)}},[e,o,x]),N=d.useCallback(async()=>{if(!e)return null;p(!0);try{const S=await x({jobId:e,silent:!0,organization_id:o}).unwrap();let M=null;return S?.custom_domain?.domain&&S.custom_domain.status&&(M={domain:S.custom_domain.domain,status:S.custom_domain.status,dns_records:Array.isArray(S.custom_domain.dns_records)?S.custom_domain.dns_records:[S.custom_domain.dns_records].filter(Boolean),current_ips:S.custom_domain.current_ips}),M}catch{return null}finally{p(!1)}},[e,o,x]);d.useEffect(()=>{n!==void 0&&(c(n),f.current=!0)},[n]),d.useEffect(()=>{if(h?.custom_domain?.domain&&h.custom_domain.status){const S={domain:h.custom_domain.domain,status:h.custom_domain.status,dns_records:Array.isArray(h.custom_domain.dns_records)?h.custom_domain.dns_records:[h.custom_domain.dns_records].filter(Boolean),current_ips:h.custom_domain.current_ips};c(M=>M?.status!==S.status||M?.domain!==S.domain?S:M)}},[h]),d.useEffect(()=>{e&&!f.current&&n===void 0&&(f.current=!0,w())},[e,w,n]);const j=d.useCallback(async S=>{if(!e)throw new Error("No job ID");return await y({domain:S,jobId:e,organization_id:o}).unwrap()},[y,e,o]),_=d.useCallback(async S=>{if(!e)throw new Error("No job ID");return await v({domain:S,jobId:e,organization_id:o}).unwrap()},[v,e,o]),C=d.useCallback(async S=>{if(!e)throw new Error("No job ID");return await g({domain:S,jobId:e,organization_id:o}).unwrap()},[g,e,o]),F=d.useCallback(async S=>{if(!e)throw new Error("No job ID");const M=await b({domain:S,jobId:e,organization_id:o}).unwrap();return c(null),M},[b,e,o]),E=d.useCallback(()=>{c(null)},[]);return{customDomain:l,isLoading:u,registerDomain:j,verifyDomain:_,connectDomain:C,unlinkDomain:F,setCustomDomain:c,refetchCustomDomain:w,fetchDnsRecordsOnly:N,clearCustomDomain:E}};function nye({jobId:e,deployStatus:n,latestRunStatus:s}){const[r,i]=d.useState(null),[a,o]=d.useState("0s"),l=d.useRef(null);return d.useEffect(()=>{const c=async()=>{if(e)try{const p=await yt.getDeployStatus(e);if(p.latest_run){let f;p.latest_run.steps&&p.latest_run.steps.length>0?f=p.latest_run.steps[0].created_at:f=new Date().toISOString(),i(new Date(f))}else i(new Date)}catch{i(new Date)}},u=n==="running"||s==="running";return u?(r||c(),l.current&&clearInterval(l.current),l.current=setInterval(()=>{if(!r)return;const f=new Date().getTime()-r.getTime(),m=Math.floor(f/1e3),h=Math.floor(m/60),x=Math.floor(h/60);let y="";x>0?y=`${x}h ${h%60}m ${m%60}s`:h>0?y=`${h}m ${m%60}s`:y=`${m}s`,o(y)},1e3)):!u&&l.current&&(clearInterval(l.current),l.current=null,i(null)),()=>{l.current&&clearInterval(l.current)}},[n,s,r,e]),{deploymentStartTime:r,elapsedTime:a}}const sye=()=>{const[e,n]=d.useState(!1),[s,r]=d.useState(!1),[i,a]=d.useState(!1),[o,l]=d.useState(!1),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[m,h]=d.useState(!1),[x,y]=d.useState(!1),[v,g]=d.useState(!1),[b,w]=d.useState(!1),[N,j]=d.useState(!1),[_,C]=d.useState(!1),[F,E]=d.useState(!1);return{isDeployModalOpen:e,setIsDeployModalOpen:n,isBuildLogsModalOpen:s,setIsBuildLogsModalOpen:r,isRollbackModalOpen:i,setIsRollbackModalOpen:a,isRedeployModalOpen:o,setIsRedeployModalOpen:l,isShutdownModalOpen:c,setIsShutdownModalOpen:u,isReplaceModalOpen:p,setIsReplaceModalOpen:f,isReplaceConfirmModalOpen:m,setIsReplaceConfirmModalOpen:h,isUnlinkDomainModalOpen:x,setIsUnlinkDomainModalOpen:y,isManualDomainLinkModalOpen:v,setIsManualDomainLinkModalOpen:g,isSwitchDomainModalOpen:b,setIsSwitchDomainModalOpen:w,isAppleDeveloperModalOpen:N,setIsAppleDeveloperModalOpen:j,isCreditsInfoModalOpen:_,setIsCreditsInfoModalOpen:C,isAndroidBuildModalOpen:F,setIsAndroidBuildModalOpen:E}},rye=()=>{const[e,n]=d.useState(""),[s,r]=d.useState(null),[i,a]=d.useState(null),[o,l]=d.useState(!1),[c,u]=d.useState(!0),[p,f]=d.useState(""),[m,h]=d.useState({containsStripeKey:!1,stripeKeyValue:"",stripeKeyId:"",stripeKey:""});return{rollbackTargetId:e,setRollbackTargetId:n,selectedReplacement:s,setSelectedReplacement:r,replaceHoveredCard:i,setReplaceHoveredCard:a,termsSelected:o,setTermsSelected:l,envSyncedWithProduction:c,setEnvSyncedWithProduction:u,domainToUnlink:p,setDomainToUnlink:f,containsStripeKey:m,setContainsStripeKey:h}},iye=({jobId:e,appName:n,onBuildTriggered:s,onModalClose:r,setCurrentView:i})=>{const{toast:a}=ds(),[o,l]=d.useState(null),[c,u]=d.useState(!1),[p,f]=d.useState(null),[m,h]=d.useState(null),[x,y]=d.useState(1),v=d.useRef(null),g=d.useRef(null),b=d.useMemo(()=>crypto.randomUUID().split("-")[0],[]),w=n?`app.emergent.${n}${b}`:void 0;return{error:o,isSubmitting:c,bundleIdentifier:w,handleCredentialsSubmit:async k=>{if(!e)return!1;z(Ps.APPLE_LOGIN_CLICKED,{job_id:e}),l(null),u(!0);try{const I=await yt.appleLogin({job_id:e,apple_id:k.email,password:k.password});if(!I.success)return z(Ps.APPLE_LOGIN_FAILED,{job_id:e,error:I.message}),l(I.message||"Failed to submit developer details. Please try again."),!1;if(v.current={appleId:k.email,password:k.password},I.session_id){const D=I.trusted_phone_numbers?.[0]?.id??1;g.current={sessionId:I.session_id,phoneId:D},f(I.session_id),y(D)}return z(Ps.APPLE_LOGIN_SUCCESS,{job_id:e}),!0}catch(I){const D=I?.message||"Failed to submit developer details. Please try again.";return z(Ps.APPLE_LOGIN_FAILED,{job_id:e,error:D}),l(D),!1}finally{u(!1)}},handleAuthMethodContinue:async k=>{const I=g.current;if(!e||!I)return!1;z(Ps.APPLE_LOGIN_2FA_CLICKED,{job_id:e,method:k}),l(null),u(!0),h(k);try{if(k==="sms"){const D=await yt.apple2FA({job_id:e,session_id:I.sessionId,code_type:"sms",phone_id:I.phoneId});if(!D.success){const P=D.message||"Failed to request verification code. Please try again.";return l(P),!1}}return!0}catch(D){const P=D?.message||"Failed to request verification code. Please try again.";return l(P),!1}finally{u(!1)}},handleBuildDetailsContinue:async k=>{if(!e)return!1;l(null),u(!0);try{let I;if(k.appIcon){const D=await yt.getExpoBuildAppIconUploadUrl(e,"ios",{file_name:k.appIcon.name});await yt.uploadToPresignedUrl(D.upload_url,k.appIcon),I=(await yt.finalizeExpoBuildAppIconUpload("ios",{icon_id:D.icon_id,job_id:e,file_path:D.file_path,file_name:k.appIcon.name})).id}else if(k.appIconId)I=k.appIconId;else return l("Please select an app icon."),!1;return await yt.submitExpoBuildAppDetails("ios",{job_id:e,step:1,app_details:{app_name:k.appName,version:k.versionName,bundle_identifier:k.bundleIdentifier,app_logo_id:I}}),!0}catch(I){const D=I?.message||"Failed to save app details. Please try again.";return l(D),!1}finally{u(!1)}},handleOTPSubmit:async k=>{if(!e||!p||!m)return{success:!1};const I="Incorrect verification code. Please try again.";l(null),u(!0);try{const D=await yt.apple2FA({job_id:e,session_id:p,code:k.code,code_type:m});if(!D.success){const P=D.message||"Verification failed. Please try again.";return z(Ps.APPLE_LOGIN_2FA_FAILED,{job_id:e,error:P}),l(P),{success:!1,shouldGoBack:!(P===I)}}return z(Ps.APPLE_LOGIN_2FA_SUCCESS,{job_id:e}),{success:!0}}catch(D){const P=D?.message||"Failed to verify OTP. Please try again.";return z(Ps.APPLE_LOGIN_2FA_FAILED,{job_id:e,error:P}),l(P),{success:!1,shouldGoBack:!0}}finally{u(!1)}},handleTriggerBuild:async()=>{if(!e)return{success:!1};l(null),u(!0);try{const k=await yt.triggerExpoBuild(e,"ios");if(k.status!=="triggered"){const I=k.message||"Failed to start iOS build. Please try again.";return l(I),{success:!1}}return z(Ps.IOS_BUILD_STARTED,{job_id:e}),s?.(),r?.(),i?.("ios-builds"),a({title:"iOS Build Started",description:"Your iOS build is being generated. This may take a few minutes.",duration:5e3}),{success:!0}}catch(k){const I=k?.response?.data?.detail||k?.response?.data?.error||k?.message||"Failed to start iOS build. Please try again.";return l(I),{success:!1}}finally{u(!1)}},handleResendOTP:async()=>{if(!e||!p||!m)return!1;l(null);try{if(m==="sms"){const k=await yt.apple2FA({job_id:e,session_id:p,code_type:"sms",phone_id:x});if(k.sms_sent||k.success)return a({title:"OTP Sent",description:"A new OTP has been sent to your phone.",duration:3e3}),!0;{const I=k.message||"Failed to resend OTP. Please try again.";return l(I),!1}}else{const k=v.current;if(!k)return l("Unable to resend code. Please try logging in again."),!1;const I=await yt.appleLogin({job_id:e,apple_id:k.appleId,password:k.password});if(I.session_id){const D=I.trusted_phone_numbers?.[0]?.id??1;g.current={sessionId:I.session_id,phoneId:D},f(I.session_id),y(D),a({title:"Check Your Devices",description:"A verification code should appear on your trusted Apple devices.",duration:3e3})}return!0}}catch(k){const I=k?.message||"Failed to resend OTP. Please try again.";return l(I),!1}},reset:()=>{l(null),f(null),h(null),g.current=null,v.current=null},clearError:()=>l(null)}},aye={build:{pending:"Build Waiting",running:"Building Package...",success:"Build Completed",failed:"Build Failed"},mongodb_migrate:{pending:"Migrate Database",running:"Migrating Database...",success:"Migration Completed",failed:"Migration Failed"},manage_secrets:{pending:"Export Secrets",running:"Exporting Secrets...",success:"Secrets Exported",failed:"Secrets Export Failed"},deploy:{pending:"Deploy",running:"Deploying...",success:"Deployment Complete",failed:"Deployment Failed"},health_check:{pending:"Run Health Check",running:"Running Health Checks",success:"Health Check Successful",failed:"Health Check Failed"}},oye={build:"Building...",mongodb_migrate:"Migrating...",manage_secrets:"Exporting Secrets...",deploy:"Deploying..."},lye=W.common.deployTime,OS=W.icons.animatedSpinner,cye=W.icons.deployCloud,dye=({isOpen:e,onClose:n,jobId:s,tabId:r,onShareLogs:i,onRunHealthCheck:a,podIsPaused:o=!1,agentStatus:l,handleJobClick:c,isExpoImage:u=!1,previewUrl:p})=>{const f=sye(),m=rye(),{getCurrentOrganizationId:h}=ys(),x=SR(),{defaultTierCredits:y,defaultTierCreditsPerDay:v}=jU(),[g,b]=d.useState(!1),[w,N]=d.useState(!1),j=d.useRef(null),[_,C]=d.useState(null),[F,E]=d.useState(!0),{isSuccess:S}=Ri(),{data:M}=qm(void 0,{skip:!S}),k=M?.pro_rata_refunds??!1,I=M?.deployment_tier??!1;d.useEffect(()=>{t2(()=>{C(vee()),E(!1)})},[]);const{currentView:D,setCurrentView:P,setBuildJustTriggered:R,setIOSBuildData:B,setAndroidBuildData:U,handleAndroidBuildsBack:H,handleIOSBuildsBack:$,navigateToAndroidBuilds:q,navigateToIOSBuilds:Q}=Pbe(),V=u?CS({platform:"ios",jobId:s||"",fetchLatest:yt.getIOSBuildLatest,fetchHistory:yt.getIOSBuildHistory,completedEventName:Ps.IOS_BUILD_COMPLETED,checkMobileForEmptyState:!0}):null,ee=u?CS({platform:"android",jobId:s||"",fetchLatest:yt.getAndroidBuildLatest,fetchHistory:yt.getAndroidBuildHistory,completedEventName:Ps.ANDROID_BUILD_COMPLETED,includeQueuedStatus:!0}):null;d.useEffect(()=>{B(V)},[V,B]),d.useEffect(()=>{U(ee)},[ee,U]);const X=h(),ae=()=>{x.close(),b(!0),N(!0),setTimeout(()=>{j.current?.scrollIntoView({behavior:"smooth",block:"center"})},100)},me=(cn,hn,dn)=>{const Wn=u&&dn?`${window.location.origin}/share?app=${encodeURIComponent(dn)}`:void 0;x.open({deployUrl:cn,customDomain:hn,onLinkCustomDomain:u?void 0:ae,isExpoApp:u,mobileUrl:Wn,previewUrl:p})},{deployStatus:oe,latestRunStatus:pe,isLoading:se,deploymentSteps:re,currentStepIndex:ve,deploymentHistory:we,deployUrl:be,runId:Ue,deployApp:fe,isDeploying:Me,deployLogs:J,liveLogs:Ne,loadDeployLogs:ge,loadLiveLogs:Ee,shutdownDeployment:Ce,replaceDeployment:Ie,refetch:Ae,envs:Se,loadEnvironmentVariables:ht,updateEnvironmentVariables:Qe,saveEnvironmentVariables:De,rollbackWithApi:de,data:ue,customDomain:lt}=j2({jobId:s,tabId:r,silent:!1,onDeploymentSuccess:me}),st=oe==="running"||pe==="running",{customDomain:mt,isLoading:ut,registerDomain:wn,verifyDomain:Oe,unlinkDomain:_e,refetchCustomDomain:Et,fetchDnsRecordsOnly:dt}=u?{customDomain:null,isLoading:!1,registerDomain:async()=>{},verifyDomain:async()=>{},unlinkDomain:async()=>{},refetchCustomDomain:async()=>null,fetchDnsRecordsOnly:async()=>null}:tye({jobId:s,initialData:lt,isDeploymentRunning:st}),vt=ue?.app_name,Ct=u?null:Lbe({jobId:s,customDomain:mt,unlinkDomain:_e,verifyDomain:Oe,refetchCustomDomain:Et,deploymentState:{domainToUnlink:m.domainToUnlink,setDomainToUnlink:m.setDomainToUnlink},modalState:{setIsUnlinkDomainModalOpen:f.setIsUnlinkDomainModalOpen,setIsManualDomainLinkModalOpen:f.setIsManualDomainLinkModalOpen,setIsSwitchDomainModalOpen:f.setIsSwitchDomainModalOpen}}),St=u?iye({jobId:s||"",appName:vt,onBuildTriggered:()=>R("ios"),onModalClose:()=>f.setIsAppleDeveloperModalOpen(!1),setCurrentView:P}):null,ct=u?eye({jobId:s||"",appName:vt,onBuildTriggered:()=>R("android"),onModalClose:()=>f.setIsAndroidBuildModalOpen(!1),setCurrentView:P}):null,{data:Ft=[],isLoading:Fe}=UD({organization_id:X,..._===!0&&{job_id:s}},{skip:!s||F,refetchOnMountOrArgChange:!1}),He=_===!0&&Fe,{elapsedTime:Ve}=nye({jobId:s,deployStatus:oe,latestRunStatus:pe}),{isDeployDisabled:Ke,fetchDeploymentWarnings:Ye,handleDeployClick:At,handleDeployConfirm:mn,handleRedeployConfirm:Dt,handleTierChange:Yt,handleStripeKeyUpdate:fn,handleLogsClick:qt,handleLiveLogsClick:_n,handleFixWithAgent:In,getJobDetails:je,handleDeployWithImage:Le,handleRollbackClick:xt,handleSelectReplacement:Rt,handleReplaceGoBack:qe,handleConfirmReplace:it}=Mbe({jobId:s,tabId:r,agentStatus:l,appName:vt,isExpoImage:u,previewUrl:p,onShareLogs:i,handleJobClick:c,onLinkCustomDomain:ae,deployStatus:oe,deployApp:fe,selectedTierId:ue?.tier_info?.id,replaceDeployment:Ie,loadEnvironmentVariables:ht,loadDeployLogs:ge,loadLiveLogs:Ee,deployLogs:J,liveLogs:Ne,envs:Se,updateEnvironmentVariables:Qe,containsStripeKey:m.containsStripeKey,setContainsStripeKey:m.setContainsStripeKey,termsSelected:m.termsSelected,envSyncedWithProduction:m.envSyncedWithProduction,setEnvSyncedWithProduction:m.setEnvSyncedWithProduction,setRollbackTargetId:m.setRollbackTargetId,selectedReplacement:m.selectedReplacement,setSelectedReplacement:m.setSelectedReplacement,setIsDeployModalOpen:f.setIsDeployModalOpen,setIsBuildLogsModalOpen:f.setIsBuildLogsModalOpen,setIsRollbackModalOpen:f.setIsRollbackModalOpen,setIsReplaceModalOpen:f.setIsReplaceModalOpen,setIsReplaceConfirmModalOpen:f.setIsReplaceConfirmModalOpen});d.useEffect(()=>{f.isDeployModalOpen&&s&&Ye(s)},[f.isDeployModalOpen,s]),d.useEffect(()=>{f.isRedeployModalOpen&&s&&Ye(s)},[f.isRedeployModalOpen,s]),d.useEffect(()=>{oe==="success"&&!u&&Et()},[oe,Et,u]);const{shouldShowCustomDomainSection:_t,latestSuccessfulDeployment:Kt,shouldShowReplaceCard:Cn,shouldShowDeploymentHistory:On,shouldShowEnvSection:rs,shouldShowRunningFooter:Vn,shouldShowSuccessFooter:Bn,shouldShowResourcesCard:En}=Rbe({isExpoImage:u,deploymentHistory:we,latestRunStatus:pe,deployStatus:oe,availableDeployments:Ft,isLoading:se}),jn=()=>{const cn=Ft.filter(hn=>hn.id!==s);!m.selectedReplacement&&cn.length>0&&m.setSelectedReplacement(cn[0])},Un=()=>{jn(),f.setIsReplaceConfirmModalOpen(!0)},fs=()=>{jn(),f.setIsReplaceModalOpen(!0)};return t.jsx("div",{className:A("w-full h-full bg-[#0F0F10] border-l border border-[#242424]/60 max-md:inset-0 max-md:absolute z-[39]",e?"block":"hidden"),children:t.jsxs("div",{className:A("relative flex flex-col justify-between min-h-full max-h-[100%] overflow-y-scroll overflow-clip",D==="main"&&oe!=="running"&&pe!=="running"&&oe!="not_deployed"&&!se?"pb-[5rem]":""),children:[u&&D==="android-builds"?t.jsxs(t.Fragment,{children:[t.jsx(rb,{deployStatus:oe,latestRunningStatus:pe||"not_deployed",onBackClick:H,onClose:n,title:"Android Builds",icon:t.jsx(Whe,{className:"ml-2"}),showBackButton:!0,showCloseButton:!0}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:ee&&t.jsx(_S,{platform:"android",jobId:s||"",onStartNewBuild:()=>f.setIsAndroidBuildModalOpen(!0),onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:ee,onClose:P.bind(null,"main")})})]}):u&&D==="ios-builds"?t.jsxs(t.Fragment,{children:[t.jsx(rb,{deployStatus:oe,latestRunningStatus:pe||"not_deployed",onBackClick:$,onClose:n,title:"iOS Builds",icon:t.jsx(Ghe,{className:"ml-2"}),showBackButton:!0,showCloseButton:!0}),t.jsx("div",{className:"flex flex-col flex-1 h-full gap-4 p-4 sm:p-5 overflow-y-auto",children:V&&t.jsx(_S,{platform:"ios",jobId:s||"",onStartNewBuild:()=>f.setIsAppleDeveloperModalOpen(!0),onShareLogs:i,isAgentSleeping:o||l==="sleeping",buildData:V,onClose:P.bind(null,"main")})})]}):t.jsxs(t.Fragment,{children:[t.jsx(rb,{deployStatus:oe,latestRunningStatus:pe||"not_deployed",onClose:n,icon:t.jsx("img",{src:cye,alt:"Deploy",className:"w-5 h-5 md:w-6 md:h-6"}),showCloseButton:!0}),t.jsxs("div",{className:"flex flex-col flex-1 h-full gap-5 p-5 overflow-y-auto",children:[oe==="not_deployed"&&!se&&(F||He)&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("img",{src:OS,alt:"Loading...",className:"w-8 h-8"})}),oe==="not_deployed"&&!se&&!F&&!He&&t.jsxs(t.Fragment,{children:[_===!0&&Cn?t.jsx(z4e,{availableDeployments:Ft.filter(cn=>cn.id!==s),selectedDeployment:m.selectedReplacement,podIsPaused:o,onReplaceClick:Un,onChangeAppClick:fs,onNewDeploymentClick:At,jobId:s,newDeploymentCredits:y}):t.jsx(f4e,{onDeployClick:At,loading:se,localLoading:Me,podIsPaused:o,isExpoImage:u,creditsPerMonth:y}),t.jsx(jS,{onRunHealthCheck:a}),En&&I&&t.jsx(TS,{tierInfo:ue?.tier_info,tierChangeRefund:ue?.tier_change_refund,deductedAmount:ue?.deducted_amount,estimatedRefund:ue?.estimated_refund,deductionDate:ue?.deduction_date,onTierChange:Yt})]}),Cn&&_===!1&&t.jsx(V4e,{availableDeployments:Ft,podIsPaused:o,onReplaceClick:()=>f.setIsReplaceModalOpen(!0),jobId:s}),(oe==="running"||pe==="running")&&t.jsx(x4e,{deploymentSteps:re,currentStepIndex:ve,deployStatus:oe,latestRunStatus:pe,stepNameMap:aye,runningStepNameMap:oye}),On&&t.jsxs(t.Fragment,{children:[we.some(cn=>cn.status==="success")&&u&&V&&ee&&t.jsx(O4e,{deploymentHistory:we.map(cn=>({id:cn.run_id||cn.id,status:cn.status,updated_at:cn.updated_at,rollback_possible:cn.rollback_possible})),appName:vt,previewUrl:p,onAndroidBuildsClick:q,onIOSBuildsClick:Q,iosBuildData:{successfulBuilds:V.successfulBuilds,isBuilding:V.isBuilding,latestBuild:V.latestBuild},androidBuildData:ee?{successfulBuilds:ee.successfulBuilds,isBuilding:ee.isBuilding,latestBuild:ee.latestBuild}:void 0}),t.jsx(Y4e,{deploymentHistory:we.map(cn=>({id:cn.run_id||cn.id,status:cn.status,updated_at:cn.updated_at,rollback_possible:cn.rollback_possible})),jobId:s||"",handleDeploy:Le,runId:Ue,deployUrl:be,podIsPaused:o,customDomain:mt,latestRunStatus:pe,onRollbackClick:xt,formatTimeAgo:_g,handleLogsClick:qt,handleLiveLogsClick:_n,handleFixWithAgent:In,isExpoImage:u,appName:vt}),t.jsx(jS,{onRunHealthCheck:a}),En&&I&&t.jsx(TS,{tierInfo:ue?.tier_info,tierChangeRefund:ue?.tier_change_refund,deductedAmount:ue?.deducted_amount,estimatedRefund:ue?.estimated_refund,deductionDate:ue?.deduction_date,onTierChange:Yt})]}),_t&&t.jsx("div",{ref:j,children:t.jsx(t6e,{jobId:s,loading:se||ut,customDomain:mt,registerDomain:wn,verifyDomain:Oe,onOpenManualLinkModal:()=>f.setIsManualDomainLinkModalOpen(!0),onOpenManualLinkModalWithRecords:(cn,hn)=>{Ct?.setManualLinkDnsRecords(cn),Ct?.setManualLinkDomain(hn),f.setIsManualDomainLinkModalOpen(!0)},onUnlinkDomain:Ct?.handleOpenUnlinkDomainModal||(()=>{}),unlinkDomainDirect:_e,refetchCustomDomain:Et,fetchDnsRecordsOnly:dt,shouldExpandForm:g,onFormExpanded:()=>b(!1),isHighlighted:w,onHighlightComplete:()=>N(!1),onOpenSwitchDomainModal:(cn,hn,dn,Wn)=>{Ct?.openSwitchDomainModal(cn,hn,dn,Wn)}})}),rs&&t.jsx(xe.div,{className:"",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:30},children:t.jsx(qbe,{envs:Se,onSyncStatusChange:m.setEnvSyncedWithProduction,saveEnvironmentVariables:De,deployStatus:oe,jobId:s,updateEnvironmentVariables:Qe})},"env-variables-section")]})]}),t.jsx(w6e,{isOpen:f.isDeployModalOpen,onClose:()=>f.setIsDeployModalOpen(!1),onDeploy:mn,loading:se,localLoading:Me,containsStripeKey:m.containsStripeKey,termsSelected:m.termsSelected,onStripeKeyUpdate:fn,onTermsSelectedChange:m.setTermsSelected,isDeployDisabled:Ke(),jobId:s,onKnowMoreClick:()=>f.setIsCreditsInfoModalOpen(!0),useProRataRefunds:k,creditsPerMonth:y}),t.jsx(_U,{isOpen:f.isCreditsInfoModalOpen,onClose:()=>f.setIsCreditsInfoModalOpen(!1),creditsPerMonth:y,creditsPerDay:v}),t.jsx(xU,{isOpen:f.isBuildLogsModalOpen,onClose:()=>f.setIsBuildLogsModalOpen(!1),onShareLogs:cn=>{i&&i(cn)},jobId:s,deployStatus:oe,deployLogs:Ne?.live_logs?.length?Ne.live_logs:J?Object.entries(J).flatMap(([cn,hn])=>hn?hn.map(dn=>`[${cn.toUpperCase()}] ${dn}`):[]):[]}),t.jsx(K6e,{isOpen:f.isRollbackModalOpen,onClose:()=>f.setIsRollbackModalOpen(!1),deploymentHistory:we,runId:Ue,rollbackTargetId:m.rollbackTargetId,jobId:s,deployUrl:be,customDomain:mt,latestRunStatus:pe,isLoading:se,isDeploying:Me,podIsPaused:o,rollbackWithApi:de,refetch:Ae}),t.jsx(j6e,{isOpen:f.isRedeployModalOpen,onClose:()=>f.setIsRedeployModalOpen(!1),onRedeploy:Dt,deploymentHistory:we,deployUrl:be,latestRunStatus:pe,jobId:s,loading:se,localLoading:Me,containsStripeKey:m.containsStripeKey,termsSelected:m.termsSelected,onStripeKeyUpdate:fn,onTermsSelectedChange:m.setTermsSelected,isRedeployDisabled:Ke()}),k?t.jsx(k6e,{isOpen:f.isShutdownModalOpen,onClose:()=>f.setIsShutdownModalOpen(!1),onShutdown:Ce,loading:se||Me,jobId:s,deductionDate:ue?.deduction_date,deductedAmount:ue?.deducted_amount,estimatedRefund:ue?.estimated_refund}):t.jsx(N6e,{isOpen:f.isShutdownModalOpen,onClose:()=>f.setIsShutdownModalOpen(!1),onShutdown:Ce,loading:se||Me,jobId:s}),_===!0&&t.jsxs(t.Fragment,{children:[t.jsx($6e,{isOpen:f.isReplaceModalOpen,onClose:()=>f.setIsReplaceModalOpen(!1),onSelectReplacement:Rt,deployments:Ft.filter(cn=>cn.id!==s),loading:Fe,selectedDeployment:m.selectedReplacement}),t.jsx(q6e,{isOpen:f.isReplaceConfirmModalOpen,onClose:()=>f.setIsReplaceConfirmModalOpen(!1),onConfirmReplace:it,selectedDeployment:m.selectedReplacement,newAppName:ue?.app_name,loading:se||Me})]}),_===!1&&t.jsxs(t.Fragment,{children:[t.jsx(D6e,{isOpen:f.isReplaceModalOpen,onClose:()=>f.setIsReplaceModalOpen(!1),onSelectReplacement:cn=>{Rt(cn),f.setIsReplaceConfirmModalOpen(!0)},deployments:Ft.filter(cn=>cn.id!==s),loading:Fe,hoveredCard:m.replaceHoveredCard,onHoverStart:m.setReplaceHoveredCard,onHoverEnd:()=>m.setReplaceHoveredCard(null),onDeploymentClick:je}),t.jsx(U6e,{isOpen:f.isReplaceConfirmModalOpen,onClose:()=>f.setIsReplaceConfirmModalOpen(!1),onGoBack:qe,onConfirmReplace:it,selectedDeployment:m.selectedReplacement,loading:se||Me,hoveredCard:m.replaceHoveredCard,onHoverStart:m.setReplaceHoveredCard,onHoverEnd:()=>m.setReplaceHoveredCard(null),onDeploymentClick:je})]}),!u&&t.jsxs(t.Fragment,{children:[t.jsx(Q6e,{isOpen:f.isUnlinkDomainModalOpen,onClose:()=>{z("custom_domain_unlink_canceled",{jobId:s,domain:m.domainToUnlink}),f.setIsUnlinkDomainModalOpen(!1)},domainToUnlink:m.domainToUnlink,onConfirm:Ct?.confirmUnlinkDomain||(async()=>{}),isLoading:Ct?.isUnlinking||!1,isDeploying:Me}),t.jsx(Y6e,{isOpen:f.isManualDomainLinkModalOpen,onClose:Ct?.handleManualLinkClose||(async()=>{}),onConfirm:Ct?.handleManualLinkConfirm||(async()=>{}),dns_records:(Ct?.manualLinkDnsRecords?.length??0)>0?Ct?.manualLinkDnsRecords||[]:mt?.dns_records||[],domain:Ct?.manualLinkDomain||mt?.domain||"",loading:se||ut,jobId:s}),t.jsx(X6e,{isOpen:f.isSwitchDomainModalOpen,onClose:()=>f.setIsSwitchDomainModalOpen(!1),domain:Ct?.domainToSwitchRef.current||"",sourceAppName:Ct?.linkedAppNameRef.current||"",targetAppName:vt,linkedJobId:Ct?.linkedJobIdRef.current||"",handleJobClick:c,handleSwitchDomainClick:Ct?.handleSwitchDomainClickRef.current||(async()=>{}),jobId:s})]}),u&&St&&t.jsx(_be,{isOpen:f.isAppleDeveloperModalOpen,onClose:()=>{f.setIsAppleDeveloperModalOpen(!1),St.reset()},onCredentialsSubmit:St.handleCredentialsSubmit,onBuildDetailsContinue:St.handleBuildDetailsContinue,onAuthMethodContinue:St.handleAuthMethodContinue,onOTPSubmit:St.handleOTPSubmit,onTriggerBuild:St.handleTriggerBuild,onResendOTP:St.handleResendOTP,isLoading:St.isSubmitting,error:St.error,bundleIdentifier:St.bundleIdentifier,jobId:s||"",onClearError:St.clearError}),u&&ct&&t.jsx(Ebe,{isOpen:f.isAndroidBuildModalOpen,onClose:()=>{f.setIsAndroidBuildModalOpen(!1),ct.clearError()},onBuildSubmit:ct.handleBuildSubmit,isLoading:ct.isSubmitting,error:ct.error,jobId:s||"",onClearError:ct.clearError,packageName:ct.packageName}),Vn&&D==="main"&&t.jsxs("div",{className:"absolute bottom-0 md:min-h-[96px] max-h-[96px] left-0 right-0 bg-[#111112] border-t border-[#242424] md:px-8 p-3 md:py-9 flex items-center justify-start w-full",children:[t.jsx("img",{src:OS,alt:"Deploy Time",className:"w-6 h-6 mr-2 grayscale"}),t.jsxs("span",{className:"text-[#FFFFFF] text-[14px] md:text-[16px] opacity-50",children:["Deployment started ",Ve," ago..."]})]}),Bn&&D==="main"&&t.jsxs(T4e,{className:"absolute bottom-0 left-0 right-0 flex items-center justify-between w-full",showEnvWarning:!m.envSyncedWithProduction,children:[t.jsxs("div",{className:"items-center gap-3 text-[#737780] hidden md:flex text-sm md:max-w-[250px] font-medium",children:[t.jsx("img",{src:lye,alt:"Deploy Time",className:"w-8 h-8"}),t.jsx("span",{className:"text-[12px] md:text-[14px] font-['Inter']",children:"Deployment usually takes around 5-7 mins."})]}),t.jsx(w4e,{isLoading:se,isDeploying:Me,podIsPaused:o,latestSuccessfulDeployment:Kt,onShutdown:()=>f.setIsShutdownModalOpen(!0),onRedeploy:()=>f.setIsRedeployModalOpen(!0),onDeploy:At,jobId:s,isBuildRunning:V?.isBuilding})]})]})})};function uye(e={}){const{jobId:n,containerId:s,agentName:r,modelName:i,organizationId:a,createdBy:o,onFocusChange:l,onFocusLost:c,onFocusGained:u,enabled:p=!0}=e,[f,m]=d.useState(()=>typeof window<"u"?document.hasFocus():!0),[h,x]=d.useState(()=>typeof document<"u"?document.visibilityState==="visible":!0),y=f&&h,v=d.useRef(y),g=d.useCallback(()=>({jobId:n,containerId:s,agentName:r,modelName:i,organizationId:a,createdBy:o,timestamp:new Date().toISOString()}),[n,s,r,i,a,o]);return d.useEffect(()=>{if(!p||y===v.current)return;const b=g(),w={jobId:b.jobId,containerId:b.containerId,agentName:b.agentName,modelName:b.modelName,organizationId:b.organizationId,createdBy:b.createdBy,sessionTimestamp:b.timestamp,windowFocused:f,documentVisible:h};j_("focus_changed",{...w,focusState:y?"gained":"lost",previousFocusState:v.current}),j_(y?"focus_gained":"focus_lost",w),l?.(y,b),y?u?.(b):c?.(b),v.current=y},[y,p,l,u,c,g,f,h]),d.useEffect(()=>{if(!p||typeof window>"u")return;const b=()=>m(!0),w=()=>m(!1),N=()=>x(document.visibilityState==="visible");return window.addEventListener("focus",b),window.addEventListener("blur",w),document.addEventListener("visibilitychange",N),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",w),document.removeEventListener("visibilitychange",N)}},[p]),{isFocused:y,isWindowFocused:f,isDocumentVisible:h}}function pye({user:e,jobDetails:n,tier:s,aiMessages:r,enabled:i=!0}){d.useEffect(()=>{!i||!e?.id||See(e.id)},[e?.id,i]),d.useEffect(()=>{if(!i||!r.length||!e?.id)return;const a=r[r.length-1];if(!a)return;const o={user_id:e.id,user_email:e.email,job_id:n?.job_id,user_id_ends:e?.id?.slice(-1),tier:s};(a.function_name==="default_tool"||a.function_name==="ask_human")&&rf(sf.ASK_HUMAN,o),(a.action?.includes("bulk_file")||a.function_name?.includes("bulk_file"))&&rf(sf.BULK_WRITE,o),a.action==="finish"&&rf(sf.FINISH_TOOL,o),a.action==="deployment_initiated"&&rf(sf.DEPLOYMENT_INITIATED,o)},[r,e,n,s,i])}function fye({size:e=16,color:n="black",strokeWidth:s=1.33333,className:r=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M13.332 2H2.66536C1.92898 2 1.33203 2.59695 1.33203 3.33333V10C1.33203 10.7364 1.92898 11.3333 2.66536 11.3333H13.332C14.0684 11.3333 14.6654 10.7364 14.6654 10V3.33333C14.6654 2.59695 14.0684 2 13.332 2Z",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M5.33203 14H10.6654",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 11.3359V14.0026",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})}function mye({size:e=16,color:n="white",strokeWidth:s=1.33333,className:r=""}){return t.jsxs("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("path",{d:"M11.332 1.33594H4.66536C3.92898 1.33594 3.33203 1.93289 3.33203 2.66927V13.3359C3.33203 14.0723 3.92898 14.6693 4.66536 14.6693H11.332C12.0684 14.6693 12.6654 14.0723 12.6654 13.3359V2.66927C12.6654 1.93289 12.0684 1.33594 11.332 1.33594Z",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M8 12H8.00667",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})}const $8=({width:e=16,height:n=16,fill:s="currentColor",className:r})=>t.jsx("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:t.jsx("path",{d:"M12.7988 1.59766C14.1242 1.59766 15.199 2.67274 15.1992 3.99805V11.998C15.1992 13.3235 14.1243 14.3984 12.7988 14.3984H3.19922C1.87383 14.3983 0.798828 13.3235 0.798828 11.998V3.99805C0.799039 2.67281 1.87396 1.59776 3.19922 1.59766H12.7988ZM2.39941 11.998C2.39941 12.4398 2.75748 12.7977 3.19922 12.7979H12.7988C13.2407 12.7979 13.5986 12.4399 13.5986 11.998V6.39844H2.39941V11.998ZM3.2002 3.20117C2.75837 3.20117 2.40039 3.55915 2.40039 4.00098C2.4005 4.44271 2.75843 4.80078 3.2002 4.80078C3.64169 4.80046 3.99989 4.44252 4 4.00098C4 3.55934 3.64175 3.20149 3.2002 3.20117ZM5.59961 3.20117C5.15796 3.20138 4.7998 3.55928 4.7998 4.00098C4.79991 4.44258 5.15803 4.80057 5.59961 4.80078C6.04119 4.80057 6.40028 4.44258 6.40039 4.00098C6.40039 3.55928 6.04126 3.20138 5.59961 3.20117ZM8 3.20117C7.55817 3.20117 7.2002 3.55915 7.2002 4.00098C7.2003 4.44271 7.55824 4.80078 8 4.80078C8.44158 4.80057 8.7997 4.44258 8.7998 4.00098C8.7998 3.55928 8.44165 3.20138 8 3.20117Z",fill:s})}),hye=({size:e=16,opacity:n=.4,className:s})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("g",{opacity:n,children:t.jsx("path",{d:"M7.37945 14.3834C7.37945 12.2441 6.90638 10.8458 6.03228 9.97163C5.15815 9.0975 3.75985 8.62445 1.62055 8.62445C1.27776 8.62445 1.00002 8.34669 1 8.00391C1 7.704 1.2126 7.45402 1.49538 7.39609L1.62055 7.38336L2.01303 7.37805C3.93264 7.32295 5.21278 6.85568 6.03228 6.03618C6.9064 5.16206 7.37945 3.76376 7.37945 1.62445C7.37945 1.28165 7.6572 1.00391 8 1.00391C8.34278 1.00394 8.62055 1.28167 8.62055 1.62445C8.62055 3.76376 9.09359 5.16206 9.96772 6.03618C10.8419 6.91028 12.2401 7.38336 14.3795 7.38336C14.7222 7.38338 15 7.66111 15 8.00391C15 8.34668 14.7222 8.62444 14.3795 8.62445C12.2401 8.62445 10.8419 9.09751 9.96772 9.97163C9.14821 10.7911 8.68095 12.0712 8.62585 13.9909L8.62055 14.3834L8.60782 14.5085C8.54988 14.7913 8.29987 15.0039 8 15.0039C7.65722 15.0039 7.37949 14.7261 7.37945 14.3834ZM7.99894 5.26925C7.73172 5.90008 7.37432 6.45077 6.91059 6.9145C6.44687 7.37823 5.89617 7.73562 5.26534 8.00285C5.89648 8.2701 6.44669 8.6294 6.91059 9.09331C7.37409 9.55683 7.73176 10.107 7.99894 10.7375C8.26616 10.1067 8.62571 9.55701 9.08941 9.09331C9.55311 8.62961 10.1028 8.27006 10.7336 8.00285C10.1031 7.73567 9.55292 7.378 9.08941 6.9145C8.6255 6.45059 8.26619 5.90039 7.99894 5.26925Z",fill:"white"})})}),xye=({width:e=39,height:n=16,color:s="#9E99FF",className:r})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 39 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[t.jsx("g",{clipPath:"url(#clip0_7757_77949)",children:t.jsx("path",{d:"M38.2804 8.23028C38.2804 5.50811 36.9618 3.36015 34.4417 3.36015C31.9109 3.36015 30.3797 5.50819 30.3797 8.20905C30.3797 11.4096 32.1874 13.0259 34.7819 13.0259C36.0473 13.0259 37.0043 12.7388 37.7274 12.3348V10.2081C37.0044 10.5696 36.175 10.793 35.1222 10.793C34.0908 10.793 33.1763 10.4314 33.0594 9.17667H38.2591C38.2591 9.03835 38.2804 8.48546 38.2804 8.23028ZM33.0274 7.22011C33.0274 6.01854 33.7612 5.51873 34.4311 5.51873C35.0797 5.51873 35.7709 6.01854 35.7709 7.22011H33.0274ZM26.2753 3.36015C25.2331 3.36015 24.5632 3.84927 24.1911 4.18961L24.0528 3.53032H21.7135V15.9288L24.3718 15.3653L24.3825 12.356C24.7653 12.6325 25.3288 13.0259 26.2646 13.0259C28.168 13.0259 29.9012 11.4947 29.9012 8.12396C29.8906 5.04022 28.1361 3.36015 26.2752 3.36015M25.6372 10.6866C25.0098 10.6866 24.6375 10.4633 24.3824 10.1868L24.3717 6.24179C24.6482 5.93346 25.031 5.72082 25.6372 5.72082C26.6048 5.72082 27.2747 6.80538 27.2747 8.19835C27.2747 9.62325 26.6154 10.6866 25.6372 10.6866ZM18.0555 2.73278L20.7246 2.15858V0L18.0555 0.563589V2.73278ZM18.0555 3.54093H20.7246V12.8452H18.0555V3.54093ZM15.1952 4.32778L15.025 3.54093H12.7282V12.8452H15.3866V6.53959C16.0139 5.72082 17.0773 5.86968 17.407 5.98662V3.54093C17.0667 3.41331 15.8226 3.17936 15.1952 4.32778ZM9.87843 1.2335L7.28389 1.78639L7.27327 10.3038C7.27327 11.8776 8.45361 13.0366 10.0274 13.0366C10.8993 13.0366 11.5373 12.8771 11.8881 12.6857V10.5271C11.548 10.6653 9.86781 11.1545 9.86781 9.58071V5.80583H11.8881V3.54093H9.86781L9.87843 1.2335ZM2.69024 6.24179C2.69024 5.82714 3.0305 5.66759 3.59417 5.66759C4.40224 5.66759 5.42303 5.91222 6.23118 6.34819V3.84927C5.34864 3.49839 4.47671 3.36015 3.59417 3.36015C1.43551 3.36015 0 4.48733 0 6.3695C0 9.30422 4.04067 8.83641 4.04067 10.1018C4.04067 10.5909 3.6154 10.7504 3.01989 10.7504C2.13735 10.7504 1.01017 10.3889 0.116935 9.89974V12.4305C1.10587 12.8558 2.10542 13.0366 3.01989 13.0366C5.23163 13.0366 6.75222 11.9414 6.75222 10.038C6.74161 6.86923 2.69024 7.43275 2.69024 6.24179Z",fill:s})}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_7757_77949",children:t.jsx("rect",{width:"38.2804",height:"16",fill:"white"})})})]}),gye=({width:e=16,height:n=16,color:s="#635BFF",backgroundColor:r="white",className:i})=>t.jsxs("svg",{width:e,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:[t.jsxs("g",{clipPath:"url(#clip0_7757_77947)",children:[t.jsx("rect",{width:"16",height:"16",rx:"2",fill:r}),t.jsx("path",{d:"M2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0ZM8.226 5.385C7.642 5.385 7.289 5.549 7.289 5.978C7.289 6.446 7.896 6.652 8.649 6.908C9.877 7.323 11.493 7.871 11.5 9.901C11.5 11.868 9.924 13 7.63 13C6.59512 12.9957 5.57174 12.7828 4.621 12.374V9.758C5.547 10.264 6.716 10.638 7.631 10.638C8.248 10.638 8.689 10.473 8.689 9.967C8.689 9.449 8.031 9.212 7.236 8.926C6.026 8.49 4.5 7.94 4.5 6.11C4.5 4.165 5.988 3 8.226 3C9.16127 2.99163 10.0894 3.16308 10.96 3.505V6.088C10.122 5.638 9.064 5.385 8.226 5.385Z",fill:s})]}),t.jsx("defs",{children:t.jsx("clipPath",{id:"clip0_7757_77947",children:t.jsx("rect",{width:"16",height:"16",rx:"2",fill:"white"})})})]}),FU=({highlights:e})=>e&&(e.auth_prebuilt||e.stripe_enabled||e.ai_integrated)?t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(hye,{}),t.jsx("span",{className:"text-[14px] font-medium",children:"Highlights"})]}),t.jsxs("div",{className:"flex flex-col gap-2",children:[e.auth_prebuilt&&t.jsxs("div",{className:"bg-[#80FFF91A] border w-fit border-[#80FFF91F] px-[10px] py-[6px] flex items-center rounded-[8px] gap-1",children:[t.jsx(ca,{size:16,opacity:1,color:"#80FFF9"}),t.jsx("span",{className:"text-[#80FFF9] font-inter text-[14px]",children:"Auth pre-built"})]}),e.stripe_enabled&&t.jsxs("div",{className:"bg-[#635BFF1A] border w-fit border-[#9E99FF1F] px-[10px] py-[6px] flex items-center rounded-[8px] gap-1",children:[t.jsx(gye,{}),t.jsx(xye,{}),t.jsx("span",{className:"text-[#9E99FF] font-inter text-[14px]",children:"enabled"})]}),e.ai_integrated&&t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("div",{className:"w-fit px-[10px] py-[6px] flex items-center rounded-[8px] gap-2",children:[t.jsx("img",{src:W.showcase.aiIncluded,alt:"AI Included Icons"}),t.jsx("img",{src:W.showcase.aiIncludedText,alt:"AI Included Text"})]})})]})]}):null,bye=e=>{if(!e)return"No description available";if(e.startsWith("<analysis>")){const n=e.match(/<analysis>([\s\S]*?)<\/analysis>/);return n?n[1].trim():e}return e},yye=({isOpen:e,onOpenChange:n,showcaseDetails:s})=>t.jsx(la,{trigger:t.jsx("div",{}),open:e,onOpenChange:n,maxWidth:"max-w-full",showDefaultFooter:!1,contentPadding:"",handleColor:"bg-[#fff]/10",children:t.jsxs("div",{className:"max-h-[70vh] pb-4 overflow-y-auto bg-[#111112] rounded-t-[24px]",children:[t.jsxs("div",{className:"flex items-center sticky z-[100] top-0 justify-center w-full py-4 border-b border-[#242424] bg-[#111112]",children:[t.jsx("span",{className:"font-medium text-[18px]",children:"Template Info"}),t.jsx("button",{type:"button",title:"Close",onClick:()=>n(!1),className:"absolute flex items-center justify-center w-8 h-8 p-1 rounded-full top-3 right-4 bg-white/5 hover:bg-white/10",children:t.jsx(Pt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex flex-col p-4 gap-7",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("span",{className:"text-[14px] font-semibold font-inter",children:"Description"}),t.jsx("span",{className:"text-[#FFFFFF]/40 font-inter text-[14px] font-medium leading-relaxed",children:bye(s?.details?.description)})]}),s?.details?.pages_included&&s.details.pages_included.length>0&&t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($8,{}),t.jsx("span",{className:"text-[14px] font-medium",children:"Pages included"})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.details.pages_included.map((r,i)=>t.jsx("div",{className:"bg-[#18181A] px-3 py-1 rounded-[8px] font-inter font-medium text-[14px] text-white/40 border border-[#FFFFFF0F]",children:r},i))})]}),t.jsx(FU,{highlights:s?.details?.highlights})]})]})});function vye({width:e=20,height:n=20,className:s="",fill:r="#A1A1B3",hoverColor:i,isHovered:a}){const[o,l]=d.useState(!1),u=(a!==void 0?a:o)&&i?i:r;return t.jsx("svg",{width:e,height:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,onMouseEnter:()=>i&&l(!0),onMouseLeave:()=>i&&l(!1),style:{transition:"fill 0.2s ease"},children:t.jsx("path",{d:"M6.43188 5.13649C6.43193 4.83302 6.5525 4.54199 6.76709 4.3274C6.98168 4.11281 7.27271 3.99223 7.57619 3.99219L14.8596 3.99219C15.1631 3.99223 15.4541 4.11281 15.6687 4.3274C15.8833 4.54199 16.0039 4.83302 16.0039 5.13649V12.4199C15.9987 12.72 15.8758 13.0059 15.6618 13.2163C15.4478 13.4266 15.1597 13.5445 14.8596 13.5445C14.5595 13.5445 14.2714 13.4266 14.0574 13.2163C13.8434 13.0059 13.7205 12.72 13.7153 12.4199L13.6457 7.96893L5.95765 15.657C5.74302 15.8716 5.45192 15.9922 5.14838 15.9922C4.84485 15.9922 4.55375 15.8716 4.33912 15.657C4.12448 15.4423 4.00391 15.1512 4.00391 14.8477C4.00391 14.5442 4.12448 14.2531 4.33912 14.0384L12.0272 6.35039L7.57619 6.2808C7.27271 6.28075 6.98168 6.16018 6.76709 5.94559C6.5525 5.731 6.43193 5.43997 6.43188 5.13649Z",fill:u,style:{transition:"fill 0.2s ease"}})})}const wye=W.common.send,Cye=d.memo(({agentStatus:e,rollbackStatus:n,text:s})=>t.jsxs("div",{className:"mt-4",children:[e&&t.jsxs(t.Fragment,{children:[t.jsx(mg,{text:s}),t.jsx("div",{className:"h-32"})]}),n==="FAILED"?t.jsx(Gxe,{}):null]})),_ye=e=>{if(!e)return"No description available";if(e.startsWith("<analysis>")){const n=e.match(/<analysis>([\s\S]*?)<\/analysis>/);return n?n[1].trim():e}return e},jye=(e,n)=>{if(!e||!n)return e===n;if(e.length!==n.length)return!1;if(e.length===0&&n.length===0)return!0;const s=e[e.length-1],r=n[n.length-1];if(!s||!r)return e.length===n.length;if(s.request_id!==r.request_id||s.step!==r.step||s.action!==r.action)return!1;const i=s.subagent_trajectory?.length||0,a=r.subagent_trajectory?.length||0;return!(i!==a||s.subagent_status!==r.subagent_status||s.fork_status!==r.fork_status||s.forked_job_id!==r.forked_job_id)},Nye={isInitialized:!1,isJobPolling:!1,jobDetails:void 0,trajectory:[],lastProcessedStep:-1,taskState:null},Fye=(e,n)=>!e||!n?e===n:e.agent_running===n.agent_running&&e.job_running===n.job_running&&e.agent_status_new===n.agent_status_new&&e.chat_mode===n.chat_mode&&e.pod_state_display===n.pod_state_display&&e.pod_state_hitl===n.pod_state_hitl&&e.show_upgrade===n.show_upgrade;function Eye({tabId:e}){const{t:n}=Jt("home"),s=wi(),r=Na(),[i]=Sp(),{getTabState:a,updateTabState:o,clearPendingMessage:l,setPendingMessage:c,removeTab:u,activeTab:p,setTabs:f,setActiveTab:m,getTabByJobId:h,getAllTabs:x}=qr(),[y,v]=d.useState(!1),{members:g}=TB(),b=a(e),{toast:w}=ds(),N=ah(),{session:j,user:_}=xs(),{showLogsPanel:C,showSubagentPanel:F,showUrlPreviewPanel:E,showInfoPanel:S,showDeployPanel:M,panelState:k,togglePanel:I,closeAllPanels:D}=D8(),{credits:P,tier:R,isTrulyFreeUser:B}=cs(),{restrictedFree:U}=ni(),{getCurrentOrganizationId:H,isOrganizationWorkspace:$}=ys(),q=iee(),Q=wee(),{data:V}=Ri(void 0,{skip:!_}),{data:ee=[]}=cQ({organization_id:H()}),X=d.useRef(null),ae=d.useRef(new Date().toISOString()),[me,oe]=d.useState(!1),[pe,se]=d.useState(!1),[re,ve]=d.useState(!1),[we,be]=d.useState(null),[Ue,fe]=d.useState(null),[Me,J]=d.useState(null),[Ne,ge]=d.useState(!1),[Ee,Ce]=d.useState(!1),[Ie,Ae]=d.useState(!1),[Se,ht]=d.useState(!0),[Qe,De]=d.useState([]),[de,ue]=d.useState(),[lt,st]=d.useState(),[mt,ut]=d.useState(),[wn,Oe]=d.useState(),[_e,Et]=d.useState(),[dt,vt]=d.useState(),[Ct,St]=d.useState(!1),[ct,Ft]=d.useState("increase_budget"),[Fe,He]=d.useState("default"),[Ve,Ke]=d.useState(!1),[Ye,At]=d.useState(!1),[mn,Dt]=d.useState(null),[Yt,fn]=d.useState(!0),[qt,_n]=d.useState(!1),In=d.useRef(null),Le=x().find(Y=>Y.id===e)?.tabType==="ShowCasePreview";p!==e&&Ye&&(At(!1),Dt(null));const[xt,Rt]=d.useState(null),[qe,it]=d.useState({fork:!1,visualEdits:!1,unsavedChanges:!1}),[_t,Kt]=d.useState({onConfirm:()=>{}}),[Cn,On]=d.useState(!1),[rs,Vn]=d.useState([]),[Bn,En]=d.useState(!1),[jn,Un]=d.useState(null),[fs,cn]=d.useState(null),[hn,dn]=d.useState(null),[Wn,Ln]=d.useState(!1),[Cs,Vs]=d.useState(!0),[zt,is]=d.useState(!1),[$e,Be]=d.useState([]),[Te,pt]=d.useState(null),[Xt,Hn]=d.useState(!1),[An,en]=d.useState(null),Zn=d.useRef([]),[Ot,Jn]=d.useState(null),[Pn,Gs]=d.useState(null),[Gn,Bs]=d.useState(Ot?.agent_running===!1||Ot?.agent_status_new!=="running"||!Pn?.content),vs=d.useRef(null),[sr,he]=d.useState(!1),[et,jt]=d.useState(),[tn,ls]=d.useState("SUCCESS"),[us,Xn]=d.useState(!0),[Yn,ss]=d.useState(!1),[ms,ar]=d.useState(!1),[Fs,Ge]=d.useState(null),te=Xo(),ie=$x(),ze=o9(),[Ht,Pe]=d.useState(b?.jobsLength===0),[Mt,Tt]=d.useState("stopped"),[ft,$n]=d.useState(null),[Ns,si]=d.useState("desktop"),[Ms,ui]=d.useState(!0),an=b?.containerId||s.state?.containerId,Pi=b?.task||s.state?.task,wr=b?.initial_preceived_msg||s.state?.initial_preceived_msg,ye=b?.jobId||s.state?.jobId||i.get("id"),at=b?.trajPath||s.state?.trajPath,Qn=b?.initial_commit_id,Nn=b?.isCloudFlow,ks=b?.clientRefId,[qs,ur]=d.useState(!1),[pi,ne]=d.useState(!1),[Re]=MD(),[bt,{error:Bt}]=_Q(),{isMobile:Ze}=ps(),as=Qi(),{isPanelMobileView:hr}=RR(),[Oi,Qs]=d.useState(!1),[Sa,Va]=d.useState(!1),ke=b?.modelName,{vscodeUrl:rt,vscodePassword:Ut,showVSCodeDialog:Wt,setVSCodeUrl:K,setVSCodePassword:L,setShowVSCodeDialog:T,handleVSCodeLink:O,handleOpenVSCodeUrl:G}=_xe({isCloudFlow:Nn}),{previewUrl:ce,shareableUrl:We,refresh:gt,isLoading:Nt}=jxe({jobId:p===e?ye:void 0,containerId:p===e?an:void 0,isCloudFlow:Nn,onVSCodeUrlChange:K,onVSCodePasswordChange:L,autoFetch:!Le}),{deploymentHistory:Qt}=j2({jobId:ye,tabId:e||ye||"",enabled:!!ye&&!Le}),{modifiedFiles:Dn,showDiffModal:_s,setShowDiffModal:Ks,handleShowDiff:Sr}=Nxe({containerId:an,jobId:ye,isCloudFlow:Nn,initialCommitId:Qn}),[Si]=Gm(),{config:lr}=yc(),[pr,Ml]=d.useState(null),Ac=d.useCallback(Y=>Y.container?.containers?.[an]||Nye,[an]),fi=br(Ac,ec),Zp=d.useCallback(Y=>Rv(Y,e),[e]),Ys=br(Zp,ec),[kt,Dc]=d.useState({job_id:ye||"",traj_path:at||"",initial_commit_id:Qn,createdBy:b?.created_by,createdAt:b?.createdAt,forked:{parent_job_id:b?.forked?.parent_job_id,parent_job_title:b?.forked?.parent_job_title},asset_upload_enabled:b?.asset_upload_enabled||!1,modelName:b?.modelName,promptName:b?.promptName,user_prompt_id:b?.user_prompt_id,promptVersion:b?.promptVersion,costLimit:b?.costLimit,agentName:b?.agentName,dynamic_preview_subdomain:b?.dynamic_preview_subdomain,env_image:b?.env_image,isPublished:b?.isPublished||!1,machineType:b?.machineType,organization_id:b?.organization_id||null,testMode:b?.testMode||!1}),{budgetInfo:er,fetchBudgetInfo:jo}=nB({jobId:ye,initialFetch:!0}),xr=d.useRef(null),nu=()=>{Pe(!1)};d.useEffect(()=>{s.state?.containerId&&(!b?.containerId||b.containerId!==s.state.containerId)&&o(e,{...s.state,isActive:!0,podIsPaused:Gn})},[s.state,b?.containerId,e,o,Gn]),d.useEffect(()=>{b?.isPerceivedUX||ye&&(an&&!fi.isInitialized&&(N(oq(an)),N(lq({containerId:an,isInitialized:!0})),N(dq({tabId:e,containerId:an})),N(uq(e))),an&&ye&&at&&N(cC({containerId:an,details:{job_id:ye,traj_path:at,initial_commit_id:Qn}})))},[an,ye,at,Qn,fi.isInitialized,N,b?.isPerceivedUX]);const Bi=d.useCallback((Y,le)=>_?Y===_.id?!0:le?(V?.organizations||[]).some(Sn=>Sn.organization_id===le):!1:!1,[_,V?.organizations]),mi=d.useCallback(async()=>{if(ye&&!b.showcaseId){ht(!0);try{const Y=await Si(ye);if("error"in Y)throw new Error("Failed to fetch job details");const le=Y.data;if(!le)throw new Error("No job data received");const Je=a(e)||{},It=le.payload?.dynamic_preview_subdomain&&le.title?le.title:Je.tabHeading,Sn={...Je,containerId:le.payload.container_id||le.id,initial_commit_id:le.payload.initial_commit_id,task:le.payload?.original_task||le.payload.task,jobId:le.id,trajPath:at,tabId:e,fromJobList:!0,isCloudFlow:le.payload?.is_cloud,clientRefId:le.client_ref_id,modelName:le.payload.model_name,promptName:le.payload.prompt_name,promptVersion:le.payload.prompt_version,costLimit:le.payload.per_instance_cost_limit,agentName:le.payload.agent_name,portMapping:le.payload.portMapping,created_by:le.created_by,podIsPaused:Gn,base64_image_list:le.payload.base64_image_list,dynamic_preview_subdomain:le.payload.dynamic_preview_subdomain,env_image:le.payload.env_image,isPublished:le.payload.is_persisted,machineType:le.payload.machine_type,organization_id:le.payload.organization_id,createdAt:le.created_at,isRemix:le.payload.is_showcase_remix};Dc({job_id:ye,traj_path:at,initial_commit_id:Qn,createdBy:le.created_by,forked:le.payload.forked,modelName:le.payload.model_name,promptName:le.payload.prompt_name,user_prompt_id:le.payload.user_prompt_id,promptVersion:le.payload.prompt_version,costLimit:le.payload.per_instance_cost_limit,agentName:le.payload.agent_name,dynamic_preview_subdomain:le.payload.dynamic_preview_subdomain,createdAt:le.created_at,asset_upload_enabled:le.payload.asset_upload_enabled,env_image:le.payload.env_image,isPublished:le.payload.is_persisted||!1,machineType:le.payload.machine_type,organization_id:le.payload.organization_id||null,testMode:le.payload.testMode||!1,enable_visual_edit:le.payload.enable_visual_edit,is_showcase_remix:le.payload.is_showcase_remix,showcase:le.payload.showcase,deploy_url:le.payload.deploy_url,initial_preceived_msg:le.payload.initial_preceived_msg}),be(le.payload.source_repo),J(le.payload.target_repo);const ws=H(),fr=le.payload?.organization_id,gr=fr?"organization":"user",Ui=fr||ws;o(e,Sn),f(da=>da.map(Mr=>Mr.id===e?{...Mr,title:le.payload?.original_task||le.payload.task,level:gr,organization_id:Ui,state:Sn,tabHeading:It}:Mr)),Je.showCase&&I({panelName:"showUrlPreviewPanel",value:!0}),ht(!1)}catch(Y){Fd(Y instanceof Error?Y:String(Y),{jobId:ye,containerId:an,context:"fetch_job_details"}),w({title:"Error fetching task details",description:"Please try again later",variant:"destructive"}),u(e),ht(!1)}}},[ye,at,e,Gn,Qn,an,o,f,w,u,Si]),{isPublishing:bh,isPublished:yh,publishApp:vh}=F2({jobId:ye,onPublishSuccess:mi}),Hr=d.useMemo(()=>Le?b?.showcasePreviewUrl||pr?.preview_url:ce,[Le,b?.showcasePreviewUrl,pr?.preview_url,ce]),U2=d.useCallback(()=>pr?.new_tab_url||Hr,[pr?.new_tab_url,Hr]);d.useEffect(()=>{fn(!0)},[Hr]),d.useEffect(()=>{if(!Le)return;const Y=()=>{const Je=U2();Je&&window.open(Je,"_blank","noopener,noreferrer")},le=()=>{fn(!0),document.querySelectorAll('iframe[title="Remix Preview"]').forEach(It=>{const Sn=It.src,ws=new URL(Sn);ws.searchParams.set("_t",Date.now().toString()),It.src=ws.toString()})};return window.addEventListener("openShowcaseInNewTab",Y),window.addEventListener("refreshShowcaseIframe",le),()=>{window.removeEventListener("openShowcaseInNewTab",Y),window.removeEventListener("refreshShowcaseIframe",le)}},[Le,U2]);const $V=d.useMemo(()=>e===p&&b?.isActive!==!1&&!Le&&!!an,[e,p,b?.isActive,an,Le]),{resetPolling:zV}=Xme({isCloudFlow:Nn,containerId:an,jobId:ye,trajPath:at,isActive:$V,onCurrentChunkResult:Y=>{if(Y===""){Ge(null);return}if(Y&&Y.chunk&&Y.chunk.request_id&&wt?.some(Je=>Je.id===Y.chunk.request_id||Je.request_id===Y.chunk.request_id||Je.content===Y.chunk.data?.thought&&Je.action===Y.chunk.data?.tool_name)){Ge(null);return}Ge(Y)},onJobDetailsResult:Y=>{!an||!Y||N(cC({containerId:an,details:Y}))},onTrajectoryResult:async Y=>{if(an&&!jye(Zn.current,Y)&&(Zn.current=Y,N(cq({containerId:an,trajectory:Y})),Y&&Y.length>0)){const le=[...Y].sort((Sn,ws)=>Sn.timestamp&&ws.timestamp?new Date(Sn.timestamp).getTime()-new Date(ws.timestamp).getTime():Sn.step_num!==void 0&&ws.step_num!==void 0?Sn.step_num-ws.step_num:0),It=le[le.length-1]?.traj_payload?.finished===!0;Ae(It)}},onAgentStateResult:Y=>{if(!Fye(vs.current,Y)){vs.current=Y,Jn(Y);const le=Y.agent_running!==Ot?.agent_running,Je=Y.job_running!==Ot?.job_running,It=Ot?.agent_status_new==="paused"&&Y.agent_status_new!=="paused";(le||Je||It)&&ss(!1);const Sn=Y.agent_status_new==="archived",ws=Y.agent_status_new==="recovering",fr=Y.agent_status_new==="paused"||Sn||ws;se(Sn),Bs(fr),ve(ws)}},onBrainStormingResult:Y=>{$n(le=>le===Y.chat_mode?le:Y.chat_mode)},onError:()=>{}}),WV=Y=>{z("info_panel_visibility_changed",{jobId:ye,containerId:an,isVisible:Y,tabId:e}),I({panelName:"showInfoPanel",value:Y})},wh=d.useCallback(async()=>{if(U){z("free_user_deploy_attempted",{source:"chat_header",jobId:ye}),Va(!0);return}await mi(),I({panelName:"showDeployPanel",value:!0}),ts("deploy_panel_toggle",{jobId:ye,containerId:an,isVisible:!M,tabId:e});const Y=Qt?.some(le=>le.status==="success");z(Y?cr.CHAT_HEADER_REDEPLOY_CLICKED:cr.CHAT_HEADER_DEPLOY_CLICKED,{jobId:ye,containerId:an,tabId:e})},[mi,I,M,ye,an,e,Qt,U]),sw=d.useCallback(Y=>{if(!Y.payload.task)return;const le=Y.payload.container_id||Y.id;if(!le)return;const Je=h(Y.id);if(Je){m(Je.id);return}const It=Y.id,Sn=H(),ws=Y.organization_id||Y.payload?.organization_id,fr=ws?"organization":"user",gr=ws||Sn,Ui=Y.organization_name||Y.payload?.organization_name,da=Sn?`/workspace/${Sn}/chat`:"/chat",Mr={jobId:Y.id,containerId:le,task:Y.payload?.original_task||Y.payload.task,trajPath:Y.traj_path,initial_commit_id:Y.initial_commit_id,isCloudFlow:Y.payload.is_cloud_flow||!1,clientRefId:Y.payload.client_ref_id,modelName:Y.payload.model_name,promptName:Y.payload.prompt_name,promptVersion:Y.payload.prompt_version,costLimit:Y.payload.per_instance_cost_limit,agentName:Y.payload.agent_name,portMapping:Y.payload.portMapping,created_by:Y.created_by,createdAt:Y.created_at,isActive:!0,dynamic_preview_subdomain:Y.payload.dynamic_preview_subdomain,isRemix:Y.payload?.isRemix},tl=Y.payload.dynamic_preview_subdomain&&Y.title?Y.title:Mr?.task||"Untitled";f(eo=>[...eo,{id:It,title:`${Y.payload.task}`,path:da,level:fr,organization_id:gr,organization_name:Ui,state:Mr,tabHeading:tl}]),o(It,Mr),m(It),r(`${da}?id=${Y.id}`)},[h,m,f,o,r]),{handleRemixClick:rw,isRemixing:iw}=ZP({jobId:ye,showcaseDetails:pr,onRemixSuccess:(Y,le)=>{sw({id:Y,payload:{task:le.details?.description,isRemix:!0}})}}),GV=(Y,le)=>{if(!Y||!le)return;const Je=g.find(It=>It.user_id===Y);if(Je){const It=Je.email.split("@")[0];return It.charAt(0).toUpperCase()+It.slice(1)}if(Y.includes("@")){const It=Y.split("@")[0];return It.charAt(0).toUpperCase()+It.slice(1)}},Ch=n("perceivedUX.message"),qV=d.useMemo(()=>{if(b?.isPerceivedUX&&!b?.jobId)return[{id:"perceived-ux-assistant",role:"assistant",content:Ch,thought:Ch,action:"initial-llm",typing:!0,container_id:void 0,timestamp:ae.current,base64_image_list:[],isPerceivedUXMessage:!0}];if(!Pi)return[];const le=kt?.organization_id?GV(kt?.createdBy,kt?.organization_id):void 0,It=kt?.createdBy===_?.id||!kt?.job_id?"user":"member",Sn=[];return wr&&Sn.push({id:"perceived-ux-assistant",role:"assistant",content:wr,thought:wr,action:"initial-llm",container_id:an,timestamp:kt?.createdAt||ae.current,base64_image_list:[],isPerceivedUXMessage:!0}),Sn.push({id:"user-task",role:It,content:Pi,container_id:an,timestamp:kt.createdAt,base64_image_list:fi.trajectory?.[0]?.base64_image_list||[],artifacts:Ys||[],...le&&{user_name:le},...kt?.createdBy&&{user_id:kt.createdBy}}),Sn},[Pi,wr,an,kt?.createdBy,kt?.organization_id,kt?.createdAt,g,_?.id,b?.isPerceivedUX,b?.jobId,Ch]),{messages:KV,setMessages:_h}=Qfe({initialMessages:qV}),aw=KV,wt=d.useMemo(()=>aw,[aw]),YV=Ze&&!as&&B()&&wt.length>2,{searchState:su,toggleSearch:jh,updateSearchQuery:ZV,navigateToNextMatch:V2,navigateToPrevMatch:H2,getSearchHighlightsForMessage:$2,isMessageContainingCurrentMatch:z2}=Qme(wt,{virtuosoRef:X}),{processTrajectory:ow}=Pxe({task:Pi,initialPerceivedMsg:wr,containerId:an,jobId:ye,showSubagentPanel:F,selectedMessageId:_e,selectedSubagent:de,setSelectedSubagentMessages:De,setIsSubagentActive:Ce,setAiMessages:_h,getCurrentMessages:()=>wt,createdByUserId:kt?.createdBy});d.useEffect(()=>{Pn&&wt.length>1&&xr.current&&(clearTimeout(xr.current),xr.current=null)},[wt.length,Pn]),d.useEffect(()=>()=>{xr.current&&clearTimeout(xr.current)},[]),d.useEffect(()=>{const Y=()=>{p===e&&(Le?ne(!0):ur(!0))};return window.addEventListener("openMobileMenu",Y),()=>{window.removeEventListener("openMobileMenu",Y)}},[p,e,Le]),d.useEffect(()=>{(ye&&wt.length<3&&!b?.showcaseId||ye&&wt.length>=3&&b?.fromPerceivedUX&&!kt?.job_id)&&mi()},[ye,wt.length,Le,b?.fromPerceivedUX,kt?.job_id]),d.useEffect(()=>{(()=>{const le=b?.showcaseId;if(Le&&le&&!Xp.current&&lr){Xp.current=!0;try{const Je=lr.showcases?.items?.find(Sn=>Sn.id===le);if(!Je){Xp.current=!1;return}const It={id:Je.id,title:Je.title,category:Je.category,created_at:Je.created_at,job_id:Je.job_id,preview_url:Je.preview_url,details:Je.details};Ml(It),o(e,{showcasePreviewUrl:It.preview_url})}catch{Xp.current=!1}}})()},[Le,b?.showcaseId,lr,e,o]);const lw=d.useCallback(async()=>{if(ye)try{const Y=await Si(ye);if("error"in Y)return;const le=Y.data;le?.payload?.dynamic_preview_subdomain&&le?.title&&(f(Je=>Je.map(It=>It.id===e?{...It,tabHeading:le.title}:It)),o(e,{dynamic_preview_subdomain:le.payload.dynamic_preview_subdomain}))}catch{}},[b?.dynamic_preview_subdomain,ye,e,Si,f,o]);d.useEffect(()=>{const Y=p===e;!X2.current&&Y&&ye&&!Le&&lw()},[p,e,ye,lw]),d.useEffect(()=>{ye&&wt.length>=3&&!b?.dynamic_preview_subdomain&&!Se&&!ww.current&&!Le&&(ww.current=!0,mi())},[ye,wt.length,b?.dynamic_preview_subdomain,Se,mi,e,Le]),d.useEffect(()=>{wt.length===2&&wt[1].id==="initial-llm"&&!kt?.job_id&&!Ot?.agent_running&&!Ot?.job_running&&!Ot?.agent_status_new&&Gn&&(Jn({agent_running:!0,job_running:!0,agent_status_new:"running"}),Bs(!1));const Y=wt.slice(1).filter(Mr=>Mr.role==="user").length,le=wt.length>0?wt[wt.length-1]:null,Je=le?.role==="assistant",It=!!(le&&(le.function_name==="ask_human"||le.function_name==="default_tool")),Sn=!Ot?.agent_running,ws=Y===0,fr=!$(),gr=R==="free",Ui=V?.auto_hitl_enabled===!0;v(ws&&Je&&It&&Sn&&fr&&gr&&Ui)},[wt,Ot,$,R,V?.auto_hitl_enabled]);const JV=d.useCallback(Y=>{if(!fi.trajectory||fi.trajectory.length===0)return;const le=[...fi.trajectory];let Je=null;if(Y){const It=le.findLastIndex(fr=>fr.human_message),Sn=le.some((fr,gr)=>fr.human_message===Y.content&&(fr.timestamp>Y.timestamp||fr.timestamp===void 0&&gr===It)),ws=new Date().getTime()-new Date(Y.timestamp).getTime()>300*1e3;Sn||ws?l(e,Y.content):Je={id:`user-${Date.now()}`,role:"user",content:Y.content,containerId:an,timestamp:new Date().toISOString(),status:"pending",base64_image_list:Y.base64_image_list,artifacts:Y.artifacts}}ow(le,Je,kt.createdAt),Cw.current!==ye&&le.length>0&&(Cw.current=ye,z(z0.DATA_READY_FOR_RENDER,{jobId:ye,trajectoryLength:le.length}))},[fi.trajectory,ow,e,an,l,ye]),[Mc,cw]=d.useState(!1);d.useEffect(()=>{const Y=wt.find(le=>le.action==="initial-llm"&&!le.isPerceivedUXMessage);wt.length===2&&Y&&!Ht&&!Ze?I({panelName:"showUrlPreviewPanel",value:!0}):wt.length<=2&&kt?.is_showcase_remix===!0?I({panelName:"showUrlPreviewPanel",value:!0}):wt.length===3&&Y&&!Ht&&!Ze&&b?.fromPerceivedUX&&I({panelName:"showUrlPreviewPanel",value:!0})},[wt.length,Ht,Ze,kt,b?.fromPerceivedUX]),d.useEffect(()=>{ft==="build"&&gt&&gt()},[ft,gt]);const W2=d.useMemo(()=>b?.jobsLength>=1,[b?.jobsLength]),ru=d.useMemo(()=>wt.length>=2&&Mc||b?.repository&&Hr||Le||kt.is_showcase_remix===!0,[wt,Mc,b?.repository,Hr,Le]),Jp=d.useRef(!1),XV=d.useMemo(()=>{if(!dM()||Jp.current)return!0;const le=wt.filter(Sn=>Sn.role==="assistant");if(le.length===0)return!1;const Je=Sn=>Sn.function_name?.includes("bulk_file");if(le.some(Sn=>Sn.function_name==="screenshot_tool")||le.some(Sn=>Sn.action==="finish"))return Jp.current=!0,!0;const It=le.findIndex(Je);return It!==-1&&le.slice(It+1).some(Sn=>!Je(Sn)&&Sn.function_name)?(Jp.current=!0,!0):!1},[wt]);d.useEffect(()=>{const Y=wt.filter(ws=>ws.role==="assistant"),le=Y.find(ws=>ws.function_name?.includes("bulk_file")||ws.function_name?.includes("replace")||ws.function_name?.includes("create_file")||ws.action==="finish"),Je=Y.find(ws=>ws?.action?.includes?.("supervisorctl")),It=Y[Y.length-1],Sn=kt?.forked?.parent_job_id;if(le||Sn||Je){cw(!0);const ws=window.innerWidth>=768,fr=It&&(It.function_name?.includes("bulk_file")||It.function_name?.includes("create_file")||It.action==="finish");Ze&&!Gn&&Qs(!0),gt().then(()=>{ws&&!Ze&&Q&&kt?.enable_visual_edit&&It?.action==="finish"&&(At(!0),I({panelName:"showUrlPreviewPanel",value:!0}),z(Gt.VISUAL_EDIT_ENABLED,{jobId:ye,source:"auto_enabled_on_finish"})),ws&&fr&&!K2.current&&(I({panelName:"showUrlPreviewPanel",value:!0}),K2.current=!0)})}else cw(!1)},[wt.length,kt?.forked?.parent_job_id,kt?.enable_visual_edit,e,Ze,Gn,Q,ye]),d.useEffect(()=>{const Y=wt.filter(It=>It.role==="assistant"),le=Y[Y.length-1],Je=b?.pendingMessage;if(Je&&le?.error_ts){const It=new Date(Je.timestamp).getTime(),Sn=new Date(le.error_ts).getTime();It<Sn&&(fe(Je.content),l(e,Je.content))}},[wt,b?.pendingMessage,e]),uye({jobId:kt.job_id,containerId:an,agentName:kt.agentName,modelName:kt.modelName,organizationId:kt.organization_id,createdBy:kt.createdBy,enabled:!!ye});const QV=d.useMemo(()=>{const Y=fi.trajectory;if(!Y||Y.length===0)return"empty";const le=Y[Y.length-1],Je=le?.subagent_trajectory?.length||0,It=le?.fork_status||"none",Sn=le?.forked_job_id||"none";return`${Y.length}-${le?.request_id||"none"}-${le?.step||0}-sub${Je}-fork${It}-${Sn}`},[fi.trajectory]);d.useEffect(()=>{const Y=b?.pendingMessage;JV(Y)},[QV,e,b?.pendingMessage]),d.useEffect(()=>()=>{},[an,N]),d.useEffect(()=>{if(F&&wt.length>0){const Y=wt[wt.length-1];Y&&Y.subagent_trajectory&&Y.subagent_trajectory.length>0&&Y.agent_name===Qe[0]?.agent_name&&De(Y.subagent_trajectory)}},[F,wt]),d.useEffect(()=>{if(F&&_e&&wt.length>0){const Y=wt.find(le=>le.id===_e);Y&&Y.subagent_trajectory&&Y.subagent_trajectory.length>0&&Y.agent_name===de&&De(Y.subagent_trajectory)}},[F,_e,wt,de]),d.useEffect(()=>{!F&&_e&&Et(void 0)},[F,_e]),d.useEffect(()=>{if(F&&dt!==void 0&&fi.trajectory){const Y=fi.trajectory.find(le=>le.step_num===dt);Y?.subagent_trajectory&&De(Y.subagent_trajectory)}},[F,dt,fi.trajectory]),d.useEffect(()=>{if(F&&_e&&wt.length>0){const Y=wt.find(le=>le.id===_e);Y&&Y.subagent_trajectory&&Y.subagent_trajectory.length>0&&De(Y.subagent_trajectory)}},[F,_e,wt]),pye({user:_,jobDetails:kt,tier:R,aiMessages:wt,enabled:!0});const ka=d.useCallback((Y,le,Je,It)=>{const Sn=`user-${Date.now()}`;if(b?.isPerceivedUX&&!b?.jobId){z(wD.FIRST_MESSAGE_SENT,{userId:_?.id,tabId:e,messageLength:Y.length,hasImages:le.length>0,imageCount:le.length,hasOriginalFiles:It&&It.length>0}),localStorage.removeItem(B6),Jn({agent_running:!0,job_running:!0,agent_status_new:"running"}),Bs(!1),o(e,{task:Y,selectedAgent:"auto_prompt_selector_dev",selectedImage:"emergentintegrations/neo:web-react-v2",image:"emergentintegrations/neo:web-react-v2",model_name:"claude-sonnet-4-20250514",per_instance_cost_limit:"25",agentic_skills:[],client_ref_id:null,apiCallInProgress:!1,needsApiCall:!0,pending_client_ref_id:crypto.randomUUID(),newJob:!0,isCloudFlow:!0,fromCreateTask:!0,isPerceivedUX:!1,fromPerceivedUX:!0,initial_preceived_msg:Ch,base64_image_list:le.length>0?le:void 0,selectedFiles:It&&It.length>0?It:void 0,tabId:e,parentTabId:e,id:e,title:"Setting up Task",path:"/chat",state:{tabId:e,sourceTabId:e}});return}w_("message_sent",{jobId:ye,containerId:an,messageId:Sn,messageLength:Y.length,hasImages:le.length>0,imageCount:le.length,tabId:e});const fr={id:Sn,role:"user",content:Y,containerId:an,timestamp:new Date().toISOString(),status:"pending",base64_image_list:le,artifacts:Je?.map(gr=>({name:gr.file_name,url:`#artifact-${gr.artifact_id}`}))};_h(gr=>{const Ui=[...gr,fr];return setTimeout(()=>{X.current&&X.current.scrollToIndex({index:Ui.length-1,behavior:"smooth"})},150),Ui}),Y.trim()&&c(e,Sn,Y,le,Je)},[an,ye,e,b,o]),eH=ka,dw=d.useCallback(Y=>{const le=Y.expertise_type||Y.function_name,Je=Y.function_name?.replaceAll("_"," ");Y.subagent_trajectory?.length?(De(Y.subagent_trajectory),ue(le),ut(Je),Et(Y.id),I({panelName:"showSubagentPanel",value:!0}),ts("subagent_selected",{jobId:ye,containerId:an,expertise:le,messageId:Y.id,subagentTrajectoryLength:Y.subagent_trajectory.length,tabId:e})):(De([]),ue(le),ut(Je),Et(Y.id),I({panelName:"showSubagentPanel",value:!0}))},[ye,an,e]),uw=d.useCallback(async()=>{if(!E&&gt)try{await gt()}catch{}I({panelName:"showUrlPreviewPanel",value:!0}),ts("preview_panel_toggle",{jobId:ye,containerId:an,isVisible:!E,tabId:e,previewUrl:Hr})},[I,E,ye,an,e,Hr,gt]),tH=d.useCallback(Y=>{_n(Y)},[]),nH=d.useCallback(Y=>{In.current=Y},[]),Nh=d.useCallback(Y=>{At(Y),Y&&I({panelName:"showUrlPreviewPanel",value:!0})},[I]),pw=d.useCallback(()=>{Nh(!0),z(Gt.VISUAL_EDIT_ENABLED,{jobId:ye,source:"finish_action_button"})},[Nh,ye]),fw=d.useMemo(()=>Mt!=="waiting"&&Mt!=="subagent_waiting"||ft!=="build"||Ee||!(ru||kt?.is_showcase_remix&&ft!=="build"),[Mt,ft,Ee,ru,kt?.is_showcase_remix]),G2=d.useCallback((Y,le)=>{en({jobId:Y,messages:le}),it(Je=>({...Je,fork:!0}))},[]),q2=d.useCallback((Y,le)=>{en({jobId:Y,messages:[],summaryData:le,startInSummaryMode:!0}),it(Je=>({...Je,fork:!0}))},[]),mw=d.useCallback(Y=>{Ze&&ur(!1),Vn(Y||[]),On(!0)},[Ze]);d.useEffect(()=>{j&&!wA()&&kt?.enable_visual_edit&&Mc&&it(Y=>({...Y,visualEdits:!0}))},[j,kt?.enable_visual_edit,Mc]),d.useEffect(()=>{b?.openRedeployPanel&&(I({panelName:"showDeployPanel",value:!0}),o(e,{openRedeployPanel:!1}))},[b?.openRedeployPanel,I,o,e]);const sH=d.useCallback(async Y=>{try{Y.data=JSON.parse(Y.data)}catch{return}if(Y.type==="rrweb_events"&&Array.isArray(Y.data)){try{if(Be(Y.data),is(!0),ye){Hn(!0);try{if(!ye)throw new Error("No job ID available");const le=await yt.extractRRWebData(ye,Y.data),Je=[],It=new Blob([le.playwright_script],{type:"text/javascript"}),Sn=new File([It],"generated-playwright-test.js",{type:"text/javascript"});Je.push({file:Sn,description:"Generated Playwright test script from user interaction recording"});const ws=new Blob([le.console_logs],{type:"text/plain"}),fr=new File([ws],"console-logs.txt",{type:"text/plain"});Je.push({file:fr,description:"Console logs captured during user interaction recording (last 50 entries, TIMESTAMP:MESSAGE format)"});const gr=new Blob([le.network_logs],{type:"text/plain"}),Ui=new File([gr],"network-logs.txt",{type:"text/plain"});Je.push({file:Ui,description:"Network requests captured during user interaction recording (last 50 entries, excluding PostHog)"});const da=[];for(const Mr of Je)try{const tl={file_name:Mr.file.name,mime_type:Mr.file.type},eo=await yt.uploadArtifact(ye,tl);await yt.uploadFileToUrl(eo.upload_url,Mr.file),da.push({artifact_id:eo.artifact_id,file_path:eo.file_path,entity_id:ye,entity_type:"job",visibility:"public",file_name:Mr.file.name,description:Mr.description})}catch{}if(da.length>0)try{await yt.batchFinalizeArtifactUpload({artifacts:da})}catch{}pt(le.playwright_script)}catch{pt({error:"Failed to process rrweb events"})}finally{Hn(!1)}}Y.source&&typeof Y.source.postMessage=="function"&&Y.source.postMessage({type:"close_window"},"*")}catch{}return}Y.type==="user_interaction"||Y.type==="error"||Y.type},[ye]),rH=d.useCallback(async()=>{if(!(!ye||!jn)){Vs(!1),Ln(!0);try{const Y={file_name:jn.name,mime_type:jn.type},le=await yt.uploadArtifact(ye,Y);await yt.uploadFileToUrl(le.upload_url,jn);const Je={entity_id:ye,entity_type:"job",visibility:"public",file_name:jn.name,description:"Screen recording of the preview"};await yt.batchFinalizeArtifactUpload({artifacts:[{...Je,artifact_id:le.artifact_id,file_path:le.file_path}]});try{const It=await yt.getArtifactTestCases(ye,le.artifact_id);dn(It)}catch{dn({error:"Failed to generate test cases"})}finally{Ln(!1)}}catch{Ln(!1),w({title:"Upload Failed",description:"Failed to upload the recorded video. Please try again.",variant:"destructive"})}}},[ye,jn,w]),iH=d.useCallback(()=>{En(!1),Un(null),fs&&URL.revokeObjectURL(fs),cn(null),dn(null),Ln(!1),Vs(!0)},[fs]),aH=d.useCallback(()=>{is(!1),Be([]),pt(null),Hn(!1)},[]),oH=d.useCallback(async(Y,le)=>{if(!de||!ye)return;w_("message_sent",{jobId:ye,containerId:an,messageLength:Y.length,hasImages:le?le.length>0:!1,imageCount:le?le.length:0,tabId:e,isSubagent:!0,subagentType:de});const Je={id:`subagent-${Date.now()}`,role:"user",content:Y,timestamp:new Date().toISOString(),agent_name:de,base64_image_list:le};De((It=[])=>[...It,Je])},[de,ye,an,e]),Fh=d.useRef(!1),K2=d.useRef(!1),Xp=d.useRef(!1);d.useEffect(()=>{K2.current=!1,Xp.current=!1,Jp.current=!1},[e,ye]),d.useEffect(()=>{const Y=a(e);if(Y?.isPerceivedUX){Xn(!1);return}Y&&_?(Y.showCase&&(Ew(!1),Fh.current||(I({panelName:"showUrlPreviewPanel",value:!0}),Fh.current=!0)),Bi(Y.created_by,Y.organization_id||null)?Xn(!1):(Xn(!0),Fh.current||(I({panelName:"showUrlPreviewPanel",value:!1}),Fh.current=!0))):Xn(!0)},[b?.showCase,b?.created_by,b?.organization_id,b?.isPerceivedUX,_?.id,V?.organizations,ye,Bi]),d.useEffect(()=>{b?.isPerceivedUX&&Bs(!1)},[b?.isPerceivedUX]),d.useEffect(()=>{_&&j&&p===e&&ye&&jo()},[_,j,p,e,ye,wt.length,jo]);const lH=d.useMemo(()=>{const Y=wt.length>0?wt[wt.length-1]:null;if(ft==="salesman_agent"&&(Ot?.agent_running||Y?.role==="user"))return()=>t.jsxs("div",{className:"mt-4",children:[t.jsx(mg,{text:"Agent is responding..."}),t.jsx("div",{className:"h-32"})]});if(Y&&(Y.function_name==="ask_human"||Y.function_name==="default_tool"||Y.action==="finish"))return()=>null;if((ft=="brainstorming_requested"||ft=="brainstorming_done")&&(!b?.isRemix&&!kt?.is_showcase_remix||wt.length>1))return()=>t.jsx("div",{className:"mt-4",children:Ot?.agent_running&&!Ht&&t.jsxs(t.Fragment,{children:[t.jsx(mg,{text:"Preparing the build environment..."}),t.jsx("div",{className:"h-32"})]})});if(Ee)return()=>t.jsx(t.Fragment,{});const It=(b?.isRemix||kt?.is_showcase_remix)&&wt.length<=1&&ft!=="build"?"Booting up your remixed task...":void 0;return()=>t.jsx(Cye,{agentStatus:Ot?.agent_running,rollbackStatus:tn,text:It})},[tn,Ot?.agent_running,wt,ft,Ee,Ht,b?.isRemix,kt?.is_showcase_remix]),Y2=d.useMemo(()=>j?.user?.email?j.user.email.split("@")[0].split(".").map(Y=>Y[0]).join("").toUpperCase():"U",[j?.user?.email]),Ta=d.useMemo(()=>kt?.forked?.parent_job_id&&wt.length<=1?[]:wt,[wt,kt?.forked?.parent_job_id,Se]),cH=d.useCallback(Y=>{Ft(Y),He(Y!=="increase_budget"?"add_credits":"exit_cost"),St(!0)},[]),dH=d.useCallback((Y,le,Je)=>{Y&&Y.length>0&&(De(Y),ue(Y[0].expertise_type),vt(le),Et(Je),I({panelName:"showSubagentPanel"}))},[I]),hw=d.useCallback(Y=>{if(Ot?.agent_running){yH("Agent is running","Please wait for the agent to finish or stop running before rolling back");return}Y&&jt(Y),he(!0)},[Ot?.agent_running]),Z2=d.useMemo(()=>{const Y=wt.filter(Mr=>Mr.warning_for_token_limit===!0),le=Y[Y.length-1],Je=wt.filter(Mr=>Mr.role==="assistant"),It=Je[Je.length-1],Sn=wt[wt.length-1]?.role==="user",ws=It?.error_message&&typeof It.error_message=="string"&&It.error_message.includes("context limit"),fr=Y.length>0||ws,gr=le?.current_token_count||0,Ui=le?.max_token_count||2e5,da=Math.min(gr,Ui-1e3);return{currentToken:gr,maxToken:Ui,safeCurrentToken:da,lastAssistantMessage:It,lastIsUser:Sn,contextLimitReached:fr,errorMessageExists:ws}},[wt]),J2=d.useMemo(()=>{const Y=wt[wt.length-1],{errorMessageExists:le,maxToken:Je,safeCurrentToken:It}=Z2;return{content:le?"The agent is reached its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.":"The agent is approaching its context limit. To keep the conversation going and avoid losing progress, please summarize the session and save your work.",containerId:an,id:`context_limit_reached-${wt.length-1}`,role:"assistant",error:!1,error_message:le?"You have reached the context limit for this chat! To continue working on this project, please use Rollback and Clear Messages feature to an earlier message or Push to Github and Start a new run.":"",function_name:"context_limit_reached",job_id:ye,step_number:0,current_token_count:le?Je:It,max_token_count:Je,container_id:an,timestamp:Y?.timestamp,action:"context_limit_reached",error_message_exists:le}},[wt,Z2,an,ye]),uH=d.useCallback(()=>{iu.current&&clearTimeout(iu.current),iu.current=setTimeout(()=>{t1.current&&(Eh.current=!1),iu.current=null},200)},[]),pH=d.useMemo(()=>{const Y=xu(Ze?"h-[20rem]":"h-[14rem]");return function(){return t.jsx(t.Fragment,{children:t.jsx("div",{className:Y})})}},[Ze]),xw=d.useCallback(()=>{I({panelName:"showInfoPanel",value:!0})},[I]),fH=d.useMemo(()=>!C&&!F&&!S&&!E&&!M,[C,F,S,E,M]),mH=d.useMemo(()=>Mc&&Ta[Ta.length-1]?.fork_status!=="running",[Mc,Ta]),hH=d.useMemo(()=>({enablePublish:wt.find(Je=>Je.role==="user")?.content?.includes("https://moltbot.emergent.to/install.sh")??!1,isPublishing:bh,isPublished:yh}),[wt,bh,yh]),[xH,Qp]=d.useState(!0),[gw,e1]=d.useState(!1),Eh=d.useRef(!1),No=d.useRef(null),t1=d.useRef(!0),iu=d.useRef(null),X2=d.useRef(p===e),bw=d.useRef(!1),Sh=d.useRef(!0),Q2=d.useRef(!1),[yw,vw]=d.useState(!1),ww=d.useRef(!1),Cw=d.useRef(null),_w=()=>{z(na.SCROLL_TO_BOTTOM_CLICKED,{jobId:ye,containerId:an,tabId:e,messageCount:wt.length}),X.current&&(No.current&&(clearTimeout(No.current),No.current=null),X.current.scrollToIndex({index:wt.length-1,behavior:"smooth"}),setTimeout(()=>{e1(!1),Qp(!0),Eh.current=!1,t1.current=!0},100))};d.useEffect(()=>{const Y=p===e;!X2.current&&Y&&(bw.current=!0,yw&&X.current&&t1.current&&requestAnimationFrame(()=>{X.current?.scrollToIndex({index:wt.length-1,behavior:"auto",align:"end"})}),setTimeout(()=>{bw.current=!1},500)),X2.current=Y},[p,e,yw,wt.length]),d.useEffect(()=>{wt.length>1&&Sh.current&&fi.trajectory?.length>0&&(Q2.current=!0,requestAnimationFrame(()=>{X.current&&X.current.scrollToIndex({index:wt.length-1,behavior:"auto",align:"end"}),setTimeout(()=>{Sh.current=!1,vw(!0)},50)}))},[wt.length,fi.trajectory?.length]),d.useEffect(()=>{if(wt.length>0){const Y=[...wt].reverse().find(le=>le.role==="assistant");if(Y&&Y.thinking_level&&Y.id&&Y.id!==xt){const le=Y.thinking_level==="ultra_mode";Ke(le),Rt(Y.id)}}},[wt.length,xt]);const gH=Y=>{No.current&&(clearTimeout(No.current),No.current=null),Y?No.current=setTimeout(()=>{X.current&&(Qp(!0),e1(!1),Eh.current=!1),No.current=null},150):(Qp(!1),e1(!0),Eh.current=!0),t1.current=Y};d.useEffect(()=>{if(p===e&&X.current&&wt.length>0){const Y=setTimeout(()=>{X.current&&X.current.getState(le=>{if(le){const Je=le.isScrolling===!1&&le.lastItemIndex===wt.length-1&&le.offsetBottom<100;Je?(Qp(!0),e1(!1)):(Qp(!1),e1(!0)),t1.current=Je}})},100);return()=>clearTimeout(Y)}},[p,e,wt.length]),d.useEffect(()=>()=>{No.current&&clearTimeout(No.current),iu.current&&clearTimeout(iu.current)},[]),d.useEffect(()=>{Sh.current=!0,Q2.current=!1,vw(!1)},[e,ye]);const[bH,kh]=d.useState(!1),[e5,Th]=d.useState(!1),[t5,n5]=d.useState(!1),{showErrorToast:yH}=Yxe(),{newToast:jw,changePosition:vH}=Fa(),wH=d.useCallback(()=>{n5(!1),Th(!1)},[]),CH=d.useCallback(()=>{kh(!1)},[]),Nw=d.useCallback(()=>{if(!ye||!an)return;ts("wake_up_clicked",{jobId:ye}),oe(!0),kh(!1),(()=>{setTimeout(()=>{try{kh(!1),bt({jobId:ye,upgrade:Ot?.show_upgrade&&kt?.machineType!=="large"}).unwrap().then(le=>{le&&(Ot?.show_upgrade&&Re({payload:{task:Ot?.pod_state_hitl},client_ref_id:ye,resume:!0}).unwrap(),setTimeout(()=>{ss(!1),Bs(!1),oe(!1),kh(!0),ts("wake_up_successful",{jobId:ye})},5500))}).catch(le=>{let Je="We are pulling your job from archive. Please try again after 30 Minutes.";le.response&&le.response.data?Je=le.response.data.message||le.response.data.error||Je:le.message&&(Je=le.message),vH(ha.BOTTOM_LEFT),jw.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),oe(!1),ts("wake_up_failed",{jobId:ye,errorMessage:Je})})}catch(le){jw.info("It's taking longer than expected. We will reach out to you once the agent wakes up"),ts("wake_up_failed",{jobId:ye,error:JSON.stringify(le)})}},100)})()},[ye,an,Ot?.show_upgrade,Ot?.pod_state_hitl,kt?.machineType]),s5=d.useCallback(async({origin:Y="MainInput"})=>{if(!(!kt?.job_id||!Ot?.agent_running)){ar(!0),ss(!0);try{const le=await yt.pauseJob({job_id:kt.job_id,agent_name:Y==="SubagentButton"?"SkilledAssistant":b?.agentName});le.status===200||le.status}catch{w({title:"Error",description:"Failed to pause agent",variant:"destructive"}),ar(!1),ss(!1)}}},[kt?.job_id,Ot?.agent_running,b?.agentName,w]);d.useEffect(()=>{!Ot?.agent_running&&ms&&ar(!1)},[Ot?.agent_running,ms]),d.useEffect(()=>{const Y=Ta[Ta.length-1]?.fork_status||null,le=Ta[Ta.length-1]||null,Je=Fxe({agentState:Ot,isSubagentActive:Ee,currentAgentStatus:Mt,isPauseLoading:ms,forked_status:Y,lastMessage:le});Je!==Mt&&(Tt(Je),N(Eq({tabId:e,agentStatus:Je})));const It=b?.user_prompt_id&&b?.user_prompt_id!=="auto_prompt_selector_dev";st(It?le?.expertise_type?.replaceAll("_"," "):"Agent"),Oe(le?.function_name?.replaceAll("_"," ")||"Subagent");const Sn=hg(le?.next_call_agent)||le?.next_call_agent===null&&hg(le?.agent_name);Je==="subagent_running"||Je==="subagent_waiting"||Je==="subagent_stopping"?Ce(!0):Sn&&Ce(!1)},[Ot,Ee,Mt,ms,Ta,N,e]),d.useEffect(()=>{o(e,{subagentName:wn,isSubagentActive:Ee})},[wn,Ee,Mt,e,o]),d.useEffect(()=>{Ye&&(Mt==="running"||Mt==="subagent_running")&&At(!1)},[Mt,Ye]);const Fo=async({content:Y})=>{try{const le=H(),Je=_?.id,It={processor_type:"env_only",is_cloud:!0,task:Y,prompt_name:"",prompt_version:"latest",work_space_dir:"",model_name:ke||"claude-3-5-sonnet-20241022",env_image:"",base64_image_list:[],human_timestamp:new Date().toISOString(),thinking_level:Ve?"ultra_mode":"thinking",...le&&{organization_id:le},...Je&&{user_id:Je}};await yt.submitCloudJob(It,kt?.job_id,!0)}catch{mA({tabId:e,content:Y}),w({title:"Error",description:"Failed to resume agent",variant:"destructive"})}},_H=d.useCallback(Y=>{if(Y.trim()){const le=`Here are the test cases for the screen & audio recording:

\`\`\`json
${Y}
\`\`\``;ka(le,[]),Fo({content:le})}},[ka,Fo]),jH=d.useCallback(Y=>{ka(Y,[]),Fo({content:Y})},[ka,Fo]),NH=d.useCallback((Y,le)=>{const Je=le?.map(It=>({artifact_id:It.artifact_id,entity_id:ye||"",entity_type:"job",visibility:"public",file_name:It.file_name,description:It.description}));ka(Y,[],Je),Fo({content:Y}),is(!1)},[ka,Fo,ye]),[Fw,Ew]=d.useState(!0),[r5,i5]=d.useState(!1);d.useEffect(()=>{const Y=le=>{(le.metaKey||le.ctrlKey)&&le.key==="/"&&(le.preventDefault(),Ew(Je=>!Je)),(le.metaKey||le.ctrlKey)&&le.key==="f"&&(le.preventDefault(),jh(!0)),su.isActive&&(le.key==="Escape"?(le.preventDefault(),jh(!1)):le.key==="Enter"&&(le.preventDefault(),le.shiftKey?H2():V2()))};return window.addEventListener("keydown",Y),()=>{window.removeEventListener("keydown",Y)}},[su.isActive,jh,V2,H2]);const Qo=Le?pr?.category.toLowerCase().includes("mobile"):kt?.promptName?.includes("expo")||kt?.env_image?.includes("expo"),Sw=(V?.showcase_remix_enabled??!1)&&!pr?.category?.toLowerCase().includes("mobile"),a5={enablePublish:wt.find(Y=>Y.role==="user")?.content?.includes("https://moltbot.emergent.to/install.sh")??!1,isPublished:kt?.isPublished},n1={subagent:45,info:30,urlPreview:Qo?35:50,deploy:45,logs:30},[el,FH]=d.useState(!1);d.useEffect(()=>{wt.length>0&&ge(Y=>EH(wt[0]?.timestamp)||Y)},[wt]);function EH(Y){return Y?new Date(Y)<new Date("2025-04-25T00:00:00Z"):!1}const SH=d.useMemo(()=>ng(Y=>{const le=ku.logsHeading+ku.logsIdentifier+ku.logsPrompt+Y.join(`
`)+ku.logsIdentifier;Ot?.agent_running?w({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before sharing logs",variant:"destructive",duration:2e3}):(Ze&&D(),ka(le,[]),Fo({content:le}))},1e3,{leading:!0,trailing:!1}),[Ot?.agent_running,Ze,D,ka,Fo,w]),kH=d.useMemo(()=>ng(()=>{const Y="Call Deployer Agent and Run Health Check to Check for Readiness for Deployment";!Ot?.agent_running&&!Gn?(Ze&&D(),ka(Y,[]),Fo({content:Y})):w({title:"Agent is Running",description:"Please wait for agent to finish or stop it manually before running health check",variant:"destructive",duration:2e3})},1e3,{leading:!0,trailing:!1}),[Ot?.agent_running,Gn,Ze,D,ka,Fo,w]),TH=()=>E?n1.urlPreview:M?n1.deploy:F?n1.subagent:S?n1.info:C?n1.logs:0,o5=()=>E?q.previewDefaultWidth:M?45:F?40:30,Lc=TH()>0,{config:l5,refetch:IH}=yc(),Ih=d.useRef(!1),AH=async(Y,le)=>{const Je=[];for(const It of Y)try{const Sn=URL.createObjectURL(It),ws=It.type.startsWith("image/"),fr={file_name:It.name,mime_type:It.type},gr=await yt.uploadArtifact(le,fr);await yt.uploadFileToUrl(gr.upload_url,It),Je.push({artifact_id:gr.artifact_id,entity_id:le,entity_type:"job",visibility:"public",file_name:It.name,description:"",file_path:gr.file_path,readByAgent:ws,mime_type:It.type,file_size:It.size,local_preview_url:Sn,local_preview_base64:void 0})}catch{}return Je};d.useEffect(()=>{(b.needsApiCall||b.apiCallInProgress)&&W2?(n5(!0),Th(!1)):t5&&!e5&&Th(!0)},[b.needsApiCall,b.apiCallInProgress,t5,e5,W2]);const kw=d.useCallback(async()=>{if(!(Ih.current||b.apiCallInProgress)){if(b.client_ref_id){b.needsApiCall&&o(e,{...b,needsApiCall:!1});return}Ih.current=!0;try{const Y=b.pending_client_ref_id||crypto.randomUUID();o(e,{...b,apiCallInProgress:!0,pending_client_ref_id:Y,needsApiCall:!1,fromShowCase:!1,showCase:!1,created_by:_?.id});const{selectedAgent:le,task:Je,model_name:It,per_instance_cost_limit:Sn,agentic_skills:ws,portMappings:fr,image:gr,selectedImage:Ui,base64_image_list:da,repository:Mr,branch:tl,e15Enabled:eo,e2Enabled:OH}=b,s1=da||[],Ah=gr||Ui,d5=le||b.agentName||b.agent_name,u5=It||b.modelName||b.model,BH=b.selectedAgent&&b.selectedAgent!=="",UH=b.model_name&&b.model_name!=="",VH=(b.selectedImage||b.image)&&(b.selectedImage!==""||b.image!==""),Dh=H(),p5=(Vi,h5,Pc,au)=>h5?Vi:eo?l5?.e15_experimental?.[Pc]||au:OH&&l5?.e2_experimental?.[Pc]||au,Aw=p5(d5,BH,"agent",d5),Dw=p5(u5,UH,"baseModel",u5),Mw=p5(Ah,VH,"dockerImage",Ah),f5={...b.user_prompt_id?{user_prompt_id:b.user_prompt_id}:{prompt_name:Aw},prompt_version:"latest",work_space_dir:"",task:Je,model_name:Dw,per_instance_cost_limit:parseInt(Sn?.toString()||"25",10),agentic_skills:ws,portMapping:fr,env_image:Mw,plugin_version:l5?.plugin_library_version,base64_image_list:s1,repository:Mr,branch:tl,human_timestamp:Date.now(),asset_upload_enabled:ie,is_pro_user:R==="pro_mode",testMode:te,thinking_level:b.ultraMode?"ultra_mode":"thinking",...Km()&&{job_mode:b.privacy||"public"},...Dh&&{organization_id:Dh},mcp_id:b.selectedMcpServerIds||[],...b.initial_preceived_msg&&{initial_preceived_msg:b.initial_preceived_msg}};if(Je&&!Ah)throw ts("new_job_submitted_without_data",{tabState:b,payload:f5}),new Error("Task creation failed, please try again after a refresh.");let Mh=[];if(ie&&b.selectedFiles&&b.selectedFiles.length>0)try{Mh=await AH(b.selectedFiles,Y),Mh.length>0&&N(xA({tabId:e,artifacts:Mh}))}catch{}const Rc=[...Ys,...Mh];let m5;ie&&Rc.length>0&&(m5={artifacts:Rc.map(Vi=>({artifact_id:Vi.artifact_id,entity_id:Vi.entity_id,entity_type:Vi.entity_type,visibility:Vi.visibility,file_name:Vi.file_name,description:Vi.description,file_path:Vi.file_path}))});const HH=_?.id&&ee.length===0,$H=_?.id&&!localStorage.getItem(`first_message_sent_${_.id}`);let Lw;_?.id&&(Lw=Eee(_.id,Y,ee.length)),HH&&(localStorage.setItem(`first_job_created_${_.id}`,"true"),localStorage.setItem("first_job_timestamp",new Date().toISOString()),sX(_.id,Y,Je,{agent_name:d5,model_name:u5,docker_image:Ah,has_images:s1.length>0,image_count:s1.length,has_artifacts:Rc.length>0,artifact_count:Rc.length,organization_id:Dh||"personal",is_experimental:!1,ultra_mode:b.ultraMode||!1,privacy:b.privacy||"public",tier:R})),$H&&localStorage.setItem(`first_message_sent_${_.id}`,"true");const zH=yt.submitCloudJob(f5,Y,!1,m5,Lw);try{const Vi=await yt.getChatPreview(f5,Y,!1,m5);if(Vi?.text){o(e,{...b,apiCallInProgress:!1,needsApiCall:!1}),n5(!1),Th(!1),xr.current&&clearTimeout(xr.current),Gs({content:Vi.text,typing:!0}),_h(Pc=>{const au=[...Pc],GH={id:"initial-llm",role:"assistant",content:Vi.text,timestamp:new Date().toISOString(),base64_image_list:[],typing:!0,action:"initial-llm",function_name:"initial-llm",tying:!0};return au.push(GH),au});const h5=Vi.text.length*50+1e3;xr.current=setTimeout(()=>{Gs(Pc=>Pc?{...Pc,typing:!1}:null)},h5)}}catch{o(e,{apiCallInProgress:!0,needsApiCall:!0})}await zH,z("job_created",{userId:_?.id,jobId:Y,task:Je?.substring(0,100),agent_name:Aw,model_name:Dw,docker_image:Mw,has_images:s1.length>0,image_count:s1.length,has_artifacts:Rc.length>0,artifact_count:Rc.length,organization_id:Dh||null,ultra_mode:b.ultraMode||!1,privacy:b.privacy||"public",tier:R,budget:parseInt(Sn?.toString()||"25",10)}),ie&&Rc.length>0&&N(g6({tabId:e})),(ie&&b.selectedFiles?.length>0||b.selectedImages?.length>0)&&o(e,{...b,selectedFiles:[],selectedImages:[]});const WH={...b,containerId:Y,client_ref_id:Y,apiCallInProgress:!1,needsApiCall:!1,task:Je,fromJobList:!0,tabHeading:Je,jobId:Y,apiCallSuccessful:!0,pending_client_ref_id:void 0,fromShowCase:!1,showCase:!1,created_by:_?.id,newJob:!1};o(e,WH)}catch(Y){const le=Y?.response?.data?.detail||Y?.message;Fn(Is.JOB.SUBMISSION,Y,{jobId:b?.jobId||null,tabStateTaskAvailable:!!b?.task,tabStateHasImages:!!(b?.image||b?.selectedImage),message:le}),w({title:"Error",description:le||"Failed to submit task. Please try again.",variant:"destructive",duration:5e3}),f(Je=>Je.filter(It=>It.id!==e)),m("home")}finally{Ih.current=!1}}},[b,e,o,IH,w,f,m,ie,W2]),Tw=d.useRef(!0),DH=()=>localStorage.getItem(`hasOpenedPreviewBefore-${ye}`)==="true";d.useEffect(()=>{const Y=async()=>{const Je=b.pending_client_ref_id&&!b.client_ref_id,It=b.needsApiCall&&!b.apiCallInProgress;Je&&(It||o(e,{...b,task:b.task,clientRefId:b.pending_client_ref_id,containerId:b.pending_client_ref_id,client_ref_id:b.pending_client_ref_id,apiCallInProgress:!1,needsApiCall:!1,pending_client_ref_id:void 0,jobId:b.pending_client_ref_id,fromShowCase:!1,showCase:!1,created_by:_?.id}))};b.pending_client_ref_id&&!b.client_ref_id&&Tw.current&&(Y(),Tw.current=!1)},[]),d.useEffect(()=>{b.needsApiCall&&!b.apiCallInProgress&&!Ih.current&&(b.task&&(b.image||b.selectedImage)?setTimeout(()=>{kw()},50):setTimeout(()=>{const Y=a(e);Y.task&&(Y.image||Y.selectedImage)&&kw()},200))},[b.needsApiCall,b.apiCallInProgress,b.task,b.image,b.selectedImage]);const{totalBannerHeight:MH}=Ea(),LH=MH+56,RH=async(Y,le)=>{try{const Je=await yt.submitFork(Y,le);(Je.status===200||Je.status===201)&&qe&&it&&it({...qe,fork:!1})}catch(Je){w({title:"Error",description:Je instanceof Error?Je.message:"Failed to fork your task, please try again.",variant:"destructive"}),qe&&it&&it({...qe,fork:!1})}},Iw=d.useCallback(Y=>{Kt(Y),it(le=>({...le,unsavedChanges:!0}))},[it,Kt]),c5=d.useCallback(()=>{it(Y=>({...Y,unsavedChanges:!1}))},[it]),PH=ze?{isVisible:Lc,isDragging:!hr&&el,defaultSize:hr?0:o5(),minSizeInPixels:hr?0:530,maxSize:hr?0:q.previewMaxWidth,className:`bg-[#0F0F10] ${Lc?hr?"absolute inset-0 w-full z-49":"md:relative absolute inset-0 w-full":""}`,exitDelay:400}:{isVisible:Lc,isDragging:!Ze&&el,defaultSize:Ze?0:o5(),minSize:Ze?0:30,maxSize:Ze?0:q.previewMaxWidth,className:`bg-[#0F0F10] ${Lc?Ze?"absolute inset-0 w-full z-49":"md:relative absolute inset-0 w-full":""}`,exitDelay:400};return t5?t.jsx(s4,{children:t.jsx("div",{className:"w-screen h-full",children:t.jsx(F3e,{complete:e5,onComplete:wH})})}):Le?t.jsxs(s4,{children:[t.jsxs("div",{className:"flex flex-col w-screen h-full bg-[#0F0F10]",children:[t.jsxs(xe.div,{transition:{duration:.3,ease:"easeInOut"},className:"relative flex items-center justify-between px-3 text-xl text-white md:p-4 ",children:[t.jsxs(xe.div,{animate:{justifyContent:Ms||Ze?"space-between":"flex-start",width:Ze?"100%":Ms?"320px":"auto"},transition:{duration:.3,ease:"easeInOut"},className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-white/80 tracking-[-0.1px] text-[16px] font-medium max-md:hidden",children:b?.tabHeading||"Remix Preview"}),t.jsx("div",{"data-testid":Ss.showcase.infoToggleButton,className:"p-1 border-[#FFFFFF1F] max-md:hidden border-[1.17px] w-fit rounded-[7px] bg-[#FFFFFF0A] cursor-pointer hover:bg-[#FFFFFF14] transition-colors",onClick:()=>{Ms?z("showcase_sidebar_closed",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,tabId:e}):z("showcase_sidebar_opened",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,tabId:e}),ui(!Ms)},children:Ms?t.jsx(Pt,{size:20}):t.jsx(Im,{size:20,color:"white"})})]}),!Qo&&t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bg-[#FFFFFF0A] max-md:hidden border-[#FFFFFF1F] border rounded-[8px] p-1 gap-1 flex",children:[t.jsx("div",{"data-testid":Ss.showcase.viewportDesktop,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${Ns==="desktop"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{z("showcase_view_mode_changed",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,view_mode:"desktop",previous_view_mode:Ns,tabId:e}),si("desktop")},children:t.jsx(fye,{size:16,color:Ns=="desktop"?"black":"white"})}),t.jsx("div",{"data-testid":Ss.showcase.viewportTablet,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${Ns==="tablet"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{z("showcase_view_mode_changed",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,view_mode:"tablet",previous_view_mode:Ns,tabId:e}),si("tablet")},children:t.jsx(Hae,{size:16,color:Ns=="tablet"?"black":"white"})}),t.jsx("div",{"data-testid":Ss.showcase.viewportMobile,className:`flex items-center justify-center w-6 h-6 rounded-[6px] cursor-pointer transition-all ${Ns==="mobile"?"bg-[#FFFFFF]":"opacity-60"}`,onClick:()=>{z("showcase_view_mode_changed",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,view_mode:"mobile",previous_view_mode:Ns,tabId:e}),si("mobile")},children:t.jsx(mye,{size:16,color:Ns=="mobile"?"black":"white"})})]}),t.jsx(Ws,{children:t.jsxs("div",{className:"flex items-center gap-3 max-md:hidden",children:[Sw&&t.jsx(cg,{className:"flex items-center justify-center w-full max-h-8",onClick:rw,icon:t.jsx(dg,{}),children:iw?"Remixing...":"Remix this template"}),t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{"data-testid":Ss.showcase.openNewTabButton,title:"Open in new tab",type:"button",onClick:()=>{const Y=U2();Y&&(z("showcase_open_new_tab_clicked",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,preview_url:Hr,new_tab_url:Y,tabId:e}),window.open(Y,"_blank","noopener,noreferrer"))},className:"min-w-8 min-h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px] group",onMouseEnter:Y=>{const le=Y.currentTarget.querySelector("svg");if(le){const Je=le.querySelector("path");Je&&Je.setAttribute("fill","#ffffffCC")}},onMouseLeave:Y=>{const le=Y.currentTarget.querySelector("svg");if(le){const Je=le.querySelector("path");Je&&Je.setAttribute("fill","#ffffff66")}},children:t.jsx(vye,{fill:"#ffffff66"})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Open in new tab"})]}),t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{"data-testid":Ss.showcase.refreshButton,title:"Refresh",type:"button",onClick:()=>{z("showcase_refresh_clicked",{showcase_id:b?.showcaseId,showcase_title:pr?.title,job_id:ye,preview_url:Hr,tabId:e}),fn(!0),document.querySelectorAll('iframe[title="Remix Preview"]').forEach(le=>{const Je=le.src,It=new URL(Je);It.searchParams.set("_t",Date.now().toString()),le.src=It.toString()})},className:"min-w-8 min-h-8 border-[1.48px] border-[#FFFFFF1F]  bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",onMouseEnter:Y=>{const le=Y.currentTarget.querySelector("svg");if(le){const Je=le.querySelector("path");Je&&Je.setAttribute("fill","#ffffffCC")}},onMouseLeave:Y=>{const le=Y.currentTarget.querySelector("svg");if(le){const Je=le.querySelector("path");Je&&Je.setAttribute("fill","#ffffff66")}},children:t.jsx(E2,{width:20,height:20,fill:"#ffffff66",spinning:!1})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:"Refresh"})]})]})})]}),t.jsxs("div",{className:xu("flex h-full px-[12px] max-md:px-0 md:px-[10px] max-md:pb-0 pb-[10px] bg-[#0F0F10] overflow-y-auto gap-[10px]"),children:[t.jsx(ns,{children:Ms&&!Ze&&t.jsx(xe.div,{initial:{width:0,opacity:0},animate:{width:Ze?"100%":320,opacity:1},exit:{width:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:xu("relative h-full overflow-hidden flex-shrink-0",Ze&&"absolute top-0 left-0 z-50 bg-[#0F0F10]"),children:t.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,delay:.15,ease:"easeOut"},className:"flex flex-col h-full p-4 px-[6px] overflow-y-auto gap-7",style:{minWidth:Ze?"100%":320},children:[t.jsx("div",{className:"flex flex-col gap-2",children:t.jsx("span",{className:"text-[#FFFFFF]/40 font-inter text-[14px] font-medium leading-relaxed",children:_ye(pr?.details?.description)})}),pr?.details?.pages_included&&pr.details.pages_included.length>0&&t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx($8,{className:"opacity-40"}),t.jsx("span",{className:"text-[14px] font-medium",children:"Pages included"})]}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:pr.details.pages_included.map((Y,le)=>t.jsx("div",{className:"bg-[#18181A] px-3 py-1 rounded-[8px] font-inter font-medium text-[14px] text-white/40 border border-[#FFFFFF0F]",children:Y},le))})]}),t.jsx(FU,{highlights:pr?.details?.highlights})]})})}),!Ze&&t.jsxs(xe.div,{className:xu("border border-[#FFFFFF1F] rounded-[16px] overflow-y-auto flex justify-center relative flex-grow flex-shrink h-full",Ms&&"rounded-[16px]",Qo&&"bg-[url('/bg_grid.png')] bg-repeat py-4"),children:[Yt||Nt?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10] z-10",children:t.jsx(Td,{className:"h-12 w-12 text-[#69FF66]"})}):null,Hr?Qo?t.jsx(By,{className:"w-[340px] h-[750px]",maxWidth:"340px",children:t.jsx("iframe",{src:Hr,className:"flex-1 w-full h-full overflow-y-auto border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>fn(!1)})}):t.jsx(xe.iframe,{src:Hr,animate:{width:Ns==="mobile"?"375px":Ns==="tablet"?"768px":"100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>fn(!1)}):!Nt&&!Yt?t.jsx("div",{className:"flex items-center justify-center flex-1 w-full h-full",children:t.jsx("div",{className:"text-lg text-white/60",children:"No preview available"})}):null]}),Ze&&t.jsxs("div",{className:"relative flex items-center justify-center w-full h-full",children:[Yt||Nt?t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#0F0F10] z-10",children:t.jsx(Td,{className:"h-12 w-12 text-[#69FF66]"})}):null,Hr?t.jsx(xe.iframe,{src:Hr,animate:{width:Ns==="mobile"?"375px":Ns==="tablet"?"768px":"100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full border-0",title:"Remix Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",onLoad:()=>fn(!1)}):!Nt&&!Yt?t.jsx("div",{className:"flex items-center justify-center flex-1 w-full h-full",children:t.jsx("div",{className:"text-lg text-white/60",children:"No preview available"})}):null]})]})]}),Sw&&t.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-[#0F0F10] via-[#0F0F10] to-transparent md:hidden z-50",children:t.jsx(cg,{className:"flex items-center justify-center w-full h-12",onClick:rw,icon:t.jsx(dg,{}),children:iw?"Remixing...":"Remix this template"})}),t.jsx(ns,{children:pi&&t.jsx(xe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(yye,{isOpen:pi,onOpenChange:ne,showcaseDetails:pr})})})]}):t.jsxs(s4,{children:[t.jsxs(p3e,{direction:"horizontal",className:"relative flex w-full bg-[#0F0F10]",style:{height:`calc(100dvh - ${LH}px)`},children:[t.jsx(f3e,{defaultSize:Ze?100:Lc?100-o5():100,minSize:Ze?100:q.mainContentMinWidth,maxSize:Ze?100:void 0,className:`${Lc&&!Ze?"md:block hidden":"block"}`,children:t.jsxs("div",{"data-testid":zs.screen,className:"relative flex flex-col h-full max-md:pt-2",children:[YV&&t.jsx(a4e,{}),t.jsx("div",{className:"h-10 md:h-16 pt-1 md:pt-3 bg-transparent md:bg-gradient-to-b from-[#0f0f0f] to-[#0f0f0f00] w-fit md:w-full right-0 md:right-3 fixed md:absolute top-[14px] md:top-[0px] z-[50] md:z-[49]",children:t.jsx(XO,{handleVSCodeLink:O,handleShowDiff:Sr,handlePreviewClick:uw,handleInfoClick:xw,handleDeployClick:wh,onPublish:vh,showActions:fH,hideImportantActions:us&&!te,jobId:ye,tabId:e,podIsPaused:Gn,enableDeploy:mH,publishConfig:hH,previewUrl:ru?Hr:"",buildMode:ft,isShowcaseRemix:kt?.is_showcase_remix,showcase:kt?.showcase,isExpoImage:Qo})}),t.jsx(Yme,{searchState:su,updateSearchQuery:ZV,navigateToPrevMatch:H2,navigateToNextMatch:V2,toggleSearch:jh}),t.jsx("div",{className:"relative flex-1 w-full h-full overflow-hidden",children:t.jsxs("div",{className:"absolute inset-0",children:[(!kt?.forked?.parent_job_id&&!b?.isRemix&&wt.length===0||kt?.forked?.parent_job_id&&wt.length<=1||b?.isRemix&&!kt?.is_showcase_remix)&&t.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center h-full text-center bg-background",children:t.jsx("div",{className:"max-w-md",children:t.jsx("p",{className:"text-[#C4C4CC] text-base mb-2",children:t.jsx(Td,{})})})}),!(!kt?.forked?.parent_job_id&&!b?.isRemix&&wt.length===0||kt?.forked?.parent_job_id&&wt.length<=1||b?.isRemix&&!kt?.is_showcase_remix)&&t.jsx(tz,{ref:X,className:"w-full h-full overflow-x-hidden",style:{height:"100%",paddingTop:Pn?"120px":"0px"},"data-testid":zs.virtuosoList,"data-virtuoso-scroller":"true",data:Ta,atBottomThreshold:100,initialTopMostItemIndex:Q2.current?Math.max(0,wt.length-1):void 0,atBottomStateChange:Y=>{gH(Y)},followOutput:Sh.current?!1:xH?"smooth":!1,itemContent:Y=>{const le=wt[Y],Je=er?.current_usage||0,It=er?.max_budget||0,{lastIsUser:Sn,contextLimitReached:ws}=Z2,fr=wt[Y].function_name==="rollback",gr={...le};kt?.is_showcase_remix===!0&&Y===1&&(le.function_name==="ask_human"||le.function_name==="default_tool")&&(gr.action=ku.remixWelcomeMessage);const Mr=Y===wt.length-1&&ws&&!Sn;if(le.function_name=="forked"){const eo=(le.forked_job_id||le.forked_from)&&le.fork_status!="failed"?"completed":le.fork_status=="failed"?"error":"running";return t.jsx(ix,{state:eo,count:Y+1,message:le,disabled:Gn||P<=0,isDropdownOpen:r5,setIsDropdownOpen:i5,currentJobId:kt?.job_id,messages:wt,onOpenForkModal:G2,onOpenForkModalWithSummary:q2,isLastMessage:Y===wt.length-1})}return t.jsx("div",{className:"flex justify-center w-full min-h-[1px]",children:t.jsxs("div",{className:xu("w-full hover:bg-[rgba(255,255,255,0.02)]",fr&&"bg-[#FFAA800D] hover:bg-[#FFAA800D] mb-2",Y==0&&"mt-10"),children:[wt.length>0&&Y==0&&kt?.forked?.parent_job_id&&t.jsx(ix,{isDropdownOpen:r5,setIsDropdownOpen:i5,state:kt.is_showcase_remix===!0?"remixed":"forked",message:wt[wt.length-1],forked:kt?.forked,showcase:kt?.showcase,currentJobId:kt?.job_id,messages:wt,onOpenForkModal:G2,onOpenForkModalWithSummary:q2,disabled:Gn||P<=0,isLastMessage:!1}),wt.length>0&&Y==0&&kt?.is_showcase_remix&&t.jsx(ix,{isDropdownOpen:r5,setIsDropdownOpen:i5,state:kt.is_showcase_remix===!0?"remixed":"forked",message:wt[wt.length-1],forked:kt?.forked,showcase:kt?.showcase,currentJobId:kt?.job_id,messages:wt,onOpenForkModal:G2,onOpenForkModalWithSummary:q2,disabled:Gn||P<=0,isLastMessage:!1}),t.jsxs("div",{className:xu("mx-auto px-4 w-full"),children:[!le.switching_to_build_mode&&le.role==="assistant"&&"action"in le&&!(wt.length-1===Y&&ws&&le.action==="pause")&&t.jsx(fg,{lastGithubUsed:Me,togglePanel:I,message:gr,userInitials:Y2,onMergeToLocal:()=>{},onShowSubagentMessages:(tl,eo)=>dH(tl,eo,le.id),onSubagentClick:dw,isSubagentActive:Ee,handleOpenVsCode:G,handleRollback:()=>hw(le.request_id),hideImportantActions:us&&!te,isCloudFlow:Nn,isSubagent:!1,handleAddToken:cH,acc_cost:Je,max_budget:It,selectedMessageId:_e,currentChunk:Fs,forkStatus:Ta[Ta.length-1]?.fork_status,isLastMessage:Y===wt.length-1,nextMessageExists:Y+1<=wt.length-1,agentState:Ot,panelState:k,jobDetails:kt,agentName:b?.agentName,subagentName:le.function_name?.replaceAll("_"," ")||"Subagent",onPause:()=>{s5({origin:"MainInput"})},isPauseLoading:ms,podIsPaused:Gn,modalOpen:qe,setModalOpen:it,openUpgradeModal:()=>Va(!0),isTyping:le.action==="initial-llm"&&le.typing,onTypingComplete:()=>{nu()},agentStatus:Mt,searchActive:su.isActive,searchHighlights:$2(le.id),isMatchingMessage:z2(le.id),isExpoImage:Qo,buildMode:ft,onEnableVisualEdit:pw,isVisualEditEnabled:Q&&!Ze,enableVisualEdit:kt?.enable_visual_edit,enablePublish:a5?.enablePublish,jobId:ye,onPublishSuccess:mi,previewUrl:Hr||kt?.deploy_url||""}),le.role==="user"&&!(Y==0&&(kt.forked?.parent_job_id||kt.is_showcase_remix===!0||b?.isRemix===!0))&&t.jsx(KO,{message:wt[Y],hideImportantActions:us,isCloudFlow:Nn,handleRollback:()=>hw(wt[Y].request_id),podIsPaused:Gn,searchActive:su.isActive,searchHighlights:$2(le.id),isMatchingMessage:z2(le.id)}),le.role==="member"&&!(Y==0&&kt.forked?.parent_job_id)&&t.jsx(kB,{message:le,organizationMembers:g}),Mr&&t.jsx(fg,{currentChunk:Fs,togglePanel:I,userInitials:Y2,hideImportantActions:us,isCloudFlow:Nn,message:J2,selectedMessageId:_e,jobDetails:kt,agentName:b?.agentName,subagentName:le.function_name?.replaceAll("_"," ")||"Subagent",onPause:()=>ss(!0),modalOpen:qe,setModalOpen:it,searchActive:su.isActive,searchHighlights:$2(J2.id),isMatchingMessage:z2(J2.id),agentStatus:Mt,isExpoImage:Qo,buildMode:ft,onEnableVisualEdit:pw,isVisualEditEnabled:Q&&!Ze,enableVisualEdit:kt?.enable_visual_edit,enablePublish:a5?.enablePublish,jobId:ye,onPublishSuccess:mi,previewUrl:Hr||kt?.deploy_url||""}),Y===wt.length-1&&(Ot?.agent_running||ft==="salesman_agent"&&le.role==="user")&&lH()]})]})})},defaultItemHeight:100,overscan:400,onScroll:uH,components:{Footer:pH}},`virtuoso-${e}`)]})}),(!us||te)&&!Gn&&Fw&&b?.showCase!==!0&&t.jsxs("div",{className:"absolute z-[40] bottom-0 left-0 right-0 px-0 max-xs:px-0 max-md:px-0 md:px-4 flex flex-col justify-center bg-transparent rounded-t-l-[14px] rounded-t-r-[14px] pointer-events-none",children:[gw&&t.jsx("div",{className:"flex justify-center mb-2 pointer-events-auto",children:t.jsx("button",{type:"button",onClick:_w,className:"z-[9999] p-2 w-[36px] h-[36px] flex items-center justify-center text-black transition-colors bg-white rounded-full shadow-lg hover:bg-white/80","aria-label":"Scroll to bottom","data-testid":zs.scrollToBottom,children:t.jsx("img",{src:wye,alt:"Scroll to bottom",className:"w-6 h-6 rotate-180"})})}),eee()&&t.jsx("div",{className:"pointer-events-auto",children:t.jsx(P5e,{isVisible:Oi,previewUrl:ru?Hr:"",onPreviewClick:async()=>{if(!E&&gt)try{await gt()}catch{}localStorage.setItem(`hasOpenedPreviewBefore-${ye}`,"true"),I({panelName:"showUrlPreviewPanel",value:!0})},ariaLabel:"Open preview panel",hasOpenedBefore:DH})}),t.jsx("div",{className:"relative flex items-center justify-center w-full md:pb-2 pb-0 md:backdrop-blur-md backdrop-blur-md rounded-t-l-[14px] rounded-t-r-[14px] pointer-events-auto",children:t.jsx(IO,{placeholder:`Message ${lt||"Neo"}`,lastGithubUsed:Me,isDisabled:tn==="FAILED"||V6()||!kt?.job_id&&!b?.isPerceivedUX,forked_status:Ta[Ta.length-1]?.fork_status||null,onSubmit:eH,agentState:Ot,agentStatus:Mt,setAgentStatus:Tt,containerId:an,jobDetails:kt,newJob:b.newJob,acc_cost:er?.current_usage,max_budget:er?.max_budget,onAddToken:async()=>{Ft("increase_budget"),St(!0)},inputValue:Ue||"",isCloudFlow:Nn,clientRefId:ks,modelName:ke,modalOpen:qe,setModalOpen:it,isSubagentActive:Ee,disableWhenSubagentActive:!0,showFinishSubagentText:!0,onOpenSubagentPanel:()=>{if(wt.length>0){const Y=wt[wt.length-1];dw(Y)}},onGitHubPush:Y=>{J(Y)},handleDeploy:wh,pauseWasClicked:Yn,onPause:s5,isPauseLoading:ms,agentName:lt||"Agent",subagentName:wn||"Subagent",buildMode:ft,onOpenUploadAssetsModal:mw,ultraMode:Ve,onUltraModeChange:Y=>{z("ultra_mode_toggled",{jobId:ye,containerId:an,isVisible:Y,tabId:e}),Ke(Y)},autoMessageEnabled:y,visualEditMode:Ye,onVisualEditModeChange:Nh,selectedElementName:mn,enableVisualEdit:kt?.enable_visual_edit,visualEditDisabled:fw,hasUnsavedVisualEditChanges:qt,onSaveVisualEditChanges:In.current?.save,onDiscardVisualEditChanges:In.current?.discard,isVisualEditChangesEnabled:Q,showUnsavedChangesModal:Iw,isRemix:b?.isRemix||kt?.is_showcase_remix,isPerceivedUXMode:b?.isPerceivedUX&&!b?.jobId,aiMessagesCount:wt.length,salesmanFinished:Ie})})]}),(Ot?.agent_status_new==="paused"||Ot?.agent_status_new==="stopped"||Ot?.agent_status_new==="archived"||Ot?.agent_status_new==="recovering")&&t.jsx(M5e,{podIsPaused:Gn,archivedPod:pe,isReplaying:re,isInputActive:Fw,showCase:b?.showCase||!1,githubDetails:we,createdBefore25April:Ne,resumePod:Nw,restartError:Bt,jobId:ye,podStateDisplay:Ot?.pod_state_display,isWakingUp:me,showUpgrade:Ot?.show_upgrade,machineType:kt?.machineType,showScrollButton:gw,scrollToBottom:_w})]})}),t.jsx(h3e,{isVisible:Lc,withHandle:!0,className:"bg-[#242424] hidden md:flex",onDragging:Y=>FH(Y)}),t.jsx(m3e,{...PH,children:t.jsxs(xe.div,{className:"relative w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:el?0:.2},children:[t.jsx(xe.div,{"data-testid":Ss.subagent.container,className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:F?0:"100%",opacity:F?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:el?0:void 0},style:{pointerEvents:F?"auto":"none"},children:F&&t.jsx(z0e,{searchState:{isActive:!1,query:""},togglePanel:I,userInitials:Y2,searchHighlights:[{startIndex:10,endIndex:10}],isMatchingMessage:!1,isOpen:F,onClose:()=>{I({panelName:"showSubagentPanel",value:!1}),ts("subagent_panel_toggle",{jobId:ye,containerId:an,isVisible:!1,tabId:e})},messages:Qe,onSubmit:oH,agentState:Ot,agentStatus:Mt,setAgentStatus:Tt,containerId:an,jobDetails:kt,selectedAgent:de,subagentName:mt,isSubagentActive:Ee,isCloudFlow:Nn,pauseWasClicked:Yn,onPause:s5,isPauseLoading:ms,currentChunk:Fs},_e||dt)}),t.jsx(xe.div,{"data-testid":Ss.info.container,className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:S?0:"100%",opacity:S?1:0},transition:{type:"spring",stiffness:300,damping:30,mass:.8,duration:el?0:void 0},style:{pointerEvents:S?"auto":"none"},children:S&&t.jsx(wxe,{isOpen:S,onClose:()=>{WV(!1)},onOpenUploadAssetsModal:mw,isShowcase:Le,chatInfo:{modelName:b?.modelName||kt.modelName,containerStatus:Ot?.job_running?"Running":"Stopped",containerName:an?.split("-")[0]==="task"?an:void 0,containerId:an,assignedPorts:b?.portMapping,jobId:ye,isCloudFlow:Nn,promptName:b?.promptName,user_prompt_id:b.user_prompt_id,promptVersion:b?.promptVersion,costLimit:b?.costLimit,vscodeUrl:rt,vscodePassword:Ut,targetRepo:Me,sourceRepo:we,machineType:b?.machineType}})}),t.jsx(xe.div,{"data-testid":Ss.preview.container,className:"absolute inset-0",initial:{x:"100%",opacity:0},animate:{x:E?0:"100%",opacity:E?1:0},transition:el?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:E?"auto":"none"},children:E&&t.jsx("div",{className:"w-full h-full",style:{pointerEvents:el?"none":"auto"},children:t.jsx(F5e,{shareableLink:We,isOpen:E,isReplaying:re,onClose:()=>I({panelName:"showUrlPreviewPanel",value:!1}),showCase:b?.showCase||Le,previewUrl:ru?kt.is_showcase_remix&&ft!=="build"?kt.showcase?.url:Hr:null,podIsPaused:Gn,onResumePod:Nw,isFromGithub:we&&Ne,shouldReloadIframe:bH,onIframeReloaded:CH,isResizing:el,archivedPod:pe,jobId:ye,env_image:kt?.env_image,restartError:Bt,isWakingUp:me,onPreviewEvent:sH,testMode:kt?.testMode,agentName:kt?.promptName,visualEditMode:Ye,vscodePassword:Ut,enableVisualEdit:kt?.enable_visual_edit,onEnableVisualEdit:()=>Nh(!0),onDisableVisualEdit:()=>At(!1),visualEditDisabled:fw,onSelectedElementChange:Dt,onVisualEditComplete:jH,isVisualEditChangesEnabled:Q,onUnsavedChangesChange:tH,onExposeHandlers:nH,showUnsavedChangesModal:Iw,buildMode:ft,isShowcaseRemix:kt?.is_showcase_remix||b?.isRemix,agentState:Ot,shouldShowActualPreview:XV,onDeployClick:wh})})}),t.jsx(xe.div,{"data-testid":Ss.deploy.container,className:"absolute inset-0 z-[49]",initial:{x:"100%",opacity:0},animate:{x:M?0:"100%",opacity:M?1:0},transition:el?{duration:0,ease:"linear"}:{type:"spring",stiffness:300,damping:30,mass:.8},style:{pointerEvents:M?"auto":"none"},children:M&&t.jsx(dye,{isOpen:M,onClose:()=>I({panelName:"showDeployPanel",value:!1}),jobId:ye,podIsPaused:Gn,agentStatus:Ot?.job_running?"running":"stopped",handleJobClick:sw,onShareLogs:SH,onRunHealthCheck:kH,tabId:e,isExpoImage:Qo,previewUrl:Hr})})]})}),qe.fork&&t.jsx(B3e,{isOpen:qe.fork,appName:kt?.dynamic_preview_subdomain||"",onOpenChange:()=>{it(Y=>({...Y,fork:!Y.fork})),en(null)},onFork:RH,podIsPaused:Gn,jobId:An?.jobId||kt?.job_id,messages:An?.messages||wt,summaryData:An?.summaryData,startInSummaryMode:An?.startInSummaryMode,userPromptId:kt?.user_prompt_id}),qe.visualEdits&&t.jsx(i4e,{open:qe.visualEdits,onOpenChange:Y=>{it(le=>({...le,visualEdits:Y})),Y||H0()},onClose:()=>{it(Y=>({...Y,visualEdits:!1})),H0()},onGetStarted:()=>{it(Y=>({...Y,visualEdits:!1})),H0()},onLearnMore:()=>{window.open("https://help.emergent.sh/articles/662181-visual-edits","_blank")}}),qe.unsavedChanges&&t.jsx(ch,{isOpen:qe.unsavedChanges,onClose:c5,onConfirm:()=>{_t.onConfirm(),c5()},onCancel:c5,title:_t.title,description:_t.description,confirmButton:_t.confirmButton,cancelButton:_t.cancelButton,isFullscreen:_t.isFullscreen}),t.jsx(t4e,{isOpen:Cn,onOpenChange:Y=>{On(Y),Y||Vn([])},jobId:kt?.job_id,handleSendMessage:ka,initialFiles:rs,onUploadComplete:(Y,le)=>{Ze&&I({panelName:"showInfoPanel",value:!1})},onUploadError:(Y,le)=>{}}),t.jsx(n4e,{isOpen:Bn,onClose:iH,videoFile:jn,videoUrl:fs,testCasesData:hn,isLoadingTestCases:Wn,onApproveVideo:rH,onSaveTestCases:_H,showApprovalStage:Cs}),t.jsx(q0e,{isOpen:zt,onClose:aH,rrwebEvents:$e,testCasesData:Te,isLoadingTestCases:Xt,onSubmitScript:NH,jobId:ye})]}),t.jsx(ns,{children:sr&&t.jsx(xe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx($xe,{isOpen:sr,onOpenChange:Y=>{he(Y)},rollbackRequestId:et,containerId:an,jobId:ye,isCloudFlow:Nn,session:j,resetPolling:zV,setAiMessages:_h})})}),t.jsx(ns,{children:Wt&&t.jsx(xe.div,{"data-testid":Rr.vscode.container,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(Cxe,{isOpen:Wt,onOpenChange:T,vscodeUrl:rt,vscodePassword:Ut,onOpenInBrowser:G})})}),t.jsx(ns,{children:_s&&t.jsx(xe.div,{"data-testid":Rr.diff.container,initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(ihe,{isOpen:_s,onOpenVSCode:G,onClose:()=>Ks(!1),containerId:an,modifiedFiles:Dn,initialCommitId:Qn,isCloudFlow:Nn,jobId:ye})})}),t.jsx(ns,{children:qs&&t.jsx(xe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(l4e,{isOpen:qs,onOpenChange:ur,podIsPaused:Gn,buildMode:ft,previewUrl:ru?Hr:"",isPublishDisabled:!Mc||!Nn,hasPreviewUrl:!!Hr,enablePublish:a5?.enablePublish,onInfoClick:xw,onVSCodeClick:O,onPreviewClick:uw,onDeployClick:wh,jobId:ye,onPublishSuccess:mi})})}),t.jsx(ns,{children:Ct&&t.jsx(xe.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:5},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:t.jsx(W0e,{modelName:ke,triggeredLocation:Fe,variant:ct,handleSendMessage:ka,isOpen:Ct,onOpenChange:St,currentCost:er?.current_usage||0,maxBudget:er?.max_budget,jobId:ye,onBudgetUpdate:async()=>{jo(),St(!1),ts("budget_updated",{jobId:ye,containerId:an,tabId:e,newMaxBudget:er?.max_budget||0,currentUsage:er?.current_usage||0})}})})}),t.jsx(Ic,{isOpen:Sa,onOpenChange:Va,triggerLocation:Qo?"mobilePublish":"default"})]})}const Sye=({checked:e,onCheckedChange:n,disabled:s=!1,className:r="",checkedColor:i="#29BCCC",uncheckedColor:a="#131314",title:o="Toggle Switch"})=>t.jsx("button",{title:o,type:"button",role:"switch","aria-checked":e?"true":"false",disabled:s,onClick:l=>{l.stopPropagation(),!s&&n(!e)},className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed ${r}`,style:{backgroundColor:e?i:a},children:t.jsx(xe.div,{className:"relative",animate:{x:e?28:4},transition:{type:"spring",stiffness:500,damping:30},children:t.jsxs("div",{className:"relative w-6 h-6",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"rgba(255, 255, 255, 0.05)"}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                linear-gradient(180deg, #242528 0%, #111113 100%),
                linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%)
              `,filter:`
                drop-shadow(0px 0.85px 2.12px rgba(0, 0, 0, 0.36))
                drop-shadow(0px 3.6px 3.6px rgba(0, 0, 0, 0.31))
                drop-shadow(0px 8.27px 5.09px rgba(0, 0, 0, 0.18))
                drop-shadow(0px 14.84px 5.93px rgba(0, 0, 0, 0.05))
                drop-shadow(0px 23.1px 6.57px rgba(0, 0, 0, 0.01))
              `}}),t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`
                radial-gradient(circle at center, 
                  rgba(255, 255, 255, 0.1) 0%, 
                  rgba(255, 255, 255, 0.03) 50%, 
                  transparent 100%
                )
              `,boxShadow:`
                inset 0px 1.48px 2.97px rgba(255, 255, 255, 0.03),
                inset 0px 1.27px 0.85px rgba(255, 255, 255, 0.02),
                inset 0px 0.21px 0.21px rgba(255, 255, 255, 0.1)
              `}})]})})}),kye=({size:e=16,width:n,height:s,color:r="white",fill:i,className:a,style:o,onClick:l,...c})=>{const u=n||e,p=s||e,f=i||r;return t.jsx("svg",{width:u,height:p,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,style:o,onClick:l,...c,children:t.jsx("path",{d:"M11.586 3L8.586 6L10 7.414L13 4.414V7H15V1H9V3H11.586ZM4.414 13L7.414 10L6 8.586L3 11.586V9H1V15H7V13H4.414Z",fill:f})})},Tye=W.pro.workbench,Iye=({item:e})=>t.jsxs("p",{className:"items-start gap-2 font-['Inter'] text-[14px]",children:[t.jsx("span",{className:'font-["Inter"] mr-1',children:""}),e.boldText&&t.jsx("span",{className:"font-['Inter'] text-[14px] font-medium text-nowrap",children:e.boldText}),e.text,e.highlight&&t.jsx("span",{className:"text-[#80AAFF] font-['Inter']",children:e.highlight})]}),zu=({items:e})=>t.jsx("div",{className:"space-y-4 text-[#737780] font-medium font-['Inter'] mb-4",children:e.map((n,s)=>t.jsx(Iye,{item:n},s))}),Aye=({isOpen:e,onOpenChange:n,title:s,value:r,onChange:i,readOnly:a=!1})=>{const[o,l]=d.useState(r),c=d.useRef(null);d.useEffect(()=>{l(r)},[r]);const u=()=>{a||i(o),n(!1)},p=()=>{l(r),n(!1)};return d.useEffect(()=>{const f=c.current;f&&e&&!a&&setTimeout(()=>{f.focus()},100)},[e,a]),t.jsx(zn,{open:e,onOpenChange:n,children:t.jsxs(dr,{className:"sm:max-w-[700px] max-h-[95dvh] bg-[#18181A] text-white border border-[#242424] rounded-[16px] overflow-hidden flex flex-col",children:[t.jsxs(Al,{className:"flex flex-row bg-[#1C1C1F] items-center justify-between pb-4 space-y-0",children:[t.jsx(uo,{className:"text-[#C4C4CC] font-brockmann text-[20px] font-medium leading-[28px] tracking-[-0.44px]",children:s}),t.jsxs("button",{type:"button",onClick:p,className:"rounded-[8px] opacity-70 h-[36px] w-[36px]  bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground flex items-center justify-center",children:[t.jsx(Pt,{className:"w-5 h-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]}),t.jsx("div",{className:"flex flex-col flex-1 gap-4 overflow-hidden bg-[#18181A]",children:t.jsx(Tc,{ref:c,value:o,onChange:f=>l(f.target.value),readOnly:a,tabIndex:a?-1:0,onFocus:f=>{a&&f.target.blur()},className:A("font-['Inter'] border-none bg-none p-6 bg-[#18181A] text-white text-[16px] min-h-[600px] resize-none placeholder:text-[#C4C4CC] focus:border-none focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 overflow-y-auto flex-1",a&&"cursor-not-allowed opacity-60"),placeholder:"Enter your system prompt..."})}),t.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t-[1px] border-[#242424]",children:[t.jsx("button",{onClick:p,className:"border-[#333] px-5 py-3 font-medium text-[#C4C4CC] bg-[#1D1D1E] rounded-full hover:bg-[#1D1D1E] hover:text-white",children:"Cancel"}),!a&&t.jsx("button",{onClick:u,className:"bg-[#2EE572] px-5 py-3 text-[#0E0E0F] rounded-full font-semibold hover:bg-[#2EE572]/90",children:"Save & Continue"})]})]})})},Of=({section:e,value:n,onChange:s,dynamicVariableValues:r,onDynamicVariableChange:i})=>{const a=d.useRef(null),[o,l]=d.useState(!1),[c,u]=d.useState(!1),p=e.isDynamic&&e.variableName?r?.[e.variableName]||"":n,f=h=>{e.isDynamic&&e.variableName&&i?i(e.variableName,h):s(h)},m=()=>{e.title.includes("System Constraints")||e.title.includes("System Prompt")?u(!0):(l(!0),setTimeout(()=>{e.showLock||a.current?.focus()},0))};return d.useEffect(()=>{const h=a.current;if(h)if(h.style.height="auto",o){const x=Math.min(h.scrollHeight,500);h.style.height=`${x}px`}else h.style.height="300px"},[p,o]),t.jsxs(t.Fragment,{children:[t.jsx(Aye,{isOpen:c,onOpenChange:u,title:e.readOnly||e.showLock?e.title:`Edit ${e.title}`,value:p,onChange:f,readOnly:e.readOnly||e.showLock}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ko,{htmlFor:e.id,className:"font-medium text-[14px] text-[#e4eeff] font-inter",children:e.title}),e.showLock&&t.jsxs("span",{className:"flex items-center font-inter font-medium text-[14px] gap-1 text-white/50",children:[t.jsx(ca,{size:16}),"read only"]})]})}),t.jsxs("div",{className:"relative rounded-lg overflow-clip",children:[t.jsx(Tc,{ref:a,id:e.id,value:p,onChange:h=>f(h.target.value),readOnly:e.readOnly||e.showLock,tabIndex:e.showLock?-1:0,onFocus:h=>{e.showLock&&h.target.blur()},className:A("bg-[#FFFFFF05] font-['Inter'] rounded-lg border border-[#262629] p-4 text-white text-[16px] max-h-[300px] resize-none placeholder:text-[#C4C4CC] focus:border-[#666] focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0",e.showLock&&"opacity-60")}),t.jsx("div",{onClick:()=>{e.title.includes("System Constraints")||e.title.includes("System Prompt")?u(!0):o?l(!1):m()},className:"absolute hover:bg-[#FFFFFF]/20 bg-[#FFFFFF1A] right-2 bottom-2 p-2 cursor-pointer z-[20] rounded-[8px] backdrop-blur-lg",children:t.jsx(kye,{size:16,className:A(" text-white transition-transform duration-200",e.title.includes("System Constraints")||e.title.includes("System Prompt")?"rotate-0":o?"rotate-180":"rotate-0")})})]})]})]})},Bf=({tool:e,isSelected:n=!1,onToggle:s,onCheckedChange:r,isNecessary:i=!1,variant:a="agent",onViewDetails:o,hideToggle:l=!1,className:c=""})=>{const[u,p]=d.useState(!1),f=d.useCallback(()=>{o?.(e)},[o,e]);return t.jsxs("div",{className:A("flex items-center group gap-[4rem] justify-between p-4 rounded-lg bg-[#18181A] transition-all ease-in-out duration-200 hover:bg-[#FFFFFF]/5",c),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center min-w-10 min-h-10 bg-[#272729] rounded-full",children:t.jsx("img",{src:Tye,alt:"Workbench",className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-[#ced7e5] capitalize",children:e.name.replaceAll("_"," ")}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-[#626366] text-[14px] font-medium font-['Inter'] text-nowrap truncate",children:e.user_descriptions?.short_desc}),t.jsx(ns,{children:u&&t.jsx(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),t.jsx(ns,{children:u&&t.jsx(xe.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-nowrap text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:f,children:"View Details"})})]})]})]}),!l&&t.jsx(h2,{checked:n,onCheckedChange:m=>{i||(r?r(m):s&&s())},disabled:i})]})},cb=({subAgent:e,isSelected:n=!1,onToggle:s,onCheckedChange:r,isApiSubAgent:i=!1,isDefault:a=!1,onViewDetails:o,onEdit:l,hideToggle:c=!1})=>{const[u,p]=d.useState(!1),f=e.description?.trim()||e.skill_description?.trim(),m=d.useMemo(()=>({...e,isApiSubAgent:i,isDefault:a}),[e,i,a]),h=d.useCallback(()=>{o?.(m)},[o,m]);return t.jsx("div",{className:A("flex items-center group justify-between p-4 bg-[#18181A] hover:bg-[#FFFFFF05] rounded-lg transition-all ease-in-out duration-200"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:t.jsxs("div",{className:"flex items-center gap-3 max-w-full w-full",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:t.jsx(Bd,{size:20,primaryColor:a?"#fff":"#dd99ff"})}),t.jsxs("div",{className:"w-full max-w-[562px]",children:[t.jsx("h3",{className:"font-medium  text-[#ced7e5] capitalize group-hover:text-[#E5EFFF]",children:e.name.replaceAll("_"," ")}),t.jsxs("div",{className:"flex items-center justify-between gap-2",children:[t.jsx("p",{className:"text-[#626366] max-w-[50%] truncate text-[14px] font-medium font-['Inter']",children:e.skill_description||e.description||"No description available"}),t.jsxs("div",{className:"flex justify-between gap-2 grow",children:[t.jsxs("div",{className:"flex justify-center items-center gap-2",children:[t.jsx(ns,{children:u&&f&&t.jsx(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2,ease:"easeInOut"},className:"w-1 h-1 rounded-full bg-[#45474D]"})}),t.jsx(ns,{children:u&&f&&t.jsx(xe.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2,ease:"easeInOut"},className:"text-[#B7BFCC] text-[14px] font-medium font-['Inter'] cursor-pointer hover:text-white",onClick:h,children:"View Details"})})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!a&&l&&t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:x=>{x.stopPropagation(),l(e)},children:[t.jsx(Hp,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]}),!c&&t.jsx(Sye,{checked:n,checkedColor:a?"#29BCCC":"#DD99FF",onCheckedChange:x=>{r?r(x):s&&s()},disabled:!1})]})]})]})]})]})})},Ra=({className:e="",children:n})=>t.jsxs("div",{className:`relative overflow-hidden bg-[#FFFFFF05] rounded-lg ${e}`,children:[t.jsx("div",{className:"absolute inset-0 shimmer-effect"}),n]}),Dye=()=>t.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ra,{className:"w-4 h-4 rounded"}),t.jsx(Ra,{className:"w-32 h-4 rounded"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ra,{className:"w-24 h-4 rounded"}),t.jsx(Ra,{className:"w-5 h-5 rounded"})]})]}),t.jsx(Ra,{className:"w-full h-32 rounded-lg border border-[#1F1F1F]",children:t.jsxs("div",{className:"p-4 space-y-2",children:[t.jsx("div",{className:"w-full h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-4/5 h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-3/4 h-3 bg-[#FFFFFF08] rounded"}),t.jsx("div",{className:"w-5/6 h-3 bg-[#FFFFFF08] rounded"})]})})]}),Mye=()=>t.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ra,{className:"w-8 h-8 rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ra,{className:"w-24 h-4 rounded"}),t.jsx(Ra,{className:"w-40 h-3 rounded"})]})]}),t.jsx(Ra,{className:"w-11 h-6 rounded-full"})]}),Lye=()=>t.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 bg-[#FFFFFF05] rounded-lg border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ra,{className:"w-8 h-8 rounded-lg"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Ra,{className:"w-28 h-4 rounded"}),t.jsx(Ra,{className:"w-48 h-3 rounded"})]})]}),t.jsx(Ra,{className:"w-11 h-6 rounded-full"})]}),Wy=({count:e=3})=>t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((n,s)=>t.jsx(Mye,{},s))}),BS=({count:e=4})=>t.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((n,s)=>t.jsx(Lye,{},s))}),EU=({count:e=3})=>t.jsx("div",{className:"flex flex-col gap-12",children:Array.from({length:e}).map((n,s)=>t.jsx(Dye,{},s))}),Rye=W.pro.book,Pye=W.pro.external,Oye={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-3"},US={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};function SU({text:e,onClick:n,className:s,disabled:r=!1,bookIcon:i=Rye,externalIcon:a=Pye,size:o="md",showExternalIcon:l=!0,...c}){return t.jsxs(xe.button,{onClick:n,disabled:r,className:A("flex items-center border-[#2B2B2E] border bg-[#1E1E1F] hover:bg-[#1E1E1F90] rounded-[8px] transition-colors text-white font-medium",Oye[o],r&&"opacity-50 cursor-not-allowed hover:bg-[#1E1E1F]",s),whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},transition:{duration:.15},...c,children:[t.jsx("img",{src:i,alt:"Book",className:A("inline-block",US[o])}),t.jsx("span",{children:e}),l&&t.jsx("img",{src:a,alt:"External",className:A("inline-block",US[o])})]})}const ax=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_118_2904",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_118_2904)",children:t.jsx("path",{d:"M5.77778 10.6667C5.28889 10.6667 4.87037 10.4926 4.52222 10.1444C4.17407 9.7963 4 9.37778 4 8.88889V5.77778C4 5.28889 4.17407 4.87037 4.52222 4.52222C4.87037 4.17407 5.28889 4 5.77778 4H8.88889C9.37778 4 9.7963 4.17407 10.1444 4.52222C10.4926 4.87037 10.6667 5.28889 10.6667 5.77778V8.88889C10.6667 9.37778 10.4926 9.7963 10.1444 10.1444C9.7963 10.4926 9.37778 10.6667 8.88889 10.6667H5.77778ZM5.77778 20C5.28889 20 4.87037 19.8259 4.52222 19.4778C4.17407 19.1296 4 18.7111 4 18.2222V15.1111C4 14.6222 4.17407 14.2037 4.52222 13.8556C4.87037 13.5074 5.28889 13.3333 5.77778 13.3333H8.88889C9.37778 13.3333 9.7963 13.5074 10.1444 13.8556C10.4926 14.2037 10.6667 14.6222 10.6667 15.1111V18.2222C10.6667 18.7111 10.4926 19.1296 10.1444 19.4778C9.7963 19.8259 9.37778 20 8.88889 20H5.77778ZM15.1111 10.6667C14.6222 10.6667 14.2037 10.4926 13.8556 10.1444C13.5074 9.7963 13.3333 9.37778 13.3333 8.88889V5.77778C13.3333 5.28889 13.5074 4.87037 13.8556 4.52222C14.2037 4.17407 14.6222 4 15.1111 4H18.2222C18.7111 4 19.1296 4.17407 19.4778 4.52222C19.8259 4.87037 20 5.28889 20 5.77778V8.88889C20 9.37778 19.8259 9.7963 19.4778 10.1444C19.1296 10.4926 18.7111 10.6667 18.2222 10.6667H15.1111ZM15.1111 20C14.6222 20 14.2037 19.8259 13.8556 19.4778C13.5074 19.1296 13.3333 18.7111 13.3333 18.2222V15.1111C13.3333 14.6222 13.5074 14.2037 13.8556 13.8556C14.2037 13.5074 14.6222 13.3333 15.1111 13.3333H18.2222C18.7111 13.3333 19.1296 13.5074 19.4778 13.8556C19.8259 14.2037 20 14.6222 20 15.1111V18.2222C20 18.7111 19.8259 19.1296 19.4778 19.4778C19.1296 19.8259 18.7111 20 18.2222 20H15.1111Z",fill:m,fillOpacity:a})})]})},kU=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o,style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_118_2584",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_118_2584)",children:t.jsx("path",{d:"M2 15.1111V12.8889H9.77778V15.1111H2ZM2 10.6667V8.44444H14.2222V10.6667H2ZM2 6.22222V4H14.2222V6.22222H2ZM12 21.7778V18.3611L18.1389 12.25C18.3056 12.0833 18.4907 11.963 18.6944 11.8889C18.8981 11.8148 19.1019 11.7778 19.3056 11.7778C19.5278 11.7778 19.7407 11.8194 19.9444 11.9028C20.1481 11.9861 20.3333 12.1111 20.5 12.2778L21.5278 13.3056C21.6759 13.4722 21.7917 13.6574 21.875 13.8611C21.9583 14.0648 22 14.2685 22 14.4722C22 14.6759 21.963 14.8843 21.8889 15.0972C21.8148 15.3102 21.6944 15.5 21.5278 15.6667L15.4167 21.7778H12ZM19.3056 15.5556L20.3333 14.4722L19.3056 13.4444L18.25 14.5L19.3056 15.5556Z",fill:m,fillOpacity:a})})]})},Bye=({size:e=24,width:n,height:s,color:r="white",fill:i,fillOpacity:a=.2,className:o="",style:l,onClick:c,...u})=>{const p=n||e,f=s||e,m=i||r;return t.jsxs("svg",{width:p,height:f,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,style:l,onClick:c,...u,children:[t.jsx("mask",{id:"mask0_180_3078",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:t.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),t.jsx("g",{mask:"url(#mask0_180_3078)",children:t.jsx("path",{d:"M4.755 17.355C4.2 16.605 3.76875 15.7762 3.46125 14.8687C3.15375 13.9612 3 13.005 3 12C3 10.995 3.15 10.0425 3.45 9.1425C3.75 8.2425 4.1775 7.4175 4.7325 6.6675L6.0375 7.95C5.6475 8.52 5.34375 9.14625 5.12625 9.82875C4.90875 10.5113 4.8 11.235 4.8 12C4.8 12.765 4.90875 13.4925 5.12625 14.1825C5.34375 14.8725 5.6475 15.5025 6.0375 16.0725L4.755 17.355ZM12 21C10.995 21 10.0425 20.85 9.1425 20.55C8.2425 20.25 7.4175 19.8225 6.6675 19.2675L7.95 17.9625C8.52 18.3525 9.14625 18.6562 9.82875 18.8738C10.5113 19.0912 11.235 19.2 12 19.2C12.765 19.2 13.4888 19.0912 14.1713 18.8738C14.8538 18.6562 15.48 18.3525 16.05 17.9625L17.3325 19.2675C16.5825 19.8225 15.7575 20.25 14.8575 20.55C13.9575 20.85 13.005 21 12 21ZM19.245 17.355L17.9625 16.0725C18.3525 15.5025 18.6562 14.8725 18.8738 14.1825C19.0912 13.4925 19.2 12.765 19.2 12C19.2 11.235 19.0912 10.5113 18.8738 9.82875C18.6562 9.14625 18.3525 8.52 17.9625 7.95L19.2675 6.6675C19.8225 7.4175 20.25 8.2425 20.55 9.1425C20.85 10.0425 21 10.995 21 12C21 13.005 20.8463 13.9612 20.5387 14.8687C20.2313 15.7762 19.8 16.605 19.245 17.355ZM7.9275 6.0375L6.645 4.755C7.395 4.2 8.22375 3.76875 9.13125 3.46125C10.0387 3.15375 10.995 3 12 3C13.02 3 13.98 3.15375 14.88 3.46125C15.78 3.76875 16.605 4.2 17.355 4.755L16.0725 6.0375C15.5025 5.6475 14.8725 5.34375 14.1825 5.12625C13.4925 4.90875 12.765 4.8 12 4.8C11.235 4.8 10.5075 4.90875 9.8175 5.12625C9.1275 5.34375 8.4975 5.6475 7.9275 6.0375ZM12 16.5C10.755 16.5 9.69375 16.0612 8.81625 15.1838C7.93875 14.3062 7.5 13.245 7.5 12C7.5 10.755 7.93875 9.69375 8.81625 8.81625C9.69375 7.93875 10.755 7.5 12 7.5C13.245 7.5 14.3062 7.93875 15.1838 8.81625C16.0612 9.69375 16.5 10.755 16.5 12C16.5 13.245 16.0612 14.3062 15.1838 15.1838C14.3062 16.0612 13.245 16.5 12 16.5Z",fill:m,fillOpacity:a})})]})},VS=({onBack:e})=>t.jsxs(xe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(xe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Perfect AI Agent"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs(xe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsx(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Welcome! Creating an AI agent might sound complex, but think of it like training a skilled assistant who's eager to help with your specific needs. Let's walk through this together, step by step."})}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Give Your Agent a Personality (The Persona)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Just like people excel in different areas, AI agents work best when they know their role."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think of this as introducing your agent to their new job. Be specific about who they are and what they're good at:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Need a Research Assistant?"})," Try:"," ",t.jsx("em",{children:'"You are an expert researcher, profound at searching through information and synthesizing complex topics into clear insights..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Want a Creative Designer?"})," Start with:"," ",t.jsx("em",{children:'"You are an experienced Designer who excels at creating beautiful, user-friendly interfaces..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Building Something Custom?"})," Consider:"," ",t.jsx("em",{children:'"You are Emergent, a full-stack app builder who excels in creating innovative solutions..."'})]})})]})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"Pro tip: The more specific you are about their expertise, the better they'll perform!"})})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Explain What You Need Done (The Task)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Clear instructions lead to better results - just like giving directions to a friend."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This is where you describe your actual goal. Be as clear as you would be when asking a colleague for help:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Want to automate repetitive business tasks? Describe which ones and how they currently work"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Need a study app? Explain what subjects and what features would help you learn best"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Building something unique? Paint a picture of what success looks like"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Remember: Your agent wants to help, so don't hold back on details!"})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Share Current Context (Optional but Helpful)"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sometimes your agent needs to know about recent developments or specific circumstances."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your task involves current events or recent changes in technology, give your agent a heads up. For example:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:`"It's currently July 2025, and Emergent just launched E1.2, their most capable model yet!"`})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Our company just switched to a new system last month..."'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"The latest regulations in our industry require..."'})})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This helps your agent provide timely, relevant solutions rather than outdated information."})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Map Out Your Ideal Workflow"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sharing your thought process helps the agent work the way YOU work."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Think about how you'd tackle this problem yourself, then guide your agent through those same steps:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Start with Planning:"})," ",t.jsx("em",{children:'"First, analyze the requirements and create a plan..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Build the Foundation:"})," ",t.jsx("em",{children:'"Begin with the basic functionality..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Add Advanced Features:"})," ",t.jsx("em",{children:'"Once the core is working, implement..."'})]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Customize to Perfection:"})," ",t.jsx("em",{children:'"Finally, add these specific touches I need..."'})]})})]})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Working with Sub-agents (Team Players)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"If your main agent needs to delegate specialized tasks to other agents (like a manager working with specialists), mention this in your workflow:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"When you need detailed code analysis, consult the Code Reviewer agent..."'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"For design decisions, collaborate with the UI/UX specialist agent..."'})})})]})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.7},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 5: Set Your Guidelines and Preferences"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'These are your "house rules" - they help your agent work exactly how you prefer.'})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Share any specific preferences, constraints, or things to be careful about:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Always prioritize user-friendly solutions over complex ones"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Use the troubleshooter tool primarily for debugging issues"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"When testing frontend features, use the frontend testing tool exclusively"'})})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:t.jsx("em",{children:'"Double-check any financial calculations for accuracy"'})})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of these as friendly reminders that keep your agent on track."})]})]})]}),Uye=({onBack:e})=>t.jsxs(xe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(xe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs(xe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Before adding a tool, ask yourself: "Will my agent actually need this for the task I'm giving it?"`}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Think of default tools as the "starter pack"  they're like the engine in a car. Your agent needs these to:`}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),Vye=({onBack:e})=>t.jsxs(xe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(xe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Sub-Agents"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs(xe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What are Sub-Agents?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Think of sub-agents as your agent's network of expert colleagues. Just like how a general contractor might call in an electrician for wiring or a plumber for pipes, your main agent can call on sub-agents when it needs specialized help."})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Hyper-Specialization: Masters of Their Craft"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Each sub-agent is like a Master in their specific field."})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"On-Demand Collaboration: Right Expert, Right Time"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your main agent intelligently decides when to bring in the sub agents based on their use case."})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How Main Agent and Sub-Agent interact:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"You give your main agent a task"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"It recognizes what subagent is needed, for a specific subtask"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Automatically hands over the required subtask to the right sub-agents"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub agent performs its function and outputs the result"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"5"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Receives the response from the subagent"})})]})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"How to Create Sub-agents Effectively"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"1. Identify Your Needs:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Start by giving your Sub-Agent a name, Ask yourself:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" What specialized tasks come up repeatedly, that needs to be handed off the main Agent?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Where do I need a highly specific agent?"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"2. Give definition to the Sub-Agent:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This definition will go to the main agent, please clearly state what this Sub Agent can do, and when it should be called."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"3. Define System Prompt:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give your agent step-by-step approach to approach the required task. Set guidelines for best practices, constraints, and things to avoid."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"4. Configure Sub-Agent Tools:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Assign tools that are required by your subagent to complete their work and"})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Best Practices for Sub-agent Success"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-[#80FFF9] text-[18px] font-semibold",children:"DO's:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Give each sub-agent a clear, focused role"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Provide context about when they should be consulted"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Allow sub-agents to communicate with each other when needed"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#80FFF9] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Test the handoffs between agents to ensure smooth operation"})})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-[#FF6B6B] text-[18px] font-semibold",children:"DON'Ts:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Make sub-agents too broad (defeats the purpose of specialization)"})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#FF6B6B]/20 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-[#FF6B6B] rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Overwhelm with too many sub-agents initially (start small, grow as needed)"})})]})]})]})]})]})]}),HS=({onBack:e})=>t.jsxs(xe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(xe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Creating Your Sub-Agent: A Step-by-Step Guide"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs(xe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsx(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:t.jsx("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:"Sub-agents are like specialist consultants that your main agent can call upon for specific expertise. While creating them follows similar principles to main agents, there are key differences in how you approach each step."})}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 1: Define Your Sub-Agent's Hyper-Specialized Persona"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents excel through laser-focused expertise, not broad capabilities."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Unlike main agents who might wear many hats, sub-agents should be masters of ONE specific domain."}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Code Review Specialist:"})," ",t.jsx("em",{children:'"You are an expert code reviewer who specializes in identifying bugs, security vulnerabilities, and optimization opportunities in code..."'})]})})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Key difference from main agents:"})," Be ultra-specific. If your main agent is a general contractor, your sub-agent should be the master electrician who only does wiring."]})})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 2: Create Two Descriptions - One for Each Audience"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Your sub-agent needs to be understood by both the main agent AND perform its specialized task."})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"A. The Definition (For the Main Agent)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells your main agent WHEN and WHY to call this sub-agent:"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"The Code Review Sub-Agent should be consulted when:'}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You need to verify code quality before deployment"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You encounter bugs or errors in existing code"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:" You want to optimize performance of specific functions"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'This agent specializes in JavaScript, Python, and React applications."'})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"B. The Task Description (For the Sub-Agent)"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"This tells the sub-agent WHAT to do when called:"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border border-[#333333]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Example:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'"When you receive code to review, analyze it for:'}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"1. Syntax errors and bugs"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"2. Security vulnerabilities"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"3. Performance bottlenecks"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"4. Code style and best practices"})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:'Provide specific, actionable feedback with examples."'})]})]})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 3: Design the System Prompt with Focused Workflow"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need clear, repeatable processes since they handle specific types of requests."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Structure your sub-agent's workflow around its specialization:"}),t.jsx("div",{className:"bg-[#1A1A1C] p-4 rounded-[8px] border border-[#333333]",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"1"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Receive the Specific Request:"})," Understand what the main agent needs"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"2"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Apply Your Expertise:"})," Use your specialized knowledge to analyze"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"3"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Deliver Targeted Results:"})," Provide exactly what was requested"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-[#80FFF9]/20 backdrop-blur-lg max-h-6 max-w-6 min-h-6 min-w-6",children:t.jsx("span",{className:"text-[#80FFF9] text-[12px] font-bold",children:"4"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Include Recommendations:"})," Suggest improvements within your domain"]})})]})]})})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Step 4: Set Interaction Guidelines"}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why this matters:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Sub-agents need to know how to communicate with the main agent and potentially other sub-agents."})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Include guidelines for:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Communication Protocol:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Always format your responses with clear sections: Analysis, Findings, Recommendations"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Flag critical issues immediately at the start of your response"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Use technical terms when communicating with the main agent"'})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Constraints and Best Practices:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Stay within your domain of expertise"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"Prioritize accuracy over speed in your analysis"'})]}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[" ",t.jsx("em",{children:'"If you cannot complete a request, explain why and suggest alternatives"'})]})]})]})]}),t.jsx(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.6},children:t.jsxs("div",{className:"border-t border-[#333333] pt-6",children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold mb-4",children:"System Constraints (Read-Only Section)"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:[t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2",children:"What this is:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:'This section contains essential technical guidelines that help your sub-agent operate properly within its environment. Think of it as the "operating manual" that ensures everything runs smoothly.'})]}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Why it's protected:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed mb-2",children:"These constraints are carefully designed to ensure your agent can:"}),t.jsxs("div",{className:"ml-4 space-y-1",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Access the right tools and features"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate with other agents effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain security and performance standards"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Follow best practices automatically"})]})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsx("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:"You don't need to modify this section - it's like the foundation of a house that supports everything you build on top!"})})]})]})})]})]}),Hye=({onBack:e})=>t.jsxs(xe.div,{className:"relative flex flex-col w-full gap-2 pb-4 md:gap-4 md:pb-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[t.jsx(xe.div,{className:"sticky top-0 p-4 bg-[#1C1C1F] md:px-6 md:pt-6 z-[10] border-b-[1px] border-[#242424]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t.jsxs("div",{className:"bg-[#1C1C1F] flex items-center justify-between",children:[t.jsx("h2",{className:"text-white/80 text-[18px] md:text-[24px] font-semibold",children:"Learn about Tools"}),t.jsx("button",{type:"button",onClick:e,className:"w-10 h-10 bg-[#FFFFFF0D] rounded-full flex items-center justify-center text-[#737780] backdrop-blur-lg hover:text-white transition-colors hover:bg-[#FFFFFF0A]","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})})]})}),t.jsxs(xe.div,{className:"px-4 space-y-6 md:px-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2,staggerChildren:.1,delayChildren:.3},children:[t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Selecting Tools: Equipping Your Agent"}),t.jsxs("p",{className:"text-[#FFFFFF99] text-[16px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"Think of tools as your agent's superpowers"}),"  each one gives your agent a specific ability to help you better. Just like a chef needs the right utensils or a carpenter needs the right tools, your AI agent needs the right digital tools to accomplish its tasks effectively."]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"What Exactly Are Tools?"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Imagine your agent as a talented professional who needs access to different resources to do their job. Tools are these resources:"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Web Search tool"})," is like giving your agent internet access to find current information"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A File Reader tool"})," helps your agent access and understand documents you provide"]})})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex items-center justify-center rounded-[8px] bg-white/10 backdrop-blur-lg max-h-5 max-w-5 min-h-5 min-w-5",children:t.jsx("div",{className:"w-2 h-2 bg-white rounded-[1.5px]"})}),t.jsx("div",{className:"flex flex-col gap-1",children:t.jsxs("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:[t.jsx("span",{className:"font-medium text-white",children:"A Screenshot tool"})," helps your agent take screenshots"]})})]})]}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed font-medium",children:"Think of each tool as adding a new skill to your agent's toolkit!"})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"The Art of Tool Selection"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Purpose-Driven Selection"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed italic",children:"Each tool should have a clear job to do"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Before adding a tool, ask yourself: "Will my agent actually need this for the task I'm giving it?"`}),t.jsxs("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#80FFF9]",children:[t.jsx("p",{className:"text-[#80FFF9] text-[14px] font-medium mb-2",children:"Examples:"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Building a research assistant? Definitely include Web Search and Document Analysis tools"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"Quality Over Quantity"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:"Giving your agent too many tools is like giving someone a Swiss Army knife when they just need a screwdriver. More tools means:"}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Your agent takes longer to decide which tool to use"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" It might get distracted from the main task"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" The responses become less focused and more scattered"})]}),t.jsx("div",{className:"bg-[#F8FF9914] p-4 rounded-[8px] border border-[#F8FF9933]",children:t.jsxs("p",{className:"text-[#F8FF99] text-[14px] font-medium",children:[t.jsx("span",{className:"font-semibold",children:"Rule of thumb:"})," If you're not sure whether you need a tool, start without it."]})})]})]}),t.jsxs(xe.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},children:[t.jsx("h3",{className:"text-white text-[20px] font-semibold",children:"Important Notes"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"text-white text-[18px] font-semibold",children:"About Default Tools"}),t.jsx("div",{className:"bg-[#FFFFFF08] p-4 rounded-[8px] border-l-4 border-[#FFAE66]",children:t.jsx("p",{className:"text-[#FFAE66] text-[14px] font-medium mb-2 italic",children:"The tools selected by default are mandatorily required by the agents to function."})}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:`Think of default tools as the "starter pack"  they're like the engine in a car. Your agent needs these to:`}),t.jsxs("div",{className:"ml-4 space-y-2",children:[t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Understand and process your requests"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Communicate responses effectively"}),t.jsx("p",{className:"text-[#FFFFFF99] text-[14px] font-['Inter'] leading-relaxed",children:" Maintain its core functionality"})]})]})]})]})]}),TU=({isOpen:e,onOpenChange:n,currentStep:s=1,isSubagent:r=!1})=>{const{totalBannerHeight:i}=Ea(),a=i+56;return t.jsx(ns,{children:e&&t.jsx(xe.div,{style:{height:`calc(100vh - ${a}px)`,top:`${a}px`},className:A("fixed inset-0 w-full z-[100] flex items-center justify-center bg-[#0e0e0f50] backdrop-blur-[5px]"),onClick:()=>n(!1),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:t.jsx(xe.div,{className:A("p-0 sm:max-w-[700px] max-h-[90dvh] overflow-y-auto w-full max-w-[600px] mx-auto bg-[#18181A] border border-[#242424] rounded-[20px] font-['Inter']"),onClick:o=>o.stopPropagation(),initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeInOut"},children:r?s===1?t.jsx(HS,{onBack:()=>n(!1)}):s===2?t.jsx(Hye,{onBack:()=>n(!1)}):t.jsx(HS,{onBack:()=>n(!1)}):s===1?t.jsx(VS,{onBack:()=>n(!1)}):s===2?t.jsx(Uye,{onBack:()=>n(!1)}):s===3?t.jsx(Vye,{onBack:()=>n(!1)}):t.jsx(VS,{onBack:()=>n(!1)})})})})};function IU({size:e=24,color:n="#999999",className:s}){return t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M12 21C11.4477 21 11 20.5523 11 20V14C11 13.4477 10.5523 13 10 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H10C10.5523 11 11 10.5523 11 10V4C11 3.44772 11.4477 3 12 3C12.5523 3 13 3.44772 13 4V10C13 10.5523 13.4477 11 14 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H14C13.4477 13 13 13.4477 13 14V20C13 20.5523 12.5523 21 12 21Z",fill:n})})}const AU=({size:e=20,width:n,height:s,fill:r="#CCCCCC",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:t.jsx("path",{d:"M13.6398 11.4516H10.4824C10.1393 12.4222 9.46406 13.2402 8.57611 13.7611C7.68815 14.282 6.64463 14.4722 5.63 14.2981C4.61536 14.124 3.69493 13.5968 3.03138 12.8098C2.36784 12.0227 2.00391 11.0263 2.00391 9.99688C2.00391 8.96742 2.36784 7.9711 3.03138 7.18401C3.69493 6.39693 4.61536 5.86975 5.63 5.69567C6.64463 5.52159 7.68815 5.7118 8.57611 6.23269C9.46406 6.75358 10.1393 7.57161 10.4824 8.5422H18.0039V11.4516H16.5492V14.3609H13.6398V11.4516ZM6.36641 11.4516C6.75221 11.4516 7.12222 11.2983 7.39503 11.0255C7.66783 10.7527 7.82109 10.3827 7.82109 9.99688C7.82109 9.61108 7.66783 9.24107 7.39503 8.96826C7.12222 8.69546 6.75221 8.5422 6.36641 8.5422C5.9806 8.5422 5.61059 8.69546 5.33779 8.96826C5.06498 9.24107 4.91172 9.61108 4.91172 9.99688C4.91172 10.3827 5.06498 10.7527 5.33779 11.0255C5.61059 11.2983 5.9806 11.4516 6.36641 11.4516Z",fill:r})})},$ye=d.memo(({server:e,isEnabled:n,onToggle:s,onEdit:r,showEditButton:i=!0})=>{const[a,o]=d.useState(!1),[l,c]=d.useState(!1),[u,p]=d.useState(!1),{pro:f}=ni(),m=Er(),h=jR(),x=e.type==="public"&&e.key_required===!0,y=v=>{if(f){if(e.type==="public"&&e.key_required){r();return}s(v)}else h.close(),m.open({planType:"personal",triggerLocation:"mcp-tools-modal"})};return t.jsxs("div",{"data-testid":`mcp-server-item-${e.id}`,className:"flex gap-4 p-4 max-w-[652px] w-[652px] rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[t.jsxs("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10 ",children:[e.icon&&!l&&t.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6",onError:()=>{c(!0),setTimeout(()=>p(!0),200)}}),(!e.icon||u)&&t.jsx(Zi,{size:24})]}),t.jsxs("div",{className:A("flex flex-col gap-[2px] flex-1 max-w-[562px] pr-36 w-full",a&&""),children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&t.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[t.jsx(AU,{fill:"#D8DDE6",size:16})," Key needed"]})]}),t.jsx("div",{className:"text-[14px] font-inter truncate text-[#777a80] mb-1",children:e.description})]}),t.jsxs("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:[a&&i&&e.type==="private"&&t.jsx("div",{className:"flex items-center gap-1 max-h-[32px]",children:t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:r,children:[t.jsx(Hp,{width:20,height:20,fill:"#C4C4CC"}),"Edit"]})}),t.jsx("div",{"data-testid":yr.mcpServerToggle,children:x?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>{z(uX.SERVER_CONFIGURE_CLICKED,{server_id:e.id,server_name:e.display_name,server_type:e.type}),y(!0)},children:[t.jsx(mo,{size:20,color:"#E6E6E6"}),"Configure"]}):t.jsx(h2,{checked:n,onCheckedChange:y,disabled:!1,checkedColor:"#F49B57"})})]})]})}),$S=W.pro.workbench,zS=W.common.controls,zye=W.pro.nextArrow,Wye=W.pro.backGray,DU=W.robots.robot1,MU=W.robots.robot2,LU=W.robots.robot3,RU=W.robots.robot4,Gye=W.robots.robot5,qye=W.robots.robot6,Kye=W.robots.robot7,Yye=W.robots.robot8,Zye=W.robots.robot9,Jye=W.robots.robot10,Xye=W.robots.research,Qye=W.pro.bgSvg,nd={1:{title:"Define your Agent",description:"Your agent is only as good as the instructions you give it: Think of this as writing a job description for your ideal AI teammatebe specific about who they are, what they do, and how they work.",icon:$S,iconAlt:"Workbench",welcomeTitle:"Creating an Agent on Emergent",learnMoreText:"Learn about prompt design",tips:"The clearer you are, the better your agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals.",icon:zS,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."},3:{title:"Configure Sub-agents",description:"Deploy specialized experts for complex tasks: Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:zS,iconAlt:"Sub-agents",welcomeTitle:"What are Sub-Agents ?",learnMoreText:"Learn about Sub-agents",tips:"Think of sub-agents as your agent's expert advisory team."},4:{title:"Review Agent Info",description:"Final check before launch: Please review your agent configuration before saving.",icon:$S,iconAlt:"Review",welcomeTitle:"To Review : ",learnMoreText:"Learn about Agents",tips:"You can edit Everything after creation as well."}},eve=[{boldText:"Name your agent",text:" based on its specialty and role"},{boldText:"Describe their role",text:" - who they are and what they're experts at"},{boldText:"Outline their workflow",text:" - step-by-step approach to solving problems"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"},{text:"Always include subagents, and specify when exactly they need to be called."}],tve=[{boldText:"Agent Definition",text:"  Identity, workflow, and guidelines are set"},{boldText:"Tools Selected",text:"  Required tools are configured"},{boldText:"Sub-agents Select",text:"  Expert Subagent assigned for specific tasks"},{boldText:"Set guidelines ",text:" - best practices, constraints, and things to avoid"}],nve=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely."},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],sve=[{text:"Each sub-agent masters one specific task, and they work as an extension of your main agent's capabilities"},{text:"In the sub-agent system prompt define the agent and what they're experts at, also map their workflow"},{text:"Include guidelines, best practices, constraints, and things to avoid"},{text:"Be mindful, Sub-Agents cannot call other sub-agents, they can only interact with the main agent"}],rve=[{id:"fullstack-tester",name:"Fullstack tester",description:"Reviews code for security vulnerabilities",icon:DU,defaultChecked:!0},{id:"backend-tester",name:"Backend tester",description:"Reviews code for security vulnerabilities",icon:MU,defaultChecked:!0},{id:"frontend-tester",name:"Frontend tester",description:"Reviews code for security vulnerabilities",icon:LU,defaultChecked:!0},{id:"integration-expert",name:"Integration expert",description:"Reviews code for security vulnerabilities",icon:RU,defaultChecked:!0}],ive=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],ave={1:"Continue to Add Tools",2:"Continue to Add Sub-Agents",3:"Review Agent",4:"Save Your Agent"},D0=({onClick:e,children:n})=>t.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-4 py-[2px] font-semibold text-[#18181A] transition-colors bg-white rounded-full hover:bg-opacity-90",children:[t.jsx(Hp,{fill:"#000000",fillOpacity:1}),n]}),ove=({tabId:e})=>{const n=d.useMemo(()=>[{id:"research",icon:Xye,name:"Research"},{id:"robot_1",icon:DU,name:"Robot 1"},{id:"robot_2",icon:MU,name:"Robot 2"},{id:"robot_3",icon:LU,name:"Robot 3"},{id:"robot_4",icon:RU,name:"Robot 4"},{id:"robot_5",icon:Gye,name:"Robot 5"},{id:"robot_6",icon:qye,name:"Robot 6"},{id:"robot_7",icon:Kye,name:"Robot 7"},{id:"robot_8",icon:Yye,name:"Robot 8"},{id:"robot_9",icon:Zye,name:"Robot 9"},{id:"robot_10",icon:Jye,name:"Robot 10"}],[]),s=Xi(),r=Vr(je=>Iq(je,e)),[i,a]=d.useState(1),[o,l]=d.useState(""),[c,u]=d.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[p,f]=d.useState(null),[m,h]=d.useState({}),[x,y]=d.useState([]),[v,g]=d.useState([]),[b,w]=d.useState([]),[N,j]=d.useState([]),[_,C]=d.useState(n[0]),[F,E]=d.useState(!1),S=CR(),M=_R(),[k,I]=d.useState(!1);d.useEffect(()=>{},[p]);const D=d.useRef(null),{removeTab:P,setActiveTab:R,setTabs:B,getActiveTab:U}=qr(),{toast:H}=ds(),$=U(),q=$?.state?.editMode||!1,Q=$?.state?.agentData,V=$?.state?.workspaceContext,ee=je=>je.replace(/_/g," ").replace(/\b\w/g,Le=>Le.toUpperCase()),{config:X,loading:ae}=yc(),me=Xo(),[oe,{data:pe,isLoading:se,error:re}]=KD(),[ve,{data:we,isLoading:be,error:Ue}]=YD(),[fe,{data:Me,isLoading:J,error:Ne}]=DQ(),{isMobile:ge}=ps(),{isOrganizationWorkspace:Ee,getCurrentOrganizationId:Ce}=ys(),Ie=d.useCallback(()=>V?.isOrganizationWorkspace??Ee(),[V?.isOrganizationWorkspace,Ee]),Ae=d.useCallback(()=>V?.currentOrganizationId??(Ee()?Ce():void 0),[V?.currentOrganizationId,Ee,Ce]),{data:Se,isLoading:ht,refetch:Qe}=Xg(Ae()?{organization_id:Ae()}:void 0,{skip:!1}),[De]=MQ(),[de]=LQ(),[ue,{isLoading:lt}]=JD(),[st,{isLoading:mt}]=XD(),ut=()=>p||(!pe?.prompts||pe.prompts.length===0?null:pe.prompts.find(Le=>Le.prompt_name.toLowerCase().includes("main"))||pe.prompts[0]);d.useEffect(()=>{if(pe?.prompts&&pe.prompts.length>0&&!p){const je=pe.prompts.filter(Rt=>!Rt.prompt_name.toLowerCase().includes("subagent")),xt=je.find(Rt=>Rt.prompt_name.toLowerCase().includes("base_main_prompt"))||je[0];f(xt)}},[pe,p]),d.useEffect(()=>{if(pe?.prompts&&pe.prompts.length>0&&p){const je=p.default_variable_values||{};Object.keys(m).length===0&&h(je)}},[pe,p,m]),d.useEffect(()=>{if(q&&Q){if(l(Q.prompt_name||""),y(Q.prompt_tools||[]),g(Q.prompt_subagents||[]),h(Q.prompt_variables||{}),w(Q.mcp_config||[]),Q.mcp_config&&Array.isArray(Q.mcp_config)){const je=Q.mcp_config.map(Le=>Le.id);j(je)}if(Q.icon_id){const je=n.find(Le=>Le.id===Q.icon_id);je&&C(je)}if(Q.parent_prompt&&pe?.prompts){const je=pe.prompts.find(Le=>Le.prompt_name===Q.parent_prompt);je&&f(je)}a(4)}},[q,Q,pe]),d.useEffect(()=>{if(q&&pe?.prompts&&pe.prompts.length>0&&!we?.data&&Q?.parent_prompt){const je=Q.parent_prompt,Le=Ae();ve(Le?{agentName:je,organization_id:Le}:je)}},[q,pe,we,Q,ve]),d.useEffect(()=>{if(r&&!q&&(l(r.agentName),u(r.systemConstraints),h(r.dynamicVariableValues),y(r.selectedTools),g(r.selectedSubAgents),C(r.selectedIcon),f(r.selectedPrompt),a(r.currentStep),r.selectedMcpServers)){w(r.selectedMcpServers);const je=r.selectedMcpServers.map(Le=>Le.id);j(je)}},[r,q]);const wn=d.useCallback(()=>{q||s(Cq({tabId:e,formData:{agentName:o,systemConstraints:c,dynamicVariableValues:m,selectedTools:x,selectedSubAgents:v,selectedIcon:_,selectedPrompt:p,currentStep:i,selectedMcpServers:b}}))},[o,c,m,x,v,_,p,i,b,q,s,e]);d.useEffect(()=>{const je=Ae();oe(je?{organization_id:je}:void 0)},[oe,V,Ee,Ce]),d.useEffect(()=>{const je=setTimeout(wn,300);return()=>clearTimeout(je)},[wn]),d.useEffect(()=>{const je=document.getElementById("system-prompts-readonly");je&&ut()?.prompt&&(je.style.height="auto",je.style.height=Math.min(je.scrollHeight,500)+"px")},[pe]),d.useEffect(()=>{D.current&&(D.current.scrollTop=0)},[i]),d.useEffect(()=>{if((i===2||i===4)&&p){const je=p.prompt_name,Le=Ae();ve(Le?{agentName:je,organization_id:Le}:je)}},[i,p,ve,we]);const Oe=d.useMemo(()=>{const je={is_main_agent:!1};if(Ie()){const Le=Ae();Le&&(je.organization_id=Le)}return je},[Ie,Ae]);d.useEffect(()=>{i===3&&fe(Oe)},[i,fe,Oe]),d.useEffect(()=>{if(X?.agent_names&&p){const je=p.prompt_name,Le=X.agent_names.find(xt=>xt.name===je);Le?.sub_agents&&v.length===0&&g(Le.sub_agents)}},[X,p,v]),d.useEffect(()=>{if(we?.data&&Array.isArray(we.data)&&we.data.length>0&&!q){const je=we.data.map(Le=>Le.name);je.length>0&&y(Le=>{const xt=[...Le];return je.forEach(Rt=>{xt.includes(Rt)||xt.push(Rt)}),xt})}},[we,q]);const Et=p?(p.dynamic_variables||[]).map((xt,Rt)=>({id:`dynamic-variable-${Rt}`,title:xt.replace(/_/g," ").replace(/\b\w/g,qe=>qe.toUpperCase()),helpText:`Learn about ${xt.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:xt})):ive,dt=(je,Le)=>{h(xt=>({...xt,[je]:Le}))},vt=je=>{const Le=pe?.prompts?.find(xt=>xt.id===je);if(Le){f(Le);const xt=Le.default_variable_values||{};h(xt),g([])}},Ct=(je,Le)=>{we?.data?.find(Rt=>Rt.name===je)?.necessary_tool||y(Rt=>Le?Rt.includes(je)?Rt:[...Rt,je]:Rt.filter(qe=>qe!==je))},St=(je,Le)=>{g(xt=>Le?xt.includes(je)?xt:[...xt,je]:xt.filter(Rt=>Rt!==je))},ct=()=>{const je=`create-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;B(Le=>[...Le,{id:je,title:"Create New Subagent",path:"/create-subagent",level:Ie()?"organization":"user",organization_id:Ae(),state:{tabId:je,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:Ie(),currentOrganizationId:Ae()}}}]),R(je)},Ft=d.useCallback(()=>{fe(Oe)},[fe,Oe]),Fe=d.useCallback((je,Le)=>{const xt=Array.isArray(Se)?Se.find(Rt=>Rt.id===je):null;xt&&(j(Rt=>Le?Rt.includes(je)?Rt:[...Rt,je]:Rt.filter(qe=>qe!==je)),w(Rt=>Le?Rt.find(qe=>qe.id===xt.id)?Rt:[...Rt,xt]:Rt.filter(qe=>qe.id!==xt.id)))},[Se]),He=d.useCallback(je=>b.some(Le=>Le.id===je),[b]),Ve=d.useCallback((je,Le)=>{Qe(),je&&Le&&setTimeout(()=>{Fe(je,!0)},100),H({title:"MCP Server Added",description:"MCP server has been successfully added to your workspace.",duration:5e3})},[Qe,H,Fe]),Ke=d.useCallback(je=>{M.open({onServerAdded:(Le,xt)=>{Qe(),Le&&xt&&setTimeout(()=>{Fe(Le,!0)},100),H({title:"MCP Server Updated",description:"MCP server has been successfully updated and enabled.",duration:5e3})},organizationId:Ae(),editMode:!0,serverData:je})},[M,Qe,H,Ae,Fe]),Ye=d.useCallback(async je=>{try{await de({id:je,organization_id:Ae()}).unwrap(),(Array.isArray(Se)?Se.find(xt=>xt.id===je):null)&&He(je)&&Fe(je,!1),Qe(),H({title:"MCP Server Deleted",description:"MCP server has been successfully deleted.",duration:5e3})}catch(Le){H({title:"Error",description:Le?.data?.error||"Failed to delete MCP server",variant:"destructive",duration:5e3})}},[de,Ae,Se,He,Fe,Qe,H]),At=je=>{const Le=Me?.user_prompts?.find(Rt=>Rt.prompt_name===je.name);if(!Le){H({title:"Error",description:"Subagent data not found. Please try refreshing.",variant:"destructive",duration:5e3});return}const xt=`edit-subagent-${Date.now()}-${Math.random().toString(36).substring(2,11)}`;B(Rt=>[...Rt,{id:xt,title:`Edit ${Le.prompt_name}`,path:"/create-subagent",level:Ie()?"organization":"user",organization_id:Ae(),state:{tabId:xt,editMode:!0,agentData:Le,fromCreateAgent:!0,workspaceContext:{isOrganizationWorkspace:Ie(),currentOrganizationId:Ae()}}}]),R(xt)},mn=()=>{if(i===1){if(o.trim().length===0)return!1;const je=ut();if(je?.dynamic_variables)for(const Le of je.dynamic_variables){const xt=m[Le];if(!xt||xt.trim().length===0)return!1}return!0}return i===4?o.trim().length>0&&pe?.prompts&&pe.prompts.length>0:!0},Dt=()=>{z(Tn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.NEW_AGENT_CREATION,{currentStep:i}),i<4?(a(i+1),D.current&&(D.current.scrollTop=0)):Yt()},Yt=async()=>{try{const je=p,Le=je?.id;if(!Le||!je){H({title:"Error",description:"No base prompt selected. Please select a base prompt.",variant:"destructive",duration:5e3});return}const xt=Ie()?Ae():null,Rt={prompt_name:o||"My Agent",parent_prompt:je.prompt_name,base_prompt_id:Le,prompt_subagents:v,prompt_tools:x.length>0?x:null,prompt_variables:m,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"true",icon_id:_.id,...b.length>0&&{mcp_config:[...N]},...xt&&{organization_id:xt}};q&&Q?.id?await st({id:Q.id,data:Rt}).unwrap():await ue(Rt).unwrap(),P(e),$?.state?.fromManageAgents||$?.state?.fromManageAgentsModal,R("home"),q||s(_q({tabId:e})),H({title:q?"Agent Updated":"Agent Created",description:q?"Your agent has been successfully updated.":"Your agent has been successfully created and saved.",duration:5e3})}catch(je){H({title:"Error",description:je.error,variant:"destructive",duration:5e3})}},fn=d.useCallback(je=>{S.open({data:je,modalType:"tool"})},[S]),qt=d.useCallback(je=>{S.open({data:je,modalType:"subagent"})},[S]),_n=je=>je.replace(/[\u00A0\u1680\u2000-\u200B\u202F\u205F\u3000]/g," ").replace(/[\u2010-\u2015]/g,"-").replace(/\s+/g," "),In=()=>t.jsx(zn,{open:F,onOpenChange:E,children:t.jsx(dr,{className:"max-w-md p-0 bg-[#18181A] border-[#242424]",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:"Choose Icon"}),t.jsx(wl,{asChild:!0,children:t.jsx("button",{type:"button","aria-label":"Close icon selection modal",className:"text-[#737780] hover:text-white transition-colors",children:t.jsx(Pt,{size:20})})})]}),t.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.map(je=>t.jsx("button",{type:"button",onClick:()=>{C(je),E(!1)},className:`
                  p-4 rounded-lg border-2 transition-all duration-200 hover:scale-105
                  ${_.id===je.id?"border-white bg-[#FFFFFF10]":"border-[#262629] bg-[#FFFFFF05] hover:border-[#404040]"}
                `,children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("img",{src:je.icon,alt:je.name,className:"w-8 h-8"}),t.jsx("span",{className:"text-xs text-[#B7BFCC] font-medium",children:je.name})]})},je.id))})]})})});return ge?t.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Creating agents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),t.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):t.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[t.jsx("img",{src:Qye,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),t.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:t.jsxs("div",{className:"m-auto space-y-[32px] ",children:[t.jsxs("div",{className:"space-y-4",children:[i!==4&&t.jsx(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:t.jsxs("div",{className:"text-[#F8FF99] flex gap-2 font-medium font-ndot",children:["Step ",t.jsxs("span",{className:"font-ndot",children:[i," / 3"]})]})}),t.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[t.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:q&&i===4?`Edit ${ee(o||"Agent")}`:nd[i]?.title}),t.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:nd[i]?.description})]})]}),t.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[t.jsx("img",{src:nd[i]?.icon,alt:nd[i]?.iconAlt,className:"inline-block w-6 h-6 mb-1"}),nd[i]?.welcomeTitle]}),i===1&&t.jsx(zu,{items:eve}),i===2&&t.jsx(zu,{items:nve}),i===3&&t.jsx(zu,{items:sve}),i===4&&t.jsx(zu,{items:tve}),t.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:nd[i]?.tips}),i!=4&&t.jsx(SU,{text:nd[i]?.learnMoreText||"Learn More",className:"mt-6",onClick:()=>I(!0)})]})})})]})}),t.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:t.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[t.jsx("div",{ref:D,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:i===1?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(np,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),t.jsx("div",{className:"flex rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:t.jsxs("div",{className:"flex flex-col w-full gap-6",children:[t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex flex-col w-full gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(Ko,{htmlFor:"agent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Agent Name"})}),t.jsx(Ni,{id:"agent-name",value:q?ee(o):o,onChange:je=>l(_n(je.target.value)),placeholder:"For eg : Research Agent, Automation Engineer, ...",disabled:q,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(Ko,{htmlFor:"agent-icon",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Icon"}),t.jsx("button",{type:"button",onClick:()=>E(!0),className:"max-h-[56px] h-[56px] min-w-[56px] flex items-center justify-center rounded-[8px] border-[#262629] bg-[#FFFFFF05] border hover:border-[#404040] hover:bg-[#FFFFFF10] transition-all duration-200",children:t.jsx("img",{src:_.icon,alt:_.name,className:"w-7 h-7"})})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx(Ko,{htmlFor:"prompt-selection",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Select Template"}),t.jsxs(Op,{value:p?.id||"",onValueChange:vt,disabled:q,children:[t.jsx(Kd,{className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 disabled:opacity-60 disabled:cursor-not-allowed",children:t.jsx(Bp,{placeholder:"Select a base prompt",children:p?p.display_name||ee(p.prompt_name):"Select a base prompt"})}),t.jsx(Yd,{className:"bg-[#18181A] border-[#262629]",children:pe?.prompts?.filter(je=>!je.prompt_name.toLowerCase().includes("subagent")).map(je=>t.jsx(fo,{value:je.id,className:"text-white hover:bg-[#222224] focus:bg-[#222224]",children:je.display_name||ee(je.prompt_name)},je.id))})]})]})]})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kU,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"text-[16px] font-medium text-[#FFFFFF4D]",children:"Agent Prompt"})]}),t.jsx("div",{className:"flex flex-col gap-12 border border-[#222224] p-8  rounded-[16px]",children:se?t.jsx(EU,{count:3}):re?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):t.jsxs(t.Fragment,{children:[Et.map(je=>t.jsx(Of,{section:je,value:c,onChange:u,dynamicVariableValues:m,onDynamicVariableChange:dt},je.id)),t.jsx(Of,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:ut()?.prompt||"",onChange:()=>{}},"system-prompts")]})})]})]}):i===2?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex flex-col gap-[10px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zi,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF]",children:"MCP Tools"})]}),t.jsx("span",{className:"text-[#737780] font-inter font-medium",children:"Allow agent to directly interact with apps, data, and tools on your computer."})]})}),t.jsx("div",{className:" bg-[#1D1D1F] rounded-[16px] overflow-clip p-4",children:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:()=>M.open({onServerAdded:Ve,organizationId:Ae()}),children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:t.jsx(IU,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:"New MCP Server"}),t.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:"Add a Custom MCP server"})]})]}),ht?t.jsx("div",{className:"flex items-center justify-center py-4",children:t.jsx("div",{className:"w-6 h-6 border-2 border-[#737780] border-t-transparent rounded-full animate-spin"})}):Se&&Array.isArray(Se)&&Se.length>0?[...Se].sort((je,Le)=>new Date(Le.created_at).getTime()-new Date(je.created_at).getTime()).map(je=>{const Le=He(je.id);return t.jsx($ye,{server:je,isEnabled:Le,onToggle:xt=>Fe(je.id,xt),onEdit:()=>Ke(je),onDelete:()=>Ye(je.id)},je.id)}):null]})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ax,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:be?t.jsx(Wy,{count:5}):Ue?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):we?.data&&Array.isArray(we.data)&&we.data.length>0?we.data.filter(je=>!je.necessary_tool).map(je=>t.jsx(Bf,{tool:je,isSelected:x.includes(je.name),onCheckedChange:Le=>Ct(je.name,Le),isNecessary:!1,onViewDetails:fn},je.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No optional tools available"})})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mo,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Default Tools "})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:we?.data&&Array.isArray(we.data)&&we.data.filter(je=>je.necessary_tool).length>0?we.data.filter(je=>je.necessary_tool).map(je=>t.jsx(Bf,{tool:je,isSelected:!0,onCheckedChange:void 0,isNecessary:!0,onViewDetails:fn},je.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):i===3?t.jsxs("div",{className:"space-y-[40px] pb-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#222224] rounded-[9px] mx-[40px]",children:[t.jsx(np,{size:24,color:"#808080",fillOpacity:1}),t.jsx("p",{className:"text-[#808080] text-sm font-inter font-medium",children:"Subagents handle specialized tasks. Create a new subagent or select from existing ones."})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ax,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Your Subagents"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{title:"Refresh",type:"button",onClick:Ft,disabled:J,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-[#FFFFFF4D] rounded-lg hover:bg-[#FFFFFF10] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(xm,{className:`w-4 h-4 ${J?"animate-spin":""}`})}),Me?.user_prompts&&Me?.user_prompts.length>0&&t.jsxs("button",{type:"button",onClick:ct,className:"bg-[#DD99FF0D] font-medium max-h-[40px] text-[#DD99FF] flex max-md:text-[13px] items-center gap-2 p-2 pr-3 rounded-[10px]",children:[t.jsx(pg,{size:24,color:"#DD99FF"}),"Add New Subagent"]})]})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:J?t.jsx(BS,{count:3}):Ne?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading subagents. Please try refreshing."})}):Me?.user_prompts&&Me.user_prompts.length>0?Me.user_prompts.map(je=>t.jsx(cb,{subAgent:{name:je.prompt_name,skill_description:je.skill_description},isSelected:v.includes(je.prompt_name),onCheckedChange:Le=>St(je.prompt_name,Le),isApiSubAgent:!0,isDefault:!1,onViewDetails:qt,onEdit:At},je.id)):t.jsx("div",{className:"p-2 border-2 border-[#444] rounded-[16px]  border-dashed border-[#DD99FF33] transition-colors cursor-pointer hover:border-[#DD99FF50]",onClick:ct,children:t.jsxs("div",{className:"flex flex-col rounded-[12px] bg-[#DD99FF05] p-6 items-center gap-[10px] text-center",children:[t.jsxs("h3",{className:"flex items-center gap-2 font-medium text-[#DD99FF]",children:[t.jsx(pg,{size:24,color:"#DD99FF"}),"Create a New Subagent"]}),t.jsx("p",{className:"text-[#DD99FF]/50 text-[14px] font-medium font-['Inter']",children:"Your agent will be able to delegate tasks to these subagents"})]})})})]}),t.jsxs("div",{className:"flex flex-col gap-3 px-[40px]",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Bye,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Emergent Subagents"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ae?t.jsx(BS,{count:4}):X?.agent_names&&p?(()=>{const je=p.prompt_name,Le=X.agent_names.find(xt=>xt.name===je);return Le?.sub_agents?Le.sub_agents.map(xt=>{const qe=X?.skills_description?.find(_t=>_t[xt])?.[xt],it=qe?.short_desc||qe?.description||"Emergent sub-agent";return t.jsx(cb,{subAgent:{name:qe?.display_name||xt,description:qe?.description||"Emergent sub-agent",skill_description:it},isSelected:v.includes(xt),onCheckedChange:_t=>St(xt,_t),isApiSubAgent:!0,isDefault:!0,onViewDetails:qt},xt)}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})():t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-[#8A8F98]",children:"No sub-agents found for this agent."})})})]})]}):i===4?t.jsxs("div",{className:"space-y-[40px] px-[40px] pb-[40px]",children:[t.jsxs("div",{className:"space-y-[10px]",children:[t.jsx("div",{className:"flex flex-col gap-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(np,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Main Agent Info"})]}),t.jsx(D0,{onClick:()=>a(1),children:"Edit"})]})}),t.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 py-6 px-8 border border-[#222224]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"font-medium text-[20px] h-[56px] max-h-[56px] flex items-center text-white",children:q?ee(o||"My Agent"):o||"My Agent"}),t.jsx("div",{className:"max-h-[56px] h-[56px] max-w-[56px] w-[56px] flex items-center justify-center rounded-full bg-[#FFFFFF0D]",children:t.jsx("img",{src:_.icon,alt:_.name,className:"w-7 h-7"})})]}),Object.keys(m).length>0&&t.jsx(t.Fragment,{children:Object.entries(m).map(([je,Le])=>t.jsx(Of,{section:{id:`review-${je}`,title:je.replace(/_/g," ").replace(/\b\w/g,xt=>xt.toUpperCase()),helpText:`Learn about ${je.toLowerCase()}`,readOnly:!0,showLock:!1,isDynamic:!1},value:Le||"No value set",onChange:()=>{}},je))})]})]}),me?t.jsx(t.Fragment,{children:b.length>0&&t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zi,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected MCP Servers"})]}),t.jsx(D0,{onClick:()=>a(2),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:t.jsx("div",{className:"space-y-3",children:b.map(je=>{if(!je.mcp_config?.mcpServers)return null;const Le=je.display_name;return t.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px]",children:[t.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#272729]",children:t.jsx(Zi,{size:20,color:"#FFFFFF"})}),t.jsxs("div",{className:"flex flex-col gap-[2px] flex-1",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:Le}),t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:je.description})]})]},Le)})})})]})}):null,t.jsxs("div",{className:"space-y-[10px]",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ax,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Tools"})]}),t.jsx(D0,{onClick:()=>a(2),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:x.length>0?t.jsx("div",{className:"space-y-3",children:x.map(je=>{const Le=we?.data?.find(xt=>xt.name===je);return t.jsx(Bf,{tool:Le||{name:je},isSelected:!0,hideToggle:!0,onViewDetails:fn},je)})}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No tools selected"})})})]}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mo,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Selected Sub-agents"})]}),t.jsx(D0,{onClick:()=>a(3),children:"Edit"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:v.length>0?t.jsx("div",{className:"space-y-3",children:v.map(je=>{const Le=Me?.user_prompts?.find(Cn=>Cn.prompt_name===je),xt=rve.find(Cn=>Cn.name===je),Rt=!!(X?.agent_names&&p&&(()=>{const Cn=p.prompt_name;return X.agent_names.find(rs=>rs.name===Cn)?.sub_agents?.includes(je)})()),it=X?.skills_description?.find(Cn=>Cn[je])?.[je],_t=it?.short_desc||it?.description||"Emergent sub-agent",Kt={name:it?.display_name||je,description:Le?Le.description||"Custom sub-agent":Rt?it?.description||"Default sub-agent":xt?.description||"Sub-agent description",skill_description:Le?.skill_description||_t};return t.jsx(cb,{subAgent:Kt,isSelected:!0,isApiSubAgent:Rt,isDefault:!1,hideToggle:!0,onViewDetails:qt},je)})}):t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("p",{className:"text-[#8A8F98] text-sm",children:"No sub-agents selected"})})})]})]}):null}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] rounded-b-[8px] z-[99] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[i>1?t.jsxs("button",{type:"button",onClick:()=>{a(i-1),D.current&&(D.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[t.jsx("img",{src:Wye,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):t.jsx("div",{}),t.jsx("button",{type:"button",onClick:Dt,disabled:lt||mt||!mn(),className:A("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-[#5FE55C] hover:bg-[#5FE55C90]":i===4}),children:(lt||mt)&&i===4?t.jsxs(t.Fragment,{children:[q?"Updating Agent...":"Creating Agent...",t.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):t.jsxs(t.Fragment,{children:[i===4&&q?"Update Your Agent":ave[i],t.jsx("img",{src:zye,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),t.jsx(In,{}),t.jsx(TU,{isOpen:k,onOpenChange:I,currentStep:i})]})},lve=W.pro.workbench,cve=W.common.controls,dve=W.pro.bgSvg,uve=W.pro.nextArrow,pve=W.pro.backGray,sd={1:{title:"Define your Sub-Agent",description:"Sub-agents are your agent's specialist consultantshighly focused AI helpers that excel in specific domains.",icon:lve,iconAlt:"Workbench",welcomeTitle:"Creating a Sub-Agent on Emergent",learnMoreText:"Learn about subagent design",tips:"The clearer you are, the better your Sub Agent performs."},2:{title:"Select Tools",description:"Equip your agent with the right capabilities: Tools are essential for your Sub Agent to operate and work. Please choose the specialized tools required by your Agent as per your needs and goals. ",icon:cve,iconAlt:"Tools",welcomeTitle:"What exactly are tools?",learnMoreText:"Learn about tools",tips:"The tools selected by default are mandatorily required by the agents to function."}},fve=[{text:"Name your sub-agent based on its specialty and role"},{text:"Give your subagent a definition, based on when to call and why to call. The main agent uses subagent definition to call subagent, and determine if their expertise is needed."},{text:"Map their workflow, define the step-by-step approach to approach the required task"},{text:"Include guidelines, best practices, constraints, and things to avoid"}],mve=[{text:"Each tool serves a specific function in your agent's workflow, choose them wisely"},{text:"Include only essential tools to keep your agent focused and contextually aware, do not overload with too many tools"},{text:"Choose tools that directly support your agent's core objectives"}],WS=[{id:"system-constraints-1",title:"System Constraints",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-constraints-2",title:"System Constraints 2",helpText:"What are system constraints",readOnly:!0,showLock:!0},{id:"system-prompt",title:"System Prompt",helpText:"Learn about system prompts",readOnly:!0,showLock:!1}],hve={1:"Continue to Add Tools",2:"Save Your Subagent"},xve={1:"Continue to Add Tools",2:"Update Your Subagent"},gve=({tabId:e})=>{const n=Xi(),s=Vr(ge=>Aq(ge,e)),[r,i]=d.useState(1),[a,o]=d.useState(""),[l,c]=d.useState(""),[u,p]=d.useState("You are a helpful AI assistant. Always follow safety guidelines You are a"),[f,m]=d.useState({}),[h,x]=d.useState([]),y=CR(),[v,g]=d.useState(!1),b=d.useRef(null),{removeTab:w,setActiveTab:N,getActiveTab:j,getAllTabs:_}=qr(),{toast:C}=ds(),{isMobile:F}=ps(),{isOrganizationWorkspace:E,getCurrentOrganizationId:S}=ys(),M=()=>R?.isOrganizationWorkspace??E(),k=()=>R?.currentOrganizationId??(E()?S():void 0),I=j(),D=I?.state?.editMode||!1,P=I?.state?.agentData,R=I?.state?.workspaceContext,B=ge=>ge.replace(/_/g," ").replace(/\b\w/g,Ee=>Ee.toUpperCase()),[U,{data:H,isLoading:$,error:q}]=KD(),[Q,{data:V,isLoading:ee,error:X}]=YD(),[ae,{isLoading:me}]=JD(),[oe,{isLoading:pe}]=XD();d.useEffect(()=>{s&&a===""&&h.length===0&&(o(s.subagentName),c(s.subagentGuidelines),p(s.systemConstraints),m(s.dynamicVariableValues),x(s.selectedTools),i(s.currentStep))},[s]),d.useEffect(()=>{D&&P&&(o(P.prompt_name||""),c(P.skill_description||P.description||""),x(P.prompt_tools||[]),m(P.prompt_variables||{}),i(2))},[D,P]);const se=d.useCallback(()=>{n(jq({tabId:e,formData:{subagentName:a,subagentGuidelines:l,systemConstraints:u,dynamicVariableValues:f,selectedTools:h,currentStep:r}}))},[a,l,u,f,h,r,n,e]);d.useEffect(()=>{const ge=setTimeout(se,300);return()=>clearTimeout(ge)},[se]),d.useEffect(()=>{b.current&&(b.current.scrollTop=0)},[r]),d.useEffect(()=>{const ge=k();U(ge?{organization_id:ge}:void 0)},[U,R,E,S]),d.useEffect(()=>{if(H?.prompts&&H.prompts.length>0){const ge=re();if(ge){const Ee=ge.default_variable_values||{};Object.keys(f).length===0&&m(Ee)}}},[H,f]);const re=()=>!H?.prompts||H.prompts.length===0?null:H.prompts.find(Ee=>Ee.prompt_name.toLowerCase().includes("subagent"))||H.prompts[0];d.useEffect(()=>{if(r===2&&H?.prompts&&H.prompts.length>0){const ge=re();if(ge){const Ee=ge.prompt_name,Ce=k();Q(Ce?{agentName:Ee,organization_id:Ce}:Ee)}}},[r,H,Q]),d.useEffect(()=>{const ge=document.getElementById("system-prompts-readonly");ge&&re()?.prompt&&(ge.style.height="auto",ge.style.height=Math.min(ge.scrollHeight,500)+"px")},[H]),d.useEffect(()=>{if(V?.data&&Array.isArray(V.data)&&V.data.length>0&&!D){const ge=V.data.map(Ee=>Ee.name);ge.length>0&&x(Ee=>{const Ce=[...Ee];return ge.forEach(Ie=>{Ce.includes(Ie)||Ce.push(Ie)}),Ce})}},[V,D]);const we=(()=>{if(!H?.prompts||H.prompts.length===0)return WS;const ge=re();return ge?(ge.dynamic_variables||[]).map((Ie,Ae)=>({id:`dynamic-variable-${Ae}`,title:Ie.replace(/_/g," ").replace(/\b\w/g,Se=>Se.toUpperCase()),helpText:`Learn about ${Ie.toLowerCase()}`,readOnly:!1,showLock:!1,isDynamic:!0,variableName:Ie})):WS})(),be=(ge,Ee)=>{m(Ce=>({...Ce,[ge]:Ee}))},Ue=(ge,Ee)=>{(V?.data&&Array.isArray(V.data)?V.data.find(Ie=>Ie.name===ge):void 0)?.necessary_tool||x(Ie=>Ee?Ie.includes(ge)?Ie:[...Ie,ge]:Ie.filter(Ae=>Ae!==ge))},fe=()=>{if(r===1){if(a.trim().length===0||l.trim().length===0)return!1;const ge=re();if(ge?.dynamic_variables)for(const Ee of ge.dynamic_variables){const Ce=f[Ee];if(!Ce||Ce.trim().length===0)return!1}return!0}if(r===2){const ge=re();return a.trim().length>0&&l.trim().length>0&&H?.prompts&&H.prompts.length>0&&ge!==null}return!0},Me=()=>{z(Tn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.NEW_SUB_AGENT_CREATION,{currentStep:r}),r<2?(i(r+1),b.current&&(b.current.scrollTop=0)):J()},J=async()=>{try{const ge=re(),Ee=ge?.id;if(!Ee||!H?.prompts||H.prompts.length===0||!ge){C({title:"Error",description:"No subagent base prompt available. Please try again.",variant:"destructive",duration:5e3});return}const Ce=M()?k():null,Ie={prompt_name:a||"My Subagent",description:l||"",skill_description:l,parent_prompt:ge.prompt_name,base_prompt_id:Ee,prompt_subagents:[],prompt_tools:h.length>0?h:null,prompt_variables:f,system_prompt_injection_templates:["integration_playbook_expert_prompt"],is_main_agent:"false",...Ce&&{organization_id:Ce}};D&&P?.id?await oe({id:P.id,data:Ie}).unwrap():await ae(Ie).unwrap(),w(e);const Se=_().find(ht=>ht.path==="/create-agent");Se?N(Se.id):(I?.state?.fromManageAgents||I?.state?.fromManageAgentsModal,N("home")),D||n(Nq({tabId:e})),C({title:D?"Subagent Updated":"Subagent Created",description:`Your subagent has been successfully ${D?"updated":"created"} and saved.`,duration:5e3})}catch(ge){C({title:"Error",description:ge.error,variant:"destructive",duration:5e3})}},Ne=ge=>{y.open({data:ge,modalType:"tool"})};return F?t.jsx("section",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center",children:t.jsxs("div",{className:"max-w-md mx-auto",children:[t.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Desktop Required"}),t.jsx("p",{className:"mb-6 text-gray-600",children:"Creating subagents requires a desktop experience for the best workflow. Please open this page on a desktop or laptop computer."}),t.jsx("div",{className:"text-sm text-gray-500",children:"Switch to desktop to continue"})]})}):t.jsxs("section",{style:{height:"calc(100vh - 56px)"},className:"flex w-full h-full bg-[#0A0A0B] text-white",children:[t.jsx("img",{src:dve,alt:"Background",className:"absolute top-0 left-0 object-cover w-full h-full"}),t.jsx("div",{className:"px-[120px] h-full max-w-[45%] z-[10]  flex items-center justify-center py-8",children:t.jsxs("div",{className:"m-auto space-y-[32px] ",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"",children:t.jsxs("div",{className:"text-[#DD99FF] flex gap-2 font-medium font-ndot",children:["Step ",t.jsxs("span",{className:"font-ndot",children:[r," / 2"]})]})}),t.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"",children:[t.jsx("h1",{className:"mb-4 text-4xl font-semibold leading-tight text-white",children:sd[r]?.title}),t.jsx("span",{className:'text-[#737780] text-[14px] font-medium font-["Inter"]',children:sd[r]?.description})]})]}),t.jsx("div",{className:"h-[1px] bg-[#1F1F21] w-full"}),t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"rounded-xl",children:t.jsx("div",{className:"flex items-start gap-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("h2",{className:"flex items-center gap-2 mb-3 text-xl font-semibold text-[#B7BECC]",children:[t.jsx("img",{src:sd[r]?.icon,alt:sd[r]?.iconAlt,className:"inline-block w-6 h-6 mb-1"}),sd[r]?.welcomeTitle]}),r===1&&t.jsx(zu,{items:fve}),r===2&&t.jsx(zu,{items:mve}),t.jsx("span",{className:"text-[#ffffff]/80 italic text-[16px] font-medium font-['Inter']",children:sd[r]?.tips}),t.jsx(SU,{text:sd[r]?.learnMoreText||"Learn More",className:"mt-6",onClick:()=>g(!0)})]})})})]})}),t.jsx("div",{className:"w-[55%] p-6 h-full overflow-hidden relative",children:t.jsxs("div",{className:"border w-full h-full bg-[#18181A] rounded-[8px] border-[#222224] relative flex flex-col",children:[t.jsx("div",{ref:b,className:"scrollable-content-area flex-1 overflow-y-auto pt-[56px] pb-[105px]",children:t.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"space-y-[40px] px-[40px] pb-[40px]",children:r===1?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(np,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Basic Info"})]}),t.jsxs("div",{className:"flex flex-col rounded-[16px] w-full gap-6 p-8 border border-[#222224] ",children:[t.jsxs("div",{className:"flex flex-col w-full gap-3 ",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(Ko,{htmlFor:"subagent-name",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Subagent Name"})}),t.jsx(Ni,{id:"subagent-name",value:D?B(a):a,onChange:ge=>o(ge.target.value),placeholder:"For eg : Integration agent, Support agent",disabled:D,className:"!bg-[#FFFFFF05] font-['Inter'] h-[56px] max-h-[56px] !text-[16px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 [&:-webkit-autofill]:!bg-[#FFFFFF05] [&:-webkit-autofill]:text-white [&:-webkit-autofill]:shadow-[inset_0_0_0px_1000px_rgba(255,255,255,0.02)] [&:-webkit-autofill:hover]:!bg-[#FFFFFF05] [&:-webkit-autofill:focus]:!bg-[#FFFFFF05] [&:-webkit-autofill:active]:!bg-[#FFFFFF05] disabled:opacity-60 disabled:cursor-not-allowed"})]}),t.jsxs("div",{className:"flex flex-col w-full gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(Ko,{htmlFor:"subagent-guidelines",className:"font-['Inter'] font-medium text-[#e4eeff]",children:"Sub-agent Definition"})}),t.jsx(Tc,{id:"subagent-guidelines",value:l,onChange:ge=>c(ge.target.value),placeholder:"Brief description of what this subagent does and when it should be called.",className:"!bg-[#FFFFFF05] font-['Inter'] p-4 min-h-[120px] border-[#262629] text-white placeholder:text-white/20 focus:border-white/30 focus:ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 resize-none"})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(kU,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Subagent Prompt"})]}),t.jsxs("div",{className:"flex flex-col gap-12 border border-[#222224] p-10 px-8 rounded-[16px]",children:[$?t.jsx(EU,{count:3}):q?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading prompts. Using default sections."})}):t.jsx(t.Fragment,{children:we.map(ge=>t.jsx(Of,{section:ge,value:u,onChange:p,dynamicVariableValues:f,onDynamicVariableChange:be},ge.id))}),t.jsx(Of,{section:{id:"system-prompts-readonly",title:"System Constraints",helpText:"Learn about system prompts",readOnly:!0,showLock:!0,isDynamic:!1},value:re()?.prompt||"",onChange:()=>{}},"system-prompts")]})]})]}):r===2?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#FFAE6614] rounded-[8px]",children:[t.jsx(np,{size:24,color:"#FFAE66",fillOpacity:.7}),t.jsx("p",{className:"text-[#FFAE66B2] text-sm font-medium",children:"Select only the tools relevant to your use case. Adding too many tools can reduce performance."})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ax,{size:24,color:"#FFFFFF"}),t.jsx("h2",{className:"font-medium text-[#FFFFFF4D]",children:"Specialized Tools"})]})}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ee?t.jsx(Wy,{count:5}):X?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"text-red-400",children:"Error loading tools. Using default tools."})}):V?.data&&Array.isArray(V.data)&&V.data.length>0&&V.data.filter(ge=>!ge.necessary_tool).length>0?V.data.filter(ge=>!ge.necessary_tool).map(ge=>t.jsx(Bf,{tool:ge,isSelected:h.includes(ge.name),onCheckedChange:Ee=>Ue(ge.name,Ee),variant:"subagent",isNecessary:!1,onViewDetails:Ne},ge.name)):t.jsx("div",{children:t.jsx("p",{className:"text-[#8A8F98] text-sm text-center p-8",children:"No tools available"})})})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mo,{size:24,color:"#FFFFFF",className:"opacity-20"}),t.jsx("h2",{className:" font-medium text-[#FFFFFF4D]",children:"Default Tools"})]}),t.jsx("div",{className:"border border-[#222224] rounded-[16px] overflow-clip p-4",children:ee?t.jsx(Wy,{count:2}):V?.data&&Array.isArray(V.data)&&V.data.filter(ge=>ge.necessary_tool).length>0?V.data.filter(ge=>ge.necessary_tool).map(ge=>t.jsx(Bf,{tool:ge,isSelected:!0,onCheckedChange:void 0,variant:"subagent",isNecessary:!0,onViewDetails:Ne},ge.name)):t.jsx("div",{className:"py-8 text-center",children:t.jsx("p",{className:"text-[#8A8F98]",children:"No Default tools available"})})})]})]}):null},r)}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t-[1px] z-[99] rounded-b-[8px] py-7 px-6 h-[105px] bg-[#1A1A1C] border-[#262629]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[r>1?t.jsxs("button",{type:"button",onClick:()=>{i(r-1),b.current&&(b.current.scrollTop=0)},className:"flex items-center gap-2 px-6 py-3 font-semibold text-[#939399] bg-[#222224] hover:bg-[#FFFFFF10] rounded-full transition-colors",children:[t.jsx("img",{src:pve,alt:"Previous",className:"w-5 h-5"}),"Previous Step"]}):t.jsx("div",{}),t.jsx("button",{type:"button",onClick:Me,disabled:me||pe||!fe(),className:A("flex items-center gap-2 px-6 py-3 font-semibold text-black bg-white rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",r===2&&"bg-[#DD99FF] hover:bg-[#DD99FF90]"),children:(me||pe)&&r===2?t.jsxs(t.Fragment,{children:[D?"Updating":"Creating"," Subagent...",t.jsx("div",{className:"w-4 h-4 border-2 border-black rounded-full border-t-transparent animate-spin"})]}):t.jsxs(t.Fragment,{children:[D?xve[r]:hve[r],t.jsx("img",{src:uve,alt:"Next",className:"w-5 h-5"})]})})]})})]})}),t.jsx(TU,{isOpen:v,onOpenChange:g,currentStep:r,isSubagent:!0})]})},bve=tt.memo(({path:e,tabId:n})=>{const s=tt.useMemo(()=>{const r=e.split("/").filter(Boolean);return e==="/"||r[0]==="home"||r[0]==="workspace"&&r.length===2?ZN:r.includes("chat")?()=>t.jsx(Eye,{tabId:n}):r.includes("create-agent")?()=>t.jsx(ove,{tabId:n}):r.includes("create-subagent")?()=>t.jsx(gve,{tabId:n}):ZN},[e,n]);return t.jsx(s,{})}),cd=class cd{constructor(){$t(this,"pollingInterval",null);$t(this,"activeJobId",null);$t(this,"activeTabId",null)}static getInstance(){return cd.instance||(cd.instance=new cd),cd.instance}startPolling(n,s,r,i=15e3){this.activeJobId===n&&this.pollingInterval!==null||(this.stopPolling(),this.activeJobId=n,this.activeTabId=r,s(),this.pollingInterval=setInterval(s,i))}stopPolling(){this.pollingInterval!==null&&(clearInterval(this.pollingInterval),this.pollingInterval=null,this.activeJobId,this.activeTabId,this.activeJobId=null,this.activeTabId=null)}isPollingActive(n){return this.pollingInterval!==null&&this.activeJobId===n}getActiveJobId(){return this.activeJobId}setActiveTabId(n){this.activeTabId!==n&&(this.activeTabId!==null&&this.activeTabId!==n&&this.pollingInterval!==null&&this.stopPolling(),this.activeTabId=n)}getActiveTabId(){return this.activeTabId}};$t(cd,"instance");let Gy=cd;const ol=Gy.getInstance(),yve=e=>{const n=ah();d.useRef(e);const s=br(wX),r=br(CX),i=br(_X),a=br(jX),o=br(NX),l=br(FX),c=br(EX),u=br(SX),p=br(TX),f=br(kX),m=br(IX),h=br(AX),x=br(DX),[y,v]=d.useState(!1),g=d.useRef(0);d.useEffect(()=>{},[e,n]);const b=d.useCallback(()=>{const q=Date.now();return q-g.current>=15e3?(g.current=q,!0):!1},[]),w=d.useCallback(q=>()=>{if(b())try{yt.getDeployStatus(q).then(Q=>{const ee=Ai.getState()?.deploy?.deployStatus;n({type:"deploy/checkDeployStatus/fulfilled",payload:{response:Q,timestamp:Date.now(),prevStatus:ee},meta:{arg:{jobId:q,silent:!0},requestId:"polling",requestStatus:"fulfilled"}}),Q.status==="running"||Q.latest_run&&Q.latest_run.status==="running"||((Q.status==="success"||Q.latest_run&&Q.latest_run.status==="success")&&n(ud({jobId:q,silent:!1})),ol.stopPolling())}).catch(Q=>{})}catch{}},[n,b]),N=d.useCallback(()=>{ol.stopPolling()},[]),j=d.useCallback(q=>{const Q=Ai.getState(),V=Q?.tabs?.activeTab;if(!(!V||(Q?.tabs?.tabs?Q.tabs.tabs.find(X=>X.id===V):void 0)?.state?.jobId!==q))try{yt.getDeployStatus(q).then(X=>{const me=Ai.getState()?.deploy?.deployStatus;if(n({type:"deploy/checkDeployStatus/fulfilled",payload:{response:X,timestamp:Date.now(),prevStatus:me},meta:{arg:{jobId:q,silent:!0},requestId:"initial-check",requestStatus:"fulfilled"}}),X.status==="running"||X.latest_run&&X.latest_run.status==="running"){const pe=w(q);ol.startPolling(q,pe,V)}else(X.status==="success"||X.latest_run&&X.latest_run.status==="success")&&n(ud({jobId:q,silent:!1}))}).catch(X=>{})}catch{}},[n,w]);d.useEffect(()=>{},[e,s,r,j,N]),d.useEffect(()=>()=>{},[e,N]),d.useEffect(()=>{const q=Ai.subscribe(()=>{const Q=Ai.getState(),V=Q?.tabs?.activeTab;if(V&&ol.getActiveTabId()!==V){ol.setActiveTabId(V);const ee=Q?.tabs?.tabs?Q.tabs.tabs.find(X=>X.id===V):void 0;if(ee?.state?.jobId&&(ee.state.deployStatus==="running"||ee.state.latestRunStatus==="running")){const X=ee.state.jobId;ol.isPollingActive(X)||j(X)}else N()}});return()=>{q()}},[j,N]);const _=d.useCallback(q=>{},[e,n]),C=d.useCallback(async q=>!1,[e,n]),F=d.useCallback(async()=>[],[e,n]),E=d.useCallback(async()=>[],[e,n]),S=d.useCallback((q,Q=!1)=>Q&&!b()?Promise.resolve():(Q||(g.current=Date.now()),n(m_(q)),n(ud({jobId:q,silent:Q})).then(V=>{if(V.payload&&typeof V.payload=="object"&&"response"in V.payload){const ee=V.payload,X=ee.response.status==="running"||ee.response.latest_run&&ee.response.latest_run.status==="running",ae=ee.response.status==="success"||ee.response.latest_run&&ee.response.latest_run.status==="success",me=Ai.getState(),oe=me?.tabs?.activeTab,se=(me?.tabs?.tabs?me.tabs.tabs.find(re=>re.id===oe):void 0)?.state?.jobId===q;X&&se?j(q):!X&&ol.getActiveJobId()===q&&(N(),ae&&Q&&setTimeout(()=>{n(ud({jobId:q,silent:!1}))},100))}return V}).catch(V=>{throw V})),[n,j,N,b]),M=d.useCallback(async({image:q,deployment_id:Q,acknowledgements:V,db_mode:ee}={})=>{},[e,n,j,N]),k=d.useCallback(async q=>{if(!q)return[];try{v(!0);const Q=await n(jf(q));return jf.fulfilled.match(Q)?Q.payload:[]}catch{return[]}finally{v(!1)}},[e,n]),I=d.useCallback(async()=>{},[e,n,N,S]),D=d.useCallback(q=>{n(bX(q)),ol.setActiveTabId(q);const Q=Ai.getState(),V=Q?.tabs?.tabs?Q.tabs.tabs.find(ee=>ee.id===q):void 0;if(V?.state?.jobId&&(V.state.deployStatus==="running"||V.state.latestRunStatus==="running")){const ee=V.state.jobId;j(ee)}else N()},[n,j,N]),P=d.useCallback(q=>{const Q=Ai.getState(),V=Q?.tabs?.tabs?Q.tabs.tabs.find(ee=>ee.id===q):void 0;V?.state?.jobId&&ol.getActiveJobId()===V.state.jobId&&N(),e===V?.state?.jobId&&(n(yX()),n(m_(null)))},[n,e,N]),R=d.useCallback(async(q,Q)=>{if(!q)return null;try{v(!0);const V=await yt.registerDomain(q,Q);if(!V||!V.ip_address)return{status:"failed",message:"Failed to register domain"};const ee={type:"A",name:q||"",value:V.ip_address};return n(b1({domain:q,status:V.verification_required?"pending":"verified",dns_records:[ee]})),{...V,domain:q,status:V.verification_required?"pending_verification":"connected",dns_records:[ee]}}catch{return null}finally{v(!1)}},[n]),B=d.useCallback(async(q,Q)=>{if(!q)return null;try{v(!0);const V=await yt.verifyDomain(q,Q);if(!V||!V.status)return null;if(V.status==="connected"||V.status==="pending_verification")if(V.domain&&V.dns_records&&V.dns_records.length>0){const ee=V.verified===!0?"verified":"pending";n(b1({domain:V.domain,status:ee,dns_records:V.dns_records}))}else n(b1(null));return V}catch{return null}finally{v(!1)}},[n]),U=d.useCallback(async q=>null,[n,e]),H=d.useCallback(async q=>{if(!q)return null;try{v(!0);const Q=await yt.getDomainStatus(q);return Q&&(!Q.domain||Q.domain===""||!Q.status||!Q.dns_records||Q.dns_records.length===0?n(b1(null)):n(b1({domain:Q.domain,status:Q.status==="pending_verification"?"pending":Q.status==="connected"?"verified":"failed",dns_records:Q.dns_records||[]}))),Q}catch{return null}finally{v(!1)}},[n]),$=d.useCallback(async q=>null,[n,e]);return{deployStatus:s,latestRunStatus:r,loading:y,deploymentSteps:i,deploymentHistory:a,currentStepIndex:o,deployUrl:l,customDomainUrl:c,runId:u,errorMessage:p,currentJobId:f,customDomain:h,deployLogs:x,checkDeployStatus:S,loadDeploymentHistory:E,setActiveTabId:D,handleTabClosed:P,loadEnvironmentVariables:F,saveEnvironmentVariables:_,updateEnvironmentVariables:C,envs:m,handleDeploy:M,shutDownDeployment:I,loadDeployLogs:k,startPolling:j,stopPolling:N,isPolling:!1,registerDomain:R,verifyDomain:B,connectDomain:U,getDomainStatus:H,unlinkDomain:$}};function L2(){const{getVisualEditState:e}=_B();return{guardAction:d.useCallback((s,r)=>{const i=e();return i?.activeJobId?i.hasUnsavedChanges?(r?.showModal?.({onConfirm:()=>{i.onDiscard?.(),i.onDisableVisualEdit?.(),s()},title:r?.modalTitle||"You have unsaved changes",description:r?.modalDescription||"Are you sure you want to continue?",confirmButton:{text:r?.confirmText||"Confirm",variant:"default"},cancelButton:{text:"Cancel",variant:"outline"}}),!1):(i.onDisableVisualEdit?.(),s(),!0):(s(),!0)},[e])}}const vve=({width:e=13,height:n=13,color:s="currentColor",className:r})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:n,viewBox:"0 0 13 13",fill:"none",className:r,children:t.jsx("path",{d:"M2.966 0C2.406 0 1.93533 2.98023e-08 1.562 0.05C1.166 0.103333 0.804 0.221333 0.512667 0.512667C0.221333 0.804 0.103333 1.166 0.05 1.562C2.98023e-08 1.93533 0 2.406 0 2.966V3.03333C0 3.59333 2.98023e-08 4.064 0.05 4.43733C0.103333 4.83333 0.221333 5.19533 0.512667 5.48667C0.804 5.778 1.166 5.896 1.562 5.94933C1.93533 5.99933 2.406 5.99933 2.966 5.99933H3.03333C3.59333 5.99933 4.064 5.99933 4.43733 5.94933C4.83333 5.896 5.19533 5.778 5.48667 5.48667C5.778 5.19533 5.896 4.83333 5.94933 4.43733C5.99933 4.064 5.99933 3.59333 5.99933 3.03333V2.96667C5.99933 2.40667 5.99933 1.936 5.94933 1.56267C5.896 1.16667 5.778 0.804667 5.48667 0.513333C5.19533 0.222 4.83333 0.104 4.43733 0.0506667C4.064 0.000666648 3.59333 0.000666618 3.03333 0.000666618L2.966 0ZM9.966 0C9.406 0 8.93533 2.98023e-08 8.562 0.05C8.166 0.103333 7.804 0.221333 7.51267 0.512667C7.22133 0.804 7.10333 1.166 7.05 1.562C7 1.93533 7 2.406 7 2.966V3.03333C7 3.59333 7 4.064 7.05 4.43733C7.10333 4.83333 7.22133 5.19533 7.51267 5.48667C7.804 5.778 8.166 5.896 8.562 5.94933C8.93533 5.99933 9.406 5.99933 9.966 5.99933H10.034C10.594 5.99933 11.0647 5.99933 11.438 5.94933C11.834 5.896 12.196 5.778 12.4873 5.48667C12.7787 5.19533 12.8967 4.83333 12.95 4.43733C13 4.064 13 3.59333 13 3.03333V2.96667C13 2.40667 13 1.936 12.95 1.56267C12.8967 1.16667 12.7787 0.804667 12.4873 0.513333C12.196 0.222 11.834 0.104 11.438 0.0506667C11.0647 0.000666648 10.5947 0.000666618 10.0347 0.000666618L9.966 0ZM2.966 7.00467C2.406 7.00467 1.93533 7.00467 1.562 7.05467C1.166 7.108 0.804 7.226 0.512667 7.51733C0.221333 7.80867 0.103333 8.17067 0.05 8.56667C2.98023e-08 8.94 0 9.41067 0 9.97067V10.0387C0 10.5987 2.98023e-08 11.0693 0.05 11.4427C0.103333 11.8387 0.221333 12.2007 0.512667 12.492C0.804 12.7833 1.166 12.9013 1.562 12.9547C1.93533 13.0047 2.406 13.0047 2.966 13.0047H3.03333C3.59333 13.0047 4.064 13.0047 4.43733 12.9547C4.83333 12.9013 5.19533 12.7833 5.48667 12.492C5.778 12.2007 5.896 11.8387 5.94933 11.4427C5.99933 11.0693 5.99933 10.5987 5.99933 10.0387V9.97067C5.99933 9.41067 5.99933 8.94067 5.94933 8.56667C5.896 8.17067 5.778 7.80867 5.48667 7.51733C5.19533 7.226 4.83333 7.108 4.43733 7.05467C4.064 7.00467 3.59333 7.00467 3.03333 7.00467H2.966ZM9.966 7.00467C9.406 7.00467 8.93533 7.00467 8.562 7.05467C8.166 7.108 7.804 7.226 7.51267 7.51733C7.22133 7.80867 7.10333 8.17067 7.05 8.56667C7 8.94 7 9.41067 7 9.97067V10.0387C7 10.5987 7 11.0693 7.05 11.4427C7.10333 11.8387 7.22133 12.2007 7.51267 12.492C7.804 12.7833 8.166 12.9013 8.562 12.9547C8.93533 13.0047 9.406 13.0047 9.966 13.0047H10.034C10.594 13.0047 11.0647 13.0047 11.438 12.9547C11.834 12.9013 12.196 12.7833 12.4873 12.492C12.7787 12.2007 12.8967 11.8387 12.95 11.4427C13 11.0693 13 10.5987 13 10.0387V9.97067C13 9.41067 13 8.94067 12.95 8.56667C12.8967 8.17067 12.7787 7.80867 12.4873 7.51733C12.196 7.226 11.834 7.108 11.438 7.05467C11.0647 7.00467 10.594 7.00467 10.0347 7.00467H9.966Z",fill:s})}),PU=d.memo(({status:e,size:n="md",className:s,subagentName:r,isSubagentActive:i,overrideColor:a})=>{const o=a||eP(e,r,i),l=n==="sm"?{outer:"w-3 h-3",inner:"w-1.5 h-1.5"}:{outer:"w-4 h-4",inner:"w-2 h-2"};return t.jsx("div",{className:A("rounded-lg flex justify-center items-center",l.outer,e!=="stopped"&&e!=="exit_cost"&&"animate-status-pulse",s),style:{backgroundColor:`${o}20`,"--status-pulse-color":`${o}70`,"--status-pulse-transparent":`${o}00`},children:t.jsx("div",{className:A("rounded",l.inner),style:{backgroundColor:o}})})});PU.displayName="StatusIndicator";function wve({agentStatus:e,isActive:n=!1,tabType:s,subagentName:r,isSubagentActive:i,overrideColor:a}){return s==="ShowCasePreview"?t.jsx($8,{width:16,height:16,fill:"#FF8C66",className:A("flex-shrink-0",n?"opacity-100":"opacity-70")}):n?t.jsx(PU,{status:e||"running",size:"sm",className:"flex-shrink-0",subagentName:r,isSubagentActive:i,overrideColor:a}):t.jsx("div",{className:"flex-shrink-0 w-3 h-3 rounded-full flex items-center justify-center",children:t.jsx("div",{className:"w-2 h-2 rounded-full bg-[#7B7B80]"})})}const Cve=tt.memo(({tab:e,isActive:n,tabWidth:s,onTabClick:r,onTabClose:i,tabRef:a,agentStatus:o,subagentName:l,isSubagentActive:c})=>{const u=d.useMemo(()=>localStorage.getItem("embeddedTaskTabId")===e.id||e.path==="/not-defined",[e.id,e.path]),p=e.id==="home",f=e.title.toLowerCase().includes("create new agent")||e.path==="/create-agent",m=e.title.toLowerCase().includes("create subagent")||e.path==="/create-subagent",x=f||m?zc.INDICATOR_BG_CREATE:zc.INDICATOR_BG_DEFAULT,y=m?zc.INDICATOR_BORDER_SUBAGENT:f?zc.INDICATOR_BORDER_AGENT:zc.INDICATOR_BORDER_DEFAULT,v=m?zc.CREATE_SUBAGENT:f?zc.CREATE_AGENT:void 0;return u?null:t.jsx(Ws,{children:t.jsxs(gi,{delayDuration:800,children:[t.jsx(bi,{asChild:!0,children:t.jsxs("div",{ref:a,className:"group relative",children:[n&&t.jsxs(qn.div,{layoutId:"activeTabIndicator",className:"absolute inset-0 rounded-tl-lg rounded-tr-lg",style:{backgroundColor:x},transition:{duration:.2,ease:[.25,.1,.25,1]},children:[t.jsx("div",{className:"absolute inset-0 rounded-tl-lg rounded-tr-lg pointer-events-none",style:{padding:"1px",background:`linear-gradient(180deg, ${y} 0%, transparent 50%)`,mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude",WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor"}}),t.jsx("div",{className:"absolute bottom-0 -left-[20px] w-[20px] h-[20px] z-10",style:{borderBottomRightRadius:"12px",boxShadow:`6px 6px 0 6px ${x}`,clipPath:"inset(0 -10px 0 0)"}}),t.jsx("div",{className:"absolute bottom-0 -right-[20px] w-[20px] h-[20px] z-10",style:{borderBottomLeftRadius:"12px",boxShadow:`-6px 6px 0 6px ${x}`,clipPath:"inset(0 0 0 -10px)"}})]}),t.jsx(qn.div,{layout:!0,"data-testid":`tab-${e.id}`,onClick:()=>r(e),style:p?void 0:{width:`${s}px`,minWidth:"40px",maxWidth:"170px"},className:A("flex justify-between items-center pr-0.5 pl-0.5 pt-[7px] pb-[5px] mx-1 mb-1 cursor-pointer transition-all duration-200 font-brockmann text-[14px] leading-[20px] font-medium relative z-20 rounded-t-xl",!n&&"hover:bg-white/10 rounded-lg"),animate:{color:n?"#ffffff":"#B3B3B3"},transition:{duration:.2,ease:"easeOut",layout:{duration:.2,ease:[.25,.1,.25,1]}},children:p?t.jsxs("div",{className:"flex items-center space-x-0 md:space-x-2 py-1 pl-2 pr-1 ",children:[t.jsx(vve,{color:n?"#ffffff":"#7B7B80",className:""}),t.jsx("p",{className:"hidden md:block",children:"Home"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden pl-1.5 py-1",children:[wve({agentStatus:o,isActive:n,tabType:e.tabType,subagentName:l,isSubagentActive:c,overrideColor:v}),t.jsx("span",{className:A("text-sm font-medium cursor-default truncate",f&&"text-[#F8FF99]",m&&"text-[#DD99FF]",!n&&"text-[#B3B3B3]"),children:e.tabHeading||e.title})]}),t.jsx("button",{type:"button","data-testid":`close-tab-${e.id}`,title:"Close Tab",onClick:g=>i(g,e),className:A("hover:bg-white/10 rounded-full p-0.5 flex-shrink-0 transition-opacity duration-200 text-[#7B7B80] hover:text-white",n?"opacity-100":"opacity-0 group-hover:opacity-100"),children:t.jsx(VP,{size:14,color:"currentColor"})})]})})]})}),!p&&t.jsx(oi,{className:"max-w-xs bg-[#fff] text-[#0f0f10] px-4 py-3 rounded-xl shadow-lg z-[9999]",sideOffset:4,side:"bottom",asChild:!0,children:t.jsx(qn.div,{initial:{opacity:0,y:-4,scale:.96},animate:{opacity:1,y:0,scale:1},transition:{duration:.15,ease:[.25,.46,.45,.94]},children:t.jsx("div",{className:"flex flex-col gap-0.5",children:t.jsx("span",{className:"font-semibold text-sm tracking-[-0.3px] line-clamp-1",children:e.tabHeading||e.title})})})})]})})});function Gl({hoverIcon:e,icon:n,className:s,children:r,onClick:i,hoveringEndIcon:a,buttonClassName:o,loadingState:l=!1,loadingNode:c,disabled:u=!1,"data-testid":p}){const[f,m]=d.useState(!1);return t.jsxs(xe.button,{"data-testid":p,disabled:u,onClick:i,type:"button",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:A("flex font-medium max-h-[36px] px-0 py-[10px] text-[14px] gap-3 justify-between items-center",s),transition:{duration:.15},children:[t.jsxs("div",{className:A("flex items-center gap-3"),children:[n&&!l&&t.jsx(xe.img,{src:f&&e?e:n,alt:"icon",className:"w-5 h-5 transition-all ease-in-out group-hover/rotate:-rotate-12",initial:{opacity:1},animate:{},transition:{duration:.2}}),l&&c,t.jsx(xe.span,{animate:{},transition:{duration:.2},children:r})]}),a&&t.jsx(xe.img,{src:a,alt:"end icon",className:"w-5 h-5",initial:{opacity:0,x:-5},animate:{opacity:f?1:0,x:f?0:-5},transition:{duration:.2}})]})}const _ve=W.common.whiteGithub,jve=W.common.githubGreen,Nve=W.common.greenLinkArrow;function Fve({className:e}){const{t:n}=Jt("home"),{isConnecting:s,setIsConnecting:r,redirectToGitHubInstallation:i,setIsConnected:a,isConnected:o}=Jd(),{sendMessage:l,isMobileApp:c}=c9();d.useEffect(()=>{o&&s&&r(!1)},[o,s,r]);const u=async()=>{try{const m=await yt.getUserDetails();return m&&m.github&&m.github.authorized===!0?(a(!0),$s({title:n("repositorySelector.connectGitHub.success.title"),description:n("repositorySelector.connectGitHub.success.description")}),!0):!1}catch{return!1}finally{r(!1)}},p=()=>{let m=0;const h=10,x=3e3,y=setInterval(async()=>{m++;const v=await u();(v||m>=h)&&(clearInterval(y),v?window.location.reload():m>=h&&r(!1))},x);setTimeout(()=>{clearInterval(y),r(!1)},x*h+1e3)},f=async()=>{try{if(r(!0),z(Tn.HOME_PAGE_EVENTS.GITHUB_EVENTS.CONNECT_TO_GITHUB_CTA_CLICKED),c){const m=`${Hf.appUrl}?state=mobile_app`;l("OPEN_GITHUB_CONNECT",{url:m}),r(!1);return}i({isPopup:!0,pollingEnabled:!1,onSuccess:async()=>{await u()&&window.location.reload()}}),p()}catch{r(!1),$s({title:n("repositorySelector.connectGitHub.error.title"),description:n("repositorySelector.connectGitHub.error.description"),variant:"destructive"})}};return t.jsx(Gl,{disabled:s,loadingNode:t.jsx(ln,{className:"animate-spin"}),loadingState:s,hoveringEndIcon:Nve,hoverIcon:jve,icon:_ve,className:A(" hover:bg-[#2EE5720F] px-[10px] w-full hover:text-[#2EE572] opacity-70 hover:opacity-100 rounded-[8px]",e),onClick:f,children:n("repositorySelector.connectGitHub.button")})}function Eve({user:e,userDetails:n,onCloseMenu:s,getUserInitials:r,hideNewWorkspace:i=!1}){const{t:a}=Jt("teams"),{toast:o}=ds(),{currentWorkspace:l}=ys(),{personalTier:c}=cs();Er();const u=Up(),p=i8(),f=Coe(),m=Qi(),{isMobile:h}=ps(),[x,{isLoading:y}]=Zg(),[v,{isLoading:g}]=Jg(),{guardAction:b}=L2(),[w,N]=d.useState(!1),[j,_]=d.useState(null),[C,F]=d.useState(!1),[E,S]=d.useState(""),M=d.useRef(null),k=d.useRef(null),I=d.useRef(null);d.useEffect(()=>{if(!h||!C)return;const se=ve=>{const we=ve.target;I.current&&!I.current.contains(we)&&k.current&&!k.current.contains(we)&&F(!1)},re=setTimeout(()=>{document.addEventListener("mousedown",se),document.addEventListener("touchstart",se)},100);return()=>{clearTimeout(re),document.removeEventListener("mousedown",se),document.removeEventListener("touchstart",se)}},[h,C]);const D=[{id:"personal",name:e?.user_metadata?.name||e?.user_metadata?.full_name||e?.email?.split("@")[0]||"Personal",role:"admin",members:1,status:"ACTIVE"},...(n?.organizations||[]).map(se=>({id:se.organization_id,name:se.organization_name,role:se.role?.toLowerCase(),members:se.member_count,status:se.status}))],R=l==="personal"?D[0]:D.find(se=>se.id===l)||D[0],B=()=>c.toLowerCase().includes("pro")?"Pro Plan":c.toLowerCase().includes("standard")?"Standard Plan":c.toLowerCase().includes("starter")?"Starter Plan":"Free Plan",U=se=>{if(l===se){F(!1);return}b(()=>{F(!1);const re=D.find(Ue=>Ue.id===se),ve=Di(re,e),be=`${se==="personal"?Pd:sm(se)}?switching=${encodeURIComponent(ve)}`;z("workspace_switched",{workspace_id:se,workspace_name:ve}),window.location.href=be},{modalTitle:a("workspaceSelector.unsavedChanges.title"),modalDescription:a("workspaceSelector.unsavedChanges.description"),confirmText:a("workspaceSelector.unsavedChanges.confirm"),showModal:re=>{_(re),N(!0)}})},H=()=>{F(!1),z(ii.CREATE_NEW_PROJECT_CLICKED,{source:"workspace_selector",currentWorkspace:l}),f.open({onWorkspaceCreated:se=>{U(se)}})},$=()=>{u.open({initialTab:"general"})},q=()=>{z(ii.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:l,source:"workspace_selector"}),p.open({organizationId:l})},Q=()=>{h||(M.current&&clearTimeout(M.current),F(!0))},V=()=>{h||(M.current=setTimeout(()=>{F(!1)},150))},ee=()=>{h||M.current&&clearTimeout(M.current)},X=()=>{h||(M.current=setTimeout(()=>{F(!1)},150))},ae=se=>{se.stopPropagation(),se.preventDefault(),F(!0)},me=async(se,re)=>{try{await x({invitation_id:se}).unwrap(),o({title:a("workspaceSelector.toast.invitationAccepted"),description:a("workspaceSelector.toast.successfullyJoined",{name:re}),variant:"default"})}catch(ve){o({title:a("workspaceSelector.toast.error"),description:ve?.error||a("workspaceSelector.toast.failedToAccept"),variant:"destructive"})}},oe=async(se,re)=>{try{await v({invitation_id:se}).unwrap(),o({title:a("workspaceSelector.toast.invitationDeclined"),description:a("workspaceSelector.toast.successfullyDeclined",{name:re}),variant:"default"})}catch(ve){o({title:a("workspaceSelector.toast.error"),description:ve?.data?.detail||a("workspaceSelector.toast.failedToDecline"),variant:"destructive"})}},pe=D.filter(se=>E===""||Di(se,e).toLowerCase().includes(E.toLowerCase()));return t.jsxs("div",{className:"flex flex-col border-b border-[#242424]",children:[t.jsx("div",{className:"px-4 py-[10px] text-[#808080] text-sm font-medium border-b border-[#1F1F1F]",children:e?.email}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:ae,children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:32,name:Di(R,e),variant:"marble",colors:tp})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white text-base font-semibold truncate",children:Di(R,e)}),t.jsxs("p",{className:"text-[#808080] text-sm font-inter font-medium",children:[_m(R,a),"  ",Bo(R)," ",Bo(R)===1?a("workspaceSelector.member"):a("workspaceSelector.members")]})]}),t.jsxs("div",{className:"relative",onMouseEnter:Q,onMouseLeave:V,onClick:se=>se.stopPropagation(),children:[t.jsx("button",{ref:k,type:"button",onClick:ae,className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/[0.04] transition-all duration-200",children:t.jsx(lR,{className:"w-5 h-5"})}),C&&t.jsxs("div",{ref:I,className:A("absolute top-full mt-2 bg-[#18181A] rounded-[16px] border border-[#292929] shadow-2xl z-[100] overflow-hidden",h?"right-[-60px] w-[280px]":"right-0 w-[320px]"),onMouseEnter:ee,onMouseLeave:X,onClick:se=>se.stopPropagation(),children:[D.length>2&&t.jsx("div",{className:"px-5 py-[10px] border-b border-[#242424]",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(vo,{className:"w-4 h-4 text-white/40"}),t.jsx("input",{type:"text",placeholder:a("workspaceSelector.searchProjects")||"Search projects",value:E,onChange:se=>S(se.target.value),className:"flex-1 bg-transparent text-white text-sm placeholder-white/40 outline-none font-brockmann"})]})}),t.jsx("div",{className:"px-[6px] py-[6px] max-h-[240px] overflow-y-auto",children:pe.map(se=>t.jsxs("div",{onClick:()=>U(se.id),className:"w-full flex items-center gap-3 p-[10px] rounded-[10px] hover:bg-white/[0.04] transition-all duration-200 cursor-pointer",children:[t.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden flex-shrink-0",children:t.jsx(cc,{size:32,name:Di(se,e),variant:"marble",colors:tp})}),t.jsxs("div",{className:"flex-1 text-left min-w-0",children:[t.jsx("p",{className:"text-white text-xs font-inter font-medium truncate",children:Di(se,e)}),t.jsxs("p",{className:"text-[#808080] text-xs font-inter font-medium",children:[se.id==="personal"?B():_m(se,a)," "," ",Bo(se)," ",Bo(se)===1?a("workspaceSelector.member"):a("workspaceSelector.members")]})]}),l===se.id&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx(zP,{})})]},se.id))}),!i&&t.jsx("div",{className:"border-t border-white/[0.08] rounded-b-[10px] p-[6px]",children:t.jsxs("button",{type:"button",onClick:H,className:"w-full flex items-center justify-center gap-2 p-[6px] rounded-[10px] opacity-80 hover:opacity-100 hover:bg-white/[0.06] transition-all duration-200 group",children:[t.jsx("div",{className:"w-6 h-6 flex items-center justify-center bg-white/[0.04] rounded-lg",children:t.jsx(_a,{className:"w-4 h-4 text-white transition-transform duration-300 group-hover:rotate-90"})}),t.jsx("span",{className:"text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px]",children:a("workspaceSelector.createNewProject")})]})})]})]})]}),l!=="personal"&&t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsxs(Vt,{variant:"secondary",size:"sm",onClick:$,centerContent:!jm(R),className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx(y8,{size:16,color:"#E8E8E6",className:"mr-2"}),a("workspaceSelector.settings")]}),jm(R)&&t.jsxs(Vt,{variant:"secondary",size:"sm",onClick:q,className:"flex-1 rounded-lg border border-white/[0.08] backdrop-blur-[25px] opacity-80 hover:opacity-100 hover:bg-white/[0.08] transition-all duration-200",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.03) 100%)"},children:[t.jsx($P,{size:16,fill:"#E8E8E6",className:"mr-2"}),a("workspaceSelector.inviteMembers")]})]})]}),n?.pending_invitations&&!m&&n.pending_invitations.length>0&&t.jsx("div",{className:"px-4 pb-4",children:n.pending_invitations.map(se=>t.jsx(HP,{invitation:se,onAcceptInvitation:me,onDeclineInvitation:oe,isAcceptingInvitation:y||g,variant:"selector"},se.id))}),t.jsx(zn,{open:w&&j,onOpenChange:N,children:t.jsx(Us,{children:t.jsx(ch,{isOpen:w,onClose:()=>N(!1),onConfirm:j?.onConfirm,onCancel:()=>N(!1),title:j?.title,description:j?.description,confirmButton:j?.confirmButton||{text:a("workspaceSelector.unsavedChanges.confirm"),variant:"default"},cancelButton:j?.cancelButton||{text:a("workspaceSelector.unsavedChanges.cancel"),variant:"outline"}})})})]})}const jg=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"fr",name:"Franais",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt-BR",name:"Portugus (Brazil)",flag:""},{code:"pt-PT",name:"Portugus (Portugal)",flag:""}];function OU(e={}){const{onLanguageChange:n,onClose:s}=e,{i18n:r,t:i}=Jt("common"),[a,o]=d.useState(""),l=r.language,c=d.useMemo(()=>{let f=jg;if(a.trim()){const m=a.toLowerCase();f=jg.filter(h=>h.name.toLowerCase().includes(m)||h.code.toLowerCase().includes(m))}return[...f].sort((m,h)=>{const x=l===m.code||l.startsWith(m.code+"-"),y=l===h.code||l.startsWith(h.code+"-");return x&&!y?-1:!x&&y?1:0})},[a,l]),u=d.useCallback(f=>l===f||l.startsWith(f+"-"),[l]),p=d.useCallback(f=>{r.changeLanguage(f),localStorage.setItem("userSelectedLanguage","true"),z(yD.LANGUAGE_SELECTED,{language:f}),n?.(f),s?.()},[r,n,s]);return{searchTerm:a,setSearchTerm:o,currentLanguage:l,filteredLanguages:c,isLanguageSelected:u,handleLanguageSelect:p,t:i}}function Sve({onLanguageChange:e,onClose:n,className:s}){const{searchTerm:r,setSearchTerm:i,filteredLanguages:a,isLanguageSelected:o,handleLanguageSelect:l,t:c}=OU({onLanguageChange:e,onClose:n});return t.jsxs("div",{className:A("bg-[#1C1C1F] border border-[#242424] flex flex-col gap-[6px] pb-4 pt-2 px-2 rounded-lg w-[180px]",s),"data-testid":yr.language.menu,children:[t.jsxs("div",{className:"bg-white/[0.02] flex items-center gap-1 pb-[6px] pt-1 px-2 rounded",children:[t.jsx(vo,{size:16,className:"text-white/50 shrink-0"}),t.jsx("input",{type:"text",placeholder:c("languageBottomSheet.search"),value:r,onChange:u=>i(u.target.value),className:"bg-transparent text-white/90 text-sm font-['Brockmann'] font-medium placeholder:text-white/50 outline-none w-full tracking-[-0.14px]","data-testid":yr.language.searchInput})]}),t.jsxs("div",{className:"flex flex-col gap-1 max-h-[280px] overflow-y-auto",children:[a.map(u=>{const p=o(u.code);return t.jsxs("button",{type:"button",onClick:()=>l(u.code),className:A("flex items-center gap-2 h-8 px-2 rounded transition-colors",p?"bg-white/[0.05]":"hover:bg-white/[0.03]"),"data-testid":yr.language.option(u.code),children:[t.jsx("span",{className:"text-base leading-none shrink-0 size-4 flex items-center justify-center",children:u.flag}),t.jsx("span",{className:A("flex-1 text-left text-sm font-['Brockmann'] font-medium leading-8",p?"text-white/90":"text-white/70"),children:u.name}),p&&t.jsx(Mn,{size:12,className:"text-white shrink-0"})]},u.code)}),a.length===0&&t.jsx("div",{className:"text-white/50 text-sm text-center py-4 font-['Brockmann'] font-medium",children:c("languageBottomSheet.noLanguagesFound")})]})]})}function BU({open:e,onOpenChange:n,onClose:s}){const{searchTerm:r,setSearchTerm:i,filteredLanguages:a,isLanguageSelected:o,handleLanguageSelect:l,t:c}=OU({onClose:()=>{n?.(!1),s?.()}}),u=()=>{n?.(!1)};return t.jsx(th,{open:e,onOpenChange:n,children:t.jsx(ZR,{handleColor:"bg-[#252525]",children:t.jsxs("div",{className:"mx-auto w-full bg-[#18181a] border border-[#242424] rounded-t-[24px] max-w-[500px] max-h-[85vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center h-[72px] px-4 border-b border-[#242424] relative",children:[t.jsx("button",{type:"button",onClick:u,className:"p-1.5 rounded-full hover:bg-white/5 transition-colors","aria-label":"Go back",children:t.jsx(J9,{size:16,className:"text-white"})}),t.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 flex items-center gap-1",children:[t.jsx(Aae,{size:16,className:"text-white"}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-lg text-white",children:c("languageBottomSheet.title")})]})]}),t.jsxs("div",{className:"flex flex-col gap-3 p-4 overflow-y-auto max-h-[calc(85vh-72px)]",children:[t.jsxs("div",{className:"flex items-center gap-2 h-14 px-4 border border-[#242424] rounded-xl",children:[t.jsx(vo,{size:20,className:"text-white/50 shrink-0"}),t.jsx("input",{type:"text",placeholder:c("languageBottomSheet.search"),value:r,onChange:p=>i(p.target.value),className:"bg-transparent text-white/90 text-lg font-['Brockmann'] font-medium placeholder:text-white/50 outline-none w-full tracking-[-0.18px]","data-testid":yr.language.bottomSheetSearch})]}),t.jsxs("div",{className:"flex flex-col gap-1",children:[a.map(p=>{const f=o(p.code);return t.jsxs("button",{type:"button",onClick:()=>l(p.code),className:A("flex items-center gap-3 h-14 px-4 rounded-xl transition-colors",f?"bg-white/[0.05]":"hover:bg-white/[0.03]"),"data-testid":yr.language.bottomSheetOption(p.code),children:[t.jsx("span",{className:"text-base leading-none shrink-0 size-4 flex items-center justify-center",children:p.flag}),t.jsx("span",{className:A("flex-1 text-left text-base font-['Brockmann'] font-medium leading-6",f?"text-white/90":"text-white/70"),children:p.name}),f&&t.jsx(Mn,{size:16,className:"text-white shrink-0"})]},p.code)}),a.length===0&&t.jsx("div",{className:"text-white/50 text-base text-center py-8 font-['Brockmann'] font-medium",children:c("languageBottomSheet.noLanguagesFound")})]})]})]})})})}const GS=({size:e=20,width:n,height:s,fill:r="#E6E6E6",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:[t.jsx("path",{d:"M14.5039 4C15.8846 4 17.0039 5.11929 17.0039 6.5V13.5C17.0039 14.8807 15.8846 16 14.5039 16H5.50391C4.12319 16 3.00391 14.8807 3.00391 13.5V6.5C3.00391 5.11929 4.12319 4 5.50391 4H14.5039Z",fill:r}),t.jsx("path",{d:"M5 12C5 10.8954 5.89543 10 7 10H13C14.1046 10 15 10.8954 15 12C15 13.1046 14.1046 14 13 14H7C5.89543 14 5 13.1046 5 12Z",fill:"#1D1D1E"}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 7 13)",fill:r}),t.jsx("rect",{width:"2",height:"2",rx:"1",transform:"matrix(1 0 0 -1 11 13)",fill:r}),t.jsx("rect",{y:"9",width:"2",height:"4",rx:"1",fill:r}),t.jsx("rect",{x:"18",y:"9",width:"2",height:"4",rx:"1",fill:r})]})},qS=({width:e,height:n,size:s=16,fill:r,color:i="#808080",className:a,onClick:o})=>{const l=e??s,c=n??s,u=r??i;return t.jsx("svg",{width:l,height:c,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a,onClick:o,style:{cursor:o?"pointer":"default"},children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.01781 1.77114C5.85109 1.55645 6.72751 1.57629 7.55021 1.82849C8.37292 2.08068 9.1099 2.5554 9.67971 3.2002C10.2495 3.845 10.63 4.63477 10.7791 5.48225C10.9281 6.32973 10.84 7.20193 10.5245 8.00247L13.5905 10.5978C13.823 10.7943 14.0122 11.0369 14.1461 11.3103C14.2801 11.5837 14.3558 11.882 14.3685 12.1861C14.3813 12.4903 14.3307 12.7938 14.2201 13.0775C14.1095 13.3611 13.9412 13.6187 13.7259 13.8339C13.5106 14.0492 13.253 14.2174 12.9693 14.328C12.6857 14.4385 12.3822 14.489 12.078 14.4762C11.7738 14.4634 11.4756 14.3876 11.2022 14.2536C10.9289 14.1196 10.6863 13.9304 10.4898 13.6978L7.89581 10.6331C7.09517 10.9492 6.22272 11.0377 5.37491 10.8889C4.5271 10.74 3.73697 10.3596 3.09187 9.78974C2.44677 9.21985 1.97184 8.48266 1.71958 7.65968C1.46732 6.83669 1.44756 5.95998 1.66248 5.12647C1.69278 5.00936 1.75408 4.90257 1.83993 4.81733C1.92577 4.7321 2.03299 4.67156 2.15032 4.6421C2.26765 4.61263 2.39075 4.61531 2.50669 4.64987C2.62262 4.68442 2.7271 4.74958 2.80915 4.83847L4.83915 7.04314L6.37048 6.47981L6.93515 4.94647L4.72915 2.91981C4.63972 2.83779 4.57411 2.73312 4.53928 2.61688C4.50444 2.50065 4.50166 2.37715 4.53124 2.25947C4.56081 2.14178 4.62164 2.03427 4.70729 1.94831C4.79294 1.86235 4.90023 1.80114 5.01781 1.77114Z",fill:u})})},kve=W.robots.research,Tve=d.memo(({server:e,onMouseEnter:n,onMouseLeave:s,handleEditMCPServer:r})=>{const{t:i}=Jt("settings"),a=e.type==="public"&&e.key_required===!0,o=e.key_required===!0||e.type==="private",{isMobile:l}=ps(),c=Qi(),{toast:u}=ds(),p=f=>{if(l||c){u({title:i("manageAgents.configNotAvailable"),description:i("manageAgents.configNotAvailableMobile"),duration:5e3});return}r(f)};return t.jsxs("div",{className:"flex gap-4 p-4 rounded-[12px] justify-between bg-transparent hover:bg-[#FFFFFF08] transition-colors relative",onMouseEnter:n,onMouseLeave:s,children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-[12px] h-10 w-10",children:e.icon?t.jsx("img",{alt:"Image",src:e.icon,className:"w-6 h-6"}):t.jsx(Zi,{size:24})}),t.jsxs("div",{className:A("flex flex-col gap-[2px] flex-1 w-full"),children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx("span",{className:"text-[#D8DDE6] font-medium",children:e.display_name}),e.key_required&&t.jsxs("div",{className:"flex items-center text-[#D8DDE6]/80 bg-[#D8DDE6]/10 rounded-full px-[6px] font-inter font-semibold text-[12px] gap-1 py-[2px]",children:[t.jsx(AU,{fill:"#D8DDE6",size:16}),i("manageAgents.keyNeeded")]})]}),t.jsx("div",{className:"text-[14px] font-inter truncate mr-4 text-[#777a80] mb-1 max-md:max-w-[180px]",children:e.description})]}),t.jsx("div",{className:"absolute flex items-center gap-2 -translate-y-1/2 right-2 top-1/2",children:a?t.jsxs("button",{type:"button",className:"text-[#C4C4CC] backdrop-blur-lg flex items-center gap-1 px-[10px] rounded-full py-[6px] font-medium bg-[#FFFFFF14] hover:bg-white/15",title:"Configure Button",onClick:()=>p(e),children:[t.jsx(mo,{size:20,color:"#E6E6E6"}),i("manageAgents.configure")]}):o?t.jsxs("button",{type:"button",className:"flex items-center font-medium gap-1 backdrop-blur-lg p-[6px] pl-3 pr-4 rounded-full text-[#C4C4CC] bg-[#FFFFFF0A] hover:bg-[#FFFFFF10] transition-colors duration-150 group",onClick:()=>p(e),children:[t.jsx(Hp,{width:20,height:20,fill:"#C4C4CC"}),i("manageAgents.edit")]}):null})]},e.id)});function CEe({agentsTab:e,setAgentsTab:n,isLoadingAgents:s,agentsError:r,agentsForbidden:i,agents:a,subAgents:o,mcpServers:l,isLoadingMCPServers:c,mcpServersError:u,handleCreateAgent:p,handleEditAgent:f,getAgentDescriptionKey:m,fetchMCPServers:h,currentWorkspace:x,orgDetails:y,showToast:v,onClose:g,location:b}){const{t:w}=Jt("settings"),N=Er(),j=_R();d.useEffect(()=>{z(Tn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.MANAGE_AGENTS_TAB_CHANGED,{tab:e,workspace:x||"personal"})},[e]);const _=x!=="personal"?x:void 0,[C,F]=d.useState({}),E=P=>C[P]||{showActions:!1,imageError:!1,showFallback:!1},S=(P,R)=>{F(B=>({...B,[P]:{...E(P),...R}}))},M=()=>{if(x!=="personal"&&v&&b==="personal"){v.info(w("manageAgents.switchToPersonalMCP"));return}const P={tab:b==="personal"?"manage-agents":"shared-agents",currentWorkspace:x};j.open({onServerAdded:()=>{try{h(),v?.success(w("manageAgents.mcpCreated"))}catch{v?.success(w("manageAgents.mcpCreated"))}},organizationId:_||null,reopenAccountSettings:P}),g()},k=P=>{if(x!=="personal"&&v&&b==="personal"){v.info(w("manageAgents.switchToPersonalMCP"));return}const R={tab:b==="personal"?"manage-agents":"shared-agents",currentWorkspace:x};j.open({onServerAdded:()=>{try{h(),v?.success(w("manageAgents.mcpUpdated"))}catch{v?.success(w("manageAgents.mcpUpdated"))}},organizationId:_||null,editMode:!0,serverData:P,reopenAccountSettings:R}),g()};d.useEffect(()=>{z(Tn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.MANAGE_AGENTS_TAB_OPENED)},[]);const I=d.useCallback(P=>()=>{S(P,{showActions:!0})},[]),D=d.useCallback(P=>()=>{S(P,{showActions:!1})},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"pt-6 pb-4 pl-6 max-md:hidden md:block",children:[t.jsx("h2",{className:"max-md:text-center text-white font-[Brockmann] text-[18px] font-medium leading-8",children:w("manageAgents.title")}),t.jsx("p",{className:"mt-1 text-white/40 font-['Inter'] text-[14px] font-medium",children:w("manageAgents.description")})]}),t.jsxs("div",{className:"flex border-b px-6 border-[#242424]",children:[t.jsx("button",{type:"button",onClick:()=>n("main"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="main"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":F1.manageAgents.tabMain,children:w("manageAgents.tabs.mainAgents")}),t.jsx("button",{type:"button",onClick:()=>n("sub"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="sub"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":F1.manageAgents.tabSub,children:w("manageAgents.tabs.subAgents")}),t.jsx("button",{type:"button",onClick:()=>n("mcp"),className:`px-3 py-3 text-sm font-medium border-b-2 transition-colors ${e==="mcp"?"border-[#E5EFFF] text-[#E5EFFF]":"border-transparent text-[#8A8F98] hover:text-[#E5EFFF]"}`,"data-testid":F1.manageAgents.tabMcp,children:w("manageAgents.tabs.mcpTools")})]}),t.jsx("div",{className:"flex-1 w-full h-full flex flex-col max-h-[calc(700px-120px)] overflow-hidden",children:t.jsxs("div",{className:"flex-1 w-full p-4 overflow-y-auto",children:[(s||e==="mcp"&&c)&&t.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[t.jsx("div",{className:"border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 md:min-h-[200px]",children:t.jsxs("div",{className:"bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center",children:[t.jsx("div",{className:"bg-[#80FFF910] rounded-full w-12 h-12 md:mb-4"}),t.jsx("div",{className:"bg-[#80FFF910] rounded w-20 max-md:ml-3 h-5"})]})}),Array.from({length:5}).map((P,R)=>t.jsxs("div",{className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 min-h-[200px] relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"bg-[#FFFFFF08] rounded h-5 mb-2 w-3/4"}),t.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 mb-1 w-full"}),t.jsx("div",{className:"bg-[#FFFFFF05] rounded h-4 w-2/3"})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"}),t.jsx("div",{className:"bg-[#FFFFFF0A] rounded-full px-3 py-[6px] w-16 h-7"})]})]},R))]}),(r&&!i&&e!=="mcp"||u&&e==="mcp")&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:t.jsx(GS,{fill:"#EEC257",width:40,height:40,className:""})}),t.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.unlockMCPTools")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.mcpToolsProPlan")}),t.jsxs("button",{type:"button",onClick:()=>{N.open({organizationId:void 0,organizationName:void 0,planType:"personal"}),g()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[t.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:w("manageAgents.upgradeAccount")}),t.jsx("div",{className:"object-contain w-5 h-5",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]}),!s&&!r&&e!=="mcp"&&t.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[t.jsx("div",{onClick:()=>{if(x!=="personal"&&v&&b==="personal"){v.info(w("manageAgents.switchToPersonalAgents"));return}p()},className:A("border-[1px] border-dashed border-[#80FFF933] rounded-xl p-2 transition-colors cursor-pointer flex flex-col items-center justify-center md:min-h-[200px] group",e!=="main"&&"border-[#DD99FF33]"),"data-testid":F1.manageAgents.createNewAgentCard,children:t.jsxs("div",{className:A("bg-[#80FFF905] rounded-xl flex md:flex-col h-full w-full items-center justify-center",e!=="main"&&"bg-[#DD99FF05]"),children:[t.jsx("div",{className:"w-12 h-12 self-center rounded-full bg-[#80FFF905] flex items-center justify-center md:mb-4 group-hover:scale-110 transition-transform",children:t.jsx(pg,{size:24,color:e==="main"?"#80FFF9":"#DD99FF"})}),t.jsx("h3",{className:A("max-md:ml-3 self-center text-[#80FFF9] font-medium text-lg",e!=="main"&&"text-[#DD99FF]"),children:w(e==="main"?"manageAgents.newAgent":"manageAgents.newSubAgent")})]})}),(e==="main"?a:o).map(P=>t.jsxs("div",{onClick:()=>{if(z(Tn.USER_SETTING_EVENTS.MANAGE_AGENTS_EVENTS.EXISTING_AGENT_OPENED,{agent:P}),x!=="personal"&&v&&b==="personal"){v.info(w("manageAgents.switchToPersonalAgents"));return}f(P)},className:"bg-[#1C1C1F] border border-[#FFFFFF0A] rounded-[16px] p-4 transition-colors relative group min-h-[200px] cursor-pointer hover:bg-[#212124] hover:border-[#FFFFFF15]",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-[#FFFFFF0F] mb-4",children:t.jsx("img",{src:kve,alt:"Agent",className:"w-6 h-6"})}),t.jsxs("div",{className:"mb-6 space-y-1",children:[t.jsx("h3",{className:"text-[#E6E6E6] font-medium capitalize",children:P.prompt_name.replaceAll("_"," ")}),t.jsx("p",{className:"text-[#666666] text-[14px] font-['Inter'] line-clamp-2",children:w(m(P.parent_prompt))})]}),t.jsxs("div",{className:"flex items-center gap-4 text-[#8A8F98] text-sm transition-colors group-hover:text-[#D9D9D9]",children:[t.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Bd,{size:16,primaryColor:"#808080",className:"group-hover:hidden"}),t.jsx(Bd,{size:16,primaryColor:"#D9D9D9",className:"hidden group-hover:block"})]}),t.jsx("span",{children:P.prompt_subagents?.length||0})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-[#FFFFFF0A] rounded-full px-3 py-[6px]",children:[t.jsxs("div",{className:"relative",children:[t.jsx(qS,{size:16,color:"#808080",className:"group-hover:hidden"}),t.jsx(qS,{size:16,color:"#D9D9D9",className:"hidden group-hover:block"})]}),t.jsx("span",{children:P.prompt_tools?.length||0})]})]})]},P.id))]}),!c&&!u&&e==="mcp"&&t.jsxs("div",{className:"grid grid-cols-1",children:[t.jsxs("div",{className:"flex gap-4 p-4 mb-4 rounded-[12px] bg-[#FFFFFF08] cursor-pointer hover:bg-[#FFFFFF08] transition-colors",onClick:M,"data-testid":F1.manageAgents.createNewMcpServerCard,children:[t.jsx("div",{className:"flex items-center justify-center bg-[#313133] rounded-full h-10 w-10",children:t.jsx(IU,{size:24})}),t.jsxs("div",{className:"flex flex-col gap-[2px]",children:[t.jsx("span",{className:"text-[#B7BFCC] font-medium",children:w("manageAgents.newMCPServer")}),t.jsx("span",{className:"text-[#737780] font-medium font-inter text-[14px]",children:w("manageAgents.addCustomMCP")})]})]}),Array.isArray(l)&&l.map(P=>t.jsx(Tve,{server:P,onMouseEnter:I(P.id),onMouseLeave:D(P.id),handleEditMCPServer:k},P.id))]}),!c&&!u&&e==="mcp"&&Array.isArray(l)&&l.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-[#80FFF905] flex items-center justify-center mb-4",children:t.jsx(Zi,{size:32,color:"#80FFF9"})}),t.jsx("h3",{className:"text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.noMCPToolsYet")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.noMCPToolsDescription")}),t.jsx("button",{type:"button",onClick:M,className:"px-6 py-3 rounded-[10px] bg-[#80FFF9] hover:bg-opacity-[0.8] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors",children:w("manageAgents.createMCPTool")})]}),!s&&i&&e!=="mcp"&&t.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-16 text-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-[#EEC257] bg-opacity-10 p-2 flex items-center justify-center",children:t.jsx(GS,{fill:"#EEC257",width:40,height:40,className:""})}),t.jsx("h3",{className:"mt-2 text-white font-[Brockmann] text-[20px] font-medium mb-3",children:w("manageAgents.unlockCustomAgents")}),t.jsx("p",{className:"text-[#8A8F98] font-['Inter'] text-[16px] leading-6 mb-8 max-w-md",children:w("manageAgents.customAgentsPremium")}),t.jsxs("button",{type:"button",onClick:()=>{N.open({organizationId:void 0,organizationName:void 0,planType:"personal"}),g()},className:"px-6 py-3 rounded-[10px] bg-[#F3CA5F] shadow-[0_0_20px_0_rgba(243,202,95,0.20)] hover:bg-opacity-[0.75] text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann'] transition-colors flex items-center gap-2",children:[t.jsx("p",{className:"text-[#0F0F10] font-semibold text-[15px] leading-[20px] tracking-[-0.2px] font-['Brockmann']",children:w("manageAgents.upgradeAccount")}),t.jsx("div",{className:"object-contain w-5 h-5",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:t.jsx("path",{d:"M9.01807 4.94727C9.14234 4.57813 9.67013 4.57816 9.79443 4.94727L10.5483 7.18555C10.9231 8.29864 11.8075 9.17173 12.9341 9.54199L15.1987 10.2871C15.5723 10.4099 15.5723 10.9319 15.1987 11.0547L12.9341 11.7988C11.8074 12.1691 10.9231 13.0431 10.5483 14.1562L9.79443 16.3936C9.67016 16.7628 9.14234 16.7628 9.01807 16.3936L8.26416 14.1562C7.88944 13.0432 7.00585 12.1691 5.87939 11.7988L3.61377 11.0547C3.24017 10.9319 3.2402 10.4099 3.61377 10.2871L5.87939 9.54199C7.00571 9.17164 7.88941 8.29844 8.26416 7.18555L9.01807 4.94727ZM14.0825 3.44629C14.1324 3.29888 14.3433 3.29878 14.3931 3.44629L14.6733 4.28027C14.8363 4.76414 15.2208 5.14363 15.7104 5.30469L16.5542 5.58203C16.7036 5.63114 16.7036 5.84054 16.5542 5.88965L15.7104 6.16699C15.2208 6.32805 14.8363 6.70754 14.6733 7.19141L14.3931 8.02539C14.3433 8.17279 14.1324 8.17269 14.0825 8.02539L13.8013 7.19141C13.6383 6.70745 13.254 6.32797 12.7642 6.16699L11.9204 5.88965C11.771 5.84054 11.771 5.63116 11.9204 5.58203L12.7642 5.30469C13.254 5.14371 13.6383 4.76419 13.8013 4.28027L14.0825 3.44629Z",fill:"#0F0F10"})})})]})]})]})})]})}const Ive=W.common.stars;function Ave({className:e="",variant:n="default",size:s="md",isNewVariant:r=!1}){const[i,a]=d.useState(!1),{getCurrentOrganizationId:o,getCurrentWorkspaceData:l}=ys(),{user:c}=xs(),{tier:u}=cs(),p=o();l();const f=p&&p!=="personal",m=()=>{switch(n){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}},h=()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}},x="text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1",y={boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},v={background:`
      linear-gradient(180deg, #ffffff, #000000),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal"},g=()=>{c?.id&&_d(c.id,u||"free","unknown","monthly",f||!1,p,"upgrade_button_click"),z(Tn.CREDIT_EVENTS.TIER_UPGRADE_BUTTON_CLICKED),a(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:g,style:r?y:v,className:`${r?x:`${m()} ${h()} flex items-center font-semibold font-brockmann p-[12px] px-4 justify-center rounded-lg tracking-[-0.2px] gap-2`} ${e}`,children:[t.jsx("img",{src:Ive,alt:"right arrow",className:"w-6 h-6"}),t.jsx("span",{children:"Upgrade your Tier"})]}),t.jsx(Ic,{isOpen:i,onOpenChange:a,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const KS=W.common.plusIcon;function Dve({className:e="",variant:n="default",size:s="md",label:r}){const{t:i}=Jt("billing"),[a,o]=d.useState(!1),[l,c]=d.useState(!1),{tier:u}=cs(),p=r||i("credits.buyMoreCredits"),{getCurrentOrganizationId:f,getCurrentWorkspaceData:m}=ys();f(),m();const h=v=>{v.preventDefault(),v.stopPropagation(),u==="free"?c(!0):o(!0)},x=()=>{switch(n){case"outline":return"border border-[#F3CA5F] text-[#F3CA5F] hover:bg-[#F3CA5F]/10";case"subtle":return"bg-[#F3CA5F]/10 text-[#F3CA5F] hover:bg-[#F3CA5F]/20";default:return"bg-[#F3CA5F] text-black hover:bg-[#E7A93C]"}},y=()=>{switch(s){case"sm":return"px-3 py-1 text-sm";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2"}};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:h,className:`${x()} ${y()} hidden px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] md:flex items-center gap-2 ${e}`,children:[p,t.jsx("img",{src:KS,alt:"right arrow",className:"w-6 h-6"})]}),t.jsxs("button",{type:"button",onClick:h,className:"flex md:hidden min-h-[50px] w-full  bg-[#F3CA5F] text-black hover:bg-[#E7A93C] px-4 py-3 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 ",children:[p,t.jsx("img",{src:KS,alt:"right arrow",className:"w-6 h-6"})]}),t.jsx(_2,{isOpen:a,onOpenChange:o}),t.jsx(Ic,{isOpen:l,onOpenChange:c,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const Mve=W.common.settings;function YS({className:e=""}){const{t:n}=Jt("billing"),[s,r]=d.useState(!1),{getCurrentOrganizationId:i,getCurrentWorkspaceData:a}=ys();i(),a();const o=()=>{r(!0)};return t.jsxs(t.Fragment,{children:[t.jsxs("button",{type:"button",onClick:()=>o(),className:`flex items-center justify-between flex-1 px-4 py-3 space-x-1 font-medium text-center text-white transition-colors border rounded-lg cursor-pointer border-white/20 bg-white/5 hover:border-white/30 hover:bg-white/10 hover:text-white/80 ${e}`,title:n("credits.manageSubscriptionsTitle"),children:[n("credits.manageSubscriptions"),t.jsx("img",{src:Mve,alt:"settings",className:"w-6 h-6 ml-2"})]}),t.jsx(Ic,{isOpen:s,onOpenChange:r,organizationId:void 0,organizationName:void 0,planType:"personal"})]})}const db=W.payments.info,Lve=W.payments.question,Rve=W.payments.external,Pve=W.common.copperCoin,H1=W.common.sparklingStar;function Ove({tier:e}){const{t:n}=Jt("billing"),s="px-3 py-1.5 md:px-4 md:py-2 rounded-full max-h-[32px] md:max-h-[36px] flex items-center justify-center font-['Inter'] font-semibold text-sm md:text-base whitespace-nowrap";if(e==="free")return t.jsx("div",{className:`${s} bg-[#363637]`,children:n("credits.tiers.free")});const r=`${s} transition-all ease-in-out duration-200 border border-[#37342A] bg-[#37342A] text-[#F3CA5F]`;return e==="starter"?t.jsxs("div",{className:r,children:[n("credits.tiers.starter"),t.jsx("img",{src:H1,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="standard"?t.jsxs("div",{className:r,children:[n("credits.tiers.standard"),t.jsx("img",{src:H1,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="pro_mode"?t.jsxs("div",{className:r,children:[n("credits.tiers.proMode"),t.jsx("img",{src:H1,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):e==="team"?t.jsxs("div",{className:r,children:[n("credits.tiers.teamPlan"),t.jsx("img",{src:H1,alt:"tier icon",className:"w-4 h-4 md:w-5 md:h-5 ml-1.5 md:ml-2"})]}):t.jsxs("div",{className:r,children:[n("credits.tiers.pro"),t.jsx("img",{src:H1,alt:"tier icon",className:"w-5 h-5 ml-2"})]})}function Bve({tier:e,isMobile:n,isUserSSO:s,currentWorkspace:r}){const{t:i}=Jt("billing"),a=/android/i.test(navigator.userAgent);return n?t.jsx("div",{className:"flex flex-col gap-3",children:t.jsx("div",{className:"w-full",children:t.jsxs("button",{type:"button",onClick:o=>{o.preventDefault(),o.stopPropagation();var l="https://app.emergent.sh";n&&(a?l="https://play.google.com/store/account/subscriptions":l="https://apps.apple.com/account/subscriptions"),ei("OPEN_EXTERNAL_URL",{url:l})},className:"flex w-[90%] mt-2 ml-3 bg-[#F3CA5F] text-black hover:bg-[#E7A93C] px-4 py-2 rounded-lg justify-between font-semibold tracking-[-0.2px] items-center gap-2 text-sm",children:[i("credits.manageAccount"),t.jsx("span",{className:"text-base",children:"+"})]})})}):t.jsx("div",{className:"flex flex-col gap-3",children:e==="free"?t.jsx(Ave,{isNewVariant:!0,className:"w-full"}):t.jsxs(t.Fragment,{children:[r==="personal"?t.jsx(YS,{}):!s&&t.jsx(YS,{}),t.jsx(Dve,{})]})})}function Uve({tier:e,creditResponse:n}){const{t:s}=Jt("billing");return e!=="free"?null:t.jsx("div",{className:"mb-3",children:t.jsxs("p",{className:"text-[13px] font-medium md:text-sm text-white/50",children:[s("credits.freeTierMessage.onFreeTier"),n&&n.daily_credit_max_per_window>0?s("credits.freeTierMessage.with"):s("credits.freeTierMessage.period"),n&&n.daily_credit_max_per_window>0&&t.jsxs("span",{className:"text-white",children:[n?n.daily_credit_per_day===n.daily_credit_max_per_window?s("credits.freeTierMessage.monthlyCreditsCount",{count:n.daily_credit_max_per_window}):s("credits.freeTierMessage.dailyCreditsCount",{count:n.daily_credit_per_day,max:n.daily_credit_max_per_window}):"","."]})," ",s("credits.freeTierMessage.upgradePrompt")]})})}function UU(){const{t:e}=Jt("billing"),{credits:n,tier:s,creditResponse:r,dailyCreditsEnabled:i}=cs(),a=Qi(),o=wi(),{isMobile:l}=ps(),{userDetails:c}=xs(),u=c?.is_sso_user,{currentWorkspace:p}=ys(),[f,m]=d.useState(!1);d.useEffect(()=>{m(o.pathname.includes("chat")&&l)},[o,l]);const h=r?.daily_credit_max_per_window&&r?.daily_credit_max_per_window>20?e("credits.dailyCredits"):e("credits.freeCredits");return f?null:t.jsx(Ws,{children:t.jsxs("div",{className:"w-full p-3 md:py-5 px-3 md:px-4 bg-[#272829CC] backdrop-blur-xl rounded-xl text-white flex flex-col",children:[t.jsxs("div",{className:"flex items-start justify-between space-y-0",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("h2",{className:"text-sm md:text-base text-white/50 whitespace-nowrap",style:{fontFamily:"Inter",fontWeight:500},children:e("credits.availableCredits").split(`
`).map((x,y)=>t.jsxs("span",{children:[x,t.jsx("br",{})]},y))}),t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:t.jsx("img",{src:Lve,alt:"Info",className:"w-3 h-3 ml-1 md:w-4 md:h-4"})}),t.jsx(Xs,{className:"w-[364px] p-4 pl-2 mt-[6px] rounded-[12px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-2xl",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between pl-4",children:[t.jsx("h3",{className:"font-['Inter'] font-semibold text-white",children:e("credits.aboutCredits")}),t.jsxs("div",{className:"flex items-center gap-1 text-xs cursor-pointer text-white/70 hover:text-white/90",children:[t.jsx("span",{className:"font-['Inter'] text-[14px] text-[#FFFFFF99] underline",onClick:()=>window.open("https://atlas-kb.com/atlas-e74243keac/articles/769724-credits-and-pricing","_blank"),children:e("credits.learnMore")}),t.jsx("img",{src:Rve,alt:"External",className:"w-5 h-5"})]})]}),t.jsxs("div",{className:"space-y-2 text-[13px] font-medium text-white/60",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.priority",{creditType:h.toLowerCase()})})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.reset")})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"flex-shrink-0 w-1 h-1 mt-2 rounded-full bg-white/50"}),t.jsx("p",{className:"leading-[22px] font-['Inter']",children:e("credits.creditsTooltip.permanent")})]})]})]})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-[#F5CC62] text-xl md:text-[28px] leading-6 md:leading-[32px] font-semibold",children:n!==null?n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""}),t.jsx("img",{alt:"Balance Coin",src:Pve,className:"w-5 h-5 md:w-6 md:h-6"})]})]}),t.jsx(Ove,{tier:s})]}),r&&s=="free"&&i?t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ja,{color:"#FFFFFF",className:"opacity-80"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:h}),t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:t.jsx("img",{src:db,alt:"Info",className:"w-4 h-4 ml-1 cursor-pointer"})}),t.jsx(Xs,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[r.daily_credit_per_day," ",e("credits.credits")," ",r.daily_credit_per_day===r.daily_credit_max_per_window?e("credits.monthly"):t.jsxs(t.Fragment,{children:[e("credits.refreshesDaily"),t.jsx("br",{})," ",t.jsx("span",{className:"font-inter text-[#FFFFFF99]",children:e("credits.uptoMonthly",{max:r.daily_credit_max_per_window})})]})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.daily_credits.toFixed(2)})," ","/"," ",t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.daily_credit_per_day})]})]}),!a&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:e("credits.bonusCredits")})]}),t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.top_up_credit_balance.toFixed(2)})]})]}):null,r&&(s!="free"||!i)?t.jsxs("div",{className:"bg-[#FFFFFF0A] rounded-[8px] p-4 flex flex-col gap-4 mt-4",children:[i?t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ja,{color:"#FFFFFF",className:"opacity-80"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:h}),t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:t.jsx("img",{src:db,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),t.jsx(Xs,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF]/80 tracking-[-0.2px]",children:[r.daily_credit_per_day," ",e("credits.credits")," ",r.daily_credit_per_day===r.daily_credit_max_per_window?e("credits.monthly"):t.jsxs(t.Fragment,{children:[e("credits.refreshesDaily"),t.jsx("br",{})," ",t.jsx("span",{className:"font-inter text-[#FFFFFF99]",children:e("credits.uptoMonthly",{max:r.daily_credit_max_per_window})})]})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.daily_credits.toFixed(2)})," ","/"," ",t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.daily_credit_per_day})]})]}):null,s!="free"&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(yP,{}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80 whitespace-nowrap",children:e("credits.monthlyCredits").split(`
`).map((x,y)=>t.jsxs("span",{children:[x,t.jsx("br",{})]},y))}),t.jsxs(tr,{delayDuration:0,children:[t.jsx(nr,{asChild:!0,children:t.jsx("img",{src:db,alt:"Info",className:"w-3 h-3 ml-1 cursor-pointer md:w-4 md:h-4"})}),t.jsx(Xs,{className:"px-3 py-2 rounded-[8px] bg-[#272829]/95 backdrop-blur-md border-[#2E2F34] text-white shadow-lg",side:"bottom",align:"end",style:{backdropFilter:"blur(20px)"},children:t.jsxs("span",{className:"text-[15px] font-['Inter'] font-medium text-[#FFFFFF99] tracking-[-0.2px]",children:[e("credits.refreshesOn")," ",t.jsx("span",{className:"text-[#FFFFFF] font-['Inter'] font-medium",children:bm(r.monthly_credits_refresh_date)})]})})]})]}),t.jsxs("span",{className:"text-[#FFFFFF50] text-sm md:text-[15px] font-['Inter'] font-medium",children:[t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.monthly_credits_balance.toFixed(2)})," ","/"," ",t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white opacity-60"),children:r.subscription.monthly_credit_limit})]})]}),!a&&t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center gap-[6px]",children:[t.jsx(ra,{fill:"#CCC",className:"w-5 h-5"}),t.jsx("span",{className:"font-['Inter'] font-medium text-[14px] leading-[20px] list-inside [&>li]:mb-2 tracking-[0px] align-middle text-white opacity-80",children:s!="free"?e("credits.topUpCredits"):e("credits.bonusCredits")})]}),t.jsx("span",{className:A("text-sm md:text-[15px] font-['Inter'] font-medium text-white"),children:r.top_up_credit_balance.toFixed(2)})]})]}):null,t.jsx("div",{className:"min-w-full border-[2px]  border-t border-dashed border-b-0 border-l-0 border-r-0 mt-4 md:mt-[24px] mb-4 md:mb-[24px]"}),t.jsx(Uve,{tier:s,creditResponse:r}),t.jsx(Bve,{tier:s,isMobile:a,isUserSSO:u,currentWorkspace:p})]})})}const Vve=W.common.greenLinkArrow,ZS=W.common.menuInfo,JS=W.common.accountSettingsIcon,M0=W.common.globeWhite,XS=W.menuIcons.logout,Hve=W.menuIcons.discordHover,$ve=W.menuIcons.discord,zve=W.menuIcons.discordEndIcon,QS=W.github.gitDot,Wve=W.teams.org;function VU({user:e,isGitHubConnected:n,handleGitHubConfigClick:s,handleLogout:r,isLoggingOut:i,openAccountSettingsModal:a,openLanguageBottomSheet:o,isOpen:l,onOpenChange:c,popoverClassName:u,isMobileApp:p}){const{t:f}=Jt("common"),m=Er(),{personalCredits:h}=cs(),{isMobile:x}=ps(),{isTrulyFreeUser:y,isOrganizationWorkspace:v,isCurrentWorkspaceOwner:g}=ni(),[b,w]=d.useState(!1),N=d.useRef(null),[j,_]=d.useState(!1),C=()=>{N.current&&(clearTimeout(N.current),N.current=null),w(!0)},F=()=>{N.current&&clearTimeout(N.current),N.current=window.setTimeout(()=>{w(!1),N.current=null},150)},E=wi(),S=Vr(H=>H.menu.isOpen),M=Vr(H=>H.menu.showUniversalKeyTooltip),[k,I]=d.useState(Oq()),D=Xi();d.useEffect(()=>{S&&(c?.(!0),D(b_()))},[S,c]),d.useEffect(()=>{const H=()=>{M&&Lq()&&!k&&(Bq(),D(y_(!1)),I(!0),D(b_()))};return document.addEventListener("click",H),()=>{document.removeEventListener("click",H)}},[l,M,k]),d.useEffect(()=>{M&&!k&&!l&&c?.(!0)},[M,k,l,c]),d.useEffect(()=>{!l&&M&&k&&D(y_(!1))},[l,M,k]),d.useEffect(()=>()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]);const P=()=>e&&e?.email?.slice(0,1).toUpperCase()||"U",R=d9(E.pathname),{data:B}=Ri(void 0,{skip:R||!e}),U=H=>{H&&window.dispatchEvent(new Event("close-workspace-switcher")),c?.(H)};return t.jsxs(dc,{open:l,onOpenChange:U,children:[t.jsx(uc,{asChild:!0,children:t.jsx(Vt,{"data-testid":Wc.avatarButton,variant:"ghost",className:"relative w-8 h-8 p-0 rounded-full bg-[#1E1E1F] hover:bg-[#2A2A2B]",children:t.jsx(Xd,{className:"h-8 w-8 bg-[#1E1E1F]",children:v()?t.jsx("div",{className:"flex items-center justify-center w-full h-full backdrop-blur-sm",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:t.jsx("img",{src:Wve,alt:"Organization",className:"w-5 h-5"})}):t.jsxs(t.Fragment,{children:[t.jsx(QO,{src:e?.user_metadata?.avatar_url,alt:"User Avatar",className:"min-w-8 min-h-8"}),t.jsx(zp,{className:"bg-[#1E1E1F] text-sm font-medium",children:P()})]})})})}),t.jsxs(_c,{align:"end",className:u??"w-[300px] bg-[#131314] border-[#1f1f1f] mt-4 mb-2 max-md:ml-2 ml-4 md:-mr-5 p-0 rounded-[16px] shadow-md",children:[t.jsx(Eve,{user:e,userDetails:B,onCloseMenu:()=>c?.(!1),getUserInitials:P,hideNewWorkspace:p}),y()&&(!v()||g)&&t.jsx("div",{className:"px-[10px] pt-[10px]",children:t.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border-2 border-[#1F1F1F]",children:[t.jsxs("div",{className:"flex items-center justify-between px-3 pt-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ra,{fill:"#FFF",size:20}),t.jsx("span",{className:"font-['Brockmann'] font-medium text-[14px] leading-[20px] tracking-[0px] text-white",children:f("menu.credits")}),!x&&t.jsxs(dc,{open:b,onOpenChange:w,children:[t.jsx(uc,{asChild:!0,children:t.jsx("div",{onMouseEnter:C,onMouseLeave:F,className:"cursor-pointer",children:t.jsx(yU,{size:16,className:"transition-opacity opacity-50 hover:opacity-80"})})}),t.jsx(_c,{className:"w-[350px] max-md:hidden p-0 border-0 bg-transparent",align:"end",sideOffset:8,onMouseEnter:C,onMouseLeave:F,children:t.jsx(UU,{})})]})]}),t.jsx("span",{className:"font-['Brockmann'] text-[14px] leading-[20px] tracking-[0px] text-[#F3CA5F] font-semibold",children:h!==null?h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""})]}),t.jsx("div",{className:"flex bg-[#1F1F1F] p-2",children:t.jsxs("button",{type:"button",className:"text-[14px] h-[36px] w-full flex items-center justify-center text-[#0F0F10] bg-[#F3CA5F] font-semibold p-2 rounded-[8px] gap-1",style:{boxShadow:"0px 0px 20px 0px #F3CA5F66, 0px 2.18px 3.64px 1.45px #FFFFFF66 inset, 0px -1.45px 0px 0px #00000033 inset, 0px 0.73px 0.73px 0.73px #0000001A"},onClick:()=>m.open({planType:"personal",triggerLocation:"default"}),children:[t.jsx("span",{className:"font-['Brockmann'] font-semibold text-[14px] leading-[16px] tracking-[-0.2px] text-right align-middle text-[#0F0F10]",children:f("menu.upgrade")}),t.jsx(jr,{color:"#0F0F10",size:24,height:24,width:24})]})})]})}),n&&t.jsx("div",{className:"flex flex-col p-[10px] border-b border-[#1f1f1f]",children:t.jsx(Gl,{hoveringEndIcon:Vve,hoverIcon:QS,icon:QS,className:"w-full px-[10px] border-[#1F1F1F] text-[#2EE572] hover:bg-[#2EE5720F] rounded-[10px]  hover:opacity-100",onClick:s,children:B?.github?.account_name})}),t.jsxs("div",{className:"flex flex-col pt-[10px] gap-1 p-[10px]",children:[t.jsx(Gl,{"data-testid":Wc.accountSettingsButton,onClick:()=>{a(),z(Tn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.ACCOUNT_SETTING_CLICKED)},hoverIcon:JS,icon:JS,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:f("menu.accountSettings")}),x?t.jsx(Gl,{"data-testid":Wc.languageButton,onClick:()=>{o?.()},hoverIcon:M0,icon:M0,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px] w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:f("menu.language")}),t.jsx(El,{size:16,className:"opacity-50"})]})}):t.jsxs(dc,{open:j,onOpenChange:_,children:[t.jsx(uc,{asChild:!0,children:t.jsx("div",{children:t.jsx(Gl,{"data-testid":Wc.languageButton,hoverIcon:M0,icon:M0,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px] w-full gap-3 hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out rounded-[8px]",children:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{children:f("menu.language")}),t.jsx(El,{size:16,className:"opacity-50"})]})})})}),t.jsx(kO,{side:"left",align:"start",sideOffset:16,alignOffset:0,className:"p-0 border-0 bg-transparent w-auto",children:t.jsx(Sve,{className:"w-[250px]",onClose:()=>{_(!1),c?.(!1)}})})]}),!n&&t.jsx("div",{className:"flex flex-col",children:t.jsx(Fve,{})}),t.jsx(Gl,{"data-testid":Wc.helpCenterButton,onClick:()=>{window.open(Li.helpCenter,"_blank"),z(Tn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.HELP_CENTER_CLICKED)},hoverIcon:ZS,icon:ZS,className:"hover:text-opacity-100 hover:bg-[#ffffff10] px-[10px]  w-full gap-3  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]",children:f("menu.helpCenter")}),t.jsx(Gl,{"data-testid":Wc.discordButton,onClick:()=>{window.open(Li.socials.discord,"_blank"),z(Tn.HOME_PAGE_EVENTS.USER_MENU_EVENTS.JOIN_DISCORD_CLICKED)},hoverIcon:Hve,icon:$ve,hoveringEndIcon:zve,className:" hover:bg-[#808AFF0F] px-[10px]  w-full gap-3 opacity-70 hover:opacity-100 hover:text-[#808AFF] transition-all rounded-[8px]  ease-in-out  group/rotate ",children:f("menu.joinDiscord")}),t.jsx(Gl,{"data-testid":Wc.logoutButton,onClick:r,hoverIcon:XS,icon:XS,loadingState:i,loadingNode:t.jsx(ln,{className:"animate-spin"}),className:" text-[#CCCCCC] w-full px-[10px] gap-3 hover:bg-[#ffffff10]  hover:text-white opacity-70 hover:opacity-100 transition-all ease-in-out  rounded-[8px]  ",children:t.jsx("div",{className:"flex gap-2",children:f("menu.logout")})})]})]})]})}const Gve=({isOpen:e,onClose:n,handleJobClick:s,organizationId:r})=>{const{t:i}=Jt(["home","common"]),{closeAllPanels:a}=D8();d.useEffect(()=>{e&&a()},[e,a]);const o=u=>{u.target===u.currentTarget&&n()},l=u=>{u.stopPropagation()},c=u=>{a(),setTimeout(()=>{s(u),setTimeout(()=>{a()},200)},100)};return t.jsx(zn,{open:e,onOpenChange:u=>{u||n()},children:t.jsx(Us,{children:t.jsx(ns,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:o}),t.jsxs(xe.div,{className:"fixed inset-0 z-[10000] flex flex-col bg-[#0F0F10] lg:hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:l,children:[t.jsxs("div",{className:"flex items-center justify-between px-2 py-2  md:p-4 border-b border-[#272729]",children:[t.jsx("h1",{className:"text-[18px] font-medium text-white",children:i("sidebar.deployedApps")}),t.jsx("button",{type:"button",title:i("common.closeModal"),onClick:n,className:"p-2 transition-colors rounded-full hover:bg-white/10",children:t.jsx(Pt,{className:"w-6 h-6 text-white"})})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("div",{className:"max-w-full",children:t.jsx(DP,{handleJobClick:c,organizationId:r})})})]})]})})})})},qve=({isOpen:e,onClose:n})=>{const{t:s}=Jt("showcase"),{closeAllPanels:r}=D8();d.useEffect(()=>{e&&r()},[e,r]);const i=o=>{o.target===o.currentTarget&&n()},a=o=>{o.stopPropagation()};return t.jsx(zn,{open:e,onOpenChange:o=>{o||n()},children:t.jsx(Us,{children:t.jsx(ns,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:i}),t.jsxs(xe.div,{className:"fixed inset-0 z-[10000] flex flex-col bg-[#0F0F10] lg:hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:a,children:[t.jsxs("div",{className:"flex items-center justify-between px-2 py-2 md:p-4 border-b border-[#272729]",children:[t.jsxs("div",{className:"flex gap-[4px] ml-2",children:[t.jsx(v8,{}),t.jsx("h1",{className:"text-[16px] font-medium text-white",children:s("showcase.title")})]}),t.jsx("button",{type:"button",title:"Close Modal",onClick:n,className:"p-2 transition-colors rounded-full hover:bg-white/10",children:t.jsx(Pt,{className:"w-6 h-6 text-[#C4C4CC]"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsx("div",{className:"max-w-full",children:t.jsx(JP,{onModalClose:n})})})]})]})})})})},Kve=({isOpen:e,onClose:n,onAction:s,taskName:r,showMoveToProject:i=!0,showDelete:a=!0})=>{const l=[{id:"rename",label:"Rename",icon:t.jsx(Hp,{width:20,height:20})},{id:"moveToProject",label:"Move to project",icon:t.jsx(LP,{width:20,height:16})},{id:"delete",label:"Delete",icon:t.jsx(MP,{width:20,height:20})}].filter(c=>!(c.id==="moveToProject"&&!i||c.id==="delete"&&!a));return t.jsx(ns,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"fixed inset-0 z-[1000] bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:n},"context-menu-backdrop"),t.jsxs(xe.div,{className:"fixed bottom-0 left-0 right-0 z-[1001] px-3 pb-8",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:[t.jsxs("div",{className:"bg-[#2C2C2E] rounded-2xl mb-2 overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3 border-b border-[#3A3A3C]",children:t.jsx("p",{className:"text-[#62ECFE] text-[15px] font-medium text-center truncate",children:r})}),l.map((c,u)=>t.jsxs("button",{onClick:()=>{s(c.id),n()},className:`w-full flex items-center justify-between px-4 py-3.5 active:bg-[#3A3A3C] transition-colors ${u<l.length-1?"border-b border-[#3A3A3C]":""}`,children:[t.jsx("span",{className:"text-[17px] font-normal text-white",children:c.label}),t.jsx("span",{className:"text-white",children:c.icon})]},c.id))]}),t.jsx("button",{onClick:n,className:"w-full bg-[#2C2C2E] rounded-2xl py-3.5 active:bg-[#3A3A3C] transition-colors",children:t.jsx("span",{className:"text-[#62ECFE] text-[17px] font-semibold",children:"Cancel"})})]},"context-menu-sheet")]})})},Yve=({size:e=24,width:n,height:s,color:r="#224BC6",className:i})=>{const a=n||e,o=s||e;return t.jsx("svg",{width:a,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i,children:t.jsx("path",{d:"M12 4.8C12.225 4.8 12.675 5.4082 13.0687 6.6C13.2375 7.0957 13.3852 7.70391 13.5082 8.4C13.6102 8.94141 13.6875 9.53555 13.7332 10.2C13.7789 10.7625 13.8 11.3602 13.8 12H15.6C15.6 11.4023 15.5789 10.7977 15.5332 10.2C15.4875 9.5918 15.4207 8.98359 15.3293 8.4C15.2273 7.7707 15.1043 7.1625 14.9461 6.6C14.8125 6.11484 14.6648 5.66484 14.4855 5.25C13.902 3.88945 13.0793 3 12 3C10.9207 3 10.098 3.88945 9.51445 5.25C9.33516 5.6543 9.1875 6.11484 9.05391 6.6H10.9453C11.3391 5.4082 11.7785 4.8 12.0141 4.8H12ZM12 19.2C11.775 19.2 11.325 18.5918 10.9313 17.4C10.7625 16.9043 10.6148 16.2961 10.4918 15.6C10.3898 15.0586 10.3125 14.4645 10.2668 13.8C10.2211 13.2375 10.2 12.6398 10.2 12H8.4C8.4 12.5977 8.42109 13.2023 8.4668 13.8C8.5125 14.4082 8.5793 15.0164 8.6707 15.6C8.77266 16.2293 8.8957 16.8375 9.05391 17.4C9.1875 17.8852 9.33516 18.3352 9.51445 18.75C10.098 20.1105 10.9207 21 12 21C13.0793 21 13.902 20.1105 14.4855 18.75C14.6648 18.3457 14.8125 17.8852 14.9461 17.4H13.0582C12.6645 18.5918 12.225 19.2 11.9895 19.2H12ZM20.1 8.1082C19.8398 7.58086 19.5375 7.07461 19.1789 6.6C18.3 5.43984 17.1539 4.49766 15.825 3.86484C14.6648 3.31641 13.3711 3 12 3C10.6289 3 9.33516 3.31641 8.175 3.86484C6.84609 4.49414 5.7 5.43984 4.82109 6.6C4.47305 7.07109 4.15664 7.5668 3.9 8.1082C3.32695 9.28945 3 10.6043 3 12C3 13.3957 3.32695 14.7105 3.9 15.8918C4.16016 16.4191 4.4625 16.9254 4.82109 17.4C5.7 18.5602 6.84609 19.5023 8.175 20.1352C9.33516 20.6836 10.6289 21 12 21C13.3711 21 14.6648 20.6836 15.825 20.1352C17.1539 19.5059 18.3 18.5602 19.1789 17.4C19.527 16.9289 19.8434 16.4332 20.1 15.8918C20.673 14.7105 21 13.3957 21 12C21 10.6043 20.673 9.28945 20.1 8.1082ZM14.4855 18.75C13.7086 19.0418 12.8754 19.2 12 19.2C11.1246 19.2 10.2914 19.0312 9.51445 18.75C8.68125 18.4336 7.91836 17.9836 7.25391 17.4C7.21875 17.3789 7.19766 17.3438 7.1625 17.3227C6.61055 16.827 6.13945 16.2434 5.7668 15.6H6.83555C6.7582 15.0164 6.68789 14.4082 6.65625 13.8H5.03555C4.88789 13.227 4.8 12.6187 4.8 12C4.8 11.3813 4.89141 10.773 5.03555 10.2H12V8.4H5.77734C6.15 7.76016 6.62109 7.17305 7.17305 6.67734C7.2082 6.65625 7.2293 6.62109 7.26445 6.6C7.92891 6.02695 8.68125 5.56641 9.525 5.25C10.302 4.9582 11.1352 4.8 12.0105 4.8C12.8859 4.8 13.7191 4.96875 14.4961 5.25C15.3293 5.56641 16.0922 6.01641 16.7566 6.6C16.7918 6.62109 16.8129 6.65625 16.848 6.67734C17.4 7.17305 17.8711 7.75664 18.2438 8.4H17.175C17.2523 8.98359 17.3227 9.5918 17.3543 10.2H18.975C19.1227 10.773 19.2105 11.3813 19.2105 12C19.2105 12.6187 19.1191 13.227 18.975 13.8H12.0105V15.6H18.2332C17.8605 16.2398 17.3895 16.827 16.8375 17.3227C16.8023 17.3438 16.7812 17.3789 16.7461 17.4C16.0816 17.973 15.3293 18.4336 14.4855 18.75Z",fill:r})})},ll=100,Zve=W.logo.logo,Jve=W.common.buyCredit,Xve=W.buy.buyCoin,ub=e=>{if(e?.state!=="ENV_INITIATED"||!e?.created_at)return!1;const n=new Date(e.created_at).getTime();return(Date.now()-n)/(1e3*60)<10},Qve=({isOpen:e,onClose:n,tabs:s,activeTab:r,onTabClick:i,onTabClose:a})=>{const[o,l]=d.useState({isMenuOpen:!1,isDeployedAppsModalOpen:!1,isShowcaseModalOpen:!1,isLanguageBottomSheetOpen:!1,contextMenuState:{isOpen:!1,job:null},renameModalState:{isOpen:!1,job:null},deleteModalState:{isOpen:!1,job:null},moveToProjectModalState:{isOpen:!1,job:null}}),{t:c}=Jt("home"),u=tt.useRef(null),p=tt.useRef(!1),f=vR(),m=Up(),{currentWorkspace:h,isPersonalWorkspace:x,getCurrentOrganizationId:y}=ys(),{newToast:v}=Fa(),g=Na(),[b]=DD(),[w,N]=d.useState([]),[j,_]=d.useState(0),[C,F]=d.useState(!0),[E,S]=d.useState(!1),[M,k]=d.useState(!0),I=y(),D=d.useRef(void 0);d.useEffect(()=>{if(D.current===I&&D.current!==void 0)return;D.current=I,(async()=>{k(!0),N([]),_(0),F(!0);try{const He=await b({organization_id:I,limit:ll,offset:0}).unwrap();N(He||[]),_(ll),F((He||[]).length===ll)}catch{N([]),F(!1)}finally{k(!1)}})()},[I,b]);const P=d.useCallback(async()=>{if(!(!C||E)){S(!0);try{const He=await b({organization_id:I,limit:ll,offset:j}).unwrap()||[];N(Ve=>[...Ve,...He]),_(Ve=>Ve+ll),F(He.length===ll)}catch{F(!1)}finally{S(!1)}}},[C,E,I,j,b]),R=d.useCallback(async()=>{k(!0),N([]),_(0),F(!0);try{const Fe=await b({organization_id:I,limit:ll,offset:0}).unwrap();N(Fe||[]),_(ll),F((Fe||[]).length===ll)}catch{N([]),F(!1)}finally{k(!1)}},[I,b]),B=d.useMemo(()=>w.filter(He=>x()?!(He.organization_id||He.payload?.organization_id):(He.organization_id||He.payload?.organization_id)===h),[w,h,x]),{setTabs:U,setActiveTab:H,updateTabState:$,getTabByJobId:q}=qr(),{credits:Q,personalTier:V,orgTier:ee}=cs(),{restrictedFree:X,isCurrentWorkspaceOwner:ae}=ni(),me=Er(),oe=f2(),pe=Qi(),se=X&&ae,re={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},ve=Fe=>{Fe.stopPropagation();const He="personal";if(pe&&X){const Ve=V,Ke=Ve!=="free",Ye="upgrade-tier",{title:At,description:mn}=Ca(Ye);ei("TRIGGER_SUBSCRIPTION",{planType:He,organizationId:void 0,triggerLocation:Ye,currentTier:Ve,hasActiveSubscription:Ke,title:At,description:mn,...Ke&&{modalType:"proFeature"}}),z(Tn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:He});return}X?me.open({planType:He}):oe.open(),z(Tn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:He})},we=Fe=>t.jsx("div",{className:"truncate text-[15px] text-[#C2C2CC]",children:Fe.title?Fe.title:t.jsx("span",{className:"opacity-60",children:Fe.payload.task?.slice(0,50)})}),be=Fe=>{if(!Fe.payload?.task||!(Fe.payload?.container_id||Fe.id))return;const Ve=q(Fe.id);if(Ve){H(Ve.id),n();return}const Ke=`tab-${crypto.randomUUID()}`,Ye=`/root/runs/${Fe.id}/trajectory.json`,At=y(),mn=Fe.organization_id||Fe.payload?.organization_id,Dt=mn?"organization":"user",Yt=mn||At,fn=Fe.organization_name||Fe.payload?.organization_name,qt=At?`/workspace/${At}/chat`:"/chat",_n={containerId:Fe.payload.container_id||Fe.id,initial_commit_id:Fe.payload.initial_commit_id,task:Fe.payload?.original_task||Fe.payload.task,jobId:Fe.id,trajPath:Ye,tabId:Ke,fromJobList:!0,isCloudFlow:Fe.payload?.is_cloud,clientRefId:Fe.client_ref_id,modelName:Fe.payload.model_name,promptName:Fe.payload.prompt_name,promptVersion:Fe.payload.prompt_version,costLimit:Fe.payload.per_instance_cost_limit,agentName:Fe.payload.agent_name,portMapping:Fe.payload.portMapping,created_by:Fe.created_by,createdAt:Fe.created_at,organization_id:mn||null,isActive:!0,dynamic_preview_subdomain:Fe.payload?.dynamic_preview_subdomain},In=Fe.payload?.dynamic_preview_subdomain&&Fe.title?Fe.title:Fe.payload?.original_task||Fe.payload.task;U(je=>[...je,{id:Ke,title:`${Fe.payload?.original_task||Fe.payload.task}`,tabHeading:In,path:qt,level:Dt,organization_id:Yt,organization_name:fn,state:_n}]),$(Ke,_n),H(Ke),g(`${qt}?id=${Fe.id}`),l(je=>({...je,isDeployedAppsModalOpen:!1})),n()},Ue=d.useCallback(()=>{n()},[n]),fe=d.useCallback(Fe=>{Fe.stopPropagation()},[]),{isConnected:Me,checkGitHubConnection:J,setIsConnected:Ne}=Jd(),{user:ge,signOut:Ee,session:Ce}=xs(),[Ie,Ae]=d.useState(!1),Se=async()=>{if(Ae(!0),U(Fe=>Fe.filter(He=>He.id==="home")),Ne(!1),H("home"),pe)try{window?.ReactNativeWebView?.postMessage(JSON.stringify({type:"LOGOUT_EVENT",timestamp:new Date().toISOString()}))}catch{}await Ee().then(()=>{Ae(!1)})},ht=()=>{if(pe){const He=`${Hf.appUrl}?state=mobile_app`;ei("OPEN_GITHUB_CONNECT",{url:He});return}const Fe=Hf.appUrl;window.open(Fe,"_blank")},Qe=()=>{n(),f.open()},De=()=>{n(),m.open({initialTab:"account"})},de=()=>{l(Fe=>({...Fe,isLanguageBottomSheetOpen:!0}))};d.useEffect(()=>{Ce&&J()},[Ce]),d.useEffect(()=>{e||l(Fe=>({...Fe,isMenuOpen:!1}))},[e]),d.useEffect(()=>{const Fe=()=>{l(He=>({...He,isShowcaseModalOpen:!0}))};return window.addEventListener("openShowcaseModal",Fe),()=>{window.removeEventListener("openShowcaseModal",Fe)}},[]);const ue=()=>{l(Fe=>({...Fe,contextMenuState:{isOpen:!1,job:null}}))},lt=()=>{l(Fe=>({...Fe,renameModalState:{isOpen:!1,job:null}}))},st=()=>{l(Fe=>({...Fe,deleteModalState:{isOpen:!1,job:null}}))},mt=()=>{l(Fe=>({...Fe,moveToProjectModalState:{isOpen:!1,job:null}}))},ut=async Fe=>{o.moveToProjectModalState.job&&(v.success(c("recentTasks.moveToProject.success","Task moved successfully")),mt(),R())},wn=Fe=>Fe&&(Fe.organization_id||Fe.payload?.organization_id)||null,[Oe]=zD(),_e=async()=>{if(o.deleteModalState.job)try{const Fe=await Oe({jobId:o.deleteModalState.job.id,deletedBy:ge?.id||""}).unwrap();Fe?.success?(v.success(Fe?.message||"Task Deleted successfully"),R(),z(Du.JOB_REMOVED,{jobId:o.deleteModalState.job.id,deletedBy:ge?.id||""})):v.error(Fe?.message||"Unable to delete this task.")}catch(Fe){v.error(Fe?.data?.message||Fe?.message||"Failed to Delete the job. Please try again.")}finally{st()}},[Et]=$D(),dt=async Fe=>{const He=o.renameModalState.job;if(He){if(He.id)try{await Et({job_id:He.id,title:Fe}).unwrap(),await R();const Ve=q(He.id);U(Ke=>Ke.map(Ye=>Ye.id===Ve?.id?{...Ye,tabHeading:Fe}:Ye)),v.success("Renamed Successfully."),z(Du.JOB_NAME_UPDATED,{jobId:He.id,newName:Fe})}catch{v.error("Renamed Failed.")}lt()}};d.useEffect(()=>{if(!pe)return;const Fe=async He=>{try{const Ve=typeof He.data=="string"?JSON.parse(He.data):He.data;if(Ve.type==="RENAME_TASK_RESPONSE"&&Ve.jobId&&Ve.newName)try{await Et({job_id:Ve.jobId,title:Ve.newName}).unwrap(),await R();const Ke=q(Ve.jobId);Ke&&U(Ye=>Ye.map(At=>At.id===Ke.id?{...At,tabHeading:Ve.newName}:At)),v.success("Renamed Successfully."),z(Du.JOB_NAME_UPDATED,{jobId:Ve.jobId,newName:Ve.newName})}catch{v.error("Rename Failed.")}if(Ve.type==="DELETE_TASK_RESPONSE"&&Ve.jobId&&Ve.confirmed)try{const Ke=await Oe({jobId:Ve.jobId,deletedBy:ge?.id||""}).unwrap();Ke?.success?(v.success(Ke?.message||"Task Deleted successfully"),R(),z(Du.JOB_REMOVED,{jobId:Ve.jobId,deletedBy:ge?.id||""})):v.error(Ke?.message||"Unable to delete this task.")}catch(Ke){v.error(Ke?.data?.message||Ke?.message||"Failed to Delete the job. Please try again.")}}catch{}};return window.addEventListener("message",Fe),document.addEventListener("message",Fe),()=>{window.removeEventListener("message",Fe),document.removeEventListener("message",Fe)}},[pe,Et,Oe,R,q,U,v,ge?.id]);const vt=Fe=>{ub(Fe)||(p.current=!1,u.current=setTimeout(()=>{p.current=!0,navigator.vibrate&&navigator.vibrate(50),l(He=>({...He,contextMenuState:{isOpen:!0,job:Fe}}))},500))},Ct=()=>{u.current&&(clearTimeout(u.current),u.current=null)},St=Fe=>{if(p.current){p.current=!1;return}be(Fe)},ct=Fe=>{const He=o.contextMenuState.job;if(He)switch(ue(),Fe){case"rename":if(pe){ei("RENAME_TASK",{jobId:He.id,currentName:He.title||He.payload?.original_task||He.payload?.task||""});return}l(Ve=>({...Ve,renameModalState:{isOpen:!0,job:He}}));break;case"moveToProject":if(pe){ei("MOVE_TO_PROJECT",{jobId:He.id,taskName:He.title||He.payload?.original_task||He.payload?.task||""});return}l(Ve=>({...Ve,moveToProjectModalState:{isOpen:!0,job:He}}));break;case"preview":break;case"share":break;case"delete":if(pe){ei("DELETE_TASK",{jobId:He.id,taskName:He.title||He.payload?.original_task||He.payload?.task||""});return}l(Ve=>({...Ve,deleteModalState:{isOpen:!0,job:He}}));break}},Ft=()=>{const Fe=o.deleteModalState.job?.id,He=!!Fe&&w?.some(mn=>mn?.payload?.forked_from===Fe),Ke=o.deleteModalState.job?.payload?.forked_from,Ye=Ke?w?.find(mn=>mn.id===Ke):null,At=!!(Ke&&Ye);return t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-sm md:text-base font-['Inter'] font-medium leading-5 md:leading-6 break-words",children:[t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"Are you sure you want to delete "}),t.jsxs("span",{className:"text-[#80FFF9] font-['Inter']",children:['"',o.deleteModalState.job?.title,'"']}),t.jsx("span",{className:"text-white opacity-60 font-['Inter']",children:"? This action cannot be undone."})]}),He&&!At&&t.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context."})]}),At&&t.jsxs("div",{className:"flex flex-col w-full rounded-lg p-3 gap-1.5 bg-[#66F0FF1A] backdrop-blur-[50px] mt-6",children:[t.jsx(Uu,{className:"p-1",width:24,height:24}),t.jsxs("p",{className:"text-sm font-['Inter'] font-medium leading-5 text-[#80FFF9] break-words",children:["This is a forked task continuing from"," ",t.jsxs("span",{className:"text-white font-['Inter']",children:['"',Ye.title||Ye.payload?.original_task||Ye.payload?.task,'"']}),". Deleting it won't affect the parent task."]})]})]})};return t.jsxs(t.Fragment,{children:[t.jsx(ns,{children:e&&t.jsxs(t.Fragment,{children:[t.jsx(xe.div,{className:"fixed inset-0 z-[999] lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},onClick:Ue},"mobile-sidebar-backdrop"),t.jsxs(xe.div,{className:"fixed top-0 left-0 z-[999] flex h-full w-[305px] backdrop-blur-[20px] flex-col overflow-hidden border-r border-[#272729] bg-[#1D1E1FCC] lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"tween",duration:.3,ease:"easeInOut"},onClick:fe,onAnimationStart:()=>{try{window.dispatchEvent(new Event("close-workspace-switcher"))}catch{}},children:[t.jsxs("div",{className:"relative flex items-center justify-between w-full h-[64px] p-4",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("img",{onClick:()=>{i(s.find(Fe=>Fe.id==="home")),n()},src:Zve,alt:"Logo",className:" h-[24px] w-[110px]"})}),t.jsx("button",{type:"button",title:"Close Sidebar",onClick:n,className:"p-1 rounded-[8px] bg-[#FFFFFF0A] w-[32px] h-[32px] flex justify-center items-center",children:t.jsx(xae,{className:"text-[#999999] w-[16px] stroke-[3]"})})]}),t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsx("div",{className:A("flex cursor-pointer items-center justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{i(s.find(Fe=>Fe.id==="home")),n()},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx("div",{className:"w-[24px] h-[24px] flex items-center justify-center rounded-full",style:{background:"linear-gradient(149.04deg, #00FF66 -6.51%, #62ECFE 117.45%)"},children:t.jsx(_a,{className:"w-[18px] h-[18px] text-black"})}),t.jsx("span",{className:A("truncate font-medium bg-gradient-to-br from-[#00FF66] to-[#62ECFE] bg-clip-text text-transparent",r==="home"?"text-[#80fff9]/90":"text-[#80fff9]/70"),children:c("sidebar.newTask")})]})}),ge&&t.jsx("div",{className:A("flex cursor-pointer items-center opacity-50 hover:opacity-100 transition-all duration-150 ease-in-out justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{n(),l(Fe=>({...Fe,isDeployedAppsModalOpen:!0}))},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(Yve,{color:"#E6E6E6",size:24})}),t.jsx("span",{className:A("truncate text-[#E6E6E6] font-medium"),children:c("sidebar.deployedApps")})]})}),ge&&t.jsx("div",{className:A("flex cursor-pointer items-center opacity-50 hover:opacity-100 transition-all duration-150 ease-in-out justify-between px-4 py-3 rounded-[8px]"),onClick:()=>{n(),l(Fe=>({...Fe,isShowcaseModalOpen:!0}))},children:t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[t.jsx(v8,{color:"#E6E6E6",size:24,className:""}),t.jsx("span",{className:A("truncate text-[#E6E6E6] font-medium"),children:c("sidebar.showcase")})]})}),t.jsxs("div",{className:"",children:[s.length>2&&t.jsx("div",{className:"p-4",children:t.jsx("span",{className:"text-sm text-[#797B80] font-brockmann opacity-65",children:c("sidebar.activeTasks")})}),t.jsx("div",{className:"flex flex-col px-4 text-[#CCCCCC] max-h-[40dvh] overflow-y-scroll",children:s.map(Fe=>{if(localStorage.getItem("embeddedTaskTabId")===Fe.id||Fe.path==="/not-defined")return null;const He=Fe.id==="home",Ve=Fe.id===r;return He?null:t.jsxs("div",{className:A("cursor-pointer text-[14px] py-[4px] hover:bg-[#1E1E1F]/50 flex items-center justify-between group",Ve?"bg-[#1E1E1F]":"hover:bg-[#1E1E1F]/50"),onClick:()=>{i(Fe),n()},children:[t.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[Ve&&t.jsx("span",{className:"h-2 w-2 flex-shrink-0 rounded-full bg-[#00CCAF]"}),t.jsx("span",{className:A("truncate text-sm font-medium",Ve?"text-white":"text-[#B3B3B3]"),children:He?"Home":Fe.tabHeading?Fe.tabHeading:t.jsx("span",{className:"opacity-60",children:"Untitled"})})]}),!He&&t.jsx("button",{type:"button",title:"Close Tab",onClick:Ke=>{Ke.stopPropagation(),a(Ke,Fe)},className:"p-1 rounded-full hover:bg-destructive/10",children:t.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#7B7B80]",children:t.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]},Fe.id)})})]}),t.jsxs("div",{className:"px-4 pt-[12px] pb-0 flex-1 min-h-0 flex flex-col overflow-hidden",children:[t.jsx("span",{className:"text-sm text-[#797B80] font-brockmann opacity-65 flex-shrink-0 pb-[10px]",children:c("sidebar.recentTasks")}),t.jsx("div",{className:"flex flex-col pb-[140px] text-[#CCCCCC] flex-1 overflow-y-auto hide-scrollbar",children:M?Array(5).fill(0).map((Fe,He)=>t.jsxs("div",{className:"border-b border-[#272729]/50 px-3 py-2",children:[t.jsx("div",{className:"mb-2 h-4 w-24 animate-pulse rounded bg-[#272729]"}),t.jsx("div",{className:"h-4 w-full animate-pulse rounded bg-[#272729]"})]},`loading-${He}`)):B.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[t.jsx("div",{className:"mb-2 text-sm text-[#8F8F98]",children:"No tasks yet"}),t.jsx("div",{className:"max-w-[200px] text-xs text-[#92929A]",children:"Create your first task to start building"})]}):t.jsxs(t.Fragment,{children:[B.map(Fe=>t.jsx("div",{className:A(`cursor-pointer py-[8px] flex items-center justify-between group select-none 
                                `,ub(Fe)?"opacity-50":""),onClick:()=>St(Fe),onTouchStart:()=>vt(Fe),onTouchEnd:Ct,onTouchCancel:Ct,onMouseDown:()=>vt(Fe),onMouseUp:Ct,onMouseLeave:Ct,onContextMenu:He=>{He.preventDefault(),ub(Fe)||l(Ve=>({...Ve,contextMenuState:{isOpen:!0,job:Fe}}))},children:t.jsx("div",{className:"flex-1 min-w-0",children:we(Fe)})},Fe.id)),C&&t.jsx("button",{onClick:P,disabled:E,className:"w-full py-3 mt-2 text-sm text-[#80FFF9] hover:bg-[#272729] rounded-lg transition-colors disabled:opacity-50",children:E?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"w-4 h-4 border-2 border-[#80FFF9] border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Load More"})]})})]})]}),ge&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-full p-2",children:t.jsxs("div",{className:"w-full rounded-[12px] flex flex-col  border border-[#FFFFFF1F] bg-[#1D1D1E] ",children:[t.jsxs("div",{className:"flex items-center justify-between p-2",children:[t.jsxs("div",{className:"flex items-center justify-center gap-[10px]",children:[t.jsx("img",{alt:"",src:Xve}),t.jsx("span",{className:"text-[#F3CA5F] font-semibold ",children:typeof Q=="number"?Q.toFixed(2):Q})]}),se&&t.jsxs("button",{type:"button",onClick:ve,title:c("sidebar.buyCredits"),style:re,className:A("relative flex max-md:min-h-[36px] justify-center max-md:min-w-[36px] items-center p-[8px] gap-1 rounded-full font-[600] text-[14px] text-[#0F0F10] pl-[12px]"),children:[t.jsx("span",{className:"tracking-[-0.2px]md:hidden",children:c("sidebar.buy")}),t.jsx("img",{src:Jve,alt:"right arrow",className:"w-5 h-5"}),t.jsx("span",{className:"tracking-[-0.2px] max-md:hidden",children:c("sidebar.buyCredits")})]})]}),t.jsxs("div",{onClick:Fe=>{Fe.stopPropagation(),l(He=>({...He,isMenuOpen:!He.isMenuOpen}))},className:A("flex items-center justify-between p-2 bg-[#FFFFFF0F] rounded-b-[12px]"),children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(VU,{isLoggingOut:Ie,user:ge,handleGitHubConfigClick:ht,handleLogout:Se,isGitHubConnected:Me,isOpen:o.isMenuOpen,onOpenChange:Fe=>l(He=>({...He,isMenuOpen:Fe})),handleUniversalKeyClick:Qe,openAccountSettingsModal:De,openLanguageBottomSheet:de,isMobileApp:pe,popoverClassName:"bg-[#18181a] border-[#1f1f1f] mt-4 mb-[11px] ml-2 p-0 rounded-[16px] shadow-md"}),t.jsxs("div",{className:A("flex flex-col items-start rounded-md cursor-pointer transition-all duration-300 ease-in-out"),children:[t.jsx("span",{className:"text-[15px] font-medium",children:ge?.user_metadata?.name}),t.jsx("span",{className:"text-[13px] text-[#797B80]",children:ge?.email})]})]}),t.jsx("div",{className:"bg-[#FFFFFF14] w-8 h-8 flex items-center justify-center rounded-[8px]",children:t.jsx(Dr,{className:A("transition-transform text-white opacity-60 duration-300",o.isMenuOpen&&"rotate-180")})})]})]})})]},"mobile-sidebar-panel")]})}),t.jsx(Gve,{isOpen:o.isDeployedAppsModalOpen,onClose:()=>l(Fe=>({...Fe,isDeployedAppsModalOpen:!1})),handleJobClick:be,organizationId:x()?void 0:h}),t.jsx(qve,{isOpen:o.isShowcaseModalOpen,onClose:()=>l(Fe=>({...Fe,isShowcaseModalOpen:!1}))}),t.jsx(Kve,{isOpen:o.contextMenuState.isOpen,onClose:ue,onAction:ct,taskName:o.contextMenuState.job?.title||o.contextMenuState.job?.payload?.original_task||o.contextMenuState.job?.payload?.task||"Untitled",showMoveToProject:ae,showDelete:ae}),t.jsx("div",{style:{zIndex:9999},children:t.jsx(RP,{isOpen:o.renameModalState.isOpen,onClose:lt,onSave:dt,currentName:o.renameModalState.job?.title||""})}),t.jsx(PP,{isOpen:o.deleteModalState.isOpen,onClose:st,onConfirm:_e,title:"Delete this task?",bodyContent:Ft(),primaryButton:{text:"Confirm",variant:"danger"},secondaryButton:{text:"Nevermind",variant:"secondary"}}),t.jsx(UP,{isOpen:o.moveToProjectModalState.isOpen,onClose:mt,onSave:ut,jobId:o.moveToProjectModalState.job?.id||"",jobName:o.moveToProjectModalState.job?.title||o.moveToProjectModalState.job?.payload?.original_task||o.moveToProjectModalState.job?.payload?.task||"",currentProjectId:h,jobOrganizationId:wn(o.moveToProjectModalState.job)}),t.jsx(BU,{open:o.isLanguageBottomSheetOpen,onOpenChange:Fe=>l(He=>({...He,isLanguageBottomSheetOpen:Fe}))})]})},pb={minWidth:60,layout:{homeTabWidth:100,plusButtonWidth:50}};function e9e(e,n,s="home",r={}){const[i,a]=d.useState(170),o={minWidth:r.minWidth??pb.minWidth,layout:{homeTabWidth:r.layout?.homeTabWidth??pb.layout.homeTabWidth,plusButtonWidth:r.layout?.plusButtonWidth??pb.layout.plusButtonWidth}},l=d.useCallback(()=>{if(!n.current)return;const u=e.filter(b=>b.id!=="home"&&b.path!=="/not-defined"&&localStorage.getItem("embeddedTaskTabId")!==b.id).length,p=n.current.clientWidth,m=s!=="home"?o.layout.plusButtonWidth:0,h=12,x=93,y=u*8,v=u,g=p-x-m-h-y-v;if(u>0){const b=Math.floor(g/u);a(Math.max(40,b))}},[e,n,s,o]);return d.useEffect(()=>{l();const c=new ResizeObserver(()=>{l()});return n.current&&c.observe(n.current),()=>{c.disconnect()}},[l]),{tabWidth:i}}function t9e({onSwipeRight:e,onSwipeLeft:n,edgeThreshold:s=30,minSwipeDistance:r=50,minVelocity:i=200,enabled:a=!0}={}){const o=d.useRef(null),l=d.useRef(null),c=d.useRef(null),u=d.useRef(null),p=d.useRef(!1),f=d.useRef(!1),m=d.useCallback(y=>{if(!a)return;const v=y.touches[0];o.current=v.clientX,l.current=v.clientY,u.current=v.clientX,c.current=Date.now(),p.current=v.clientX<=s,f.current=!0},[a,s]),h=d.useCallback(y=>{if(!a||o.current===null||l.current===null)return;const v=y.touches[0];u.current=v.clientX;const g=Math.abs(v.clientX-o.current),b=Math.abs(v.clientY-l.current);b>g&&b>10&&(f.current=!1)},[a]),x=d.useCallback(()=>{if(!a||o.current===null||u.current===null||c.current===null||!f.current){o.current=null,l.current=null,u.current=null,c.current=null,p.current=!1,f.current=!1;return}const y=u.current-o.current,v=Date.now()-c.current,g=Math.abs(y)/(v/1e3);p.current&&y>=r&&g>=i&&e&&e(),y<=-r&&g>=i&&n&&n(),o.current=null,l.current=null,u.current=null,c.current=null,p.current=!1,f.current=!1},[a,r,i,e,n]);d.useEffect(()=>{if(a)return document.addEventListener("touchstart",m,{passive:!0}),document.addEventListener("touchmove",h,{passive:!0}),document.addEventListener("touchend",x),()=>{document.removeEventListener("touchstart",m),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",x)}},[a,m,h,x])}const n9e=({size:e=13,color:n="currentColor",className:s=""})=>t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 13 13",fill:"none",className:s,children:t.jsx("path",{opacity:"0.8",d:"M6.59375 0.254883C7.05596 0.301849 7.41699 0.692389 7.41699 1.16699V5.58301H11.833C12.3393 5.58306 12.7499 5.99373 12.75 6.5L12.7451 6.59375C12.6981 7.05595 12.3076 7.41698 11.833 7.41699H7.41699V11.833C7.41693 12.3076 7.05597 12.6981 6.59375 12.7451L6.5 12.75C5.99374 12.7499 5.58307 12.3393 5.58301 11.833V7.41699H1.16699C0.660749 7.41697 0.250019 7.00624 0.25 6.5L0.254883 6.40625C0.301867 5.94402 0.692365 5.58306 1.16699 5.58301H5.58301V1.16699C5.58301 0.660735 5.99374 0.250006 6.5 0.25L6.59375 0.254883Z",fill:n,stroke:n,strokeWidth:"0.5"})}),s9e=W.menuIcons.menu,r9e=gv([e=>e.tabs.tabStates],e=>{const n={};return Object.entries(e).forEach(([s,r])=>{r.pendingMessage&&(n[s]=r.pendingMessage)}),n}),HU=tt.createContext(null);function qr(){const e=tt.useContext(HU);if(!e)throw new Error("useTabState must be used within a TabProvider");return e}function i9e({children:e}){const n=ah(),s=br(I=>I.tabs.tabStates),r=br(r9e),i=br(Tq),a=br(I=>I.tabs.tabs),o=br(zg),l=br(Sq),c=br(I=>I.tabs.isActive),{guardAction:u}=L2(),[p,f]=d.useState(!1),[m,h]=d.useState(null),x=d.useCallback(()=>{n(hA())},[n]),y=d.useMemo(()=>({activeTab:o,tabs:l,isActive:c}),[o,l,c]),v=d.useCallback(I=>{n(pA(I))},[n]),g=d.useCallback(I=>{const D=typeof I=="function"?Ai.getState().tabs.tabs:l,P=typeof I=="function"?I(D):I;n(fA(P))},[n,l]),b=d.useCallback(()=>l,[l]),w=d.useCallback((I,D)=>{n(xq({tabId:I,state:D}))},[n]),N=d.useCallback(I=>s[I]||{},[s]),j=d.useCallback(I=>a.find(D=>D.state?.jobId===I),[a]),_=d.useCallback(I=>{n(gq(I))},[n]),C=d.useCallback((I,D,P,R,B)=>{n(bq({tabId:I,messageId:D,content:P,base64_image_list:R,artifacts:B}))},[n]),F=d.useCallback(()=>i,[i]),E=d.useCallback((I,D)=>{if(D){const P=r[I];if(!P||P.content!==D)return!1}return n(yq({tabId:I,content:D})),!0},[n,r]),S=d.useCallback((I,D)=>{n(mA({tabId:I,content:D}))},[n]),M=d.useCallback(I=>r[I],[r]),k=d.useMemo(()=>({state:y,activeTab:o,setActiveTab:v,setTabs:g,updateTabState:w,getTabState:N,setPendingMessage:C,clearPendingMessage:E,getPendingMessage:M,getActiveTab:F,removeTab:_,getTabByJobId:j,removePendingMessage:S,getAllTabs:b,isActive:c,cleanupTabStates:x}),[y,o,c,v,g,w,N,C,E,M,_,F,j,S,b,x]);return d.useEffect(()=>{o&&l.length>0&&(l.some(D=>D.id===o)?l.forEach(D=>{const P=D.id===o;N(D.id).isActive!==P&&w(D.id,{isActive:P})}):setTimeout(()=>{!l.some(R=>R.id===o)&&u(()=>v("home"),{modalTitle:"You have unsaved changes",modalDescription:"The current tab is no longer available. Switching to home will discard your unsaved visual edit changes.",confirmText:"Switch to Home",showModal:R=>{h(R),f(!0)}})},100)),x()},[o,l,v,N,w,x,u]),t.jsxs(HU.Provider,{value:k,children:[e,p&&m&&t.jsx(ch,{isOpen:p,onClose:()=>f(!1),onConfirm:m.onConfirm,title:m.title,description:m.description,confirmButton:m.confirmButton,cancelButton:m.cancelText})]})}function a9e(){const{state:{activeTab:e,tabs:n}}=qr(),{getCurrentOrganizationId:s}=ys(),{totalBannerHeight:r}=Ea(),i=d.useMemo(()=>{const a=s();return n.filter(o=>o.id==="home"||o.state?.isAdminModeJob?!0:a?o.organization_id===a&&o.level==="organization":!o.organization_id&&(!o.level||o.level==="user"))},[n,s]);return t.jsx(t.Fragment,{children:i.map(a=>t.jsx("div",{className:A("absolute inset-0",{hidden:a.id!==e}),style:{top:`${56+r}px`},children:t.jsx(bve,{path:a.path,tabId:a.id})},a.id))})}function o9e(){const{state:{activeTab:e,tabs:n},setActiveTab:s,setTabs:r,getTabState:i}=qr(),a=Na(),o=wi(),{getCurrentOrganizationId:l}=ys(),c=d.useRef(null),u=d.useRef(new Map),[p,f]=d.useState(!1),m=d.useMemo(()=>{const R=l();return n.filter(U=>U.id==="home"||U.state?.isAdminModeJob?!0:R?U.organization_id===R&&U.level==="organization":!U.organization_id&&(!U.level||U.level==="user"))},[n,l]),h=(R,B=18)=>{const U=m.find(H=>H.id===R)?.title||"";return U.length>B?U.substring(0,B)+"...":U},{tabWidth:x}=e9e(m,c,e),{setActiveTabId:y,checkDeployStatus:v,handleTabClosed:g}=yve(),b=d.useRef({tabId:"",jobId:void 0}),{isMobile:w}=ps(),N=Qi();t9e({onSwipeRight:()=>{p||f(!0)},onSwipeLeft:()=>{p&&f(!1)},edgeThreshold:30,minSwipeDistance:50,enabled:w||N});const{guardAction:j}=L2(),[_,C]=d.useState(!1),[F,E]=d.useState(null);d.useEffect(()=>{const R=n.find(B=>B.id===e);if(R){const B=l();let U=R.path;R.path==="/chat"?U=B?`/workspace/${B}/chat`:"/chat":R.path==="/create-agent"||R.path==="/create-subagent"?R.level==="organization"&&R.organization_id&&(U=`/workspace/${R.organization_id}${R.path}`):R.id==="home"&&o.pathname==="/home"&&(U="/home"),a(U)}},[e,a,n,l,o.pathname]);const S=d.useCallback(R=>{R.id!==e&&j(()=>{w1(g1.TAB_SWITCHED,{tabId:R.id,jobId:R.state?.jobId,containerId:R.state?.containerId,path:R.path,title:R.title,reason:"user_clicked"}),s(R.id),y(R.id),b.current={tabId:"",jobId:void 0},R.state?.jobId&&!R.state?.showCase&&R.tabType!=="ShowCasePreview"&&setTimeout(()=>{v(R.state.jobId,!1)},100)},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:B=>{E(B),C(!0)}})},[s,e,y,v,j]),M=d.useCallback((R,B)=>{R.stopPropagation(),j(()=>{const U=n.filter(H=>H.id!==B.id);if(r(U),w1(g1.TAB_CLOSED,{tabId:B.id,jobId:B.state?.jobId,containerId:B.state?.containerId,path:B.path,title:B.title,isActive:B.id===e,remainingTabCount:U.length}),B.state?.jobId,g(B.id),B.id===e&&U.length>0){const H=U.filter($=>$.path!=="/not-defined");if(H.length>0){const $=H[H.length-1];s($.id),b.current={tabId:"",jobId:void 0},w1(g1.TAB_SWITCHED,{tabId:$.id,jobId:$.state?.jobId,containerId:$.state?.containerId,path:$.path,title:$.title,reason:"active_tab_closed"})}else if(U.length>0){const $=U[U.length-1];s($.id),b.current={tabId:"",jobId:void 0},w1(g1.TAB_SWITCHED,{tabId:$.id,jobId:$.state?.jobId,containerId:$.state?.containerId,path:$.path,title:$.title,reason:"active_tab_closed"})}}},{modalTitle:"You have unsaved changes",modalDescription:"Closing this tab will discard your unsaved visual edit changes.",confirmText:"Close Tab",showModal:U=>{E(U),C(!0)}})},[e,s,r,a,n,g,j]),k=d.useCallback(()=>{C(!1)},[]),I=d.useCallback(()=>{j(()=>{s("home"),b.current={tabId:"",jobId:void 0}},{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:R=>{E(R),C(!0)}})},[j,n,s]),D=d.useCallback(()=>{if(e!=="home"){const R=n.find(B=>B.id===e);if(R){const B=R.tabType==="ShowCasePreview",U=n.filter(H=>H.id!==e);r(U),w1(g1.TAB_CLOSED,{tabId:R.id,jobId:R.state?.jobId,containerId:R.state?.containerId,path:R.path,title:R.title,isActive:!0,remainingTabCount:U.length,reason:"back_button_clicked"}),R.state?.jobId&&g(R.id),B&&window.dispatchEvent(new CustomEvent("openShowcaseModal"))}}s("home"),b.current={tabId:"",jobId:void 0}},[n,e,r,s,g]);d.useEffect(()=>{const R=m.find(U=>U.id===e),B=n.find(U=>U.id===e);if(!R&&e!=="home"){if(B?.state?.isAdminModeJob)return;j(()=>s("home"),{modalTitle:"You have unsaved changes",modalDescription:"Switching workspaces will discard your unsaved visual edit changes.",confirmText:"Switch Workspace",showModal:H=>{E(H),C(!0)}})}},[m,e,s,n,j]),d.useEffect(()=>{const R=B=>{if((B.metaKey||B.ctrlKey)&&!B.altKey&&!B.shiftKey){const U=parseInt(B.key),H=m.filter($=>$.path!=="/not-defined"&&localStorage.getItem("embeddedTaskTabId")!==$.id);if(!isNaN(U)&&U>=0&&U<=9){if(B.preventDefault(),U===0){const $=m.find(q=>q.id==="home");$&&$.id!==e&&j(()=>s($.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:q=>{E(q),C(!0)}})}else if(U<=H.length){const $=H[U-1];$&&$.id!==e&&j(()=>s($.id),{modalTitle:"You have unsaved changes",modalDescription:"Switching tabs will discard your unsaved visual edit changes.",confirmText:"Switch Tab",showModal:q=>{E(q),C(!0)}})}}}};return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R)}},[m,s,e,j]);const P=d.useMemo(()=>m.map((R,B)=>{const U=R.id===e,H=B<m.length-1&&m[B+1].id===e,$=!U&&!H,q=B===m.length-1,Q=i(R.id),V=Q?.agentStatus,ee=Q?.subagentName,X=Q?.isSubagentActive;return t.jsxs(qn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut",layout:{duration:.2,ease:[.25,.1,.25,1]}},className:"flex items-center",children:[t.jsx(Cve,{tab:R,isActive:U,tabWidth:x,onTabClick:S,onTabClose:M,tabRef:ae=>{ae?u.current.set(R.id,ae):u.current.delete(R.id)},agentStatus:V,subagentName:ee,isSubagentActive:X}),!q&&t.jsx(qn.div,{layout:!0,transition:{layout:{duration:.2,ease:[.25,.1,.25,1]}},className:A("h-5 w-[1px] bg-white/20 flex-shrink-0 mb-1 self-center transition-opacity duration-200",!$&&"opacity-0")})]},R.id)}),[m,e,x,S,M,i]);return t.jsxs(t.Fragment,{children:[w&&t.jsx(Qve,{isOpen:p,onClose:()=>f(!1),tabs:m,activeTab:e,onTabClick:S,onTabClose:M,onNewTab:I}),t.jsxs("div",{className:"relative flex items-center w-full max-md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[o.pathname==="/chat"||o.pathname.includes("/workspace/")&&o.pathname.endsWith("/chat")?t.jsx("button",{type:"button",title:"Back to Home",onClick:D,className:"z-10 bg-[#FFFFFF14] flex-shrink-0 h-9 w-9 flex items-center justify-center rounded-full hover:bg-secondary/50 md:hidden",children:t.jsx(Dr,{className:"w-5 h-5 text-white rotate-90"})}):t.jsx("button",{type:"button",title:"Show Tabs",onClick:()=>f(!0),className:"z-10 bg-[#FFFFFF14] flex-shrink-0 h-9 w-9 flex items-center justify-center rounded-full hover:bg-secondary/50 md:hidden",children:t.jsx("img",{src:s9e,alt:"Menu",className:"w-5 h-5"})}),e!=="home"&&t.jsx("div",{className:"inset-0 flex items-center justify-center gap-1 pointer-events-none md:hidden",children:t.jsx("div",{className:"pb-1 text-[15px] font-medium capitalize text-white/50 text-center",children:h(e)})})]}),t.jsx("div",{ref:c,className:"relative items-center flex-1 hidden space-x-0 overflow-hidden md:flex px-[6px] pt-[3px]",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.jsxs(Vte,{children:[t.jsx(Xa,{mode:"popLayout",children:P}),e!=="home"&&t.jsx(qn.div,{layout:!0,"data-testid":yr.newTabButton,className:"flex items-center cursor-pointer ml-1 mb-1",onClick:I,transition:{duration:.2,ease:[.25,.1,.25,1]},children:t.jsx("div",{className:"ml-1 flex items-center justify-center w-9 h-9 rounded-md transition-all duration-200 hover:bg-white/10 text-[#7B7B80] hover:text-white",children:t.jsx(n9e,{})})})]})})]}),t.jsx(ch,{isOpen:_,onClose:k,onConfirm:()=>{F?.onConfirm?.(),k()},onCancel:k,title:F?.title||"You have unsaved changes",description:F?.description||"Are you sure you want to exit the visual editor? You will lose your unsaved changes.",confirmButton:F?.confirmButton||{text:"Confirm",variant:"default"},cancelButton:F?.cancelButton||{text:"Cancel",variant:"outline"},includeNavBarOffset:!0})]})}const l9e=({children:e,className:n="",containerClassName:s="",dotConfig:r})=>t.jsx("div",{className:`relative h-full md:min-h-screen w-full ${n}`,children:t.jsx("div",{className:`relative h-full md:min-h-screen z-10 ${s}`,children:e})}),c9e=W.common.copperCoin;function d9e({showBuyButton:e=!1}){const{credits:n,loading:s,error:r,refreshCredits:i}=cs(),{isTrulyFreeUser:a,pro:o,isCurrentWorkspaceOwner:l}=ni(),{isMobile:c}=ps(),u=wi(),p=d.useMemo(()=>u.pathname.includes("chat"),[u.pathname]),f=c&&p&&n<5&&!e||n>5&&o&&p,m=a()&&c,[h,x]=d.useState(!1);if(d.useEffect(()=>{x(u.pathname.includes("chat")&&c)},[u,c]),h&&c||m)return null;if(s)return t.jsxs("div",{className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:[t.jsx(ln,{className:"h-4 w-4 mr-2 text-[#F3CA5F] animate-spin"}),t.jsx("span",{className:"text-[#8A8B91] text-sm",children:"Loading..."})]});if(r)return t.jsx("div",{onClick:i,className:" md:flex items-center bg-[#111111] rounded-full px-4 py-2",children:t.jsx("span",{className:"text-sm text-destructive",children:"Error loading credits"})});if(n===null)return null;const y=()=>{i(),z(Tn.CREDIT_EVENTS.CREDIT_BALANCE_BUTTON_CLICKED)},v=t.jsxs("div",{onClick:l?y:void 0,className:A("flex items-center space-x-2 bg-[#F3CA5F]/[.10] rounded-full px-[10px] h-8 transition-colors",l?"cursor-pointer hover:bg-[#F3CA5F]/[.20]":"cursor-default",f?"max-md:mr-[40px]":""),children:[t.jsx("img",{alt:"Balance Coin",src:c9e,className:"w-5 h-5"}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsx("span",{className:"text-[#F3CA5F] text-sm font-medium",children:n.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]});return l?t.jsx("div",{className:"relative",children:t.jsxs(dc,{children:[t.jsx(uc,{className:" md:flex",asChild:!0,children:v}),t.jsx(_c,{className:"w-[350px] p-0 border-[#2E2F34] rounded-xl bg-transparent shadow-xl mt-3",align:"end",children:t.jsx(UU,{})})]})}):t.jsx("div",{className:"relative",children:v})}const u9e=({size:e=20,width:n,height:s,fill:r="#E8E8E6",className:i,onClick:a,style:o})=>{const l=n||e,c=s||e;return t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 20 20",fill:"none",className:i,onClick:a,style:o,children:t.jsx("path",{d:"M10 2C11.0505 2 12.091 2.20643 13.0615 2.6084C14.0321 3.01046 14.9144 3.59991 15.6572 4.34277C16.4001 5.08563 16.9895 5.96789 17.3916 6.93848C17.7936 7.90904 18 8.94949 18 10C18 11.0505 17.7936 12.091 17.3916 13.0615C16.9895 14.0321 16.4001 14.9144 15.6572 15.6572C14.9144 16.4001 14.0321 16.9895 13.0615 17.3916C12.091 17.7936 11.0505 18 10 18C8.94949 18 7.90904 17.7936 6.93848 17.3916C5.96789 16.9895 5.08563 16.4001 4.34277 15.6572C3.59991 14.9144 3.01046 14.0321 2.6084 13.0615C2.20643 12.091 2 11.0505 2 10C2 8.94949 2.20643 7.90904 2.6084 6.93848C3.01046 5.96789 3.59991 5.08563 4.34277 4.34277C5.08563 3.59991 5.96789 3.01046 6.93848 2.6084C7.90904 2.20643 8.94949 2 10 2ZM8.38379 13.958C7.8454 13.9578 7.32084 14.1311 6.88867 14.4521C6.58483 14.6781 6.33815 14.9697 6.16406 15.3018C6.57664 15.6004 7.02248 15.8521 7.49512 16.0479C8.28923 16.3768 9.14047 16.5459 10 16.5459C10.8595 16.5459 11.7108 16.3768 12.5049 16.0479C12.9773 15.8522 13.4226 15.6002 13.835 15.3018C13.6616 14.9705 13.4173 14.6788 13.1143 14.4531C12.6817 14.131 12.1555 13.9579 11.6162 13.958H8.38379ZM10 3.4541C9.14047 3.4541 8.28923 3.62325 7.49512 3.95215C6.70095 4.28111 5.97892 4.76326 5.37109 5.37109C4.76326 5.97892 4.28111 6.70095 3.95215 7.49512C3.62325 8.28923 3.4541 9.14047 3.4541 10C3.4541 10.8595 3.62325 11.7108 3.95215 12.5049C4.22415 13.1615 4.60234 13.7676 5.06836 14.3018C5.32216 13.9121 5.64166 13.5661 6.01953 13.2852C6.70283 12.7771 7.53234 12.5037 8.38379 12.5039H11.6162V12.5049C12.4683 12.5047 13.2979 12.7783 13.9814 13.2871C14.3581 13.5676 14.6792 13.9115 14.9326 14.2998C15.398 13.766 15.7761 13.1609 16.0479 12.5049C16.3768 11.7108 16.5459 10.8595 16.5459 10C16.5459 9.14047 16.3768 8.28923 16.0479 7.49512C15.7189 6.70095 15.2367 5.97892 14.6289 5.37109C14.0211 4.76326 13.299 4.28111 12.5049 3.95215C11.7108 3.62325 10.8595 3.4541 10 3.4541ZM10 5.23047C10.8359 5.23047 11.6384 5.56129 12.2295 6.15234C12.8205 6.7434 13.1514 7.54599 13.1514 8.38184C13.1513 9.21747 12.8203 10.0194 12.2295 10.6104C11.6384 11.2014 10.8359 11.5332 10 11.5332C9.16412 11.5332 8.36157 11.2014 7.77051 10.6104C7.17974 10.0194 6.84867 9.21748 6.84863 8.38184C6.84863 7.54598 7.17949 6.7434 7.77051 6.15234C8.36157 5.56129 9.16412 5.23047 10 5.23047ZM10 6.68457C9.54991 6.68457 9.11807 6.86338 8.7998 7.18164C8.48158 7.4999 8.30273 7.93177 8.30273 8.38184C8.30277 8.83188 8.48158 9.2638 8.7998 9.58203C9.11806 9.90024 9.54995 10.0791 10 10.0791C10.4501 10.0791 10.8819 9.90025 11.2002 9.58203C11.5184 9.2638 11.6972 8.83188 11.6973 8.38184C11.6973 7.93178 11.5184 7.4999 11.2002 7.18164C10.8819 6.86338 10.4501 6.68457 10 6.68457Z",fill:r})})};function p9e({isMobile:e=!1,className:n,hideOnCondition:s=!1}){const r=Vr(o=>o.admin.isAdminMode),i=Xi(),a=()=>{i(VQ())};return t.jsxs("button",{type:"button",onClick:a,className:A(`${e?"px-2 py-2":"px-3 py-1.5"} text-[13px] rounded-full w-9 h-9 transition-colors font-mono flex items-center justify-center`,s&&"hidden",n),style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(63, 243, 200, 0.1) 0%, rgba(63, 243, 200, 0.05) 100%)"},children:[e?r?t.jsx(ca,{size:16,color:"url(#adminGradient)",opacity:1}):t.jsx(u9e,{size:16,fill:"url(#adminGradient)"}):t.jsx("span",{style:{background:"linear-gradient(180deg, #00FF66 0%, #62ECFE 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",filter:"drop-shadow(0px 0px 17.94px #00FF6680) drop-shadow(0px 0px 17.94px #62ECFE33)"},children:r?"Admin Mode":"User Mode"}),t.jsx("svg",{width:"0",height:"0",children:t.jsx("defs",{children:t.jsxs("linearGradient",{id:"adminGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",style:{stopColor:"#00FF66",stopOpacity:1}}),t.jsx("stop",{offset:"100%",style:{stopColor:"#62ECFE",stopOpacity:1}})]})})})]})}const fb=W.common.alertFill,mb=W.common.alertOrange,f9e={info:"bg-[#1BB4CC29] text-[#1BB4CC]",warning:"bg-[#E38F4529] text-[#E38F45]",error:"bg-[#FF808029] text-[#FF8080]",success:"bg-green-600 text-white"},m9e=({level:e,content:n,iconUrl:s,onDismiss:r,dismissible:i=!1,className:a})=>{const o=n.length>30;return t.jsx("div",{id:"alert-banner",className:A("sticky top-0 z-50 relative flex items-center justify-center h-12 md:h-14 text-sm font-medium overflow-hidden",f9e[e],a),children:t.jsxs("div",{className:"relative w-full md:px-4",children:[t.jsxs("div",{className:A("flex items-center gap-1 md:gap-[10px] px-4 md:px-0",o?"md:justify-center md:mx-auto md:max-w-7xl":"justify-center mx-auto max-w-7xl"),children:[t.jsxs("div",{className:A("flex items-center gap-1 md:gap-[10px]",o&&"md:hidden animate-marquee"),children:[e!="info"&&t.jsx("img",{src:e==="error"?fb:mb,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:n})]}),o&&t.jsxs("div",{className:"flex items-center gap-1 md:gap-[10px] md:hidden animate-marquee","aria-hidden":"true",children:[e!="info"&&t.jsx("img",{src:e==="error"?fb:mb,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium whitespace-nowrap tracking-[-0.2px]",children:n})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-[10px]",children:[e!="info"&&t.jsx("img",{src:e==="error"?fb:mb,alt:"Alert",className:"flex-shrink-0 w-5 h-5"}),t.jsx("div",{className:"font-medium text-center tracking-[-0.2px]",children:n})]})]}),i&&r&&t.jsx("button",{onClick:r,className:"absolute z-10 flex-shrink-0 p-1 transition-colors -translate-y-1/2 rounded top-1/2 right-2 md:right-4 hover:bg-black/10","aria-label":"Dismiss alert",children:t.jsx(Pt,{className:"w-4 h-4"})})]})})};function h9e({...e}){return t.jsx(Lg,{"data-slot":"sheet",...e})}function _Ee({...e}){return t.jsx(Dg,{"data-slot":"sheet-close",...e})}function x9e({...e}){return t.jsx(Bm,{"data-slot":"sheet-portal",...e})}function g9e({className:e,...n}){return t.jsx(Fp,{"data-slot":"sheet-overlay",className:A("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n})}function b9e({className:e,children:n,side:s="right",overlayClassName:r,hideOverlay:i=!1,...a}){return t.jsxs(x9e,{children:[!i&&t.jsx(g9e,{className:r}),t.jsx(Ep,{"data-slot":"sheet-content",className:A("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",s==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",s==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",s==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",s==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...a,children:n})]})}function y9e({className:e,...n}){return t.jsx(Mg,{"data-slot":"sheet-title",className:A("text-foreground font-semibold",e),...n})}const $U=({size:e=20,className:n,color:s})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 12 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{d:"M6.11491 0.00488281C6.37772 0.0285338 6.60485 0.136754 6.79688 0.328776C6.98522 0.517126 7.09152 0.73919 7.11751 0.99528C7.12188 1.0375 7.12483 1.08058 7.12484 1.12467V1.65039C8.12479 1.90089 8.93719 2.42889 9.56217 3.23486C10.1872 4.04086 10.4997 4.96266 10.4997 6.00016V11.25H11.9995V12.7498H0V11.25H1.49984V6.00016C1.49984 4.96272 1.81241 4.04083 2.43734 3.23486C3.06226 2.42896 3.87484 1.90093 4.87467 1.65039V1.12467C4.87468 1.08599 4.87619 1.04799 4.87956 1.01074C4.90272 0.748136 5.01057 0.520907 5.20264 0.328776C5.39478 0.136626 5.62238 0.0284414 5.88542 0.00488281C5.92285 0.00143509 5.96128 6.23086e-05 6.00016 0L6.11491 0.00488281Z",fill:s}),t.jsx("path",{d:"M7.59814 14.167C7.59811 14.5794 7.45131 14.9326 7.15788 15.2266C6.86444 15.5205 6.5112 15.6673 6.09831 15.6668C6.04674 15.6668 5.99583 15.6649 5.94613 15.6603C5.59775 15.6286 5.29478 15.4839 5.03792 15.2266C4.7446 14.9326 4.59769 14.5793 4.59766 14.167H7.59814Z",fill:s,stroke:s,strokeWidth:"0.833333"})]}),v9e=({squareSize:e=4,gridGap:n=6,flickerChance:s=.3,color:r="rgb(0, 0, 0)",width:i,height:a,className:o,maxOpacity:l=.3})=>{const c=d.useRef(null),u=d.useRef(null),[p,f]=d.useState(!1),[m,h]=d.useState({width:0,height:0}),x=d.useMemo(()=>(w=>{if(typeof window>"u")return"rgba(0, 0, 0,";const N=document.createElement("canvas");N.width=N.height=1;const j=N.getContext("2d");if(!j)return"rgba(255, 0, 0,";j.fillStyle=w,j.fillRect(0,0,1,1);const[_,C,F]=Array.from(j.getImageData(0,0,1,1).data);return`rgba(${_}, ${C}, ${F},`})(r),[r]),y=d.useCallback((b,w,N)=>{const j=window.devicePixelRatio||1;b.width=w*j,b.height=N*j,b.style.width=`${w}px`,b.style.height=`${N}px`;const _=Math.floor(w/(e+n)),C=Math.floor(N/(e+n)),F=new Float32Array(_*C);for(let E=0;E<F.length;E++)F[E]=Math.random()*l;return{cols:_,rows:C,squares:F,dpr:j}},[e,n,l]),v=d.useCallback((b,w)=>{for(let N=0;N<b.length;N++)Math.random()<s*w&&(b[N]=Math.random()*l)},[s,l]),g=d.useCallback((b,w,N,j,_,C,F)=>{b.clearRect(0,0,w,N),b.fillStyle="transparent",b.fillRect(0,0,w,N);for(let E=0;E<j;E++)for(let S=0;S<_;S++){const M=C[E*_+S];b.fillStyle=`${x}${M})`,b.fillRect(E*(e+n)*F,S*(e+n)*F,e*F,e*F)}},[x,e,n]);return d.useEffect(()=>{const b=c.current,w=u.current;if(!b||!w)return;const N=b.getContext("2d");if(!N)return;let j,_;const C=()=>{const k=i||w.clientWidth,I=a||w.clientHeight;h({width:k,height:I}),_=y(b,k,I)};C();let F=0;const E=k=>{if(!p)return;const I=(k-F)/1e3;F=k,v(_.squares,I),g(N,b.width,b.height,_.cols,_.rows,_.squares,_.dpr),j=requestAnimationFrame(E)},S=new ResizeObserver(()=>{C()});S.observe(w);const M=new IntersectionObserver(([k])=>{f(k.isIntersecting)},{threshold:0});return M.observe(b),p&&(j=requestAnimationFrame(E)),()=>{cancelAnimationFrame(j),S.disconnect(),M.disconnect()}},[y,v,g,i,a,p]),t.jsx("div",{ref:u,className:`w-full h-full ${o}`,children:t.jsx("canvas",{ref:c,className:"pointer-events-none",style:{width:m.width,height:m.height}})})},w9e=({size:e=24,color:n="#CCCCCC",className:s=""})=>t.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:t.jsx("path",{d:"M2 12L6 16L14 8M14 16L22 8",stroke:n,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}),zU=({open:e,onOpenChange:n,invitation:s,onAccept:r,onDecline:i})=>{const[a,{isLoading:o}]=Zg(),[l,{isLoading:c}]=Jg(),{toast:u}=ds(),{newToast:p}=Fa(),f={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},h=async()=>{try{const g=await a({invitation_id:s.id}).unwrap();p.success("Invitation Accepted"),uC(s.organization_id),localStorage.removeItem("pending_invitation"),r?.(),n(!1)}catch(g){u({title:"Error",description:g?.data?.detail||g?.error||"Failed to accept invitation. Please try again.",variant:"destructive"})}},x=async()=>{try{await l({invitation_id:s.id}).unwrap(),u({title:"Invitation Rejected",description:`Successfully rejected invitation to "${s.organization_name}"`,variant:"default"}),uC(s.organization_id),i?.(),n(!1)}catch(g){u({title:"Error",description:g?.data?.detail||"Failed to reject invitation. Please try again.",variant:"destructive"})}},y=()=>{vA(s.organization_id),n(!1)},v=g=>{const b=new Date(g),w=new Date,N=b.getTime()-w.getTime(),j=Math.ceil(N/(1e3*3600*24));return j<=0?"expired":j===1?"1 day":`${j} days`};return e?t.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 backdrop-blur-sm pointer-events-auto",children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4 pointer-events-none",children:t.jsx("div",{className:"pointer-events-auto",children:t.jsxs(xe.div,{variants:f,initial:"hidden",animate:"visible",className:"max-w-[95vw] md:w-[600px] overflow-clip md:max-w-[600px] rounded-2xl bg-[#18181A] border border-[#242424] shadow-xl relative",children:[t.jsx("button",{type:"button",onClick:y,className:"absolute z-[999] flex items-center justify-center w-8 h-8 text-white transition-all duration-200 rounded-full md:w-10 md:h-10 backdrop-blur-lg top-4 right-4 md:right-5 md:top-5 bg-white/10 hover:bg-white/20","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5 pointer-events-none md:w-5 md:h-5"})}),t.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none -right-8 -bottom-4",children:t.jsx(v9e,{color:"#ffffff",squareSize:4,gridGap:6,flickerChance:.3,maxOpacity:.08,className:"w-full h-full bg-[#131314] "})}),t.jsxs("div",{className:"relative z-10 p-6 max-md:mt-10 md:p-[64px] md:pb-9",children:[t.jsxs(xe.div,{variants:m,initial:"hidden",animate:"visible",className:"space-y-5 text-center",children:[t.jsx("div",{className:"flex items-center justify-center w-16 h-16 md:w-20 md:h-20 mx-auto rounded-full bg-[#80FFF908] bg-gradient-to-b from-[#364D36] via-[#2F422E97] to-[#24332400]",children:t.jsx(h8,{color:"#37FF33",className:"w-8 h-8 md:w-10 md:h-10"})}),t.jsxs("h2",{className:"mt-4 text-[20px] md:text-[32px] max-md:leading-[24px] md:leading-[40px] font-medium tracking-[-0.2px] text-white",children:[t.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.inviter_name," ",""]}),"invited you to join ","",t.jsxs("span",{className:"text-[#7BFF78] capitalize",children:[s.organization_name,"'s workspace"]})]}),t.jsxs("p",{className:"mt-2 font-medium text-[#666666] max-md:text-[16px] text-[18px] leading-6",children:["Invitation Expires in ",v(s.expires_at)]})]}),t.jsxs(xe.div,{variants:m,initial:"hidden",animate:"visible",transition:{delay:.2},className:"flex max-md:flex-col-reverse max-md:mt-12 md:mt-[64px] justify-center gap-4 md:flex-row",children:[t.jsx("button",{type:"button",onClick:x,disabled:o||c,className:" h-12 md:h-14 px-6 text-[16px] min-w-[234px] font-semibold text-white/50 hover:text-white rounded-[16px] border border-[#1F1F1F] hover:bg-[#333333] bg-[#292929] transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:c?"Rejecting...":"Decline"}),t.jsxs("button",{type:"button",onClick:h,disabled:o||c,className:" h-12 md:h-14 flex justify-center items-center gap-2  px-[44px] min-w-[234px] py-4 text-[16px] font-semibold text-[#000000] bg-[#7BFF78] rounded-[16px] hover:bg-[#7BFF78]/90 transition-all duration-200 transform hover:shadow-xl hover:-translate-y-1 disabled:opacity-50 disabled:hover:transform-none",children:[t.jsx(w9e,{size:24,color:"#000000"}),o?"Accepting...":"Accept Invite"]})]}),t.jsx("div",{className:"flex items-center justify-center w-full cursor-pointer max-md:pt-9 md:pt-10",onClick:y,children:t.jsx("span",{className:"text-[#808080] text-center text-[16px] px-4 py-1 rounded-full hover:text-white/80 font-semibold hover:bg-[#292929] hover:backdrop-blur-lg",children:"I'll do it later"})})]})]})})})}):null},C9e=Object.freeze(Object.defineProperty({__proto__:null,PendingInvitationModal:zU},Symbol.toStringTag,{value:"Module"})),_9e=({tabs:e,activeTab:n,unreadCounts:s,tabsContainerRef:r,tabRefs:i,onTabClick:a})=>{const o=e.findIndex(u=>u.tab===n),c=100/e.length;return t.jsxs("div",{ref:r,className:"relative flex border-b border-[#1E2224]",children:[e.map(({tab:u,label:p})=>t.jsx("button",{ref:f=>{f&&i.current?.set(u,f)},onClick:()=>a(u),className:A("relative flex-1 text-[13px] font-medium transition-colors",n===u?"text-white":"text-[#6B7280] hover:text-white"),children:t.jsxs("span",{className:"flex items-center justify-center p-2 gap-2.5 font-['Inter']",children:[p,s[u]>0&&t.jsx("span",{className:A("min-w-[14px] h-[14px] px-1 font-['Inter'] flex items-center justify-center text-[11px] font-medium rounded-full",n===u?"bg-[#FC635F] text-[#151819]":"bg-white/10 text-white/80"),children:s[u]})]})},u)),t.jsx(xe.div,{className:"absolute bottom-0 h-0.5 bg-[#F2F5F7]",initial:!1,animate:{left:`calc(${o*c}% + 12px)`,width:`calc(${c}% - 24px)`},transition:{type:"spring",stiffness:400,damping:28}})]})},j9e=({size:e=42,className:n})=>{const s=e*35/42;return t.jsxs("svg",{width:e,height:s,viewBox:"0 0 42 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{opacity:"0.5",d:"M41.5011 11.1647C41.4649 10.5952 40.8336 10.2913 40.3521 10.5977L29.6349 17.4178C26.9833 19.1063 25.2523 20.2085 23.3499 20.6473C21.672 21.0343 19.928 21.0343 18.25 20.6473C16.3476 20.2085 14.6167 19.1063 11.965 17.4178L1.24781 10.5977C0.76635 10.2913 0.135102 10.5952 0.0988692 11.1647C-0.000226069 12.7223 -0.000119248 14.5623 9.15705e-06 16.775L1.81736e-05 17.0996C8.01585e-08 19.677 -9.32649e-06 21.7268 0.135109 23.3805C0.273473 25.074 0.562898 26.5181 1.2366 27.8403C2.32432 29.9751 4.05996 31.7107 6.19474 32.7984C7.51695 33.4721 8.96098 33.7616 10.6545 33.8999C12.3082 34.035 14.3579 34.035 16.9352 34.035H24.6646C27.2419 34.035 29.2918 34.035 30.9455 33.8999C32.639 33.7616 34.083 33.4721 35.4053 32.7984C37.54 31.7107 39.2757 29.9751 40.3634 27.8403C41.0371 26.5181 41.3265 25.074 41.4649 23.3805C41.6 21.7268 41.6 19.6771 41.6 17.0998L41.6 16.7749C41.6001 14.5623 41.6002 12.7223 41.5011 11.1647Z",fill:"url(#paint0_linear_426_16436)"}),t.jsx("path",{d:"M24.663 3.05402e-07H16.9339C14.3565 -1.43862e-05 12.3067 -2.60635e-05 10.653 0.135092C8.95945 0.273456 7.51542 0.56288 6.19321 1.23658C4.33762 2.18205 2.78361 3.61704 1.69453 5.37817C1.43705 5.79455 1.58469 6.33172 1.99771 6.59455L13.6922 14.0365C16.7547 15.9854 17.9089 16.6891 19.0985 16.9635C20.2171 17.2215 21.3798 17.2215 22.4984 16.9635C23.688 16.6891 24.8421 15.9854 27.9047 14.0365L39.5992 6.59453C40.0122 6.3317 40.1599 5.79452 39.9024 5.37815C38.8133 3.61702 37.2593 2.18204 35.4037 1.23658C34.0815 0.56288 32.6375 0.273456 30.944 0.135092C29.2902 -2.60635e-05 27.2404 -1.43862e-05 24.663 3.05402e-07Z",fill:"url(#paint1_linear_426_16436)"}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_426_16436",x1:"3.64",y1:"6.35336",x2:"13.5325",y2:"40.6044",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.5"})]}),t.jsxs("linearGradient",{id:"paint1_linear_426_16436",x1:"4.93242",y1:"-3.00249",x2:"10.7778",y2:"22.6922",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.5"})]})]})]})},z8=e=>{const n=new Date(e),r=new Date().getTime()-n.getTime(),i=Math.floor(r/(1e3*60)),a=Math.floor(r/(1e3*60*60)),o=Math.floor(r/(1e3*60*60*24)),l=Math.floor(o/7),c=Math.floor(o/30);return i<1?"now":a<1?`${i}m`:o<1?`${a}h`:l<1?`${o}d`:c<1?`${l}w`:`${c}mo`},N9e=(e,n)=>{const s=new Date(e),r=new Date,i=s.getTime()-r.getTime(),a=Math.ceil(i/(1e3*3600*24));return a<=0?n("notifications.workspaceInvite.expired"):a===1?n("notifications.workspaceInvite.expiresInOneDay"):n("notifications.workspaceInvite.expiresInDays",{days:a})},F9e=({invitation:e,isUnread:n,isSelected:s,onSelect:r,onAccept:i,onDecline:a,onMarkAsRead:o,isLoading:l})=>{const{t:c}=Jt("common"),u=()=>{o(e.id),r(e)},p=h=>{h.stopPropagation(),o(e.id),i(e.id,e.organization_name)},f=h=>{h.stopPropagation(),o(e.id),a(e.id,e.organization_name)},m=new Date(e.expires_at).getTime()<Date.now();return t.jsxs("div",{onClick:u,className:A("relative flex gap-3 p-3 pb-4 rounded-[12px] cursor-pointer transition-colors duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),t.jsxs("div",{className:"relative w-9 h-9 rounded-full flex-shrink-0",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to bottom, rgba(55, 255, 51, 0.5) 0%, rgba(55, 255, 51, 0) 100%)"}}),t.jsx("div",{className:"relative w-full h-full p-[7px] rounded-full flex items-center justify-center",children:t.jsx("img",{src:W.teams.org,alt:"Organization",className:"w-6 h-6"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#F2F5F7]",children:e.inviter_name?c("notifications.workspaceInvite.invitedByUser",{inviterName:e.inviter_name,organizationName:e.organization_name}):c("notifications.workspaceInvite.invitedGeneric",{organizationName:e.organization_name})}),t.jsx("span",{className:"min-w-[32px] text-right text-[13px] font-['Inter'] text-[#696E70] flex-shrink-0",children:e.created_at?z8(e.created_at):""})]}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#989EA0] mt-1",children:N9e(e.expires_at,c)}),!m&&t.jsxs("div",{className:"flex gap-2 mt-3",children:[t.jsx("button",{onClick:p,disabled:l,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors disabled:opacity-50",children:c("notifications.workspaceInvite.accept")}),t.jsx("button",{onClick:f,disabled:l,className:"px-2 py-1 text-sm h-[32px] font-medium text-[#F2F5F7] bg-[rgba(255,255,255,0.06)] hover:bg-[rgba(255,255,255,0.1)] border border-[rgba(255,255,255,0.12)] rounded-[8px] transition-colors disabled:opacity-50",children:c("notifications.workspaceInvite.decline")})]})]})]})},E9e=({credits:e,deployedApps:n,isUnread:s,onMarkAsRead:r,onAddCredits:i,creditsPerDeployment:a=50})=>{const{t:o}=Jt("common"),l=n.length,c=Math.max(0,Math.floor(e/a)),u=Math.max(0,l-c);if(u===0||l===0)return null;const p=()=>{z(cl.ALERTS.LOW_CREDITS_CLICKED,{credits:e,apps_at_risk:u,total_deployments:l}),r()},f=h=>{h.stopPropagation(),r(),i()},m=()=>{if(l===1)return t.jsxs(t.Fragment,{children:[o("notifications.lowCredits.singleAppShutdown",{appName:n[0].app_name}).split(n[0].app_name)[0],t.jsx("span",{className:"font-semibold",children:n[0].app_name}),o("notifications.lowCredits.singleAppShutdown",{appName:n[0].app_name}).split(n[0].app_name)[1]]});if(u===l)return t.jsxs(t.Fragment,{children:[o("notifications.lowCredits.allAppsShutdown",{count:l}).split(String(l))[0],t.jsx("span",{className:"font-semibold",children:l}),o("notifications.lowCredits.allAppsShutdown",{count:l}).split(String(l))[1]]});{const x=o("notifications.lowCredits.someAppsShutdown",{atRisk:u,total:l}).split(/(\d+)/);return t.jsx(t.Fragment,{children:x.map((y,v)=>y===String(u)||y===String(l)?t.jsx("span",{className:"font-semibold",children:y},v):y)})}};return t.jsxs("div",{onClick:p,className:A("flex gap-3 p-3 pb-4 mb-1 rounded-[12px] relative cursor-pointer transition-colors duration-200",s&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!s&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[s&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),t.jsxs("div",{className:"relative w-9 h-9 rounded-full flex-shrink-0",children:[t.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(to bottom, rgba(252, 99, 95, 0.4) 0%, rgba(252, 99, 95, 0) 100%)"}}),t.jsx("div",{className:"relative w-full h-full rounded-full flex items-center justify-center",children:t.jsx("img",{src:W.notifications.lowCredits,alt:"Low Credits",className:"w-9 h-9"})})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#F2F5F7]",children:m()})}),t.jsx("p",{className:"text-sm font-['Inter'] font-medium text-[#989EA0] mt-1",children:e<0?o("notifications.lowCredits.creditsOverdrawn",{credits:Math.abs(e).toFixed(2)}):o("notifications.lowCredits.creditsRemaining",{credits:e.toFixed(2)})}),t.jsx("div",{className:"flex gap-2 mt-3 mb-1",children:t.jsx("button",{onClick:f,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:o("notifications.lowCredits.addCredits")})})]})]})},S9e=({credits:e,showLowCreditsAlert:n,lowCreditsAlertId:s,activeDeployments:r,pendingInvitations:i,readNotificationIds:a,selectedInvitation:o,isLoading:l,onLowCreditsMarkAsRead:c,onAddCredits:u,onSelectInvitation:p,onAcceptInvitation:f,onDeclineInvitation:m,onInvitationMarkAsRead:h,creditsPerDeployment:x=50})=>{const{t:y}=Jt("common"),v=!n&&i.length===0;return t.jsxs(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},className:v?"h-full":"",children:[n&&s&&t.jsx(E9e,{credits:e,deployedApps:r.map(g=>({id:g.id,app_name:g.app_name})),isUnread:!a.has(s),onMarkAsRead:c,onAddCredits:u,creditsPerDeployment:x}),i.map(g=>t.jsx(F9e,{invitation:g,isUnread:!a.has(`invitation-${g.id}`),isSelected:o?.id===g.id,onSelect:p,onAccept:f,onDecline:m,onMarkAsRead:h,isLoading:l},g.id)),v&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-16 opacity-60",children:[t.jsx(j9e,{size:45}),t.jsx("h3",{className:"text-white mt-[10px] mb-1",children:y("notifications.empty.inboxTitle")}),t.jsx("p",{className:"text-white/50 font-['Inter'] font-medium text-sm text-center",children:y("notifications.empty.inboxDescription")})]})]},"alerts")},k9e=({size:e=52,className:n})=>t.jsxs("svg",{width:e,height:e,viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[t.jsx("path",{d:"M20.6089 3.1019C23.0131 -1.03399 28.9869 -1.03392 31.3911 3.1019C32.8026 5.53037 35.6641 6.71553 38.3794 5.99643C43.004 4.77191 47.2282 8.99676 46.0034 13.6214C45.2845 16.3366 46.4696 19.1973 48.8979 20.6087C53.0341 23.0129 53.034 28.9868 48.8979 31.391C46.4695 32.8025 45.2843 35.664 46.0034 38.3792C47.228 43.0039 43.004 47.2278 38.3794 46.0033C35.6641 45.2842 32.8026 46.4693 31.3911 48.8978C28.9869 53.0339 23.013 53.034 20.6089 48.8978C19.1975 46.4695 16.3367 45.2844 13.6216 46.0033C8.9969 47.228 4.77203 43.0039 5.99658 38.3792C6.71568 35.664 5.53052 32.8025 3.10205 31.391C-1.03379 28.9867 -1.03388 23.0129 3.10205 20.6087C5.53043 19.1973 6.71551 16.3366 5.99658 13.6214C4.77178 8.99665 8.9968 4.77162 13.6216 5.99643C16.3368 6.71534 19.1974 5.53027 20.6089 3.1019ZM31.4653 27.7835C29.0553 27.7836 27.1012 29.7378 27.1011 32.1478C27.1011 34.5579 29.0552 36.5119 31.4653 36.5121C33.8756 36.5121 35.8296 34.558 35.8296 32.1478C35.8294 29.7377 33.8755 27.7835 31.4653 27.7835ZM33.9204 17.6165C33.178 16.8747 31.9742 16.8744 31.2319 17.6165L16.9331 31.9154C16.1909 32.6576 16.1912 33.8614 16.9331 34.6039C17.6755 35.3463 18.8801 35.3463 19.6226 34.6039L26.771 27.4544L33.9204 20.306C34.6628 19.5636 34.6628 18.359 33.9204 17.6165ZM18.9595 15.2728C16.5494 15.2729 14.5954 17.227 14.5952 19.6371C14.5952 22.0472 16.5493 24.0012 18.9595 24.0013C21.3697 24.0013 23.3237 22.0473 23.3237 19.6371C23.3236 17.227 21.3696 15.2728 18.9595 15.2728Z",fill:"url(#paint0_linear_426_16473)"}),t.jsx("path",{d:"M20.6089 3.1019C23.0131 -1.03399 28.9869 -1.03392 31.3911 3.1019C32.8026 5.53037 35.6641 6.71553 38.3794 5.99643C43.004 4.77191 47.2282 8.99676 46.0034 13.6214C45.2845 16.3366 46.4696 19.1973 48.8979 20.6087C53.0341 23.0129 53.034 28.9868 48.8979 31.391C46.4695 32.8025 45.2843 35.664 46.0034 38.3792C47.228 43.0039 43.004 47.2278 38.3794 46.0033C35.6641 45.2842 32.8026 46.4693 31.3911 48.8978C28.9869 53.0339 23.013 53.034 20.6089 48.8978C19.1975 46.4695 16.3367 45.2844 13.6216 46.0033C8.9969 47.228 4.77203 43.0039 5.99658 38.3792C6.71568 35.664 5.53052 32.8025 3.10205 31.391C-1.03379 28.9867 -1.03388 23.0129 3.10205 20.6087C5.53043 19.1973 6.71551 16.3366 5.99658 13.6214C4.77178 8.99665 8.9968 4.77162 13.6216 5.99643C16.3368 6.71534 19.1974 5.53027 20.6089 3.1019ZM31.4653 27.7835C29.0553 27.7836 27.1012 29.7378 27.1011 32.1478C27.1011 34.5579 29.0552 36.5119 31.4653 36.5121C33.8756 36.5121 35.8296 34.558 35.8296 32.1478C35.8294 29.7377 33.8755 27.7835 31.4653 27.7835ZM33.9204 17.6165C33.178 16.8747 31.9742 16.8744 31.2319 17.6165L16.9331 31.9154C16.1909 32.6576 16.1912 33.8614 16.9331 34.6039C17.6755 35.3463 18.8801 35.3463 19.6226 34.6039L26.771 27.4544L33.9204 20.306C34.6628 19.5636 34.6628 18.359 33.9204 17.6165ZM18.9595 15.2728C16.5494 15.2729 14.5954 17.227 14.5952 19.6371C14.5952 22.0472 16.5493 24.0012 18.9595 24.0013C21.3697 24.0013 23.3237 22.0473 23.3237 19.6371C23.3236 17.227 21.3696 15.2728 18.9595 15.2728Z",fill:"url(#paint1_linear_426_16473)",fillOpacity:"0.35"}),t.jsxs("defs",{children:[t.jsxs("linearGradient",{id:"paint0_linear_426_16473",x1:"0.649608",y1:"-14.2089",x2:"38.7339",y2:"61.8038",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopColor:"white"}),t.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})]}),t.jsxs("linearGradient",{id:"paint1_linear_426_16473",x1:"25.9988",y1:"-1.83806",x2:"25.9993",y2:"56.7274",gradientUnits:"userSpaceOnUse",children:[t.jsx("stop",{stopOpacity:"0"}),t.jsx("stop",{offset:"1"})]})]})]}),T9e=()=>t.jsx("div",{className:"w-full h-[140px] rounded-[4px] bg-[#242424]"}),I9e=({offer:e,isUnread:n,onMarkAsRead:s,onClick:r})=>{const{t:i}=Jt("common"),[a,o]=d.useState(!1),[l,c]=d.useState(!1),[u,p]=d.useState(!1),f=()=>{s(),r()},m=y=>{y.stopPropagation(),e.promoCode&&(navigator.clipboard.writeText(e.promoCode),c(!0),setTimeout(()=>c(!1),5e3))},h=d.useMemo(()=>e.publishedAt?z8(e.publishedAt):null,[e.publishedAt]),x=!!e.promoCode;return t.jsxs("div",{onClick:f,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:A("flex flex-col gap-3 p-3 pb-4 mb-1 last:mb-0 rounded-[12px] relative cursor-pointer transition-colors group duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),e.backgroundImage&&t.jsxs("div",{className:"rounded-[4px] max-h-[140px] overflow-hidden relative",children:[!u&&t.jsx(T9e,{}),t.jsx("img",{src:e.backgroundImage,alt:e.title,className:A("w-full h-full object-cover object-center",!u&&"absolute inset-0 opacity-0"),onLoad:()=>p(!0)})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[#F2F5F7] text-sm truncate",children:e.title}),t.jsx(xe.div,{className:"shrink-0",initial:{opacity:0,x:-4},animate:{opacity:a?1:0,x:a?0:-4},transition:{type:"spring",stiffness:400,damping:25},children:t.jsx(Df,{className:"w-6 h-6 text-white"})})]}),h&&t.jsx("span",{className:"text-[13px] font-['Inter'] text-[#696E70] shrink-0",children:h})]}),e.description&&t.jsx("p",{className:"text-sm text-[#989EA0] font-['Inter'] font-medium mt-1 line-clamp-2",children:e.description}),x&&t.jsx("div",{className:"flex items-center gap-2 mt-3 mb-1",children:t.jsx("button",{type:"button",onClick:m,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:l?t.jsx(t.Fragment,{children:t.jsx("span",{children:i("notifications.offers.copied")})}):t.jsx(t.Fragment,{children:t.jsx("span",{children:i("notifications.offers.copyCode")})})})}),!x&&t.jsx("div",{className:"flex gap-2 mt-3 mb-1",children:t.jsx("button",{type:"button",onClick:f,className:"px-2 py-1 text-sm h-[32px] font-semibold text-[#151819] bg-[#F2F5F7] rounded-[8px] transition-colors",children:t.jsx("span",{children:i("notifications.offers.redeemNow")})})})]})]})},A9e=({offerNotifications:e,readNotificationIds:n,onOfferMarkAsRead:s,onOfferClick:r})=>{const{t:i}=Jt("common"),a=e.length===0;return t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},className:a?"h-full":"",children:e.length>0?e.map(o=>t.jsx(I9e,{offer:o,isUnread:!n.has(`offer-${o.key}`),onMarkAsRead:()=>s(o.key),onClick:()=>r(o)},o.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-16 opacity-60",children:[t.jsx(k9e,{size:45}),t.jsx("h3",{className:"text-white mt-[10px] mb-1",children:i("notifications.empty.offersTitle")}),t.jsx("p",{className:"text-white/50 font-['Inter'] font-medium text-sm text-center",children:i("notifications.empty.offersDescription")})]})},"offers")},D9e=()=>t.jsx("div",{className:"w-full h-[180px] rounded-[4px] bg-[#242424]"}),M9e=({update:e,isUnread:n,onMarkAsRead:s,onClick:r})=>{const[i,a]=d.useState(!1),[o,l]=d.useState(!1),c=()=>{s(),r()},u=d.useMemo(()=>e.publishedAt?z8(e.publishedAt):null,[e.publishedAt]);return t.jsxs("div",{onClick:c,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:A("flex flex-col gap-3 p-3 pb-4 mb-1 last:mb-0 rounded-[12px] relative cursor-pointer transition-colors group duration-200",n&&"bg-[rgba(255,255,255,0.04)] hover:bg-[rgba(255,255,255,0.08)]",!n&&"hover:bg-[rgba(255,255,255,0.04)]"),children:[n&&t.jsx("div",{className:"absolute bottom-[16px] right-[12px] w-2 h-2 border border-[#151819] rounded-full bg-[#FC6460]"}),e.media&&t.jsxs("div",{className:"rounded-[4px] max-h-[217px] overflow-hidden relative",children:[!o&&t.jsx(D9e,{}),e.media.type==="video"?t.jsx("video",{src:e.media.url,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:A("w-full h-full",!o&&"absolute inset-0 opacity-0"),onLoadedData:()=>l(!0)}):t.jsx("img",{src:e.media.url,alt:e.title,className:A("w-full h-full object-cover object-center",!o&&"absolute inset-0 opacity-0"),onLoad:()=>l(!0)})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("p",{className:"font-['Inter'] font-medium text-[#F2F5F7] text-sm truncate",children:e.title}),t.jsx(xe.div,{className:"shrink-0",initial:{opacity:0,x:-4},animate:{opacity:i?1:0,x:i?0:-4},transition:{type:"spring",stiffness:400,damping:25},children:t.jsx(Df,{className:"w-6 h-6 text-white"})})]}),u&&t.jsx("span",{className:"text-[13px] font-['Inter'] text-[#696E70] shrink-0",children:u})]}),t.jsx("p",{className:"text-sm text-[#989EA0] font-['Inter'] font-medium mt-1",children:e.description})]})]})},L9e=({updateNotifications:e,readNotificationIds:n,onUpdateMarkAsRead:s,onUpdateClick:r})=>{const{t:i}=Jt("common");return t.jsx(xe.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.98},transition:{type:"spring",stiffness:400,damping:25,mass:.8},children:e.length>0?e.map(a=>t.jsx(M9e,{update:a,isUnread:!n.has(`update-${a.key}`),onMarkAsRead:()=>s(a.key),onClick:()=>r(a)},a.id)):t.jsx("div",{className:"p-8 text-center text-[#6B7280]",children:i("notifications.empty.noUpdates")})},"updates")},ek=({isMobileSheet:e,activeTab:n,tabsContainerRef:s,tabRefs:r,unreadCounts:i,onTabClick:a,onClose:o,credits:l,showLowCreditsAlert:c,lowCreditsAlertId:u,activeDeployments:p,pendingInvitations:f,readNotificationIds:m,selectedInvitation:h,isLoading:x,onLowCreditsMarkAsRead:y,onAddCredits:v,onSelectInvitation:g,onAcceptInvitation:b,onDeclineInvitation:w,onInvitationMarkAsRead:N,creditsPerDeployment:j=50,offerNotifications:_,onOfferMarkAsRead:C,onOfferClick:F,updateNotifications:E,onUpdateMarkAsRead:S,onUpdateClick:M})=>{const{t:k}=Jt("common"),I=[{tab:"alerts",label:k("notifications.tabs.inbox")},{tab:"offers",label:k("notifications.tabs.offers")},{tab:"updates",label:k("notifications.tabs.updates")}];return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:A("w-full px-4 flex items-center justify-between",e?"pt-4 pb-2":"pt-3 pb-1"),children:t.jsxs("div",{className:"relative flex items-center gap-3 w-full",children:[e&&t.jsx("button",{type:"button",onClick:o,className:"absolute -top-1 left-0 p-1 -ml-1 rounded-full hover:bg-white/10 transition-colors",children:t.jsx(J9,{})}),t.jsxs("div",{className:"w-full flex gap-1 items-center max-md:justify-center",children:[e&&t.jsx($U,{size:16,color:"#FFFFFF80"}),t.jsx("h2",{className:A("font-medium",e?"text-white/50":"text-[#989EA0]"),children:k("notifications.title")})]})]})}),t.jsx(_9e,{tabs:I,activeTab:n,unreadCounts:i,tabsContainerRef:s,tabRefs:r,onTabClick:a}),t.jsx("div",{className:"overflow-y-auto p-1 flex-1 hide-scrollbar",children:t.jsxs(ns,{mode:"wait",children:[n==="alerts"&&t.jsx(S9e,{credits:l,showLowCreditsAlert:c,lowCreditsAlertId:u,activeDeployments:p,pendingInvitations:f,readNotificationIds:m,selectedInvitation:h,isLoading:x,onLowCreditsMarkAsRead:y,onAddCredits:v,onSelectInvitation:g,onAcceptInvitation:b,onDeclineInvitation:w,onInvitationMarkAsRead:N,creditsPerDeployment:j}),n==="offers"&&t.jsx(A9e,{offerNotifications:_,readNotificationIds:m,onOfferMarkAsRead:C,onOfferClick:F}),n==="updates"&&t.jsx(L9e,{updateNotifications:E,readNotificationIds:m,onUpdateMarkAsRead:S,onUpdateClick:M})]})})]})};function R9e(e){return!(!e||typeof e!="object")}function P9e(e,n){if(!e||typeof e!="object")return!1;const s=e;if(typeof s.id!="string"||typeof s.key!="string"||typeof s.title!="string"||typeof s.description!="string"||typeof s.shouldBeVisible!="boolean")return!1;if(s.media){const r=s.media;if(!["video","image"].includes(r.type)||typeof r.url!="string")return!1}return!0}function O9e(e,n){if(!e||typeof e!="object")return!1;const s=e;return!(typeof s.id!="string"||typeof s.key!="string"||typeof s.title!="string"||typeof s.description!="string"||typeof s.shouldBeVisible!="boolean")}function B9e(){const{tier:e,loading:n}=cs(),{user:s}=xs(),{data:r,isSuccess:i}=Ri(void 0,{skip:!s}),{data:a}=qm(void 0,{skip:!i}),{isMobile:o}=ps(),[l,c]=d.useState([]),[u,p]=d.useState([]);return d.useEffect(()=>{n||t2(()=>{if(!gee()){c([]),p([]);return}const f=bee();if(!f){c([]),p([]);return}try{if(!R9e(f)){c([]),p([]);return}const m=f,h=[];m.updates&&Array.isArray(m.updates)&&m.updates.forEach(v=>{!v||!P9e(v,v.id)||v.shouldBeVisible&&(v.targeting?.desktopOnly&&o||v.targeting?.mobileOnly&&!o||v.targeting?.countries&&v.targeting.countries.length>0&&(!r?.country_code||!v.targeting.countries.includes(r.country_code))||v.targeting?.notAllowedCountries&&v.targeting.notAllowedCountries.length>0&&r?.country_code&&v.targeting.notAllowedCountries.includes(r.country_code)||v.targeting?.tiers&&v.targeting.tiers.length>0&&!v.targeting.tiers.includes(e)||h.push(v))});const x=[];m.offers&&Array.isArray(m.offers)&&m.offers.forEach(v=>{!v||!O9e(v,v.id)||v.shouldBeVisible&&(v.cohortFlag&&(!a||a[v.cohortFlag]!==!0)||v.targeting?.desktopOnly&&o||v.targeting?.mobileOnly&&!o||v.targeting?.countries&&v.targeting.countries.length>0&&(!r?.country_code||!v.targeting.countries.includes(r.country_code))||v.targeting?.notAllowedCountries&&v.targeting.notAllowedCountries.length>0&&r?.country_code&&v.targeting.notAllowedCountries.includes(r.country_code)||v.targeting?.tiers&&v.targeting.tiers.length>0&&!v.targeting.tiers.includes(e)||x.push(v))});let y=x;if(x.length>0){const v=Math.max(...x.map(g=>g.priority??0));y=x.filter(g=>(g.priority??0)===v)}c(h),p(y)}catch{c([]),p([])}})},[e,n,r?.country_code,o,a]),{updates:l,offers:u}}const WU="emergent_notifications_read",W8="emergent_low_credits_alert_id",Hd={INVITATION:"invitation",LOW_CREDITS:"low-credits",UPDATE:"update",OFFER:"offer"},tk=e=>`${Hd.INVITATION}-${e}`,nk=e=>`${Hd.LOW_CREDITS}-${e}`,qy=e=>`${Hd.OFFER}-${e}`,Ky=e=>`${Hd.UPDATE}-${e}`,U9e=()=>{try{const e=localStorage.getItem(WU);return e?new Set(JSON.parse(e)):new Set}catch{return new Set}},G8=e=>{try{localStorage.setItem(WU,JSON.stringify([...e]))}catch{}},V9e=()=>{try{return localStorage.getItem(W8)}catch{return null}},sk=e=>{try{localStorage.setItem(W8,e)}catch{}},H9e=()=>{try{localStorage.removeItem(W8)}catch{}},$9e=(e,n)=>{const s=new Set(e);let r=!1;for(const i of e)i.startsWith(`${Hd.LOW_CREDITS}-`)&&i!==n&&(s.delete(i),r=!0);return r&&G8(s),r?s:e},z9e=(e,n,s)=>{const r=new Set(e);let i=!1;const a=new Set(n.map(l=>Ky(l))),o=new Set(s.map(l=>qy(l)));for(const l of e)l.startsWith(`${Hd.UPDATE}-`)&&!a.has(l)&&(r.delete(l),i=!0),l.startsWith(`${Hd.OFFER}-`)&&!o.has(l)&&(r.delete(l),i=!0);return i&&G8(r),i?r:e},W9e=()=>{const e=Na(),{t:n}=Jt("common"),[s,r]=d.useState(!1),[i,a]=d.useState("alerts"),[o,l]=d.useState(U9e),[c,u]=d.useState(null),[p,f]=d.useState(!1),m=d.useRef(null),h=d.useRef(new Map),{user:x}=xs(),{toast:y}=ds(),{credits:v}=cs(),{getCurrentOrganizationId:g}=ys(),b=f2(),w=Doe(),N=Er(),j=Aoe(),_=ER(),C=TR(),F=NR(),E=kR(),S=FR(),M=IR(),k=DR(),I=AR(),{updates:D,offers:P}=B9e(),R=jce(),B=g(),{data:U,refetch:H}=Ri(void 0,{skip:!x}),{data:$=[]}=UD(B?{organization_id:B}:void 0,{skip:!x}),{data:q}=qD(void 0,{skip:!x}),Q=q?.tiers?.[q?.default_tier]?.CreditCostPerMonth||50,[V,{isLoading:ee}]=Zg(),[X,{isLoading:ae}]=Jg(),me=ee||ae,oe=U?.pending_invitations||[],pe=d.useMemo(()=>$.filter(Oe=>Oe.deployStatus==="success"),[$]),se=d.useRef(null),[re,ve]=d.useState(V9e),we=d.useMemo(()=>pe.length===0?!1:Math.floor(v/Q)<pe.length,[v,pe,Q]);d.useEffect(()=>{if(se.current===null){if(se.current=we,we&&!re){const Oe=nk(Date.now().toString());ve(Oe),sk(Oe)}return}if(!se.current&&we){const Oe=nk(Date.now().toString());ve(Oe),sk(Oe),l(_e=>$9e(_e,Oe))}else se.current&&!we&&(H9e(),ve(null));se.current=we},[we,re]),d.useEffect(()=>{if(D.length===0&&P.length===0)return;const Oe=D.map(Et=>Et.key),_e=P.map(Et=>Et.key);l(Et=>z9e(Et,Oe,_e))},[D,P]);const be=d.useMemo(()=>{const Oe=oe.filter(vt=>!o.has(tk(vt.id))).length,_e=we&&re&&!o.has(re)?1:0,Et=D.filter(vt=>!o.has(Ky(vt.key))).length,dt=P.filter(vt=>!o.has(qy(vt.key))).length;return{alerts:Oe+_e,offers:dt,updates:Et}},[oe,o,we,re,D,P]),Ue=be.alerts+be.offers+be.updates,fe=d.useCallback(Oe=>{l(_e=>{const Et=new Set(_e);return Et.add(Oe),G8(Et),Et})},[]),Me=d.useCallback(Oe=>{z(cl.ALERTS.WORKSPACE_INVITE_CLICKED,{invitation_id:Oe.id,organization_name:Oe.organization_name}),u(Oe),f(!0)},[]),J=d.useCallback(Oe=>{f(Oe),Oe||u(null)},[]),Ne=d.useCallback(async(Oe,_e)=>{z(cl.ALERTS.WORKSPACE_INVITE_ACCEPTED,{invitation_id:Oe,organization_name:_e});try{await V({invitation_id:Oe}).unwrap(),y({title:n("notifications.toast.invitationAccepted"),description:n("notifications.toast.invitationAcceptedDesc",{organizationName:_e}),variant:"default"}),H()}catch(Et){y({title:n("notifications.toast.error"),description:Et?.data?.detail||Et?.error||n("notifications.toast.failedToAccept"),variant:"destructive"})}},[V,y,n,H]),ge=d.useCallback(async(Oe,_e)=>{z(cl.ALERTS.WORKSPACE_INVITE_DECLINED,{invitation_id:Oe,organization_name:_e});try{await X({invitation_id:Oe}).unwrap(),y({title:n("notifications.toast.invitationDeclined"),description:n("notifications.toast.invitationDeclinedDesc",{organizationName:_e}),variant:"default"}),H()}catch(Et){y({title:n("notifications.toast.error"),description:Et?.data?.detail||Et?.error||n("notifications.toast.failedToDecline"),variant:"destructive"})}},[X,y,n,H]),Ee=d.useCallback(()=>{H(),u(null)},[H]),Ce=d.useCallback(Oe=>{z(cl.TAB_CHANGED,{tab:Oe}),a(Oe)},[]),Ie=d.useCallback(()=>{z(cl.ALERTS.LOW_CREDITS_ADD_CREDITS_CLICKED),b.open({location:"low-credit"})},[b]),Ae=d.useCallback(()=>{re&&fe(re)},[re,fe]),Se=d.useCallback((Oe,_e,Et,dt)=>{if(Oe)switch(z(`${_e}_notification_clicked`,{[`${_e}_id`]:Et,[`${_e}_key`]:dt,action_type:Oe.type}),Oe.type){case"close":break;case"open-modal":switch(Oe.modalType){case"visual-edits":r(!1),w.open();break;case"upgrade-tier":r(!1),N.open(Oe.modalConfig||{});break;case"pro":r(!1),j.open(Oe.modalConfig);break;case"buy-credits":r(!1),b.open(Oe.modalConfig);break;case"free-credits":r(!1),_.open(Oe.modalConfig);break;case"gifting":r(!1),C.open(Oe.modalConfig);break;case"pix":F.open(Oe.modalConfig);break;case"one-dollar":E.open(Oe.modalConfig);break;case"gff":M.open(Oe.modalConfig);break;case"gffin":k.open(Oe.modalConfig);break;case"pagbrasil":I.open(Oe.modalConfig);break;case"promotional":const vt=Oe.modalConfig?.schema||R.get(dt);vt&&S.open({schema:vt,skipShowOnceCheck:!0,skipDelay:!0});break}break;case"navigate":Oe.url&&(Oe.newTab?window.open(Oe.url,"_blank"):Oe.url.startsWith("http")?window.location.href=Oe.url:(e(Oe.url),r(!1)));break;case"custom-event":Oe.eventName&&z(Oe.eventName,Oe.eventData);break}},[w,N,j,b,_,C,F,E,M,k,I,S,R,e]),ht=d.useCallback(Oe=>{z(cl.UPDATE_CLICKED,{update_id:Oe.id,update_key:Oe.key,update_title:Oe.title}),Se(Oe.action,"update",Oe.id,Oe.key)},[Se]),Qe=d.useCallback(Oe=>{z(cl.OFFER_CLICKED,{offer_id:Oe.id,offer_key:Oe.key,offer_title:Oe.title}),Se(Oe.action,"offer",Oe.id,Oe.key)},[Se]),De=d.useCallback(Oe=>{fe(qy(Oe))},[fe]),de=d.useCallback(Oe=>{fe(Ky(Oe))},[fe]),ue=d.useCallback(Oe=>{fe(tk(Oe))},[fe]),lt=p||b.isOpen||F.isOpen||E.isOpen||S.isOpen||M.isOpen||k.isOpen||I.isOpen||N.isOpen,st=d.useRef(!1),mt=d.useRef(lt);d.useEffect(()=>{mt.current&&!lt&&(st.current=!0,setTimeout(()=>{st.current=!1},100)),mt.current=lt},[lt]);const ut=d.useCallback(Oe=>{!Oe&&(lt||st.current)||r(Oe)},[lt]),wn=d.useCallback(()=>{s||z(cl.ICON_CLICKED,{unread_count:Ue,unread_alerts:be.alerts,unread_offers:be.offers,unread_updates:be.updates})},[s,Ue,be]);return{isOpen:s,setIsOpen:r,activeTab:i,selectedInvitation:c,isModalOpen:p,tabsContainerRef:m,tabRefs:h,isLoading:me,isAnyModalOpen:lt,credits:v,pendingInvitations:oe,activeDeployments:pe,showLowCreditsAlert:we,lowCreditsAlertId:re,readNotificationIds:o,updateNotifications:D,offerNotifications:P,unreadCounts:be,totalUnread:Ue,defaultTierCredits:Q,handleMarkAsRead:fe,handleSelectInvitation:Me,handleModalClose:J,handleAcceptInvitation:Ne,handleDeclineInvitation:ge,handleInvitationAction:Ee,handleTabClick:Ce,handleAddCredits:Ie,handleLowCreditsMarkAsRead:Ae,handleUpdateClick:ht,handleOfferClick:Qe,handleOfferMarkAsRead:De,handleUpdateMarkAsRead:de,handleInvitationMarkAsRead:ue,handleOpenChange:ut,handleTriggerClick:wn}},G9e=({className:e})=>{const{t:n}=Jt("common"),{isMobile:s}=ps(),{isOpen:r,setIsOpen:i,activeTab:a,selectedInvitation:o,isModalOpen:l,tabsContainerRef:c,tabRefs:u,isLoading:p,isAnyModalOpen:f,credits:m,pendingInvitations:h,activeDeployments:x,showLowCreditsAlert:y,lowCreditsAlertId:v,readNotificationIds:g,updateNotifications:b,offerNotifications:w,unreadCounts:N,totalUnread:j,defaultTierCredits:_,handleSelectInvitation:C,handleModalClose:F,handleAcceptInvitation:E,handleDeclineInvitation:S,handleInvitationAction:M,handleTabClick:k,handleAddCredits:I,handleLowCreditsMarkAsRead:D,handleUpdateClick:P,handleOfferClick:R,handleOfferMarkAsRead:B,handleUpdateMarkAsRead:U,handleInvitationMarkAsRead:H,handleOpenChange:$,handleTriggerClick:q}=W9e(),Q=t.jsxs(t.Fragment,{children:[t.jsx($U,{size:16,color:"#fff"}),j>0&&t.jsx("div",{className:"absolute top-[7px] right-[6px] flex items-center justify-center",children:t.jsx("span",{className:"relative inline-flex h-[8.3px] w-[8.3px] rounded-full bg-[#FC635F] border-[0.8px] border-[#323233]"})})]}),V={activeTab:a,tabsContainerRef:c,tabRefs:u,unreadCounts:N,onTabClick:k,onClose:()=>i(!1),credits:m,showLowCreditsAlert:y,lowCreditsAlertId:v,activeDeployments:x,pendingInvitations:h,readNotificationIds:g,selectedInvitation:o,isLoading:p,onLowCreditsMarkAsRead:D,onAddCredits:I,onSelectInvitation:C,onAcceptInvitation:E,onDeclineInvitation:S,onInvitationMarkAsRead:H,creditsPerDeployment:_,offerNotifications:w,onOfferMarkAsRead:B,onOfferClick:R,updateNotifications:b,onUpdateMarkAsRead:U,onUpdateClick:P};return t.jsxs(t.Fragment,{children:[s?t.jsxs(h9e,{open:r,onOpenChange:$,modal:!1,children:[t.jsx("button",{type:"button",title:"Notifications",onClick:()=>{q(),i(!0)},className:A("relative bg-white/10 rounded-full h-8 w-8 flex items-center justify-center hover:bg-white/20 transition-colors",e),children:Q}),t.jsxs(b9e,{side:"right",className:"p-0 bg-[#131314] border-l border-[#1f1f1f] w-full sm:max-w-full flex flex-col !z-40",hideOverlay:f,children:[t.jsx(N$,{children:t.jsx(y9e,{children:n("notifications.title")})}),t.jsx(ek,{isMobileSheet:!0,...V})]})]}):t.jsxs(dc,{open:r,onOpenChange:$,children:[t.jsx(uc,{asChild:!0,children:t.jsx("button",{type:"button",title:"Notifications",onClick:q,className:A("relative bg-white/10 rounded-full h-8 w-8 flex items-center justify-center hover:bg-white/20 transition-colors",e),children:Q})}),t.jsx(_c,{side:"bottom",align:"end",sideOffset:20,className:"p-0 bg-[#131314] border-[#1f1f1f] shadow-md overflow-hidden z-[40] flex flex-col w-[380px] h-[640px] rounded-[16px]",children:t.jsx(ek,{isMobileSheet:!1,...V})})]}),o&&Gu.createPortal(t.jsx(zU,{open:l,onOpenChange:F,invitation:o,onAccept:M,onDecline:M}),document.body)]})},q9e="/assets/project_introduction_folder-BOIAuC9-.png",K9e="/assets/project_introduction_collab-BliWAEKT.png",GU="data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.24414%202.10059C5.34001%201.81581%205.74788%201.81581%205.84375%202.10059L6.4248%203.82715C6.71389%204.6859%207.39649%205.35986%208.26562%205.64551L10.0127%206.21973C10.3009%206.31442%2010.3009%206.71677%2010.0127%206.81152L8.26562%207.38672C7.39657%207.67232%206.71393%208.34546%206.4248%209.2041L5.84375%2010.9307C5.74788%2011.2155%205.34001%2011.2155%205.24414%2010.9307L4.66309%209.2041C4.37395%208.34565%203.69207%207.67237%202.82324%207.38672L1.0752%206.81152C0.787451%206.71656%200.787364%206.31453%201.0752%206.21973L2.82324%205.64551C3.69226%205.35982%204.374%204.68581%204.66309%203.82715L5.24414%202.10059ZM9.15234%200.942383C9.19087%200.828894%209.35412%200.828826%209.39258%200.942383L9.6084%201.58594C9.73411%201.95931%2010.0313%202.25276%2010.4092%202.37695L11.0596%202.59082C11.1749%202.62871%2011.1749%202.78926%2011.0596%202.82715L10.4092%203.04102C10.0313%203.16521%209.73411%203.45866%209.6084%203.83203L9.39258%204.47461C9.35423%204.58852%209.19069%204.58852%209.15234%204.47461L8.93555%203.83203C8.80983%203.45866%208.51364%203.16521%208.13574%203.04102L7.48438%202.82715C7.36974%202.78903%207.36977%202.62897%207.48438%202.59082L8.13574%202.37695C8.51363%202.25277%208.80982%201.95928%208.93555%201.58594L9.15234%200.942383Z'%20fill='black'/%3e%3c/svg%3e",Y9e=()=>t.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl flex items-center justify-center",children:t.jsx("img",{src:q9e,alt:"folder",className:"w-16 h-16"})}),Z9e=()=>t.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 rounded-xl flex items-center justify-center",children:t.jsx("img",{src:K9e,alt:"collaborate",className:"w-16 h-16"})}),J9e=({onNext:e,onLearnMore:n})=>{const{t:s}=Jt("home");return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-4 py-6 md:px-12 md:pt-[52px] md:pb-10",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-[18px] mb-[10px] md:mb-[10px] pt-2 pr-2.5 pb-1.5 pl-2",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:[t.jsx("img",{src:GU,alt:"sparkles",className:"w-3 h-3"}),t.jsx("span",{className:"text-black text-center font-inter text-[12px] font-semibold leading-[12px] tracking-[0.36px]",children:s("projectsIntroduction.new","NEW")})]}),t.jsx("h1",{className:"text-[24px] md:text-[36px] font-semibold text-center font-brockmann leading-[32px] md:leading-[44px] tracking-[-0.96px] md:tracking-[-1.44px] bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:s("projectsIntroduction.title","Introducing Projects")}),t.jsx("h2",{className:"text-[24px] md:text-[36px] font-semibold text-white text-center mb-4 md:mb-12 font-brockmann leading-[32px] md:leading-[44px] tracking-[-0.96px] md:tracking-[-1.44px]",children:s("projectsIntroduction.subtitle","& free collaboration for everyone.")}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-[30px] w-full max-w-[700px] mb-4 md:mb-12",children:[t.jsxs("div",{className:"flex-1 bg-[#1E1E20] border border-[#2A2A2C] rounded-2xl px-4 py-4 md:py-[32px] md:px-[37px] flex flex-col items-center text-center",children:[t.jsx(Z9e,{}),t.jsx("h3",{className:"text-[16px] md:text-[20px] font-medium text-white text-center mt-2 md:mt-4 mb-1 md:mb-2 font-brockmann leading-[20px] md:leading-[24px]",children:s("projectsIntroduction.organizeTitle","Organize your tasks")}),t.jsx("p",{className:"text-[12px] md:text-[14px] text-white/40 font-inter font-medium leading-[16px] md:leading-[20px] text-center",children:s("projectsIntroduction.organizeDescription","Group all related tasks and forks into one place.")})]}),t.jsxs("div",{className:"flex-1 bg-[#1E1E20] border border-[#2A2A2C] rounded-2xl px-4 py-4 md:px-[32px] md:py-[37px] flex flex-col items-center text-center",children:[t.jsx(Y9e,{}),t.jsx("h3",{className:"text-[16px] md:text-[20px] font-medium text-white text-center mt-2 md:mt-6 mb-1 md:mb-2 font-brockmann leading-[20px] md:leading-[24px]",children:s("projectsIntroduction.collaborateTitle","Collaborate for free")}),t.jsx("p",{className:"text-[12px] md:text-[14px] text-white/40 font-inter font-medium leading-[16px] md:leading-[20px] text-center",children:s("projectsIntroduction.collaborateDescription","Invite teammates to your projects and work together seamlessly.")})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 w-full max-w-[500px] mt-auto",children:[t.jsx("button",{type:"button",onClick:n,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[14px] md:text-[16px] font-medium leading-[20px] md:leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors order-2 md:order-1",children:s("projectsIntroduction.learnMore","Learn more")}),t.jsxs("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white text-black font-semibold text-[14px] md:text-[16px] hover:bg-white/90 transition-colors order-1 md:order-2",children:[s("projectsIntroduction.createFirstProject","Create your first project"),t.jsx(Jo,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]},"intro")},X9e=["#3FF3C8","#62ECFE","#00FF66","#FF8C66","#9B59B6"],Q9e=({projectName:e,setProjectName:n,avatarSeed:s,setAvatarSeed:r,projectNameError:i,setProjectNameError:a,onCreateProject:o,isLoading:l=!1,isDuplicateName:c=!1})=>{const{t:u}=Jt("home"),{t:p}=Jt("teams"),f=()=>{const x=Math.random().toString(36).substring(2,15)+Date.now().toString(36);r(x)},m=()=>{if(!e.trim()){a(u("projectsIntroduction.projectNameRequired","Please enter a project name"));return}if(c){a(p("teams.createWorkspace.duplicateName","A project with this name already exists"));return}a(""),o()},h=i||(c&&e.trim()?p("teams.createWorkspace.duplicateName","A project with this name already exists"):"");return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-4 pt-8 pb-6 md:px-[32px] md:pt-[56px] md:pb-[40px]",children:[t.jsx("h1",{className:"text-[20px] md:text-[24px] font-medium text-[#E6E6E6] text-center mb-2 font-brockmann leading-[28px] md:leading-[32px] tracking-[-0.5px]",children:u("projectsIntroduction.enterDetails","Enter Project details")}),t.jsx("p",{className:"text-[13px] md:text-[14px] text-[#E6E6E6] text-center font-inter font-medium leading-[18px] md:leading-[20px] opacity-40 px-2 md:px-0",children:u("projectsIntroduction.detailsDescription","Projects allow you to collaborate on tasks and track usage per idea.")}),t.jsxs("div",{className:"flex flex-col items-center w-full mt-6 md:mt-[98px]",children:[t.jsxs("div",{className:"relative mb-6",children:[t.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden",children:t.jsx(cc,{size:56,name:s,variant:"marble",colors:X9e})}),t.jsx("button",{type:"button",onClick:f,disabled:l,className:"absolute -right-2 -bottom-1 w-7 h-7 flex items-center justify-center rounded-full bg-[#303030] hover:bg-[#404040] border border-[#404040] transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":u("projectsIntroduction.randomizeAvatar","Randomize avatar gradient"),title:u("projectsIntroduction.randomizeGradient","Randomize gradient"),children:t.jsx(dR,{className:"w-3.5 h-3.5 text-white/80"})})]}),t.jsxs("div",{className:"w-full max-w-[500px] px-4 md:px-0",children:[t.jsx("label",{className:"text-[14px] text-white font-medium mb-2 block",children:u("projectsIntroduction.projectName","Project name")}),t.jsx("input",{type:"text",value:e,onChange:x=>{n(x.target.value),i&&a("")},placeholder:u("projectsIntroduction.projectNamePlaceholder","ex : Resume analyzer, Client A, Side project"),className:`w-full h-12 px-4 bg-[#1D1D1F] border rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none transition-colors ${h?"border-red-500":"border-[#3A3A3C] focus:border-[#555]"}`,disabled:l,maxLength:100}),h&&t.jsx("p",{className:"text-red-500 text-[13px] mt-2",children:h})]})]}),t.jsx("div",{className:"flex justify-center w-full px-4 md:px-0 mt-auto",children:t.jsx("button",{type:"button",onClick:m,disabled:l,className:"flex items-center justify-center gap-2 py-3 px-5 rounded-xl font-semibold text-black transition-colors w-full md:w-[216px] disabled:opacity-70 disabled:cursor-not-allowed",style:{borderRadius:"12px",background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current rounded-full border-t-transparent animate-spin"}),p("teams.createWorkspace.creating","Creating...")]}):u("projectsIntroduction.createProject","Create Project")})})]},"details")},e8e=({projectName:e,tasks:n,selectedTaskIds:s,setSelectedTaskIds:r,taskSearchQuery:i,setTaskSearchQuery:a,onNext:o,onBack:l})=>{const{t:c}=Jt("home"),u=d.useMemo(()=>{if(!i.trim())return n;const m=i.toLowerCase();return n.filter(h=>h.title.toLowerCase().includes(m)||h.description?.toLowerCase().includes(m))},[n,i]),p=m=>{r(h=>h.includes(m)?h.filter(x=>x!==m):[...h,m])},f=()=>{o()};return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-6 py-8 md:px-12 md:py-10",children:[t.jsxs("h1",{className:"text-[24px] font-medium text-center mb-2 font-brockmann leading-[32px] tracking-[-0.5px]",children:[t.jsxs("span",{className:"text-white",children:[c("projectsIntroduction.moveTasksTo","Move tasks to ")," "]}),t.jsx("span",{className:"bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:e})]}),t.jsx("p",{className:"text-[14px] text-[#8A8F98] text-center mb-6 font-inter",children:c("projectsIntroduction.selectTasks","Select tasks to move to this project.")}),t.jsxs("div",{className:"w-full max-w-[600px] flex-1 flex flex-col min-h-0",children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(vo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#6B6B6B]"}),t.jsx("input",{type:"text",value:i,onChange:m=>a(m.target.value),placeholder:c("projectsIntroduction.searchTasks","Search tasks"),className:"w-full h-12 pl-12 pr-4 bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none focus:border-[#555] transition-colors"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl",children:u.length===0?t.jsx("div",{className:"flex items-center justify-center h-full text-[#6B6B6B] p-8",children:n.length===0?c("projectsIntroduction.noTasksAvailable","No tasks available"):c("projectsIntroduction.noTasksMatch","No tasks match your search")}):u.map(m=>t.jsxs("button",{type:"button",onClick:()=>p(m.id),className:"w-full flex items-center justify-between p-4 border-b border-[#2A2A2C] last:border-b-0 hover:bg-white/5 transition-colors text-left",children:[t.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[t.jsx("div",{className:"text-white font-medium truncate",children:m.title}),m.description&&t.jsxs("div",{className:"text-[13px] text-[#8A8F98] truncate mt-0.5",children:[m.isFork&&t.jsx("span",{className:"text-[#80FFF9] mr-1",children:c("projectsIntroduction.forkFrom","Fork {{number}} from ",{number:m.forkNumber})}),m.description]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx("span",{className:"text-[13px] text-[#6B6B6B]",children:m.timestamp}),t.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${s.includes(m.id)?"bg-[#80FFF9] border-[#80FFF9]":"border-[#3A3A3C]"}`,children:s.includes(m.id)&&t.jsx(Mn,{className:"w-4 h-4 text-black"})})]})]},m.id))})]}),t.jsxs("div",{className:"flex justify-between w-full max-w-[600px] mt-6",children:[t.jsx("button",{type:"button",onClick:l,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors",children:c("projectsIntroduction.back","Back")}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:f,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white/[0.06] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/10 transition-colors",children:c("projectsIntroduction.skip","Skip")}),t.jsxs("button",{type:"button",onClick:o,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl bg-white text-black font-semibold hover:bg-white/90 transition-colors",children:[c("projectsIntroduction.continueToInvite","Continue to invite members"),t.jsx(Jo,{className:"w-5 h-5"})]})]})]})]},"tasks")},t8e=({projectName:e,emails:n,setEmails:s,memberRole:r,setMemberRole:i,onBack:a,onCreateProject:o})=>{const{t:l}=Jt("home"),[c,u]=d.useState(!1),p=d.useRef(null);return d.useEffect(()=>{const f=m=>{p.current&&!p.current.contains(m.target)&&u(!1)};if(c)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[c]),t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center w-full h-full px-6 py-8 md:px-12 md:py-10",children:[t.jsxs("h1",{className:"text-[24px] font-medium text-center mb-2 font-brockmann leading-[32px] tracking-[-0.5px]",children:[t.jsxs("span",{className:"text-white",children:[l("projectsIntroduction.inviteMembersTo","Invite members to ")," "]}),t.jsx("span",{className:"bg-clip-text text-transparent",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 40px rgba(59, 221, 255, 0.20)"},children:e})]}),t.jsx("p",{className:"text-[14px] text-[#8A8F98] text-center mb-8 font-inter",children:l("projectsIntroduction.inviteDescription","Invite teammates to collaborate on this project.")}),t.jsxs("div",{className:"w-full max-w-[500px] mb-6",children:[t.jsx("label",{className:"text-[14px] text-white font-medium mb-2 block",children:l("projectsIntroduction.emailAddresses","Email addresses")}),t.jsx("textarea",{value:n,onChange:f=>s(f.target.value),placeholder:l("projectsIntroduction.emailPlaceholder","example@example.com, example2@example.com"),className:"w-full h-32 px-4 py-3 bg-[#1D1D1F] border border-[#3A3A3C] rounded-xl text-white placeholder-[#6B6B6B] focus:outline-none focus:border-[#555] transition-colors resize-none"})]}),t.jsxs("div",{className:"w-full max-w-[500px] mb-auto",children:[t.jsx("label",{className:"text-[#E6E6E6] font-medium text-[16px] leading-[24px] font-brockmann mb-2 block",children:l("projectsIntroduction.role","Role")}),t.jsxs("div",{className:"relative",ref:p,children:[t.jsxs("button",{type:"button",onClick:()=>u(!c),className:"w-full bg-[#1D1D1F] border border-[#333] rounded-lg p-4 text-white text-left flex justify-between items-center focus:outline-none focus:border-[#555] transition-colors",children:[t.jsx("span",{children:r==="ADMIN"?l("projectsIntroduction.admin","Admin"):l("projectsIntroduction.member","Member")}),t.jsx(Dr,{className:A("w-4 h-4 transition-transform duration-200",c&&"rotate-180")})]}),c&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-[#18181A] border border-[#262626] rounded-[10px] shadow-lg z-10 w-full p-2",children:[t.jsxs("div",{className:A("items-center cursor-pointer p-2 rounded-[8px]",r==="ADMIN"?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"),onClick:()=>{i("ADMIN"),u(!1)},children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("p",{className:A("font-brockmann text-[14px] leading-[20px]",r==="ADMIN"?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"),children:l("projectsIntroduction.admin","Admin")}),r!=="ADMIN"&&t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),r==="ADMIN"&&t.jsx("div",{className:"w-4 h-4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),t.jsx("div",{className:A("mt-1 font-inter font-medium text-[12px] leading-[16px]",r==="ADMIN"?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50"),children:l("projectsIntroduction.adminDescription","Manage team settings, members and billings")})]}),t.jsxs("div",{className:A("mt-2 items-center cursor-pointer p-2 rounded-[8px]",r==="MEMBER"?"bg-[#5CD2E5] bg-opacity-5 hover:bg-opacity-10":"hover:bg-opacity-5 hover:bg-white"),onClick:()=>{i("MEMBER"),u(!1)},children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("p",{className:A("font-brockmann text-[14px] leading-[20px]",r==="MEMBER"?"font-semibold text-[#5CD2E5]":"font-medium text-[#E6E6E6]"),children:l("projectsIntroduction.member","Member")}),r!=="MEMBER"&&t.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-[#45474D]"}),r==="MEMBER"&&t.jsx("div",{className:"w-4 h-4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.5C3.85775 0.5 0.5 3.85775 0.5 8C0.5 12.1423 3.85775 15.5 8 15.5C12.1423 15.5 15.5 12.1423 15.5 8C15.5 3.85775 12.1423 0.5 8 0.5ZM8 5C7.20435 5 6.44129 5.31607 5.87868 5.87868C5.31607 6.44129 5 7.20435 5 8C5 8.79565 5.31607 9.55871 5.87868 10.1213C6.44129 10.6839 7.20435 11 8 11C8.79565 11 9.55871 10.6839 10.1213 10.1213C10.6839 9.55871 11 8.79565 11 8C11 7.20435 10.6839 6.44129 10.1213 5.87868C9.55871 5.31607 8.79565 5 8 5Z",fill:"#5CD2E5"})})})]}),t.jsx("div",{className:A("mt-1 font-inter font-medium text-[12px] leading-[16px]",r==="MEMBER"?"text-opacity-80 text-[#5CD2E5]":"text-[#FFF] text-opacity-50"),children:l("projectsIntroduction.memberDescription","Can create tasks and see what others are building")})]})]})]})]}),t.jsxs("div",{className:"flex justify-between w-full max-w-[500px] mt-8",children:[t.jsx("button",{type:"button",onClick:a,className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-[24px] tracking-[-0.2px] hover:bg-white/5 transition-colors",children:l("projectsIntroduction.back","Back")}),t.jsx("button",{type:"button",onClick:o,className:"flex items-center justify-center gap-2 py-3 px-5 rounded-xl font-semibold text-black transition-colors",style:{background:"linear-gradient(229deg, #00D1FF -17.18%, #FFF 82.02%)",boxShadow:"0 0 40px 0 rgba(59, 221, 255, 0.20)"},children:l("projectsIntroduction.createProject","Create Project")})]})]},"invite")},n8e=({onSeeWhatsNew:e})=>{const{t:n}=Jt("home");return t.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex flex-col items-center justify-center w-full h-full min-h-[500px] px-4 py-6 md:px-12 md:py-16",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-[18px] mb-2.5 pt-2 pr-2.5 pb-1.5 pl-2 bg-gradient-to-br from-cyan-400 to-white shadow-[0_0_40px_0_rgba(59,221,255,0.20)]",children:[t.jsx("img",{src:GU,alt:"sparkles",className:"w-3 h-3"}),t.jsx("span",{className:"text-black text-center font-inter text-xs font-semibold leading-3 tracking-wide",children:n("teamsIntroduction.new","NEW")})]}),t.jsx("h1",{className:"text-[36px] font-semibold text-center font-brockmann leading-[44px] tracking-[-1.44px] bg-[linear-gradient(229deg,#00D1FF_-17.18%,#FFF_82.02%)] bg-clip-text text-transparent drop-shadow-[0_0_40px_rgba(59,221,255,0.20)]",children:n("teamsIntroduction.title","Introducing Projects")}),t.jsx("h2",{className:"text-2xl md:text-4xl font-semibold text-white text-center mb-4 md:mb-6 font-brockmann leading-8 md:leading-[44px] tracking-tight",children:n("teamsIntroduction.subtitle","A new chapter for your team")}),t.jsx("p",{className:"text-[15px] text-white/60 text-center max-w-[500px] mb-12 font-inter font-medium leading-7",children:n("teamsIntroduction.description","As one of our first Team plan users, your feedback shaped how collaboration works. Today, we're making collaboration free for everyone by evolving Teams into Projects.")}),t.jsxs("button",{type:"button",onClick:e,className:"flex items-center justify-center gap-1.5 py-3 px-4 rounded-xl bg-white text-[#18181A] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] hover:bg-white/90 transition-colors shadow-[0px_0px_20px_0px_rgba(255,255,255,0.4),inset_0px_2px_4px_1px_rgba(255,255,255,0.4),inset_0px_-1px_0px_0px_rgba(0,0,0,0.2)]",children:[n("teamsIntroduction.seeWhatsNew","See what's new"),t.jsx(Vae,{className:"w-4 h-4"})]})]},"teams_intro")},s8e="/assets/project_introduction_move_tasks-Dp5av0zG.png",r8e="/assets/project_introduction_collaboration-BkCkJKbj.png",i8e="/assets/project_introduction_credits-K6PViokX.png",a8e="/assets/project_introduction_thumbs_up-Co__IpER.png",o8e=({src:e,alt:n})=>t.jsx("div",{className:"w-16 h-16 flex items-center justify-center flex-shrink-0",children:t.jsx("img",{src:e,alt:n,className:"w-16 h-16 object-contain"})}),l8e=[{titleKey:"teamsFeatures.moveTasks.title",titleDefault:"Organise Tasks Cleanly",descriptionKey:"teamsFeatures.moveTasks.description",descriptionDefault:"As a much-requested feature, you can now move tasks and all connected forks into one place.",icon:s8e},{titleKey:"teamsFeatures.collaboration.title",titleDefault:"No limit on collaboration",descriptionKey:"teamsFeatures.collaboration.description",descriptionDefault:"You can now create unlimited Projects and add unlimited collaborators per Project.",icon:r8e},{titleKey:"teamsFeatures.credits.title",titleDefault:"What happens to my credits?",descriptionKey:"teamsFeatures.credits.description",descriptionDefault:"We've retired Team plan and moved all your credits to your personal plan. You now have one central balance to manage and track your usage.",icon:i8e},{titleKey:"teamsFeatures.staysSame.title",titleDefault:"Everything stays same",descriptionKey:"teamsFeatures.staysSame.description",descriptionDefault:"We are moving your subscription to Pro plan next billing cycle, all the same benefits",icon:a8e}],c8e=({onOkayGotIt:e,onLearnMore:n})=>{const{t:s}=Jt("home");return t.jsxs("div",{className:"flex flex-col w-full h-[600px]",children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-12",style:{maxHeight:"calc(600px - 100px)"},children:[t.jsx("h2",{className:"text-[15px] text-white/60 font-inter font-medium leading-7 mb-6 md:mb-8",children:s("teamsFeatures.header","Here's what's new:")}),t.jsx("div",{className:"space-y-8",children:l8e.map((i,a)=>t.jsxs("div",{className:"flex items-start gap-5",children:[t.jsx(o8e,{src:i.icon,alt:s(i.titleKey,i.titleDefault)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-[18px] font-medium text-white font-brockmann leading-8",children:s(i.titleKey,i.titleDefault)}),t.jsx("p",{className:"text-[14px] text-white/50 font-inter font-medium leading-6",children:s(i.descriptionKey,i.descriptionDefault)})]})]},a))})]}),t.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 py-6 border-t border-[#333] px-4 md:px-12 bg-[#151517]",children:[t.jsx("button",{type:"button",onClick:e,className:"flex w-[160px] py-3 px-4 justify-center items-center gap-2 shrink-0 rounded-xl bg-white text-[#18181A] font-brockmann text-[16px] font-semibold leading-6 tracking-[-0.2px] hover:bg-white/90 transition-colors",children:s("teamsFeatures.okayGotIt","Okay, got it")}),t.jsxs("button",{type:"button",onClick:n,className:"flex w-[160px] py-3 px-4 justify-center items-center gap-2 shrink-0 rounded-xl border border-white/[0.12] text-white font-brockmann text-[16px] font-medium leading-6 tracking-[-0.2px] hover:bg-white/5 transition-colors opacity-60",children:[s("teamsFeatures.learnMore","Learn more"),t.jsx(gc,{className:"w-4 h-4"})]})]})]})},rk={steps:[{id:"intro",enabled:!0},{id:"details",enabled:!0},{id:"tasks",enabled:!1},{id:"invite",enabled:!1},{id:"teams_intro",enabled:!1},{id:"teams_features",enabled:!1}]},ik={steps:[{id:"intro",enabled:!1},{id:"details",enabled:!1},{id:"tasks",enabled:!1},{id:"invite",enabled:!1},{id:"teams_intro",enabled:!0},{id:"teams_features",enabled:!0}]},dh=e=>e.steps.filter(n=>n.enabled).map(n=>n.id),ak=(e,n)=>{const s=dh(e),r=s.indexOf(n);return r===-1||r===s.length-1?null:s[r+1]},d8e=(e,n)=>{const s=dh(e),r=s.indexOf(n);return r<=0?null:s[r-1]},u8e=(e,n)=>{const s=dh(e);return s[s.length-1]===n},ok=e=>dh(e)[0]||"intro",p8e=({isOpen:e,onOpenChange:n,onProjectCreated:s,tasks:r=[],onLearnMore:i,config:a})=>{const{t:o}=Jt("teams"),{newToast:l}=Fa(),{workspaces:c}=ys(),[u,{isLoading:p}]=VD(),{isMobile:f}=ps(),[m,h]=d.useState(!1),[x,y]=d.useState(!1),v=d.useRef(!1);d.useEffect(()=>{if(!e||f)return;v.current=!1;const se=we=>{y(we);const Ue=ok(we?ik:a||rk);j(Ue),h(!0),v.current=!0},re=Cee();if(re!==void 0){se(re===!0);return}t2(()=>{if(!v.current){const we=uM();se(we)}});const ve=setTimeout(()=>{v.current||se(!1)},3e3);return()=>clearTimeout(ve)},[e,f,a]),d.useEffect(()=>{e||(h(!1),v.current=!1)},[e]);const g=x?ik:a||rk,b=dh(g),w=ok(g),[N,j]=d.useState(w),[_,C]=d.useState(""),[F,E]=d.useState("New Project"),[S,M]=d.useState([]),[k,I]=d.useState(""),[D,P]=d.useState(""),[R,B]=d.useState("MEMBER"),[U,H]=d.useState(""),$=c.some(se=>se.name.toLowerCase().trim()===_.toLowerCase().trim());d.useEffect(()=>{e&&!f&&(z(Tn.MODAL_EVENTS.PROJECTS_INTRODUCTION_MODAL_OPENED),C(""),E("New Project"),M([]),I(""),P(""),B("MEMBER"),H(""))},[e,f]);const q=()=>{qh(),n(!1),z(Tn.MODAL_EVENTS.PROJECTS_INTRODUCTION_MODAL_CLOSED)},Q=()=>{z(ii.ONBOARDING_LEARN_MORE_CLICKED),qh(),i?.(),q()},V=()=>{z(ii.TEAMS_INTRO_SEE_WHATS_NEW_CLICKED);const se=ak(g,"teams_intro");se&&j(se)},ee=()=>{z(ii.TEAMS_INTRO_OKAY_GOT_IT_CLICKED),qh(),n(!1)},X=()=>{z(ii.TEAMS_INTRO_LEARN_MORE_CLICKED),Q()},ae=()=>{const se=ak(g,N);se&&(N==="intro"&&z(ii.ONBOARDING_CREATE_FIRST_PROJECT_CLICKED),j(se),z(`projects_intro_navigate_to_${se}`))},me=()=>{const se=d8e(g,N);se&&(j(se),z(`projects_intro_navigate_back_to_${se}`))},oe=async()=>{if(!_.trim()){H(o("teams.createWorkspace.projectNameRequired","Please enter a project name"));return}if($){H(o("teams.createWorkspace.duplicateName","A project with this name already exists"));return}z(ii.CREATE_PROJECT_SUBMIT_CLICKED,{workspaceName:_.trim(),source:"projects_introduction_modal"});try{const se=await u({name:_.trim(),description:""}).unwrap();qh(),l.success(o("teams.createWorkspace.workspaceCreated","Project created successfully")),z(ii.WORKSPACE_CREATED_SUCCESSFULLY,{workspaceId:se.id,workspaceName:se.name,source:"projects_introduction_modal",hasTasksMoved:S.length>0,hasInvites:D.trim().length>0}),Yu()||Bv(),_A(),n(!1),s?.(se.id,se.name)}catch(se){l.error(se?.error||o("teams.createWorkspace.failedToCreate","Failed to create project"))}};if(!e||f)return null;const pe=se=>b.includes(se);return t.jsx("div",{className:"fixed inset-0 z-[99999] bg-black/60 backdrop-blur-sm",children:t.jsx("div",{className:"flex items-center justify-center w-full h-full p-4",children:t.jsxs("div",{className:"w-full max-w-[95vw] md:max-w-[750px] md:w-[750px] h-[90dvh] md:h-[602px] bg-[#151517] border border-[#1F1F1F] rounded-2xl relative flex flex-col overflow-hidden",children:[t.jsx("button",{type:"button",onClick:q,disabled:p||!m,className:"absolute z-10 flex items-center justify-center w-10 h-10 text-white transition-all duration-200 rounded-[24px] top-4 right-4 bg-white/[0.04] hover:bg-white/[0.08] disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Close modal",children:t.jsx(Pt,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[!m&&t.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-[500px]",children:t.jsx("div",{className:"w-8 h-8 border-2 border-white/20 border-t-white rounded-full animate-spin"})}),t.jsx(ns,{mode:"wait",children:m&&t.jsxs(t.Fragment,{children:[N==="intro"&&pe("intro")&&t.jsx(J9e,{onNext:ae,onClose:q,onLearnMore:Q}),N==="details"&&pe("details")&&t.jsx(Q9e,{projectName:_,setProjectName:C,avatarSeed:F,setAvatarSeed:E,projectNameError:U,setProjectNameError:H,onNext:ae,onBack:me,onClose:q,onCreateProject:oe,isLastStep:u8e(g,"details"),isLoading:p,isDuplicateName:$}),N==="tasks"&&pe("tasks")&&t.jsx(e8e,{projectName:_,tasks:r,selectedTaskIds:S,setSelectedTaskIds:M,taskSearchQuery:k,setTaskSearchQuery:I,onNext:ae,onBack:me,onClose:q}),N==="invite"&&pe("invite")&&t.jsx(t8e,{projectName:_,emails:D,setEmails:P,memberRole:R,setMemberRole:B,onNext:ae,onBack:me,onClose:q,onCreateProject:oe}),N==="teams_intro"&&pe("teams_intro")&&t.jsx(n8e,{onSeeWhatsNew:V}),N==="teams_features"&&pe("teams_features")&&t.jsx(c8e,{onOkayGotIt:ee,onLearnMore:X})]})})]})]})})})},f8e=W.common.buyCredit,m8e=W.panels.phone;function h8e({hideNav:e=!1,className:n}){const{t:s}=Jt(["home","common"]),[r,i]=d.useState(!1),[a,o]=d.useState(!0),[l,c]=d.useState(!1),[u,p]=d.useState(!1),[f,m]=d.useState(!1),h=vR(),x=Er(),y=f2(),v=Up(),g=wR(),b=i8(),{isMobile:w}=ps(),[N,j]=d.useState(!1),_={background:`
      linear-gradient(90deg, #ffffff30, #00000050),
      #F3CA5F
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",boxShadow:`
      0px 0px 20px 0px #F3CA5F66,
      0px 2.18px 3.64px 1.45px #FFFFFF66 inset,
      0px -1.45px 0px 0px #00000033 inset,
      0px 0.73px 0.73px 0.73px #0000001A
    `},{user:C,signOut:F,session:E}=xs(),{setTabs:S,setActiveTab:M}=qr(),{config:k}=yc(),{isConnected:I,checkGitHubConnection:D,setIsConnected:P}=Jd(),{personalTier:R,orgTier:B}=cs(),{isTrulyFreeUser:U,isOrganizationWorkspace:H,restrictedFree:$,isCurrentWorkspaceOwner:q}=ni(),{sendMessage:Q,isMobileApp:V}=c9(),ee=ys(),X=Boe(),ae=(ct,Ft)=>{Yu()||Bv();const Ve=`${sm(ct)}?switching=${encodeURIComponent(Ft)}`;m9.show(void 0,s("teams:teams.switchingToWorkspace",{workspaceName:Ft,defaultValue:`Switching to ${Ft}...`})),setTimeout(()=>{window.location.href=Ve},100)},me=()=>{window.open("https://help.emergent.sh/articles/205415-getting-started-with-projects","_blank")};d.useEffect(()=>{const ct=()=>m(!0),Ft=()=>m(!1);return window.addEventListener("tour-started",ct),window.addEventListener("tour-ended",Ft),()=>{window.removeEventListener("tour-started",ct),window.removeEventListener("tour-ended",Ft)}},[]);const[oe,pe]=d.useState(!1);rn.isFeatureEnabled("new_upgrade_tier_modal");const{guardAction:se}=L2(),[re,ve]=d.useState(!1),[we,be]=d.useState(null),Ue=d.useMemo(()=>e2(),[]),fe=()=>{h.open()},Me=ct=>{ct.stopPropagation();const Ft="personal";if(V&&$){const Fe=R,He=Fe!=="free",Ve="upgrade-tier",{title:Ke,description:Ye}=Ca(Ve);Q("TRIGGER_SUBSCRIPTION",{planType:Ft,organizationId:void 0,triggerLocation:Ve,currentTier:Fe,hasActiveSubscription:He,title:Ke,description:Ye,...He&&{modalType:"proFeature"}}),z(Tn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:Ft});return}$?x.open({planType:Ft}):y.open(),z(Tn.CREDIT_EVENTS.BUY_CREDITS_BUTTON_CLICKED,{planType:Ft})},J=()=>{v.open({initialTab:"account"})},Ne=()=>{j(!0)},ge=()=>{g.open(),z(Tn.HOME_PAGE_EVENTS.REFERRAL_ICON_CLICKED),l||c(!0)},Ee=()=>{const ct=ee.getCurrentOrganizationId();z(ii.PROJECT_INVITE_MEMBER_CLICKED,{currentWorkspace:ct,source:"protected_layout"}),b.open({organizationId:ct})};d.useEffect(()=>{V&&o(!1)},[V]);const Ce=d.useRef(!1);d.useEffect(()=>{if(w||V||!C||Ce.current||(Ce.current=!0,CA())||Pv())return;if(uM()){p(!0);return}const ct="projects_intro_page_load_count",Fe=parseInt(localStorage.getItem(ct)||"0",10)+1;localStorage.setItem(ct,Fe.toString()),Fe>=2&&p(!0)},[w,V,C]);const{bannerConfig:Ie,hideBanner:Ae,showWarning:Se,showInfo:ht,showError:Qe,showSuccess:De,externalBannersHeight:de}=Ea(),ue=tU();d.useEffect(()=>{const ct=aee();let Ft=null;if(ct?Ft=ct:k?.info_banner&&k.info_banner.show&&(Ft=k.info_banner),Ft){const{level:Fe,content:He,dismissible:Ve}=Ft;switch(Fe){case"info":ht(He,Ve);break;case"warning":Se(He,Ve);break;case"error":Qe(He,Ve);break;case"success":De(He,Ve);break;default:Se(He,Ve)}}},[k,Se,ht,Qe,De]);const lt=async()=>{se(async()=>{i(!0),S(ct=>ct.filter(Ft=>Ft.id==="home")),P(!1),M("home"),sessionStorage.removeItem("persist:tabs"),await F().then(()=>{i(!1)})},{modalTitle:"You have unsaved changes",modalDescription:"Logging out will discard your unsaved visual edit changes.",confirmText:"Logout",showModal:ct=>{be(ct),ve(!0)}})},st=()=>{Ae()},mt=()=>{const ct=Hf.appUrl;window.open(ct,"_blank")};d.useEffect(()=>{E&&D()},[E]);const{getActiveTab:ut}=qr(),wn=ut(),Oe=wn?.id!=="home",_e=wn?.tabType==="ShowCasePreview",Et=ee.getCurrentWorkspaceData(),dt=jm(Et),vt=$&&a&&q,{members:Ct,pending_members:St}=TB();return t.jsx(l9e,{children:t.jsxs("div",{className:A("flex h-full flex-col",n),children:[!e&&t.jsxs("header",{className:A("z-[10000] md:bg-[rgba(30,30,31,0.8)] max-md:bg-transparent",V?"fixed left-0 right-0":"sticky"),style:{top:de},children:[t.jsx(ns,{children:Ie.show&&t.jsx(xe.div,{ref:ue,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.25,.1,.25,1]},style:{overflow:"hidden"},children:t.jsx(m9e,{level:Ie.level,content:Ie.content,iconUrl:Ie.iconUrl,dismissible:Ie.dismissible,onDismiss:st})})}),t.jsxs("div",{className:"flex items-center justify-between px-2 h-[56px] md:h-[56px] md:max-h-[56px] md:px-4 container-fluid",children:[t.jsx("div",{className:"flex-1 h-full flex md:items-end overflow-hidden md:mr-4 w-full md:max-w-[calc(100%-280px)]",children:t.jsx(o9e,{})}),!E&&t.jsxs("div",{className:"flex items-center gap-[10px] ",children:[t.jsxs(Ow,{to:ma,className:A(Od({variant:"outline"}),"text-white border-[1px] border-[#3D3D3D] px-[20px] py-[8px] h-[36px]"),children:[" ",s("common.logIn")]}),t.jsxs(Ow,{to:ma,className:A(Od({variant:"default"}),"text-[#1A1A1A]  bg-white  px-[20px] py-[8px] h-[36px]"),children:[" ",s("common.signUp")]})]}),E&&t.jsxs("div",{className:"flex items-center gap-2 justify-end flex-shrink-0 md:min-w-[180px]",children:[X&&t.jsx(p9e,{isMobile:w,hideOnCondition:Oe}),H()&&t.jsxs("div",{className:"flex items-center -space-x-[14px] max-md:hidden",children:[Ct&&St&&dt&&t.jsx("button",{title:"Add member",type:"button",className:A("w-9 h-9 bg-[#333333] border-[3px] border-[#1B1B1C] rounded-full flex items-center justify-center transition-colors",f?"z-[10001]":"z-50"),onClick:Ee,"data-tour":"add-member-button",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M11.0526 17.0526C11.0526 17.3039 11.1524 17.5449 11.3301 17.7225C11.5078 17.9002 11.7487 18 12 18C12.2513 18 12.4922 17.9002 12.6699 17.7225C12.8476 17.5449 12.9474 17.3039 12.9474 17.0526V13.9474C12.9474 13.3951 13.3951 12.9474 13.9474 12.9474H17.0526C17.3039 12.9474 17.5449 12.8476 17.7225 12.6699C17.9002 12.4922 18 12.2513 18 12C18 11.7487 17.9002 11.5078 17.7225 11.3301C17.5449 11.1524 17.3039 11.0526 17.0526 11.0526H13.9474C13.3951 11.0526 12.9474 10.6049 12.9474 10.0526V6.94737C12.9474 6.69611 12.8476 6.45514 12.6699 6.27748C12.4922 6.09981 12.2513 6 12 6C11.7487 6 11.5078 6.09981 11.3301 6.27748C11.1524 6.45514 11.0526 6.69611 11.0526 6.94737V10.0526C11.0526 10.6049 10.6049 11.0526 10.0526 11.0526H6.94737C6.69611 11.0526 6.45514 11.1524 6.27748 11.3301C6.09981 11.5078 6 11.7487 6 12C6 12.2513 6.09981 12.4922 6.27748 12.6699C6.45514 12.8476 6.69611 12.9474 6.94737 12.9474H10.0526C10.6049 12.9474 11.0526 13.3951 11.0526 13.9474V17.0526Z",fill:"white"})})}),(()=>{if(!Ct)return null;const Ft=Ct.filter(Ve=>Ve.user_id!==C?.id).slice(0,2),Fe=Ct.find(Ve=>Ve.user_id===C?.id);return(Fe?[...Ft,Fe]:Ft).map((Ve,Ke)=>t.jsx("div",{className:`w-9 h-9 rounded-full border-[3px] border-[#1B1B1C] overflow-hidden mr-[2px] z-${40-Ke*10}`,children:Ve.avatar_url?t.jsx("img",{src:Ve.avatar_url,alt:Ve.name||Ve.email,className:"object-cover w-full h-full"}):t.jsx("div",{className:"flex items-center justify-center w-full h-full",style:{backgroundColor:SM(Ve.user_id||"")},children:t.jsx("span",{className:"text-sm font-medium text-white",children:Ve.name?.charAt(0).toUpperCase()||Ve.email?.charAt(0).toUpperCase()||"U"})})},Ve.user_id||Ke))})()]}),(!U()||H())&&t.jsx(d9e,{showBuyButton:vt}),(vt||Oe&&q)&&!_e?t.jsxs("button",{type:"button",onClick:Me,title:s("sidebar.buyCredits"),style:_,className:A("relative flex h-8 justify-center items-center gap-1 rounded-full font-[600] text-[14px] text-[#0F0F10]",Oe&&w?"pl-[8px] pr-[8px] min-w-8":"pl-[8px] pr-[12px] gap-[4px]"),children:[Oe&&w&&t.jsx("span",{className:"tracking-[-0.2px]",children:s("sidebar.buy")}),t.jsx("img",{src:f8e,alt:"right arrow",className:"w-5 h-5"}),(!Oe||!w)&&t.jsx("span",{className:"tracking-[-0.2px]",children:s("sidebar.buyCredits")})]}):null,t.jsx(G9e,{className:A(Oe&&"max-md:hidden")}),U()&&!H()&&Ue?.show&&t.jsx(TO,{config:Ue,qrCodeUrl:Ue.qrTopnavUrl,align:"end",source:"topnav",children:ct=>t.jsx("button",{type:"button",title:"Get Mobile App",className:A("rounded-full h-8 w-8 flex items-center justify-center max-md:hidden transition-colors",ct?"bg-white":"bg-[#FFFFFF1A]"),children:t.jsx("img",{src:m8e,alt:"Phone Icon",className:A("w-5 h-5",!ct&&"invert")})})}),!H()&&t.jsx("button",{type:"button","data-testid":Rr.referral.giftIconButton,title:"Gift Icon",onClick:ge,className:A("relative bg-[#80FFF9]/10 rounded-full h-8 w-8 flex items-center justify-center",Oe&&"max-md:hidden"),children:t.jsx(ja,{})}),t.jsx("div",{className:"items-center justify-end hidden gap-4 md:flex",children:t.jsx(VU,{isLoggingOut:r,user:C,handleGitHubConfigClick:mt,handleLogout:lt,isGitHubConnected:I,isOpen:oe,onOpenChange:()=>{pe(!oe)},handleUniversalKeyClick:fe,openAccountSettingsModal:J,openLanguageBottomSheet:Ne,popoverClassName:"w-[300px] bg-[#131314] border-[#1f1f1f] mt-4 mb-2 -mr-[15px] p-0 rounded-[16px] shadow-md"})})]}),w&&Oe&&!_e&&t.jsx("div",{className:" right-2 min-h-[40px] min-w-[40px] ml-2",children:t.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("openMobileMenu")),className:"min-h-10 min-w-10 rounded-full flex items-center justify-center bg-[#FFFFFF0A] pb-0 focus:outline-none","aria-label":"Open menu",children:t.jsx(Sae,{className:"w-6 h-6"})})}),w&&_e&&t.jsx(Ws,{children:t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{title:"Open in new tab",type:"button",onClick:()=>{window.dispatchEvent(new CustomEvent("openShowcaseInNewTab"))},className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx("img",{src:W.panels.link,alt:"Open in new tab",className:"w-5 h-5"})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:s("common.openInNewTab")})]}),t.jsxs(tr,{delayDuration:100,children:[t.jsx(nr,{asChild:!0,children:t.jsx("button",{title:s("common.refresh"),type:"button",onClick:()=>{window.dispatchEvent(new CustomEvent("refreshShowcaseIframe"))},className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]",children:t.jsx(E2,{width:20,height:20,spinning:!1})})}),t.jsx(Xs,{side:"bottom",className:"bg-[#DDDDE6] text-black border-0",style:{fontFamily:"Inter",fontWeight:500},children:s("common.refresh")})]}),t.jsx("button",{title:"Show info",type:"button",onClick:()=>window.dispatchEvent(new CustomEvent("openMobileMenu")),className:"w-8 h-8 border-[1.48px] border-[#FFFFFF1F] bg-[#FFFFFF0A] hover:bg-[#FFFFFF14] flex items-center justify-center rounded-[6px]","aria-label":"Show info",children:t.jsx(Q9,{className:"w-5 h-5 text-[#737380]"})})]})})]})]}),!e&&V&&t.jsx("div",{className:"h-[70px] flex-shrink-0"}),t.jsx(a9e,{}),t.jsx(zn,{open:re&&we,onOpenChange:ve,children:t.jsx(Us,{children:t.jsx(ch,{isOpen:re,onClose:()=>ve(!1),onConfirm:we?.onConfirm,title:we?.title,description:we?.description,confirmButton:we?.confirmButton,cancelButton:we?.cancelButton})})}),t.jsx(BU,{open:N,onOpenChange:j}),t.jsx(p8e,{isOpen:u,onOpenChange:p,onProjectCreated:ae,onLearnMore:me})]})})}function x8e({description:e,error:n,steps:s=[]}){return t.jsxs("div",{className:"w-full",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:e}),n&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-destructive",children:[t.jsx(jae,{className:"h-4 w-4"}),t.jsx("span",{children:n})]})]}),s.length>0&&t.jsx("div",{className:"mb-4 space-y-2",children:s.map((r,i)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.status==="completed"?t.jsx(Cae,{className:"h-4 w-4 text-green-500"}):r.status==="in_progress"?t.jsx(Jo,{className:"h-4 w-4 text-blue-500 animate-pulse"}):t.jsx(cR,{className:"h-4 w-4 text-gray-300"}),t.jsx("span",{className:r.status==="completed"?"text-green-500":r.status==="in_progress"?"text-blue-500":"text-gray-400",children:r.name})]},i))})]})}function g8e(){const{toast:e}=ds(),n=Vr(s=>s.progress);return d.useEffect(()=>{n.isVisible&&e({title:n.title,description:t.jsx(x8e,{title:n.title,description:n.description,progress:n.progress,error:n.error,steps:n.steps,currentStep:n.currentStep}),duration:n.error?1/0:n.progress===100?3e3:1/0})},[n.isVisible,n.progress,n.title,n.description,n.error,n.steps,n.currentStep]),null}const lk=[W.gifting.carouselImage1,W.gifting.carouselImage2,W.gifting.carouselImage3,W.gifting.carouselImage4,W.gifting.carouselImage5],q8=({isOpen:e,onOpenChange:n,recipientName:s="John",recipientEmail:r="johndoewho@gmail.com",senderEmail:i="nagar@emergent.sh",selectedCardIndex:a=3,onClose:o,onSendAnother:l})=>{const c=TR(),u=lk[a]??lk[3],p=()=>{z("gifting_success_modal_closed",{recipientName:s,recipientEmail:r}),o?.(),n(!1)},f=()=>{z("gifting_success_send_another_clicked",{recipientName:s,recipientEmail:r}),n(!1),l?.(),c.open()},m=h=>{h?n(h):p()};return t.jsx(Lg,{open:e,onOpenChange:m,children:t.jsxs(Bm,{children:[t.jsx(Fp,{className:"fixed inset-0 z-[999] bg-[rgba(15,15,16,0.6)] backdrop-blur-[6px]"}),t.jsxs(Ep,{className:"fixed left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%] z-[999] max-w-[calc(100vw-24px)] w-full md:max-w-[700px] h-[550px] md:h-[700px] bg-[rgba(28,28,31,1)] rounded-[16px] shadow-2xl overflow-hidden border border-[rgba(36,36,36,1)] focus-visible:outline-none",children:[t.jsx("button",{onClick:p,className:"absolute top-[16px] right-[16px] md:top-[22px] md:right-[22px] w-8 h-8 md:w-9 md:h-9 flex items-center justify-center bg-[rgba(255,255,255,0.04)] hover:bg-white/10 rounded-full transition-colors z-20",title:"Close",children:t.jsx(Pt,{className:"w-5 h-5 md:w-[22px] md:h-[22px] text-white"})}),t.jsx(xe.div,{className:"w-full h-full flex justify-center items-center py-8 md:py-0",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.2,ease:"easeOut"},children:t.jsxs("div",{className:"relative max-w-[400px] px-4 md:px-0",children:[t.jsx("div",{className:"mb-4 md:mb-6 flex justify-center h-[200px] md:h-[272px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:u,alt:"",className:"absolute left-1/2 -translate-x-1/2 bottom-[0px] w-[80%] rounded-[20px] opacity-50 blur-[25px]"}),t.jsx("img",{src:u,alt:"Gift card",className:"relative z-10 rounded-[16px] md:rounded-[23px] rotate-[-2deg] hover:rotate-0 hover:scale-[105%] transition-all duration-200 max-w-[290px] max-h-[176px] md:max-w-[380px] md:max-h-[300px] md:translate-y-[-15px]"})]})}),t.jsx("div",{className:"relative text-center mb-3 md:mb-4",children:t.jsx("h1",{className:"text-[24px] md:text-[30px] font-medium leading-[32px] md:leading-[40px] bg-clip-text text-transparent",style:{backgroundImage:`url(${W.gifting.bgWeb})`,backgroundSize:"cover",backgroundPosition:"center"},children:"Your gift's on the way"})}),t.jsxs("p",{className:"relative text-center text-[14px] text-white/60 font-medium leading-[18px] md:leading-[24px] mb-6 md:mb-[40px] font-[Inter]",children:["Weve emailed ",t.jsxs("span",{className:"text-white",children:[s,"'s"]})," gift to"," ",t.jsx("span",{className:"text-white",children:r}),". ",t.jsx("br",{})," Theyll receive a code to redeem the gift."]}),t.jsxs("div",{className:"relative flex flex-col sm:flex-row items-center justify-center gap-3 md:gap-4",children:[t.jsx("button",{onClick:f,className:"w-full sm:w-auto px-6 py-2.5 md:py-2 bg-white text-black font-semibold rounded-[10px] text-[14px] md:text-[16px] transition-all duration-200 border-none shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:shadow-[0_0_25px_rgba(255,255,255,0.3)]",children:"Send another gift"}),t.jsx("button",{onClick:p,className:"w-full sm:w-auto px-6 py-2.5 md:py-2 bg-[rgba(28,28,31,1)] hover:bg-[rgba(44,44,48,0.74)] text-white opacity-60 font-medium rounded-[10px] text-[14px] md:text-[16px] transition-colors border border-[rgba(255,255,255,0.12)]",children:"Done"})]})]})})]})]})})};q8.displayName="GiftingSuccessModal";const b8e=Object.freeze(Object.defineProperty({__proto__:null,GiftingSuccessModal:q8},Symbol.toStringTag,{value:"Module"}));function y8e(){const[e,n]=d.useState(!1),[s,r]=d.useState(!1),[i,a]=d.useState(!1),[o,l]=d.useState(null),[c,u]=d.useState(null),[p,f]=d.useState(null),[m,h]=d.useState(null),[x,y]=d.useState(null),[v,g]=d.useState(null),b=wi(),w=d.useRef(!1);return d.useEffect(()=>{if(w.current)return;const N=new URLSearchParams(b.search),j=N.get("payment_status"),_=N.get("subscription_status"),C=N.get("payment_id"),F=N.get("plan_name"),E=N.get("mode");let S=N.get("organization_id");const M=b.pathname.match(/\/workspace\/(org_[a-f0-9-]+)/i);if(M&&M[1]){const B=M[1];(!S||S.length<B.length&&B.startsWith(S.replace(/-/g,"")?.slice(0,10)||""))&&(S=B)}const k=N.get("plan_id"),I=N.get("is_subscription"),D=j||_,P=localStorage.getItem("giftingDetails");let R="payment";if(P?R="gift":(_||k||I==="true"||E==="subscription")&&(R="subscription"),D&&C&&(D==="success"||D==="cancelled"||D==="failed"||D==="expired")){if(u(D),l(C),h(S),y(F),R==="gift"){if(f("gift"),P)try{const U=JSON.parse(P);g(U),localStorage.removeItem("giftingDetails")}catch{}n(!0)}else R==="subscription"?(f("subscription"),r(!0)):(f("payment"),n(!0));w.current=!0;const B=window.location.pathname;window.history.replaceState({},document.title,B)}},[b.search]),{isPaymentModalOpen:e,setPaymentModalOpen:n,isSubscriptionModalOpen:s,setSubscriptionModalOpen:r,isGiftingSuccessModalOpen:i,setGiftingSuccessModalOpen:a,paymentId:o,paymentStatus:c,paymentType:p,organizationId:m,planName:x,giftingDetails:v}}const v8e=()=>{if(document.querySelector('meta[name="google"]'))return;const n=document.createElement("meta");n.name="google",n.content="notranslate",document.head.appendChild(n)},w8e=()=>{document.body.classList.add("notranslate")},C8e=()=>{v8e(),w8e()},_8e=wT,qU=d.forwardRef(({className:e,...n},s)=>t.jsx(pv,{ref:s,className:A("fixed top-0 z-[99999] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:left-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));qU.displayName=pv.displayName;const j8e=u2("group pointer-events-auto relative flex w-full z-[9999] items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-left-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KU=d.forwardRef(({className:e,variant:n,...s},r)=>t.jsx(fv,{ref:r,className:A(j8e({variant:n}),e),...s}));KU.displayName=fv.displayName;const N8e=d.forwardRef(({className:e,...n},s)=>t.jsx(MT,{ref:s,className:A("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...n}));N8e.displayName=MT.displayName;const YU=d.forwardRef(({className:e,...n},s)=>t.jsx(hv,{ref:s,className:A("absolute right-4 top-4 rounded-md p-0 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:t.jsx(Pt,{className:"w-5 h-5"})}));YU.displayName=hv.displayName;const ZU=d.forwardRef(({className:e,...n},s)=>t.jsx(LT,{ref:s,className:A("text-sm font-semibold",e),...n}));ZU.displayName=LT.displayName;const JU=d.forwardRef(({className:e,...n},s)=>t.jsx(mv,{ref:s,className:A("text-sm opacity-90",e),...n}));JU.displayName=mv.displayName;function F8e(){const{toasts:e}=ds();return t.jsxs(_8e,{children:[e.map(function({id:n,title:s,description:r,action:i,...a}){return t.jsxs(KU,{...a,children:[t.jsxs("div",{className:"grid gap-1",children:[s&&t.jsx(ZU,{children:s}),r&&t.jsx(JU,{children:r})]}),i,t.jsx(YU,{})]},n)}),t.jsx(qU,{})]})}function E8e(){const e=d.useCallback((u,p)=>{try{window.localStorage.setItem(u,JSON.stringify(p))}catch{}},[]),n=d.useCallback((u,p)=>{try{const f=window.localStorage.getItem(u);return f?JSON.parse(f):p||null}catch{return p||null}},[]),s=d.useCallback(u=>{try{window.localStorage.removeItem(u)}catch{}},[]),r=d.useCallback(u=>{u.forEach(p=>s(p))},[s]),i=d.useCallback(()=>{try{Uv()}catch{window.localStorage.clear()}},[]),a=d.useCallback(u=>{try{return window.localStorage.getItem(u)!==null}catch{return!1}},[]),o=d.useCallback(()=>{try{return Object.keys(window.localStorage)}catch{return[]}},[]),l=d.useCallback(u=>{try{const p={};return o().forEach(m=>{m.startsWith(u)&&(p[m]=n(m))}),p}catch{return{}}},[o,n]),c=d.useCallback(u=>{try{o().forEach(f=>{f.startsWith(u)&&s(f)})}catch{}},[o,s]);return{setItem:e,getItem:n,removeItem:s,removeItems:r,clearAll:i,hasItem:a,getAllKeys:o,getItemsByPrefix:l,removeItemsByPrefix:c}}function XU(){const{removeItems:e,getItem:n,hasItem:s}=E8e(),r=d.useCallback(()=>{e(["pending_referral_code","referral_applied","referral_modal_data"])},[e]),i=d.useCallback(()=>s("pending_referral_code")||s("referral_applied")||s("referral_modal_data"),[s]),a=d.useCallback(()=>({pendingReferralCode:n("pending_referral_code"),referralApplied:n("referral_applied"),referralModalData:n("referral_modal_data")}),[n]),o=d.useCallback(()=>{const c=n("referral_modal_data");if(!c||!c.shouldShow)return null;const u=1440*60*1e3;return Date.now()-c.timestamp>u?(e(["referral_modal_data"]),null):c},[n,e]),l=d.useCallback(()=>{e(["referral_modal_data"])},[e]);return{clearReferralData:r,hasReferralData:i,getReferralData:a,getReferralModalData:o,clearReferralModalData:l}}const S8e=W.referral.credited;function k8e({isOpen:e,onOpenChange:n,reward:s=5}){const{refreshCredits:r}=cs(),{clearReferralData:i}=XU();d.useEffect(()=>{r()},[e]);const a=()=>{i(),n(!1)},o={background:`
      linear-gradient(180deg, rgba(255, 255, 255, 1), rgba(0, 0, 0, 1)),
      rgba(243, 202, 95, 1)
    `,backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:"overlay, normal",WebkitBackgroundClip:"text",backgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent"};return t.jsx(zn,{open:e,onOpenChange:a,children:t.jsxs(dr,{className:"max-w-[95%]  md:max-w-[600px] bg-[#1C1C1F] text-white border-[#2E2F34] p-6 md:p-12",children:[t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",title:"Close",onClick:a,className:"text-gray-400 hover:text-white",children:t.jsx(Pt,{size:24})})}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[t.jsx("img",{src:S8e,alt:"Credited",className:"w-20 h-20 max-md:w-12 max-md:h-12"}),t.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 mb-[3rem] max-md:mb-[1rem]",children:[t.jsxs("h3",{className:"text-[20px] md:text-[32px] text-center font-medium text-white",children:["You have earned ",t.jsx("br",{})," ",t.jsxs("span",{className:"",style:o,children:[s," credits"]})]}),t.jsx("p",{className:"text-[14px] md:text-[16px] text-[#737780]",children:"Thanks to the user that referred you."})]}),t.jsx(v2,{onClick:a,className:"w-full h-[45px]  md:h-full max-w-[200px] text-nowrap  md:max-w-[250px] mx-auto",type:"button",variant:"light",children:"Start Building"})]})]})})}const hb="pending_referral_code",xb="referral_applied";class QU{static storePendingReferralCode(n,s="url"){if(!n||typeof n!="string")return;const r={code:n.trim(),timestamp:Date.now(),source:s};try{localStorage.setItem(hb,JSON.stringify(r))}catch{}}static getPendingReferralCode(){try{const n=localStorage.getItem(hb);if(!n)return null;const s=JSON.parse(n),r=1440*60*1e3;return Date.now()-s.timestamp>r?(this.clearPendingReferralCode(),null):s}catch{return this.clearPendingReferralCode(),null}}static clearPendingReferralCode(){try{localStorage.removeItem(hb)}catch{}}static markReferralAsApplied(n,s){try{const r={code:n,timestamp:Date.now(),reward:s||5};localStorage.setItem(xb,JSON.stringify(r))}catch{}}static wasReferralRecentlyApplied(){try{const n=localStorage.getItem(xb);if(!n)return{applied:!1};const s=JSON.parse(n),r=300*1e3;return Date.now()-s.timestamp<=r?{applied:!0,code:s.code,reward:s.reward||5}:(this.clearAppliedReferralData(),{applied:!1})}catch{return this.clearAppliedReferralData(),{applied:!1}}}static clearAppliedReferralData(){try{localStorage.removeItem(xb)}catch{}}static extractReferralCodeFromUrl(n=window.location.href){try{const s=new URL(n);return s.searchParams.get("referral")||s.searchParams.get("ref")}catch{return null}}static cleanUrlParameters(){try{const n=new URL(window.location.href);(n.searchParams.has("referral")||n.searchParams.has("ref"))&&(n.searchParams.delete("referral"),n.searchParams.delete("ref"),window.history.replaceState({},document.title,n.toString()))}catch{}}static initializeReferralHandling(){const n=this.extractReferralCodeFromUrl();n?(this.storePendingReferralCode(n,"url"),this.cleanUrlParameters()):this.getPendingReferralCode()}static getReferralShareUrl(n,s=window.location.origin){if(!n)return s;try{const r=new URL(s);return r.searchParams.set("ref",n),r.toString()}catch{return`${s}?ref=${encodeURIComponent(n)}`}}}const{storePendingReferralCode:jEe,getPendingReferralCode:NEe,clearPendingReferralCode:FEe,markReferralAsApplied:EEe,wasReferralRecentlyApplied:SEe,clearAppliedReferralData:kEe,extractReferralCodeFromUrl:TEe,cleanUrlParameters:IEe,initializeReferralHandling:AEe,getReferralShareUrl:DEe}=QU,Fu=W.fork.matrixCode,T8e=()=>{const{t:e}=Jt("teams"),[n,s]=d.useState(!1),[r,i]=d.useState("");d.useEffect(()=>m9.subscribe((c,u)=>{s(c),i(u||"")}),[]);const a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:0,scale:1},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}}};return n?t.jsxs("div",{className:"fixed inset-0 z-[9999] bg-[#0E0E0F] flex items-center justify-center min-h-screen",children:[t.jsxs("div",{className:"absolute inset-0 grid w-full h-full grid-cols-3 pointer-events-none z-[1] opacity-[0.15] overflow-hidden",children:[t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full"}),t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"}),t.jsx("img",{src:Fu,alt:"Matrix Code",className:"object-cover w-full h-full rotate-180"})]}),t.jsx("div",{className:"absolute inset-0 bg-[#80fff908] z-[2]"}),t.jsx(xe.div,{variants:a,initial:"hidden",animate:"visible",className:"relative z-[15] flex items-center justify-center",children:t.jsx(xe.div,{variants:o,children:t.jsx("div",{className:"p-3 border border-[#80fff908] rounded-[24px]",children:t.jsx("div",{className:"p-3 border border-[#80fff90d] rounded-[20px]",children:t.jsx("div",{className:"p-[9px] border border-[#80fff91a] rounded-[14px]",children:t.jsxs("div",{className:"flex items-center bg-[radial-gradient(50%_50%_at_50%_50%,rgba(128,255,249,0.15)_0%,rgba(128,255,249,0.08)_100%)] backdrop-blur-xl border border-gray-700/50 rounded-[12px] px-6 py-4 shadow-2xl",children:[t.jsx("div",{className:"w-6 h-6 object-contain",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M14.25 21V18.75H17.175L13.6031 15.1781L15.2063 13.575L18.75 17.1188V14.25H21V21H14.25ZM4.575 21L3 19.425L17.175 5.25H14.25V3H21V9.75H18.75V6.825L4.575 21ZM8.82188 10.3969L3 4.575L4.575 3L10.3969 8.82188L8.82188 10.3969Z",fill:"#80FFF9"})})}),t.jsx("p",{className:"ml-3 text-[#80FFF9] [text-shadow:0_0_30px_rgba(128,255,249,0.60)] max-md:text-[16px] md:text-[20px] font-medium leading-6 tracking-tight font-brockmann",children:r||e("teams.switchingWorkspace")})]})})})})})})]}):null};function I8e(){const{t:e}=Jt("teams"),[n]=Sp(),s=Na();return d.useEffect(()=>{const r=n.get("invitation_id"),i=n.get("email");if(!r||!i){s("/");return}const a={invitation_id:r,email:decodeURIComponent(i),timestamp:Date.now()};try{localStorage.setItem("pending_invitation",JSON.stringify(a)),s(ma)}catch{s("/")}},[n,s]),t.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:t.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[t.jsx(Td,{className:"mx-auto"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e("teams.invitation.processing")})]})})}const A8e=d.lazy(()=>bn(()=>Promise.resolve().then(()=>Lde),void 0).then(e=>({default:e.UpgradeTierModal}))),D8e=d.lazy(()=>bn(()=>Promise.resolve().then(()=>epe),void 0).then(e=>({default:e.CreateWorkspaceModal}))),M8e=d.lazy(()=>bn(()=>import("./chunks/index.tsx-DzOEERo9.js"),__vite__mapDeps([37,2,3,38,39,9,10,4,5,6,7,8,11,12,40,41])).then(e=>({default:e.AccountSettingsModal}))),L8e=d.lazy(()=>bn(()=>Promise.resolve().then(()=>oue),void 0).then(e=>({default:e.BuyCreditsModal}))),R8e=d.lazy(()=>bn(()=>import("./chunks/TeamWorkspaceModal.tsx-BhdbyAZT.js"),__vite__mapDeps([42,2,3,39,43,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.TeamWorkspaceModal}))),P8e=d.lazy(()=>bn(()=>Promise.resolve().then(()=>C9e),void 0).then(e=>({default:e.PendingInvitationModal}))),O8e=d.lazy(()=>bn(()=>import("./chunks/OneMillionModal.tsx-C9JoazHd.js"),__vite__mapDeps([44,2,3,7,10,4,5,6,8,9,11,12])).then(e=>({default:e.OneMillionIntroduction}))),B8e=d.lazy(()=>bn(()=>import("./chunks/JobIDModal.tsx-CxeQhpb7.js"),__vite__mapDeps([45,2,3,4,5,6,7,8,9,10,11,12]))),U8e=d.lazy(()=>bn(()=>import("./chunks/ReferralModal.tsx-BwFWiNpn.js"),__vite__mapDeps([46,2,3,47,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.ReferralModal}))),V8e=d.lazy(()=>bn(()=>import("./chunks/TeamIntroduction.tsx-CGPiphD1.js"),__vite__mapDeps([48,2,3,43,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.TeamIntroduction}))),H8e=d.lazy(()=>bn(()=>import("./chunks/DataDetailsModal.tsx-CNpt-By6.js"),__vite__mapDeps([49,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.DataDetailsModal}))),$8e=d.lazy(()=>bn(()=>import("./chunks/UltraThinkingModal.tsx-DwQyXAS1.js"),__vite__mapDeps([50,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.UltraThinkingIntroduction}))),z8e=d.lazy(()=>bn(()=>import("./chunks/NewMCPServerModal.tsx-DBfXiTvd.js"),__vite__mapDeps([51,2,3,7,4,5,10,6,8,9,11,12,52])).then(e=>({default:e.NewMCPServerModal}))),W8e=d.lazy(()=>bn(()=>import("./chunks/MCPToolsModal.tsx-CV8zeZgT.js"),__vite__mapDeps([53,2,3,7,4,5,6,8,9,10,11,12])).then(e=>({default:e.MCPToolsModal}))),G8e=d.lazy(()=>bn(()=>import("./chunks/AddMemberModal.tsx-DK8Zyri1.js"),__vite__mapDeps([38,2,3,39,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.AddMemberModal}))),q8e=d.lazy(()=>bn(()=>import("./chunks/MCPIntroductionModal.tsx-COIbzvse.js"),__vite__mapDeps([54,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.MCPIntroductionModal}))),K8e=d.lazy(()=>bn(()=>import("./chunks/BroModeIntroductionModal.tsx-MHvKlPUZ.js"),__vite__mapDeps([55,2,3,7,10,4,5,6,8,9,11,12])).then(e=>({default:e.BroModeIntroductionModal}))),Y8e=d.lazy(()=>bn(()=>import("./chunks/DailyCreditModal.tsx-CbDduiXg.js"),__vite__mapDeps([56,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.DailyCreditModal}))),Z8e=d.lazy(()=>bn(()=>import("./chunks/ShareModal.tsx-B_g28rUA.js"),__vite__mapDeps([57,2,3,58,47,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.ShareModal}))),J8e=d.lazy(()=>bn(()=>import("./chunks/FundingIntroduction.tsx-DFiuLQH8.js"),__vite__mapDeps([59,2,3,60,43,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.FundingIntroduction}))),X8e=d.lazy(()=>bn(()=>import("./chunks/ProModal.tsx-D9yyy_I4.js"),__vite__mapDeps([61,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.ProModal}))),Q8e=d.lazy(()=>bn(()=>import("./chunks/LockinPriceModal.tsx-CdJvdQml.js"),__vite__mapDeps([62,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.LockinPriceModal}))),ewe=d.lazy(()=>bn(()=>import("./chunks/TestModeModal.tsx-T9PWKrz6.js"),__vite__mapDeps([63,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.TestModeModal}))),twe=d.lazy(()=>bn(()=>import("./chunks/AllWorkspacesModal.tsx-zuzL3JeD.js"),__vite__mapDeps([64,2,3,40,9,10,4,5,6,7,8,11,12])).then(e=>({default:e.AllWorkspacesModal}))),nwe=d.lazy(()=>bn(()=>import("./chunks/BetaThankYouModal.tsx-FCz_c6OY.js"),__vite__mapDeps([65,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.BetaThankYouModal}))),swe=d.lazy(()=>bn(()=>import("./chunks/PromotionalModalManager.tsx-CWjtJsyW.js"),__vite__mapDeps([66,2,3,60,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.PromotionalModalManager}))),ck=d.lazy(()=>bn(()=>import("./chunks/FreeWeekendModal.tsx-CohXkI5E.js"),__vite__mapDeps([67,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.FreeWeekendModal}))),rwe=d.lazy(()=>bn(()=>Promise.resolve().then(()=>Yce),void 0).then(e=>({default:e.PixModal}))),iwe=d.lazy(()=>bn(()=>import("./chunks/DeploymentSuccessModal.tsx-CuXLJGSD.js"),__vite__mapDeps([68,2,3,58,47,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.DeploymentSuccessModal}))),awe=d.lazy(()=>bn(()=>import("./chunks/OpusIntroduction.tsx-B_0fvfW_.js"),__vite__mapDeps([69,2,3,10,4,5,6,7,8,9,11,12])).then(e=>({default:e.OpusIntroduction}))),owe=d.lazy(()=>bn(()=>Promise.resolve().then(()=>b8e),void 0).then(e=>({default:e.GiftingSuccessModal}))),lwe=d.lazy(()=>bn(()=>import("./chunks/GiftingModal.tsx-BTTl_Jhg.js"),__vite__mapDeps([70,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.GiftingModal}))),cwe=d.lazy(()=>bn(()=>import("./chunks/DnsDetailsModal.tsx-BEB4QCKc.js"),__vite__mapDeps([71,2,3,4,5,6,7,8,9,10,11,12])).then(e=>({default:e.DnsDetailsModal}))),dwe=d.lazy(()=>bn(()=>import("./chunks/RepositorySelectorModal.tsx-B8lLE_HL.js"),__vite__mapDeps([72,2,3,9,4,5,6,7,8,10,11,12])).then(e=>({default:e.RepositorySelectorModal}))),uwe=d.lazy(()=>bn(()=>import("./chunks/PublishMoltbotModal.tsx-Bj-zbanZ.js"),__vite__mapDeps([73,2,3,41,4,5,6,7,8,9,10,11,12]))),pwe=d.lazy(()=>bn(()=>import("./chunks/MoltbotPublishedModal.tsx-BL8EbPSb.js"),__vite__mapDeps([74,2,3,4,5,6,7,8,9,10,11,12]))),fwe=()=>null;function mwe(){const{activeModals:e,closeModal:n,openModal:s}=Ds();return t.jsx(d.Suspense,{fallback:t.jsx(fwe,{}),children:Array.from(e.entries()).map(([r,i])=>{switch(i.type){case"upgrade-tier":return t.jsx(A8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},triggerLocation:i.triggerLocation,shouldShowModelSelectorTooltipAfterClose:i.shouldShowModelSelectorTooltipAfterClose,organizationId:i.organizationId,organizationName:i.organizationName,planType:i.planType||"personal",onReturnFlow:i.onReturnFlow},r);case"one-million":return t.jsx(O8e,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"create-workspace":return t.jsx(D8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},onWorkspaceCreated:(o,l)=>{i.onWorkspaceCreated?.(o,l),n(r)},onCloseMenu:i.onCloseMenu},r);case"referral":return t.jsx(U8e,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"account-settings":return t.jsx(M8e,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),initialTab:i.initialTab},r);case"buy-credits":const a=i;return t.jsx(L8e,{isOpen:!0,location:a.location,onOpenChange:o=>{o||n(r)}},r);case"team-workspace":return t.jsx(R8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},organizationId:i.organizationId,organizationName:i.organizationName,paymentId:i.paymentId,initialStatus:i.initialStatus,mode:i.mode,onCloseMenu:i.onCloseMenu,backendEnabled:i.backendEnabled},r);case"pending-invitation":return t.jsx(P8e,{open:!0,onOpenChange:o=>{o||n(r)},invitation:i.invitation,onAccept:()=>{i.onAccept?.(),n(r)},onDecline:()=>{i.onDecline?.(),n(r)}},r);case"job-id":return t.jsx(B8e,{isJobIdDialogOpen:!0,setIsJobIdDialogOpen:o=>{o||n(r)},jobIdInput:i.jobIdInput,setJobIdInput:i.setJobIdInput,handleJobClick:i.handleJobClick},r);case"team-introduction":return t.jsx(V8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},onGetStarted:i.onGetStarted},r);case"data-details":return t.jsx(H8e,{isOpen:!0,onClose:()=>n(r),type:i.modalType,data:i.data},r);case"ultra-thinking":return t.jsx($8e,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"new-mcp-server":return t.jsx(z8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},onServerAdded:i.onServerAdded,organizationId:i.organizationId,editMode:i.editMode,serverData:i.serverData,triggerLocation:i.triggerLocation,onClose:i.onClose,reopenAccountSettings:i.reopenAccountSettings},r);case"mcp-tools":return t.jsx(W8e,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"add-member":return t.jsx(G8e,{open:!0,onOpenChange:o=>{o||n(r)},organizationId:i.organizationId},r);case"mcp-introduction":return t.jsx(q8e,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal},r);case"daily-credit":return t.jsx(Y8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},pusherData:i.pusherData||{}},r);case"share-preview":return t.jsx(Z8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},shareableLink:i.shareableLink,fromShowcase:i.fromShowcase,previewUrl:i.previewUrl,isExpoApp:i.isExpoApp},r);case"funding-introduction":return t.jsx(J8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},onGetStarted:i.onGetStarted},r);case"pro":return t.jsx(X8e,{isOpen:!0,onOpenChange:o=>{o||n(r)},shouldShowThankYou:i.shouldShowThankYou,isBookedUserFlow:i.isBookedUserFlow},r);case"bro-mode-introduction":return t.jsx(K8e,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onTryBroMode:i.onTryBroMode},r);case"lockin-price":return t.jsx(Q8e,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"test-mode":return t.jsx(ewe,{open:!0,onOpenChange:o=>{o||n(r)},isPro:i.isPro},r);case"all-workspaces":return t.jsx(twe,{open:!0,onOpenChange:o=>{o||n(r)},organizations:i.organizations,currentWorkspace:i.currentWorkspace,onWorkspaceSelect:i.onWorkspaceSelect},r);case"beta-thank-you":return t.jsx(nwe,{isOpen:!0,onOpenChange:o=>{o||n(r)}},r);case"free-weekend-turkey":return t.jsx(ck,{isOpen:!0,onOpenChange:o=>{o||n(r)},country:"turkey",desktopImageUrl:i.desktopImageUrl,mobileImageUrl:i.mobileImageUrl,couponCode:i.couponCode,triggerLocation:"home"},r);case"free-weekend-canada":return t.jsx(ck,{isOpen:!0,onOpenChange:o=>{o||n(r)},country:"canada",desktopImageUrl:i.desktopImageUrl,mobileImageUrl:i.mobileImageUrl,couponCode:i.couponCode,triggerLocation:"home"},r);case"promotional":return t.jsx(swe,{schema:i.schema,isOpen:!0,onOpenChange:o=>{o||n(r)},skipShowOnceCheck:i.skipShowOnceCheck,skipDelay:i.skipDelay},r);case"opus-introduction":return t.jsx(awe,{open:!0,onOpenChange:o=>{o||n(r)},onClose:()=>n(r),onGetStarted:i.onGetStarted,onShowUpgradeModal:i.onShowUpgradeModal,onPreventOtherModals:i.onPreventOtherModals},r);case"pix":return t.jsx(rwe,{isOpen:!0,onOpenChange:o=>{o||n(r)},desktopImageUrl:i.desktopImageUrl||W.modals.pixDesktop,mobileImageUrl:i.mobileImageUrl||W.modals.pixMobile,couponCode:i.couponCode||"PIX90",triggerLocation:i.triggerLocation||"home"},r);case"deployment-success":return t.jsx(iwe,{isOpen:!0,onOpenChange:o=>{o||n(r)},deployUrl:i.deployUrl,customDomain:i.customDomain,onClose:i.onClose,onLinkCustomDomain:i.onLinkCustomDomain,isExpoApp:i.isExpoApp,mobileUrl:i.mobileUrl,previewUrl:i.previewUrl},r);case"gifting-success":return t.jsx(owe,{isOpen:!0,onOpenChange:o=>{o||n(r)},recipientName:i.recipientName,recipientEmail:i.recipientEmail,senderEmail:i.senderEmail,onClose:i.onClose,onSendAnother:i.onSendAnother},r);case"gifting":return t.jsx(lwe,{isOpen:!0,onOpenChange:o=>{o||n(r)},onClose:i.onClose},r);case"dns-details":return t.jsx(cwe,{isOpen:!0,onClose:()=>{i.onClose?.(),n(r)},onAutoLink:()=>{i.onAutoLink?.(),n(r)},domain:i.domain,jobId:i.jobId,data:i.data},r);case"repository-selector":{const o=l=>{l||(i.onClose?.(),n(r))};return t.jsx(dwe,{isOpen:!0,onOpenChange:o,githubUrl:i.githubUrl,branchName:i.branchName,onGithubUrlChange:i.onGithubUrlChange,onBranchNameChange:i.onBranchNameChange},r)}case"publish-moltbot":return t.jsx(uwe,{isOpen:!0,onOpenChange:o=>{o||n(r)},jobId:i.jobId,source:i.source,onPublishSuccess:()=>{i.onPublishSuccess?.(),n(r),s({type:"moltbot-published",previewUrl:i.previewUrl||""})}},r);case"moltbot-published":return t.jsx(pwe,{isOpen:!0,onOpenChange:o=>{o||n(r)},previewUrl:i.previewUrl},r);default:return null}})})}var gb={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var dk;function hwe(){return dk||(dk=1,(function(e,n){(function(r,i){e.exports=i()})(window,function(){return(function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:l})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(o&1&&(a=i(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var c in a)i.d(l,c,function(u){return a[u]}.bind(null,c));return l},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=2)})([(function(s,r,i){var a=this&&this.__extends||(function(){var y=function(v,g){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var N in w)w.hasOwnProperty(N)&&(b[N]=w[N])},y(v,g)};return function(v,g){y(v,g);function b(){this.constructor=v}v.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=256,l=(function(){function y(v){v===void 0&&(v="="),this._paddingCharacter=v}return y.prototype.encodedLength=function(v){return this._paddingCharacter?(v+2)/3*4|0:(v*8+5)/6|0},y.prototype.encode=function(v){for(var g="",b=0;b<v.length-2;b+=3){var w=v[b]<<16|v[b+1]<<8|v[b+2];g+=this._encodeByte(w>>>18&63),g+=this._encodeByte(w>>>12&63),g+=this._encodeByte(w>>>6&63),g+=this._encodeByte(w>>>0&63)}var N=v.length-b;if(N>0){var w=v[b]<<16|(N===2?v[b+1]<<8:0);g+=this._encodeByte(w>>>18&63),g+=this._encodeByte(w>>>12&63),N===2?g+=this._encodeByte(w>>>6&63):g+=this._paddingCharacter||"",g+=this._paddingCharacter||""}return g},y.prototype.maxDecodedLength=function(v){return this._paddingCharacter?v/4*3|0:(v*6+7)/8|0},y.prototype.decodedLength=function(v){return this.maxDecodedLength(v.length-this._getPaddingLength(v))},y.prototype.decode=function(v){if(v.length===0)return new Uint8Array(0);for(var g=this._getPaddingLength(v),b=v.length-g,w=new Uint8Array(this.maxDecodedLength(b)),N=0,j=0,_=0,C=0,F=0,E=0,S=0;j<b-4;j+=4)C=this._decodeChar(v.charCodeAt(j+0)),F=this._decodeChar(v.charCodeAt(j+1)),E=this._decodeChar(v.charCodeAt(j+2)),S=this._decodeChar(v.charCodeAt(j+3)),w[N++]=C<<2|F>>>4,w[N++]=F<<4|E>>>2,w[N++]=E<<6|S,_|=C&o,_|=F&o,_|=E&o,_|=S&o;if(j<b-1&&(C=this._decodeChar(v.charCodeAt(j)),F=this._decodeChar(v.charCodeAt(j+1)),w[N++]=C<<2|F>>>4,_|=C&o,_|=F&o),j<b-2&&(E=this._decodeChar(v.charCodeAt(j+2)),w[N++]=F<<4|E>>>2,_|=E&o),j<b-3&&(S=this._decodeChar(v.charCodeAt(j+3)),w[N++]=E<<6|S,_|=S&o),_!==0)throw new Error("Base64Coder: incorrect characters for decoding");return w},y.prototype._encodeByte=function(v){var g=v;return g+=65,g+=25-v>>>8&6,g+=51-v>>>8&-75,g+=61-v>>>8&-15,g+=62-v>>>8&3,String.fromCharCode(g)},y.prototype._decodeChar=function(v){var g=o;return g+=(42-v&v-44)>>>8&-o+v-43+62,g+=(46-v&v-48)>>>8&-o+v-47+63,g+=(47-v&v-58)>>>8&-o+v-48+52,g+=(64-v&v-91)>>>8&-o+v-65+0,g+=(96-v&v-123)>>>8&-o+v-97+26,g},y.prototype._getPaddingLength=function(v){var g=0;if(this._paddingCharacter){for(var b=v.length-1;b>=0&&v[b]===this._paddingCharacter;b--)g++;if(v.length<4||g>2)throw new Error("Base64Coder: incorrect padding")}return g},y})();r.Coder=l;var c=new l;function u(y){return c.encode(y)}r.encode=u;function p(y){return c.decode(y)}r.decode=p;var f=(function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.prototype._encodeByte=function(g){var b=g;return b+=65,b+=25-g>>>8&6,b+=51-g>>>8&-75,b+=61-g>>>8&-13,b+=62-g>>>8&49,String.fromCharCode(b)},v.prototype._decodeChar=function(g){var b=o;return b+=(44-g&g-46)>>>8&-o+g-45+62,b+=(94-g&g-96)>>>8&-o+g-95+63,b+=(47-g&g-58)>>>8&-o+g-48+52,b+=(64-g&g-91)>>>8&-o+g-65+0,b+=(96-g&g-123)>>>8&-o+g-97+26,b},v})(l);r.URLSafeCoder=f;var m=new f;function h(y){return m.encode(y)}r.encodeURLSafe=h;function x(y){return m.decode(y)}r.decodeURLSafe=x,r.encodedLength=function(y){return c.encodedLength(y)},r.maxDecodedLength=function(y){return c.maxDecodedLength(y)},r.decodedLength=function(y){return c.decodedLength(y)}}),(function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a="utf8: invalid string",o="utf8: invalid source encoding";function l(p){for(var f=new Uint8Array(c(p)),m=0,h=0;h<p.length;h++){var x=p.charCodeAt(h);x<128?f[m++]=x:x<2048?(f[m++]=192|x>>6,f[m++]=128|x&63):x<55296?(f[m++]=224|x>>12,f[m++]=128|x>>6&63,f[m++]=128|x&63):(h++,x=(x&1023)<<10,x|=p.charCodeAt(h)&1023,x+=65536,f[m++]=240|x>>18,f[m++]=128|x>>12&63,f[m++]=128|x>>6&63,f[m++]=128|x&63)}return f}r.encode=l;function c(p){for(var f=0,m=0;m<p.length;m++){var h=p.charCodeAt(m);if(h<128)f+=1;else if(h<2048)f+=2;else if(h<55296)f+=3;else if(h<=57343){if(m>=p.length-1)throw new Error(a);m++,f+=4}else throw new Error(a)}return f}r.encodedLength=c;function u(p){for(var f=[],m=0;m<p.length;m++){var h=p[m];if(h&128){var x=void 0;if(h<224){if(m>=p.length)throw new Error(o);var y=p[++m];if((y&192)!==128)throw new Error(o);h=(h&31)<<6|y&63,x=128}else if(h<240){if(m>=p.length-1)throw new Error(o);var y=p[++m],v=p[++m];if((y&192)!==128||(v&192)!==128)throw new Error(o);h=(h&15)<<12|(y&63)<<6|v&63,x=2048}else if(h<248){if(m>=p.length-2)throw new Error(o);var y=p[++m],v=p[++m],g=p[++m];if((y&192)!==128||(v&192)!==128||(g&192)!==128)throw new Error(o);h=(h&15)<<18|(y&63)<<12|(v&63)<<6|g&63,x=65536}else throw new Error(o);if(h<x||h>=55296&&h<=57343)throw new Error(o);if(h>=65536){if(h>1114111)throw new Error(o);h-=65536,f.push(String.fromCharCode(55296|h>>10)),h=56320|h&1023}}f.push(String.fromCharCode(h))}return f.join("")}r.decode=u}),(function(s,r,i){s.exports=i(3).default}),(function(s,r,i){i.r(r);class a{constructor(T,O){this.lastId=0,this.prefix=T,this.name=O}create(T){this.lastId++;var O=this.lastId,G=this.prefix+O,ce=this.name+"["+O+"]",We=!1,gt=function(){We||(T.apply(null,arguments),We=!0)};return this[O]=gt,{number:O,id:G,name:ce,callback:gt}}remove(T){delete this[T.number]}}var o=new a("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class u{constructor(T){this.options=T,this.receivers=T.receivers||o,this.loading={}}load(T,O,G){var ce=this;if(ce.loading[T]&&ce.loading[T].length>0)ce.loading[T].push(G);else{ce.loading[T]=[G];var We=ft.createScriptRequest(ce.getPath(T,O)),gt=ce.receivers.create(function(Nt){if(ce.receivers.remove(gt),ce.loading[T]){var Qt=ce.loading[T];delete ce.loading[T];for(var Dn=function(Ks){Ks||We.cleanup()},_s=0;_s<Qt.length;_s++)Qt[_s](Nt,Dn)}});We.send(gt)}}getRoot(T){var O,G=ft.getDocument().location.protocol;return T&&T.useTLS||G==="https:"?O=this.options.cdn_https:O=this.options.cdn_http,O.replace(/\/*$/,"")+"/"+this.options.version}getPath(T,O){return this.getRoot(O)+"/"+T+this.options.suffix+".js"}}var p=new a("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new u({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:p});const m={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var x={buildLogSuffix:function(L){const T="See:",O=m.urls[L];if(!O)return"";let G;return O.fullUrl?G=O.fullUrl:O.path&&(G=m.baseUrl+O.path),G?`${T} ${G}`:""}},y;(function(L){L.UserAuthentication="user-authentication",L.ChannelAuthorization="channel-authorization"})(y||(y={}));class v extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class g extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(T){super(T),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(T,O){super(O),this.status=T,Object.setPrototypeOf(this,new.target.prototype)}}var S=function(L,T,O,G,ce){const We=ft.createXHR();We.open("POST",O.endpoint,!0),We.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var gt in O.headers)We.setRequestHeader(gt,O.headers[gt]);if(O.headersProvider!=null){let Nt=O.headersProvider();for(var gt in Nt)We.setRequestHeader(gt,Nt[gt])}return We.onreadystatechange=function(){if(We.readyState===4)if(We.status===200){let Nt,Qt=!1;try{Nt=JSON.parse(We.responseText),Qt=!0}catch{ce(new F(200,`JSON returned from ${G.toString()} endpoint was invalid, yet status code was 200. Data was: ${We.responseText}`),null)}Qt&&ce(null,Nt)}else{let Nt="";switch(G){case y.UserAuthentication:Nt=x.buildLogSuffix("authenticationEndpoint");break;case y.ChannelAuthorization:Nt=`Clients must be authorized to join private or presence channels. ${x.buildLogSuffix("authorizationEndpoint")}`;break}ce(new F(We.status,`Unable to retrieve auth string from ${G.toString()} endpoint - received status: ${We.status} from ${O.endpoint}. ${Nt}`),null)}},We.send(T),We};function M(L){return B(P(L))}var k=String.fromCharCode,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=function(L){var T=L.charCodeAt(0);return T<128?L:T<2048?k(192|T>>>6)+k(128|T&63):k(224|T>>>12&15)+k(128|T>>>6&63)+k(128|T&63)},P=function(L){return L.replace(/[^\x00-\x7F]/g,D)},R=function(L){var T=[0,2,1][L.length%3],O=L.charCodeAt(0)<<16|(L.length>1?L.charCodeAt(1):0)<<8|(L.length>2?L.charCodeAt(2):0),G=[I.charAt(O>>>18),I.charAt(O>>>12&63),T>=2?"=":I.charAt(O>>>6&63),T>=1?"=":I.charAt(O&63)];return G.join("")},B=window.btoa||function(L){return L.replace(/[\s\S]{1,3}/g,R)};class U{constructor(T,O,G,ce){this.clear=O,this.timer=T(()=>{this.timer&&(this.timer=ce(this.timer))},G)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var H=U;function $(L){window.clearTimeout(L)}function q(L){window.clearInterval(L)}class Q extends H{constructor(T,O){super(setTimeout,$,T,function(G){return O(),null})}}class V extends H{constructor(T,O){super(setInterval,q,T,function(G){return O(),G})}}var ee={now(){return Date.now?Date.now():new Date().valueOf()},defer(L){return new Q(0,L)},method(L,...T){var O=Array.prototype.slice.call(arguments,1);return function(G){return G[L].apply(G,O.concat(arguments))}}},X=ee;function ae(L,...T){for(var O=0;O<T.length;O++){var G=T[O];for(var ce in G)G[ce]&&G[ce].constructor&&G[ce].constructor===Object?L[ce]=ae(L[ce]||{},G[ce]):L[ce]=G[ce]}return L}function me(){for(var L=["Pusher"],T=0;T<arguments.length;T++)typeof arguments[T]=="string"?L.push(arguments[T]):L.push(Ie(arguments[T]));return L.join(" : ")}function oe(L,T){var O=Array.prototype.indexOf;if(L===null)return-1;if(O&&L.indexOf===O)return L.indexOf(T);for(var G=0,ce=L.length;G<ce;G++)if(L[G]===T)return G;return-1}function pe(L,T){for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&T(L[O],O,L)}function se(L){var T=[];return pe(L,function(O,G){T.push(G)}),T}function re(L){var T=[];return pe(L,function(O){T.push(O)}),T}function ve(L,T,O){for(var G=0;G<L.length;G++)T.call(O||window,L[G],G,L)}function we(L,T){for(var O=[],G=0;G<L.length;G++)O.push(T(L[G],G,L,O));return O}function be(L,T){var O={};return pe(L,function(G,ce){O[ce]=T(G)}),O}function Ue(L,T){T=T||function(ce){return!!ce};for(var O=[],G=0;G<L.length;G++)T(L[G],G,L,O)&&O.push(L[G]);return O}function fe(L,T){var O={};return pe(L,function(G,ce){(T&&T(G,ce,L,O)||G)&&(O[ce]=G)}),O}function Me(L){var T=[];return pe(L,function(O,G){T.push([G,O])}),T}function J(L,T){for(var O=0;O<L.length;O++)if(T(L[O],O,L))return!0;return!1}function Ne(L,T){for(var O=0;O<L.length;O++)if(!T(L[O],O,L))return!1;return!0}function ge(L){return be(L,function(T){return typeof T=="object"&&(T=Ie(T)),encodeURIComponent(M(T.toString()))})}function Ee(L){var T=fe(L,function(G){return G!==void 0}),O=we(Me(ge(T)),X.method("join","=")).join("&");return O}function Ce(L){var T=[],O=[];return(function G(ce,We){var gt,Nt,Qt;switch(typeof ce){case"object":if(!ce)return null;for(gt=0;gt<T.length;gt+=1)if(T[gt]===ce)return{$ref:O[gt]};if(T.push(ce),O.push(We),Object.prototype.toString.apply(ce)==="[object Array]")for(Qt=[],gt=0;gt<ce.length;gt+=1)Qt[gt]=G(ce[gt],We+"["+gt+"]");else{Qt={};for(Nt in ce)Object.prototype.hasOwnProperty.call(ce,Nt)&&(Qt[Nt]=G(ce[Nt],We+"["+JSON.stringify(Nt)+"]"))}return Qt;case"number":case"string":case"boolean":return ce}})(L,"$")}function Ie(L){try{return JSON.stringify(L)}catch{return JSON.stringify(Ce(L))}}class Ae{constructor(){this.globalLog=T=>{window.console&&window.console.log&&window.console.log(T)}}debug(...T){this.log(this.globalLog,T)}warn(...T){this.log(this.globalLogWarn,T)}error(...T){this.log(this.globalLogError,T)}globalLogWarn(T){window.console&&window.console.warn?window.console.warn(T):this.globalLog(T)}globalLogError(T){window.console&&window.console.error?window.console.error(T):this.globalLogWarn(T)}log(T,...O){var G=me.apply(this,arguments);Wt.log?Wt.log(G):Wt.logToConsole&&T.bind(this)(G)}}var Se=new Ae,ht=function(L,T,O,G,ce){(O.headers!==void 0||O.headersProvider!=null)&&Se.warn(`To send headers with the ${G.toString()} request, you must use AJAX, rather than JSONP.`);var We=L.nextAuthCallbackID.toString();L.nextAuthCallbackID++;var gt=L.getDocument(),Nt=gt.createElement("script");L.auth_callbacks[We]=function(_s){ce(null,_s)};var Qt="Pusher.auth_callbacks['"+We+"']";Nt.src=O.endpoint+"?callback="+encodeURIComponent(Qt)+"&"+T;var Dn=gt.getElementsByTagName("head")[0]||gt.documentElement;Dn.insertBefore(Nt,Dn.firstChild)},Qe=ht;class De{constructor(T){this.src=T}send(T){var O=this,G="Error loading "+O.src;O.script=document.createElement("script"),O.script.id=T.id,O.script.src=O.src,O.script.type="text/javascript",O.script.charset="UTF-8",O.script.addEventListener?(O.script.onerror=function(){T.callback(G)},O.script.onload=function(){T.callback(null)}):O.script.onreadystatechange=function(){(O.script.readyState==="loaded"||O.script.readyState==="complete")&&T.callback(null)},O.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(O.errorScript=document.createElement("script"),O.errorScript.id=T.id+"_error",O.errorScript.text=T.name+"('"+G+"');",O.script.async=O.errorScript.async=!1):O.script.async=!0;var ce=document.getElementsByTagName("head")[0];ce.insertBefore(O.script,ce.firstChild),O.errorScript&&ce.insertBefore(O.errorScript,O.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class de{constructor(T,O){this.url=T,this.data=O}send(T){if(!this.request){var O=Ee(this.data),G=this.url+"/"+T.number+"?"+O;this.request=ft.createScriptRequest(G),this.request.send(T)}}cleanup(){this.request&&this.request.cleanup()}}var ue=function(L,T){return function(O,G){var ce="http"+(T?"s":"")+"://",We=ce+(L.host||L.options.host)+L.options.path,gt=ft.createJSONPRequest(We,O),Nt=ft.ScriptReceivers.create(function(Qt,Dn){o.remove(Nt),gt.cleanup(),Dn&&Dn.host&&(L.host=Dn.host),G&&G(Qt,Dn)});gt.send(Nt)}},lt={name:"jsonp",getAgent:ue},st=lt;function mt(L,T,O){var G=L+(T.useTLS?"s":""),ce=T.useTLS?T.hostTLS:T.hostNonTLS;return G+"://"+ce+O}function ut(L,T){var O="/app/"+L,G="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(T?"&"+T:"");return O+G}var wn={getInitial:function(L,T){var O=(T.httpPath||"")+ut(L,"flash=false");return mt("ws",T,O)}},Oe={getInitial:function(L,T){var O=(T.httpPath||"/pusher")+ut(L);return mt("http",T,O)}},_e={getInitial:function(L,T){return mt("http",T,T.httpPath||"/pusher")},getPath:function(L,T){return ut(L)}};class Et{constructor(){this._callbacks={}}get(T){return this._callbacks[dt(T)]}add(T,O,G){var ce=dt(T);this._callbacks[ce]=this._callbacks[ce]||[],this._callbacks[ce].push({fn:O,context:G})}remove(T,O,G){if(!T&&!O&&!G){this._callbacks={};return}var ce=T?[dt(T)]:se(this._callbacks);O||G?this.removeCallback(ce,O,G):this.removeAllCallbacks(ce)}removeCallback(T,O,G){ve(T,function(ce){this._callbacks[ce]=Ue(this._callbacks[ce]||[],function(We){return O&&O!==We.fn||G&&G!==We.context}),this._callbacks[ce].length===0&&delete this._callbacks[ce]},this)}removeAllCallbacks(T){ve(T,function(O){delete this._callbacks[O]},this)}}function dt(L){return"_"+L}class vt{constructor(T){this.callbacks=new Et,this.global_callbacks=[],this.failThrough=T}bind(T,O,G){return this.callbacks.add(T,O,G),this}bind_global(T){return this.global_callbacks.push(T),this}unbind(T,O,G){return this.callbacks.remove(T,O,G),this}unbind_global(T){return T?(this.global_callbacks=Ue(this.global_callbacks||[],O=>O!==T),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(T,O,G){for(var ce=0;ce<this.global_callbacks.length;ce++)this.global_callbacks[ce](T,O);var We=this.callbacks.get(T),gt=[];if(G?gt.push(O,G):O&&gt.push(O),We&&We.length>0)for(var ce=0;ce<We.length;ce++)We[ce].fn.apply(We[ce].context||window,gt);else this.failThrough&&this.failThrough(T,O);return this}}class Ct extends vt{constructor(T,O,G,ce,We){super(),this.initialize=ft.transportConnectionInitializer,this.hooks=T,this.name=O,this.priority=G,this.key=ce,this.options=We,this.state="new",this.timeline=We.timeline,this.activityTimeout=We.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var T=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(T,this.options)}catch(O){return X.defer(()=>{this.onError(O),this.changeState("closed")}),!1}return this.bindListeners(),Se.debug("Connecting",{transport:this.name,url:T}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(T){return this.state==="open"?(X.defer(()=>{this.socket&&this.socket.send(T)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(T){this.emit("error",{type:"WebSocketError",error:T}),this.timeline.error(this.buildTimelineMessage({error:T.toString()}))}onClose(T){T?this.changeState("closed",{code:T.code,reason:T.reason,wasClean:T.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(T){this.emit("message",T)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=T=>{this.onError(T)},this.socket.onclose=T=>{this.onClose(T)},this.socket.onmessage=T=>{this.onMessage(T)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(T,O){this.state=T,this.timeline.info(this.buildTimelineMessage({state:T,params:O})),this.emit(T,O)}buildTimelineMessage(T){return ae({cid:this.id},T)}}class St{constructor(T){this.hooks=T}isSupported(T){return this.hooks.isSupported(T)}createConnection(T,O,G,ce){return new Ct(this.hooks,T,O,G,ce)}}var ct=new St({urls:wn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ft.getWebSocketAPI()},isSupported:function(){return!!ft.getWebSocketAPI()},getSocket:function(L){return ft.createWebSocket(L)}}),Ft={urls:Oe,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Fe=ae({getSocket:function(L){return ft.HTTPFactory.createStreamingSocket(L)}},Ft),He=ae({getSocket:function(L){return ft.HTTPFactory.createPollingSocket(L)}},Ft),Ve={isSupported:function(){return ft.isXHRSupported()}},Ke=new St(ae({},Fe,Ve)),Ye=new St(ae({},He,Ve)),At={ws:ct,xhr_streaming:Ke,xhr_polling:Ye},mn=At,Dt=new St({file:"sockjs",urls:_e,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(L,T){return new window.SockJS(L,null,{js_path:f.getPath("sockjs",{useTLS:T.useTLS}),ignore_null_origin:T.ignoreNullOrigin})},beforeOpen:function(L,T){L.send(JSON.stringify({path:T}))}}),Yt={isSupported:function(L){var T=ft.isXDRSupported(L.useTLS);return T}},fn=new St(ae({},Fe,Yt)),qt=new St(ae({},He,Yt));mn.xdr_streaming=fn,mn.xdr_polling=qt,mn.sockjs=Dt;var _n=mn;class In extends vt{constructor(){super();var T=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){T.emit("online")},!1),window.addEventListener("offline",function(){T.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var je=new In;class Le{constructor(T,O,G){this.manager=T,this.transport=O,this.minPingDelay=G.minPingDelay,this.maxPingDelay=G.maxPingDelay,this.pingDelay=void 0}createConnection(T,O,G,ce){ce=ae({},ce,{activityTimeout:this.pingDelay});var We=this.transport.createConnection(T,O,G,ce),gt=null,Nt=function(){We.unbind("open",Nt),We.bind("closed",Qt),gt=X.now()},Qt=Dn=>{if(We.unbind("closed",Qt),Dn.code===1002||Dn.code===1003)this.manager.reportDeath();else if(!Dn.wasClean&&gt){var _s=X.now()-gt;_s<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(_s/2,this.minPingDelay))}};return We.bind("open",Nt),We}isSupported(T){return this.manager.isAlive()&&this.transport.isSupported(T)}}const xt={decodeMessage:function(L){try{var T=JSON.parse(L.data),O=T.data;if(typeof O=="string")try{O=JSON.parse(T.data)}catch{}var G={event:T.event,channel:T.channel,data:O};return T.user_id&&(G.user_id=T.user_id),G}catch(ce){throw{type:"MessageParseError",error:ce,data:L.data}}},encodeMessage:function(L){return JSON.stringify(L)},processHandshake:function(L){var T=xt.decodeMessage(L);if(T.event==="pusher:connection_established"){if(!T.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:T.data.socket_id,activityTimeout:T.data.activity_timeout*1e3}}else{if(T.event==="pusher:error")return{action:this.getCloseAction(T.data),error:this.getCloseError(T.data)};throw"Invalid handshake"}},getCloseAction:function(L){return L.code<4e3?L.code>=1002&&L.code<=1004?"backoff":null:L.code===4e3?"tls_only":L.code<4100?"refused":L.code<4200?"backoff":L.code<4300?"retry":"refused"},getCloseError:function(L){return L.code!==1e3&&L.code!==1001?{type:"PusherError",data:{code:L.code,message:L.reason||L.message}}:null}};var Rt=xt;class qe extends vt{constructor(T,O){super(),this.id=T,this.transport=O,this.activityTimeout=O.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(T){return this.transport.send(T)}send_event(T,O,G){var ce={event:T,data:O};return G&&(ce.channel=G),Se.debug("Event sent",ce),this.send(Rt.encodeMessage(ce))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var T={message:G=>{var ce;try{ce=Rt.decodeMessage(G)}catch(We){this.emit("error",{type:"MessageParseError",error:We,data:G.data})}if(ce!==void 0){switch(Se.debug("Event recd",ce),ce.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ce.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ce)}},activity:()=>{this.emit("activity")},error:G=>{this.emit("error",G)},closed:G=>{O(),G&&G.code&&this.handleCloseEvent(G),this.transport=null,this.emit("closed")}},O=()=>{pe(T,(G,ce)=>{this.transport.unbind(ce,G)})};pe(T,(G,ce)=>{this.transport.bind(ce,G)})}handleCloseEvent(T){var O=Rt.getCloseAction(T),G=Rt.getCloseError(T);G&&this.emit("error",G),O&&this.emit(O,{action:O,error:G})}}class it{constructor(T,O){this.transport=T,this.callback=O,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=T=>{this.unbindListeners();var O;try{O=Rt.processHandshake(T)}catch(G){this.finish("error",{error:G}),this.transport.close();return}O.action==="connected"?this.finish("connected",{connection:new qe(O.id,this.transport),activityTimeout:O.activityTimeout}):(this.finish(O.action,{error:O.error}),this.transport.close())},this.onClosed=T=>{this.unbindListeners();var O=Rt.getCloseAction(T)||"backoff",G=Rt.getCloseError(T);this.finish(O,{error:G})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(T,O){this.callback(ae({transport:this.transport,action:T},O))}}class _t{constructor(T,O){this.timeline=T,this.options=O||{}}send(T,O){this.timeline.isEmpty()||this.timeline.send(ft.TimelineTransport.getAgent(this,T),O)}}class Kt extends vt{constructor(T,O){super(function(G,ce){Se.debug("No callbacks on "+T+" for "+G)}),this.name=T,this.pusher=O,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(T,O){return O(null,{auth:""})}trigger(T,O){if(T.indexOf("client-")!==0)throw new v("Event '"+T+"' does not start with 'client-'");if(!this.subscribed){var G=x.buildLogSuffix("triggeringClientEvents");Se.warn(`Client event triggered before channel 'subscription_succeeded' event . ${G}`)}return this.pusher.send_event(T,O,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(T){var O=T.event,G=T.data;if(O==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(T);else if(O==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(T);else if(O.indexOf("pusher_internal:")!==0){var ce={};this.emit(O,G,ce)}}handleSubscriptionSucceededEvent(T){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",T.data)}handleSubscriptionCountEvent(T){T.data.subscription_count&&(this.subscriptionCount=T.data.subscription_count),this.emit("pusher:subscription_count",T.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(T,O)=>{T?(this.subscriptionPending=!1,Se.error(T.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:T.message},T instanceof F?{status:T.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:O.auth,channel_data:O.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Cn extends Kt{authorize(T,O){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:T},O)}}class On{constructor(){this.reset()}get(T){return Object.prototype.hasOwnProperty.call(this.members,T)?{id:T,info:this.members[T]}:null}each(T){pe(this.members,(O,G)=>{T(this.get(G))})}setMyID(T){this.myID=T}onSubscription(T){this.members=T.presence.hash,this.count=T.presence.count,this.me=this.get(this.myID)}addMember(T){return this.get(T.user_id)===null&&this.count++,this.members[T.user_id]=T.user_info,this.get(T.user_id)}removeMember(T){var O=this.get(T.user_id);return O&&(delete this.members[T.user_id],this.count--),O}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var rs=function(L,T,O,G){function ce(We){return We instanceof O?We:new O(function(gt){gt(We)})}return new(O||(O=Promise))(function(We,gt){function Nt(_s){try{Dn(G.next(_s))}catch(Ks){gt(Ks)}}function Qt(_s){try{Dn(G.throw(_s))}catch(Ks){gt(Ks)}}function Dn(_s){_s.done?We(_s.value):ce(_s.value).then(Nt,Qt)}Dn((G=G.apply(L,T||[])).next())})};class Vn extends Cn{constructor(T,O){super(T,O),this.members=new On}authorize(T,O){super.authorize(T,(G,ce)=>rs(this,void 0,void 0,function*(){if(!G)if(ce=ce,ce.channel_data!=null){var We=JSON.parse(ce.channel_data);this.members.setMyID(We.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let gt=x.buildLogSuffix("authorizationEndpoint");Se.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${gt}, or the user should be signed in.`),O("Invalid auth response");return}O(G,ce)}))}handleEvent(T){var O=T.event;if(O.indexOf("pusher_internal:")===0)this.handleInternalEvent(T);else{var G=T.data,ce={};T.user_id&&(ce.user_id=T.user_id),this.emit(O,G,ce)}}handleInternalEvent(T){var O=T.event,G=T.data;switch(O){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(T);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(T);break;case"pusher_internal:member_added":var ce=this.members.addMember(G);this.emit("pusher:member_added",ce);break;case"pusher_internal:member_removed":var We=this.members.removeMember(G);We&&this.emit("pusher:member_removed",We);break}}handleSubscriptionSucceededEvent(T){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(T.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Bn=i(1),En=i(0);class jn extends Cn{constructor(T,O,G){super(T,O),this.key=null,this.nacl=G}authorize(T,O){super.authorize(T,(G,ce)=>{if(G){O(G,ce);return}let We=ce.shared_secret;if(!We){O(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(En.decode)(We),delete ce.shared_secret,O(null,ce)})}trigger(T,O){throw new j("Client events are not currently supported for encrypted channels")}handleEvent(T){var O=T.event,G=T.data;if(O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0){super.handleEvent(T);return}this.handleEncryptedEvent(O,G)}handleEncryptedEvent(T,O){if(!this.key){Se.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!O.ciphertext||!O.nonce){Se.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+O);return}let G=Object(En.decode)(O.ciphertext);if(G.length<this.nacl.secretbox.overheadLength){Se.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${G.length}`);return}let ce=Object(En.decode)(O.nonce);if(ce.length<this.nacl.secretbox.nonceLength){Se.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ce.length}`);return}let We=this.nacl.secretbox.open(G,ce,this.key);if(We===null){Se.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(gt,Nt)=>{if(gt){Se.error(`Failed to make a request to the authEndpoint: ${Nt}. Unable to fetch new key, so dropping encrypted event`);return}if(We=this.nacl.secretbox.open(G,ce,this.key),We===null){Se.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(T,this.getDataToEmit(We))});return}this.emit(T,this.getDataToEmit(We))}getDataToEmit(T){let O=Object(Bn.decode)(T);try{return JSON.parse(O)}catch{return O}}}class Un extends vt{constructor(T,O){super(),this.state="initialized",this.connection=null,this.key=T,this.options=O,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var G=ft.getNetwork();G.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),G.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(T){return this.connection?this.connection.send(T):!1}send_event(T,O,G){return this.connection?this.connection.send_event(T,O,G):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var T=(O,G)=>{O?this.runner=this.strategy.connect(0,T):G.action==="error"?(this.emit("error",{type:"HandshakeError",error:G.error}),this.timeline.error({handshakeError:G.error})):(this.abortConnecting(),this.handshakeCallbacks[G.action](G))};this.runner=this.strategy.connect(0,T)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var T=this.abandonConnection();T.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(T){this.timeline.info({action:"retry",delay:T}),T>0&&this.emit("connecting_in",Math.round(T/1e3)),this.retryTimer=new Q(T||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Q(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Q(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Q(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(T){return ae({},T,{message:O=>{this.resetActivityCheck(),this.emit("message",O)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:O=>{this.emit("error",O)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(T){return ae({},T,{connected:O=>{this.activityTimeout=Math.min(this.options.activityTimeout,O.activityTimeout,O.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(O.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let T=O=>G=>{G.error&&this.emit("error",{type:"WebSocketError",error:G.error}),O(G)};return{tls_only:T(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:T(()=>{this.disconnect()}),backoff:T(()=>{this.retryIn(1e3)}),retry:T(()=>{this.retryIn(0)})}}setConnection(T){this.connection=T;for(var O in this.connectionCallbacks)this.connection.bind(O,this.connectionCallbacks[O]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var T in this.connectionCallbacks)this.connection.unbind(T,this.connectionCallbacks[T]);var O=this.connection;return this.connection=null,O}}updateState(T,O){var G=this.state;if(this.state=T,G!==T){var ce=T;ce==="connected"&&(ce+=" with new socket ID "+O.socket_id),Se.debug("State changed",G+" -> "+ce),this.timeline.info({state:T,params:O}),this.emit("state_change",{previous:G,current:T}),this.emit(T,O)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class fs{constructor(){this.channels={}}add(T,O){return this.channels[T]||(this.channels[T]=cn(T,O)),this.channels[T]}all(){return re(this.channels)}find(T){return this.channels[T]}remove(T){var O=this.channels[T];return delete this.channels[T],O}disconnect(){pe(this.channels,function(T){T.disconnect()})}}function cn(L,T){if(L.indexOf("private-encrypted-")===0){if(T.config.nacl)return dn.createEncryptedChannel(L,T,T.config.nacl);let O="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",G=x.buildLogSuffix("encryptedChannelSupport");throw new j(`${O}. ${G}`)}else{if(L.indexOf("private-")===0)return dn.createPrivateChannel(L,T);if(L.indexOf("presence-")===0)return dn.createPresenceChannel(L,T);if(L.indexOf("#")===0)throw new g('Cannot create a channel with name "'+L+'".');return dn.createChannel(L,T)}}var hn={createChannels(){return new fs},createConnectionManager(L,T){return new Un(L,T)},createChannel(L,T){return new Kt(L,T)},createPrivateChannel(L,T){return new Cn(L,T)},createPresenceChannel(L,T){return new Vn(L,T)},createEncryptedChannel(L,T,O){return new jn(L,T,O)},createTimelineSender(L,T){return new _t(L,T)},createHandshake(L,T){return new it(L,T)},createAssistantToTheTransportManager(L,T,O){return new Le(L,T,O)}},dn=hn;class Wn{constructor(T){this.options=T||{},this.livesLeft=this.options.lives||1/0}getAssistant(T){return dn.createAssistantToTheTransportManager(this,T,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Ln{constructor(T,O){this.strategies=T,this.loop=!!O.loop,this.failFast=!!O.failFast,this.timeout=O.timeout,this.timeoutLimit=O.timeoutLimit}isSupported(){return J(this.strategies,X.method("isSupported"))}connect(T,O){var G=this.strategies,ce=0,We=this.timeout,gt=null,Nt=(Qt,Dn)=>{Dn?O(null,Dn):(ce=ce+1,this.loop&&(ce=ce%G.length),ce<G.length?(We&&(We=We*2,this.timeoutLimit&&(We=Math.min(We,this.timeoutLimit))),gt=this.tryStrategy(G[ce],T,{timeout:We,failFast:this.failFast},Nt)):O(!0))};return gt=this.tryStrategy(G[ce],T,{timeout:We,failFast:this.failFast},Nt),{abort:function(){gt.abort()},forceMinPriority:function(Qt){T=Qt,gt&&gt.forceMinPriority(Qt)}}}tryStrategy(T,O,G,ce){var We=null,gt=null;return G.timeout>0&&(We=new Q(G.timeout,function(){gt.abort(),ce(!0)})),gt=T.connect(O,function(Nt,Qt){Nt&&We&&We.isRunning()&&!G.failFast||(We&&We.ensureAborted(),ce(Nt,Qt))}),{abort:function(){We&&We.ensureAborted(),gt.abort()},forceMinPriority:function(Nt){gt.forceMinPriority(Nt)}}}}class Cs{constructor(T){this.strategies=T}isSupported(){return J(this.strategies,X.method("isSupported"))}connect(T,O){return Vs(this.strategies,T,function(G,ce){return function(We,gt){if(ce[G].error=We,We){zt(ce)&&O(!0);return}ve(ce,function(Nt){Nt.forceMinPriority(gt.transport.priority)}),O(null,gt)}})}}function Vs(L,T,O){var G=we(L,function(ce,We,gt,Nt){return ce.connect(T,O(We,Nt))});return{abort:function(){ve(G,is)},forceMinPriority:function(ce){ve(G,function(We){We.forceMinPriority(ce)})}}}function zt(L){return Ne(L,function(T){return!!T.error})}function is(L){!L.error&&!L.aborted&&(L.abort(),L.aborted=!0)}class $e{constructor(T,O,G){this.strategy=T,this.transports=O,this.ttl=G.ttl||1800*1e3,this.usingTLS=G.useTLS,this.timeline=G.timeline}isSupported(){return this.strategy.isSupported()}connect(T,O){var G=this.usingTLS,ce=Te(G),We=ce&&ce.cacheSkipCount?ce.cacheSkipCount:0,gt=[this.strategy];if(ce&&ce.timestamp+this.ttl>=X.now()){var Nt=this.transports[ce.transport];Nt&&(["ws","wss"].includes(ce.transport)||We>3?(this.timeline.info({cached:!0,transport:ce.transport,latency:ce.latency}),gt.push(new Ln([Nt],{timeout:ce.latency*2+1e3,failFast:!0}))):We++)}var Qt=X.now(),Dn=gt.pop().connect(T,function _s(Ks,Sr){Ks?(Xt(G),gt.length>0?(Qt=X.now(),Dn=gt.pop().connect(T,_s)):O(Ks)):(pt(G,Sr.transport.name,X.now()-Qt,We),O(null,Sr))});return{abort:function(){Dn.abort()},forceMinPriority:function(_s){T=_s,Dn&&Dn.forceMinPriority(_s)}}}}function Be(L){return"pusherTransport"+(L?"TLS":"NonTLS")}function Te(L){var T=ft.getLocalStorage();if(T)try{var O=T[Be(L)];if(O)return JSON.parse(O)}catch{Xt(L)}return null}function pt(L,T,O,G){var ce=ft.getLocalStorage();if(ce)try{ce[Be(L)]=Ie({timestamp:X.now(),transport:T,latency:O,cacheSkipCount:G})}catch{}}function Xt(L){var T=ft.getLocalStorage();if(T)try{delete T[Be(L)]}catch{}}class Hn{constructor(T,{delay:O}){this.strategy=T,this.options={delay:O}}isSupported(){return this.strategy.isSupported()}connect(T,O){var G=this.strategy,ce,We=new Q(this.options.delay,function(){ce=G.connect(T,O)});return{abort:function(){We.ensureAborted(),ce&&ce.abort()},forceMinPriority:function(gt){T=gt,ce&&ce.forceMinPriority(gt)}}}}class An{constructor(T,O,G){this.test=T,this.trueBranch=O,this.falseBranch=G}isSupported(){var T=this.test()?this.trueBranch:this.falseBranch;return T.isSupported()}connect(T,O){var G=this.test()?this.trueBranch:this.falseBranch;return G.connect(T,O)}}class en{constructor(T){this.strategy=T}isSupported(){return this.strategy.isSupported()}connect(T,O){var G=this.strategy.connect(T,function(ce,We){We&&G.abort(),O(ce,We)});return G}}function Zn(L){return function(){return L.isSupported()}}var Ot=function(L,T,O){var G={};function ce(nu,Bi,mi,bh,yh){var vh=O(L,nu,Bi,mi,bh,yh);return G[nu]=vh,vh}var We=Object.assign({},T,{hostNonTLS:L.wsHost+":"+L.wsPort,hostTLS:L.wsHost+":"+L.wssPort,httpPath:L.wsPath}),gt=Object.assign({},We,{useTLS:!0}),Nt=Object.assign({},T,{hostNonTLS:L.httpHost+":"+L.httpPort,hostTLS:L.httpHost+":"+L.httpsPort,httpPath:L.httpPath}),Qt={loop:!0,timeout:15e3,timeoutLimit:6e4},Dn=new Wn({minPingDelay:1e4,maxPingDelay:L.activityTimeout}),_s=new Wn({lives:2,minPingDelay:1e4,maxPingDelay:L.activityTimeout}),Ks=ce("ws","ws",3,We,Dn),Sr=ce("wss","ws",3,gt,Dn),Si=ce("sockjs","sockjs",1,Nt),lr=ce("xhr_streaming","xhr_streaming",1,Nt,_s),pr=ce("xdr_streaming","xdr_streaming",1,Nt,_s),Ml=ce("xhr_polling","xhr_polling",1,Nt),Ac=ce("xdr_polling","xdr_polling",1,Nt),fi=new Ln([Ks],Qt),Zp=new Ln([Sr],Qt),Ys=new Ln([Si],Qt),kt=new Ln([new An(Zn(lr),lr,pr)],Qt),Dc=new Ln([new An(Zn(Ml),Ml,Ac)],Qt),er=new Ln([new An(Zn(kt),new Cs([kt,new Hn(Dc,{delay:4e3})]),Dc)],Qt),jo=new An(Zn(er),er,Ys),xr;return T.useTLS?xr=new Cs([fi,new Hn(jo,{delay:2e3})]):xr=new Cs([fi,new Hn(Zp,{delay:2e3}),new Hn(jo,{delay:5e3})]),new $e(new en(new An(Zn(Ks),xr,jo)),G,{ttl:18e5,timeline:T.timeline,useTLS:T.useTLS})},Jn=Ot,Pn=(function(){var L=this;L.timeline.info(L.buildTimelineMessage({transport:L.name+(L.options.useTLS?"s":"")})),L.hooks.isInitialized()?L.changeState("initialized"):L.hooks.file?(L.changeState("initializing"),f.load(L.hooks.file,{useTLS:L.options.useTLS},function(T,O){L.hooks.isInitialized()?(L.changeState("initialized"),O(!0)):(T&&L.onError(T),L.onClose(),O(!1))})):L.onClose()}),Gs={getRequest:function(L){var T=new window.XDomainRequest;return T.ontimeout=function(){L.emit("error",new b),L.close()},T.onerror=function(O){L.emit("error",O),L.close()},T.onprogress=function(){T.responseText&&T.responseText.length>0&&L.onChunk(200,T.responseText)},T.onload=function(){T.responseText&&T.responseText.length>0&&L.onChunk(200,T.responseText),L.emit("finished",200),L.close()},T},abortRequest:function(L){L.ontimeout=L.onerror=L.onprogress=L.onload=null,L.abort()}},Gn=Gs;const Bs=256*1024;class vs extends vt{constructor(T,O,G){super(),this.hooks=T,this.method=O,this.url=G}start(T){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ft.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(T)}close(){this.unloader&&(ft.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(T,O){for(;;){var G=this.advanceBuffer(O);if(G)this.emit("chunk",{status:T,data:G});else break}this.isBufferTooLong(O)&&this.emit("buffer_too_long")}advanceBuffer(T){var O=T.slice(this.position),G=O.indexOf(`
`);return G!==-1?(this.position+=G+1,O.slice(0,G)):null}isBufferTooLong(T){return this.position===T.length&&T.length>Bs}}var sr;(function(L){L[L.CONNECTING=0]="CONNECTING",L[L.OPEN=1]="OPEN",L[L.CLOSED=3]="CLOSED"})(sr||(sr={}));var he=sr,et=1;class jt{constructor(T,O){this.hooks=T,this.session=Yn(1e3)+"/"+ss(8),this.location=tn(O),this.readyState=he.CONNECTING,this.openStream()}send(T){return this.sendRaw(JSON.stringify([T]))}ping(){this.hooks.sendHeartbeat(this)}close(T,O){this.onClose(T,O,!0)}sendRaw(T){if(this.readyState===he.OPEN)try{return ft.createSocketRequest("POST",us(ls(this.location,this.session))).start(T),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(T,O,G){this.closeStream(),this.readyState=he.CLOSED,this.onclose&&this.onclose({code:T,reason:O,wasClean:G})}onChunk(T){if(T.status===200){this.readyState===he.OPEN&&this.onActivity();var O,G=T.data.slice(0,1);switch(G){case"o":O=JSON.parse(T.data.slice(1)||"{}"),this.onOpen(O);break;case"a":O=JSON.parse(T.data.slice(1)||"[]");for(var ce=0;ce<O.length;ce++)this.onEvent(O[ce]);break;case"m":O=JSON.parse(T.data.slice(1)||"null"),this.onEvent(O);break;case"h":this.hooks.onHeartbeat(this);break;case"c":O=JSON.parse(T.data.slice(1)||"[]"),this.onClose(O[0],O[1],!0);break}}}onOpen(T){this.readyState===he.CONNECTING?(T&&T.hostname&&(this.location.base=Xn(this.location.base,T.hostname)),this.readyState=he.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(T){this.readyState===he.OPEN&&this.onmessage&&this.onmessage({data:T})}onActivity(){this.onactivity&&this.onactivity()}onError(T){this.onerror&&this.onerror(T)}openStream(){this.stream=ft.createSocketRequest("POST",us(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",T=>{this.onChunk(T)}),this.stream.bind("finished",T=>{this.hooks.onFinished(this,T)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(T){X.defer(()=>{this.onError(T),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function tn(L){var T=/([^\?]*)\/*(\??.*)/.exec(L);return{base:T[1],queryString:T[2]}}function ls(L,T){return L.base+"/"+T+"/xhr_send"}function us(L){var T=L.indexOf("?")===-1?"?":"&";return L+T+"t="+ +new Date+"&n="+et++}function Xn(L,T){var O=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(L);return O[1]+T+O[3]}function Yn(L){return ft.randomInt(L)}function ss(L){for(var T=[],O=0;O<L;O++)T.push(Yn(32).toString(32));return T.join("")}var ms=jt,ar={getReceiveURL:function(L,T){return L.base+"/"+T+"/xhr_streaming"+L.queryString},onHeartbeat:function(L){L.sendRaw("[]")},sendHeartbeat:function(L){L.sendRaw("[]")},onFinished:function(L,T){L.onClose(1006,"Connection interrupted ("+T+")",!1)}},Fs=ar,Ge={getReceiveURL:function(L,T){return L.base+"/"+T+"/xhr"+L.queryString},onHeartbeat:function(){},sendHeartbeat:function(L){L.sendRaw("[]")},onFinished:function(L,T){T===200?L.reconnect():L.onClose(1006,"Connection interrupted ("+T+")",!1)}},te=Ge,ie={getRequest:function(L){var T=ft.getXHRAPI(),O=new T;return O.onreadystatechange=O.onprogress=function(){switch(O.readyState){case 3:O.responseText&&O.responseText.length>0&&L.onChunk(O.status,O.responseText);break;case 4:O.responseText&&O.responseText.length>0&&L.onChunk(O.status,O.responseText),L.emit("finished",O.status),L.close();break}},O},abortRequest:function(L){L.onreadystatechange=null,L.abort()}},ze=ie,Ht={createStreamingSocket(L){return this.createSocket(Fs,L)},createPollingSocket(L){return this.createSocket(te,L)},createSocket(L,T){return new ms(L,T)},createXHR(L,T){return this.createRequest(ze,L,T)},createRequest(L,T,O){return new vs(L,T,O)}},Pe=Ht;Pe.createXDR=function(L,T){return this.createRequest(Gn,L,T)};var Mt=Pe,Tt={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:p,getDefaultStrategy:Jn,Transports:_n,transportConnectionInitializer:Pn,HTTPFactory:Mt,TimelineTransport:st,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(L){window.Pusher=L;var T=()=>{this.onDocumentBody(L.ready)};window.JSON?T():f.load("json2",{},T)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:S,jsonp:Qe}},onDocumentBody(L){document.body?L():setTimeout(()=>{this.onDocumentBody(L)},0)},createJSONPRequest(L,T){return new de(L,T)},createScriptRequest(L){return new De(L)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var L=this.getXHRAPI();return new L},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return je},createWebSocket(L){var T=this.getWebSocketAPI();return new T(L)},createSocketRequest(L,T){if(this.isXHRSupported())return this.HTTPFactory.createXHR(L,T);if(this.isXDRSupported(T.indexOf("https:")===0))return this.HTTPFactory.createXDR(L,T);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var L=this.getXHRAPI();return!!L&&new L().withCredentials!==void 0},isXDRSupported(L){var T=L?"https:":"http:",O=this.getProtocol();return!!window.XDomainRequest&&O===T},addUnloadListener(L){window.addEventListener!==void 0?window.addEventListener("unload",L,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",L)},removeUnloadListener(L){window.addEventListener!==void 0?window.removeEventListener("unload",L,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",L)},randomInt(L){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*L)}},ft=Tt,$n;(function(L){L[L.ERROR=3]="ERROR",L[L.INFO=6]="INFO",L[L.DEBUG=7]="DEBUG"})($n||($n={}));var Ns=$n;class si{constructor(T,O,G){this.key=T,this.session=O,this.events=[],this.options=G||{},this.sent=0,this.uniqueID=0}log(T,O){T<=this.options.level&&(this.events.push(ae({},O,{timestamp:X.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(T){this.log(Ns.ERROR,T)}info(T){this.log(Ns.INFO,T)}debug(T){this.log(Ns.DEBUG,T)}isEmpty(){return this.events.length===0}send(T,O){var G=ae({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],T(G,(ce,We)=>{ce||this.sent++,O&&O(ce,We)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Ms{constructor(T,O,G,ce){this.name=T,this.priority=O,this.transport=G,this.options=ce||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(T,O){if(this.isSupported()){if(this.priority<T)return ui(new w,O)}else return ui(new C,O);var G=!1,ce=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),We=null,gt=function(){ce.unbind("initialized",gt),ce.connect()},Nt=function(){We=dn.createHandshake(ce,function(Ks){G=!0,_s(),O(null,Ks)})},Qt=function(Ks){_s(),O(Ks)},Dn=function(){_s();var Ks;Ks=Ie(ce),O(new N(Ks))},_s=function(){ce.unbind("initialized",gt),ce.unbind("open",Nt),ce.unbind("error",Qt),ce.unbind("closed",Dn)};return ce.bind("initialized",gt),ce.bind("open",Nt),ce.bind("error",Qt),ce.bind("closed",Dn),ce.initialize(),{abort:()=>{G||(_s(),We?We.close():ce.close())},forceMinPriority:Ks=>{G||this.priority<Ks&&(We?We.close():ce.close())}}}}function ui(L,T){return X.defer(function(){T(L)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:an}=ft;var Pi=function(L,T,O,G,ce,We){var gt=an[O];if(!gt)throw new _(O);var Nt=(!L.enabledTransports||oe(L.enabledTransports,T)!==-1)&&(!L.disabledTransports||oe(L.disabledTransports,T)===-1),Qt;return Nt?(ce=Object.assign({ignoreNullOrigin:L.ignoreNullOrigin},ce),Qt=new Ms(T,G,We?We.getAssistant(gt):gt,ce)):Qt=wr,Qt},wr={isSupported:function(){return!1},connect:function(L,T){var O=X.defer(function(){T(new C)});return{abort:function(){O.ensureAborted()},forceMinPriority:function(){}}}};function ye(L){if(L==null)throw"You must pass an options object";if(L.cluster==null)throw"Options object must provide a cluster";"disableStats"in L&&Se.warn("The disableStats option is deprecated in favor of enableStats")}const at=(L,T)=>{var O="socket_id="+encodeURIComponent(L.socketId);for(var G in T.params)O+="&"+encodeURIComponent(G)+"="+encodeURIComponent(T.params[G]);if(T.paramsProvider!=null){let ce=T.paramsProvider();for(var G in ce)O+="&"+encodeURIComponent(G)+"="+encodeURIComponent(ce[G])}return O};var Nn=L=>{if(typeof ft.getAuthorizers()[L.transport]>"u")throw`'${L.transport}' is not a recognized auth transport`;return(T,O)=>{const G=at(T,L);ft.getAuthorizers()[L.transport](ft,G,L,y.UserAuthentication,O)}};const ks=(L,T)=>{var O="socket_id="+encodeURIComponent(L.socketId);O+="&channel_name="+encodeURIComponent(L.channelName);for(var G in T.params)O+="&"+encodeURIComponent(G)+"="+encodeURIComponent(T.params[G]);if(T.paramsProvider!=null){let ce=T.paramsProvider();for(var G in ce)O+="&"+encodeURIComponent(G)+"="+encodeURIComponent(ce[G])}return O};var ur=L=>{if(typeof ft.getAuthorizers()[L.transport]>"u")throw`'${L.transport}' is not a recognized auth transport`;return(T,O)=>{const G=ks(T,L);ft.getAuthorizers()[L.transport](ft,G,L,y.ChannelAuthorization,O)}};const pi=(L,T,O)=>{const G={authTransport:T.transport,authEndpoint:T.endpoint,auth:{params:T.params,headers:T.headers}};return(ce,We)=>{const gt=L.channel(ce.channelName);O(gt,G).authorize(ce.socketId,We)}};function ne(L,T){let O={activityTimeout:L.activityTimeout||c.activityTimeout,cluster:L.cluster,httpPath:L.httpPath||c.httpPath,httpPort:L.httpPort||c.httpPort,httpsPort:L.httpsPort||c.httpsPort,pongTimeout:L.pongTimeout||c.pongTimeout,statsHost:L.statsHost||c.stats_host,unavailableTimeout:L.unavailableTimeout||c.unavailableTimeout,wsPath:L.wsPath||c.wsPath,wsPort:L.wsPort||c.wsPort,wssPort:L.wssPort||c.wssPort,enableStats:as(L),httpHost:Re(L),useTLS:Ze(L),wsHost:bt(L),userAuthenticator:hr(L),channelAuthorizer:Qs(L,T)};return"disabledTransports"in L&&(O.disabledTransports=L.disabledTransports),"enabledTransports"in L&&(O.enabledTransports=L.enabledTransports),"ignoreNullOrigin"in L&&(O.ignoreNullOrigin=L.ignoreNullOrigin),"timelineParams"in L&&(O.timelineParams=L.timelineParams),"nacl"in L&&(O.nacl=L.nacl),O}function Re(L){return L.httpHost?L.httpHost:L.cluster?`sockjs-${L.cluster}.pusher.com`:c.httpHost}function bt(L){return L.wsHost?L.wsHost:Bt(L.cluster)}function Bt(L){return`ws-${L}.pusher.com`}function Ze(L){return ft.getProtocol()==="https:"?!0:L.forceTLS!==!1}function as(L){return"enableStats"in L?L.enableStats:"disableStats"in L?!L.disableStats:!1}function hr(L){const T=Object.assign(Object.assign({},c.userAuthentication),L.userAuthentication);return"customHandler"in T&&T.customHandler!=null?T.customHandler:Nn(T)}function Oi(L,T){let O;return"channelAuthorization"in L?O=Object.assign(Object.assign({},c.channelAuthorization),L.channelAuthorization):(O={transport:L.authTransport||c.authTransport,endpoint:L.authEndpoint||c.authEndpoint},"auth"in L&&("params"in L.auth&&(O.params=L.auth.params),"headers"in L.auth&&(O.headers=L.auth.headers)),"authorizer"in L&&(O.customHandler=pi(T,O,L.authorizer))),O}function Qs(L,T){const O=Oi(L,T);return"customHandler"in O&&O.customHandler!=null?O.customHandler:ur(O)}class Sa extends vt{constructor(T){super(function(O,G){Se.debug(`No callbacks on watchlist events for ${O}`)}),this.pusher=T,this.bindWatchlistInternalEvent()}handleEvent(T){T.data.events.forEach(O=>{this.emit(O.name,O)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",T=>{var O=T.event;O==="pusher_internal:watchlist_events"&&this.handleEvent(T)})}}function Va(){let L,T;return{promise:new Promise((G,ce)=>{L=G,T=ce}),resolve:L,reject:T}}var ke=Va;class rt extends vt{constructor(T){super(function(O,G){Se.debug("No callbacks on user for "+O)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(O,G)=>{if(O){Se.warn(`Error during signin: ${O}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:G.auth,user_data:G.user_data})},this.pusher=T,this.pusher.connection.bind("state_change",({previous:O,current:G})=>{O!=="connected"&&G==="connected"&&this._signin(),O==="connected"&&G!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Sa(T),this.pusher.connection.bind("message",O=>{var G=O.event;G==="pusher:signin_success"&&this._onSigninSuccess(O.data),this.serverToUserChannel&&this.serverToUserChannel.name===O.channel&&this.serverToUserChannel.handleEvent(O)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(T){try{this.user_data=JSON.parse(T.user_data)}catch{Se.error(`Failed parsing user data after signin: ${T.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Se.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const T=O=>{O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.pusher.connection.state==="connected"&&O.subscribe()};this.serverToUserChannel=new Kt(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((O,G)=>{O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0||this.emit(O,G)}),T(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:T,resolve:O}=ke();T.done=!1;const G=()=>{T.done=!0};T.then(G).catch(G),this.signinDonePromise=T,this._signinDoneResolve=O}}class Ut{static ready(){Ut.isReady=!0;for(var T=0,O=Ut.instances.length;T<O;T++)Ut.instances[T].connect()}static getClientFeatures(){return se(fe({ws:ft.Transports.ws},function(T){return T.isSupported({})}))}constructor(T,O){K(T),ye(O),this.key=T,this.config=ne(O,this),this.channels=dn.createChannels(),this.global_emitter=new vt,this.sessionID=ft.randomInt(1e9),this.timeline=new si(this.key,this.sessionID,{cluster:this.config.cluster,features:Ut.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ns.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=dn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ft.TimelineTransport.name}));var G=ce=>ft.getDefaultStrategy(this.config,ce,Pi);this.connection=dn.createConnectionManager(this.key,{getStrategy:G,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ce=>{var We=ce.event,gt=We.indexOf("pusher_internal:")===0;if(ce.channel){var Nt=this.channel(ce.channel);Nt&&Nt.handleEvent(ce)}gt||this.global_emitter.emit(ce.event,ce.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ce=>{Se.warn(ce)}),Ut.instances.push(this),this.timeline.info({instances:Ut.instances.length}),this.user=new rt(this),Ut.isReady&&this.connect()}channel(T){return this.channels.find(T)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var T=this.connection.isUsingTLS(),O=this.timelineSender;this.timelineSenderTimer=new V(6e4,function(){O.send(T)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(T,O,G){return this.global_emitter.bind(T,O,G),this}unbind(T,O,G){return this.global_emitter.unbind(T,O,G),this}bind_global(T){return this.global_emitter.bind_global(T),this}unbind_global(T){return this.global_emitter.unbind_global(T),this}unbind_all(T){return this.global_emitter.unbind_all(),this}subscribeAll(){var T;for(T in this.channels.channels)this.channels.channels.hasOwnProperty(T)&&this.subscribe(T)}subscribe(T){var O=this.channels.add(T,this);return O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.connection.state==="connected"&&O.subscribe(),O}unsubscribe(T){var O=this.channels.find(T);O&&O.subscriptionPending?O.cancelSubscription():(O=this.channels.remove(T),O&&O.subscribed&&O.unsubscribe())}send_event(T,O,G){return this.connection.send_event(T,O,G)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Ut.instances=[],Ut.isReady=!1,Ut.logToConsole=!1,Ut.Runtime=ft,Ut.ScriptReceivers=ft.ScriptReceivers,Ut.DependenciesReceivers=ft.DependenciesReceivers,Ut.auth_callbacks=ft.auth_callbacks;var Wt=r.default=Ut;function K(L){if(L==null)throw"You must pass your app key when you instantiate Pusher."}ft.setup(Ut)})])})})(gb)),gb.exports}var xwe=hwe();const gwe=Ji(xwe),bwe=W.common.notificationSound,ywe="6c79f46bf9937b9d82df",vwe="us2",wwe=()=>{const{user:e}=xs(),n=d.useRef(null);koe();const s=ps(),r=d.useRef(null),i=d.useRef(null),a=d.useRef(!1),o=d.useRef(null),l=d.useRef(null),c=d.useRef(0),u=d.useRef(null),p=async()=>{typeof window>"u"||!("Notification"in window)||Notification.permission==="default"&&await Notification.requestPermission()},f=b=>{if(["default_tool","ask_human","finish"].includes(b.terminal_state)&&(["finish"].includes(b.terminal_state)&&!s&&vl.triggerEvent("agent-finished",{job_id:b.job_id}),["ask_human"].includes(b.terminal_state)&&!s&&vl.triggerEvent("ask-human-triggered",{job_id:b.job_id}),v(),document.hidden)){const w={body:"Agent has a question for you",vibrate:[200,100,200],icon:"src/assets/notification_icon.png",badge:"src/assets/notification_icon.png"};typeof window>"u"||!("Notification"in window)||new Notification("Agent Update",w),h()}},m=()=>{if(a.current){if(u.current&&(clearInterval(u.current),u.current=null),c.current=0,r.current&&(document.title=r.current),i.current){const b=document.querySelector('link[rel*="icon"]');b&&(b.href=i.current)}a.current=!1,y()}},h=()=>{if(c.current++,c.current===1){r.current=document.title;const C=document.querySelector('link[rel*="icon"]');i.current=C?.href||"/favicon.ico";let F=C;F||(F=document.createElement("link"),F.rel="icon",document.head.appendChild(F)),F.href="/notification_favicon.ico",a.current=!0,x()}const b=`(${c.current}) ${r.current}`;u.current&&clearInterval(u.current);let w=0;const N=10,_=1e4/(N*2);u.current=setInterval(()=>{document.title=w%2===0?b:r.current,w++,w>=N*2&&(clearInterval(u.current),u.current=null,document.title=b)},_)},x=()=>{y(),o.current=()=>{document.hidden||m()},l.current=()=>{m()},document.addEventListener("visibilitychange",o.current),window.addEventListener("focus",l.current)},y=()=>{o.current&&(document.removeEventListener("visibilitychange",o.current),o.current=null),l.current&&(window.removeEventListener("focus",l.current),l.current=null)},v=()=>{try{const b=new Audio(bwe);b.volume=.5,b.play().catch(w=>{const N=new(window.AudioContext||window.webkitAudioContext),j=N.createOscillator(),_=N.createGain();j.connect(_),_.connect(N.destination),j.frequency.setValueAtTime(800,N.currentTime),j.frequency.setValueAtTime(600,N.currentTime+.1),_.gain.setValueAtTime(.2,N.currentTime),_.gain.exponentialRampToValueAtTime(.01,N.currentTime+.2),j.start(N.currentTime),j.stop(N.currentTime+.2)})}catch{}},g=()=>{y(),m()};d.useEffect(()=>{if(e?.id&&!n.current){try{const b=new gwe(ywe,{cluster:vwe,encrypted:!0});n.current=b;const w=`user-${e.id}`;b.subscribe(w).bind("terminal-state",j=>{f(j)}),b.connection.bind("connected",()=>{p()}),b.connection.bind("error",j=>{})}catch{}return()=>{n.current&&(n.current.disconnect(),n.current=null),g()}}},[e?.id])};function Cwe(){const[e]=Sp(),n=d.useRef(!1);d.useEffect(()=>{if(n.current)return;const s=e.get("utm_source"),r=e.get("via");let i=null;if(s||r)i=s||r;else{const l=qa("utm_source"),c=qa("via");i=l||c}if(!i)return;const a=()=>{const l=mee(i);if(!l)return;const c=document.createRange();c.setStart(document.head,0),document.head.appendChild(c.createContextualFragment(l)),n.current=!0},o=rn.onFeatureFlags(()=>{n.current||a()});return()=>{o&&o()}},[e])}function eV(e){return n=>typeof n===e}var _we=eV("function"),jwe=e=>e===null,uk=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",pk=e=>!Nwe(e)&&!jwe(e)&&(_we(e)||typeof e=="object"),Nwe=eV("undefined");function Fwe(e,n){const{length:s}=e;if(s!==n.length)return!1;for(let r=s;r--!==0;)if(!oa(e[r],n[r]))return!1;return!0}function Ewe(e,n){if(e.byteLength!==n.byteLength)return!1;const s=new DataView(e.buffer),r=new DataView(n.buffer);let i=e.byteLength;for(;i--;)if(s.getUint8(i)!==r.getUint8(i))return!1;return!0}function Swe(e,n){if(e.size!==n.size)return!1;for(const s of e.entries())if(!n.has(s[0]))return!1;for(const s of e.entries())if(!oa(s[1],n.get(s[0])))return!1;return!0}function kwe(e,n){if(e.size!==n.size)return!1;for(const s of e.entries())if(!n.has(s[0]))return!1;return!0}function oa(e,n){if(e===n)return!0;if(e&&pk(e)&&n&&pk(n)){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)&&Array.isArray(n))return Fwe(e,n);if(e instanceof Map&&n instanceof Map)return Swe(e,n);if(e instanceof Set&&n instanceof Set)return kwe(e,n);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return Ewe(e,n);if(uk(e)&&uk(n))return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();const s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(let i=s.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(let i=s.length;i--!==0;){const a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!oa(e[a],n[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(n)?!0:e===n}var Twe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Iwe=["bigint","boolean","null","number","string","symbol","undefined"];function R2(e){const n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(Awe(n))return n}function wo(e){return n=>R2(n)===e}function Awe(e){return Twe.includes(e)}function Gp(e){return n=>typeof n===e}function Dwe(e){return Iwe.includes(e)}var Mwe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function xn(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(xn.array(e))return"Array";if(xn.plainFunction(e))return"Function";const n=R2(e);return n||"Object"}xn.array=Array.isArray;xn.arrayOf=(e,n)=>!xn.array(e)&&!xn.function(n)?!1:e.every(s=>n(s));xn.asyncGeneratorFunction=e=>R2(e)==="AsyncGeneratorFunction";xn.asyncFunction=wo("AsyncFunction");xn.bigint=Gp("bigint");xn.boolean=e=>e===!0||e===!1;xn.date=wo("Date");xn.defined=e=>!xn.undefined(e);xn.domElement=e=>xn.object(e)&&!xn.plainObject(e)&&e.nodeType===1&&xn.string(e.nodeName)&&Mwe.every(n=>n in e);xn.empty=e=>xn.string(e)&&e.length===0||xn.array(e)&&e.length===0||xn.object(e)&&!xn.map(e)&&!xn.set(e)&&Object.keys(e).length===0||xn.set(e)&&e.size===0||xn.map(e)&&e.size===0;xn.error=wo("Error");xn.function=Gp("function");xn.generator=e=>xn.iterable(e)&&xn.function(e.next)&&xn.function(e.throw);xn.generatorFunction=wo("GeneratorFunction");xn.instanceOf=(e,n)=>!e||!n?!1:Object.getPrototypeOf(e)===n.prototype;xn.iterable=e=>!xn.nullOrUndefined(e)&&xn.function(e[Symbol.iterator]);xn.map=wo("Map");xn.nan=e=>Number.isNaN(e);xn.null=e=>e===null;xn.nullOrUndefined=e=>xn.null(e)||xn.undefined(e);xn.number=e=>Gp("number")(e)&&!xn.nan(e);xn.numericString=e=>xn.string(e)&&e.length>0&&!Number.isNaN(Number(e));xn.object=e=>!xn.nullOrUndefined(e)&&(xn.function(e)||typeof e=="object");xn.oneOf=(e,n)=>xn.array(e)?e.indexOf(n)>-1:!1;xn.plainFunction=wo("Function");xn.plainObject=e=>{if(R2(e)!=="Object")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};xn.primitive=e=>xn.null(e)||Dwe(typeof e);xn.promise=wo("Promise");xn.propertyOf=(e,n,s)=>{if(!xn.object(e)||!n)return!1;const r=e[n];return xn.function(s)?s(r):xn.defined(r)};xn.regexp=wo("RegExp");xn.set=wo("Set");xn.string=Gp("string");xn.symbol=Gp("symbol");xn.undefined=Gp("undefined");xn.weakMap=wo("WeakMap");xn.weakSet=wo("WeakSet");var Fi=xn,Lwe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Rwe=["bigint","boolean","null","number","string","symbol","undefined"];function P2(e){const n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(Pwe(n))return n}function Co(e){return n=>P2(n)===e}function Pwe(e){return Lwe.includes(e)}function qp(e){return n=>typeof n===e}function Owe(e){return Rwe.includes(e)}var Bwe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function gn(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(gn.array(e))return"Array";if(gn.plainFunction(e))return"Function";const n=P2(e);return n||"Object"}gn.array=Array.isArray;gn.arrayOf=(e,n)=>!gn.array(e)&&!gn.function(n)?!1:e.every(s=>n(s));gn.asyncGeneratorFunction=e=>P2(e)==="AsyncGeneratorFunction";gn.asyncFunction=Co("AsyncFunction");gn.bigint=qp("bigint");gn.boolean=e=>e===!0||e===!1;gn.date=Co("Date");gn.defined=e=>!gn.undefined(e);gn.domElement=e=>gn.object(e)&&!gn.plainObject(e)&&e.nodeType===1&&gn.string(e.nodeName)&&Bwe.every(n=>n in e);gn.empty=e=>gn.string(e)&&e.length===0||gn.array(e)&&e.length===0||gn.object(e)&&!gn.map(e)&&!gn.set(e)&&Object.keys(e).length===0||gn.set(e)&&e.size===0||gn.map(e)&&e.size===0;gn.error=Co("Error");gn.function=qp("function");gn.generator=e=>gn.iterable(e)&&gn.function(e.next)&&gn.function(e.throw);gn.generatorFunction=Co("GeneratorFunction");gn.instanceOf=(e,n)=>!e||!n?!1:Object.getPrototypeOf(e)===n.prototype;gn.iterable=e=>!gn.nullOrUndefined(e)&&gn.function(e[Symbol.iterator]);gn.map=Co("Map");gn.nan=e=>Number.isNaN(e);gn.null=e=>e===null;gn.nullOrUndefined=e=>gn.null(e)||gn.undefined(e);gn.number=e=>qp("number")(e)&&!gn.nan(e);gn.numericString=e=>gn.string(e)&&e.length>0&&!Number.isNaN(Number(e));gn.object=e=>!gn.nullOrUndefined(e)&&(gn.function(e)||typeof e=="object");gn.oneOf=(e,n)=>gn.array(e)?e.indexOf(n)>-1:!1;gn.plainFunction=Co("Function");gn.plainObject=e=>{if(P2(e)!=="Object")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};gn.primitive=e=>gn.null(e)||Owe(typeof e);gn.promise=Co("Promise");gn.propertyOf=(e,n,s)=>{if(!gn.object(e)||!n)return!1;const r=e[n];return gn.function(s)?s(r):gn.defined(r)};gn.regexp=Co("RegExp");gn.set=Co("Set");gn.string=qp("string");gn.symbol=qp("symbol");gn.undefined=qp("undefined");gn.weakMap=Co("WeakMap");gn.weakSet=Co("WeakSet");var gs=gn;function Uwe(...e){return e.every(n=>gs.string(n)||gs.array(n)||gs.plainObject(n))}function Vwe(e,n,s){return tV(e,n)?[e,n].every(gs.array)?!e.some(gk(s))&&n.some(gk(s)):[e,n].every(gs.plainObject)?!Object.entries(e).some(xk(s))&&Object.entries(n).some(xk(s)):n===s:!1}function fk(e,n,s){const{actual:r,key:i,previous:a,type:o}=s,l=Uo(e,i),c=Uo(n,i);let u=[l,c].every(gs.number)&&(o==="increased"?l<c:l>c);return gs.undefined(r)||(u=u&&c===r),gs.undefined(a)||(u=u&&l===a),u}function mk(e,n,s){const{key:r,type:i,value:a}=s,o=Uo(e,r),l=Uo(n,r),c=i==="added"?o:l,u=i==="added"?l:o;if(!gs.nullOrUndefined(a)){if(gs.defined(c)){if(gs.array(c)||gs.plainObject(c))return Vwe(c,u,a)}else return oa(u,a);return!1}return[o,l].every(gs.array)?!u.every(K8(c)):[o,l].every(gs.plainObject)?Hwe(Object.keys(c),Object.keys(u)):![o,l].every(p=>gs.primitive(p)&&gs.defined(p))&&(i==="added"?!gs.defined(o)&&gs.defined(l):gs.defined(o)&&!gs.defined(l))}function hk(e,n,{key:s}={}){let r=Uo(e,s),i=Uo(n,s);if(!tV(r,i))throw new TypeError("Inputs have different types");if(!Uwe(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(gs.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function xk(e){return([n,s])=>gs.array(e)?oa(e,s)||e.some(r=>oa(r,s)||gs.array(s)&&K8(s)(r)):gs.plainObject(e)&&e[n]?!!e[n]&&oa(e[n],s):oa(e,s)}function Hwe(e,n){return n.some(s=>!e.includes(s))}function gk(e){return n=>gs.array(e)?e.some(s=>oa(s,n)||gs.array(n)&&K8(n)(s)):oa(e,n)}function $1(e,n){return gs.array(e)?e.some(s=>oa(s,n)):oa(e,n)}function K8(e){return n=>e.some(s=>oa(s,n))}function tV(...e){return e.every(gs.array)||e.every(gs.number)||e.every(gs.plainObject)||e.every(gs.string)}function Uo(e,n){return gs.plainObject(e)||gs.array(e)?gs.string(n)?n.split(".").reduce((r,i)=>r&&r[i],e):gs.number(n)?e[n]:e:e}function Ng(e,n){if([e,n].some(gs.nullOrUndefined))throw new Error("Missing required parameters");if(![e,n].every(p=>gs.plainObject(p)||gs.array(p)))throw new Error("Expected plain objects or array");return{added:(p,f)=>{try{return mk(e,n,{key:p,type:"added",value:f})}catch{return!1}},changed:(p,f,m)=>{try{const h=Uo(e,p),x=Uo(n,p),y=gs.defined(f),v=gs.defined(m);if(y||v){const g=v?$1(m,h):!$1(f,h),b=$1(f,x);return g&&b}return[h,x].every(gs.array)||[h,x].every(gs.plainObject)?!oa(h,x):h!==x}catch{return!1}},changedFrom:(p,f,m)=>{if(!gs.defined(p))return!1;try{const h=Uo(e,p),x=Uo(n,p),y=gs.defined(m);return $1(f,h)&&(y?$1(m,x):!y)}catch{return!1}},decreased:(p,f,m)=>{if(!gs.defined(p))return!1;try{return fk(e,n,{key:p,actual:f,previous:m,type:"decreased"})}catch{return!1}},emptied:p=>{try{const[f,m]=hk(e,n,{key:p});return!!f.length&&!m.length}catch{return!1}},filled:p=>{try{const[f,m]=hk(e,n,{key:p});return!f.length&&!!m.length}catch{return!1}},increased:(p,f,m)=>{if(!gs.defined(p))return!1;try{return fk(e,n,{key:p,actual:f,previous:m,type:"increased"})}catch{return!1}},removed:(p,f)=>{try{return mk(e,n,{key:p,type:"removed",value:f})}catch{return!1}}}}var bb,bk;function $we(){if(bk)return bb;bk=1;var e=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),s=Math.min,r=Date.now;bb={left:i("scrollLeft"),top:i("scrollTop")};function i(l){return function(u,p,f,m){f=f||{},typeof f=="function"&&(m=f,f={}),typeof m!="function"&&(m=o);var h=r(),x=u[l],y=f.ease||a,v=isNaN(f.duration)?350:+f.duration,g=!1;return x===p?m(e,u[l]):requestAnimationFrame(w),b;function b(){g=!0}function w(N){if(g)return m(n,u[l]);var j=r(),_=s(1,(j-h)/v),C=y(_);u[l]=C*(p-x)+x,_<1?requestAnimationFrame(w):requestAnimationFrame(function(){m(null,u[l])})}}}function a(l){return .5*(1-Math.cos(Math.PI*l))}function o(){}return bb}var zwe=$we();const Wwe=Ji(zwe);var ox={exports:{}},Gwe=ox.exports,yk;function qwe(){return yk||(yk=1,(function(e){(function(n,s){e.exports?e.exports=s():n.Scrollparent=s()})(Gwe,function(){function n(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function s(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(n(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return s})})(ox)),ox.exports}var Kwe=qwe();const nV=Ji(Kwe);var yb,vk;function Ywe(){if(vk)return yb;vk=1;var e=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},n=function(r,i){return r+s(i)},s=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(n,""):e(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?s(r.props.children):""};return s.default=s,yb=s,yb}var Zwe=Ywe();const wk=Ji(Zwe);var vb,Ck;function Jwe(){if(Ck)return vb;Ck=1;var e=function(b){return n(b)&&!s(b)};function n(g){return!!g&&typeof g=="object"}function s(g){var b=Object.prototype.toString.call(g);return b==="[object RegExp]"||b==="[object Date]"||a(g)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function a(g){return g.$$typeof===i}function o(g){return Array.isArray(g)?[]:{}}function l(g,b){return b.clone!==!1&&b.isMergeableObject(g)?y(o(g),g,b):g}function c(g,b,w){return g.concat(b).map(function(N){return l(N,w)})}function u(g,b){if(!b.customMerge)return y;var w=b.customMerge(g);return typeof w=="function"?w:y}function p(g){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(g).filter(function(b){return Object.propertyIsEnumerable.call(g,b)}):[]}function f(g){return Object.keys(g).concat(p(g))}function m(g,b){try{return b in g}catch{return!1}}function h(g,b){return m(g,b)&&!(Object.hasOwnProperty.call(g,b)&&Object.propertyIsEnumerable.call(g,b))}function x(g,b,w){var N={};return w.isMergeableObject(g)&&f(g).forEach(function(j){N[j]=l(g[j],w)}),f(b).forEach(function(j){h(g,j)||(m(g,j)&&w.isMergeableObject(b[j])?N[j]=u(j,w)(g[j],b[j],w):N[j]=l(b[j],w))}),N}function y(g,b,w){w=w||{},w.arrayMerge=w.arrayMerge||c,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=l;var N=Array.isArray(b),j=Array.isArray(g),_=N===j;return _?N?w.arrayMerge(g,b,w):x(g,b,w):l(b,w)}y.all=function(b,w){if(!Array.isArray(b))throw new Error("first argument should be an array");return b.reduce(function(N,j){return y(N,j,w)},{})};var v=y;return vb=v,vb}var Xwe=Jwe();const co=Ji(Xwe);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var uh=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Qwe=(function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(uh&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0})();function e7e(e){var n=!1;return function(){n||(n=!0,window.Promise.resolve().then(function(){n=!1,e()}))}}function t7e(e){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,e()},Qwe))}}var n7e=uh&&window.Promise,s7e=n7e?e7e:t7e;function sV(e){var n={};return e&&n.toString.call(e)==="[object Function]"}function tu(e,n){if(e.nodeType!==1)return[];var s=e.ownerDocument.defaultView,r=s.getComputedStyle(e,null);return n?r[n]:r}function Y8(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function ph(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var n=tu(e),s=n.overflow,r=n.overflowX,i=n.overflowY;return/(auto|scroll|overlay)/.test(s+i+r)?e:ph(Y8(e))}function rV(e){return e&&e.referenceNode?e.referenceNode:e}var _k=uh&&!!(window.MSInputMethodContext&&document.documentMode),jk=uh&&/MSIE 10/.test(navigator.userAgent);function Kp(e){return e===11?_k:e===10?jk:_k||jk}function vp(e){if(!e)return document.documentElement;for(var n=Kp(10)?document.body:null,s=e.offsetParent||null;s===n&&e.nextElementSibling;)s=(e=e.nextElementSibling).offsetParent;var r=s&&s.nodeName;return!r||r==="BODY"||r==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(s.nodeName)!==-1&&tu(s,"position")==="static"?vp(s):s}function r7e(e){var n=e.nodeName;return n==="BODY"?!1:n==="HTML"||vp(e.firstElementChild)===e}function Yy(e){return e.parentNode!==null?Yy(e.parentNode):e}function Fg(e,n){if(!e||!e.nodeType||!n||!n.nodeType)return document.documentElement;var s=e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_FOLLOWING,r=s?e:n,i=s?n:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&n!==o||r.contains(i))return r7e(o)?o:vp(o);var l=Yy(e);return l.host?Fg(l.host,n):Fg(e,Yy(n).host)}function wp(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",s=n==="top"?"scrollTop":"scrollLeft",r=e.nodeName;if(r==="BODY"||r==="HTML"){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[s]}return e[s]}function i7e(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=wp(n,"top"),i=wp(n,"left"),a=s?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function Nk(e,n){var s=n==="x"?"Left":"Top",r=s==="Left"?"Right":"Bottom";return parseFloat(e["border"+s+"Width"])+parseFloat(e["border"+r+"Width"])}function Fk(e,n,s,r){return Math.max(n["offset"+e],n["scroll"+e],s["client"+e],s["offset"+e],s["scroll"+e],Kp(10)?parseInt(s["offset"+e])+parseInt(r["margin"+(e==="Height"?"Top":"Left")])+parseInt(r["margin"+(e==="Height"?"Bottom":"Right")]):0)}function iV(e){var n=e.body,s=e.documentElement,r=Kp(10)&&getComputedStyle(s);return{height:Fk("Height",n,s,r),width:Fk("Width",n,s,r)}}var a7e=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},o7e=(function(){function e(n,s){for(var r=0;r<s.length;r++){var i=s[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,s,r){return s&&e(n.prototype,s),r&&e(n,r),n}})(),Cp=function(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e},Ya=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e};function jc(e){return Ya({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Zy(e){var n={};try{if(Kp(10)){n=e.getBoundingClientRect();var s=wp(e,"top"),r=wp(e,"left");n.top+=s,n.left+=r,n.bottom+=s,n.right+=r}else n=e.getBoundingClientRect()}catch{}var i={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a=e.nodeName==="HTML"?iV(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,c=e.offsetWidth-o,u=e.offsetHeight-l;if(c||u){var p=tu(e);c-=Nk(p,"x"),u-=Nk(p,"y"),i.width-=c,i.height-=u}return jc(i)}function Z8(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Kp(10),i=n.nodeName==="HTML",a=Zy(e),o=Zy(n),l=ph(e),c=tu(n),u=parseFloat(c.borderTopWidth),p=parseFloat(c.borderLeftWidth);s&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var f=jc({top:a.top-o.top-u,left:a.left-o.left-p,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!r&&i){var m=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);f.top-=u-m,f.bottom-=u-m,f.left-=p-h,f.right-=p-h,f.marginTop=m,f.marginLeft=h}return(r&&!s?n.contains(l):n===l&&l.nodeName!=="BODY")&&(f=i7e(f,n)),f}function l7e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=e.ownerDocument.documentElement,r=Z8(e,s),i=Math.max(s.clientWidth,window.innerWidth||0),a=Math.max(s.clientHeight,window.innerHeight||0),o=n?0:wp(s),l=n?0:wp(s,"left"),c={top:o-r.top+r.marginTop,left:l-r.left+r.marginLeft,width:i,height:a};return jc(c)}function aV(e){var n=e.nodeName;if(n==="BODY"||n==="HTML")return!1;if(tu(e,"position")==="fixed")return!0;var s=Y8(e);return s?aV(s):!1}function oV(e){if(!e||!e.parentElement||Kp())return document.documentElement;for(var n=e.parentElement;n&&tu(n,"transform")==="none";)n=n.parentElement;return n||document.documentElement}function J8(e,n,s,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},o=i?oV(e):Fg(e,rV(n));if(r==="viewport")a=l7e(o,i);else{var l=void 0;r==="scrollParent"?(l=ph(Y8(n)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):r==="window"?l=e.ownerDocument.documentElement:l=r;var c=Z8(l,o,i);if(l.nodeName==="HTML"&&!aV(o)){var u=iV(e.ownerDocument),p=u.height,f=u.width;a.top+=c.top-c.marginTop,a.bottom=p+c.top,a.left+=c.left-c.marginLeft,a.right=f+c.left}else a=c}s=s||0;var m=typeof s=="number";return a.left+=m?s:s.left||0,a.top+=m?s:s.top||0,a.right-=m?s:s.right||0,a.bottom-=m?s:s.bottom||0,a}function c7e(e){var n=e.width,s=e.height;return n*s}function lV(e,n,s,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var o=J8(s,r,a,i),l={top:{width:o.width,height:n.top-o.top},right:{width:o.right-n.right,height:o.height},bottom:{width:o.width,height:o.bottom-n.bottom},left:{width:n.left-o.left,height:o.height}},c=Object.keys(l).map(function(m){return Ya({key:m},l[m],{area:c7e(l[m])})}).sort(function(m,h){return h.area-m.area}),u=c.filter(function(m){var h=m.width,x=m.height;return h>=s.clientWidth&&x>=s.clientHeight}),p=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return p+(f?"-"+f:"")}function cV(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?oV(n):Fg(n,rV(s));return Z8(s,i,r)}function dV(e){var n=e.ownerDocument.defaultView,s=n.getComputedStyle(e),r=parseFloat(s.marginTop||0)+parseFloat(s.marginBottom||0),i=parseFloat(s.marginLeft||0)+parseFloat(s.marginRight||0),a={width:e.offsetWidth+i,height:e.offsetHeight+r};return a}function Eg(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(s){return n[s]})}function uV(e,n,s){s=s.split("-")[0];var r=dV(e),i={width:r.width,height:r.height},a=["right","left"].indexOf(s)!==-1,o=a?"top":"left",l=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return i[o]=n[o]+n[c]/2-r[c]/2,s===l?i[l]=n[l]-r[u]:i[l]=n[Eg(l)],i}function fh(e,n){return Array.prototype.find?e.find(n):e.filter(n)[0]}function d7e(e,n,s){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[n]===s});var r=fh(e,function(i){return i[n]===s});return e.indexOf(r)}function pV(e,n,s){var r=s===void 0?e:e.slice(0,d7e(e,"name",s));return r.forEach(function(i){i.function;var a=i.function||i.fn;i.enabled&&sV(a)&&(n.offsets.popper=jc(n.offsets.popper),n.offsets.reference=jc(n.offsets.reference),n=a(n,i))}),n}function u7e(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=cV(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=lV(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=uV(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=pV(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function fV(e,n){return e.some(function(s){var r=s.name,i=s.enabled;return i&&r===n})}function X8(e){for(var n=[!1,"ms","Webkit","Moz","O"],s=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<n.length;r++){var i=n[r],a=i?""+i+s:e;if(typeof document.body.style[a]<"u")return a}return null}function p7e(){return this.state.isDestroyed=!0,fV(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[X8("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function mV(e){var n=e.ownerDocument;return n?n.defaultView:window}function hV(e,n,s,r){var i=e.nodeName==="BODY",a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,s,{passive:!0}),i||hV(ph(a.parentNode),n,s,r),r.push(a)}function f7e(e,n,s,r){s.updateBound=r,mV(e).addEventListener("resize",s.updateBound,{passive:!0});var i=ph(e);return hV(i,"scroll",s.updateBound,s.scrollParents),s.scrollElement=i,s.eventsEnabled=!0,s}function m7e(){this.state.eventsEnabled||(this.state=f7e(this.reference,this.options,this.state,this.scheduleUpdate))}function h7e(e,n){return mV(e).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(s){s.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n}function x7e(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=h7e(this.reference,this.state))}function Q8(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Jy(e,n){Object.keys(n).forEach(function(s){var r="";["width","height","top","right","bottom","left"].indexOf(s)!==-1&&Q8(n[s])&&(r="px"),e.style[s]=n[s]+r})}function g7e(e,n){Object.keys(n).forEach(function(s){var r=n[s];r!==!1?e.setAttribute(s,n[s]):e.removeAttribute(s)})}function b7e(e){return Jy(e.instance.popper,e.styles),g7e(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Jy(e.arrowElement,e.arrowStyles),e}function y7e(e,n,s,r,i){var a=cV(i,n,e,s.positionFixed),o=lV(s.placement,a,n,e,s.modifiers.flip.boundariesElement,s.modifiers.flip.padding);return n.setAttribute("x-placement",o),Jy(n,{position:s.positionFixed?"fixed":"absolute"}),s}function v7e(e,n){var s=e.offsets,r=s.popper,i=s.reference,a=Math.round,o=Math.floor,l=function(g){return g},c=a(i.width),u=a(r.width),p=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,m=c%2===u%2,h=c%2===1&&u%2===1,x=n?p||f||m?a:o:l,y=n?a:l;return{left:x(h&&!f&&n?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:x(r.right)}}var w7e=uh&&/Firefox/i.test(navigator.userAgent);function C7e(e,n){var s=n.x,r=n.y,i=e.offsets.popper,a=fh(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration,o=a!==void 0?a:n.gpuAcceleration,l=vp(e.instance.popper),c=Zy(l),u={position:i.position},p=v7e(e,window.devicePixelRatio<2||!w7e),f=s==="bottom"?"top":"bottom",m=r==="right"?"left":"right",h=X8("transform"),x=void 0,y=void 0;if(f==="bottom"?l.nodeName==="HTML"?y=-l.clientHeight+p.bottom:y=-c.height+p.bottom:y=p.top,m==="right"?l.nodeName==="HTML"?x=-l.clientWidth+p.right:x=-c.width+p.right:x=p.left,o&&h)u[h]="translate3d("+x+"px, "+y+"px, 0)",u[f]=0,u[m]=0,u.willChange="transform";else{var v=f==="bottom"?-1:1,g=m==="right"?-1:1;u[f]=y*v,u[m]=x*g,u.willChange=f+", "+m}var b={"x-placement":e.placement};return e.attributes=Ya({},b,e.attributes),e.styles=Ya({},u,e.styles),e.arrowStyles=Ya({},e.offsets.arrow,e.arrowStyles),e}function xV(e,n,s){var r=fh(e,function(l){var c=l.name;return c===n}),i=!!r&&e.some(function(l){return l.name===s&&l.enabled&&l.order<r.order});if(!i)var a="`"+n+"`",o="`"+s+"`";return i}function _7e(e,n){var s;if(!xV(e.instance.modifiers,"arrow","keepTogether"))return e;var r=n.element;if(typeof r=="string"){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,l=a.reference,c=["left","right"].indexOf(i)!==-1,u=c?"height":"width",p=c?"Top":"Left",f=p.toLowerCase(),m=c?"left":"top",h=c?"bottom":"right",x=dV(r)[u];l[h]-x<o[f]&&(e.offsets.popper[f]-=o[f]-(l[h]-x)),l[f]+x>o[h]&&(e.offsets.popper[f]+=l[f]+x-o[h]),e.offsets.popper=jc(e.offsets.popper);var y=l[f]+l[u]/2-x/2,v=tu(e.instance.popper),g=parseFloat(v["margin"+p]),b=parseFloat(v["border"+p+"Width"]),w=y-e.offsets.popper[f]-g-b;return w=Math.max(Math.min(o[u]-x,w),0),e.arrowElement=r,e.offsets.arrow=(s={},Cp(s,f,Math.round(w)),Cp(s,m,""),s),e}function j7e(e){return e==="end"?"start":e==="start"?"end":e}var gV=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],wb=gV.slice(3);function Ek(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=wb.indexOf(e),r=wb.slice(s+1).concat(wb.slice(0,s));return n?r.reverse():r}var Cb={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function N7e(e,n){if(fV(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var s=J8(e.instance.popper,e.instance.reference,n.padding,n.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Eg(r),a=e.placement.split("-")[1]||"",o=[];switch(n.behavior){case Cb.FLIP:o=[r,i];break;case Cb.CLOCKWISE:o=Ek(r);break;case Cb.COUNTERCLOCKWISE:o=Ek(r,!0);break;default:o=n.behavior}return o.forEach(function(l,c){if(r!==l||o.length===c+1)return e;r=e.placement.split("-")[0],i=Eg(r);var u=e.offsets.popper,p=e.offsets.reference,f=Math.floor,m=r==="left"&&f(u.right)>f(p.left)||r==="right"&&f(u.left)<f(p.right)||r==="top"&&f(u.bottom)>f(p.top)||r==="bottom"&&f(u.top)<f(p.bottom),h=f(u.left)<f(s.left),x=f(u.right)>f(s.right),y=f(u.top)<f(s.top),v=f(u.bottom)>f(s.bottom),g=r==="left"&&h||r==="right"&&x||r==="top"&&y||r==="bottom"&&v,b=["top","bottom"].indexOf(r)!==-1,w=!!n.flipVariations&&(b&&a==="start"&&h||b&&a==="end"&&x||!b&&a==="start"&&y||!b&&a==="end"&&v),N=!!n.flipVariationsByContent&&(b&&a==="start"&&x||b&&a==="end"&&h||!b&&a==="start"&&v||!b&&a==="end"&&y),j=w||N;(m||g||j)&&(e.flipped=!0,(m||g)&&(r=o[c+1]),j&&(a=j7e(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=Ya({},e.offsets.popper,uV(e.instance.popper,e.offsets.reference,e.placement)),e=pV(e.instance.modifiers,e,"flip"))}),e}function F7e(e){var n=e.offsets,s=n.popper,r=n.reference,i=e.placement.split("-")[0],a=Math.floor,o=["top","bottom"].indexOf(i)!==-1,l=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return s[l]<a(r[c])&&(e.offsets.popper[c]=a(r[c])-s[u]),s[c]>a(r[l])&&(e.offsets.popper[c]=a(r[l])),e}function E7e(e,n,s,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(o.indexOf("%")===0){var l=void 0;switch(o){case"%p":l=s;break;case"%":case"%r":default:l=r}var c=jc(l);return c[n]/100*a}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*a}else return a}function S7e(e,n,s,r){var i=[0,0],a=["right","left"].indexOf(r)!==-1,o=e.split(/(\+|\-)/).map(function(p){return p.trim()}),l=o.indexOf(fh(o,function(p){return p.search(/,|\s/)!==-1}));o[l]&&o[l].indexOf(",");var c=/\s*,\s*|\s+/,u=l!==-1?[o.slice(0,l).concat([o[l].split(c)[0]]),[o[l].split(c)[1]].concat(o.slice(l+1))]:[o];return u=u.map(function(p,f){var m=(f===1?!a:a)?"height":"width",h=!1;return p.reduce(function(x,y){return x[x.length-1]===""&&["+","-"].indexOf(y)!==-1?(x[x.length-1]=y,h=!0,x):h?(x[x.length-1]+=y,h=!1,x):x.concat(y)},[]).map(function(x){return E7e(x,m,n,s)})}),u.forEach(function(p,f){p.forEach(function(m,h){Q8(m)&&(i[f]+=m*(p[h-1]==="-"?-1:1))})}),i}function k7e(e,n){var s=n.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,l=r.split("-")[0],c=void 0;return Q8(+s)?c=[+s,0]:c=S7e(s,a,o,l),l==="left"?(a.top+=c[0],a.left-=c[1]):l==="right"?(a.top+=c[0],a.left+=c[1]):l==="top"?(a.left+=c[0],a.top-=c[1]):l==="bottom"&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e}function T7e(e,n){var s=n.boundariesElement||vp(e.instance.popper);e.instance.reference===s&&(s=vp(s));var r=X8("transform"),i=e.instance.popper.style,a=i.top,o=i.left,l=i[r];i.top="",i.left="",i[r]="";var c=J8(e.instance.popper,e.instance.reference,n.padding,s,e.positionFixed);i.top=a,i.left=o,i[r]=l,n.boundaries=c;var u=n.priority,p=e.offsets.popper,f={primary:function(h){var x=p[h];return p[h]<c[h]&&!n.escapeWithReference&&(x=Math.max(p[h],c[h])),Cp({},h,x)},secondary:function(h){var x=h==="right"?"left":"top",y=p[x];return p[h]>c[h]&&!n.escapeWithReference&&(y=Math.min(p[x],c[h]-(h==="right"?p.width:p.height))),Cp({},x,y)}};return u.forEach(function(m){var h=["left","top"].indexOf(m)!==-1?"primary":"secondary";p=Ya({},p,f[h](m))}),e.offsets.popper=p,e}function I7e(e){var n=e.placement,s=n.split("-")[0],r=n.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,l=["bottom","top"].indexOf(s)!==-1,c=l?"left":"top",u=l?"width":"height",p={start:Cp({},c,a[c]),end:Cp({},c,a[c]+a[u]-o[u])};e.offsets.popper=Ya({},o,p[r])}return e}function A7e(e){if(!xV(e.instance.modifiers,"hide","preventOverflow"))return e;var n=e.offsets.reference,s=fh(e.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(n.bottom<s.top||n.left>s.right||n.top>s.bottom||n.right<s.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function D7e(e){var n=e.placement,s=n.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=["left","right"].indexOf(s)!==-1,l=["top","left"].indexOf(s)===-1;return i[o?"left":"top"]=a[s]-(l?i[o?"width":"height"]:0),e.placement=Eg(n),e.offsets.popper=jc(i),e}var M7e={shift:{order:100,enabled:!0,fn:I7e},offset:{order:200,enabled:!0,fn:k7e,offset:0},preventOverflow:{order:300,enabled:!0,fn:T7e,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:F7e},arrow:{order:500,enabled:!0,fn:_7e,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:N7e,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:D7e},hide:{order:800,enabled:!0,fn:A7e},computeStyle:{order:850,enabled:!0,fn:C7e,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:b7e,onLoad:y7e,gpuAcceleration:void 0}},L7e={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:M7e},Mm=(function(){function e(n,s){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a7e(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=s7e(this.update.bind(this)),this.options=Ya({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=s&&s.jquery?s[0]:s,this.options.modifiers={},Object.keys(Ya({},e.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=Ya({},e.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Ya({name:o},r.options.modifiers[o])}).sort(function(o,l){return o.order-l.order}),this.modifiers.forEach(function(o){o.enabled&&sV(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return o7e(e,[{key:"update",value:function(){return u7e.call(this)}},{key:"destroy",value:function(){return p7e.call(this)}},{key:"enableEventListeners",value:function(){return m7e.call(this)}},{key:"disableEventListeners",value:function(){return x7e.call(this)}}]),e})();Mm.Utils=(typeof window<"u"?window:global).PopperUtils;Mm.placements=gV;Mm.Defaults=L7e;var R7e=["innerHTML","ownerDocument","style","attributes","nodeValue"],P7e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],O7e=["bigint","boolean","null","number","string","symbol","undefined"];function O2(e){var n=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(n))return"HTMLElement";if(B7e(n))return n}function _o(e){return function(n){return O2(n)===e}}function B7e(e){return P7e.includes(e)}function Yp(e){return function(n){return typeof n===e}}function U7e(e){return O7e.includes(e)}function ot(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ot.array(e))return"Array";if(ot.plainFunction(e))return"Function";var n=O2(e);return n||"Object"}ot.array=Array.isArray;ot.arrayOf=function(e,n){return!ot.array(e)&&!ot.function(n)?!1:e.every(function(s){return n(s)})};ot.asyncGeneratorFunction=function(e){return O2(e)==="AsyncGeneratorFunction"};ot.asyncFunction=_o("AsyncFunction");ot.bigint=Yp("bigint");ot.boolean=function(e){return e===!0||e===!1};ot.date=_o("Date");ot.defined=function(e){return!ot.undefined(e)};ot.domElement=function(e){return ot.object(e)&&!ot.plainObject(e)&&e.nodeType===1&&ot.string(e.nodeName)&&R7e.every(function(n){return n in e})};ot.empty=function(e){return ot.string(e)&&e.length===0||ot.array(e)&&e.length===0||ot.object(e)&&!ot.map(e)&&!ot.set(e)&&Object.keys(e).length===0||ot.set(e)&&e.size===0||ot.map(e)&&e.size===0};ot.error=_o("Error");ot.function=Yp("function");ot.generator=function(e){return ot.iterable(e)&&ot.function(e.next)&&ot.function(e.throw)};ot.generatorFunction=_o("GeneratorFunction");ot.instanceOf=function(e,n){return!e||!n?!1:Object.getPrototypeOf(e)===n.prototype};ot.iterable=function(e){return!ot.nullOrUndefined(e)&&ot.function(e[Symbol.iterator])};ot.map=_o("Map");ot.nan=function(e){return Number.isNaN(e)};ot.null=function(e){return e===null};ot.nullOrUndefined=function(e){return ot.null(e)||ot.undefined(e)};ot.number=function(e){return Yp("number")(e)&&!ot.nan(e)};ot.numericString=function(e){return ot.string(e)&&e.length>0&&!Number.isNaN(Number(e))};ot.object=function(e){return!ot.nullOrUndefined(e)&&(ot.function(e)||typeof e=="object")};ot.oneOf=function(e,n){return ot.array(e)?e.indexOf(n)>-1:!1};ot.plainFunction=_o("Function");ot.plainObject=function(e){if(O2(e)!=="Object")return!1;var n=Object.getPrototypeOf(e);return n===null||n===Object.getPrototypeOf({})};ot.primitive=function(e){return ot.null(e)||U7e(typeof e)};ot.promise=_o("Promise");ot.propertyOf=function(e,n,s){if(!ot.object(e)||!n)return!1;var r=e[n];return ot.function(s)?s(r):ot.defined(r)};ot.regexp=_o("RegExp");ot.set=_o("Set");ot.string=Yp("string");ot.symbol=Yp("symbol");ot.undefined=Yp("undefined");ot.weakMap=_o("WeakMap");ot.weakSet=_o("WeakSet");function bV(e){return function(n){return typeof n===e}}var V7e=bV("function"),H7e=function(e){return e===null},Sk=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},kk=function(e){return!$7e(e)&&!H7e(e)&&(V7e(e)||typeof e=="object")},$7e=bV("undefined"),Xy=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&e[n],r=0;if(s)return s.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};function z7e(e,n){var s=e.length;if(s!==n.length)return!1;for(var r=s;r--!==0;)if(!va(e[r],n[r]))return!1;return!0}function W7e(e,n){if(e.byteLength!==n.byteLength)return!1;for(var s=new DataView(e.buffer),r=new DataView(n.buffer),i=e.byteLength;i--;)if(s.getUint8(i)!==r.getUint8(i))return!1;return!0}function G7e(e,n){var s,r,i,a;if(e.size!==n.size)return!1;try{for(var o=Xy(e.entries()),l=o.next();!l.done;l=o.next()){var c=l.value;if(!n.has(c[0]))return!1}}catch(f){s={error:f}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}try{for(var u=Xy(e.entries()),p=u.next();!p.done;p=u.next()){var c=p.value;if(!va(c[1],n.get(c[0])))return!1}}catch(f){i={error:f}}finally{try{p&&!p.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!0}function q7e(e,n){var s,r;if(e.size!==n.size)return!1;try{for(var i=Xy(e.entries()),a=i.next();!a.done;a=i.next()){var o=a.value;if(!n.has(o[0]))return!1}}catch(l){s={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}return!0}function va(e,n){if(e===n)return!0;if(e&&kk(e)&&n&&kk(n)){if(e.constructor!==n.constructor)return!1;if(Array.isArray(e)&&Array.isArray(n))return z7e(e,n);if(e instanceof Map&&n instanceof Map)return G7e(e,n);if(e instanceof Set&&n instanceof Set)return q7e(e,n);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return W7e(e,n);if(Sk(e)&&Sk(n))return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(var i=s.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(var i=s.length;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!va(e[a],n[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(n)?!0:e===n}function K7e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.every(function(s){return ot.string(s)||ot.array(s)||ot.plainObject(s)})}function Y7e(e,n,s){return yV(e,n)?[e,n].every(ot.array)?!e.some(Mk(s))&&n.some(Mk(s)):[e,n].every(ot.plainObject)?!Object.entries(e).some(Dk(s))&&Object.entries(n).some(Dk(s)):n===s:!1}function Tk(e,n,s){var r=s.actual,i=s.key,a=s.previous,o=s.type,l=Vo(e,i),c=Vo(n,i),u=[l,c].every(ot.number)&&(o==="increased"?l<c:l>c);return ot.undefined(r)||(u=u&&c===r),ot.undefined(a)||(u=u&&l===a),u}function Ik(e,n,s){var r=s.key,i=s.type,a=s.value,o=Vo(e,r),l=Vo(n,r),c=i==="added"?o:l,u=i==="added"?l:o;if(!ot.nullOrUndefined(a)){if(ot.defined(c)){if(ot.array(c)||ot.plainObject(c))return Y7e(c,u,a)}else return va(u,a);return!1}return[o,l].every(ot.array)?!u.every(ew(c)):[o,l].every(ot.plainObject)?Z7e(Object.keys(c),Object.keys(u)):![o,l].every(function(p){return ot.primitive(p)&&ot.defined(p)})&&(i==="added"?!ot.defined(o)&&ot.defined(l):ot.defined(o)&&!ot.defined(l))}function Ak(e,n,s){var r=s===void 0?{}:s,i=r.key,a=Vo(e,i),o=Vo(n,i);if(!yV(a,o))throw new TypeError("Inputs have different types");if(!K7e(a,o))throw new TypeError("Inputs don't have length");return[a,o].every(ot.plainObject)&&(a=Object.keys(a),o=Object.keys(o)),[a,o]}function Dk(e){return function(n){var s=n[0],r=n[1];return ot.array(e)?va(e,r)||e.some(function(i){return va(i,r)||ot.array(r)&&ew(r)(i)}):ot.plainObject(e)&&e[s]?!!e[s]&&va(e[s],r):va(e,r)}}function Z7e(e,n){return n.some(function(s){return!e.includes(s)})}function Mk(e){return function(n){return ot.array(e)?e.some(function(s){return va(s,n)||ot.array(n)&&ew(n)(s)}):va(e,n)}}function z1(e,n){return ot.array(e)?e.some(function(s){return va(s,n)}):va(e,n)}function ew(e){return function(n){return e.some(function(s){return va(s,n)})}}function yV(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.every(ot.array)||e.every(ot.number)||e.every(ot.plainObject)||e.every(ot.string)}function Vo(e,n){if(ot.plainObject(e)||ot.array(e)){if(ot.string(n)){var s=n.split(".");return s.reduce(function(r,i){return r&&r[i]},e)}return ot.number(n)?e[n]:e}return e}function J7e(e,n){if([e,n].some(ot.nullOrUndefined))throw new Error("Missing required parameters");if(![e,n].every(function(f){return ot.plainObject(f)||ot.array(f)}))throw new Error("Expected plain objects or array");var s=function(f,m){try{return Ik(e,n,{key:f,type:"added",value:m})}catch{return!1}},r=function(f,m,h){try{var x=Vo(e,f),y=Vo(n,f),v=ot.defined(m),g=ot.defined(h);if(v||g){var b=g?z1(h,x):!z1(m,x),w=z1(m,y);return b&&w}return[x,y].every(ot.array)||[x,y].every(ot.plainObject)?!va(x,y):x!==y}catch{return!1}},i=function(f,m,h){if(!ot.defined(f))return!1;try{var x=Vo(e,f),y=Vo(n,f),v=ot.defined(h);return z1(m,x)&&(v?z1(h,y):!v)}catch{return!1}},a=function(f,m){return ot.defined(f)?r(f,m):!1},o=function(f,m,h){if(!ot.defined(f))return!1;try{return Tk(e,n,{key:f,actual:m,previous:h,type:"decreased"})}catch{return!1}},l=function(f){try{var m=Ak(e,n,{key:f}),h=m[0],x=m[1];return!!h.length&&!x.length}catch{return!1}},c=function(f){try{var m=Ak(e,n,{key:f}),h=m[0],x=m[1];return!h.length&&!!x.length}catch{return!1}},u=function(f,m,h){if(!ot.defined(f))return!1;try{return Tk(e,n,{key:f,actual:m,previous:h,type:"increased"})}catch{return!1}},p=function(f,m){try{return Ik(e,n,{key:f,type:"removed",value:m})}catch{return!1}};return{added:s,changed:r,changedFrom:i,changedTo:a,decreased:o,emptied:l,filled:c,increased:u,removed:p}}function Lk(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function Lr(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Lk(Object(s),!0).forEach(function(r){qi(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lk(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function mh(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function X7e(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wV(r.key),r)}}function hh(e,n,s){return n&&X7e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qi(e,n,s){return n=wV(n),n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function xh(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Qy(e,n)}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Sg(e)}function Qy(e,n){return Qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qy(e,n)}function Q7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eCe(e,n){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(n.indexOf(i)>=0)&&(s[i]=e[i]);return s}function vV(e,n){if(e==null)return{};var s=eCe(e,n),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tCe(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dl(e)}function gh(e){var n=Q7e();return function(){var r=Sg(e),i;if(n){var a=Sg(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return tCe(this,i)}}function nCe(e,n){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function wV(e){var n=nCe(e,"string");return typeof n=="symbol"?n:String(n)}var sCe={flip:{padding:20},preventOverflow:{padding:10}},rCe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",iCe="The error message is optional, but must be a string if provided.";function aCe(e,n,s,r){return typeof e=="boolean"?e:typeof e=="function"?e(n,s,r):e?!!e:!1}function oCe(e,n){return Object.hasOwnProperty.call(e,n)}function lCe(e,n,s,r){return new Error("Required ".concat(e[n]," `").concat(n,"` was not specified in `").concat(s,"`."))}function cCe(e,n){if(typeof e!="function")throw new TypeError(rCe);if(n&&typeof n!="string")throw new TypeError(iCe)}function Rk(e,n,s){return cCe(e,s),function(r,i,a){for(var o=arguments.length,l=new Array(o>3?o-3:0),c=3;c<o;c++)l[c-3]=arguments[c];return aCe(n,r,i,a)?oCe(r,i)?e.apply(void 0,[r,i,a].concat(l)):lCe(r,i,a):e.apply(void 0,[r,i,a].concat(l))}}var Hs={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},W1=R0.createPortal!==void 0;function Do(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _b(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function L0(e){var n=e.title,s=e.data,r=e.warn,i=r===void 0?!1:r,a=e.debug,o=a===void 0?!1:a,l=i?console.warn||console.error:console.log;o&&n&&s&&(Array.isArray(s)?s.forEach(function(c){ot.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[s]))}function dCe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(n,s,r)}function uCe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(n,s,r)}function pCe(e,n,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(o){s(o),uCe(e,n,i)},dCe(e,n,i,r)}function Pk(){}var CV=(function(e){xh(s,e);var n=gh(s);function s(){return mh(this,s),n.apply(this,arguments)}return hh(s,[{key:"componentDidMount",value:function(){Do()&&(this.node||this.appendNode(),W1||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Do()&&(W1||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Do()||!this.node||(W1||R0.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,a=i.id,o=i.zIndex;this.node||(this.node=document.createElement("div"),a&&(this.node.id=a),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Do())return null;var i=this.props,a=i.children,o=i.setRef;if(this.node||this.appendNode(),W1)return R0.createPortal(a,this.node);var l=R0.unstable_renderSubtreeIntoContainer(this,a.length>1?tt.createElement("div",null,a):a[0],this.node);return o(l),null}},{key:"renderReact16",value:function(){var i=this.props,a=i.hasChildren,o=i.placement,l=i.target;return a?this.renderPortal():l||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return W1?this.renderReact16():null}}]),s})(tt.Component);qi(CV,"propTypes",{children:Xe.oneOfType([Xe.element,Xe.array]),hasChildren:Xe.bool,id:Xe.oneOfType([Xe.string,Xe.number]),placement:Xe.string,setRef:Xe.func.isRequired,target:Xe.oneOfType([Xe.object,Xe.string]),zIndex:Xe.number});var _V=(function(e){xh(s,e);var n=gh(s);function s(){return mh(this,s),n.apply(this,arguments)}return hh(s,[{key:"parentStyle",get:function(){var i=this.props,a=i.placement,o=i.styles,l=o.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return a.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):a.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):a.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):a.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var i=this.props,a=i.placement,o=i.setArrowRef,l=i.styles,c=l.arrow,u=c.color,p=c.display,f=c.length,m=c.margin,h=c.position,x=c.spread,y={display:p,position:h},v,g=x,b=f;return a.startsWith("top")?(v="0,0 ".concat(g/2,",").concat(b," ").concat(g,",0"),y.bottom=0,y.marginLeft=m,y.marginRight=m):a.startsWith("bottom")?(v="".concat(g,",").concat(b," ").concat(g/2,",0 0,").concat(b),y.top=0,y.marginLeft=m,y.marginRight=m):a.startsWith("left")?(b=x,g=f,v="0,0 ".concat(g,",").concat(b/2," 0,").concat(b),y.right=0,y.marginTop=m,y.marginBottom=m):a.startsWith("right")&&(b=x,g=f,v="".concat(g,",").concat(b," ").concat(g,",0 0,").concat(b/2),y.left=0,y.marginTop=m,y.marginBottom=m),tt.createElement("div",{className:"__floater__arrow",style:this.parentStyle},tt.createElement("span",{ref:o,style:y},tt.createElement("svg",{width:g,height:b,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},tt.createElement("polygon",{points:v,fill:u}))))}}]),s})(tt.Component);qi(_V,"propTypes",{placement:Xe.string.isRequired,setArrowRef:Xe.func.isRequired,styles:Xe.object.isRequired});var fCe=["color","height","width"];function jV(e){var n=e.handleClick,s=e.styles,r=s.color,i=s.height,a=s.width,o=vV(s,fCe);return tt.createElement("button",{"aria-label":"close",onClick:n,style:o,type:"button"},tt.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},tt.createElement("g",null,tt.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}jV.propTypes={handleClick:Xe.func.isRequired,styles:Xe.object.isRequired};function NV(e){var n=e.content,s=e.footer,r=e.handleClick,i=e.open,a=e.positionWrapper,o=e.showCloseButton,l=e.title,c=e.styles,u={content:tt.isValidElement(n)?n:tt.createElement("div",{className:"__floater__content",style:c.content},n)};return l&&(u.title=tt.isValidElement(l)?l:tt.createElement("div",{className:"__floater__title",style:c.title},l)),s&&(u.footer=tt.isValidElement(s)?s:tt.createElement("div",{className:"__floater__footer",style:c.footer},s)),(o||a)&&!ot.boolean(i)&&(u.close=tt.createElement(jV,{styles:c.close,handleClick:r})),tt.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}NV.propTypes={content:Xe.node.isRequired,footer:Xe.node,handleClick:Xe.func.isRequired,open:Xe.bool,positionWrapper:Xe.bool.isRequired,showCloseButton:Xe.bool.isRequired,styles:Xe.object.isRequired,title:Xe.node};var FV=(function(e){xh(s,e);var n=gh(s);function s(){return mh(this,s),n.apply(this,arguments)}return hh(s,[{key:"style",get:function(){var i=this.props,a=i.disableAnimation,o=i.component,l=i.placement,c=i.hideArrow,u=i.status,p=i.styles,f=p.arrow.length,m=p.floater,h=p.floaterCentered,x=p.floaterClosing,y=p.floaterOpening,v=p.floaterWithAnimation,g=p.floaterWithComponent,b={};return c||(l.startsWith("top")?b.padding="0 0 ".concat(f,"px"):l.startsWith("bottom")?b.padding="".concat(f,"px 0 0"):l.startsWith("left")?b.padding="0 ".concat(f,"px 0 0"):l.startsWith("right")&&(b.padding="0 0 0 ".concat(f,"px"))),[Hs.OPENING,Hs.OPEN].indexOf(u)!==-1&&(b=Lr(Lr({},b),y)),u===Hs.CLOSING&&(b=Lr(Lr({},b),x)),u===Hs.OPEN&&!a&&(b=Lr(Lr({},b),v)),l==="center"&&(b=Lr(Lr({},b),h)),o&&(b=Lr(Lr({},b),g)),Lr(Lr({},m),b)}},{key:"render",value:function(){var i=this.props,a=i.component,o=i.handleClick,l=i.hideArrow,c=i.setFloaterRef,u=i.status,p={},f=["__floater"];return a?tt.isValidElement(a)?p.content=tt.cloneElement(a,{closeFn:o}):p.content=a({closeFn:o}):p.content=tt.createElement(NV,this.props),u===Hs.OPEN&&f.push("__floater__open"),l||(p.arrow=tt.createElement(_V,this.props)),tt.createElement("div",{ref:c,className:f.join(" "),style:this.style},tt.createElement("div",{className:"__floater__body"},p.content,p.arrow))}}]),s})(tt.Component);qi(FV,"propTypes",{component:Xe.oneOfType([Xe.func,Xe.element]),content:Xe.node,disableAnimation:Xe.bool.isRequired,footer:Xe.node,handleClick:Xe.func.isRequired,hideArrow:Xe.bool.isRequired,open:Xe.bool,placement:Xe.string.isRequired,positionWrapper:Xe.bool.isRequired,setArrowRef:Xe.func.isRequired,setFloaterRef:Xe.func.isRequired,showCloseButton:Xe.bool,status:Xe.string.isRequired,styles:Xe.object.isRequired,title:Xe.node});var EV=(function(e){xh(s,e);var n=gh(s);function s(){return mh(this,s),n.apply(this,arguments)}return hh(s,[{key:"render",value:function(){var i=this.props,a=i.children,o=i.handleClick,l=i.handleMouseEnter,c=i.handleMouseLeave,u=i.setChildRef,p=i.setWrapperRef,f=i.style,m=i.styles,h;if(a)if(tt.Children.count(a)===1)if(!tt.isValidElement(a))h=tt.createElement("span",null,a);else{var x=ot.function(a.type)?"innerRef":"ref";h=tt.cloneElement(tt.Children.only(a),qi({},x,u))}else h=a;return h?tt.createElement("span",{ref:p,style:Lr(Lr({},m),f),onClick:o,onMouseEnter:l,onMouseLeave:c},h):null}}]),s})(tt.Component);qi(EV,"propTypes",{children:Xe.node,handleClick:Xe.func.isRequired,handleMouseEnter:Xe.func.isRequired,handleMouseLeave:Xe.func.isRequired,setChildRef:Xe.func.isRequired,setWrapperRef:Xe.func.isRequired,style:Xe.object,styles:Xe.object.isRequired});var mCe={zIndex:100};function hCe(e){var n=co(mCe,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:n.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:n.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:n}}var xCe=["arrow","flip","offset"],gCe=["position","top","right","bottom","left"],tw=(function(e){xh(s,e);var n=gh(s);function s(r){var i;return mh(this,s),i=n.call(this,r),qi(dl(i),"setArrowRef",function(a){i.arrowRef=a}),qi(dl(i),"setChildRef",function(a){i.childRef=a}),qi(dl(i),"setFloaterRef",function(a){i.floaterRef=a}),qi(dl(i),"setWrapperRef",function(a){i.wrapperRef=a}),qi(dl(i),"handleTransitionEnd",function(){var a=i.state.status,o=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:a===Hs.OPENING?Hs.OPEN:Hs.IDLE},function(){var l=i.state.status;o(l===Hs.OPEN?"open":"close",i.props)})}),qi(dl(i),"handleClick",function(){var a=i.props,o=a.event,l=a.open;if(!ot.boolean(l)){var c=i.state,u=c.positionWrapper,p=c.status;(i.event==="click"||i.event==="hover"&&u)&&(L0({title:"click",data:[{event:o,status:p===Hs.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),qi(dl(i),"handleMouseEnter",function(){var a=i.props,o=a.event,l=a.open;if(!(ot.boolean(l)||_b())){var c=i.state.status;i.event==="hover"&&c===Hs.IDLE&&(L0({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),qi(dl(i),"handleMouseLeave",function(){var a=i.props,o=a.event,l=a.eventDelay,c=a.open;if(!(ot.boolean(c)||_b())){var u=i.state,p=u.status,f=u.positionWrapper;i.event==="hover"&&(L0({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:i.debug}),l?[Hs.OPENING,Hs.OPEN].indexOf(p)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},l*1e3)):i.toggle(Hs.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Hs.INIT,statusWrapper:Hs.INIT},i._isMounted=!1,i.hasMounted=!1,Do()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return hh(s,[{key:"componentDidMount",value:function(){if(Do()){var i=this.state.positionWrapper,a=this.props,o=a.children,l=a.open,c=a.target;this._isMounted=!0,L0({title:"init",data:{hasChildren:!!o,hasTarget:!!c,isControlled:ot.boolean(l),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&c&&ot.boolean(l)}}},{key:"componentDidUpdate",value:function(i,a){if(Do()){var o=this.props,l=o.autoOpen,c=o.open,u=o.target,p=o.wrapperOptions,f=J7e(a,this.state),m=f.changedFrom,h=f.changed;if(i.open!==c){var x;ot.boolean(c)&&(x=c?Hs.OPENING:Hs.CLOSING),this.toggle(x)}(i.wrapperOptions.position!==p.position||i.target!==u)&&this.changeWrapperPosition(this.props),h("status",Hs.IDLE)&&c?this.toggle(Hs.OPEN):m("status",Hs.INIT,Hs.IDLE)&&l&&this.toggle(Hs.OPEN),this.popper&&h("status",Hs.OPENING)&&this.popper.instance.update(),this.floaterRef&&(h("status",Hs.OPENING)||h("status",Hs.CLOSING))&&pCe(this.floaterRef,"transitionend",this.handleTransitionEnd),h("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Do()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,p=l.hideArrow,f=l.offset,m=l.placement,h=l.wrapperOptions,x=m==="top"||m==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(m==="center")this.setState({status:Hs.IDLE});else if(a&&this.floaterRef){var y=this.options,v=y.arrow,g=y.flip,b=y.offset,w=vV(y,xCe);new Mm(a,this.floaterRef,{placement:m,modifiers:Lr({arrow:Lr({enabled:!p,element:this.arrowRef},v),flip:Lr({enabled:!c,behavior:x},g),offset:Lr({offset:"0, ".concat(f,"px")},b)},w),onCreate:function(_){var C;if(i.popper=_,!((C=i.floaterRef)!==null&&C!==void 0&&C.isConnected)){i.setState({needsUpdate:!0});return}u(_,"floater"),i._isMounted&&i.setState({currentPlacement:_.placement,status:Hs.IDLE}),m!==_.placement&&setTimeout(function(){_.instance.update()},1)},onUpdate:function(_){i.popper=_;var C=i.state.currentPlacement;i._isMounted&&_.placement!==C&&i.setState({currentPlacement:_.placement})}})}if(o){var N=ot.undefined(h.offset)?0:h.offset;new Mm(this.target,this.wrapperRef,{placement:h.placement||m,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(N,"px")},flip:{enabled:!1}},onCreate:function(_){i.wrapperPopper=_,i._isMounted&&i.setState({statusWrapper:Hs.IDLE}),u(_,"wrapper"),m!==_.placement&&setTimeout(function(){_.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var a;(a=i.floaterRef)!==null&&a!==void 0&&a.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var a=i.target,o=i.wrapperOptions;this.setState({positionWrapper:o.position&&!!a})}},{key:"toggle",value:function(i){var a=this.state.status,o=a===Hs.OPEN?Hs.CLOSING:Hs.OPENING;ot.undefined(i)||(o=i),this.setState({status:o})}},{key:"debug",get:function(){var i=this.props.debug;return i||Do()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,a=i.disableHoverToClick,o=i.event;return o==="hover"&&_b()&&!a?"click":o}},{key:"options",get:function(){var i=this.props.options;return co(sCe,i||{})}},{key:"styles",get:function(){var i=this,a=this.state,o=a.status,l=a.positionWrapper,c=a.statusWrapper,u=this.props.styles,p=co(hCe(u),u);if(l){var f;[Hs.IDLE].indexOf(o)===-1||[Hs.IDLE].indexOf(c)===-1?f=p.wrapperPosition:f=this.wrapperPopper.styles,p.wrapper=Lr(Lr({},p.wrapper),f)}if(this.target){var m=window.getComputedStyle(this.target);this.wrapperStyles?p.wrapper=Lr(Lr({},p.wrapper),this.wrapperStyles):["relative","static"].indexOf(m.position)===-1&&(this.wrapperStyles={},l||(gCe.forEach(function(h){i.wrapperStyles[h]=m[h]}),p.wrapper=Lr(Lr({},p.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return p}},{key:"target",get:function(){if(!Do())return null;var i=this.props.target;return i?ot.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,a=i.currentPlacement,o=i.positionWrapper,l=i.status,c=this.props,u=c.children,p=c.component,f=c.content,m=c.disableAnimation,h=c.footer,x=c.hideArrow,y=c.id,v=c.open,g=c.showCloseButton,b=c.style,w=c.target,N=c.title,j=tt.createElement(EV,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:b,styles:this.styles.wrapper},u),_={};return o?_.wrapperInPortal=j:_.wrapperAsChildren=j,tt.createElement("span",null,tt.createElement(CV,{hasChildren:!!u,id:y,placement:a,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},tt.createElement(FV,{component:p,content:f,disableAnimation:m,footer:h,handleClick:this.handleClick,hideArrow:x||a==="center",open:v,placement:a,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:g,status:l,styles:this.styles,title:N}),_.wrapperInPortal),_.wrapperAsChildren)}}]),s})(tt.Component);qi(tw,"propTypes",{autoOpen:Xe.bool,callback:Xe.func,children:Xe.node,component:Rk(Xe.oneOfType([Xe.func,Xe.element]),function(e){return!e.content}),content:Rk(Xe.node,function(e){return!e.component}),debug:Xe.bool,disableAnimation:Xe.bool,disableFlip:Xe.bool,disableHoverToClick:Xe.bool,event:Xe.oneOf(["hover","click"]),eventDelay:Xe.number,footer:Xe.node,getPopper:Xe.func,hideArrow:Xe.bool,id:Xe.oneOfType([Xe.string,Xe.number]),offset:Xe.number,open:Xe.bool,options:Xe.object,placement:Xe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:Xe.bool,style:Xe.object,styles:Xe.object,target:Xe.oneOfType([Xe.object,Xe.string]),title:Xe.node,wrapperOptions:Xe.shape({offset:Xe.number,placement:Xe.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:Xe.bool})});qi(tw,"defaultProps",{autoOpen:!1,callback:Pk,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:Pk,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var bCe=Object.defineProperty,yCe=(e,n,s)=>n in e?bCe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,kn=(e,n,s)=>yCe(e,typeof n!="symbol"?n+"":n,s),ir={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},xa={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},js={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},As={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Zl(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function SV(e){return e?e.getBoundingClientRect():null}function vCe(e=!1){const{body:n,documentElement:s}=document;if(!n||!s)return 0;if(e){const r=[n.scrollHeight,n.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight].sort((a,o)=>a-o),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(n.scrollHeight,n.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}function bl(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function wCe(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Lm(e,n,s){if(!e)return wd();const r=nV(e);if(r){if(r.isSameNode(wd()))return s?document:wd();if(!(r.scrollHeight>r.offsetHeight)&&!n)return r.style.overflow="initial",wd()}return r}function B2(e,n){if(!e)return!1;const s=Lm(e,n);return s?!s.isSameNode(wd()):!1}function CCe(e){return e.offsetParent!==document.body}function _p(e,n="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:s}=e,r=wCe(e);return s==="BODY"||s==="HTML"?!1:r&&r.position===n?!0:e.parentNode?_p(e.parentNode,n):!1}function _Ce(e){var n;if(!e)return!1;let s=e;for(;s&&s!==document.body;){if(s instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(s);if(r==="none"||i==="hidden")return!1}s=(n=s.parentElement)!=null?n:null}return!0}function jCe(e,n,s){var r,i,a;const o=SV(e),l=Lm(e,s),c=B2(e,s),u=_p(e);let p=0,f=(r=o?.top)!=null?r:0;if(c&&u){const m=(i=e?.offsetTop)!=null?i:0,h=(a=l?.scrollTop)!=null?a:0;f=m-h}else l instanceof HTMLElement&&(p=l.scrollTop,!c&&!_p(e)&&(f+=p),l.isSameNode(wd())||(f+=wd().scrollTop));return Math.floor(f-n)}function NCe(e,n,s){var r;if(!e)return 0;const{offsetTop:i=0,scrollTop:a=0}=(r=nV(e))!=null?r:{};let o=e.getBoundingClientRect().top+a;i&&(B2(e,s)||CCe(e))&&(o-=i);const l=Math.floor(o-n);return l<0?0:l}function wd(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function FCe(e,n){const{duration:s,element:r}=n;return new Promise((i,a)=>{const{scrollTop:o}=r,l=e>o?e-o:o-e;Wwe.top(r,e,{duration:l<100?50:s},c=>c&&c.message!=="Element already at target scroll position"?a(c):i())})}var G1=Gu.createPortal!==void 0;function kV(e=navigator.userAgent){let n=e;return typeof window>"u"?n="node":document.documentMode?n="ie":/Edge/.test(e)?n="edge":window.opera||e.includes(" OPR/")?n="opera":typeof window.InstallTrigger<"u"?n="firefox":window.chrome?n="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(n="safari"),n}function lx(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Mo(e,n={}){const{defaultValue:s,step:r,steps:i}=n;let a=wk(e);if(a)(a.includes("{step}")||a.includes("{steps}"))&&r&&i&&(a=a.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(d.isValidElement(e)&&!Object.values(e.props).length&&lx(e.type)==="function"){const o=e.type({});a=Mo(o,n)}else a=wk(s);return a}function ECe(e,n){return!Fi.plainObject(e)||!Fi.array(n)?!1:Object.keys(e).every(s=>n.includes(s))}function SCe(e){const n=/^#?([\da-f])([\da-f])([\da-f])$/i,s=e.replace(n,(i,a,o,l)=>a+a+o+o+l+l),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(s);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function Ok(e){return e.disableBeacon||e.placement==="center"}function Bk(){return!["chrome","safari","firefox","opera"].includes(kV())}function $d({data:e,debug:n=!1,title:s,warn:r=!1}){const i=r?console.warn||console.error:console.log;n&&s&&e&&(Array.isArray(e)?e.forEach(a=>{Fi.plainObject(a)&&a.key?i.apply(console,[a.key,a.value]):i.apply(console,[a])}):i.apply(console,[e]))}function kCe(e){return Object.keys(e)}function TV(e,...n){if(!Fi.plainObject(e))throw new TypeError("Expected an object");const s={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(n.includes(r)||(s[r]=e[r]));return s}function TCe(e,...n){if(!Fi.plainObject(e))throw new TypeError("Expected an object");if(!n.length)return e;const s={};for(const r in e)({}).hasOwnProperty.call(e,r)&&n.includes(r)&&(s[r]=e[r]);return s}function ev(e,n,s){const r=a=>a.replace("{step}",String(n)).replace("{steps}",String(s));if(lx(e)==="string")return r(e);if(!d.isValidElement(e))return e;const{children:i}=e.props;if(lx(i)==="string"&&i.includes("{step}"))return d.cloneElement(e,{children:r(i)});if(Array.isArray(i))return d.cloneElement(e,{children:i.map(a=>typeof a=="string"?r(a):ev(a,n,s))});if(lx(e.type)==="function"&&!Object.values(e.props).length){const a=e.type({});return ev(a,n,s)}return e}function ICe(e){const{isFirstStep:n,lifecycle:s,previousLifecycle:r,scrollToFirstStep:i,step:a,target:o}=e;return!a.disableScrolling&&(!n||i||s===js.TOOLTIP)&&a.placement!=="center"&&(!a.isFixed||!_p(o))&&r!==s&&[js.BEACON,js.TOOLTIP].includes(s)}var ACe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},IV={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},DCe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:IV,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},MCe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},LCe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},q1={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Uk={borderRadius:4,position:"absolute"};function RCe(e,n){var s,r,i,a,o;const{floaterProps:l,styles:c}=e,u=co((s=n.floaterProps)!=null?s:{},l??{}),p=co(c??{},(r=n.styles)!=null?r:{}),f=co(LCe,p.options||{}),m=n.placement==="center"||n.disableBeacon;let{width:h}=f;window.innerWidth>480&&(h=380),"width"in f&&(h=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const x={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},y={beacon:{...q1,display:m?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${SCe(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:h},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...q1,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...q1,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...q1,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...q1,color:f.textColor,fontSize:14},overlay:{...x,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...x},overlayLegacyCenter:{...x,backgroundColor:f.overlayColor},spotlight:{...Uk,backgroundColor:"gray"},spotlightLegacy:{...Uk,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(a=(i=u?.styles)==null?void 0:i.arrow)==null?void 0:a.color)!=null?o:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return co(y,p)}function PCe(e){return TCe(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Eu(e,n){var s,r,i,a,o,l;const c=n??{},u=co.all([DCe,PCe(e),c],{isMergeableObject:Fi.plainObject}),p=RCe(e,u),f=B2(bl(u.target),u.disableScrollParentFix),m=co.all([ACe,(s=e.floaterProps)!=null?s:{},(r=u.floaterProps)!=null?r:{}]);return m.offset=u.offset,m.styles=co((i=m.styles)!=null?i:{},p.floaterStyles),m.offset+=(o=(a=e.spotlightPadding)!=null?a:u.spotlightPadding)!=null?o:0,u.placementBeacon&&m.wrapperOptions&&(m.wrapperOptions.placement=u.placementBeacon),f&&m.options.preventOverflow&&(m.options.preventOverflow.boundariesElement="window"),{...u,locale:co.all([IV,(l=e.locale)!=null?l:{},u.locale||{}]),floaterProps:m,styles:TV(p,"floaterStyles")}}function AV(e,n=!1){return Fi.plainObject(e)?e.target?!0:($d({title:"validateStep",data:"target is missing from the step",warn:!0,debug:n}),!1):($d({title:"validateStep",data:"step must be an object",warn:!0,debug:n}),!1)}function Vk(e,n=!1){return Fi.array(e)?e.every(s=>AV(s,n)):($d({title:"validateSteps",data:"steps must be an array",warn:!0,debug:n}),!1)}var DV={action:"init",controlled:!1,index:0,lifecycle:js.INIT,origin:null,size:0,status:As.IDLE},Hk=kCe(TV(DV,"controlled","size")),OCe=class{constructor(e){kn(this,"beaconPopper"),kn(this,"tooltipPopper"),kn(this,"data",new Map),kn(this,"listener"),kn(this,"store",new Map),kn(this,"addListener",i=>{this.listener=i}),kn(this,"setSteps",i=>{const{size:a,status:o}=this.getState(),l={size:i.length,status:o};this.data.set("steps",i),o===As.WAITING&&!a&&i.length&&(l.status=As.RUNNING),this.setState(l)}),kn(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),kn(this,"setPopper",(i,a)=>{i==="beacon"?this.beaconPopper=a:this.tooltipPopper=a}),kn(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),kn(this,"close",(i=null)=>{const{index:a,status:o}=this.getState();o===As.RUNNING&&this.setState({...this.getNextState({action:ir.CLOSE,index:a+1,origin:i})})}),kn(this,"go",i=>{const{controlled:a,status:o}=this.getState();if(a||o!==As.RUNNING)return;const l=this.getSteps()[i];this.setState({...this.getNextState({action:ir.GO,index:i}),status:l?o:As.FINISHED})}),kn(this,"info",()=>this.getState()),kn(this,"next",()=>{const{index:i,status:a}=this.getState();a===As.RUNNING&&this.setState(this.getNextState({action:ir.NEXT,index:i+1}))}),kn(this,"open",()=>{const{status:i}=this.getState();i===As.RUNNING&&this.setState({...this.getNextState({action:ir.UPDATE,lifecycle:js.TOOLTIP})})}),kn(this,"prev",()=>{const{index:i,status:a}=this.getState();a===As.RUNNING&&this.setState({...this.getNextState({action:ir.PREV,index:i-1})})}),kn(this,"reset",(i=!1)=>{const{controlled:a}=this.getState();a||this.setState({...this.getNextState({action:ir.RESET,index:0}),status:i?As.RUNNING:As.READY})}),kn(this,"skip",()=>{const{status:i}=this.getState();i===As.RUNNING&&this.setState({action:ir.SKIP,lifecycle:js.INIT,status:As.SKIPPED})}),kn(this,"start",i=>{const{index:a,size:o}=this.getState();this.setState({...this.getNextState({action:ir.START,index:Fi.number(i)?i:a},!0),status:o?As.RUNNING:As.WAITING})}),kn(this,"stop",(i=!1)=>{const{index:a,status:o}=this.getState();[As.FINISHED,As.SKIPPED].includes(o)||this.setState({...this.getNextState({action:ir.STOP,index:a+(i?1:0)}),status:As.PAUSED})}),kn(this,"update",i=>{var a,o;if(!ECe(i,Hk))throw new Error(`State is not valid. Valid keys: ${Hk.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(a=i.action)!=null?a:ir.UPDATE,origin:(o=i.origin)!=null?o:null},!0)})});const{continuous:n=!1,stepIndex:s,steps:r=[]}=e??{};this.setState({action:ir.INIT,controlled:Fi.number(s),continuous:n,index:Fi.number(s)?s:0,lifecycle:js.INIT,origin:null,status:r.length?As.READY:As.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...DV}}getNextState(e,n=!1){var s,r,i,a,o;const{action:l,controlled:c,index:u,size:p,status:f}=this.getState(),m=Fi.number(e.index)?e.index:u,h=c&&!n?u:Math.min(Math.max(m,0),p);return{action:(s=e.action)!=null?s:l,controlled:c,index:h,lifecycle:(r=e.lifecycle)!=null?r:js.INIT,origin:(i=e.origin)!=null?i:null,size:(a=e.size)!=null?a:p,status:h===p?As.FINISHED:(o=e.status)!=null?o:f}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const n=JSON.stringify(e),s=JSON.stringify(this.getState());return n!==s}setState(e,n=!1){const s=this.getState(),{action:r,index:i,lifecycle:a,origin:o=null,size:l,status:c}={...s,...e};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",a),this.store.set("origin",o),this.store.set("size",l),this.store.set("status",c),n&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(s)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function BCe(e){return new OCe(e)}function UCe({styles:e}){return d.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var VCe=UCe,HCe=class extends d.Component{constructor(){super(...arguments),kn(this,"isActive",!1),kn(this,"resizeTimeout"),kn(this,"scrollTimeout"),kn(this,"scrollParent"),kn(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),kn(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:n,lifecycle:s}=this.props,r=[js.INIT,js.BEACON,js.COMPLETE,js.ERROR];return n||(e?r.includes(s):s!==js.TOOLTIP)}),kn(this,"handleMouseMove",e=>{const{mouseOverSpotlight:n}=this.state,{height:s,left:r,position:i,top:a,width:o}=this.spotlightStyles,l=i==="fixed"?e.clientY:e.pageY,c=i==="fixed"?e.clientX:e.pageX,u=l>=a&&l<=a+s,f=c>=r&&c<=r+o&&u;f!==n&&this.updateState({mouseOverSpotlight:f})}),kn(this,"handleScroll",()=>{const{target:e}=this.props,n=bl(e);if(this.scrollParent!==document){const{isScrolling:s}=this.state;s||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else _p(n,"sticky")&&this.updateState({})}),kn(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:n,disableScrollParentFix:s=!1,target:r}=this.props,i=bl(r);this.scrollParent=Lm(i??document.body,s,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var n;const{disableScrollParentFix:s,lifecycle:r,spotlightClicks:i,target:a}=this.props,{changed:o}=Ng(e,this.props);if(o("target")||o("disableScrollParentFix")){const l=bl(a);this.scrollParent=Lm(l??document.body,s,!0)}o("lifecycle",js.TOOLTIP)&&((n=this.scrollParent)==null||n.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(i&&r===js.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==js.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:n,placement:s,styles:r}=this.props;let i=r.overlay;return Bk()&&(i=s==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:n?"default":"pointer",height:vCe(),pointerEvents:e?"none":"auto",...i}}get spotlightStyles(){var e,n,s;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:a,spotlightPadding:o=0,styles:l,target:c}=this.props,u=bl(c),p=SV(u),f=_p(u),m=jCe(u,o,i);return{...Bk()?l.spotlightLegacy:l.spotlight,height:Math.round(((e=p?.height)!=null?e:0)+o*2),left:Math.round(((n=p?.left)!=null?n:0)-o),opacity:r?1:0,pointerEvents:a?"none":"auto",position:f?"fixed":"absolute",top:m,transition:"opacity 0.2s",width:Math.round(((s=p?.width)!=null?s:0)+o*2)}}updateState(e){this.isActive&&this.setState(n=>({...n,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:n,placement:s}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:a}=this;if(r())return null;let o=s!=="center"&&e&&d.createElement(VCe,{styles:a});if(kV()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=i;o=d.createElement("div",{style:{...u}},o),delete i.backgroundColor}return d.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:n,role:"presentation",style:i},o)}},$Ce=class extends d.Component{constructor(){super(...arguments),kn(this,"node",null)}componentDidMount(){const{id:e}=this.props;Zl()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),G1||this.renderReact15())}componentDidUpdate(){Zl()&&(G1||this.renderReact15())}componentWillUnmount(){!Zl()||!this.node||(G1||Gu.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Zl())return;const{children:e}=this.props;this.node&&Gu.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Zl()||!G1)return null;const{children:e}=this.props;return this.node?Gu.createPortal(e,this.node):null}render(){return G1?this.renderReact16():null}},zCe=class{constructor(e,n){if(kn(this,"element"),kn(this,"options"),kn(this,"canBeTabbed",s=>{const{tabIndex:r}=s;return r===null||r<0?!1:this.canHaveFocus(s)}),kn(this,"canHaveFocus",s=>{const r=/input|select|textarea|button|object/,i=s.nodeName.toLowerCase();return(r.test(i)&&!s.getAttribute("disabled")||i==="a"&&!!s.getAttribute("href"))&&this.isVisible(s)}),kn(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),kn(this,"handleKeyDown",s=>{const{code:r="Tab"}=this.options;s.code===r&&this.interceptTab(s)}),kn(this,"interceptTab",s=>{s.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=s;if(!r.length)return;let a=document.activeElement?r.indexOf(document.activeElement):0;a===-1||!i&&a+1===r.length?a=0:i&&a===0?a=r.length-1:a+=i?-1:1,r[a].focus()}),kn(this,"isHidden",s=>{const r=s.offsetWidth<=0&&s.offsetHeight<=0,i=window.getComputedStyle(s);return r&&!s.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),kn(this,"isVisible",s=>{let r=s;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),kn(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),kn(this,"checkFocus",s=>{document.activeElement!==s&&(s.focus(),window.requestAnimationFrame(()=>this.checkFocus(s)))}),kn(this,"setFocus",()=>{const{selector:s}=this.options;if(!s)return;const r=this.element.querySelector(s);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=n,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},WCe=class extends d.Component{constructor(e){if(super(e),kn(this,"beacon",null),kn(this,"setBeaconRef",i=>{this.beacon=i}),e.beaconComponent)return;const n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id="joyride-beacon-animation",e.nonce&&s.setAttribute("nonce",e.nonce),s.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),n.appendChild(s)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{Fi.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e?.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:n,index:s,isLastStep:r,locale:i,onClickOrHover:a,size:o,step:l,styles:c}=this.props,u=Mo(i.open),p={"aria-label":u,onClick:a,onMouseEnter:a,ref:this.setBeaconRef,title:u};let f;if(e){const m=e;f=d.createElement(m,{continuous:n,index:s,isLastStep:r,size:o,step:l,...p})}else f=d.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...p},d.createElement("span",{style:c.beaconInner}),d.createElement("span",{style:c.beaconOuter}));return f}};function GCe({styles:e,...n}){const{color:s,height:r,width:i,...a}=e;return tt.createElement("button",{style:a,type:"button",...n},tt.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},tt.createElement("g",null,tt.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:s}))))}var qCe=GCe;function KCe(e){const{backProps:n,closeProps:s,index:r,isLastStep:i,primaryProps:a,skipProps:o,step:l,tooltipProps:c}=e,{content:u,hideBackButton:p,hideCloseButton:f,hideFooter:m,showSkipButton:h,styles:x,title:y}=l,v={};return v.primary=d.createElement("button",{"data-test-id":"button-primary",style:x.buttonNext,type:"button",...a}),h&&!i&&(v.skip=d.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:x.buttonSkip,type:"button",...o})),!p&&r>0&&(v.back=d.createElement("button",{"data-test-id":"button-back",style:x.buttonBack,type:"button",...n})),v.close=!f&&d.createElement(qCe,{"data-test-id":"button-close",styles:x.buttonClose,...s}),d.createElement("div",{key:"JoyrideTooltip","aria-label":Mo(y??u),className:"react-joyride__tooltip",style:x.tooltip,...c},d.createElement("div",{style:x.tooltipContainer},y&&d.createElement("h1",{"aria-label":Mo(y),style:x.tooltipTitle},y),d.createElement("div",{style:x.tooltipContent},u)),!m&&d.createElement("div",{style:x.tooltipFooter},d.createElement("div",{style:x.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)}var YCe=KCe,ZCe=class extends d.Component{constructor(){super(...arguments),kn(this,"handleClickBack",e=>{e.preventDefault();const{helpers:n}=this.props;n.prev()}),kn(this,"handleClickClose",e=>{e.preventDefault();const{helpers:n}=this.props;n.close("button_close")}),kn(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:n,helpers:s}=this.props;if(!n){s.close("button_primary");return}s.next()}),kn(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:n}=this.props;n.skip()}),kn(this,"getElementsProps",()=>{const{continuous:e,index:n,isLastStep:s,setTooltipRef:r,size:i,step:a}=this.props,{back:o,close:l,last:c,next:u,nextLabelWithProgress:p,skip:f}=a.locale,m=Mo(o),h=Mo(l),x=Mo(c),y=Mo(u),v=Mo(f);let g=l,b=h;if(e){if(g=u,b=y,a.showProgress&&!s){const w=Mo(p,{step:n+1,steps:i});g=ev(p,n+1,i),b=w}s&&(g=c,b=x)}return{backProps:{"aria-label":m,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:m},closeProps:{"aria-label":h,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:h},primaryProps:{"aria-label":b,children:g,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:b},skipProps:{"aria-label":v,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:v},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:n,isLastStep:s,setTooltipRef:r,size:i,step:a}=this.props,{beaconComponent:o,tooltipComponent:l,...c}=a;let u;if(l){const p={...this.getElementsProps(),continuous:e,index:n,isLastStep:s,size:i,step:c,setTooltipRef:r},f=l;u=d.createElement(f,{...p})}else u=d.createElement(YCe,{...this.getElementsProps(),continuous:e,index:n,isLastStep:s,size:i,step:a});return u}},JCe=class extends d.Component{constructor(){super(...arguments),kn(this,"scope",null),kn(this,"tooltip",null),kn(this,"handleClickHoverBeacon",e=>{const{step:n,store:s}=this.props;e.type==="mouseenter"&&n.event!=="hover"||s.update({lifecycle:js.TOOLTIP})}),kn(this,"setTooltipRef",e=>{this.tooltip=e}),kn(this,"setPopper",(e,n)=>{var s;const{action:r,lifecycle:i,step:a,store:o}=this.props;n==="wrapper"?o.setPopper("beacon",e):o.setPopper("tooltip",e),o.getPopper("beacon")&&(o.getPopper("tooltip")||a.placement==="center")&&i===js.INIT&&o.update({action:r,lifecycle:js.READY}),(s=a.floaterProps)!=null&&s.getPopper&&a.floaterProps.getPopper(e,n)}),kn(this,"renderTooltip",e=>{const{continuous:n,helpers:s,index:r,size:i,step:a}=this.props;return d.createElement(ZCe,{continuous:n,helpers:s,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:a,...e})})}componentDidMount(){const{debug:e,index:n}=this.props;$d({title:`step:${n}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var n;const{action:s,callback:r,continuous:i,controlled:a,debug:o,helpers:l,index:c,lifecycle:u,shouldScroll:p,status:f,step:m,store:h}=this.props,{changed:x,changedFrom:y}=Ng(e,this.props),v=l.info(),g=i&&s!==ir.CLOSE&&(c>0||s===ir.PREV),b=x("action")||x("index")||x("lifecycle")||x("status"),w=y("lifecycle",[js.TOOLTIP,js.INIT],js.INIT),N=x("action",[ir.NEXT,ir.PREV,ir.SKIP,ir.CLOSE]),j=a&&c===e.index;if(N&&(w||j)&&r({...v,index:e.index,lifecycle:js.COMPLETE,step:e.step,type:xa.STEP_AFTER}),m.placement==="center"&&f===As.RUNNING&&x("index")&&s!==ir.START&&u===js.INIT&&h.update({lifecycle:js.READY}),b){const _=bl(m.target);!!_&&_Ce(_)?(y("status",As.READY,As.RUNNING)||y("lifecycle",js.INIT,js.READY))&&r({...v,step:m,type:xa.STEP_BEFORE}):(r({...v,type:xa.TARGET_NOT_FOUND,step:m}),a||h.update({index:c+(s===ir.PREV?-1:1)}))}y("lifecycle",js.INIT,js.READY)&&h.update({lifecycle:Ok(m)||g?js.TOOLTIP:js.BEACON}),x("index")&&$d({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:o}),x("lifecycle",js.BEACON)&&r({...v,step:m,type:xa.BEACON}),x("lifecycle",js.TOOLTIP)&&(r({...v,step:m,type:xa.TOOLTIP}),p&&this.tooltip&&(this.scope=new zCe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[js.TOOLTIP,js.INIT],js.INIT)&&((n=this.scope)==null||n.removeScope(),h.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:n}=this.props;return Ok(n)||e===js.TOOLTIP}render(){const{continuous:e,debug:n,index:s,nonce:r,shouldScroll:i,size:a,step:o}=this.props,l=bl(o.target);return!AV(o)||!Fi.domElement(l)?null:d.createElement("div",{key:`JoyrideStep-${s}`,className:"react-joyride__step"},d.createElement(tw,{...o.floaterProps,component:this.renderTooltip,debug:n,getPopper:this.setPopper,id:`react-joyride-step-${s}`,open:this.open,placement:o.placement,target:o.target},d.createElement(WCe,{beaconComponent:o.beaconComponent,continuous:e,index:s,isLastStep:s+1===a,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:a,step:o,styles:o.styles})))}},MV=class extends d.Component{constructor(e){super(e),kn(this,"helpers"),kn(this,"store"),kn(this,"callback",o=>{const{callback:l}=this.props;Fi.function(l)&&l(o)}),kn(this,"handleKeyboard",o=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,p=u[l];c===js.TOOLTIP&&o.code==="Escape"&&p&&!p.disableCloseOnEsc&&this.store.close("keyboard")}),kn(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:l}=this.props;Eu(this.props,l[o]).disableOverlayClose||this.helpers.close("overlay")}),kn(this,"syncState",o=>{this.setState(o)});const{debug:n,getHelpers:s,run:r=!0,stepIndex:i}=e;this.store=BCe({...e,controlled:r&&Fi.number(i)}),this.helpers=this.store.getHelpers();const{addListener:a}=this.store;$d({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:n}),a(this.syncState),s&&s(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Zl())return;const{debug:e,disableCloseOnEsc:n,run:s,steps:r}=this.props,{start:i}=this.store;Vk(r,e)&&s&&i(),n||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,n){if(!Zl())return;const{action:s,controlled:r,index:i,status:a}=this.state,{debug:o,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:p,steps:f}=e,{reset:m,setSteps:h,start:x,stop:y,update:v}=this.store,{changed:g}=Ng(e,this.props),{changed:b,changedFrom:w}=Ng(n,this.state),N=Eu(this.props,u[i]),j=!oa(f,u),_=Fi.number(c)&&g("stepIndex"),C=bl(N.target);if(j&&Vk(u,o)&&h(u),g("run")&&(l?x(c):y()),_){let S=Fi.number(p)&&p<c?ir.NEXT:ir.PREV;s===ir.STOP&&(S=ir.START),[As.FINISHED,As.SKIPPED].includes(a)||v({action:s===ir.CLOSE?ir.CLOSE:S,index:c,lifecycle:js.INIT})}!r&&a===As.RUNNING&&i===0&&!C&&(this.store.update({index:i+1}),this.callback({...this.state,type:xa.TARGET_NOT_FOUND,step:N}));const F={...this.state,index:i,step:N};if(b("action",[ir.NEXT,ir.PREV,ir.SKIP,ir.CLOSE])&&b("status",As.PAUSED)){const S=Eu(this.props,u[n.index]);this.callback({...F,index:n.index,lifecycle:js.COMPLETE,step:S,type:xa.STEP_AFTER})}if(b("status",[As.FINISHED,As.SKIPPED])){const S=Eu(this.props,u[n.index]);r||this.callback({...F,index:n.index,lifecycle:js.COMPLETE,step:S,type:xa.STEP_AFTER}),this.callback({...F,type:xa.TOUR_END,step:S,index:n.index}),m()}else w("status",[As.IDLE,As.READY],As.RUNNING)?this.callback({...F,type:xa.TOUR_START}):(b("status")||b("action",ir.RESET))&&this.callback({...F,type:xa.TOUR_STATUS});this.scrollToStep(n)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:n,lifecycle:s,status:r}=this.state,{debug:i,disableScrollParentFix:a=!1,scrollDuration:o,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,p=Eu(this.props,u[n]),f=bl(p.target),m=ICe({isFirstStep:n===0,lifecycle:s,previousLifecycle:e.lifecycle,scrollToFirstStep:c,step:p,target:f});if(r===As.RUNNING&&m){const h=B2(f,a),x=Lm(f,a);let y=Math.floor(NCe(f,l,a))||0;$d({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:s},{key:"status",value:r}],debug:i});const v=this.store.getPopper("beacon"),g=this.store.getPopper("tooltip");if(s===js.BEACON&&v){const{offsets:b,placement:w}=v;!["bottom"].includes(w)&&!h&&(y=Math.floor(b.popper.top-l))}else if(s===js.TOOLTIP&&g){const{flipped:b,offsets:w,placement:N}=g;["top","right","left"].includes(N)&&!b&&!h?y=Math.floor(w.popper.top-l):y-=p.spotlightPadding}y=y>=0?y:0,r===As.RUNNING&&FCe(y,{element:x,duration:o}).then(()=>{setTimeout(()=>{var b;(b=this.store.getPopper("tooltip"))==null||b.instance.update()},10)})}}render(){if(!Zl())return null;const{index:e,lifecycle:n,status:s}=this.state,{continuous:r=!1,debug:i=!1,nonce:a,scrollToFirstStep:o=!1,steps:l}=this.props,c=s===As.RUNNING,u={};if(c&&l[e]){const p=Eu(this.props,l[e]);u.step=d.createElement(JCe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:a,shouldScroll:!p.disableScrolling&&(e!==0||o),step:p,store:this.store}),u.overlay=d.createElement($Ce,{id:"react-joyride-portal"},d.createElement(HCe,{...p,continuous:r,debug:i,lifecycle:n,onClickOverlay:this.handleClickOverlay}))}return d.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};kn(MV,"defaultProps",MCe);var XCe=MV;function QCe({continuous:e,index:n,step:s,backProps:r,primaryProps:i,skipProps:a,tooltipProps:o,size:l}){const{t:c}=Jt("teams");return t.jsxs("div",{...o,style:{backgroundColor:"#ffffff",borderRadius:12,padding:0,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.2)",maxWidth:320,minWidth:280,height:n===0?150:140,display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"12px 12px 8px 12px"},children:[s.title&&t.jsx("h4",{className:"text-[#0F0F10] font-['Inter'] text-[15px] font-semibold leading-[20px] m-0 mb-[4px]",children:s.title}),t.jsx("p",{className:"text-[#0F0F10] font-['Inter'] text-[13px] font-medium leading-[18px] opacity-60 m-0",children:s.content})]}),t.jsxs("div",{style:{padding:"4px 12px 12px 12px",marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{display:"flex",gap:6,alignItems:"center"},children:Array.from({length:l},(u,p)=>t.jsx("div",{style:{width:p===n?20:8,height:8,borderRadius:4,backgroundColor:p===n?"#0F0F0F":"#E0E0E0",transition:"all 0.2s ease"}},p))}),t.jsxs("div",{className:"flex gap-2 items-center",children:[n<l-1&&t.jsx("button",{...a,className:"flex py-[2px] px-[8px] justify-center items-center gap-[10px] rounded-[5px] bg-[#0B0B0B]/10 text-black font-['Inter'] text-[12px] font-medium leading-[20px] border-none cursor-pointer",children:c("guidedTour.skip","Skip")}),t.jsx("button",{...i,className:"flex py-[2px] px-[8px] justify-center items-center gap-[10px] rounded-[5px] bg-[#0B0B0B] text-white font-['Inter'] text-[12px] font-medium leading-[20px] border-none cursor-pointer",children:n===l-1?c("guidedTour.gotIt","Okay, got it"):c("guidedTour.next","Next")})]})]})]})}const e_e={options:{arrowColor:"#ffffff",backgroundColor:"#ffffff",overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#0F0F0F",textColor:"#0F0F0F",spotlightShadow:"0 0 0 2px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 255, 255, 0.15)",zIndex:1e4,width:320},tooltip:{borderRadius:12,padding:0,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.2)"},tooltipContainer:{textAlign:"left"},tooltipTitle:{fontSize:16,fontWeight:600,color:"#0F0F0F",marginBottom:4,padding:"16px 16px 0 16px"},tooltipContent:{fontSize:14,color:"#666666",lineHeight:1.5,padding:"4px 16px 12px 16px"},tooltipFooter:{borderTop:"none",padding:"8px 16px 16px 16px",marginTop:0,display:"flex",justifyContent:"space-between",alignItems:"center"},buttonNext:{backgroundColor:"#0F0F0F",borderRadius:8,color:"#ffffff",fontSize:14,fontWeight:500,padding:"8px 16px",outline:"none",border:"none",cursor:"pointer"},buttonBack:{color:"#666666",fontSize:14,fontWeight:500,marginRight:8,background:"transparent",border:"none",cursor:"pointer"},buttonSkip:{color:"#666666",fontSize:14,fontWeight:500,background:"transparent",border:"none",padding:"8px 12px",cursor:"pointer"},buttonClose:{display:"none"},spotlight:{borderRadius:12,boxShadow:"none"},beacon:{display:"none"}};function t_e({run:e,onFinish:n}){const{t:s}=Jt("teams"),{isMobile:r}=ps(),[i,a]=d.useState(!1),[o,l]=d.useState(0),c=Yu(),u=[{target:'[data-tour="workspace-switcher"]',title:s("guidedTour.switchProject.title","Switch your project"),content:s("guidedTour.switchProject.description","Use this menu to jump between your different projects or create a new one."),disableBeacon:!0,placement:"right",placementBeacon:"right",spotlightPadding:6,offset:16,styles:{spotlight:{borderRadius:24}}},{target:'[data-tour="add-member-button"]',title:s("guidedTour.inviteTeam.title","Invite Your Team"),content:s("guidedTour.inviteTeam.description","Click here to invite team members and start collaborating on this project."),disableBeacon:!0,placement:"bottom",spotlightPadding:0,offset:8,styles:{spotlight:{borderRadius:100}}}],p=(h,x=1e4)=>new Promise(y=>{const v=document.querySelector(h);if(v){y(v);return}const g=new MutationObserver(()=>{const b=document.querySelector(h);b&&(g.disconnect(),y(b))});g.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{g.disconnect(),y(document.querySelector(h))},x)});d.useEffect(()=>{if(i)return window.dispatchEvent(new CustomEvent("tour-started")),()=>{window.dispatchEvent(new CustomEvent("tour-ended")),setTimeout(()=>{window.dispatchEvent(new CustomEvent("close-workspace-switcher"))},100)}},[i]),d.useEffect(()=>{if(i&&o===0){window.dispatchEvent(new CustomEvent("open-workspace-switcher"));const h=setInterval(()=>{o===0&&window.dispatchEvent(new CustomEvent("open-workspace-switcher"))},300);return()=>{clearInterval(h)}}},[i,o]),d.useEffect(()=>{const h=UK(),x=Yu(),y=CA(),v=Pv();if(!h||x)return;if(!(y||v)){hC();return}hC(),(async()=>{await new Promise(N=>setTimeout(N,2e3)),await p('[data-tour="workspace-switcher"]',5e3)&&(window.dispatchEvent(new CustomEvent("open-workspace-switcher")),await new Promise(N=>setTimeout(N,400)),a(!0))})()},[]),d.useEffect(()=>{e!==void 0&&(e&&!Yu()?(window.dispatchEvent(new CustomEvent("open-workspace-switcher")),setTimeout(()=>a(!0),300)):a(e))},[e]);const f=d.useCallback(h=>{const{status:x,type:y,index:v,action:g}=h;if(y===xa.TARGET_NOT_FOUND){v===1&&(V5(),window.dispatchEvent(new CustomEvent("close-workspace-switcher")),a(!1),l(0),n?.());return}if(y===xa.STEP_AFTER){if(z(Tn.TOUR_EVENTS?.TOUR_STEP_COMPLETED,{tourId:"project-onboarding",stepIndex:v,stepId:u[v]?.target}),v===0&&g===ir.NEXT){window.dispatchEvent(new CustomEvent("close-workspace-switcher")),setTimeout(()=>{document.querySelector('[data-tour="add-member-button"]')?l(1):(V5(),a(!1),l(0),n?.())},300);return}l(v+1)}if(x===As.FINISHED||x===As.SKIPPED){const b=x===As.SKIPPED;z(b?Tn.TOUR_EVENTS?.TOUR_SKIPPED:Tn.TOUR_EVENTS?.TOUR_COMPLETED,{tourId:"project-onboarding",totalSteps:u.length,...b&&{skippedAtStep:v}}),V5(),a(!1),l(0),setTimeout(()=>{window.dispatchEvent(new CustomEvent("close-workspace-switcher"))},150),n?.()}y===xa.TOUR_START&&z(Tn.TOUR_EVENTS?.TOUR_STARTED,{tourId:"project-onboarding",totalSteps:u.length})},[u,n]);return r||!(!c||e||i)?null:t.jsx(XCe,{steps:u,run:i,stepIndex:o,continuous:!0,showSkipButton:!0,disableOverlayClose:!0,disableCloseOnEsc:!1,spotlightClicks:!1,disableScrolling:!0,callback:f,styles:e_e,tooltipComponent:QCe,floaterProps:{disableAnimation:!1,hideArrow:!1,offset:12,placement:"right",styles:{floater:{filter:"drop-shadow(0 4px 20px rgba(0, 0, 0, 0.15))"},arrow:{length:14,spread:18}}}})}function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tv(e)}function LV(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":tv(XMLHttpRequest))==="object"}function n_e(e){return!!e&&typeof e.then=="function"}function s_e(e){return n_e(e)?e:Promise.resolve(e)}function $k(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function zk(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?$k(Object(s),!0).forEach(function(r){r_e(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$k(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function r_e(e,n,s){return(n=i_e(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function i_e(e){var n=a_e(e,"string");return zd(n)=="symbol"?n:n+""}function a_e(e,n){if(zd(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zd(e)}var Nc=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?Nc=global.fetch:typeof window<"u"&&window.fetch&&(Nc=window.fetch);var Rm;LV()&&(typeof global<"u"&&global.XMLHttpRequest?Rm=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Rm=window.XMLHttpRequest));var kg;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?kg=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(kg=window.ActiveXObject));typeof Nc!="function"&&(Nc=void 0);if(!Nc&&!Rm&&!kg)try{bn(()=>import("./chunks/chunk-CHHHtuWd.js").then(e=>e.b),__vite__mapDeps([75,3])).then(function(e){Nc=e.default}).catch(function(){})}catch{}var nv=function(n,s){if(s&&zd(s)==="object"){var r="";for(var i in s)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(s[i]);if(!r)return n;n=n+(n.indexOf("?")!==-1?"&":"?")+r.slice(1)}return n},Wk=function(n,s,r,i){var a=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(u){r(null,{status:c.status,data:u})}).catch(r)};if(i){var o=i(n,s);if(o instanceof Promise){o.then(a).catch(r);return}}typeof fetch=="function"?fetch(n,s).then(a).catch(r):Nc(n,s).then(a).catch(r)},Gk=!1,o_e=function(n,s,r,i){n.queryStringParams&&(s=nv(s,n.queryStringParams));var a=zk({},typeof n.customHeaders=="function"?n.customHeaders():n.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(a["Content-Type"]="application/json");var o=typeof n.requestOptions=="function"?n.requestOptions(r):n.requestOptions,l=zk({method:r?"POST":"GET",body:r?n.stringify(r):void 0,headers:a},Gk?{}:o),c=typeof n.alternateFetch=="function"&&n.alternateFetch.length>=1?n.alternateFetch:void 0;try{Wk(s,l,i,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(o).forEach(function(p){delete l[p]}),Wk(s,l,i,c),Gk=!0}catch(p){i(p)}}},l_e=function(n,s,r,i){r&&zd(r)==="object"&&(r=nv("",r).slice(1)),n.queryStringParams&&(s=nv(s,n.queryStringParams));try{var a=Rm?new Rm:new kg("MSXML2.XMLHTTP.3.0");a.open(r?"POST":"GET",s,1),n.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!n.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var o=n.customHeaders;if(o=typeof o=="function"?o():o,o)for(var l in o)a.setRequestHeader(l,o[l]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch{}},c_e=function(n,s,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Nc&&s.indexOf("file:")!==0)return o_e(n,s,r,i);if(LV()||typeof ActiveXObject=="function")return l_e(n,s,r,i);i(new Error("No fetch and no xhr implementation found!"))};function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jp(e)}function qk(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function jb(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?qk(Object(s),!0).forEach(function(r){RV(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qk(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function d_e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u_e(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PV(r.key),r)}}function p_e(e,n,s){return n&&u_e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RV(e,n,s){return(n=PV(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function PV(e){var n=f_e(e,"string");return jp(n)=="symbol"?n:n+""}function f_e(e,n){if(jp(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m_e=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(s){return JSON.parse(s)},stringify:JSON.stringify,parsePayload:function(s,r,i){return RV({},r,i||"")},parseLoadPayload:function(s,r){},request:c_e,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},OV=(function(){function e(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};d_e(this,e),this.services=n,this.options=s,this.allOptions=r,this.type="backend",this.init(n,s,r)}return p_e(e,[{key:"init",value:function(s){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=s,this.options=jb(jb(jb({},m_e()),this.options||{}),i),this.allOptions=a,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);jp(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(s,r,i){this._readAny(s,s,r,r,i)}},{key:"read",value:function(s,r,i){this._readAny([s],s,[r],r,i)}},{key:"_readAny",value:function(s,r,i,a,o){var l=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(s,i)),c=s_e(c),c.then(function(u){if(!u)return o(null,{});var p=l.services.interpolator.interpolate(u,{lng:s.join("+"),ns:i.join("+")});l.loadUrl(p,o,r,a)})}},{key:"loadUrl",value:function(s,r,i,a){var o=this,l=typeof i=="string"?[i]:i,c=typeof a=="string"?[a]:a,u=this.options.parseLoadPayload(l,c);this.options.request(this.options,s,u,function(p,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+s+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+s+"; status code: "+f.status,!1);if(!f&&p&&p.message){var m=p.message.toLowerCase(),h=["failed","fetch","network","load"].find(function(v){return m.indexOf(v)>-1});if(h)return r("failed loading "+s+": "+p.message,!0)}if(p)return r(p,!1);var x,y;try{typeof f.data=="string"?x=o.options.parse(f.data,i,a):x=f.data}catch{y="failed parsing "+s+" to json"}if(y)return r(y,!1);r(null,x)})}},{key:"create",value:function(s,r,i,a,o){var l=this;if(this.options.addPath){typeof s=="string"&&(s=[s]);var c=this.options.parsePayload(r,i,a),u=0,p=[],f=[];s.forEach(function(m){var h=l.options.addPath;typeof l.options.addPath=="function"&&(h=l.options.addPath(m,r));var x=l.services.interpolator.interpolate(h,{lng:m,ns:r});l.options.request(l.options,x,c,function(y,v){u+=1,p.push(y),f.push(v),u===s.length&&typeof o=="function"&&o(p,f)})})}}},{key:"reload",value:function(){var s=this,r=this.services,i=r.backendConnector,a=r.languageUtils,o=r.logger,l=i.language;if(!(l&&l.toLowerCase()==="cimode")){var c=[],u=function(f){var m=a.toResolveHierarchy(f);m.forEach(function(h){c.indexOf(h)<0&&c.push(h)})};u(l),this.allOptions.preload&&this.allOptions.preload.forEach(function(p){return u(p)}),c.forEach(function(p){s.allOptions.ns.forEach(function(f){i.read(p,f,"read",null,null,function(m,h){m&&o.warn("loading namespace ".concat(f," for language ").concat(p," failed"),m),!m&&h&&o.log("loaded namespace ".concat(f," for language ").concat(p),h),i.loaded("".concat(p,"|").concat(f),m,h)})})})}}}])})();OV.type="backend";const h_e={home:"Home",tagline:`Build production-ready apps through conversation.
Chat with AI agents that design, code, and deploy your application from start to finish.`,product:"Product",build:"Build",integrations:"Integrations",company:"Company",legal:"Legal",features:"Features",pricing:"Pricing",faqs:"FAQs",affiliates:"Affiliates",enterprise:"Enterprise",careers:"Careers",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",ipAddresses:"IP Addresses",copyright:"Copyright",companyName:"EMERGENTLABS 2025",designedBy:"DESIGNED AND BUILT BY",awesomePeople:"THE AWESOME PEOPLE OF EMERGENT",solutions:"Solutions",smbOwners:"SMB Owners",itAgencies:"IT Agencies",productManagers:"Product Managers",operationsTeam:"Operations Team",resources:"Resources",docs:"Docs",tutorials:"Tutorials",learn:"Learn",caseStudies:"Case Studies",blog:"Blog",helpCenter:"Help Center",pricingTooltipAuth:"Go to home to view pricing",pricingTooltipUnauth:"Log in to explore plans"},x_e={credits:"Credits",upgrade:"Upgrade",accountSettings:"Account Settings",language:"Language",helpCenter:"Help Center",joinDiscord:"Join Discord",logout:"Logout"},g_e={title:"Language",search:"Search",noLanguagesFound:"No languages found"},b_e={startBuilding:"Start building with",emergentToday:"Emergent Today",getStarted:"Get Started",keepBuilding:"Keep Building"},y_e={closeModal:"Close Modal",logIn:"Log in",signUp:"Sign up",openInNewTab:"Open in new tab",refresh:"Refresh",error:"Error",goBack:"Go back",externalLink:"External link"},v_e={tryMobileApp:"Try Emergent mobile app",previewDescription:"Preview on your device and keep working without interruptions.",openInMobileApp:"Open in mobile app",continueWithWeb:"Continue with web",getTheApp:"Get the Emergent App",openingApp:"Opening Emergent...",pleaseWait:"Please wait while we try to open the app.",downloadAppStore:"Download on App Store",downloadPlayStore:"Get it on Google Play",learnMoreAt:"Learn more at"},w_e={title:"Notifications",tabs:{alerts:"Alerts",inbox:"Inbox",offers:"Offers",updates:"Updates"},empty:{noAlerts:"No alerts",noOffers:"No offers available",noUpdates:"No updates available",inboxTitle:"You are up to date",inboxDescription:"Messages and important alerts will appear here",offersTitle:"Offers coming soon",offersDescription:"New offers are added here from time to time"},lowCredits:{singleAppShutdown:"Your {{appName}} app might shutdown",allAppsShutdown:"All {{count}} of your deployed apps might shutdown",someAppsShutdown:"{{atRisk}} of your {{total}} deployed apps might shutdown",creditsRemaining:"You have {{credits}} credits remaining. Add more credits to keep your apps running.",creditsOverdrawn:"Your account is {{credits}} credits overdrawn. Add credits immediately to keep your apps running.",addCredits:"Add credits"},workspaceInvite:{invitedByUser:"{{inviterName}} invited you to {{organizationName}}'s workspace",invitedGeneric:"You're invited to {{organizationName}}'s workspace",expired:"Expired",expiresInOneDay:"Invitation Expires in 1 day",expiresInDays:"Invitation Expires in {{days}} days",accept:"Accept",decline:"Decline"},offers:{copyCode:"Copy Code",copied:"Copied!",redeemNow:"Redeem now"},toast:{invitationAccepted:"Invitation accepted",invitationAcceptedDesc:"You have successfully joined {{organizationName}}",invitationDeclined:"Invitation declined",invitationDeclinedDesc:"You have declined the invitation to {{organizationName}}",error:"Error",failedToAccept:"Failed to accept invitation",failedToDecline:"Failed to decline invitation"}},C_e={footer:h_e,menu:x_e,languageBottomSheet:g_e,downloadSection:b_e,common:y_e,mobileApp:v_e,notifications:w_e},__e=JSON.parse(`{"title":"Terms of Service","lastUpdated":"Last updated: {{date}}","returnToHome":"Return to Home","content":"# Complete Updated Emergent Labs Inc. Terms of Service\\n## 1. Introduction\\n### 1.1 Agreement Overview\\nThese Terms of Service (\\"Terms\\") constitute a legal agreement between you and Emergent Labs Inc. (\\"we,\\" \\"our,\\" or \\"us\\"). Your use of emergent.sh (the \\"site\\") and related services (collectively, the \\"Services\\") is subject to these Terms. By downloading, installing, accessing, or using our Services, you:\\nAcknowledge that you have read and understood these Terms\\nAgree to be bound by these Terms\\nAgree to our Privacy Policy (available at emergent.sh/privacy)\\nCommit to comply with all applicable laws and regulations If you do not agree with these Terms, you must not download, install, access, or use our Services.\\n### 1.2 Definitions\\n\\"Site\\" refers to our website and associated tools for developing software.\\n\\"Content\\" means code, projects, data, files, and other materials that you create, modify, or access through our Services.\\n\\"User\\" means any individual who downloads, installs, accesses, or uses our Services.\\n\\"Authorized User\\" means a User who is authorized by you to access and use the Services under your account.\\n\\"Input\\" means the prompts, commands, and instructions you provide to the Services.\\n\\"Output\\" means the code, responses, and other content generated by the Services based on your Input.\\n## 2. License to Use Our Services\\n### 2.1 Rights Granted\\nSubject to your compliance with these Terms, Emergent grants you a limited, personal, non-exclusive, non-transferable license to download, install, and use our Services for their intended purpose. Depending on your subscription plan:\\nFree Plan: Limited to personal, non-commercial use\\nPaid Plans: May be used for commercial purposes according to the terms of your subscription\\n### 2.2 Restrictions\\nYou may not, and you may not permit others to:\\nDistribute, sell, rent, lease, or sublicense our Services\\nRemove or alter any proprietary notices or labels on our Services\\nUse our Services in a way that could harm, disable, overburden, or impair our systems\\nUse automated scripts to collect information from or interact with our Services\\nUse our Services for any illegal purpose or in violation of any applicable laws\\n### 2.3 Reservation of Rights\\nAll rights not expressly granted to you in these Terms are reserved by Emergent. You acknowledge that you do not acquire any ownership rights in the Services by downloading, installing, or using them.\\n## 3. User Accounts and Content\\n### 3.1 Account Creation and Management\\nYou may be required to create an account to use certain features of our Services\\nYou must provide accurate, current, and complete information when creating your account\\nYou are responsible for maintaining the confidentiality of your account credentials\\nYou are responsible for all activities that occur under your account\\nYou must notify us immediately of any unauthorized use of your account\\n### 3.2 Minimum Age\\nYou must be an adult to use the Service. If you are younger than 13 we will allow you to use the Service if you first provide us with your parent or guardians written consent. If you are a parent or legal guardian of a user under the age of 18, by allowing your child to use the Service, you are subject to these Terms and responsible for your childs activity on the Service.\\n### 3.3 Account Deletion Process\\nYou may request deletion of your account by contacting support@emergent.sh. Upon account deletion:\\nYour user profile will be removed\\nYour access to the Services will be terminated\\nContent stored on our servers will be deleted within 90 days\\nWe may retain certain information as required by law or for legitimate business purposes\\nWe will handle any remaining content according to our Privacy Policy\\n### 3.4 User Content\\nBy using our Services, you may create, modify, or upload Content. You retain all ownership rights to your Content, subject to the licenses granted herein.\\n### 3.5 Licenses to User Content\\nYou grant Emergent a non-exclusive, worldwide, royalty-free license to access, use, process, copy, distribute, perform, export, and display your Content, only as reasonably necessary:\\nTo provide and maintain the Services\\nTo address service or technical issues\\nTo comply with legal obligations\\nAs otherwise permitted by these Terms This license does not grant us the right to sell your Content or otherwise distribute it outside our Services.\\n### 3.6 Content Backups\\nYou are responsible for backing up your Content. While we implement reasonable measures to protect your Content, we do not guarantee that your Content will not be lost or corrupted.\\n## 4. Services and Pricing\\n### 4.1 Plans and Limits\\nWe offer various subscription plans that provide different features, usage limits, and capabilities. Current plan details and pricing are available at emergent.sh/pricing. Each plan has specific usage limitations, including but not limited to:\\nNumber of projects\\nCompute resources\\nStorage capacity\\nDatabase connections\\nIntegration capabilities We reserve the right to modify our plans and pricing at any time.\\n### 4.2 Subscription and Payment Terms\\nOur service is subscription-based with recurring billing (monthly or annual)\\nSubscriptions automatically renew unless canceled before the renewal date\\nPayments are non-refundable unless otherwise specified\\nYou authorize us to charge your payment method for all fees due\\nWe may suspend or terminate your access if payment fails\\n### 4.3 Support Services\\nTechnical support availability depends on your subscription plan:\\nFree Plan: Limited community support\\nPaid Plans: Priority email support\\nEnterprise Plans: Dedicated support and service level agreements Support is limited to platform-related issues and does not include application debugging or development consulting.\\nOur team would reach back within 24 hours time.\\n### 4.4 Detailed Service Delivery Information\\nAccess to our platform is granted immediately upon successful payment processing\\nYou will receive login credentials via email\\nIf you experience any issues with access, contact support@emergent.sh\\nWe strive to maintain continuous availability of our Services, but we do not guarantee uninterrupted access. Scheduled maintenance, updates, or unforeseen technical issues may result in temporary service interruptions. We will make reasonable efforts to notify users of planned maintenance when possible.\\n### 4.5 Refund Policies\\nAll payments are non-refundable unless otherwise determined by us\\nIn cases where refunds are approved, they will be processed to the original payment method\\nRefunds may be considered in cases of:\\nBilling errors\\nDuplicate charges\\nOther circumstances at our sole discretion.\\nFor cases considered, the TAT would be 14 days.\\n### 4.6 Cancellation Policy\\nYou can cancel your subscription at any time by:\\nClicking on the Credits button\\nClicking Manage your Subscriptions button\\nClicking on Edit billing\\nClicking on Cancel Subscription button Cancellation Terms:\\nYour subscription remains active until the end of the current billing period\\nYou will continue to have full access until the end of your paid period\\nYour subscription will not automatically renew after cancellation\\nAny unused credits expire at the end of the subscription\\nNo partial refunds are provided for unused portions of the billing period\\n## 5. Acceptable Use\\n### 5.1 Prohibited Conduct\\nWhile using our Services, you agree not to:\\nViolate any applicable laws or regulations\\nInfringe the intellectual property rights of others\\nTransmit harmful code or attempt to compromise our systems\\nInterfere with other users' use of the Services\\nConduct unauthorized penetration testing or security assessments\\nCircumvent or attempt to defeat usage limits or monitoring\\nMisuse computational resources or APIs\\nAttempt to gain unauthorized access to any part of our Services\\n### 5.2 Content Restrictions\\nYou agree not to use our Services to create, upload, or process Content that:\\nIs unlawful, harmful, threatening, abusive, or harassing\\nIs defamatory, vulgar, obscene, or otherwise objectionable\\nContains malware, viruses, or malicious code\\nInfringes any patent, trademark, copyright, or other proprietary rights\\nContains unsolicited or unauthorized advertising\\nPromotes illegal activities\\nViolates third-party terms of service\\n### 5.3 Resource Usage\\nWe may establish quotas and limits on your usage of our Services, including computational resources, storage, and API calls. You agree to comply with these limits, which may vary based on your subscription plan. Excessive or abusive usage that negatively impacts our Services or other users may result in throttling, suspension, or termination of your access.\\n### 5.4 Export Controls and Sanctions Compliance\\nEmergent's Services may never be used to develop anything subjected to sanctions or other export restrictions, or in any way that is not compliant with the laws of the jurisdiction that Emergent or the user operates in. The Services may also never be used in regions, or by anyone subject to sanctions or export restrictions.\\nUsers are responsible for ensuring their use of our Services complies with all applicable export control laws and regulations, including those of the United States and other jurisdictions. By using our Services, you represent and warrant that you are not located in any country or territory subject to U.S. or other applicable trade sanctions or embargoes, and that you are not on any denied persons list or similar restricted party list.\\n## 6. Data Usage, Training, and Learning\\n### 6.1 Service Improvement and Training\\nWe collect and analyze usage data to improve our Services. This includes:\\nPerformance metrics and error patterns\\nFeature usage statistics and patterns\\nUser interface interactions\\nCommand execution patterns We may use this data to enhance our AI systems, improve code generation accuracy, and optimize platform performance.\\n### 6.2 AI Features and Training\\nOur Services include AI-powered features that analyze your code and generate suggestions. By default:\\nWe do not use your proprietary code to train our general AI models without consent\\nWe process your code and commands within our secure environment\\nYou can control AI assistance features through application settings\\nEnterprise plan users may have additional controls and restrictions regarding AI training.\\n### 6.3 Training Data Biases\\nEmergent acknowledges that AI systems may exhibit biases inherent in their training data. While we strive to minimize such biases, we cannot guarantee that our Services are entirely free from them. Emergent specifically disclaims liability for:\\nTraining data biases affecting code generation\\nUnintended bias in generated content\\nAI outputs that reflect historical, social, or cultural biases\\nUnintended consequences of using AI-generated code that may contain inherent biases\\nUsers should review and test all generated code to ensure it meets their requirements and values.\\n### 6.4 Enterprise Considerations\\nFor Enterprise users, we provide enhanced data protection:\\nWe explicitly waive our right to use their data for training purposes\\nCustom data handling agreements are available\\nNo sharing with third parties occurs without explicit consent\\nData residency options may be available upon request\\nEnhanced security measures are implemented\\nDedicated support for data protection concerns is provided\\nEnterprise customers seeking additional information about these protections should contact support@emergent.sh.\\n### 6.5 Data Retention and Management\\nFor Enterprise users, we provide enhanced data protection:\\nOptions to opt out of certain data collection\\nCustom data handling agreements available\\nStrict controls on third-party data sharing\\nData residency options where available\\n## 7. Intellectual Property Rights\\n### 7.1 Emergent Ownership\\nEmergent owns and retains all rights, title, and interest in and to: Brand Elements:\\nThe \\"Emergent\\" name and brand\\nEmergent logos, designs, and visual elements\\nThe \\"emergent.sh\\" domain and related domains Platform Elements:\\nApplication architecture and design\\nAll platform features and functionalities\\nOur proprietary algorithms and systems\\nUser interface and experience design\\nDocumentation and supporting materials These elements are protected by copyright, trademark, trade dress, patent laws, and other intellectual property rights.\\n### 7.2 User Rights\\nTo be explicitly clear, while Emergent owns all rights to the platform and brand elements described above, this ownership is entirely separate from and does not extend to:\\nCode generated using our Services\\nApplications built with our tools\\nCustom configurations and implementations\\nModified or derivative works created from generated code\\nYour own code commits and changes You retain all ownership rights to code created using our Services, subject to any third-party open source licenses that may apply to components used.\\n### 7.3 Usage Rights\\nYou may freely:\\nUse generated code commercially\\nModify and adapt generated code\\nDistribute generated code in any form\\nSell applications built using our platform\\nOpen source your implementations Emergent places no restrictions on your use of generated code and makes no claim to ownership of applications you develop.\\n## 8. Security and Privacy\\n### 8.1 Data Security\\nWe implement reasonable security measures to protect your Content and account information. These measures include:\\nEncryption of sensitive data\\nSecure development practices\\nAccess controls and authentication\\nRegular security assessments However, no method of transmission or storage is 100% secure. You acknowledge and accept this risk when using our Services.\\n### 8.2 Personal Data\\nOur collection, use, and protection of personal data is governed by our Privacy Policy, available at emergent.sh/privacy. By using our Services, you consent to the data practices described in our Privacy Policy. If you use our Services to process personal data of others, you must:\\nObtain necessary consents for processing such data\\nProcess such data in accordance with applicable data protection laws\\nNot use our Services to process sensitive personal data without appropriate safeguards\\n### 8.3 Data Processing Agreement\\nIf you are subject to data protection regulations such as GDPR and process personal data through our Services, you may request our Data Processing Agreement by contacting support@emergent.sh.\\n## 9. Term and Termination\\n### 9.1 Term\\nThese Terms will commence when you download, install, or first use our Services and will continue until terminated as described below.\\n### 9.2 Termination by You\\nYou may terminate these Terms at any time by:\\nCanceling your subscription\\nDeleting your account (by contacting support@emergent.sh)\\n### 9.3 Termination by Emergent\\nWe may suspend or terminate your access to the Services at any time if:\\nYou violate these Terms\\nYou fail to pay any fees when due\\nWe are required to do so by law\\nWe decide to discontinue the Services We will make reasonable efforts to notify you of any suspension or termination.\\n### 9.4 Effect of Termination\\nUpon termination:\\nYour license to use our Services will end\\nYou must cease all use of our Services\\nYou will lose access to your account and Content stored on our servers\\nEmergent will delete your Content within 90 days after termination (unless legally required to retain it)\\nYou will not receive a refund for any prepaid fees\\n### 9.5 Survival\\nThe following sections will survive termination: Intellectual Property Rights, Disclaimer of Warranties, Limitation of Liability, Indemnification, and any other provisions that by their nature should survive termination.\\n## 10. Disclaimer of Warranties\\nYOUR USE OF THE SERVICES IS ENTIRELY AT YOUR OWN RISK. THE SERVICES ARE PROVIDED \\"AS IS\\" AND \\"AS AVAILABLE\\" WITHOUT ANY GUARANTEES OR WARRANTIES OF ANY KIND. TO THE FULLEST EXTENT PERMITTED BY LAW, EMERGENT AND OUR SUPPLIERS AND LICENSORS EXPLICITLY DISCLAIM ALL WARRANTIES, WHETHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.\\nWE MAKE NO GUARANTEES REGARDING THE ACCURACY, RELIABILITY, OR USEFULNESS OF THE SERVICES OR ANY CONTENT GENERATED THROUGH THE SERVICES, AND YOUR USE OF THESE IS ENTIRELY AT YOUR OWN RISK.\\nSPECIFICALLY, WE DO NOT WARRANT THAT:\\nTHE SERVICES WILL MEET YOUR REQUIREMENTS\\nTHE SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE\\nTHE RESULTS FROM THE USE OF THE SERVICES WILL BE ACCURATE OR RELIABLE\\nTHE QUALITY OF THE SERVICES WILL MEET YOUR EXPECTATIONS\\nANY ERRORS IN THE SERVICES WILL BE CORRECTED\\nEMERGENT SPECIFICALLY DISCLAIMS ALL LIABILITY FOR:\\nAI-GENERATED CODE THAT CONTAINS BUGS, ERRORS, OR SECURITY VULNERABILITIES\\nCODE THAT FAILS TO MEET YOUR SPECIFIC REQUIREMENTS OR EXPECTATIONS\\nGENERATED CODE THAT BECOMES OBSOLETE OR INCOMPATIBLE WITH OTHER SYSTEMS\\nANY ISSUES RESULTING FROM INTEGRATION WITH OTHER SOFTWARE OR SERVICES\\nANY FORM OF DATA LOSS OR CORRUPTION\\nSOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO SOME OR ALL OF THE ABOVE EXCLUSIONS MAY NOT APPLY TO YOU.\\n## 11. Limitation of Liability\\nTO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, EMERGENT, ITS AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, SUPPLIERS AND LICENSORS WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA, OR OTHER INTANGIBLE LOSSES (EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM:\\nYOUR USE OF OR INABILITY TO USE THE SERVICES\\nANY CHANGES TO THE SERVICES OR TERMINATION OF THE SERVICES\\nUNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR CONTENT\\nSTATEMENTS OR CONDUCT OF ANY THIRD PARTY ON THE SERVICES\\nANY OTHER MATTER RELATING TO THE SERVICES\\nIN NO EVENT SHALL OUR TOTAL LIABILITY TO YOU FOR ALL CLAIMS ARISING FROM OR RELATED TO THE SERVICES EXCEED THE AMOUNT PAID BY YOU TO EMERGENT DURING THE TWELVE (12) MONTHS IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM.\\n### 11.1 AI-Generated Code Liability Details\\nEmergent Labs Inc. accepts no liability or responsibility for:\\nAI-generated code that:\\nContains bugs, errors, or security vulnerabilities\\nFails to meet your specific requirements or expectations\\nDoes not achieve your intended business or technical goals\\nBecomes obsolete or incompatible with other systems\\nCauses issues when integrated with other software\\nResults in any form of data loss or corruption\\nAI system limitations or failures, including:\\nIncorrect or incomplete code generation\\nMisunderstanding of your requirements or prompts\\nGeneration of non-optimal or inefficient solutions\\nInconsistencies in code output quality\\nFailures to follow best practices or coding standards\\n### 11.2 Business Impact Liability\\nEmergent Labs Inc. accepts no liability or responsibility for business impact resulting from:\\nReliance on generated code in production systems\\nTime or resources spent modifying generated code\\nProject delays or missed deadlines\\nAdditional development costs or technical debt\\nIntegration challenges with existing systems\\nCustomer or user dissatisfaction\\nFurthermore, we disclaim liability for third-party related issues:\\nCompatibility problems with external services\\nLicensing issues in generated code\\nSecurity vulnerabilities in recommended dependencies\\nChanges in external APIs or services\\nConflicts with other development tools\\nTHIS LIST IS NOT EXHAUSTIVE, AND EMERGENT'S LIMITATION OF LIABILITY EXTENDS TO ALL POSSIBLE ISSUES, WHETHER LISTED HERE OR NOT, ARISING FROM THE USE OF OUR AI-POWERED PLATFORM AND SERVICES.\\nTHESE LIMITATIONS WILL APPLY EVEN IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE.\\n## 12. Indemnification\\nYou agree to defend, indemnify, and hold harmless Emergent, its affiliates, officers, directors, employees, and agents from and against any claims, liabilities, damages, losses, costs, expenses, or fees (including reasonable attorneys' fees) arising from:\\nYour use of the Services\\nYour Content\\nYour violation of these Terms\\nYour violation of any rights of another person or entity\\nApplications, websites, or services you create using our Services\\n## 13. Miscellaneous\\n### 13.1 Governing Law\\nThese Terms shall be governed by and construed in accordance with the laws of the State of California, without regard to its conflict of law principles.\\n### 13.2 Dispute Resolution\\nAny dispute arising from or relating to these Terms or your use of the Services shall be resolved exclusively in the state or federal courts located in Alameda County, California, and you consent to the personal jurisdiction of such courts.\\n### 13.3 Entire Agreement\\nThese Terms, together with our Privacy Policy and any other legal notices or additional terms and conditions provided by Emergent, constitute the entire agreement between you and Emergent relating to your use of the Services.\\n### 13.4 Severability\\nIf any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect.\\n### 13.5 Waiver\\nOur failure to enforce any right or provision of these Terms will not be considered a waiver of such right or provision.\\n### 13.6 Assignment\\nYou may not assign or transfer these Terms or your rights under these Terms without our prior written consent. Emergent may assign these Terms without restriction.\\n### 13.7 Modifications to Terms\\nWe may modify these Terms at any time by posting the revised Terms on our website and/or within the desktop application. Your continued use of the Services after any changes will constitute your acceptance of such changes. For significant changes, we will make reasonable efforts to notify you through the Services or via email. If you do not agree to the updated Terms, you must stop using the Services.\\n### 13.8 Force Majeure\\nWe will not be liable for any failure or delay in performance resulting from causes beyond our reasonable control, including but not limited to acts of God, natural disasters, pandemic, war, terrorism, riots, civil unrest, government actions, labor disputes, Internet service provider failures or any other unforeseen events.\\n## 14. Contact Information\\nIf you have any questions about these Terms, please contact us at: Email: support@emergent.sh Address: 2380 Via Espada, Pleasanton, CA 94566, USA\\n## 15. Promotions and User Feedback\\n### 15.1 Promotions\\nWe may offer promotions, contests, or sweepstakes, which may have additional terms and conditions.\\n### 15.2 User Feedback\\nWe welcome feedback and suggestions\\nWe may implement any feedback without compensation\\nProviding feedback grants us a perpetual, worldwide license to use it\\nNo credit or compensation is due for implemented suggestions\\nBy submitting feedback, you grant Emergent a royalty-free, worldwide, transferable, sub-licensable, irrevocable, perpetual license to use, implement, modify, and distribute your feedback in any way and for any purpose.\\n## 16. DMCA Compliance\\nWe respect intellectual property rights and comply with the Digital Millennium Copyright Act (DMCA). For any DMCA-related issues, contact us at support@emergent.sh with:\\nIdentification of the copyrighted work claimed to be infringed\\nIdentification of the allegedly infringing material\\nYour contact information\\nA statement of good faith belief in the infringement\\nA statement of accuracy under penalty of perjury\\nUpon receipt of a valid DMCA notice, we will take appropriate action, which may include removing or disabling access to the allegedly infringing material.\\n## 17. Abuse Reporting\\nIf you encounter abuse of our Services, violations of these Terms, or other concerning behavior, please report it to support@emergent.sh. Reports should include:\\nDescription of the abusive or concerning behavior\\nRelevant dates and times\\nAny supporting information or evidence\\nYour contact information (optional)\\nWe take abuse reports seriously and will investigate promptly, taking appropriate action as necessary."}`),j_e=JSON.parse(`{"title":"Privacy Policy","lastUpdated":"Last updated: {{date}}","returnToHome":"Return to Home","content":"# Emergent Labs Inc. Privacy Policy\\n## Introduction\\nEmergent Labs Inc. (\\"we,\\" \\"our,\\" or \\"us\\") values your privacy. This Privacy Policy explains how we collect, use, and protect your information when you use our site and related services (collectively, our \\"Services\\"). This Privacy Policy is incorporated into and is subject to our Terms of Service. Your use of our Services and any personal information you provide remains subject to this Privacy Policy and our Terms of Service.\\n\\n## Information We Collect\\n\\n### Information You Provide to Us\\n\\n#### Account Information\\n- Name\\n- Email address\\n- Password\\n- GitHub credentials (when you connect your GitHub account)\\n- Other development platform credentials (when integrated)\\n- Payment information (for paid plans)\\n- Professional information (optional)\\n\\n#### User Content\\n- Code and projects you create or import\\n- Files you upload or generate\\n- Commands you execute through the site\\n- Database queries, configurations, and connection strings\\n- Repository connections and metadata\\n- Application builds and deployment configurations\\n- Test data and testing configurations\\n- Development environment settings\\n\\n#### Communications\\n- Customer support communications\\n- Feedback you provide\\n- Survey responses\\n- Bug reports and feature requests\\n\\n### Information We Collect Automatically\\n\\n#### Device Information\\n- Device type and identifiers\\n- Operating system version and environment details\\n- IP address and geolocation data (country/region level)\\n- Connection information\\n- Application installation and version data\\n- Hardware specifications relevant to application performance\\n- Clipboard content (only when explicitly using paste functionality)\\n\\n#### Usage Information\\n- Features and tools used\\n- Commands executed through the site\\n- Performance metrics and resource utilization\\n- Error logs and debugging information\\n- Session duration and frequency\\n- Code execution patterns and outputs\\n- AI agent interactions and prompts\\n- Database operations (types, not content)\\n- Build and compilation events\\n\\n#### Analytics Information\\nWe use analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, including:\\n- Feature adoption rates\\n- Common error patterns\\n- Performance benchmarks\\n- User journey flows\\n- Agent effectiveness and accuracy\\n\\n#### Analytics and Tracking\\nWe use the following analytics and tracking tools:\\n- PostHog\\n  - We use PostHog for product analytics and user behavior tracking\\n  - For details about PostHog's data handling, please see their Privacy policy\\n- We also use other analytics tools to help us measure application usage and performance. This information is collected in aggregate form and used to improve our Services, as detailed in our \\"Analytics Information\\" section.\\n- You can manage analytics participation preferences through your application settings.\\n\\n## How We Use Your Information\\nWe use the information we collect for the following purposes:\\n\\n### To Provide and Improve Our Services\\n- Deliver the core functionality of our site\\n- Authenticate your identity and maintain your account\\n- Process your transactions and subscription management\\n- Connect to third-party services (GitHub, MongoDB, etc.)\\n- Execute code and commands on your behalf\\n- Build, test, and deploy your applications\\n- Train and improve our AI agents to better assist with development tasks\\n- Fix bugs and improve features\\n- Develop new features and services\\n- Optimize application performance on your device\\n\\n### For Communications\\n- Respond to your inquiries and support requests\\n- Send service and security announcements\\n- Provide updates about our Services and features\\n- Send marketing communications (with your consent)\\n- Notify you about important changes to connected services\\n\\n### For Security and Compliance\\n- Maintain the security of our Services\\n- Detect and prevent fraud, abuse, and unauthorized access\\n- Scan for and prevent security vulnerabilities in your code (when enabled)\\n- Monitor for unusual patterns that may indicate security issues\\n- Comply with legal obligations\\n- Enforce our Terms of Service\\n\\n### For Analytics and Research\\n- Understand how users interact with our Services\\n- Generate aggregated insights about application usage\\n- Improve user experience and workflow efficiency\\n- Enhance AI assistance capabilities\\n- Research development patterns to create better automation\\n\\n## How We Share Your Information\\nWe do not sell your personal information. We may share your information in the following circumstances:\\n\\n### With Service Providers\\nWe share information with trusted service providers who help us deliver our Services, including:\\n- Payment processors\\n- Cloud hosting providers in the USA and India\\n- Analytics providers\\n- Customer support tools\\n- AI and machine learning infrastructure providers\\n- Database service providers\\n- Security and monitoring services\\n\\n### With Connected Services\\nWhen you choose to connect third-party services (like GitHub or MongoDB), we share information necessary to facilitate that connection:\\n- Authentication tokens (with your permission)\\n- Repository and project metadata\\n- Commit and pull request information\\n- Database connection information\\n\\n### For Legal Purposes\\nWe may disclose information if required to do so by law or in the good-faith belief that such action is necessary to:\\n- Comply with legal obligations in the jurisdictions where we operate\\n- Respond to valid legal process (such as a court order or subpoena)\\n- Protect our rights, property, or safety\\n- Protect the rights, property, or safety of our users or others\\n- Investigate and prevent potential violations of our Terms of Service\\n\\n### In Business Transfers\\nIn the event of a merger, acquisition, bankruptcy, or other sale of all or a portion of our assets, user information may be transferred as part of the business transaction. We will notify you via email or a prominent notice on our application of any change in ownership or uses of your personal information.\\n\\n### With Your Consent\\nWe may share information with third parties when you explicitly consent to such sharing.\\n\\n### Enterprise Plan Users\\nEnterprise users enjoy additional data protection and privacy rights, including:\\n- Data training restrictions: We do not use Enterprise users' proprietary code and data to train our general AI models without explicit consent\\n- Custom agreements: Enterprise customers may negotiate custom data handling agreements\\n- Third-party sharing limitations: Additional restrictions on how Enterprise data is shared with service providers\\n\\nFor complete details about Enterprise plan protections, please contact our support team at support@emergent.sh.\\n\\n## Your Rights and Choices\\nYou have several rights regarding your personal information:\\n\\n### Account Information\\nYou can review and update your account information through the application settings. You may also delete your account, though certain information may be retained as required for legitimate business purposes or to comply with legal obligations.\\n\\n### Application Data\\nYou can control what data is stored locally on your device versus in our cloud infrastructure through application settings.\\n\\n### Communication Preferences\\nYou can manage your communication preferences in your account settings or by following the unsubscribe instructions included in our marketing emails.\\n\\n### Privacy Settings\\nOur application includes settings that allow you to control your privacy preferences, including:\\n- Repository visibility settings\\n- Code sharing and collaboration preferences\\n- Third-party integrations management\\n- AI assistance and data processing options\\n- Analytics participation preferences\\n- Local vs. cloud execution preferences\\n\\n### Data Access and Portability\\nYou may request a copy of your personal information in a structured, commonly used, and machine-readable format.\\n\\nDepending on your location, you may have additional rights, including:\\n- The right to request deletion of your personal information\\n- The right to restrict or object to our processing of your personal information\\n- The right to withdraw consent\\n- The right to lodge a complaint with a supervisory authority\\n\\nTo exercise these rights, please contact us at privacy@emergent.sh.\\n\\n### Response Times\\nWe aim to respond to privacy-related inquiries within 7 business days. Support requests are handled according to your plan's service level agreement. For urgent matters related to data protection or security incidents, please mark your email as \\"PRIVACY URGENT\\" in the subject line of your email, as noted in our \\"Contact Us\\" section.\\n\\n## Security\\nWe implement appropriate technical and organizational measures to protect your personal information. These measures include:\\n- Encryption of sensitive data in transit and at rest\\n- Secure application development practices and code signing\\n- Regular security assessments and penetration testing\\n- Access controls and multi-factor authentication\\n- Employee training on data security and privacy\\n- Secure development and deployment pipelines\\n- Monitoring for unusual or unauthorized access attempts\\n- Vulnerability scanning and management\\n\\nHowever, no method of transmission or storage is 100% secure. While we strive to protect your personal information, we cannot guarantee its absolute security.\\n\\n## Desktop Application Specifics\\nOur Services are primarily delivered through a desktop application (DMG or installer package). This has specific privacy implications:\\n- Local Storage: Some of your data, including code, configuration files, and local databases, may be stored locally on your device\\n- Installation Data: We collect information about the installation process to troubleshoot issues\\n- Updates: We may automatically check for and download updates to ensure you have the latest security features\\n- System Integration: Our application may integrate with your system's development tools and environments\\n- Resource Usage: We monitor resource usage (CPU, memory, disk) to optimize performance\\n\\nYou can adjust many of these behaviors through application settings.\\n\\n## Data Retention\\nWe retain your personal information for as long as necessary to provide you with our Services and for legitimate business purposes, such as maintaining your account, resolving disputes, establishing legal defenses, conducting audits, pursuing legitimate business purposes, and complying with applicable laws.\\n\\nWhen personal information is no longer needed, we will securely delete or anonymize it. Typically:\\n- Account information is retained while your account is active\\n- Usage data is retained for up to 24 months\\n- Backup data is retained according to our backup rotation policy\\n- Payment information is retained as required by financial regulations\\n\\n## Third-Party Connections\\nOur Services may allow you to connect to third-party services (such as GitHub, MongoDB, and other development tools). When you connect to these services:\\n- You may be allowing them to access your information on our Services\\n- We may receive and store authentication tokens to maintain the connection\\n- We may sync data between our Services and these third-party services\\n- Code repositories, database content, and other development artifacts may be transferred between services\\n\\nWe recommend that you review the privacy policies of these third-party services to understand how they collect and use your information.\\n\\n## AI Features and Code Analysis\\nOur site includes AI-powered features that may:\\n- Analyze your code to provide suggestions\\n- Generate code based on your specifications\\n- Automate repetitive development tasks\\n- Help troubleshoot errors and bugs\\n\\nThese features require processing your code and commands. By default:\\n- This processing occurs within our secure environment\\n- We do not use your proprietary code to train our general AI models without explicit consent\\n- You can control the level of AI assistance through application settings\\n\\n## Children's Privacy\\nOur Services are not directed to children under the age of 13 (or the applicable age requirement in your jurisdiction). We do not knowingly collect personal information from children. If you believe we have inadvertently collected information from a child, please contact us at privacy@emergent.sh.\\n\\n## International Data Transfers\\nEmergent Labs Inc. is based in the United States with operations in India. We process and store information on servers located in the United States and India. If you are located outside of these regions, we may transfer your personal information to these or other countries where our service providers are located.\\n\\nWhen we transfer your information internationally, we take appropriate safeguards to ensure your information receives adequate protection, which may include:\\n- Standard contractual clauses approved by relevant authorities\\n- Data processing agreements with our service providers\\n- Security measures to protect data during transfer and storage\\n\\nBy using our Services, you consent to the international transfer of your information as described in this policy.\\n\\n## State-Specific Privacy Rights\\n\\n### California Residents\\nIf you are a California resident, the California Consumer Privacy Act (CCPA) provides you with specific rights regarding your personal information. These include the right to:\\n- Know what personal information we collect about you and how we use it\\n- Request deletion of your personal information\\n- Opt-out of the sale of your personal information (note that we do not sell personal information)\\n- Non-discrimination for exercising your CCPA rights\\n\\n### Other States\\nResidents of Colorado, Connecticut, Utah, and Virginia may have similar rights under their respective state privacy laws. Please contact us at privacy@emergent.sh to exercise any applicable state privacy rights.\\n\\n## Legal Framework\\nThis Privacy Policy is part of and subject to our Terms of Service. In case of any conflict between this Privacy Policy and our Terms of Service, the Terms of Service shall prevail.\\n\\n## Changes to This Privacy Policy\\nWe may update this Privacy Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. We will post the revised policy on our website with an updated \\"Last Updated\\" date.\\n\\nFor significant changes, we will notify you through the application or by email prior to the change becoming effective. We will provide at least 30 days' notice for material changes to this Privacy Policy, during which time you may contact us with any questions.\\n\\nYour continued use of our Services after any changes to this Privacy Policy constitutes your acceptance of the revised policy. If you do not agree with the changes, you should discontinue using our Services and contact us to delete your account.\\n\\n## Contact Us\\nIf you have any questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us at:\\n\\nEmail: support@emergent.sh\\nAddress: 2380 Via Espada, Pleasanton, CA 94566, USA\\n\\nFor urgent matters related to your personal information, please include \\"PRIVACY URGENT\\" in the subject line of your email."}`),N_e={title:"Support & Configuration",subtitle:"IP Addresses",returnToHome:"Return to Home",pageTitle:"IP Addresses",description:"Emergent services use fixed IP addresses for outbound connections. You can use these addresses to configure your firewall rules for secure access. These addresses will not change without notice.",outboundTitle:"Outbound IP Addresses",outboundDescription:"These are the stable IP addresses that Emergent uses for outbound requests (for example, when connecting to your GitHub repositories or external services)."},F_e={termsAndService:__e,privacyPolicy:j_e,ipAddresses:N_e},E_e={tiers:{free:"Free Tier",starter:"Starter Tier",standard:"Standard",proMode:"Pro Mode",teamPlan:"Team Plan",pro:"Pro Tier"},availableCredits:"Available Credits",aboutCredits:"About Credits",learnMore:"Learn more",manageAccount:"Manage Account",credits:"credits",dailyCredits:"Daily Credits",freeCredits:"Free Credits",monthlyCredits:"Monthly Credits",bonusCredits:"Bonus Credits",topUpCredits:"Top up Credits",refreshesOn:"Refreshes on",monthly:"monthly",refreshesDaily:"refreshes daily",uptoMonthly:"(upto {{max}} monthly)",creditsTooltip:{priority:"Emergent prioritizes credit usage by first drawing from your monthly allocation, then top-up balance you've purchased, followed by {{creditType}}.",reset:"Subscription-based credits reset monthly according to your account's billing cycle date.",permanent:"Any top-up credits you purchase will remain in your account permanently."},freeTierMessage:{onFreeTier:"You're on the Free tier",with:" with ",period:". ",monthlyCreditsCount:"{{count}} monthly credits",dailyCreditsCount:"{{count}} daily credits (upto {{max}} per month)",upgradePrompt:"Unlock additional features and credits by upgrading your plan."},buyMoreCredits:"Buy More Credits",manageSubscriptions:"Manage your Subscriptions",manageSubscriptionsTitle:"Manage Subscriptions",loading:"Loading...",upgradeTierModal:{loadingPlans:"Loading latest plans...",loadingPlansDescription:"Please wait while we fetch the most up-to-date pricing",chooseYourPlan:"Choose your plan",claimYourFreeTrial:"Claim your free trial",manageYourPlan:"Manage your plan",choosePlanFor:"Choose plan for {{organizationName}}",managePlanFor:"Manage plan for {{organizationName}}",planCancelsOn:"Plan cancels on",monthlyCreditsRefreshesOn:"Monthly credits refreshes on",selectTeamPlanFor:"Select a team plan for {{organizationName}} workspace.",pickPlanDescription:"Pick a plan that best suits you. Upgrade or downgrade at any time.",revenueCatSubscriptionMessage:`You have an active subscription via App/Play Store. To upgrade/change your plan on web,
 you'll need to cancel your current subscription in the store and return here to select your new plan.`,monthly:"Monthly",annually:"Annually",save:"Save {{percentage}}%",havePromoCode:"Have a promo code?",enterCode:"Enter code",remove:"Remove",processing:"Processing...",currentActivePlan:"Current Active Plan",upgradeToAnnual:"Upgrade to Annual",downgradeToMonthly:"Downgrade to Monthly",currentPlan:"Current Plan",upgradeCurrentPlan:"Upgrade Current Plan",downgradeCurrentPlan:"Downgrade Current Plan",downgradeTo:"Downgrade to {{tier}}",upgradeTo:"Upgrade to {{tier}}",paymentPending:"Payment Pending",creditsPerMonth:"credits/month",everythingInStandard:"Everything in Standard",contextWindow:"1M context window",ultraThinking:"Ultra thinking",systemPromptEdit:"System Prompt Edit",customAgents:"Ability to build Custom Agents",mobileAppDevelopment:"Mobile App Development",biggerMachine:"2x Bigger Machine",monthlyCredits:"{{count}} Monthly Credits",prioritySupport:"Priority Support",everythingInPro:"Everything in Pro",sharedTeamPool:"Shared team pool: {{credits}} credits per month",centralBilling:"Central billing and administration",collaborativeWorkspace:"Collaborative workspace",teamMembers:"Upto 5 members in a team",additionalMembers:"For additional members and team support, contact us",everythingInTeams:"Everything in Teams",singleSignOn:"Single sign-on (SSO)",enterpriseSupport:"Dedicated Enterprise Support",privateApps:"Private Apps",buyAdditionalCredits:"Ability to buy additional credits",saveToGithub:"Save to Github",fork:"Fork",basicAccess:"Basic access to all features",free:"Free",perMonth:"/ month",perYear:"/ year",startBuilding:"Start Building",needHelp:"Need help?",contactUs:"Contact Us",cancel:"Cancel",resume:"Resume",subscription:"Subscription",bookDemo:"Book a demo",enterpriseFeatures:"Enterprise-grade features for your entire organization",enterprise:"Enterprise",useCode:"Use code",inCheckout:"in the checkout",sessionToRedeem:"session to redeem the offer",flatDiscount:"Flat 50% off on all our subscriptions.",codeCopied:"Code Copied",pleaseEnterCoupon:"Please enter a coupon code",invalidCoupon:"Invalid coupon code",couponApplied:"Coupon Applied! The discount will be auto applied at the checkout",failedToValidateCoupon:"Failed to validate coupon. Please try again.",dailyCreditsMonthly:"{{count}} free monthly credits",dailyCreditsDaily:"{{count}} daily credits (upto {{max}} per month)",e2Agent:"E2 Agent",designedForTeams:"Designed for teams building at scale",builtForCreators:"Built for serious creators and brands",perfectForBuilders:"Perfect for first-time builders",firstMonthPrice:"$1 for the first month",thenRegularPrice:"Then $20/mo with 100 credits",startStandardTrial:"Start Standard Trial",firstMonthFree:"Free",freeFor1stMonth:"Free for 1st month",startFreeTrialNow:"Start Free Trial Now",freeTrialSubtitle:"Free trial for 1st month, then {{price}}/mo",everythingInProPlus:"Everything in Pro, plus:",everythingInStandardPlus:"Everything in Standard, plus:",includes:"Includes:",bestValue:"BEST VALUE",privateProjectHosting:"Private project hosting",githubIntegration:"Github integration",forkTasks:"Fork tasks",unlockE2Agent:"Unlock E2 Agent with Pro",saveAmount:"Save {{amount}}",perMonthText:"per month"},buyCreditsModal:{purchaseCredits:"Purchase Credits",subtitle:"Choose a bundle or enter a custom amount and complete your payment.",runningLowOnCredits:"Running low on credits ?",upgradeTo:"Upgrade to {{tier}}",buyMoreCredits:"Buy more credits",get:"Get ",credits:"Credits",forJust:" for just ",getBestValueBundle:" ! Get our best value bundle with ",percentOff:"20% OFF",orEnterCustomAmount:" or enter a custom amount.",creditsLabel:"credits",customAmountLabel:"Custom amount",customAmountPlaceholder:"Enter custom amount",closeModal:"Close modal",paying:"Paying...",buyNow:"Buy Now",enterCustomAmount:" + Enter custom amount ({{symbol}})",processing:"Processing...",buyCredits:"Buy {{count}} Credits",buy:"Buy",minimumAmount:"Minimum amount is {{amount}}",maximumAmount:"For amounts over {{amount}}, use our premium bundle above for better value!",paymentFailed:"Failed to process payment. Please try again.",howDoCreditsWork:"How do credits work?",useSavedCard:"Use saved card?",savedCardDescription:"We'll charge {{amount}} to your saved card for {{credits}} credits.",savedCardDescriptionSimple:"Charge {{amount}} for {{credits}} credits.",cancel:"Cancel",confirmPurchase:"Confirm Purchase",paymentSuccessful:"Payment Successful!",creditsAdded:"{{credits}} credits have been added to your account.",done:"Done",confirmCreditPurchase:"Confirm credit purchase",totalCredits:"Total credits",creditPack:"Credit pack",totalPrice:"Total price",payVia:"Pay via",useLastPaymentMethod:"Use your last payment method for 1-click checkout",lastUsedOn:"Last used on {{date}}",changePaymentMethod:"Change payment method",confirmAndPay:"Confirm and pay {{amount}}",securePaymentsViaStripe:"Secure payments via Stripe"},quickUpgradeModal:{confirmUpgradeTo:"Confirm Upgrade to {{tier}}",planName:"{{tier}} Plan",creditsCount:"{{count}} credits",useSavedPaymentMethod:"Use your saved payment method",upgradeFor:"Upgrade for {{amount}} / month"},paymentResultModal:{loading:{processingTeamSubscription:"Processing Team Subscription",processingSubscription:"Processing Subscription",processingPayment:"Processing Payment",processingGiftPayment:"Processing Gift Payment",verifyingTeamSubscription:"Verifying team subscription, please wait...",verifyingSubscription:"Verifying your subscription, please wait...",verifyingPayment:"Verifying your payment, please wait..."},success:{youHaveReceived:"You have received",giftPaymentSuccessful:"Gift Payment Successful",activated:"{{plan}} Activated",teamActivated:"{{team}} {{plan}} Activated",giftSentSuccessfully:"Your gift has been sent successfully.",teamCreditsAccess:"{{teamName}} now has access to <1>{{credits}}</1> credits per month.",creditsAccess:"You now have access to <1>{{credits}}</1> credits per month.",subscriptionActiveWithPlan:"Your {{plan}} subscription is now active and ready to use.",subscriptionActive:"Your subscription is now active and ready to use.",addOnCredits:"{{credits}} add-on Credits",topUpComplete:"Top-up complete - you're all set to build.",continueBuilding:"Continue Building",keepBuilding:"Keep Building",keepVibing:"Keep Vibing",startVibing:"Start Vibing",freeMonthUnlocked:"Free Month Unlocked",creditsAddedToAccount:"{{credits}} credits added to your account"},pending:{teamSubscriptionPending:"Team Subscription Pending",subscriptionPending:"Subscription Pending",paymentPending:"Payment Pending",teamSubscriptionProcessing:"Your team subscription is being processed. This may take a few minutes.",subscriptionProcessing:"Your subscription is being processed. This may take a few minutes.",paymentProcessing:"Your payment is being processed. This may take a few minutes.",continue:"Continue"},error:{paymentCancelled:"Payment Cancelled",paymentFailed:"Payment Failed",cancelledMessage:"Your payment could not be processed. Please try again",failedMessage:"There was an issue processing your payment. Please try again.",retryPayment:"Retry Payment",close:"Close"}}},S_e={credits:E_e},k_e={title:"Account settings",settings:"Settings",personalSettings:"Account",workspaceSettings:"Project Settings",tabs:{account:"Account",universalKey:"Universal Key",manageAgents:"Manage Agents",general:"General",members:"Members",sharedKey:"Shared Key",sharedAgents:"Shared Agents",usageBilling:"Usage & Billing"},removeMember:{remove:"Remove",from:"from",confirmMessage:"Are you sure you want to remove {{name}}?",nevermind:"Nevermind",removing:"Removing...",confirm:"Confirm"},leaveWorkspace:{leaveTitle:"Leave",deleteTitle:"Delete",leaveConfirm:"Are you sure you want to leave {{name}}?",deleteConfirm:"Are you sure you want to delete {{name}}?",leaveDescription:"You will lose access to all tasks and resources in this project.",deleteDescription:"This action cannot be undone. All members will lose access to this project.",nevermind:"Nevermind",leaving:"Leaving...",deleting:"Deleting...",confirmLeave:"Leave Project",confirmDelete:"Delete Project"},toast:{organizationDeleted:"Project Deleted",leftOrganization:"Left Project",successfullyDeleted:"Successfully deleted {{organizationName}}",successfullyLeft:"Successfully left {{organizationName}}",error:"Error",failedToCompleteAction:"Failed to complete action. Please try again.",orgNameUpdated:"Project name updated successfully",nameUpdated:"Name updated successfully",contactSupportBilling:"Please contact support to manage your subscription",contactSupportDelete:"Please contact support to delete your project",adminOnlyMessage:"Only admins can manage subscription for this project. Please contact an admin."},membersTab:{totalMembers:"Total Members",pendingInvites:"Pending Invites",searchMembers:"Search members",allMembers:"All Members",admin:"Admin",owner:"Owner",member:"Member",pending:"Pending",addMembers:"Add members",name:"Name",email:"Email",role:"Role",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",moreOptions:"More options",removeFromTeam:"Remove from team",mustBeAdmin:"You must be an admin to change user roles",roleUpdated:"Role Updated",failedToChangeRole:"Failed to change user role. Please try again.",memberRemoved:"{{name}} has been removed from the team",failedToRemoveMember:"Failed to remove member from team"},organizationSpace:"{{name}}'s Project",thisOrganization:"this project",defaultSpaceName:"Emergent project",workspace:"Project",generalTab:{icon:"Icon",workspaceName:"Project Name",personalWorkspace:"Personal Project",enterOrgName:"Enter project name",duplicateName:"A project with this name already exists",dangerZone:"Danger Zone",deleteWarning:"Permanently delete {{name}}'s Project and all of its data.",leaveWarning:"Leave {{name}}'s Project and lose access to all team resources.",notReversible:"This action is not reversible!",processing:"Processing...",deleteSpace:"Delete Project",leaveSpace:"Leave Project",contactSupport:"Contact Support",accessibility:{editOrgName:"Edit project name",organizationName:"Project name",saveChanges:"Save changes",cancelChanges:"Cancel changes",clickToEditWorkspaceName:"Click to edit project name",editWorkspaceName:"Edit project name"}},account:{preferredName:"Preferred Name",enterYourName:"Enter your name",email:"Email",emailDescription:"The email address linked to your current account",profilePicture:"Choose your profile picture",profilePictureDescription:"This image will be displayed publicly",name:"Name",nameDescription:"Your full name, as displayed everywhere",language:"Language",languageDescription:"Select your preferred language on Emergent",personalPlan:"Personal Plan",upgradePlan:"Upgrade Plan",managePlan:"Manage Plan",deleteAccount:{title:"Delete Account",description:"Permanently delete your account and all associated data.",warning:"This action cannot be undone.",button:"Delete My Account"}},agents:{loadError:"Failed to load agents. Please try again.",mcpLoadError:"Failed to load MCP servers. Please try again.",createAgent:"Create New Agent",createSubagent:"Create New Subagent",createSharedAgent:"Create New Shared Agent",createSharedSubagent:"Create New Shared Subagent",editAgent:"Edit {{name}}"}},T_e={title:"Universal Key",description:"One key for all your LLM needs - no more juggling multiple provider keys.",tabs:{keyDetails:"Key Details",llmProviders:"LLM Providers"},keyDetails:{yourKey:"Your Key",keyTooltip:"Works on Emergent Apps, Keep confidential",loading:"Loading...",noKeyAvailable:"No key available",disable:"Disable",enable:"Enable",regenerate:"Regenerate",apiKeyBalance:"API Key Balance",balanceTooltip:"Universal Key need balance to work, please add accordingly",credits:"Credits",addBalance:"Add Balance",autoRecharge:"Auto Recharge",autoRechargeTooltip:"Auto-recharge ensures your balance never runs low",whenBalanceHitsZero:"When balance hits zero, auto-recharge by",credit:"Credit",enabled:"Enabled",disabled:"Disabled",saving:"Saving...",saveAndConfirm:"Save & Confirm",regenerateTitle:"Regenerate API Key?",regenerateWarning:"Your current key will be <1>permanently deleted</1> and stop working immediately. Update the new key in all your applications to restore functionality.",regenerateWarningBefore:"Your current key will be",permanentlyDeleted:"permanently deleted",regenerateWarningAfter:"and stop working immediately. Update the new key in all your applications to restore functionality.",cancel:"Cancel",regenerating:"Regenerating...",regenerateAndCopy:"Regenerate & Copy",enableAutoRechargeTitle:"Enable Auto recharge?",enableAutoRechargeDescription:"You're about to enable automatic recharging for your API key.",autoRechargeCredits:"Your API key will automatically recharge with <1>{{amount}} credits</1> when the balance hits zero.",autoRechargeCreditsPrefix:"Your API key will automatically recharge with",autoRechargeCreditsSuffix:"when the balance hits zero.",oneWayTransfer:"This is a one-way transfer",oneWayTransferWarning:"Credits cannot be transferred back once moved to your API key. Only enable if you plan to use these credits for API calls.",enabling:"Enabling...",enableAutoRecharge:"Enable Auto Recharge",addBalanceModal:{title:"Add Balance",apiKeyBalance:"API Key balance",availableCredits:"Available Credits:",ecu:"ECU",transferWarning:"Credits transferred to your API key cannot be moved back to your account balance",processing:"Processing...",transferCredits:"Transfer {{amount}} Credits"},errors:{toggleKey:"Failed to toggle universal key. Please try again.",toggleSharedKey:"Failed to toggle shared key. Please try again.",regenerateKey:"Failed to regenerate universal key. Please try again.",regenerateSharedKey:"Failed to regenerate shared key. Please try again.",transferCredits:"Failed to transfer credits. Please try again.",updateAutoRecharge:"Failed to update auto-recharge settings. Please try again.",confirmAutoRecharge:"Failed to confirm auto-recharge. Please try again.",saveAutoRechargeAmount:"Failed to save auto-recharge amount. Please try again."}},llmProviders:{description:"Select which AI models this key can access. You only pay for what you use.",enableKeyTooltip:"Enable your Universal Key to configure providers",claude:"Anthropic's advanced model",openai:"OpenAI's advanced model",gemini:"Google's advanced model"}},I_e={title:"Manage Agents",description:"Create, edit and manage your custom agents",tabs:{mainAgents:"Main agents",subAgents:"Sub-agents",mcpTools:"MCP Tools"},newAgent:"New Agent",newSubAgent:"New Sub-agent",newMCPServer:"New MCP Server",addCustomMCP:"Add a Custom MCP server",configure:"Configure",edit:"Edit",keyNeeded:"Key needed",unlockMCPTools:"Unlock MCP Tools",mcpToolsProPlan:"MCP Tools are available with our pro plan. Upgrade your account to create and use mcp tools.",upgradeAccount:"Upgrade Account",switchToPersonalAgents:"Switch to personal project to manage personal agents",switchToPersonalMCP:"Switch to personal project to manage personal MCP tools",configNotAvailable:"Configuration Not Available",configNotAvailableMobile:"Configuration is not available on mobile. Please use the desktop or web version to configure this MCP server.",mcpCreated:"MCP server created successfully!",mcpUpdated:"MCP server updated successfully!",noMCPToolsYet:"No MCP Tools Yet",noMCPToolsDescription:"Create your first MCP tool to enable advanced interactions with external applications and services.",createMCPTool:"Create MCP Tool",unlockCustomAgents:"Unlock Custom Agents",customAgentsPremium:"Custom agents are available with our premium plans. Upgrade your account to create and manage your own AI agents."},A_e={title:"MCP Tools",description:"Create, configure and manage your Model Context Protocol tools",failedToLoad:"Failed to load MCP tools",tryAgain:"Try Again",newMCPTool:"New MCP Tool",noMCPToolsYet:"No MCP Tools Yet",noMCPToolsDescription:"Create your first MCP tool to enable advanced interactions with external applications and services.",createMCPTool:"Create MCP Tool",unlockMCPTools:"Unlock MCP Tools",unlockMCPToolsDescription:"Model Context Protocol tools are available with our premium plans. Upgrade your account to create and manage MCP integrations.",upgradeAccount:"Upgrade Account",editMCPServer:"Edit MCP server"},D_e={currentPlan:"Current Plan",renews:"Renews",notAvailable:"Not Available",manageSubscription:"Manage Subscription",availableCredits:"Available Credits",addOnCredits:"Add on Credits",buyNow:"Buy Now",task:"Task",date:"Date",creditsUsed:"Credits used",noUsageData:"No usage data available"},M_e={accountSettings:k_e,universalKey:T_e,manageAgents:I_e,mcpTools:A_e,usageBilling:D_e},L_e={personalSpace:"Personal Space",workspaceSpace:"{{name}}'s Space",workspace:"workspace",user:"User",paymentPending:"Payment pending",member:"member",members:"members",owner:"Owner",admin:"Admin",memberRole:"Member",memberCount:"{{role}}  {{count}} {{memberText}}",searchProjects:"Search projects",settings:"Settings",inviteMembers:"Invite members",createNewProject:"Create new project",unsavedChanges:{title:"You have unsaved changes",description:"Switching workspaces will discard your unsaved visual edit changes.",confirm:"Switch Workspace",cancel:"Cancel"},toast:{invitationAccepted:"Invitation Accepted",successfullyJoined:'Successfully joined "{{name}}" workspace',invitationDeclined:"Invitation Declined",successfullyDeclined:'Successfully declined invitation to "{{name}}" workspace',error:"Error",failedToAccept:"Failed to accept invitation. Please try again.",failedToDecline:"Failed to decline invitation. Please try again."}},R_e={team:"Team",workspaceInfo:{seamlessCollaboration:"Seamless team collaboration",sharedCredits:"Shared team pool credits",centralBilling:"Central billing and administration"},welcome:{welcomeTo:"Welcome to",workspaceName:"{{name}}'s Workspace",yourTeamWorkspace:"Your Team's Workspace"},invite:{inviteMembersTo:"Invite members to",spaceName:"{{name}}'s Space",emailAddresses:"Email Addresses",emailPlaceholder:"e.g. john@company.com, sarah@company.com",role:"Role",selectRole:"Select role",member:"Member",admin:"Admin",doItLater:"I'll do it later",sendingInvitations:"Sending Invitations...",sendInvites:"Send Invites"},processing:{title:"Processing Team Subscription",verifyingWithName:"Verifying {{name}} subscription, please wait...",verifyingDefault:"Verifying team subscription, please wait..."},startCollaborating:"Start Collaborating",goToWorkspace:"Go to Workspace",toast:{invitationsSent:"Invitations Sent",successfullySent:"Successfully sent {{count}} invitation to {{name}}",successfullySentPlural:"Successfully sent {{count}} invitations to {{name}}",error:"Error",failedToSend:"Failed to send invitations. Please try again.",invalidEmail:"Invalid email address. Please enter a valid email address.",alreadyInvitedTitle:"Already Invited",alreadyInvited:"The following users already have a pending invite: {{emails}}",alreadyMembersTitle:"Already Members",alreadyMembers:"The following users are already members of this project: {{emails}}"}},P_e={createWorkspace:{title:"Create a project",description:"Projects allow you to collaborate on tasks and track usage per idea.",learnMore:"Learn more",projectName:"Project name",workspaceName:"Project name",placeholder:"ex : Resume analyzer, Client A, Side project",creating:"Creating...",cancel:"Cancel",createProject:"Create Project",continueToPlan:"Create Project",workspaceCreated:"Project created successfully",error:"Error",failedToCreate:"Failed to create project. Please try again.",duplicateName:"A project with this name already exists",projectNameRequired:"Please enter a project name"},allWorkspaces:{title:"All Workspaces",description:"Select a workspace to switch to",paymentPending:"Payment pending",member:"member",members:"members"},invitation:{processing:"Processing invitation..."},newWorkspace:"New Workspace",showMore:"Show {{count}} more",switchingWorkspace:"Switching to project...",switchingToWorkspace:"Switching to {{workspaceName}}...",loading:"Loading...",loadingWorkspaces:"Loading workspaces...",switchWorkspace:"SWITCH WORKSPACE",personalSpace:"Personal Space",pending:"Pending"},O_e={switchProject:{title:"Switch your project",description:"Use this menu to jump between your different projects or create a new one."},inviteTeam:{title:"Invite Your Team",description:"Click here to invite team members and start collaborating on this project."},skip:"Skip",next:"Next",back:"Back",close:"Close",gotIt:"Okay, got it"},B_e={workspaceSelector:L_e,teamWorkspace:R_e,teams:P_e,guidedTour:O_e},U_e={greeting:"Welcome",greetingWithName:"Welcome, {{name}}",taglineFree:"Where ideas become reality",taglinePaid:"What will you build today?",descriptionFree:"Build fully functional apps and websites through simple conversations"},V_e={fullStackApp:"Full Stack App",landingPage:"Landing Page",mobileApp:"Mobile App",chips:{fullstack:{myCounterPart:{label:"My Counter Part",prompt:`Build a simple chat app where users talk to an alternate version of themselves. Single page with a setup section at the top: one text input asking "Describe a major life decision and the path you didn't take" with example placeholder "I chose to study engineering instead of pursuing music", and a "Start Chat" button. Below that, a chat interface appears after setup. User messages on right, alter ego messages on left with different background color. Text input at bottom to send messages. "Reset & Start New" button to clear and start over. The alter ego responds based on living the alternate path the user described. Alter ego stays in character and references their different life experience. No saving conversations, just live chat for current session. Clean, minimal design.`},billGenerator:{label:"Bill Generator",prompt:"Make a bill generator software for a cafe. Users should be able to add/subtract items from the menu and it should generate the bill."},wordOfTheDay:{label:"Word of the Day",prompt:"Please make me an app which teaches Word of the Day Vocabulary Builder. Frontend: Daily new word with definition, quiz mode, track learned words. Backend: Scheduled word rotation, quiz generation, progress tracking"}},landing:{consultPlus:{label:"Consult Plus",prompt:"Create a landing page for a consulting service with an appointment calendar, video testimonials, downloadable case studies, blog previews, and sleek corporate UI."},eliteFootwear:{label:"Elite Footwear",prompt:"Create a landing page for a luxury shoe brand with a sleek product carousel, size guide popup, live chat, testimonials, newsletter signup, and elegant minimal ui. use only relevant images."},smartCourse:{label:"Smart Course",prompt:"Create a landing page for an AI & Machine Learning course featuring syllabus, interactive preview, enrollment countdown, FAQ accordion, chatbot, and a clean modern responsive design."}},mobile:{flappyBirdGame:{label:"Flappy Bird Game",prompt:"Build a mobile-friendly, realistic Flappy Bird game with beautiful color accents, featuring Play, Pause, Resume, and High Score functionality."},recipeGenerator:{label:"Recipe Generator",prompt:"Build a mobile-first recipe generator app. No login required - users can add ingredients they have on hand and the app generates recipes based on those ingredients."},habitTracker:{label:"Habit Tracker",prompt:"Build a dopamine-boosting biohacker habit tracker mobile-first app for powerlifters, ravers, and professional athletes. Include daily checkboxes, streak tracking, calendar view, healthy recipe generator, share to social media button, and local storage. Use a clean, mobile-friendly Notion-style UI with soft colors, progress indicators, and light/dark mode toggle."}}}},H_e={newTask:"New Task",deployedApps:"Deployed Apps",showcase:"Showcase",activeTasks:"Active Tasks",recentTasks:"Recent Tasks",buy:"Buy",buyCredits:"Buy Credits"},$_e={unnamedApp:"Unnamed App",noTaskAvailable:"No task available",untitled:"Untitled",emptyState:{title:"0 apps deployed",description:"Deploy your application to a production-ready environment. This will make it publicly accessible with managed infrastructure",deploymentCosts:"Deployment costs",creditsPerMonth:"50 credits/month"},alt:{globe:"Globe",credits:"Credits"},card:{status:{deploying:"Deploying",live:"Live",failed:"Failed",unknown:"Unknown"},time:{secsAgo:"{{count}} sec ago",secsAgo_plural:"{{count}} secs ago",minsAgo:"{{count}} min ago",minsAgo_plural:"{{count}} mins ago",hrsAgo:"{{count}} hr ago",hrsAgo_plural:"{{count}} hrs ago",daysAgo:"{{count}} day ago",daysAgo_plural:"{{count}} days ago",monthsAgo:"{{count}} month ago",monthsAgo_plural:"{{count}} months ago",yearsAgo:"{{count}} year ago",yearsAgo_plural:"{{count}} years ago",deployed:"Deployed {{time}}",unknown:"Unknown"},visit:"Visit",replace:"Replace",viewTask:"View Task",alt:{loading:"Loading...",visit:"Visit",deployTime:"Deploy Time"}}},z_e={title:"Recent Tasks",deployedApps:"Deployed Apps",tableHeaders:{id:"ID",task:"TASK",lastModified:"LAST MODIFIED"},noTasks:"No tasks yet",noTasksDescription:"Click the plus button at the top to create your first task and start building",untitled:"Untitled",fork:"Fork",remixed:"Remixed",from:"from",time:{fewSecondsAgo:"Few seconds ago",minAgo:"{{count}} min ago",hrsAgo:"{{count}} hrs ago",dayAgo:"{{count}} day ago",daysAgo:"{{count}} days ago"},pagination:{showing:"Showing {{start}}-{{end}} out of {{total}}",tasksPerPage:"Tasks per page :"},deleteTask:{title:"Delete this task?",confirmMessage:"Are you sure you want to delete",cannotUndo:"? This action cannot be undone.",forkWarning:"This task has been forked. Deleting it won't affect the forked versions, but you'll lose the original context.",remixWarning:"This task has been remixed. Deleting it won't affect the remixed versions, but you'll lose the original context.",forkedFromWarning:"This is a forked task continuing from",remixedFromWarning:"This is a remixed task based on",parentUnaffected:"Deleting it won't affect the parent task.",originalUnaffected:"Deleting it won't affect the original task.",confirm:"Confirm",nevermind:"Nevermind"},toast:{renameSuccess:"Task Renamed Successfully",renameFailed:"Task Renamed Failed",deleteSuccess:"Job deleted successfully",deleteFailed:"Unable to delete this job.",deleteError:"Failed to delete the job. Please try again."},accessibility:{recentTasksIcon:"Recent tasks",deployedAppsIcon:"Deployed apps",options:"Options",previousPage:"Previous page",nextPage:"Next page",selectTasksPerPage:"Select tasks per page"},thisTask:"this task",moveToProject:{title:"Move to project",subtitle:"Select a project to move the",subtitleEnd:"into.",searchPlaceholder:"Search projects",current:"Current",noProjectsFound:"No projects found",createNewProject:"Create new project",cancel:"Cancel",saveChanges:"Save Changes",moving:"Moving...",success:"Task moved successfully",createAndMove:"Create project and move job",creatingAndMoving:"Creating...",errors:{noPermission:"You don't have permission to move this task",notMember:"You must be a member of the target project",alreadyPersonal:"This task is already in your personal workspace",notFound:"Task not found",serverError:"Something went wrong. Please try again",generic:"Failed to move task. Please try again",noUser:"User not found"}}},W_e={placeholder:{buildMe:"Build me",phrases:{fullstack:{dashboard:"a dashboard for",ecommerce:"an e-commerce platform with",saas:"a SaaS app for",netflix:"a clone of netflix",crm:"a CRM system with"},landing:{landingPage:"a beautiful landing page for",productShowcase:"a product showcase for",startup:"a startup homepage with",portfolio:"a portfolio site for",comingSoon:"a coming soon page for"},mobile:{fitness:"a fitness tracking app",foodDelivery:"a food delivery app like",socialMedia:"a social media app with",habitTracker:"a habit tracker app",messaging:"a messaging app with"}}},assets:{attachTooltip:{filesAndImages:"Attach files & images",imagesOnly:"Attach images (max 5 images, 5MB each)"},tooManyAttachments:{title:"Too many attachments",description:"Maximum {{maxFiles}} attachments allowed. Currently have {{currentTotalAttachments}} ({{uploadedCount}} uploaded + {{selectedCount}} selected), trying to add {{tryingToAddCount}}."},compressionError:{title:"Compression Error",description:"Some files could not be compressed and were not added."},filesTooLarge:{title:"Files too large",description:"The following files exceed limits: {{fileList}}. Maximum file size is 200MB."},tooManyFiles:{title:"Too many files",description:"You can only select up to {{maxFiles}} assets at a time. Only the first {{maxFiles}} files will be added."},uploadFailed:{title:"Upload Failed",description:"Failed to upload {{fileName}}"},filesUploaded:{title:"Files Uploaded",description:"{{count}} file(s) uploaded and ready to share with agent"},modal:{title:"Attach Files",description:"Upload assets and media files that your agent can access and integrate into your code.",closeModal:"Close modal",uploadFiles:"Upload Files",filesUploadedHeader:"{{count}} Files Uploaded",uploadInProgress:"Upload in progress...",maxAttachmentsTooltip:"Maximum 5 attachments allowed ({{current}}/5)",addComment:"Add comment",editComment:"Edit comment",comment:"Comment",commented:"Commented",commentActive:"Comment Active",delete:"Delete",deleteActive:"Delete Active",agentCannotRead:"Agent cannot read",agentWillRead:"Agent will read",agentWillNotRead:"Agent will not read",agentCannotReadTooltip:"The agent can't read this file type, but it can use the file in your application.",agentWillReadTooltip:"This file will be added to the agent's context and will use credits based on its size.",agentWillNotReadTooltip:"This file will not be added to the agent's context.",addCommentsPlaceholder:"Add comments for agent",cancel:"Cancel",attaching:"Attaching...",attachFiles:"Attach {{count}} Files",uploadFilesAriaLabel:"Upload files",upload:"Upload",share:"Share",info:"Info",goldCoin:"Gold Coin",file:"File"}},dragDrop:{dropFilesHere:"Drop files here"},agents:{e1:"E-1",e11:"E-1.1",e15:"E-1.5",e2:"E-2",mobile:"Mobile",nextjs:"NextJS",prototype:"Prototype",customAgent:"Custom Agent",broMode:"Bro Mode",descriptions:{e1:"Stable & thorough",e11:"Fast & flexible",e15:"Focused & Diligent",e2:"Thorough & Relentless",mobile:"Agent for mobile apps",nextjs:"Agent for NextJS apps",prototype:"Frontend Only Apps",broMode:"Advanced AI with enhanced reasoning"},types:{reactFastapi:"React + FastAPI Agent",nextjs:"NextJS Agent",mobileAgent:"Mobile Agent",python:"Python Agent",custom:"Custom Agent",prototype:"Experimental Agent"},loading:"Loading custom agents...",createNew:"Create New Agent",manage:"Manage Agents",selectAgent:"Select Agent",beta:"Beta"},ultra:{label:"Ultra",title:"Ultra thinking with 16k thinking tokens",description:"Allow agent to reason deeply through complex problems"},privacy:{settings:"Privacy Settings",public:"Public",private:"Private",publicDescription:"Anyone can view and explore",privateDescription:"Only visible to yourself, unless shared"},drawer:{selectModel:"Select Model",selectTemplate:"Select Template",selectMcpTools:"Select MCP Tools",customAgents:"Custom Agents",close:"Close"},voice:{transcribing:"Transcribing audio...",stopRecording:"Stop recording",startRecording:"Start voice recording"},mobileAgentIntro:{title:"Introducing Mobile agent",description:'Select "Mobile" agent from the agent dropdown and start building mobile apps.',learnMore:"Learn More",gotIt:"Okay, Got it"},advancedControls:{title:"Advanced Controls",close:"Close",mcp:{selectMcpsToUse:"Select MCPs to use",new:"New",selectMcpTools:"Select MCP Tools",more:"+{{count}} more"},template:{selectTemplate:"Select Template",defaultTemplate:"Default template"},github:{label:"GitHub",connectToGitHub:"Connect to GitHub",selectRepository:"Select repository"},budget:{label:"Budget (Credits)",decreaseBudget:"Decrease budget",increaseBudget:"Increase budget",loading:"Loading...",placeholder:" - - ",defaultPlaceholder:"5"},privacy:{label:"Privacy"},model:{label:"Model",loadingModels:"Loading models...",selectModel:"Select Model"},agent:{label:"Agent",loadingAgents:"Loading agents...",selectAgent:"Select Agent"},skills:{label:"Skills"}}},G_e={tabs:{private:"Private Repository",public:"Public Repository"},icons:{lock:"Lock",arrow:"Arrow"},labels:{repositoryUrl:"Repository URL",branch:"Branch",connectedOrganizations:"Connected Organizations",selectRepo:"Select Repo",selectBranch:"Select Branch"},placeholders:{enterRepositoryUrl:"Enter a GitHub repository URL",loadingBranches:"Loading branches...",noBranchesFound:"No branches found",selectRepositoryFirst:"Select a repository first",enterOrSelectBranch:"Enter or select branch name",loadingRepositories:"Loading repositories...",noRepositoriesFound:"No repositories found",selectedRepository:"Selected: {{repo}}",searchForRepository:"Search for a repository"},helpText:{repositoryUrlExample:"Enter a GitHub repository URL (e.g., https://github.com/username/repo)",repositoryUrlNote:"Only GitHub URLs are supported. .git suffix will be automatically removed."},messages:{noBranchesAvailable:"No branches available for this repository",noMatchingBranches:"No matching branches found",noBranchesFound:"No branches found",noBranchesFoundForRepository:"No branches found for this repository. Please check if the repository is empty or has any branches.",loadingRepositories:"Loading repositories...",noRepositoriesMatchSearch:"No repositories match your search",noRepositoriesFound:"No repositories found",noRepositoriesFoundForAccount:"No repositories found for this account"},actions:{clearRepository:"Clear selected repository",submit:"Submit"},errors:{failedToFetchBranches:"Failed to fetch branches. Please try again.",invalidRepositoryNameFormat:"Invalid repository name format",unexpectedError:"An unexpected error occurred",invalidGitHubUrl:"Please enter a valid GitHub repository URL",failedToProcessInstallations:"Failed to process GitHub installations. Please try again."},authentication:{title:"Github Authentication Required",description:"Connect your GitHub account to access all your private and public repositories."},account:{primaryAccount:"Primary Account",selectGitHubAccount:"Select a GitHub account",collaborator:"Collaborator",addingAccount:"Adding Account...",addNewGithubOrganizations:"Add New Github Organizations"},connectGitHub:{button:"Connect to Github",success:{title:"Success",description:"Successfully connected to GitHub"},error:{title:"Error",description:"Failed to connect to GitHub"}}},q_e={emergentLogo:"Emergent Logo",exploreShowcases:"Explore showcases"},K_e={surprise:"Surprise",surpriseMe:"Surprise Me",refreshSuggestions:"Refresh suggestions"},Y_e={label:"Skills",loadingSkills:"Loading skills...",selectSkills:"Select skills",selected:"{{count}} selected",version:"Version: {{version}}",noSkillsAvailable:"No skills available",remove:"Remove {{skill}}"},Z_e={message:"Hey, welcome to Emergent! I know starting something new can feel like a blank page, so let me make it easy. Just tell me what you want to build, even if it's rough. Got an app you've been dreaming about? A website for your business? An AI tool that would actually be useful? Whatever it is, just describe it and we'll start building. What do you want to create?"},J_e={title:"Add new members",close:"Close",description:"Type or paste in emails below, separated by commas",emailAddress:"Email address",emailPlaceholder:"example@example.com, example2@example.com",role:"Role",admin:"Admin",member:"Member",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",sending:"Sending...",sendInvite:"Send Invite",errors:{emailRequired:{title:"Email Required",description:"Please enter a valid email address."},organizationIdRequired:{title:"Error",description:"Organization ID is required."},invalidEmail:{title:"Invalid Email Address"},noValidEmails:{title:"No Valid Emails",description:"Please enter at least one valid email address."},invitationFailed:"Invitation Failed",alreadyInvited:"Already have a pending invite: {{emails}}",alreadyMembers:"Already members of this project: {{emails}}"},success:{invitationSent:"Invitation Sent",invitationsSentCount:"Successfully sent {{count}} invitations"}},X_e={new:"NEW",title:"Introducing Projects",subtitle:"& free collaboration for everyone.",organizeTitle:"Organize your tasks",organizeDescription:"Group all related tasks and forks into one place.",collaborateTitle:"Collaborate for free",collaborateDescription:"Invite teammates to your projects and work together seamlessly.",learnMore:"Learn more",createFirstProject:"Create your first project",enterDetails:"Enter Project details",detailsDescription:"Projects allow you to collaborate on tasks and track usage per idea.",randomizeAvatar:"Randomize avatar gradient",randomizeGradient:"Randomize gradient",projectName:"Project name",projectNamePlaceholder:"ex : Resume analyzer, Client A, Side project",projectNameRequired:"Please enter a project name",back:"Back",continueToTasks:"Continue to add tasks",moveTasksTo:"Move tasks to",selectTasks:"Select tasks to move to this project.",searchTasks:"Search tasks",noTasksAvailable:"No tasks available",noTasksMatch:"No tasks match your search",forkFrom:"Fork {{number}} from ",skip:"Skip",continueToInvite:"Continue to invite members",inviteMembersTo:"Invite members to",inviteDescription:"Invite teammates to collaborate on this project.",emailAddresses:"Email addresses",emailPlaceholder:"example@example.com, example2@example.com",role:"Role",member:"Member",admin:"Admin",adminDescription:"Manage team settings, members and billings",memberDescription:"Can create tasks and see what others are building",createProject:"Create Project"},Q_e={new:"NEW",title:"Introducing Projects",subtitle:"A new chapter for your team",description:"As one of our first Team plan users, your feedback shaped how collaboration works. Today, we're making collaboration free for everyone by evolving Teams into Projects.",seeWhatsNew:"See what's new"},eje={header:"Here's what's new:",okayGotIt:"Okay, got it",learnMore:"Learn more",moveTasks:{title:"Organise Tasks Cleanly",description:"As a much-requested feature, you can now move tasks and all connected forks into one place."},collaboration:{title:"No limit on collaboration",description:"You can now create unlimited Projects and add unlimited collaborators per Project."},credits:{title:"What happens to my credits?",description:"We've retired Team plan and moved all your credits to your personal plan. You now have one central balance to manage and track your usage."},staysSame:{title:"Everything stays same",description:"We are moving your subscription to Pro plan next billing cycle, all the same benefits"}},tje={welcome:U_e,tabs:V_e,sidebar:H_e,deployedApps:$_e,recentTasks:z_e,textarea:W_e,repositorySelector:G_e,bottomPageElements:q_e,suggestionChips:K_e,skillsSelector:Y_e,perceivedUX:Z_e,addMemberModal:J_e,projectsIntroduction:X_e,teamsIntroduction:Q_e,teamsFeatures:eje},nje={title:"Showcase",description:"Explore what the community is building with Emergent.",all:"All",remix:"(Remix)",selectCategory:"Select Category",preview:"Preview",remixButton:"Remix",remixing:"Remixing..."},sje={showcase:nje},rje={termsAndConditions:"Terms & Conditions",yourReferralLink:"Your referral link :",loading:"Loading...",notAvailable:"Not Available",copyLink:"Copy Link",copied:"Copied",shareYour:"Share your",referralLink:"referral link",theyGet:"They get",extraCredits:"extra 5 credits",whenTheyJoin:"when they join.",youEarn:"You earn",credits:"{{credits}} credits",onFirstSubscription:"on their first subscription.",yourReferrals:"Your referrals :",creditEarned:"Referral credit earned",totalInvitations:"Total invitations",viewTerms:"View Terms & Conditions",terms:{newUsersOnly:{title:"New users only",description:"This referral program is exclusively for first-time users who haven't previously created an account."},rewardEligibility:{title:"Reward eligibility",description:"You earn credits when someone signs up using your referral code and purchases their first subscription."},programFlexibility:{title:"Program flexibility",description:"We may modify, suspend, or discontinue this referral program at any time without prior notice."},appropriateSharing:{title:"Appropriate sharing",description:"Share your referral link responsibly in relevant contexts. Spam, misleading promotions, or inappropriate distribution may result in account penalties."},qualityControl:{title:"Quality control",description:"We monitor for fraudulent activity and may withhold rewards or suspend accounts that violate our community standards."},oneRewardPerReferral:{title:"One reward per referral",description:"Each successfully referred user earns you credits once. Multiple referrals from the same user are not eligible for additional rewards."}},accessibility:{referralBackground:"Referral background",coinIcon:"Credit coin"}},ije={referral:rje},aje=localStorage.getItem("i18nextLng");aje==="pt"&&localStorage.setItem("i18nextLng","pt-BR");const oje={en:{common:C_e,legal:F_e,billing:S_e,settings:M_e,teams:B_e,home:tje,showcase:sje,referral:ije}};xf.isInitialized||xf.use(OV).use(J$).use(X$).init({resources:oje,partialBundledLanguages:!0,fallbackLng:"en",supportedLngs:["en","fr","es","de","it","pt-BR","pt-PT"],defaultNS:"common",ns:["common","legal","billing","settings","teams","home","showcase","referral"],interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie"],caches:["localStorage","cookie"]},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},load:"currentOnly"}).catch(()=>{Fn(hD.INIT,new Error("Failed to initialize i18n"))});const lje=d.lazy(()=>bn(()=>import("./chunks/LandingIndex.tsx-Cmi0e3tj.js"),__vite__mapDeps([76,4,3,5,2,77,36,10,6,7,8,9,11,12]))),Nb=d.lazy(()=>bn(()=>import("./chunks/authentication.tsx-CACObpCX.js"),__vite__mapDeps([78,2,3,77,36,10,4,5,6,7,8,9,11,12]))),cje=d.lazy(()=>bn(()=>import("./chunks/email-verfication.tsx-EqYbDNKE.js"),__vite__mapDeps([79,2,3,4,5,6,7,8,9,10,11,12]))),dje=d.lazy(()=>bn(()=>import("./chunks/passwordReset.tsx-FcYfl2JH.js"),__vite__mapDeps([80,2,3,4,5,6,7,8,9,10,11,12]))),uje=d.lazy(()=>bn(()=>import("./chunks/privacy-policy.tsx-0r75KglF.js"),__vite__mapDeps([81,2,3,9,4,5,6,7,8,10,11,12]))),pje=d.lazy(()=>bn(()=>import("./chunks/terms-and-service.tsx-CnK90tM2.js"),__vite__mapDeps([82,2,3,9,4,5,6,7,8,10,11,12]))),fje=d.lazy(()=>bn(()=>import("./chunks/oauth.tsx-CuEEfCd-.js"),__vite__mapDeps([83,2,3,4,5,6,7,8,9,10,11,12]))),mje=d.lazy(()=>bn(()=>import("./chunks/PreviewLoading.tsx-DQAQgVNd.js"),__vite__mapDeps([84,2,3,8,10,4,5,6,7,9,11,12]))),hje=d.lazy(()=>bn(()=>import("./chunks/PreviewNotFound.tsx-Ch_zgsib.js"),__vite__mapDeps([85,2,3]))),xje=d.lazy(()=>bn(()=>import("./chunks/GitHubCallback.tsx-DCScHy-1.js"),__vite__mapDeps([86,2,3,4,5,6,7,8,9,10,11,12]))),gje=d.lazy(()=>bn(()=>import("./chunks/MobileGitHubCallback.tsx-B1Ai1-ji.js"),__vite__mapDeps([87,2,3,4,5,6,7,8,9,10,11,12]))),bje=d.lazy(()=>bn(()=>import("./chunks/PartnersTerms.tsx-CvUCcjQO.js"),__vite__mapDeps([88,2,3,4,5,6,7,8,9,10,11,12]))),yje=d.lazy(()=>bn(()=>import("./chunks/share-app.tsx-Bd__Pe5l.js"),__vite__mapDeps([89,2,3,90,4,5,6,7,8,9,10,11,12]))),vje=d.lazy(()=>bn(()=>import("./chunks/share-preview.tsx-DmBAu_3E.js"),__vite__mapDeps([91,2,3,90,4,5,6,7,8,9,10,11,12]))),wje=d.lazy(()=>bn(()=>import("./chunks/mobile-app-redirect.tsx-_90cM-KC.js"),__vite__mapDeps([92,2,3,4,5,6,7,8,9,10,11,12]))),Cje=d.lazy(()=>bn(()=>import("./chunks/mobile-app-download.tsx-DAc3nq1i.js"),__vite__mapDeps([93,2,3,9,4,5,6,7,8,10,11,12]))),_je=()=>t.jsx("div",{className:"flex items-center justify-center w-full h-screen bg-background",children:t.jsx(Td,{className:"w-8 h-8"})});if(window.location.pathname==="/domain-success"||window.location.pathname==="/domain-exit"){const n=new URLSearchParams(window.location.search).get("returnPath");n?window.location.replace(window.location.origin+decodeURIComponent(n)):window.location.replace(window.location.origin+Pd)}const jje=e=>{const n=e.split("/");return n.includes("chat")?null:n.length>=3?n[2]:null};function Nje({to:e}){return d.useEffect(()=>{window.location.href=e},[e]),null}function Fje({children:e}){return wwe(),t.jsx(t.Fragment,{children:e})}function Eje({children:e}){const{user:n,session:s,loading:r}=xs(),{updateTabState:i,setActiveTab:a,setTabs:o,getTabByJobId:l}=qr(),c=wi(),[u]=Sp(),p=Na(),[f,m]=d.useState(new Set),h=d.useRef(null);d.useEffect(()=>{const v=c.pathname==="/",g=c.pathname===Pd,b=/^\/workspace\/[^\/]+$/.test(c.pathname);if(v||g||b){if(r)return;if(!n){if(window.location.pathname===ma)return;if(window.location.pathname===""){const N=new URLSearchParams(window.location.search),j=N.toString()?`${ma}?${N.toString()}`:ma;window.location.href=j}else n9("You are unauthorized to use this application",!1);return}a("home")}},[c.pathname,a,r,n,p]),d.useEffect(()=>{if(c.pathname.includes("/chat")||c.pathname.match(/\/workspace\/[^\/]+\/chat/)){const g=jje(c.pathname);if(g&&!f.has(c.pathname)&&h.current===null){const b=l(g);b?(a(b.id),m(w=>new Set([...w,c.pathname]))):(h.current=g,x(g))}}},[c.pathname,f]),d.useEffect(()=>{const v=u.get("job_id");if(v&&h.current===null){const g=l(v);if(g){a(g.id);const b=new URLSearchParams(u);b.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${b.toString()?`?${b.toString()}`:""}`)}else h.current=v,x(v)}},[u,l,a]);const x=async v=>{try{const g=l(v);if(g){a(g.id),m(N=>new Set([...N,c.pathname])),h.current=null;return}const w=(await yt.getJob(v)).data;if(!w){h.current=null;return}if(y(w),m(N=>new Set([...N,c.pathname])),u.has("job_id")){const N=new URLSearchParams(u);N.delete("job_id"),window.history.replaceState(null,"",`${c.pathname}${N.toString()?`?${N.toString()}`:""}`)}}catch{}finally{h.current=null}},y=v=>{if(!v.payload.task)return;const g=v.payload.container_id||v.id;if(!g)return;const b=l(v.id);if(b){a(b.id),ts("tab_switched",{jobId:v.id,containerId:g,tabId:b.id,taskLength:v.payload.task?.length||0});return}const w=`tab-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,N=`/root/runs/${v.id}/trajectory.json`,j={containerId:v.payload.container_id||v.id,initial_commit_id:v.payload.initial_commit_id,task:v.payload.task,jobId:v.id,trajPath:N,tabId:w,fromJobList:!0,isCloudFlow:v.payload?.is_cloud,clientRefId:v.client_ref_id,modelName:v.payload.model_name,promptName:v.payload.prompt_name,promptVersion:v.payload.prompt_version,costLimit:v.payload.per_instance_cost_limit,agentName:v.payload.agent_name,portMapping:v.payload.portMapping,created_by:v.created_by};o(_=>[..._,{id:w,title:`${v.payload.task}`,path:"/chat",level:v.organization_id?"organization":"user",organization_id:v.organization_id,organization_name:v.organization_name,created_by:v.created_by,state:j,tabHeading:v.payload.task||"Untitled"}]),ts("tab_opened",{jobId:v.id,containerId:g,tabId:w,isCloudFlow:v.payload?.is_cloud||!1,modelName:v.payload.model_name,taskLength:v.payload.task?.length||0}),i(w,j),a(w)};if(r)return t.jsx("div",{className:"flex items-center justify-center h-full pt-[76px]"});if(!s||!n){if(c.pathname===ma)return e;const g=new URLSearchParams(u).toString(),b=g?`${ma}?${g}`:ma;return t.jsx(k$,{to:b,replace:!0})}return e}function Sje(){const{user:e}=xs(),n=wi(),[s]=Sp(),{getReferralModalData:r,clearReferralModalData:i}=XU(),a=m2(),[o,l]=d.useState(!1),{credits:c}=cs(),u=Qi(),{t:p}=Jt("teams");d.useEffect(()=>(u?(document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.webkitTouchCallout="none"):(document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.webkitTouchCallout=""),()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.webkitTouchCallout=""}),[u]),Cwe(),d.useEffect(()=>{s.get("utm_source")!=="emergent-badge"&&ZJ(s)},[s]),d.useEffect(()=>{const P=()=>{XJ()};P(),typeof window<"u"&&window.rewardful&&window.rewardful("ready",()=>{P()});const R=setInterval(()=>{(window.Rewardful?.affiliate||window.Rewardful?.referral)&&(P(),clearInterval(R))},500),B=setTimeout(()=>{clearInterval(R)},5e3);return()=>{clearInterval(R),clearTimeout(B)}},[]),d.useEffect(()=>{const P=s.get("switching");if(P){const R=decodeURIComponent(P);m9.show(2e3,p("teams.switchingToWorkspace",{workspaceName:R,defaultValue:`Switching to ${R}...`}));const B=new URLSearchParams(s);B.delete("switching");const U=`${n.pathname}${B.toString()?`?${B.toString()}`:""}`;window.history.replaceState(null,"",U)}},[s,n.pathname]);const f=d9(n.pathname);Ri(void 0,{skip:!e||f});const{isPaymentModalOpen:m,setPaymentModalOpen:h,isSubscriptionModalOpen:x,setSubscriptionModalOpen:y,isGiftingSuccessModalOpen:v,setGiftingSuccessModalOpen:g,paymentId:b,paymentStatus:w,paymentType:N,organizationId:j,giftingDetails:_}=y8e(),C=N==="gift",F=P=>{y(P),!P&&w==="success"&&j&&!o&&b&&(a.open({organizationId:j,organizationName:void 0,paymentId:b,initialStatus:w,mode:"welcome"}),l(!0))};d.useEffect(()=>{if(e&&e.user_metadata)if(e.user_metadata.email_verified!==!0){const P=e.email;P?window.location.href=`/verify?email=${encodeURIComponent(P)}`:window.location.href="/"}else e.user_metadata.needs_invite_code&&n.pathname!=="/activate"&&(window.location.href="/activate")},[e,n.pathname]),d.useEffect(()=>{C8e(),QU.initializeReferralHandling()},[]),d.useEffect(()=>{const P=s.get("mobile");s.get("utm_term")==="pro_mode"&&localStorage.setItem("showThankYou","pro_mode"),P==="true"&&localStorage.setItem("mobile","true")},[s]);const[E]=AD();d.useEffect(()=>{const P=async R=>{try{const B=typeof R.data=="string"?JSON.parse(R.data):R.data;if(B.type==="GITHUB_INSTALLATION_CALLBACK"&&B.installation_id)try{await E({installationId:B.installation_id,code:B.code||""}).unwrap(),ei("GITHUB_INSTALLATION_RESULT",{success:!0,installationId:B.installation_id})}catch(U){ei("GITHUB_INSTALLATION_RESULT",{success:!1,error:U?.message||"Failed to save GitHub installation"})}}catch{}};return window.addEventListener("message",P),document.addEventListener("message",P),()=>{window.removeEventListener("message",P),document.removeEventListener("message",P)}},[E]);const[S,M]=d.useState(!1),[k,I]=d.useState(5);d.useEffect(()=>{if(e&&n.pathname==="/"&&!f){const P=r();P&&P.shouldShow&&(I(P.reward),M(!0))}},[e,n.pathname,f,r,c]);const D=P=>{M(P),P||i()};return d.useEffect(()=>{if(!localStorage.getItem("userSelectedLanguage")&&F_()){const P=navigator.language,R=P.split("-")[0],B=jg.find(H=>H.code===P);if(B){xf.changeLanguage(B.code);return}const U=jg.find(H=>H.code===R||H.code.startsWith(R+"-"));U&&xf.changeLanguage(U.code)}},[F_,xf]),t.jsx(_ce,{children:t.jsxs(Fje,{children:[" ",t.jsxs("div",{className:"font-sans antialiased h-dvh md:h-screen dark",children:[b&&w&&t.jsx(w2,{isOpen:N==="subscription"?x:m,onOpenChange:N==="subscription"?F:h,paymentId:b,initialStatus:w,paymentType:C?"gift":N==="subscription"?"subscription":"topup",organizationId:j||void 0,onGiftSuccess:()=>g(!0),navigationStrategy:j?"workspace":"none"}),C&&_&&t.jsx(q8,{isOpen:v,onOpenChange:g,recipientName:_.recipientName,recipientEmail:_.recipientEmail,senderEmail:_.senderEmail,selectedCardIndex:_.selectedCardIndex}),t.jsx(k8e,{isOpen:S,onOpenChange:D,reward:k}),t.jsx(d.Suspense,{fallback:t.jsx(_je,{}),children:t.jsxs(S$,{children:[t.jsx(Kr,{path:ma,element:t.jsx(lje,{view:"login"})}),t.jsx(Kr,{path:"/login",element:t.jsx(Nb,{view:"login"})}),t.jsx(Kr,{path:"/register",element:t.jsx(Nb,{view:"signup"})}),t.jsx(Kr,{path:"/oauth",element:t.jsx(fje,{})}),t.jsx(Kr,{path:"/activate",element:t.jsx(Nb,{view:"activate"})}),t.jsx(Kr,{path:"/loading-preview",element:t.jsx(mje,{})}),t.jsx(Kr,{path:"/preview-not-found",element:t.jsx(hje,{})}),t.jsx(Kr,{path:"/verify",element:t.jsx(cje,{})}),t.jsx(Kr,{path:"/reset-password",element:t.jsx(dje,{})}),t.jsx(Kr,{path:"/github-callback",element:t.jsx(xje,{})}),t.jsx(Kr,{path:"/mobile-github-callback",element:t.jsx(gje,{})}),t.jsx(Kr,{path:"/affiliates",element:t.jsx(Nje,{to:"https://emergent.sh/affiliates"})}),t.jsx(Kr,{path:"/affiliates/terms",element:t.jsx(bje,{})}),t.jsx(Kr,{path:"/accept-invitation",element:t.jsx(I8e,{})}),t.jsx(Kr,{path:"/privacy-policy",element:t.jsx(uje,{})}),t.jsx(Kr,{path:"/terms-of-service",element:t.jsx(pje,{})}),t.jsx(Kr,{path:"/share",element:t.jsx(yje,{})}),t.jsx(Kr,{path:"/share-preview",element:t.jsx(vje,{})}),t.jsx(Kr,{path:"/mobile/*",element:t.jsx(wje,{})}),t.jsx(Kr,{path:"/mobile-app",element:t.jsx(Cje,{})}),t.jsx(Kr,{path:"*",element:t.jsxs(Eje,{children:[t.jsx(h8e,{}),t.jsx(mwe,{})]})})]})}),t.jsx(F8e,{}),t.jsx(g8e,{}),t.jsx(T8e,{}),t.jsx(t_e,{})]})]})})}const kje=d.createContext(void 0);function Tje({children:e}){const[n,s]=d.useState("dark");return d.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";z(cX.SYSTEM_THEME_DETECTED,{systemTheme:r,appTheme:n,themeMismatch:r!==n})},[]),d.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(n)},[n]),t.jsx(kje.Provider,{value:{theme:n,setTheme:s},children:e})}function cx(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cx=function(s){return typeof s}:cx=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},cx(e)}function Ije(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Aje(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dje(e,n,s){return n&&Aje(e.prototype,n),e}function Mje(e,n){return n&&(cx(n)==="object"||typeof n=="function")?n:dx(e)}function sv(e){return sv=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},sv(e)}function dx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lje(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rv(e,n)}function rv(e,n){return rv=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rv(e,n)}function ux(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}var BV=(function(e){Lje(n,e);function n(){var s,r;Ije(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=Mje(this,(s=sv(n)).call.apply(s,[this].concat(a))),ux(dx(r),"state",{bootstrapped:!1}),ux(dx(r),"_unsubscribe",void 0),ux(dx(r),"handlePersistorState",function(){var l=r.props.persistor,c=l.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return Dje(n,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),n})(d.PureComponent);ux(BV,"defaultProps",{children:null,loading:null});var UV=d.createContext({client:rn,bootstrap:void 0});function VV(e,n,s){if(s===void 0&&(s=new WeakMap),e===n)return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(s.has(e)&&s.get(e)===n)return!0;s.set(e,n);var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var a=0,o=r;a<o.length;a++){var l=o[a];if(!i.includes(l)||!VV(e[l],n[l],s))return!1}return!0}function Rje(e){var n,s,r=e.children,i=e.client,a=e.apiKey,o=e.options,l=d.useRef(null),c=d.useMemo(function(){return i||rn},[i,a,JSON.stringify(o)]);return d.useEffect(function(){if(!i){var u=l.current;u?(u.apiKey,o&&!VV(o,u.options)&&rn.set_config(o),l.current={apiKey:a,options:o??{}}):(rn.__loaded,rn.init(a,o),l.current={apiKey:a,options:o??{}})}},[i,a,JSON.stringify(o)]),tt.createElement(UV.Provider,{value:{client:c,bootstrap:(n=o?.bootstrap)!==null&&n!==void 0?n:(s=i?.config)===null||s===void 0?void 0:s.bootstrap}},r)}var Fb=function(e){return typeof e=="function"},iv=function(e,n){return iv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])},iv(e,n)};function Pje(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");iv(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var Oje={componentStack:null,exceptionEvent:null,error:null};(function(e){Pje(n,e);function n(s){var r=e.call(this,s)||this;return r.state=Oje,r}return n.prototype.componentDidCatch=function(s,r){var i=this.props.additionalProperties,a;Fb(i)?a=i(s):typeof i=="object"&&(a=i);var o=this.context.client,l=o.captureException(s,a),c=r.componentStack;this.setState({error:s,componentStack:c,exceptionEvent:l})},n.prototype.render=function(){var s=this.props,r=s.children,i=s.fallback,a=this.state;if(a.componentStack==null)return Fb(r)?r():r;var o=Fb(i)?tt.createElement(i,{error:a.error,componentStack:a.componentStack,exceptionEvent:a.exceptionEvent}):i;return tt.isValidElement(o)?o:tt.createElement(tt.Fragment,null)},n.contextType=UV,n})(tt.Component);function Kk(e,n,s,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void s(u)}l.done?n(c):Promise.resolve(c).then(r,i)}function Bje(e){return function(){var n=this,s=arguments;return new Promise(function(r,i){var a=e.apply(n,s);function o(c){Kk(a,r,i,o,l,"next",c)}function l(c){Kk(a,r,i,o,l,"throw",c)}o(void 0)})}}function Uje(e,n,s){return(n=$je(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function Yk(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function av(e){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Yk(Object(s),!0).forEach(function(r){Uje(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yk(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function HV(e,n){if(e==null)return{};var s,r,i=Vje(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],n.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Vje(e,n){if(e==null)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;s[r]=e[r]}return s}function ov(){ov=function(){return n};var e,n={},s=Object.prototype,r=s.hasOwnProperty,i=Object.defineProperty||function(R,B,U){R[B]=U.value},a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(R,B,U){return Object.defineProperty(R,B,{value:U,enumerable:!0,configurable:!0,writable:!0}),R[B]}try{u({},"")}catch{u=function(B,U,H){return B[U]=H}}function p(R,B,U,H){var $=B&&B.prototype instanceof g?B:g,q=Object.create($.prototype),Q=new D(H||[]);return i(q,"_invoke",{value:S(R,U,Q)}),q}function f(R,B,U){try{return{type:"normal",arg:R.call(B,U)}}catch(H){return{type:"throw",arg:H}}}n.wrap=p;var m="suspendedStart",h="suspendedYield",x="executing",y="completed",v={};function g(){}function b(){}function w(){}var N={};u(N,o,function(){return this});var j=Object.getPrototypeOf,_=j&&j(j(P([])));_&&_!==s&&r.call(_,o)&&(N=_);var C=w.prototype=g.prototype=Object.create(N);function F(R){["next","throw","return"].forEach(function(B){u(R,B,function(U){return this._invoke(B,U)})})}function E(R,B){function U($,q,Q,V){var ee=f(R[$],R,q);if(ee.type!=="throw"){var X=ee.arg,ae=X.value;return ae&&typeof ae=="object"&&r.call(ae,"__await")?B.resolve(ae.__await).then(function(me){U("next",me,Q,V)},function(me){U("throw",me,Q,V)}):B.resolve(ae).then(function(me){X.value=me,Q(X)},function(me){return U("throw",me,Q,V)})}V(ee.arg)}var H;i(this,"_invoke",{value:function($,q){function Q(){return new B(function(V,ee){U($,q,V,ee)})}return H=H?H.then(Q,Q):Q()}})}function S(R,B,U){var H=m;return function($,q){if(H===x)throw Error("Generator is already running");if(H===y){if($==="throw")throw q;return{value:e,done:!0}}for(U.method=$,U.arg=q;;){var Q=U.delegate;if(Q){var V=M(Q,U);if(V){if(V===v)continue;return V}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(H===m)throw H=y,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);H=x;var ee=f(R,B,U);if(ee.type==="normal"){if(H=U.done?y:h,ee.arg===v)continue;return{value:ee.arg,done:U.done}}ee.type==="throw"&&(H=y,U.method="throw",U.arg=ee.arg)}}}function M(R,B){var U=B.method,H=R.iterator[U];if(H===e)return B.delegate=null,U==="throw"&&R.iterator.return&&(B.method="return",B.arg=e,M(R,B),B.method==="throw")||U!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+U+"' method")),v;var $=f(H,R.iterator,B.arg);if($.type==="throw")return B.method="throw",B.arg=$.arg,B.delegate=null,v;var q=$.arg;return q?q.done?(B[R.resultName]=q.value,B.next=R.nextLoc,B.method!=="return"&&(B.method="next",B.arg=e),B.delegate=null,v):q:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,v)}function k(R){var B={tryLoc:R[0]};1 in R&&(B.catchLoc=R[1]),2 in R&&(B.finallyLoc=R[2],B.afterLoc=R[3]),this.tryEntries.push(B)}function I(R){var B=R.completion||{};B.type="normal",delete B.arg,R.completion=B}function D(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(k,this),this.reset(!0)}function P(R){if(R||R===""){var B=R[o];if(B)return B.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var U=-1,H=function $(){for(;++U<R.length;)if(r.call(R,U))return $.value=R[U],$.done=!1,$;return $.value=e,$.done=!0,$};return H.next=H}}throw new TypeError(typeof R+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,c,"GeneratorFunction"),n.isGeneratorFunction=function(R){var B=typeof R=="function"&&R.constructor;return!!B&&(B===b||(B.displayName||B.name)==="GeneratorFunction")},n.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,w):(R.__proto__=w,u(R,c,"GeneratorFunction")),R.prototype=Object.create(C),R},n.awrap=function(R){return{__await:R}},F(E.prototype),u(E.prototype,l,function(){return this}),n.AsyncIterator=E,n.async=function(R,B,U,H,$){$===void 0&&($=Promise);var q=new E(p(R,B,U,H),$);return n.isGeneratorFunction(B)?q:q.next().then(function(Q){return Q.done?Q.value:q.next()})},F(C),u(C,c,"Generator"),u(C,o,function(){return this}),u(C,"toString",function(){return"[object Generator]"}),n.keys=function(R){var B=Object(R),U=[];for(var H in B)U.push(H);return U.reverse(),function $(){for(;U.length;){var q=U.pop();if(q in B)return $.value=q,$.done=!1,$}return $.done=!0,$}},n.values=P,D.prototype={constructor:D,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!R)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=e)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var B=this;function U(ee,X){return q.type="throw",q.arg=R,B.next=ee,X&&(B.method="next",B.arg=e),!!X}for(var H=this.tryEntries.length-1;H>=0;--H){var $=this.tryEntries[H],q=$.completion;if($.tryLoc==="root")return U("end");if($.tryLoc<=this.prev){var Q=r.call($,"catchLoc"),V=r.call($,"finallyLoc");if(Q&&V){if(this.prev<$.catchLoc)return U($.catchLoc,!0);if(this.prev<$.finallyLoc)return U($.finallyLoc)}else if(Q){if(this.prev<$.catchLoc)return U($.catchLoc,!0)}else{if(!V)throw Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return U($.finallyLoc)}}}},abrupt:function(R,B){for(var U=this.tryEntries.length-1;U>=0;--U){var H=this.tryEntries[U];if(H.tryLoc<=this.prev&&r.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var $=H;break}}$&&(R==="break"||R==="continue")&&$.tryLoc<=B&&B<=$.finallyLoc&&($=null);var q=$?$.completion:{};return q.type=R,q.arg=B,$?(this.method="next",this.next=$.finallyLoc,v):this.complete(q)},complete:function(R,B){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&B&&(this.next=B),v},finish:function(R){for(var B=this.tryEntries.length-1;B>=0;--B){var U=this.tryEntries[B];if(U.finallyLoc===R)return this.complete(U.completion,U.afterLoc),I(U),v}},catch:function(R){for(var B=this.tryEntries.length-1;B>=0;--B){var U=this.tryEntries[B];if(U.tryLoc===R){var H=U.completion;if(H.type==="throw"){var $=H.arg;I(U)}return $}}throw Error("illegal catch attempt")},delegateYield:function(R,B,U){return this.delegate={iterator:P(R),resultName:B,nextLoc:U},this.method==="next"&&(this.arg=e),v}},n}function Hje(e,n){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function $je(e){var n=Hje(e,"string");return typeof n=="symbol"?n:n+""}var Pm={CLASSIC:"classic",V1:"v1"},zje=Pm.V1,Wje="https://cdn.paddle.com/paddle/paddle.js",Gje="https://cdn.paddle.com/paddle/v2/paddle.js",qje={url:Wje},Kje={url:Gje};function Yje(e){return document.querySelector('script[src="'.concat(e,'"]'))||void 0}function Zje(e){var n=document.createElement("script");n.src=e;var s=document.head||document.body;if(!s)throw new Error("Cannot inject Paddle.js. It needs a <head> or <body> element.");return s.appendChild(n),n}var Eb={classic:void 0,v1:void 0},Jje={classic:"PaddleClassic",v1:"PaddleBillingV1"};function Xje(e){var n,s=(n=Qje(e))===null||n===void 0?void 0:n.url;if(s){var r=Eb[e],i=Jje[e];return r!==void 0?r:(Eb[e]=new Promise(function(a,o){if(typeof window>"u"){a(void 0);return}if(window[i]){a(window[i]);return}try{var l=Yje(s);l||(l=Zje(s)),l.addEventListener("load",function(){window[i]?a(window[i]):o(new Error("Paddle.js not available"))}),l.addEventListener("error",function(){o(new Error("Failed to load Paddle.js - ".concat(e)))})}catch(c){o(c);return}}),Eb[e])}}function Qje(e){if(e===Pm.CLASSIC)return qje;if(e===Pm.V1)return Kje}var eNe=["environment","version"],tNe=["environment","version"];function nNe(e,n){var s=e.environment;e.version;var r=HV(e,eNe);try{s&&n.Environment.set(s),n.Initialized?n.Update(av({},r)):n.Initialize(av({},r))}catch{}}function sNe(e,n){var s=e.environment;e.version;var r=HV(e,tNe);try{s&&n.Environment.set(s),n.Setup(av({},r))}catch{}}var Uf;(function(e){e.CHECKOUT_LOADED="checkout.loaded",e.CHECKOUT_CLOSED="checkout.closed",e.CHECKOUT_UPDATED="checkout.updated",e.CHECKOUT_COMPLETED="checkout.completed",e.CHECKOUT_ERROR="checkout.error",e.CHECKOUT_FAILED="checkout.failed",e.CHECKOUT_ITEMS_UPDATED="checkout.items.updated",e.CHECKOUT_ITEMS_REMOVED="checkout.items.removed",e.CHECKOUT_CUSTOMER_CREATED="checkout.customer.created",e.CHECKOUT_CUSTOMER_UPDATED="checkout.customer.updated",e.CHECKOUT_CUSTOMER_REMOVED="checkout.customer.removed",e.CHECKOUT_PAYMENT_SELECTED="checkout.payment.selected",e.CHECKOUT_PAYMENT_INITIATED="checkout.payment.initiated",e.CHECKOUT_PAYMENT_FAILED="checkout.payment.failed",e.CHECKOUT_PAYMENT_ERROR="checkout.payment.error",e.CHECKOUT_DISCOUNT_APPLIED="checkout.discount.applied",e.CHECKOUT_DISCOUNT_REMOVED="checkout.discount.removed",e.CHECKOUT_UPSELL_CANCELED="checkout.upsell.canceled"})(Uf||(Uf={}));var Zk;(function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"})(Zk||(Zk={}));var Jk;(function(e){e.ALIPAY="alipay",e.APPLE_PAY="apple-pay",e.CARD="card",e.GOOGLE_PAY="google-pay",e.IDEAL="ideal",e.PAYPAL="paypal",e.WIRE_TRANSFER="wire-transfer",e.NONE="none"})(Jk||(Jk={}));var Xk;(function(e){e.AMERICAN_EXPRESS="american_express",e.DINERS_CLUB="diners_club",e.DISCOVER="discover",e.JCB="jcb",e.MADA="mada",e.MAESTRO="maestro",e.MASTER_CARD="mastercard",e.UNION_PAY="union_pay",e.VISA="visa",e.UNKNOWN="unknown"})(Xk||(Xk={}));var Qk;(function(e){e.DRAFT="draft",e.READY="ready",e.COMPLETED="completed",e.BILLED="billed",e.canceled="canceled",e.PAST_DUE="past_due"})(Qk||(Qk={}));function rNe(e){return lv.apply(this,arguments)}function lv(){return lv=Bje(ov().mark(function e(n){var s,r;return ov().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n?.version||zje,a.next=3,Xje(s);case 3:if(r=a.sent,!r){a.next=9;break}return n&&(s===Pm.V1?nNe(n,r):s===Pm.CLASSIC&&sNe(n,r)),a.abrupt("return",r);case 9:return a.abrupt("return");case 11:case"end":return a.stop()}},e)})),lv.apply(this,arguments)}const eT={SUCCESS:"success",CANCELLED:"cancelled"},Sb={SUBSCRIPTION:"subscription",PAYMENT:"payment"};let kb=!1,Tb=!1;function tT(e,n,s,r){const i=new URLSearchParams;return e&&i.set("payment_id",e),i.set("payment_status",n),i.set("mode",s),r&&i.set("organization_id",r),`${window.location.origin}/home?${i.toString()}`}function iNe(e,n,s,r,i,a){try{i?(Gx(e,n,s,r),Ox(e,n,s,r)):Wx(e,n,s,r)}catch(o){Fn(Is.PADDLE.PIXEL_TRACKING,o,{event_name:a,payment_id:n,is_subscription:i,amount:s,currency:r})}}function aNe(e){const n=e.data?.custom_data;if(e.name===Uf.CHECKOUT_LOADED){kb=!1,Tb=!1;return}if(e.name===Uf.CHECKOUT_COMPLETED){kb=!0;const s=n?.payment_id,r=n?.mode||Sb.PAYMENT,i=n?.organization_id,a=r===Sb.SUBSCRIPTION,o=n?.amount?parseFloat(n.amount):e.data?.totals?.total?e.data.totals.total/100:0,l=e.data?.currency_code||"USD",c=id(a?"subscription":"credits");c&&s&&o>0&&iNe(c,s,o,l,a,e.name||"checkout.completed"),window.location.href=tT(s,eT.SUCCESS,r,i);return}if(e.name===Uf.CHECKOUT_CLOSED&&!Tb){if(Tb=!0,kb)return;const s=n?.payment_id,r=n?.mode||Sb.PAYMENT,i=n?.organization_id;window.location.href=tT(s,eT.CANCELLED,r,i);return}}let nT;async function oNe(){if(!nT)try{nT=await rNe({token:y5.clientToken,environment:y5.environment,eventCallback:aNe})}catch(e){Fn(Is.PADDLE.INITIALIZATION,e,{environment:y5.environment,has_token:!0})}}window.__BUILD_TIME__="2026-02-02T14:31:50.106Z";window.__APP_VERSION__="1.0.303";try{LJ()}catch{}try{JQ()}catch{}try{}catch{}try{oNe()}catch{}const lNe={api_host:zT.apiHost,session_recording:{recordCrossOriginIframes:!0}};rz.createRoot(document.getElementById("root")).render(t.jsx(tt.StrictMode,{children:t.jsx(T$,{children:t.jsx(Rje,{apiKey:zT.apiKey,options:lNe,children:t.jsx(q$,{store:Ai,children:t.jsx(BV,{loading:null,persistor:KQ,children:t.jsx(Q$,{features:ez,children:t.jsx(Tje,{children:t.jsx(Iee,{children:t.jsx(kee,{children:t.jsx(woe,{children:t.jsx(Aee,{children:t.jsx(Pee,{children:t.jsx(zee,{children:t.jsx(Kce,{children:t.jsx(i9e,{children:t.jsx(Sje,{})})})})})})})})})})})})})})})}));export{HNe as $,Bp as A,Vt as B,Ide as C,zn as D,v2 as E,vue as F,Yd as G,fo as H,W as I,h8 as J,Gm as K,ma as L,Mu as M,s4e as N,Xo as O,G2e as P,dr as Q,u8 as R,Td as S,Al as T,Li as U,uo as V,im as W,Pt as X,Ni as Y,Sc as Z,ps as _,xs as a,UC as a$,by as a0,Ic as a1,Bd as a2,wl as a3,pg as a4,jr as a5,$Ne as a6,_R as a7,jR as a8,Xg as a9,WNe as aA,Tn as aB,KNe as aC,xEe as aD,Jce as aE,yt as aF,Ei as aG,xce as aH,gc as aI,RS as aJ,F2 as aK,gp as aL,_f as aM,Mn as aN,Ua as aO,$K as aP,Rn as aQ,Ix as aR,mc as aS,yc as aT,oce as aU,fEe as aV,QU as aW,kae as aX,Tae as aY,X2e as aZ,wa as a_,LQ as aa,uEe as ab,Rr as ac,Zi as ad,IU as ae,$ye as af,Jv as ag,uFe as ah,Fa as ai,Dr as aj,ZFe as ak,tEe as al,JFe as am,nEe as an,XFe as ao,QFe as ap,eEe as aq,sEe as ar,d9 as as,Ea as at,Z9 as au,By as av,BFe as aw,Er as ax,GNe as ay,bo as az,gl as b,Fve as b$,vFe as b0,qv as b1,yFe as b2,Zt as b3,bs as b4,VNe as b5,Jf as b6,Ka as b7,ni as b8,Up as b9,Gg as bA,JNe as bB,SC as bC,xFe as bD,tZ as bE,gFe as bF,eZ as bG,ts as bH,tm as bI,Lpe as bJ,Vp as bK,Sde as bL,Zd as bM,w2 as bN,pn as bO,G6 as bP,LN as bQ,kde as bR,ra as bS,G3 as bT,ID as bU,eQ as bV,QX as bW,Go as bX,la as bY,Ko as bZ,vo as b_,rEe as ba,MQ as bb,AU as bc,bEe as bd,mm as be,dEe as bf,Fn as bg,Is as bh,Ds as bi,uK as bj,ja as bk,cM as bl,qNe as bm,t_ as bn,ql as bo,Yv as bp,mY as bq,EFe as br,Q5 as bs,iFe as bt,n_ as bu,or as bv,NFe as bw,Os as bx,SFe as by,aFe as bz,Jd as c,RFe as c$,vc as c0,_a as c1,tme as c2,Il as c3,PA as c4,FC as c5,eFe as c6,oFe as c7,CC as c8,Wm as c9,BA as cA,YNe as cB,ai as cC,GK as cD,tFe as cE,nFe as cF,cY as cG,sFe as cH,gC as cI,rFe as cJ,pEe as cK,GA as cL,tD as cM,$v as cN,pY as cO,fY as cP,zm as cQ,dY as cR,uY as cS,oY as cT,jC as cU,XNe as cV,PFe as cW,OFe as cX,AFe as cY,MFe as cZ,DFe as c_,IY as ca,TY as cb,lFe as cc,SY as cd,HK as ce,Rd as cf,PY as cg,OY as ch,FFe as ci,cFe as cj,dFe as ck,jFe as cl,hEe as cm,mEe as cn,Xr as co,_Ne as cp,$q as cq,ZNe as cr,Yh as cs,zY as ct,AZ as cu,qg as cv,DZ as cw,FZ as cx,dJ as cy,ci as cz,ds as d,qr as d$,r_ as d0,IJ as d1,LFe as d2,TJ as d3,Sl as d4,zNe as d5,Nf as d6,EC as d7,pFe as d8,QNe as d9,F1 as dA,ipe as dB,VP as dC,dc as dD,uc as dE,_c as dF,Sve as dG,Hp as dH,t8 as dI,jg as dJ,Xae as dK,Qae as dL,hR as dM,noe as dN,$P as dO,Sae as dP,Ws as dQ,tr as dR,nr as dS,Xs as dT,e8 as dU,u9e as dV,GS as dW,Tde as dX,zFe as dY,qFe as dZ,KFe as d_,ZK as da,Kh as db,xC as dc,Ld as dd,dd as de,S6 as df,JK as dg,gY as dh,RY as di,OA as dj,FY as dk,kye as dl,vEe as dm,_4 as dn,xg as dp,wEe as dq,C3e as dr,VE as ds,d2 as dt,I5e as du,b9e as dv,_Ee as dw,Zxe as dx,h9e as dy,c9 as dz,ea as e,DQ as e0,iEe as e1,WJ as e2,f2 as e3,HD as e4,cQ as e5,GFe as e6,YFe as e7,CEe as e8,j4e as f,vE as g,jB as h,A as i,yn as j,z as k,cs as l,ys as m,TB as n,WFe as o,Ri as p,aQ as q,gEe as r,ei as s,g3 as t,Yxe as u,Us as v,v9e as w,ln as x,Op as y,Kd as z};
